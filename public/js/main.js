!function n(e,t,o){function r(i,l){if(!t[i]){if(!e[i]){var s="function"==typeof require&&require;if(!l&&s)return s(i,!0);if(a)return a(i,!0);var d=new Error("Cannot find module '"+i+"'");throw d.code="MODULE_NOT_FOUND",d}var c=t[i]={exports:{}};e[i][0].call(c.exports,function(n){var t=e[i][1][n];return r(t?t:n)},c,c.exports,n,e,t,o)}return t[i].exports}for(var a="function"==typeof require&&require,i=0;i<o.length;i++)r(o[i]);return r}({1:[function(n,e,t){"use strict";window.kan=window.kan||{palette:["#20171C","#1E2A43","#28377D","#352747","#F285A5","#CA2E26","#B84526","#DA6C26","#453121","#916A47","#EEB641","#F6EB16","#7F7D31","#6EAD79","#2A4621","#F4EAE0"],currentColor:"#20171C",numPaths:10,paths:[]},paper.install(window);var o=n("./util");$(document).ready(function(){function n(){e(),t(),d(),c(),u(),f(),p()}function e(){var n=$("ul.palette-colors"),e=n.find("li"),t=20,o=30,r="palette-selected";e.on("click tap touch",function(){var n=$(this).find("svg.palette-color");n.hasClass(r)||($("."+r).removeClass(r).attr("width",t).attr("height",t).find("rect").attr("rx",0).attr("ry",0),n.addClass(r).attr("width",o).attr("height",o).find("rect").attr("rx",o/2).attr("ry",o/2),window.kan.currentColor=n.find("rect").attr("fill"))})}function t(){function n(n){if(paper.project.activeLayer.removeChildren(),s=[],n.changedPointers&&n.changedPointers.length>0){n.changedPointers.length>1&&console.log("event.changedPointers > 1");var e=n.center,t=new Point(e.x,e.y);i=new Path({strokeColor:window.kan.currentColor,fillColor:window.kan.currentColor,name:"bounds"}),a=new Path({strokeColor:window.kan.currentColor,name:"middle",strokeWidth:1}),i.add(t),a.add(t)}}function e(n){n.preventDefault();for(var e=n.center,t=new Point(e.x,e.y);s.length>f;)s.shift();var r=void 0,d=void 0,h=void 0,g=void 0,w=void 0,m=void 0,C=void 0,y=void 0,P=void 0,k=void 0;if(s.length>0){C=l,P=o.delta(t,C),k=P*u,k>=c&&(k=c),p=0;for(var x=0;x<s.length;x++)p+=s[x];v=Math.round((p/s.length+k)/2),y=Math.atan2(t.y-C.y,t.x-C.x),r=t.x+Math.cos(y+Math.PI/2)*v,d=t.y+Math.sin(y+Math.PI/2)*v,h=new Point(r,d),g=t.x+Math.cos(y-Math.PI/2)*v,w=t.y+Math.sin(y-Math.PI/2)*v,m=new Point(g,w),i.add(m),i.insert(0,h),a.add(t)}else P=1,y=0,k=P*u,k>=c&&(k=c);paper.view.draw(),l=t,s.push(k)}function t(n){w=1;var e=n.center,t=new Point(e.x,e.y),r=new Group([i,a]);i.add(t),i.flatten(4),i.smooth(),i.simplify(),i.closed=!0,a.add(t),a.flatten(4),a.smooth(),a.simplify(),a.selected=!0;var l=a.getCrossings();if(l.length>0){var s=new Path;s.copyContent(a),s.visible=!1;var c=s.resolveCrossings();c.visible=!1;var u=o.findInteriorCurves(c);if(u){console.log(u);for(var f=0;f<u.length;f++)u[f].visible=!0,u[f].closed=!0,u[f].fillColor=new Color(0,0),u[f].data.interior=!0,u[f].data.transparent=!0,r.addChild(u[f])}s.remove()}r.data.color=i.fillColor,d=r}function r(n){var e=n.center,t=new Point(e.x,e.y),o=paper.project.hitTest(t,g),r=new Color(0,0);if(o){var a=o.item,i=a.parent;a.data.interior?(console.log("interior"),a.data.transparent=!a.data.transparent,a.data.transparent?(a.fillColor=r,a.strokeColor=r):(a.fillColor=i.data.color,a.strokeColor=i.data.color)):console.log("not interior")}else console.log("hit no item")}paper.setup(h[0]);var a=void 0,i=void 0,l=void 0,s=void 0,d=void 0,c=20,u=.3,f=10,p=void 0,v=void 0,g={segments:!1,stroke:!0,fill:!0,tolerance:5},w=0,m=new Hammer.Manager(h[0]);m.add(new Hammer.Pan({direction:Hammer.DIRECTION_ALL})),m.add(new Hammer.Tap({event:"doubletap",taps:2})),m.add(new Hammer.Tap({event:"singletap"})),m.on("panstart",n),m.on("panmove",e),m.on("panend",t),m.get("doubletap").recognizeWith("singletap"),m.get("singletap").requireFailure("doubletap"),m.on("singletap",function(){console.log("singleTap")}),m.on("doubletap",r)}function r(){console.log("new pressed"),paper.project.activeLayer.removeChildren()}function a(){console.log("undo pressed")}function i(){console.log("play pressed")}function l(){console.log("tips pressed")}function s(){console.log("share pressed")}function d(){$(".main-controls .new").on("click tap touch",r)}function c(){$(".main-controls .undo").on("click",a)}function u(){$(".main-controls .play").on("click",i)}function f(){$(".aux-controls .tips").on("click",l)}function p(){$(".aux-controls .share").on("click",s)}function v(){n()}var h=($(window),$("body"),$("canvas#mainCanvas"));v()})},{"./util":2}],2:[function(n,e,t){"use strict";function o(n){return n*Math.PI/180}function r(n){return 180*n/Math.PI}function a(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function i(n){for(var e=[],t=0;t<n.children.length;t++){var o=n.children[t];o.closed&&e.push(new Path(o.segments))}return n.remove(),e}Object.defineProperty(t,"__esModule",{value:!0}),t.rad=o,t.deg=r,t.delta=a,t.findInteriorCurves=i},{}]},{},[1]);
//# sourceMappingURL=maps/main.js.map
