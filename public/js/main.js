!function t(n,e,o){function r(a,c){if(!e[a]){if(!n[a]){var s="function"==typeof require&&require;if(!c&&s)return s(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=e[a]={exports:{}};n[a][0].call(u.exports,function(t){var e=n[a][1][t];return r(e?e:t)},u,u.exports,t,n,e,o)}return e[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(t,n,e){"use strict";window.kan=window.kan||{palette:["#20171C","#1E2A43","#28377D","#352747","#F285A5","#CA2E26","#B84526","#DA6C26","#453121","#916A47","#EEB641","#F6EB16","#7F7D31","#6EAD79","#2A4621","#F4EAE0"],currentColor:"#20171C",numPaths:10,paths:[]},paper.install(window),Math.rad=function(t){return t*Math.PI/180},Math.deg=function(t){return 180*t/Math.PI},$(document).ready(function(){function t(){n(),e(),l(),u(),d(),f(),h()}function n(){var t=$("ul.palette-colors"),n=t.find("li"),e=20,o=30,r="palette-selected";n.on("click tap touch",function(){var t=$(this).find("svg.palette-color");t.hasClass(r)||($("."+r).removeClass(r).attr("width",e).attr("height",e).find("rect").attr("rx",0).attr("ry",0),t.addClass(r).attr("width",o).attr("height",o).find("rect").attr("rx",o/2).attr("ry",o/2),window.kan.currentColor=t.find("rect").attr("fill"))})}function e(){function t(t){if(c=[],t.gesture.changedPointers&&t.gesture.changedPointers.length>0){t.gesture.changedPointers.length>1&&console.log("event.gesture.changedPointers > 1");var n=t.gesture.center,e=new Point(n.x,n.y);i=new Path({strokeColor:window.kan.currentColor,fillColor:window.kan.currentColor}),i.add(e)}}function n(t){t.preventDefault();for(var n=t.gesture.center,e=new Point(n.x,n.y);c.length>d;)c.shift();var r=void 0,s=void 0,p=void 0,v=void 0,g=void 0,w=void 0,m=void 0,y=void 0,C=void 0,P=void 0;if(c.length>0){m=a,C=o(e,m),P=C*u,P>=l&&(P=l),f=0;for(var x=0;x<c.length;x++)f+=c[x];h=Math.round((f/c.length+P)/2),y=Math.atan2(e.y-m.y,e.x-m.x),r=e.x+Math.cos(y+Math.PI/2)*h,s=e.y+Math.sin(y+Math.PI/2)*h,p=new Point(r,s),v=e.x+Math.cos(y-Math.PI/2)*h,g=e.y+Math.sin(y-Math.PI/2)*h,w=new Point(v,g),i.add(w),i.insert(0,p),i.smooth()}else C=1,y=0,P=C*u,P>=l&&(P=l);paper.view.draw(),a=e,c.push(P)}function e(t){g=1;var n=t.gesture.center,e=new Point(n.x,n.y);i.add(e),i.smooth(),i.simplify(0),i.closed=!0,s=i;var o=i.getCrossings();if(o&&o.length>0)for(var r=0;r<o.length;r++){var a=o[r];new Path.Circle({center:a.point,radius:3,fillColor:"pink"})}}function r(t){var n=t.gesture.center,e=new Point(n.x,n.y),o=paper.project.hitTest(e,p);o&&(o.item.selected=!o.item.selected)}paper.setup(v[0]);var i=void 0,a=void 0,c=void 0,s=void 0,l=20,u=.3,d=10,f=void 0,h=void 0,p={segments:!1,stroke:!0,fill:!0,tolerance:5},g=0;v.hammer().on("panstart",t).on("panmove",n).on("panend",e).on("tap",r),v.data("hammer").get("pan").set({direction:Hammer.DIRECTION_ALL})}function o(t,n){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function r(){console.log("new pressed"),paper.project.activeLayer.removeChildren()}function i(){console.log("undo pressed")}function a(){console.log("play pressed")}function c(){console.log("tips pressed")}function s(){console.log("share pressed")}function l(){$(".main-controls .new").on("click tap touch",r)}function u(){$(".main-controls .undo").on("click",i)}function d(){$(".main-controls .play").on("click",a)}function f(){$(".aux-controls .tips").on("click",c)}function h(){$(".aux-controls .share").on("click",s)}function p(){t()}var v=($(window),$("body"),$("canvas#mainCanvas"));p()})},{}]},{},[1]);
//# sourceMappingURL=maps/main.js.map
