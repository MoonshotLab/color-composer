!function(t){function n(e){if(o[e])return o[e].exports;var r=o[e]={exports:{},id:e,loaded:!1};return t[e].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var o={};return n.m=t,n.c=o,n.p="public",n(0)}([function(t,n,o){o(1),t.exports=o(2)},function(t,n){window.kan=window.kan||{palette:["#20171C","#1E2A43","#28377D","#352747","#F285A5","#CA2E26","#B84526","#DA6C26","#453121","#916A47","#EEB641","#F6EB16","#7F7D31","#6EAD79","#2A4621","#F4EAE0"],currentColor:"#20171C",numPaths:10,paths:[]},paper.install(window),$(document).ready(function(){function t(){n(),e(),l(),h(),f(),p(),d()}function n(){var t=$("ul.palette-colors"),n=t.find("li"),o=20,e=30,r="palette-selected";n.on("click tap touch",function(){var t=$(this).find("svg.palette-color");t.hasClass(r)||($("."+r).removeClass(r).attr("width",o).attr("height",o).find("rect").attr("rx",0).attr("ry",0),t.addClass(r).attr("width",e).attr("height",e).find("rect").attr("rx",e/2).attr("ry",e/2),window.kan.currentColor=t.find("rect").attr("fill"))})}function o(t){for(var n=[],o=0;o<t;o++)n.push(new paper.Path({strokeColor:window.kan.currentColor,strokeWidth:5}));return n}function e(){function t(t){l=!0;for(var n=0;n<t.touches.length;n++)u[n].strokeColor=window.kan.currentColor,u[n].add(new Point(t.touches[n].pageX,t.touches[n].pageY))}function n(t){if(t.preventDefault(),l){for(;s.length>p;)s.shift();for(var n=0;n<t.touches.length;n++)if(t.touches[n]){var o,e,d,w,g,v,m,k,x,C,y,M,P;if(o=t.touches[n].pageX,e=t.touches[n].pageY,C=new Point(o,e),i.length>n){x=i[n],M=r(C,x),P=M*f,P>=h&&(P=h),a=0;for(var $=0;$<s.length;$++)a+=s[$];c=Math.round((a/s.length+P)/2),y=Math.atan2(C.y-x.y,C.x-x.x),d=o+Math.cos(y+Math.PI/2)*c,w=e+Math.sin(y+Math.PI/2)*c,g=new Point(d,w),v=o+Math.cos(y-Math.PI/2)*c,m=e+Math.sin(y-Math.PI/2)*c,k=new Point(v,m),u[n].add(C),u[n].smooth({type:"continuous"})}else M=1,y=0,P=M*f,P>=h&&(P=h);paper.view.draw(),i[n]=C,s.push(P)}}}function e(t){l=!1,console.log(t);for(var n=0;n<u.length;n++)u[n].segments.length>0?(u[n].smooth({type:"continuous"}),u[n].simplify(),console.log(u[n])):u[n].remove();u=o(window.kan.numPaths),i=[],s=[]}paper.setup(g[0]);var a,c,i=[],s=[],u=o(window.kan.numPaths),l=!1,h=20,f=1,p=10;g.on("touchstart",t),g.on("touchmove",n),g.on("touchend",e)}function r(t,n){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function a(){console.log("new pressed"),moves=[]}function c(){console.log("undo pressed")}function i(){console.log("play pressed")}function s(){console.log("tips pressed")}function u(){console.log("share pressed")}function l(){$(".main-controls .new").on("click tap touch",a)}function h(){$(".main-controls .undo").on("click",c)}function f(){$(".main-controls .play").on("click",i)}function p(){$(".aux-controls .tips").on("click",s)}function d(){$(".aux-controls .share").on("click",u)}function w(){t()}var g=($(window),$("body"),$("canvas#mainCanvas"));w()})},function(t,n){}]);