!function(n){function t(o){if(e[o])return e[o].exports;var r=e[o]={exports:{},id:o,loaded:!1};return n[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var e={};return t.m=n,t.c=e,t.p="public",t(0)}([function(n,t,e){e(1),n.exports=e(2)},function(n,t){window.kan=window.kan||{palette:["#20171C","#1E2A43","#28377D","#352747","#F285A5","#CA2E26","#B84526","#DA6C26","#453121","#916A47","#EEB641","#F6EB16","#7F7D31","#6EAD79","#2A4621","#F4EAE0"],currentColor:"#20171C",numPaths:10,paths:[]},paper.install(window),$(document).ready(function(){function n(){t(),o(),h(),f(),d(),u(),p()}function t(){var n=$("ul.palette-colors"),t=n.find("li"),e=20,o=30,r="palette-selected";t.on("click tap touch",function(){var n=$(this).find("svg.palette-color");n.hasClass(r)||($("."+r).removeClass(r).attr("width",e).attr("height",e).find("rect").attr("rx",0).attr("ry",0),n.addClass(r).attr("width",o).attr("height",o).find("rect").attr("rx",o/2).attr("ry",o/2),window.kan.currentColor=n.find("rect").attr("fill"))})}function e(n){for(var t=[],e=0;e<n;e++){var o=new paper.CompoundPath({children:[new paper.Path,new paper.Path({strokeColor:"#ffffff"}),new paper.Path]});o.strokeWidth=1,o.children[0].strokeColor="#ffffff",o.children[1].strokeColor="#ffffff",o.children[2].strokeColor="#ffffff",o.selected=!0,t.push(o)}return t}function o(){function n(n){h=!0;for(var t=0;t<n.touches.length;t++)for(var e=0;e<l[t].children.length;e++)l[t].children[e].add(new Point(n.touches[t].pageX,n.touches[t].pageY))}function t(n){if(n.preventDefault(),h){for(;s.length>u;)s.shift();for(var t=0;t<n.touches.length;t++){var e,o,p,g,w,v,m,k,x,C,P,M,$;if(e=n.touches[t].pageX,o=n.touches[t].pageY,C=new Point(e,o),i.length>t){x=i[t],M=r(C,x),$=M*d,$>=f&&($=f),a=0;for(var y=0;y<s.length;y++)a+=s[y];c=Math.round((a/s.length+$)/2),P=Math.atan2(C.y-x.y,C.x-x.x),p=e+Math.cos(P+Math.PI/2)*c,g=o+Math.sin(P+Math.PI/2)*c,w=new Point(p,g),v=e+Math.cos(P-Math.PI/2)*c,m=o+Math.sin(P-Math.PI/2)*c,k=new Point(v,m),l[t].children[0].add(w),l[t].children[1].add(C),l[t].children[2].add(k)}else M=1,P=0,$=M*d,$>=f&&($=f);paper.view.draw(),i[t]=C,s.push($)}}}function o(n){h=!1;for(var t=0;t<l.length;t++)for(var o=0;o<l[t].children.length;o++)if(l[t].children[o].segments.length&&1!==o){l[t].children[o].segments[l[t].children[o].segments.length-1]=l[t].children[1].segments[l[t].children[1].segments.length-1],console.log("--------------------------");for(var r=0;r<l[t].children[o].segments.length;r++)console.log(l[t].children[o].segments[r].point.x,l[t].children[o].segments[r].point.y);console.log("--------------------------")}l=e(window.kan.numPaths),i=[],s=[]}paper.setup(w[0]);var a,c,i=[],s=[],l=e(window.kan.numPaths),h=!1,f=20,d=1,u=10;w.on("touchstart",n),w.on("touchmove",t),w.on("touchend",o)}function r(n,t){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))}function a(){console.log("new pressed"),moves=[]}function c(){console.log("undo pressed")}function i(){console.log("play pressed")}function s(){console.log("tips pressed")}function l(){console.log("share pressed")}function h(){$(".main-controls .new").on("click tap touch",a)}function f(){$(".main-controls .undo").on("click",c)}function d(){$(".main-controls .play").on("click",i)}function u(){$(".aux-controls .tips").on("click",s)}function p(){$(".aux-controls .share").on("click",l)}function g(){n()}var w=($(window),$("body"),$("canvas#mainCanvas"));g()})},function(n,t){}]);