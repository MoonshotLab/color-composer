!function e(n,t,o){function r(i,l){if(!t[i]){if(!n[i]){var s="function"==typeof require&&require;if(!l&&s)return s(i,!0);if(a)return a(i,!0);var d=new Error("Cannot find module '"+i+"'");throw d.code="MODULE_NOT_FOUND",d}var c=t[i]={exports:{}};n[i][0].call(c.exports,function(e){var t=n[i][1][e];return r(t?t:e)},c,c.exports,e,n,t,o)}return t[i].exports}for(var a="function"==typeof require&&require,i=0;i<o.length;i++)r(o[i]);return r}({1:[function(e,n,t){"use strict";window.kan=window.kan||{palette:["#20171C","#1E2A43","#28377D","#352747","#F285A5","#CA2E26","#B84526","#DA6C26","#453121","#916A47","#EEB641","#F6EB16","#7F7D31","#6EAD79","#2A4621","#F4EAE0"],currentColor:"#20171C",numPaths:10,paths:[]},paper.install(window);var o=e("./util");$(document).ready(function(){function e(){n(),t(),d(),c(),u(),f(),p()}function n(){var e=$("ul.palette-colors"),n=e.find("li"),t=20,o=30,r="palette-selected";n.on("click tap touch",function(){var e=$(this).find("svg.palette-color");e.hasClass(r)||($("."+r).removeClass(r).attr("width",t).attr("height",t).find("rect").attr("rx",0).attr("ry",0),e.addClass(r).attr("width",o).attr("height",o).find("rect").attr("rx",o/2).attr("ry",o/2),window.kan.currentColor=e.find("rect").attr("fill"))})}function t(){function e(e){if(s=[],e.changedPointers&&e.changedPointers.length>0){e.changedPointers.length>1&&console.log("event.changedPointers > 1");var n=e.center,t=new Point(n.x,n.y);i=new Path({strokeColor:window.kan.currentColor,fillColor:window.kan.currentColor,name:"bounds"}),a=new Path({strokeColor:window.kan.currentColor,name:"middle",strokeWidth:1}),i.add(t),a.add(t)}}function n(e){e.preventDefault();for(var n=e.center,t=new Point(n.x,n.y);s.length>f;)s.shift();var r=void 0,d=void 0,v=void 0,g=void 0,w=void 0,m=void 0,C=void 0,P=void 0,y=void 0,k=void 0;if(s.length>0){C=l,y=o.delta(t,C),k=y*u,k>=c&&(k=c),p=0;for(var x=0;x<s.length;x++)p+=s[x];h=Math.round((p/s.length+k)/2),P=Math.atan2(t.y-C.y,t.x-C.x),r=t.x+Math.cos(P+Math.PI/2)*h,d=t.y+Math.sin(P+Math.PI/2)*h,v=new Point(r,d),g=t.x+Math.cos(P-Math.PI/2)*h,w=t.y+Math.sin(P-Math.PI/2)*h,m=new Point(g,w),i.add(m),i.insert(0,v),a.add(t)}else y=1,P=0,k=y*u,k>=c&&(k=c);paper.view.draw(),l=t,s.push(k)}function t(e){m=1;var n=e.center,t=new Point(n.x,n.y),r=new Group([i,a]);i.add(t),i.flatten(4),i.smooth(),i.simplify(),i.closed=!0,a.add(t),a.flatten(4),a.smooth(),a.simplify();var l=a.getCrossings();if(l.length>0){var s=new Path;s.copyContent(a),s.visible=!1;var c=s.resolveCrossings();c.visible=!1;var u=o.findInteriorCurves(c);if(u)for(var f=0;f<u.length;f++)u[f].visible=!0,u[f].closed=!0,u[f].fillColor=new Color(0,0),u[f].data.interior=!0,u[f].data.transparent=!0,r.addChild(u[f]);s.remove()}r.data.color=i.fillColor,d=r,g&&r.animate([{properties:{scale:.9},settings:{duration:100,easing:"easeOut"}},{properties:{scale:1.11},settings:{duration:100,easing:"easeIn"}}])}function r(e){var n=e.center,t=new Point(n.x,n.y),o=paper.project.hitTest(t,w),r=new Color(0,0);if(o){var a=o.item,i=a.parent;a.data.interior?(console.log("interior"),a.data.transparent=!a.data.transparent,a.data.transparent?(a.fillColor=r,a.strokeColor=r):(a.fillColor=i.data.color,a.strokeColor=i.data.color)):console.log("not interior")}else console.log("hit no item")}paper.setup(v[0]);var a=void 0,i=void 0,l=void 0,s=void 0,d=void 0,c=20,u=.3,f=10,p=void 0,h=void 0,w={segments:!1,stroke:!0,fill:!0,tolerance:5},m=0,C=new Hammer.Manager(v[0]);C.add(new Hammer.Pan({direction:Hammer.DIRECTION_ALL})),C.add(new Hammer.Tap({event:"doubletap",taps:2})),C.add(new Hammer.Tap({event:"singletap"})),C.on("panstart",e),C.on("panmove",n),C.on("panend",t),C.get("doubletap").recognizeWith("singletap"),C.get("singletap").requireFailure("doubletap"),C.on("singletap",function(){console.log("singleTap")}),C.on("doubletap",r)}function r(){console.log("new pressed"),paper.project.activeLayer.removeChildren()}function a(){console.log("undo pressed")}function i(){console.log("play pressed")}function l(){console.log("tips pressed")}function s(){console.log("share pressed")}function d(){$(".main-controls .new").on("click tap touch",r)}function c(){$(".main-controls .undo").on("click",a)}function u(){$(".main-controls .play").on("click",i)}function f(){$(".aux-controls .tips").on("click",l)}function p(){$(".aux-controls .share").on("click",s)}function h(){e()}var v=($(window),$("body"),$("canvas#mainCanvas")),g=!0;h()})},{"./util":2}],2:[function(e,n,t){"use strict";function o(e){return e*Math.PI/180}function r(e){return 180*e/Math.PI}function a(e,n){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function i(e){for(var n=[],t=0;t<e.children.length;t++){var o=e.children[t];o.closed&&n.push(new Path(o.segments))}return e.remove(),n}function l(e){var n=(e._namedChildren.bounds[0],e._namedChildren.middle[0]),t=new Path;t.copyContent(n),t.visible=!1;var o=t.resolveCrossings();o.visible=!1,Base.each(o.children,function(e,n){e.closed?e.selected=!1:e.selected=!0,console.log(e,n)})}function s(e){console.log(group)}Object.defineProperty(t,"__esModule",{value:!0}),t.rad=o,t.deg=r,t.delta=a,t.findInteriorCurves=i,t.trueGroup=l,t.truePath=s},{}]},{},[1]);
//# sourceMappingURL=maps/main.js.map
