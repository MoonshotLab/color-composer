!function e(n,t,o){function r(d,a){if(!t[d]){if(!n[d]){var l="function"==typeof require&&require;if(!a&&l)return l(d,!0);if(i)return i(d,!0);var c=new Error("Cannot find module '"+d+"'");throw c.code="MODULE_NOT_FOUND",c}var s=t[d]={exports:{}};n[d][0].call(s.exports,function(e){var t=n[d][1][e];return r(t?t:e)},s,s.exports,e,n,t,o)}return t[d].exports}for(var i="function"==typeof require&&require,d=0;d<o.length;d++)r(o[d]);return r}({1:[function(e,n,t){"use strict";window.kan=window.kan||{palette:["#20171C","#1E2A43","#28377D","#352747","#F285A5","#CA2E26","#B84526","#DA6C26","#453121","#916A47","#EEB641","#F6EB16","#7F7D31","#6EAD79","#2A4621","#F4EAE0"],currentColor:"#20171C",numPaths:10,paths:[]},paper.install(window);var o=e("./util");$(document).ready(function(){function e(){n(),t(),c(),s(),u(),h(),f()}function n(){var e=$("ul.palette-colors"),n=e.find("li"),t=20,o=30,r="palette-selected";n.on("click tap touch",function(){var e=$(this).find("svg.palette-color");e.hasClass(r)||($("."+r).removeClass(r).attr("width",t).attr("height",t).find("rect").attr("rx",0).attr("ry",0),e.addClass(r).attr("width",o).attr("height",o).find("rect").attr("rx",o/2).attr("ry",o/2),window.kan.currentColor=e.find("rect").attr("fill"))})}function t(){function e(e){if(a=[],e.gesture.changedPointers&&e.gesture.changedPointers.length>0){e.gesture.changedPointers.length>1&&console.log("event.gesture.changedPointers > 1");var n=e.gesture.center,t=new Point(n.x,n.y);i=new CompoundPath({children:[new Path({name:"bounds"}),new Path({name:"middle"})],strokeColor:window.kan.currentColor,fillColor:window.kan.currentColor}),i.children.bounds.add(t),i.children.middle.add(t),i.children.middle.visible=!1}}function n(e){e.preventDefault();for(var n=e.gesture.center,t=new Point(n.x,n.y);a.length>u;)a.shift();var r=void 0,l=void 0,v=void 0,p=void 0,g=void 0,m=void 0,w=void 0,y=void 0,P=void 0,x=void 0;if(a.length>0){w=d,P=o.delta(t,w),x=P*s,x>=c&&(x=c),h=0;for(var C=0;C<a.length;C++)h+=a[C];f=Math.round((h/a.length+x)/2),y=Math.atan2(t.y-w.y,t.x-w.x),r=t.x+Math.cos(y+Math.PI/2)*f,l=t.y+Math.sin(y+Math.PI/2)*f,v=new Point(r,l),p=t.x+Math.cos(y-Math.PI/2)*f,g=t.y+Math.sin(y-Math.PI/2)*f,m=new Point(p,g),i.children.bounds.add(m),i.children.bounds.insert(0,v),i.children.bounds.smooth(),i.children.middle.add(t)}else P=1,y=0,x=P*s,x>=c&&(x=c);paper.view.draw(),d=t,a.push(x)}function t(e){g=1;var n=e.gesture.center,t=new Point(n.x,n.y);i.children.bounds.add(t),i.children.bounds.smooth(),i.children.bounds.simplify(0),i.children.bounds.closed=!0,i.children.middle.add(t),i.children.middle.smooth(),i.children.middle.closed=!1,l=i;var o=i.children.middle.getCrossings();if(o&&o.length>0)for(var r=0;r<o.length;r++){console.log("----------------");var d=o[r],a=i.children.middle.getLocationOf(d.point);console.log(a);var c=a.curve.index+1;console.log(c)}for(var s=0;s<i.children.middle.segments.length;s++){i.children.middle.segments[s]}}function r(e){var n=e.gesture.center,t=new Point(n.x,n.y),o=paper.project.hitTest(t,v);o&&(o.item.selected=!o.item.selected)}paper.setup(p[0]);var i=void 0,d=void 0,a=void 0,l=void 0,c=20,s=.3,u=10,h=void 0,f=void 0,v={segments:!1,stroke:!0,fill:!0,tolerance:5},g=0;p.hammer().on("panstart",e).on("panmove",n).on("panend",t).on("tap",r),p.data("hammer").get("pan").set({direction:Hammer.DIRECTION_ALL})}function r(){console.log("new pressed"),paper.project.activeLayer.removeChildren()}function i(){console.log("undo pressed")}function d(){console.log("play pressed")}function a(){console.log("tips pressed")}function l(){console.log("share pressed")}function c(){$(".main-controls .new").on("click tap touch",r)}function s(){$(".main-controls .undo").on("click",i)}function u(){$(".main-controls .play").on("click",d)}function h(){$(".aux-controls .tips").on("click",a)}function f(){$(".aux-controls .share").on("click",l)}function v(){e()}var p=($(window),$("body"),$("canvas#mainCanvas"));v()})},{"./util":2}],2:[function(e,n,t){"use strict";function o(e){return e*Math.PI/180}function r(e){return 180*e/Math.PI}function i(e,n){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}Object.defineProperty(t,"__esModule",{value:!0}),t.rad=o,t.deg=r,t.delta=i},{}]},{},[1]);
//# sourceMappingURL=maps/main.js.map
