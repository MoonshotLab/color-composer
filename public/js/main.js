!function(t){function n(o){if(e[o])return e[o].exports;var r=e[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var e={};return n.m=t,n.c=e,n.p="public",n(0)}([function(t,n,e){e(1),t.exports=e(2)},function(t,n){window.kan=window.kan||{palette:["#20171C","#1E2A43","#28377D","#352747","#F285A5","#CA2E26","#B84526","#DA6C26","#453121","#916A47","#EEB641","#F6EB16","#7F7D31","#6EAD79","#2A4621","#F4EAE0"],currentColor:"#20171C",numPaths:10,paths:[]},paper.install(window),Math.rad=function(t){return t*Math.PI/180},Math.deg=function(t){return 180*t/Math.PI},$(document).ready(function(){function t(){n(),e(),l(),u(),d(),h(),p()}function n(){var t=$("ul.palette-colors"),n=t.find("li"),e=20,o=30,r="palette-selected";n.on("click tap touch",function(){var t=$(this).find("svg.palette-color");t.hasClass(r)||($("."+r).removeClass(r).attr("width",e).attr("height",e).find("rect").attr("rx",0).attr("ry",0),t.addClass(r).attr("width",o).attr("height",o).find("rect").attr("rx",o/2).attr("ry",o/2),window.kan.currentColor=t.find("rect").attr("fill"))})}function e(){function t(t){if(c=[],t.gesture.changedPointers&&t.gesture.changedPointers.length>0){t.gesture.changedPointers.length>1&&console.log("event.gesture.changedPointers > 1");var n=t.gesture.center,e=new Point(n.x,n.y);a=new Path({strokeColor:window.kan.currentColor,fillColor:window.kan.currentColor}),a.add(e)}}function n(t){t.preventDefault();for(var n=t.gesture.center,e=new Point(n.x,n.y);c.length>p;)c.shift();var r,s,f,g,w,v,m,x,C,P;if(c.length>0){m=i,C=o(e,m),P=C*h,P>=d&&(P=d),l=0;for(var y=0;y<c.length;y++)l+=c[y];u=Math.round((l/c.length+P)/2),x=Math.atan2(e.y-m.y,e.x-m.x),r=e.x+Math.cos(x+Math.PI/2)*u,s=e.y+Math.sin(x+Math.PI/2)*u,f=new Point(r,s),g=e.x+Math.cos(x-Math.PI/2)*u,w=e.y+Math.sin(x-Math.PI/2)*u,v=new Point(g,w),a.add(v),a.insert(0,f),a.smooth()}else C=1,x=0,P=C*h,P>=d&&(P=d);paper.view.draw(),i=e,c.push(P)}function e(t){w=1;var n=t.gesture.center,e=new Point(n.x,n.y);a.add(e),a.smooth(),a.simplify(0),a.closed=!0,s=a;var o=a.getCrossings();if(o&&o.length>0)for(var r=0;r<o.length;r++){var i=o[r];new Path.Circle({center:i.point,radius:3,fillColor:"pink"})}}function r(t){var n=t.gesture.center,e=new Point(n.x,n.y),o=paper.project.hitTest(e,f);o&&(o.item.selected=!o.item.selected)}paper.setup(g[0]);var a,i,c,s,l,u,d=20,h=.3,p=10,f={segments:!1,stroke:!0,fill:!0,tolerance:5},w=0;g.hammer().on("panstart",t).on("panmove",n).on("panend",e).on("tap",r),g.data("hammer").get("pan").set({direction:Hammer.DIRECTION_ALL})}function o(t,n){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function r(){console.log("new pressed"),moves=[],paper.project.activeLayer.removeChildren()}function a(){console.log("undo pressed")}function i(){console.log("play pressed")}function c(){console.log("tips pressed")}function s(){console.log("share pressed")}function l(){$(".main-controls .new").on("click tap touch",r)}function u(){$(".main-controls .undo").on("click",a)}function d(){$(".main-controls .play").on("click",i)}function h(){$(".aux-controls .tips").on("click",c)}function p(){$(".aux-controls .share").on("click",s)}function f(){t()}var g=($(window),$("body"),$("canvas#mainCanvas"));f()})},function(t,n){}]);