{"version":3,"sources":["main.bundle.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","after","count","callback","err_cb","proxy","err","result","bail","noop","2","arraybuffer","start","end","bytes","byteLength","slice","ArrayBuffer","abv","Uint8Array","ii","buffer","3","./lib/axios","4","process","utils","settle","buildURL","parseHeaders","isURLSameOrigin","createError","btoa","window","bind","config","Promise","resolve","reject","requestData","data","requestHeaders","headers","isFormData","request","XMLHttpRequest","loadEvent","xDomain","env","NODE_ENV","XDomainRequest","url","onprogress","ontimeout","auth","username","password","Authorization","open","method","toUpperCase","params","paramsSerializer","timeout","readyState","status","responseURL","indexOf","responseHeaders","getAllResponseHeaders","responseData","responseType","response","responseText","statusText","onerror","isStandardBrowserEnv","cookies","xsrfValue","withCredentials","xsrfCookieName","read","undefined","xsrfHeaderName","forEach","val","key","toLowerCase","setRequestHeader","onDownloadProgress","addEventListener","onUploadProgress","upload","cancelToken","promise","then","cancel","abort","send","this","../core/createError","./../core/settle","./../helpers/btoa","./../helpers/buildURL","./../helpers/cookies","./../helpers/isURLSameOrigin","./../helpers/parseHeaders","./../utils","_process","5","createInstance","defaultConfig","context","Axios","instance","prototype","extend","defaults","axios","create","instanceConfig","merge","Cancel","CancelToken","isCancel","all","promises","spread","default","./cancel/Cancel","./cancel/CancelToken","./cancel/isCancel","./core/Axios","./defaults","./helpers/bind","./helpers/spread","./utils","6","message","toString","__CANCEL__","7","executor","TypeError","resolvePromise","token","reason","throwIfRequested","source","c","./Cancel","8","value","9","interceptors","InterceptorManager","dispatchRequest","isAbsoluteURL","combineURLs","arguments","baseURL","chain","interceptor","unshift","fulfilled","rejected","push","shift","./../defaults","./../helpers/combineURLs","./../helpers/isAbsoluteURL","./InterceptorManager","./dispatchRequest","10","handlers","use","eject","id","fn","h","11","enhanceError","error","./enhanceError","12","throwIfCancellationRequested","transformData","transformRequest","common","adapter","transformResponse","../cancel/isCancel","../defaults","./transformData","13","14","validateStatus","./createError","15","fns","16","setContentTypeIfUnset","isUndefined","normalizeHeaderName","DEFAULT_CONTENT_TYPE","Content-Type","isArrayBuffer","isStream","isFile","isBlob","isArrayBufferView","isURLSearchParams","isObject","JSON","stringify","replace","parse","maxContentLength","Accept","./adapters/http","./adapters/xhr","./helpers/normalizeHeaderName","17","thisArg","args","Array","apply","18","E","input","block","charCode","str","String","output","idx","map","chars","charAt","charCodeAt","name","19","encode","encodeURIComponent","serializedParams","parts","isArray","v","isDate","toISOString","join","20","relativeURL","21","write","expires","path","domain","secure","cookie","isNumber","Date","toGMTString","isString","document","match","RegExp","decodeURIComponent","remove","now","22","test","23","resolveURL","href","msie","urlParsingNode","setAttribute","protocol","host","search","hash","hostname","port","pathname","originURL","navigator","userAgent","createElement","location","requestURL","parsed","24","normalizedName","../utils","25","split","line","trim","substr","26","arr","27","FormData","isView","isFunction","pipe","URLSearchParams","obj","Object","hasOwnProperty","assignValue","b","28","Backoff","opts","ms","min","max","factor","jitter","attempts","duration","Math","pow","rand","random","deviation","floor","reset","setMin","setMax","setJitter","29","lookup","len","base64","substring","decode","encoded1","encoded2","encoded3","encoded4","bufferLength","p","30","global","mapArrayBufferViews","ary","chunk","buf","copy","set","byteOffset","BlobBuilderConstructor","options","bb","BlobBuilder","append","getBlob","type","BlobConstructor","Blob","WebKitBlobBuilder","MSBlobBuilder","MozBlobBuilder","blobSupported","size","blobSupportsArrayBufferView","blobBuilderSupported","self","31","define","amd","_dereq_","any","ret","SomePromiseArray","setHowMany","setUnwrap","init","_SomePromiseArray","Async","_customScheduler","_isTickUsed","_lateQueue","Queue","_normalQueue","_haveDrainedQueues","_trampolineEnabled","drainQueues","_drainQueues","_schedule","schedule","AsyncInvokeLater","receiver","arg","_queueTick","AsyncInvoke","AsyncSettlePromises","_pushOne","firstLineError","util","setScheduler","prev","hasCustomScheduler","enableTrampoline","disableTrampolineIfNecessary","hasDevTools","haveItemsQueued","fatalError","isNode","stderr","stack","exit","throwLater","setTimeout","invokeLater","invoke","settlePromises","_settlePromises","_drainQueue","queue","_reset","./queue","./schedule","./util","INTERNAL","tryConvertToPromise","debug","calledBind","rejectThis","_","_reject","targetRejected","promiseRejectionQueued","bindingPromise","_then","bindingResolved","_bitField","_resolveCallback","target","bindingRejected","_propagateFrom","propagateFromFunction","_boundValue","boundValueFunction","maybePromise","_target","_setBoundTo","_setOnCancel","_boundTo","_isBound","noConflict","bluebird","old","./promise","cr","callerCache","getterCache","ensureMethod","methodName","classString","caller","pop","namedGetter","indexedGetter","index","getGetter","canEvaluate","isIdentifier","get","propertyName","getter","isIndex","maybeGetter","PromiseArray","apiRejection","tryCatch","errorObj","async","_async","cancellation","_warn","child","_isCancellable","_cancelBy","_isFollowing","_followee","_cancelBranched","parent","_cancellationParent","_setWillBeCancelled","_branchHasCancelled","_branchesRemainingToCancel","_enoughBranchesHaveCancelled","canceller","_invokeOnCancel","_cancel","_setCancelled","_cancelPromises","_length","_unsetOnCancel","_onCancelField","isPending","_isCancelled","isCancellable","isCancelled","_doInvokeOnCancel","onCancelCallback","internalOnly","_attachExtraTrace","_resultCancelled","_onCancel","_invokeInternalOnCancel","NEXT_FILTER","catchFilter","instances","cb","boundTo","predicateLoop","item","matchesPredicate","keys","getKeys","j","./es5","Context","_trace","CapturedTrace","peekContext","createContext","longStackTraces","lastIndex","contextStack","_promiseCreated","_pushContext","_popContext","_peekContext","trace","deactivateLongStackTraces","activateLongStackTraces","Promise_pushContext","Promise_popContext","Promise_PeekContext","Promise_peekContext","Promise_promiseCreated","ctx","generatePromiseLifecycleEventObject","defaultFireEvent","cancellationExecute","onCancel","_attachCancellationCallback","cancellationAttachCancellationCallback","previousOnCancel","cancellationOnCancel","cancellationSetOnCancel","cancellationClearCancellationData","cancellationPropagateFrom","flags","branchesRemainingToCancel","bindingPropagateFrom","isFulfilled","longStackTracesCaptureStackTrace","longStackTracesAttachExtraTrace","ignoreSelf","canAttachTrace","_parent","attachExtraTrace","__stackCleaned__","parseStackAndMessage","notEnumerableProp","checkForgottenReturns","returnValue","promiseCreated","wForgottenReturn","_returnedNonUndefined","handlerLine","creatorLine","traceLines","cleanStack","nodeFramePattern","lineMatches","parseLinePattern","firstUserLine","msg","deprecated","replacement","warn","shouldUseOwnTrace","warnings","warning","Warning","activeFireEvent","formatAndLogError","reconstructStack","stacks","removeDuplicateOrEmptyJumps","splice","removeCommonRoots","current","currentLastIndex","currentLastLine","commonRootMeetPoint","isTraceLine","stackFramePattern","isInternalFrame","shouldIgnore","indentStackFrames","stackFramesAsArray","title","isSoft","console","formatStack","printWarning","log","fireRejectionEvent","localHandler","localEventFired","formatNonError","snip","maxChars","longStackTracesIsSupported","captureStackTrace","parseLineInfo","matches","parseLineInfoRegex","fileName","parseInt","setBounds","lastLineError","firstFileName","lastFileName","firstStackLines","lastStackLines","firstIndex","bluebirdFramePattern","info","_promisesCreated","uncycle","unhandledRejectionHandled","possiblyUnhandledRejection","getDomain","_getDomain","debugging","suppressUnhandledRejections","_ensurePossibleRejectionHandled","_setRejectionIsUnhandled","_notifyUnhandledRejection","_notifyUnhandledRejectionIsHandled","_setReturnedNonUndefined","_isRejectionUnhandled","_settledValue","_setUnhandledRejectionIsNotified","_unsetUnhandledRejectionIsNotified","_isUnhandledRejectionNotified","_unsetRejectionIsUnhandled","onPossiblyUnhandledRejection","domainBind","onUnhandledRejectionHandled","disableLongStackTraces","Promise_captureStackTrace","_captureStackTrace","Promise_attachExtraTrace","hasLongStackTraces","fireDomEvent","CustomEvent","event","dispatchEvent","domEvent","detail","cancelable","Event","createEvent","initCustomEvent","fireGlobalEvent","emit","eventToObjectGenerator","promiseFulfilled","promiseRejected","promiseResolved","promiseCancelled","promiseChained","unhandledRejection","rejectionHandled","globalEventFired","domEventFired","warningsOption","_clearCancellationData","_execute","monitoring","_fireEvent","handler","inherits","nodes","stackToIndex","node","currentStack","cycleEdgeNode","currentChildLength","v8stackFormatter","stackTraceLimit","ignoreUntil","hasStackAfterThrow","isTTY","color","./errors","returner","thrower","thenReturn","thenThrow","catchThrow","_reason","caught","catchReturn","_value","promiseAllThis","PromiseAll","PromiseMapSeries","PromiseReduce","reduce","each","mapSeries","subError","nameProperty","defaultMessage","SubError","constructor","OperationalError","cause","_TypeError","_RangeError","es5","Objectfreeze","freeze","CancellationError","TimeoutError","AggregateError","RangeError","methods","defineProperty","configurable","writable","enumerable","level","indent","lines","errorTypes","RejectionError","isES5","getDescriptor","getOwnPropertyDescriptor","names","getOwnPropertyNames","getPrototypeOf","propertyIsWritable","prop","descriptor","has","proto","ObjectKeys","ObjectGetDescriptor","ObjectDefineProperty","desc","ObjectFreeze","ObjectGetPrototypeOf","ArrayIsArray","PromiseMap","filter","PassThroughHandlerContext","called","cancelPromise","FinallyHandlerCancelReaction","finallyHandler","checkCancel","succeed","fail","reasonOrValue","isFinallyHandler","isRejected","_passThrough","success","lastly","tap","tapCatch","handlerOrPredicate","catchInstances","./catch_filter","Proxyable","promiseFromYieldHandler","yieldHandlers","traceParent","PromiseSpawn","generatorFunction","yieldHandler","internal","_finallyPromise","_promise","_stack","_generatorFunction","_receiver","_generator","_yieldHandlers","concat","_yieldedPromise","_cancellationPhase","errors","_isResolved","_cleanup","_fulfill","_promiseCancelled","implementsReturn","coroutine","returnSentinel","_continue","_promiseFulfilled","next","_promiseRejected","_run","_rejectCallback","done","bitField","_proxy","PromiseSpawn$","generator","spawn","addYieldHandler","last","MappingPromiseArray","limit","_filter","constructor$","_callback","_preservedValues","_limit","_inFlight","_queue","_asyncInit","concurrency","isFinite","_init$","_init","values","_values","preservedValues","_totalResolved","_resolve","booleans","_resolveFromSyncValue","attempt","isUntypedError","wrapAsOperationalError","rErrorKey","markAsOriginatingFromRejection","nodebackForPromise","multiArgs","wrapped","maybeWrapAsError","spreadAdapter","nodeback","successAdapter","errorAdapter","newReason","asCallback","nodeify","check","_fulfillmentHandler0","_rejectionHandler0","_promise0","_receiver0","_resolveFromExecutor","deferResolve","deferReject","fillTypes","makeSelfResolutionError","reflectHandler","PromiseInspection","UNDEFINED_BINDING","APPLY","reflect","didFulfill","didReject","_setIsFinal","toJSON","fulfillmentValue","rejectionReason","originatesFromRejection","getNewLibraryCopy","is","fromNode","fromCallback","_isFateSealed","_setAsyncGuaranteed","cast","_setFulfilled","internalData","haveInternalData","settler","_settlePromiseCtx","_settlePromiseLateCancellationObserver","_addCallbacks","_setLength","_setRejected","_setFollowing","_isFinal","_unsetCancelled","_receiverAt","_promiseAt","_fulfillmentHandlerAt","_rejectionHandlerAt","_migrateCallback0","follower","fulfill","_migrateCallbackAt","base","proxyable","shouldBind","_setFollowee","synchronous","ignoreNonErrorWarnings","ensureErrorObject","hasStack","_settlePromiseFromHandler","x","_settlePromise","isPromise","asyncGuaranteed","_settlePromise0","_clearCallbackDataAtIndex","_fulfillPromises","_rejectPromises","defer","pending","version","toFastProperties","./any.js","./async","./bind","./call_get.js","./cancel","./context","./debuggability","./direct_resolve","./each.js","./filter.js","./finally","./generators.js","./join","./map.js","./method","./nodeback","./nodeify.js","./promise_array","./promisify.js","./props.js","./race.js","./reduce.js","./settle.js","./some.js","./synchronous_inspection","./thenables","./timers.js","./using.js","toResolutionValue","Map","resolveValueIfEmpty","asArray","_resolveEmptyArray","_iterate","getActualLength","shouldCopyValues","isResolved","propsFilter","noCopyPropsPattern","isPromisified","__isPromisified__","hasPromisified","suffix","getDataPropertyOrDefault","defaultPromisified","checkValid","suffixRegexp","keyWithoutAsyncSuffix","promisifiableMethods","inheritedDataKeys","passesDefaultFilter","defaultFilter","makeNodePromisifiedClosure","__","promisified","THIS","defaultThis","withAppended","promisifyAll","promisifier","escapeIdentRegex","promisifiedKey","makeNodePromisified","promisify","makeNodePromisifiedEval","noCopyProps","copyDescriptors","isClass","PropertiesPromiseArray","entries","isMap","Es6Map","mapToEntries","_isMap","props","castValue","extractEntry","entriesToMap","keyOffset","arrayMove","src","srcIndex","dst","dstIndex","capacity","_capacity","_front","_willBeOverCapacity","_checkCapacity","wrapMask","front","_resizeTo","oldCapacity","race","raceLater","array","ReductionPromiseArray","initialValue","_each","_fn","_initialValue","_currentCancellable","_eachValues","completed","valueOrReason","gotAccum","accum","_gotAccum","gotValue","_eachComplete","sender","_resultCancelled$","noAsyncScheduler","NativePromise","getNativePromise","MutationObserver","GlobalSetImmediate","setImmediate","ProcessNextTick","nextTick","isRecentNode","nativePromise","standalone","cordova","div","attributes","toggleScheduled","div2","classList","toggle","observe","scheduleToggle","disconnect","SettledPromiseArray","_promiseResolved","inspection","_settledValueField","_howMany","_unwrap","_initialized","some","howMany","CANCELLATION","isArrayResolved","_canPossiblyFulfill","_getRangeError","_addFulfilled","_fulfilled","_addRejected","_checkOutcome","_rejected","32","__isCancelled","33","getThen","isAnyBluebirdPromise","doThenable","doGetThen","hasProp","34","HandleWrapper","handle","successClear","clearTimeout","failureClear","afterValue","delay","afterTimeout","handleWrapper","35","castPreservingDisposable","thenable","_isDisposable","_getDisposer","_setDisposable","dispose","resources","iterator","tryDispose","Disposer","_data","_context","FunctionDisposer","maybeUnwrapDisposer","isDisposer","ResourceList","NULL","resource","doDispose","_unsetDisposable","d","using","spreadArgs","disposer","reflectedResources","resultPromise","inspections","_disposer","36","tryCatcher","tryCatchTarget","isPrimitive","maybeError","safeToString","appendee","defaultValue","hasMethods","hasMethodsOtherThanConstructor","hasThisAssignmentAndStaticMethods","thisAssignmentPattern","FakeConstructor","rident","filledRange","prefix","isError","ignore","from","to","hasEnvVariables","globalObject","Child","Parent","T","excludedPrototypes","Function","isExcludedProto","visitedKeys","enumeration","Symbol","ArrayFrom","itResult","it","chrome","loadTimes","versions","Number","P","Emitter","mixin","on","_callbacks","once","off","removeListener","removeAllListeners","removeEventListener","callbacks","listeners","hasListeners","./lib/index","37","parser","./socket","engine.io-parser","38","Socket","uri","parseuri","query","agent","parseqs","upgrade","forceJSONP","jsonp","forceBase64","enablesXDR","timestampParam","timestampRequests","transports","writeBuffer","prevBufferLen","policyPort","rememberUpgrade","binaryType","onlyBinaryUpgrades","perMessageDeflate","threshold","pfx","passphrase","cert","ca","ciphers","rejectUnauthorized","forceNode","freeGlobal","extraHeaders","localAddress","upgrades","pingInterval","pingTimeout","pingIntervalTimer","pingTimeoutTimer","clone","parsejson","priorWebsocketSuccess","Transport","createTransport","EIO","transport","sid","socket","setTransport","onDrain","packet","onPacket","onError","onClose","probe","onTransportOpen","upgradeLosesBinary","supportsBinary","failed","upgrading","pause","cleanup","flush","freezeTransport","close","onTransportClose","onclose","onupgrade","onOpen","onHandshake","setPing","filterUpgrades","onHeartbeat","ping","sendPacket","compress","cleanupAndClose","waitForUpgrade","filteredUpgrades","./transport","./transports/index","component-emitter","indexof","39","description","doOpen","doClose","packets","onData","decodePacket","40","polling","xd","xs","isSSL","xdomain","xscheme","XHR","JSONP","websocket","./polling-jsonp","./polling-xhr","./websocket","xmlhttprequest-ssl","41","empty","JSONPPolling","Polling","___eio","script","inherit","parentNode","removeChild","form","iframe","doPoll","insertAt","getElementsByTagName","insertBefore","head","body","appendChild","doWrite","complete","initIframe","html","iframeId","area","className","style","position","top","left","action","submit","attachEvent","onreadystatechange","onload","./polling","component-inherit","42","requestTimeout","Request","isBinary","unloadHandler","requests","req","sendXhr","pollXhr","xhr","setDisableHeaderCheck","hasXDR","onLoad","requestsCount","onSuccess","fromError","contentType","getResponseHeader","fromCharCode","ui8Arr","dataArray","43","hasXHR2","yeast","poll","onPause","total","decodePayload","callbackfn","encodePayload","schema","b64","../transport","44","WS","usingBrowserWebSocket","BrowserWebSocket","WebSocket","NodeWebSocket","MozWebSocket","ws","supports","binary","addEventListeners","onopen","onmessage","ev","encodePacket","Buffer","45","hasCORS","has-cors","46","47","useColors","documentElement","firebug","exception","table","$1","formatArgs","namespace","humanize","diff","lastC","save","namespaces","storage","removeItem","load","DEBUG","local","localStorage","colors","formatters","enable","./debug","48","selectColor","prevColor","disabled","enabled","curr","prevTime","coerce","format","formatter","skips","disable","49","encodeBase64Object","encodeArrayBuffer","encodeBase64Packet","contentArray","resultBuffer","encodeBlobAsArrayBuffer","fr","FileReader","readAsArrayBuffer","encodeBlob","dontSendBlobs","tryDecode","utf8","el","base64encoder","hasBinary","sliceBuffer","isAndroid","isPhantomJS","pong","packetslist","utf8encode","encoded","readAsDataURL","b64data","typed","basic","utf8decode","decodeBase64Packet","rest","setLengthHeader","encodeOne","doneCallback","encodePayloadAsBlob","encodePayloadAsArrayBuffer","results","decodePayloadAsBinary","chr","encodedPackets","totalLength","acc","resultArray","bufferIndex","ab","view","lenStr","binaryIdentifier","lengthAry","blob","bufferTail","buffers","numberTooLong","tailArray","msgLength","./keys","arraybuffer.slice","base64-arraybuffer","has-binary","wtf-8","50","51","exportName","setTimeoutContext","bindFn","invokeArrayArg","deprecate","deprecationMessage","properties","childP","baseP","_super","assign","boolOrFn","TYPE_FUNCTION","ifUndefined","val1","val2","types","splitStr","removeEventListeners","hasParent","inStr","find","inArray","findByKey","toArray","uniqueArray","sort","prefixed","property","camelProp","VENDOR_PREFIXES","uniqueId","_uniqueId","getWindowForElement","element","doc","ownerDocument","defaultView","parentWindow","Input","manager","inputTarget","domHandler","createInputInstance","inputClass","SUPPORT_POINTER_EVENTS","PointerEventInput","SUPPORT_ONLY_TOUCH","TouchInput","SUPPORT_TOUCH","TouchMouseInput","MouseInput","inputHandler","eventType","pointersLen","pointers","changedPointersLen","changedPointers","isFirst","INPUT_START","isFinal","INPUT_END","INPUT_CANCEL","session","computeInputData","recognize","prevInput","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","center","getCenter","timeStamp","deltaTime","angle","getAngle","distance","getDistance","computeDeltaXY","offsetDirection","getDirection","deltaX","deltaY","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","y","abs","scale","getScale","rotation","getRotation","maxPointers","computeIntervalInputData","srcEvent","offset","offsetDelta","prevDelta","velocity","velocityX","velocityY","direction","lastInterval","COMPUTE_INTERVAL","clientX","round","clientY","DIRECTION_NONE","DIRECTION_LEFT","DIRECTION_RIGHT","DIRECTION_UP","DIRECTION_DOWN","p1","p2","PROPS_XY","sqrt","atan2","PI","PROPS_CLIENT_XY","evEl","MOUSE_ELEMENT_EVENTS","evWin","MOUSE_WINDOW_EVENTS","pressed","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","store","pointerEvents","SingleTouchInput","evTarget","SINGLE_TOUCH_TARGET_EVENTS","SINGLE_TOUCH_WINDOW_EVENTS","started","normalizeSingleTouches","touches","changed","changedTouches","TOUCH_TARGET_EVENTS","targetIds","getTouches","allTouches","INPUT_MOVE","identifier","targetTouches","changedTargetTouches","touch","mouse","primaryTouch","lastTouches","recordTouches","eventData","setLastTouch","lastTouch","lts","removeLastTouch","DEDUP_TIMEOUT","isSyntheticEvent","dx","dy","DEDUP_DISTANCE","TouchAction","cleanTouchActions","actions","TOUCH_ACTION_NONE","hasPanX","TOUCH_ACTION_PAN_X","hasPanY","TOUCH_ACTION_PAN_Y","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_AUTO","Recognizer","state","STATE_POSSIBLE","simultaneous","requireFail","stateStr","STATE_CANCELLED","STATE_ENDED","STATE_CHANGED","STATE_BEGAN","directionStr","getRecognizerByNameIfManager","otherRecognizer","recognizer","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","Hammer","recognizers","preset","Manager","oldCssProps","touchAction","toggleCssProps","add","recognizeWith","requireFailure","cssProps","triggerDomEvent","gestureEvent","initEvent","gesture","TEST_ELEMENT","nextKey","dest","MOBILE_REGEX","DIRECTION_HORIZONTAL","DIRECTION_VERTICAL","DIRECTION_ALL","destroy","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","button","which","pointerType","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","MSPointerEvent","PointerEvent","removePointer","eventTypeNormalized","isTouch","storeIndex","pointerId","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","TOUCH_INPUT_MAP","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","PREFIXED_TOUCH_ACTION","NATIVE_TOUCH_ACTION","TOUCH_ACTION_MAP","touchMap","cssSupports","CSS","compute","update","getTouchAction","preventDefaults","prevented","preventDefault","hasNone","isTapPointer","isTapMovement","isTapTouchTime","preventSrc","STATE_RECOGNIZED","dropRecognizeWith","dropRequireFailure","hasRequireFailures","canRecognizeWith","additionalEvent","tryEmit","canEmit","inputDataClone","attrTest","optionPointers","isRecognized","isValid","directionTest","hasMoved","inOut","time","validPointers","validMovement","validTime","taps","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","VERSION","domEvents","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","stop","force","stopped","curRecognizer","existing","events","STATE_FAILED","Tap","Pan","Swipe","Pinch","Rotate","Press","52","_hasBinary","isBuffer","File","isarray","53","54","HowlerGlobal","Howler","_counter","_codecs","_howls","_muted","_volume","_canPlayEvent","_navigator","masterGain","noAudio","usingWebAudio","autoSuspend","mobileAutoEnable","_setup","volume","vol","parseFloat","setupAudioContext","gain","_webAudio","ids","_getSoundIds","sound","_soundById","_node","mute","muted","unload","codecs","ext","_autoSuspend","Audio","oncanplaythrough","_setupCodecs","audioTest","canPlayType","mpegTest","checkOpera","isOldOpera","mp3","mpeg","opus","ogg","oga","wav","aac","caf","m4a","mp4","weba","webm","dolby","flac","_enableMobileAudio","isMobile","maxTouchPoints","msMaxTouchPoints","_mobileEnabled","_mobileUnloaded","sampleRate","_scratchBuffer","createBuffer","unlock","createBufferSource","connect","destination","noteOn","onended","suspend","_sounds","_paused","_suspendTimer","_resumeAfterSuspend","_autoResume","resume","_emit","Howl","_autoplay","autoplay","_format","_html5","html5","_loop","loop","_pool","pool","_preload","preload","_rate","rate","_sprite","sprite","_src","_duration","_state","_endTimers","_onend","onend","_onfade","onfade","_onload","_onloaderror","onloaderror","_onpause","onpause","_onplay","onplay","_onstop","onstop","_onmute","onmute","_onvolume","onvolume","_onrate","onrate","_onseek","onseek","_onresume","play","exec","Sound","loadBuffer","num","_ended","_id","_inactiveSound","seek","_seek","_start","_stop","playWebAudio","_refreshBuffer","setValueAtTime","currentTime","_playStart","bufferSource","noteGrainOn","Infinity","isRunning","_clearTimer","playHtml5","playbackRate","loadedNoReadyState","ejecta","isCocoonJS","listener","_rateSeek","_stopFade","noteOff","_cleanBuffer","isNaN","fade","dir","steps","stepLen","ceil","linearRampToValueAtTime","_interval","setInterval","soundId","clearInterval","cancelScheduledValues","loopStart","loopEnd","realTime","playing","rateSeek","sounds","_errorFn","_loadFn","remCache","cache","_loadQueue","task","_drain","cnt","_panner","howl","createGain","createGainNode","paused","_errorListener","_loadListener","__default","loadSound","atob","dataView","decodeAudioData","safeXhrSend","AudioContext","webkitAudioContext","iOS","platform","appVersion","safari","_pos","_orientation","stereo","pan","pos","z","setPosition","orientation","xUp","yUp","zUp","or","setOrientation","_stereo","_pannerAttr","coneInnerAngle","coneOuterAngle","coneOuterGain","distanceModel","maxDistance","panningModel","refDistance","rolloffFactor","_onstereo","onstereo","_onpos","onpos","_onorientation","onorientation","pannerType","createStereoPanner","setupPanner","pannerAttr","_coneInnerAngle","_coneOuterAngle","_coneOuterGain","_distanceModel","_maxDistance","_panningModel","_refDistance","_rolloffFactor","pa","panner","createPanner","55","56","57","runInContext","undef","isSupported","serialized","stringifySupported","isExtended","getClass","parseSupported","root","SyntaxError","nativeJSON","isProperty","objectProto","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","charIndexBuggy","Months","getDay","year","month","members","__proto__","original","object","Properties","valueOf","isConstructor","hasProperty","objectTypes","Escapes","92","toPaddedString","width","quote","useCharIndex","symbols","serialize","whitespace","indentation","date","hours","minutes","seconds","milliseconds","Index","Source","Unescapes","98","116","110","102","114","lex","begin","isSigned","hasMembers","walk","isLoader","function","freeExports","nodeType","previousJSON","isRestored","JSON3","58","m","fmtShort","fmtLong","plural","long","59","rvalidchars","60","qs","qry","pairs","pair","61","re","authority","ipv6uri","62","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","runClearTimeout","marker","cachedClearTimeout","cleanUpNextTick","draining","currentQueue","queueIndex","drainQueue","run","Item","browser","argv","addListener","binding","cwd","chdir","umask","63","RFC1738","RFC3986","64","formats","./formats","./parse","./stringify","65","allowDots","allowPrototypes","arrayLimit","decoder","delimiter","depth","parameterLimit","plainObjects","strictNullHandling","parseValues","part","parseObject","cleanRoot","parseArrays","parseKeys","givenKey","brackets","segment","isRegExp","tempObj","newObj","compact","66","arrayPrefixGenerators","indices","repeat","toISO","encoder","encodeValuesOnly","serializeDate","skipNulls","generateArrayPrefix","objKeys","arrayFormat","67","hexTable","arrayToObject","mergeTarget","string","out","references","refs","compacted","68","io","sameNamespace","nsps","newConnection","forceNew","multiplex","encodeQueryString","managers","./manager","./url","socket.io-parser","69","subs","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","connecting","lastPing","encoding","packetBuffer","Encoder","Decoder","autoConnect","eio","emitAll","nsp","updateSocketIds","engine","_reconnection","_reconnectionAttempts","_reconnectionDelay","_randomizationFactor","_reconnectionDelayMax","_timeout","maybeReconnectOnOpen","reconnecting","reconnect","skipReconnect","openSub","errorSub","timer","onping","onpong","ondata","ondecoded","onConnecting","processPacketQueue","pack","subsLength","onreconnect","./on","backo2","component-bind","engine.io-client","70","71","json","acks","receiveBuffer","sendBuffer","connected","disconnected","hasBin","connect_error","connect_timeout","reconnect_attempt","reconnect_failed","reconnect_error","subEvents","parserType","EVENT","BINARY_EVENT","CONNECT","onpacket","onconnect","onevent","ACK","BINARY_ACK","onack","DISCONNECT","ondisconnect","ERROR","ack","sent","emitBuffered","to-array","72","loc","ipv6","73","dup","74","75","76","isBuf","deconstructPacket","_deconstructPacket","placeholder","_placeholder","newData","packetData","attachments","reconstructPacket","_reconstructPacket","removeBlobs","_removeBlobs","curKey","containingObject","pendingBlobs","fileReader","bloblessData","./is-buffer","77","encodeAsString","encodeAsBinary","writeEncoding","deconstruction","reconstructor","decodeString","tryParse","BinaryReconstructor","reconPack","takeBinaryData","finishedReconstruction","binData","./binary","json3","78","79","80","81","short","82","throttle","func","wait","timeoutID","rtn","delta","83","list","84","bytesToUuid","bth","byteToHex","85","rng","crypto","msCrypto","getRandomValues","rnds8","rnds","86","v1","clockseq","_clockseq","msecs","getTime","nsecs","_lastNSecs","dt","_lastMSecs","tl","tmh","_nodeId","_seedBytes","./lib/bytesToUuid","./lib/rng","87","_interopRequireDefault","__esModule","_toDate","_toDate2","_toFloat","_toFloat2","_toInt","_toInt2","_toBoolean","_toBoolean2","_equals","_equals2","_contains","_contains2","_matches","_matches2","_isEmail","_isEmail2","_isURL","_isURL2","_isMACAddress","_isMACAddress2","_isIP","_isIP2","_isFQDN","_isFQDN2","_isBoolean","_isBoolean2","_isAlpha","_isAlpha2","_isAlphanumeric","_isAlphanumeric2","_isNumeric","_isNumeric2","_isLowercase","_isLowercase2","_isUppercase","_isUppercase2","_isAscii","_isAscii2","_isFullWidth","_isFullWidth2","_isHalfWidth","_isHalfWidth2","_isVariableWidth","_isVariableWidth2","_isMultibyte","_isMultibyte2","_isSurrogatePair","_isSurrogatePair2","_isInt","_isInt2","_isFloat","_isFloat2","_isDecimal","_isDecimal2","_isHexadecimal","_isHexadecimal2","_isDivisibleBy","_isDivisibleBy2","_isHexColor","_isHexColor2","_isMD","_isMD2","_isJSON","_isJSON2","_isEmpty","_isEmpty2","_isLength","_isLength2","_isByteLength","_isByteLength2","_isUUID","_isUUID2","_isMongoId","_isMongoId2","_isAfter","_isAfter2","_isBefore","_isBefore2","_isIn","_isIn2","_isCreditCard","_isCreditCard2","_isISIN","_isISIN2","_isISBN","_isISBN2","_isISSN","_isISSN2","_isMobilePhone","_isMobilePhone2","_isCurrency","_isCurrency2","_isISO","_isISO2","_isBase","_isBase2","_isDataURI","_isDataURI2","_ltrim","_ltrim2","_rtrim","_rtrim2","_trim","_trim2","_escape","_escape2","_unescape","_unescape2","_stripLow","_stripLow2","_whitelist","_whitelist2","_blacklist","_blacklist2","_isWhitelisted","_isWhitelisted2","_normalizeEmail","_normalizeEmail2","_toString","_toString2","validator","toDate","toFloat","toInt","toBoolean","equals","contains","isEmail","isURL","isMACAddress","isIP","isFQDN","isBoolean","isAlpha","isAlphanumeric","isNumeric","isLowercase","isUppercase","isAscii","isFullWidth","isHalfWidth","isVariableWidth","isMultibyte","isSurrogatePair","isInt","isFloat","isDecimal","isHexadecimal","isDivisibleBy","isHexColor","isMD5","isJSON","isEmpty","isLength","isByteLength","isUUID","isMongoId","isAfter","isBefore","isIn","isCreditCard","isISIN","isISBN","isISSN","isMobilePhone","isCurrency","isISO8601","isBase64","isDataURI","ltrim","rtrim","escape","unescape","stripLow","whitelist","blacklist","isWhitelisted","normalizeEmail","./lib/blacklist","./lib/contains","./lib/equals","./lib/escape","./lib/isAfter","./lib/isAlpha","./lib/isAlphanumeric","./lib/isAscii","./lib/isBase64","./lib/isBefore","./lib/isBoolean","./lib/isByteLength","./lib/isCreditCard","./lib/isCurrency","./lib/isDataURI","./lib/isDecimal","./lib/isDivisibleBy","./lib/isEmail","./lib/isEmpty","./lib/isFQDN","./lib/isFloat","./lib/isFullWidth","./lib/isHalfWidth","./lib/isHexColor","./lib/isHexadecimal","./lib/isIP","./lib/isISBN","./lib/isISIN","./lib/isISO8601","./lib/isISSN","./lib/isIn","./lib/isInt","./lib/isJSON","./lib/isLength","./lib/isLowercase","./lib/isMACAddress","./lib/isMD5","./lib/isMobilePhone","./lib/isMongoId","./lib/isMultibyte","./lib/isNumeric","./lib/isSurrogatePair","./lib/isURL","./lib/isUUID","./lib/isUppercase","./lib/isVariableWidth","./lib/isWhitelisted","./lib/ltrim","./lib/matches","./lib/normalizeEmail","./lib/rtrim","./lib/stripLow","./lib/toBoolean","./lib/toDate","./lib/toFloat","./lib/toInt","./lib/trim","./lib/unescape","./lib/util/toString","./lib/whitelist","88","locale","alpha","en-US","cs-CZ","da-DK","de-DE","es-ES","fr-FR","nl-NL","hu-HU","pl-PL","pt-PT","ru-RU","sr-RS@latin","sr-RS","tr-TR","uk-UA","ar","alphanumeric","englishLocales","_locale","arabicLocales","_i","89","_assertString2","_assertString","./util/assertString","90","elem","./util/toString","91","comparison","93","./toDate","94","_alpha","./alpha","95","96","ascii","97","notBase64","firstPaddingChar","99","100","_typeof","encodeURI","101","sanitized","creditCard","sum","digit","tmpNum","shouldDouble","currencyRegex","symbol","require_symbol","whole_dollar_amount_with_sep","thousands_separator","valid_whole_dollar_amounts","whole_dollar_amount","decimal_amount","decimal_separator","pattern","allow_negatives","parens_for_negatives","negative_sign_after_digits","negative_sign_before_digits","allow_negative_sign_placeholder","allow_space_after_symbol","allow_space_after_digits","symbol_after_digits","_merge2","default_currency_options","_merge","./util/merge","103","dataURI","104","decimal","105","./toFloat","106","default_email_options","require_display_name","allow_display_name","display_email","displayName","user","lower_domain","require_tld","allow_utf8_local_part","quotedEmailUserUtf8","quotedEmailUser","emailUserUtf8Part","emailUserPart","user_parts","./isByteLength","./isFQDN","107","108","isFDQN","default_fqdn_options","allow_trailing_dot","tld","allow_underscores","109","float","lt","gt","fullWidth","111","halfWidth","112","hexcolor","113","hexadecimal","ipv4Maybe","blocks","foundOmissionBlock","foundIPv4TransitionBlock","expectedNumberOfBlocks","ipv6Block","115","checksum","isbn10Maybe","isbn13Maybe","isin","checksumStr","character","117","iso8601","118","testIssn","issn","require_hyphen","case_sensitive","issnDigits","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","return","119","120","regex","allow_leading_zeroes","int","intLeadingZeroes","minCheckPassed","maxCheckPassed","ltCheckPassed","gtCheckPassed","121","122","surrogatePairs","123","124","macAddress","125","md5","126","phones","ar-DZ","ar-SY","ar-SA","el-GR","en-AU","en-GB","en-HK","en-IN","en-NG","en-NZ","en-ZA","en-ZM","fi-FI","he-IL","it-IT","ja-JP","ms-MY","nb-NO","nl-BE","nn-NO","pt-BR","ro-RO","en-PK","vi-VN","zh-CN","zh-TW","127","./isHexadecimal","128","multibyte","129","numeric","130","surrogatePair","131","checkHost","default_url_options","port_str","require_valid_protocol","protocols","require_protocol","allow_protocol_relative_urls","require_host","ipv6_match","wrapped_ipv6","host_whitelist","host_blacklist","./isIP","132","uuid","133","134","./isFullWidth","./isHalfWidth","135","136","137","modifiers","138","email","default_normalize_email_options","raw_parts","gmail_remove_subaddress","gmail_remove_dots","all_lowercase","gmail_lowercase","gmail_convert_googlemaildotcom","icloud_domains","icloud_remove_subaddress","icloud_lowercase","outlookdotcom_domains","outlookdotcom_remove_subaddress","outlookdotcom_lowercase","yahoo_domains","yahoo_remove_subaddress","components","yahoo_lowercase","./isEmail","139","140","keep_new_lines","./blacklist","141","strict","142","143","144","radix","145","./ltrim","./rtrim","146","147","assertString","148","149","150","151","ucs2decode","extra","counter","ucs2encode","stringFromCharCode","createByte","codePoint","encodeCodePoint","wtf8encode","codePoints","byteString","readContinuationByte","byteIndex","byteCount","continuationByte","byteArray","decodeSymbol","byte1","byte2","byte3","byte4","wtf8decode","tmp","freeModule","wtf8","152","alphabet","decoded","seed","153","asyncAnimateScale","totalDuration","animating","goToEnd","animate","settings","easing","asyncPlayShapeAnimation","shapeId","paper","project","getItem","group","children","_namedChildren","measureLength","animationPromises","transparent","catch","./color","./sound","154","getPathColorName","getColorName","originalColor","palette","colorNames","getRandomPop","randomPick","pops","getRandomColor","getIndexedPopColor","getCurrentColor","$","getCurrentColorName","Color","./config","155","runAnimations","canvasId","maxShapes","postKey","minWidth","minHeight","#20171C","#1E2A43","#28377D","#352747","#CA2E26","#9A2A1F","#DA6C26","#453121","#916A47","#DAAD27","#7F7D31","#2B5E2E","gradients","colorSize","selectedColorSize","contextualTuts","156","factory","ShapeDetector","deg2Rad","Stroke","points","processStroke","patterns","_nbSamplePoints","nbSamplePoints","learn","_phi","_angleRange","_anglePrecision","_halfDiagonal","_squareSize","_origin","resample","setCentroid","rotateBy","indicativeAngle","scaleToSquare","translateToOrigin","localDistance","q","strokeLength","newPoints","point","cos","sin","box","minX","maxX","minY","maxY","height","distanceAtBestAngle","x1","f1","distanceAtAngle","x2","f2","strokePoints","patternPoints","defaultShapes","spot","patternName","score","stroke","bestDistance","bestPattern","bestScore","157","resetWindow","clientId","kan","composition","compositionInterval","compositionTimeout","soundTimeouts","lastEvent","interaction","moves","pinching","pinchedGroup","pinchedTut","pathData","shapePath","prevAngle","sides","side","corners","lastScale","lastRotation","originalPosition","tutorialCompletion","fill","pinch","inactivityTimeout","playPromptTimeout","sharePromptTimeout","userHasDrawnFirstShape","firstTimePlaying","shapesSinceTut","refreshCheckInterval","sha","scheduledOverlay","continueCountdownInterval","shapeSounds","hasClass","resizeCanvasTimeout","stopTimeouts","ui","overlays","timing","shape","setSha","setUuid","reload","onresize","verifyBrowserWidth","fixCanvasSize","fixTutorialVideoSize","browserWidthCheckDelay","./overlays","./shape","./timing","./touch","./ui","./video","throttleit","158","openOverlay","overlayName","$body","allOverlays","includes","panning","preventInactivityTimeout","closeAndResetOverlays","tutorial","hideContextualTuts","addClass","overlayActiveClass","tapEvent","openIntroOverlay","anyShapesOnCanvas","openPlayPromptOverlay","playPromptDelay","openSharePromptOverlay","openContinueOverlay","openTipsOverlay","openShareOverlay","openSharePrepareOverlay","openShareConfirmationOverlay","openWindowTooSmallOverlay","resetContinueCountdown","continueInactivityDelay","$countdownNumWrap","video","enterTutorialMode","selectRandomColorFromPalette","activateTipsCards","cardNavNext","$old","$new","$cardItems","first","$next","$third","slide","removeClass","updateCardCounter","cardsCount","cardInteractions","timeOfLastInteraction","closest","resetTips","$sharePhone","overlayOpenClasses","$sharePhoneWrap","invalidPhoneNumberClass","asyncCloseOverlaysAfterDuration","closeOverlayTimeout","$footer","asyncWaitForWellFormedPhoneNumber","s3Id","$shareKeypad","$shareSend","phoneNumWithHyphens","text","phoneNumRaw","phone","phoneNumberInputs","mask","phoneNumber","masked","randomCardGraphics","attr","initTips","initShare","hammerCanvas","$cardsWrap","overlay","./tutorial","159","initKeepaliveShape","keepaliveShape","Path","Rectangle","strokeColor","visible","startKeepaliveAnimation","keepaliveInterval","stopKeepaliveAnimation","destroyGroupPops","groupPopsBefore","getGroupPops","fillInGroupPopsById","groupId","groupChild","toggleFill","interior","fillColor","cleanUpGroup","acceptableNames","updatePops","freshGroups","getFreshGroups","popCandidates","getPopCandidates","getAllPops","reverse","freshGroup","freshOuter","bringToFront","otherGroup","otherGroupOuter","thisPop","intersect","popColor","popGroup","intersectingGroup","closed","addChild","fresh","getOutlineGroup","truedShape","outerPath","middlePath","sizes","firstTop","firstBottom","lastTop","lastBottom","Group","firstSegment","cumSize","avgSize","getPointAt","normal","getNormalAt","Point","bottom","insert","centerTop","centerBottom","flatten","simplify","selected","getTruedShape","pathClone","completedPath","getCompletedPath","truedPath","strokeWidth","getIntersections","trimmedPath","getTrimmedPath","extendedPath","getExtendedPath","_trimmedPath","replaceWith","getBruteExtendedPath","_trimmedPath2","getShapePrediction","prediction","shapeJSON","exportJSON","shapeData","processShapeData","shapePrediction","detector","closedShapes","intersects","getIntegerPoint","stringifyPoint","parsePoint","pointStr","getClosestPointFromPathData","leastDistance","closestPoint","Base","datum","returnShape","jsonObj","segments","positionInfo","findInteriorCurves","interiorCurves","dividedPath","resolveCrossings","enclosedLoop","_enclosedLoop","thresholdDist","thresholdDistMultiplier","nextSegment","startAngle","inverseStartAngle","extendedStartPoint","lastSegment","penSegment","previous","endAngle","extendedEndPoint","firstPoint","lastPoint","unite","crossings","maxArea","maxChild","intersections","intersection","intersectionPoint","pathCrossings","subtract","_ret","closedChildren","childClone","accumulator","_j","newPath","copyContent","copyAttributes","hitTestGroupBounds","hitTestBounds","getVisibleGroups","strokeBounds","isInside","cornerThresholdDeg","shapeNames","./lib/shape-detector","160","asyncStopAudioRecordingAndExportBlob","recorder","exportWAV","asyncStopVideoRecordingAndExportBlob","stopRecording","asyncRecord","audioRecorder","Recorder","workerPath","canvasRecorder","RecordRTC","drawCanvas","startRecording","record","asyncPlayCompositionOnce","_slicedToArray","audioBlob","videoBlob","formData","post","resp","finally","asyncAddCompositionToDb","queryString","asyncAddDesktopCompositionToDb","asyncWaitForDesktopCompositionToFinishProcessing","handleSharePressed","ga","handleGallerySharePressed","handleDesktopSharePressed","enterShareMode","exitShareMode","showDesktopSharePrepNotice","clearTimeouts","sliceIterator","_arr","_n","_d","_e","_s","getElementById","161","socket.io-client","162","asyncInitShapeSounds","reinitShapeSounds","getShapeSoundObj","viewWidth","viewSize","initShapeSounds","colorName","quantizedSoundStartTime","quantizeLength","bounds","compositionLength","quantizedSoundDuration","soundObj","startTime","pathId","spriteName","startPlaying","playEnabledClass","playingClass","startComposition","stopPlaying","stopComposition","asyncGetShapeSoundFromShapeName","shapeName","shapeSoundJSONPath","getJSON","shapeSoundData","formatShapeSoundData","when","returnSounds","returnData","urls","smallestDuration","bpm","returnDuration","quantizePosition","smallestInterval","measures","returnPosition","asyncPlayShape","shapeSoundObj","asyncPlayShapeSound","animation","res","removeShapeFromComposition","shapeGroup","getItems","clearSoundTimeouts","soundTimeout","playCompositionOnce","iterations","repeatComposition","trimmedCompositionObj","getTrimmedCompositionObj","asyncPlayCompositionMultipleTimes","repeats","promisedRepeats","shapePromises","asyncPlayShapeWithDelay","endTime","playTime","trimmedComposition","getCompositionStartTime","modifiedSound","shallowCopy","beatLength","./animation","howler","163","pauseVideo","exitTutorialMode","drawInactivityDelay","inputDelay","refreshCheckDelay","overlayDelay","164","hammerTips","tipsOverlay","doubleTap","panStart","panMove","panEnd","pinchStart","pinchMove","pinchEnd","enableAllEvents","enableTapEvents","enablePanAndPinchEvents","disableAllEvents","enablePanEvents","enablePinchEvents","disableTapEvents","disablePanEvents","disablePinchEvents","pointer","getNormalizedEventCenter","hitResult","hitTest","hitOptions","eventTargetIsOnCanvas","hideContextualTutByName","currentColor","stopPropagation","strokeCap","maxShapeLength","angleDelta","prevPoint","halfPointX","halfPointY","halfPoint","topX","topY","bottomX","bottomY","smooth","speed","tooLong","draw","move","minShapeSize","visibleGroups","firstGroup","removedGroup","shapeSize","centerPoint","rad","gradientSize","originX","originY","destinationX","destinationY","origin","gradient","stops","outlineGroup","outline","outer","outlineCenter","middle","sendToBack","shapeMask","enclosedLoops","shadowColor","shadowBlur","unditherButtonsByName","allTutsCompleted","tutName","shapeLimit","addContextualTut","tut","hasTut","interacting","originalRotation","originalScale","thrown","$tut","$pinchedTut","currentScale","scaleDelta","currentRotation","rotationDelta","moveContextualTut","hypot","viewHypot","maxScaleFactor","rotate","hideContextualTut","throwPinchedGroup","viewHeight","offScreen","requestAnimationFrame","newX","newY","newPos","tolerance","hammerjs","165","getTutByName","tutObj","tutorialCompletionObj","completion","shapeCenter","tutPos","getTutPositionFromCenter","css","visibility","resetContextualTuts","tutWidth","outerWidth","tutHeight","outerHeight","leftPos","topPos","tutArrowHeight","166","setupPaper","initLogoRefresh","initColorPalette","initNewButton","initUndoButton","initPlayButton","initTipsButton","initShareButton","initContextualTuts","resetCanvas","getBoundingClientRect","canvasWidth","canvasHeight","showExpandBrowserMessage","hideExpandBrowserMessage","$frame","eq","containerWidth","containerHeight","$drawCanvas","canvasTop","canvasLeft","$window","$tutorialVideo","setup","ditherAllButtons","ditheredClass","unditherAllButtons","ditherButtonsByName","buttonNames","undither","ditherButtonByName","buttonName","$button","unditherButtonByName","newPressed","activeLayer","removeChildren","undoPressed","lastMove","clearGroupPops","getNumVisibleGroups","tipsPressed","randomColorHex","$svg","selectColorFromPaletteUsingSvgElement","paletteSelectedColorSize","share","clear","randomCanvasIndex","canvasBg","Raster","scaleFactorHorizontal","scaleFactorVertical","Layer","$controlPanel","hide","$desktopPrepNotice","show","./share","167","degrees","deg","radians","toLocaleTimeString","getAllGroups","getNumGroups","returnPops","groupPops","intersectingPops","foo","uuid/v1","168","hitType","page","playVideo","videoPlayingClass","main","$video","$videoWrapper","./main"],"mappings":"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G,MACr2BhzC,KAAM,WAENsrF,SAAW3gE,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MACtxChzC,KAAM,aAENsrF,SAAW3gE,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,GAAIqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAAKqoB,EAAG,MAASroB,EAAG,IAA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","file":"../main.bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nmodule.exports = after\n\nfunction after(count, callback, err_cb) {\n    var bail = false\n    err_cb = err_cb || noop\n    proxy.count = count\n\n    return (count === 0) ? callback() : proxy\n\n    function proxy(err, result) {\n        if (proxy.count <= 0) {\n            throw new Error('after called too many times')\n        }\n        --proxy.count\n\n        // after first error, rest are passed to err_cb\n        if (err) {\n            bail = true\n            callback(err)\n            // future error callbacks will go to error handler\n            callback = err_cb\n        } else if (proxy.count === 0 && !bail) {\n            callback(null, result)\n        }\n    }\n}\n\nfunction noop() {}\n\n},{}],2:[function(require,module,exports){\n/**\n * An abstraction for slicing an arraybuffer even when\n * ArrayBuffer.prototype.slice is not supported\n *\n * @api public\n */\n\nmodule.exports = function(arraybuffer, start, end) {\n  var bytes = arraybuffer.byteLength;\n  start = start || 0;\n  end = end || bytes;\n\n  if (arraybuffer.slice) { return arraybuffer.slice(start, end); }\n\n  if (start < 0) { start += bytes; }\n  if (end < 0) { end += bytes; }\n  if (end > bytes) { end = bytes; }\n\n  if (start >= bytes || start >= end || bytes === 0) {\n    return new ArrayBuffer(0);\n  }\n\n  var abv = new Uint8Array(arraybuffer);\n  var result = new Uint8Array(end - start);\n  for (var i = start, ii = 0; i < end; i++, ii++) {\n    result[ii] = abv[i];\n  }\n  return result.buffer;\n};\n\n},{}],3:[function(require,module,exports){\nmodule.exports = require('./lib/axios');\n},{\"./lib/axios\":5}],4:[function(require,module,exports){\n(function (process){\n'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildURL = require('./../helpers/buildURL');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\nvar btoa = (typeof window !== 'undefined' && window.btoa && window.btoa.bind(window)) || require('./../helpers/btoa');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n    var loadEvent = 'onreadystatechange';\n    var xDomain = false;\n\n    // For IE 8/9 CORS support\n    // Only supports POST and GET calls and doesn't returns the response headers.\n    // DON'T do this for testing b/c XMLHttpRequest is mocked, not XDomainRequest.\n    if (process.env.NODE_ENV !== 'test' &&\n        typeof window !== 'undefined' &&\n        window.XDomainRequest && !('withCredentials' in request) &&\n        !isURLSameOrigin(config.url)) {\n      request = new window.XDomainRequest();\n      loadEvent = 'onload';\n      xDomain = true;\n      request.onprogress = function handleProgress() {};\n      request.ontimeout = function handleTimeout() {};\n    }\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request[loadEvent] = function handleLoad() {\n      if (!request || (request.readyState !== 4 && !xDomain)) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        // IE sends 1223 instead of 204 (https://github.com/mzabriskie/axios/issues/201)\n        status: request.status === 1223 ? 204 : request.status,\n        statusText: request.status === 1223 ? 'No Content' : request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED'));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = require('./../helpers/cookies');\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ?\n          cookies.read(config.xsrfCookieName) :\n          undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (config.withCredentials) {\n      request.withCredentials = true;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        if (request.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n\n}).call(this,require('_process'))\n},{\"../core/createError\":11,\"./../core/settle\":14,\"./../helpers/btoa\":18,\"./../helpers/buildURL\":19,\"./../helpers/cookies\":21,\"./../helpers/isURLSameOrigin\":23,\"./../helpers/parseHeaders\":25,\"./../utils\":27,\"_process\":62}],5:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(utils.merge(defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n\n},{\"./cancel/Cancel\":6,\"./cancel/CancelToken\":7,\"./cancel/isCancel\":8,\"./core/Axios\":9,\"./defaults\":16,\"./helpers/bind\":17,\"./helpers/spread\":26,\"./utils\":27}],6:[function(require,module,exports){\n'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n\n},{}],7:[function(require,module,exports){\n'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n\n},{\"./Cancel\":6}],8:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n\n},{}],9:[function(require,module,exports){\n'use strict';\n\nvar defaults = require('./../defaults');\nvar utils = require('./../utils');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar isAbsoluteURL = require('./../helpers/isAbsoluteURL');\nvar combineURLs = require('./../helpers/combineURLs');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = utils.merge({\n      url: arguments[0]\n    }, arguments[1]);\n  }\n\n  config = utils.merge(defaults, this.defaults, { method: 'get' }, config);\n\n  // Support baseURL config\n  if (config.baseURL && !isAbsoluteURL(config.url)) {\n    config.url = combineURLs(config.baseURL, config.url);\n  }\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n\n},{\"./../defaults\":16,\"./../helpers/combineURLs\":20,\"./../helpers/isAbsoluteURL\":22,\"./../utils\":27,\"./InterceptorManager\":10,\"./dispatchRequest\":12}],10:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n\n},{\"./../utils\":27}],11:[function(require,module,exports){\n'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n @ @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, response);\n};\n\n},{\"./enhanceError\":13}],12:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers || {}\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n\n},{\"../cancel/isCancel\":8,\"../defaults\":16,\"./../utils\":27,\"./transformData\":15}],13:[function(require,module,exports){\n'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n @ @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n  error.response = response;\n  return error;\n};\n\n},{}],14:[function(require,module,exports){\n'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  // Note: status is not exposed by XDomainRequest\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response\n    ));\n  }\n};\n\n},{\"./createError\":11}],15:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n\n},{\"./../utils\":27}],16:[function(require,module,exports){\n(function (process){\n'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar PROTECTION_PREFIX = /^\\)\\]\\}',?\\n/;\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      data = data.replace(PROTECTION_PREFIX, '');\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMehtodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n\n}).call(this,require('_process'))\n},{\"./adapters/http\":4,\"./adapters/xhr\":4,\"./helpers/normalizeHeaderName\":24,\"./utils\":27,\"_process\":62}],17:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n\n},{}],18:[function(require,module,exports){\n'use strict';\n\n// btoa polyfill for IE<10 courtesy https://github.com/davidchambers/Base64.js\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction E() {\n  this.message = 'String contains an invalid character';\n}\nE.prototype = new Error;\nE.prototype.code = 5;\nE.prototype.name = 'InvalidCharacterError';\n\nfunction btoa(input) {\n  var str = String(input);\n  var output = '';\n  for (\n    // initialize result and counter\n    var block, charCode, idx = 0, map = chars;\n    // if the next str index does not exist:\n    //   change the mapping table to \"=\"\n    //   check if d has no fractional digits\n    str.charAt(idx | 0) || (map = '=', idx % 1);\n    // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n    output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n  ) {\n    charCode = str.charCodeAt(idx += 3 / 4);\n    if (charCode > 0xFF) {\n      throw new E();\n    }\n    block = block << 8 | charCode;\n  }\n  return output;\n}\n\nmodule.exports = btoa;\n\n},{}],19:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      }\n\n      if (!utils.isArray(val)) {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n\n},{\"./../utils\":27}],20:[function(require,module,exports){\n'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '');\n};\n\n},{}],21:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n  (function standardBrowserEnv() {\n    return {\n      write: function write(name, value, expires, path, domain, secure) {\n        var cookie = [];\n        cookie.push(name + '=' + encodeURIComponent(value));\n\n        if (utils.isNumber(expires)) {\n          cookie.push('expires=' + new Date(expires).toGMTString());\n        }\n\n        if (utils.isString(path)) {\n          cookie.push('path=' + path);\n        }\n\n        if (utils.isString(domain)) {\n          cookie.push('domain=' + domain);\n        }\n\n        if (secure === true) {\n          cookie.push('secure');\n        }\n\n        document.cookie = cookie.join('; ');\n      },\n\n      read: function read(name) {\n        var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n        return (match ? decodeURIComponent(match[3]) : null);\n      },\n\n      remove: function remove(name) {\n        this.write(name, '', Date.now() - 86400000);\n      }\n    };\n  })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return {\n      write: function write() {},\n      read: function read() { return null; },\n      remove: function remove() {}\n    };\n  })()\n);\n\n},{\"./../utils\":27}],22:[function(require,module,exports){\n'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n\n},{}],23:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    var msie = /(msie|trident)/i.test(navigator.userAgent);\n    var urlParsingNode = document.createElement('a');\n    var originURL;\n\n    /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      var href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n                  urlParsingNode.pathname :\n                  '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })()\n);\n\n},{\"./../utils\":27}],24:[function(require,module,exports){\n'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n\n},{\"../utils\":27}],25:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n\n},{\"./../utils\":27}],26:[function(require,module,exports){\n'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n\n},{}],27:[function(require,module,exports){\n'use strict';\n\nvar bind = require('./helpers/bind');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  typeof document.createElement -> undefined\n */\nfunction isStandardBrowserEnv() {\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined' &&\n    typeof document.createElement === 'function'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object' && !isArray(obj)) {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim\n};\n\n},{\"./helpers/bind\":17}],28:[function(require,module,exports){\n\n/**\n * Expose `Backoff`.\n */\n\nmodule.exports = Backoff;\n\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\n\nBackoff.prototype.duration = function(){\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n  }\n  return Math.min(ms, this.max) | 0;\n};\n\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\n\nBackoff.prototype.reset = function(){\n  this.attempts = 0;\n};\n\n/**\n * Set the minimum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMin = function(min){\n  this.ms = min;\n};\n\n/**\n * Set the maximum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMax = function(max){\n  this.max = max;\n};\n\n/**\n * Set the jitter\n *\n * @api public\n */\n\nBackoff.prototype.setJitter = function(jitter){\n  this.jitter = jitter;\n};\n\n\n},{}],29:[function(require,module,exports){\n/*\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n(function(){\n  \"use strict\";\n\n  var chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n\n  // Use a lookup table to find the index.\n  var lookup = new Uint8Array(256);\n  for (var i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n  }\n\n  exports.encode = function(arraybuffer) {\n    var bytes = new Uint8Array(arraybuffer),\n    i, len = bytes.length, base64 = \"\";\n\n    for (i = 0; i < len; i+=3) {\n      base64 += chars[bytes[i] >> 2];\n      base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n      base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n      base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if ((len % 3) === 2) {\n      base64 = base64.substring(0, base64.length - 1) + \"=\";\n    } else if (len % 3 === 1) {\n      base64 = base64.substring(0, base64.length - 2) + \"==\";\n    }\n\n    return base64;\n  };\n\n  exports.decode =  function(base64) {\n    var bufferLength = base64.length * 0.75,\n    len = base64.length, i, p = 0,\n    encoded1, encoded2, encoded3, encoded4;\n\n    if (base64[base64.length - 1] === \"=\") {\n      bufferLength--;\n      if (base64[base64.length - 2] === \"=\") {\n        bufferLength--;\n      }\n    }\n\n    var arraybuffer = new ArrayBuffer(bufferLength),\n    bytes = new Uint8Array(arraybuffer);\n\n    for (i = 0; i < len; i+=4) {\n      encoded1 = lookup[base64.charCodeAt(i)];\n      encoded2 = lookup[base64.charCodeAt(i+1)];\n      encoded3 = lookup[base64.charCodeAt(i+2)];\n      encoded4 = lookup[base64.charCodeAt(i+3)];\n\n      bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n      bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n      bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arraybuffer;\n  };\n})();\n\n},{}],30:[function(require,module,exports){\n(function (global){\n/**\n * Create a blob builder even when vendor prefixes exist\n */\n\nvar BlobBuilder = global.BlobBuilder\n  || global.WebKitBlobBuilder\n  || global.MSBlobBuilder\n  || global.MozBlobBuilder;\n\n/**\n * Check if Blob constructor is supported\n */\n\nvar blobSupported = (function() {\n  try {\n    var a = new Blob(['hi']);\n    return a.size === 2;\n  } catch(e) {\n    return false;\n  }\n})();\n\n/**\n * Check if Blob constructor supports ArrayBufferViews\n * Fails in Safari 6, so we need to map to ArrayBuffers there.\n */\n\nvar blobSupportsArrayBufferView = blobSupported && (function() {\n  try {\n    var b = new Blob([new Uint8Array([1,2])]);\n    return b.size === 2;\n  } catch(e) {\n    return false;\n  }\n})();\n\n/**\n * Check if BlobBuilder is supported\n */\n\nvar blobBuilderSupported = BlobBuilder\n  && BlobBuilder.prototype.append\n  && BlobBuilder.prototype.getBlob;\n\n/**\n * Helper function that maps ArrayBufferViews to ArrayBuffers\n * Used by BlobBuilder constructor and old browsers that didn't\n * support it in the Blob constructor.\n */\n\nfunction mapArrayBufferViews(ary) {\n  for (var i = 0; i < ary.length; i++) {\n    var chunk = ary[i];\n    if (chunk.buffer instanceof ArrayBuffer) {\n      var buf = chunk.buffer;\n\n      // if this is a subarray, make a copy so we only\n      // include the subarray region from the underlying buffer\n      if (chunk.byteLength !== buf.byteLength) {\n        var copy = new Uint8Array(chunk.byteLength);\n        copy.set(new Uint8Array(buf, chunk.byteOffset, chunk.byteLength));\n        buf = copy.buffer;\n      }\n\n      ary[i] = buf;\n    }\n  }\n}\n\nfunction BlobBuilderConstructor(ary, options) {\n  options = options || {};\n\n  var bb = new BlobBuilder();\n  mapArrayBufferViews(ary);\n\n  for (var i = 0; i < ary.length; i++) {\n    bb.append(ary[i]);\n  }\n\n  return (options.type) ? bb.getBlob(options.type) : bb.getBlob();\n};\n\nfunction BlobConstructor(ary, options) {\n  mapArrayBufferViews(ary);\n  return new Blob(ary, options || {});\n};\n\nmodule.exports = (function() {\n  if (blobSupported) {\n    return blobSupportsArrayBufferView ? global.Blob : BlobConstructor;\n  } else if (blobBuilderSupported) {\n    return BlobBuilderConstructor;\n  } else {\n    return undefined;\n  }\n})();\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],31:[function(require,module,exports){\n(function (process,global){\n/* @preserve\n * The MIT License (MIT)\n * \n * Copyright (c) 2013-2017 Petka Antonov\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n * \n */\n/**\n * bluebird build version 3.5.0\n * Features enabled: core, race, call_get, generators, map, nodeify, promisify, props, reduce, settle, some, using, timers, filter, any, each\n*/\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var f;\"undefined\"!=typeof window?f=window:\"undefined\"!=typeof global?f=global:\"undefined\"!=typeof self&&(f=self),f.Promise=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof _dereq_==\"function\"&&_dereq_;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof _dereq_==\"function\"&&_dereq_;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar SomePromiseArray = Promise._SomePromiseArray;\nfunction any(promises) {\n    var ret = new SomePromiseArray(promises);\n    var promise = ret.promise();\n    ret.setHowMany(1);\n    ret.setUnwrap();\n    ret.init();\n    return promise;\n}\n\nPromise.any = function (promises) {\n    return any(promises);\n};\n\nPromise.prototype.any = function () {\n    return any(this);\n};\n\n};\n\n},{}],2:[function(_dereq_,module,exports){\n\"use strict\";\nvar firstLineError;\ntry {throw new Error(); } catch (e) {firstLineError = e;}\nvar schedule = _dereq_(\"./schedule\");\nvar Queue = _dereq_(\"./queue\");\nvar util = _dereq_(\"./util\");\n\nfunction Async() {\n    this._customScheduler = false;\n    this._isTickUsed = false;\n    this._lateQueue = new Queue(16);\n    this._normalQueue = new Queue(16);\n    this._haveDrainedQueues = false;\n    this._trampolineEnabled = true;\n    var self = this;\n    this.drainQueues = function () {\n        self._drainQueues();\n    };\n    this._schedule = schedule;\n}\n\nAsync.prototype.setScheduler = function(fn) {\n    var prev = this._schedule;\n    this._schedule = fn;\n    this._customScheduler = true;\n    return prev;\n};\n\nAsync.prototype.hasCustomScheduler = function() {\n    return this._customScheduler;\n};\n\nAsync.prototype.enableTrampoline = function() {\n    this._trampolineEnabled = true;\n};\n\nAsync.prototype.disableTrampolineIfNecessary = function() {\n    if (util.hasDevTools) {\n        this._trampolineEnabled = false;\n    }\n};\n\nAsync.prototype.haveItemsQueued = function () {\n    return this._isTickUsed || this._haveDrainedQueues;\n};\n\n\nAsync.prototype.fatalError = function(e, isNode) {\n    if (isNode) {\n        process.stderr.write(\"Fatal \" + (e instanceof Error ? e.stack : e) +\n            \"\\n\");\n        process.exit(2);\n    } else {\n        this.throwLater(e);\n    }\n};\n\nAsync.prototype.throwLater = function(fn, arg) {\n    if (arguments.length === 1) {\n        arg = fn;\n        fn = function () { throw arg; };\n    }\n    if (typeof setTimeout !== \"undefined\") {\n        setTimeout(function() {\n            fn(arg);\n        }, 0);\n    } else try {\n        this._schedule(function() {\n            fn(arg);\n        });\n    } catch (e) {\n        throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n};\n\nfunction AsyncInvokeLater(fn, receiver, arg) {\n    this._lateQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncInvoke(fn, receiver, arg) {\n    this._normalQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncSettlePromises(promise) {\n    this._normalQueue._pushOne(promise);\n    this._queueTick();\n}\n\nif (!util.hasDevTools) {\n    Async.prototype.invokeLater = AsyncInvokeLater;\n    Async.prototype.invoke = AsyncInvoke;\n    Async.prototype.settlePromises = AsyncSettlePromises;\n} else {\n    Async.prototype.invokeLater = function (fn, receiver, arg) {\n        if (this._trampolineEnabled) {\n            AsyncInvokeLater.call(this, fn, receiver, arg);\n        } else {\n            this._schedule(function() {\n                setTimeout(function() {\n                    fn.call(receiver, arg);\n                }, 100);\n            });\n        }\n    };\n\n    Async.prototype.invoke = function (fn, receiver, arg) {\n        if (this._trampolineEnabled) {\n            AsyncInvoke.call(this, fn, receiver, arg);\n        } else {\n            this._schedule(function() {\n                fn.call(receiver, arg);\n            });\n        }\n    };\n\n    Async.prototype.settlePromises = function(promise) {\n        if (this._trampolineEnabled) {\n            AsyncSettlePromises.call(this, promise);\n        } else {\n            this._schedule(function() {\n                promise._settlePromises();\n            });\n        }\n    };\n}\n\nAsync.prototype._drainQueue = function(queue) {\n    while (queue.length() > 0) {\n        var fn = queue.shift();\n        if (typeof fn !== \"function\") {\n            fn._settlePromises();\n            continue;\n        }\n        var receiver = queue.shift();\n        var arg = queue.shift();\n        fn.call(receiver, arg);\n    }\n};\n\nAsync.prototype._drainQueues = function () {\n    this._drainQueue(this._normalQueue);\n    this._reset();\n    this._haveDrainedQueues = true;\n    this._drainQueue(this._lateQueue);\n};\n\nAsync.prototype._queueTick = function () {\n    if (!this._isTickUsed) {\n        this._isTickUsed = true;\n        this._schedule(this.drainQueues);\n    }\n};\n\nAsync.prototype._reset = function () {\n    this._isTickUsed = false;\n};\n\nmodule.exports = Async;\nmodule.exports.firstLineError = firstLineError;\n\n},{\"./queue\":26,\"./schedule\":29,\"./util\":36}],3:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise, debug) {\nvar calledBind = false;\nvar rejectThis = function(_, e) {\n    this._reject(e);\n};\n\nvar targetRejected = function(e, context) {\n    context.promiseRejectionQueued = true;\n    context.bindingPromise._then(rejectThis, rejectThis, null, this, e);\n};\n\nvar bindingResolved = function(thisArg, context) {\n    if (((this._bitField & 50397184) === 0)) {\n        this._resolveCallback(context.target);\n    }\n};\n\nvar bindingRejected = function(e, context) {\n    if (!context.promiseRejectionQueued) this._reject(e);\n};\n\nPromise.prototype.bind = function (thisArg) {\n    if (!calledBind) {\n        calledBind = true;\n        Promise.prototype._propagateFrom = debug.propagateFromFunction();\n        Promise.prototype._boundValue = debug.boundValueFunction();\n    }\n    var maybePromise = tryConvertToPromise(thisArg);\n    var ret = new Promise(INTERNAL);\n    ret._propagateFrom(this, 1);\n    var target = this._target();\n    ret._setBoundTo(maybePromise);\n    if (maybePromise instanceof Promise) {\n        var context = {\n            promiseRejectionQueued: false,\n            promise: ret,\n            target: target,\n            bindingPromise: maybePromise\n        };\n        target._then(INTERNAL, targetRejected, undefined, ret, context);\n        maybePromise._then(\n            bindingResolved, bindingRejected, undefined, ret, context);\n        ret._setOnCancel(maybePromise);\n    } else {\n        ret._resolveCallback(target);\n    }\n    return ret;\n};\n\nPromise.prototype._setBoundTo = function (obj) {\n    if (obj !== undefined) {\n        this._bitField = this._bitField | 2097152;\n        this._boundTo = obj;\n    } else {\n        this._bitField = this._bitField & (~2097152);\n    }\n};\n\nPromise.prototype._isBound = function () {\n    return (this._bitField & 2097152) === 2097152;\n};\n\nPromise.bind = function (thisArg, value) {\n    return Promise.resolve(value).bind(thisArg);\n};\n};\n\n},{}],4:[function(_dereq_,module,exports){\n\"use strict\";\nvar old;\nif (typeof Promise !== \"undefined\") old = Promise;\nfunction noConflict() {\n    try { if (Promise === bluebird) Promise = old; }\n    catch (e) {}\n    return bluebird;\n}\nvar bluebird = _dereq_(\"./promise\")();\nbluebird.noConflict = noConflict;\nmodule.exports = bluebird;\n\n},{\"./promise\":22}],5:[function(_dereq_,module,exports){\n\"use strict\";\nvar cr = Object.create;\nif (cr) {\n    var callerCache = cr(null);\n    var getterCache = cr(null);\n    callerCache[\" size\"] = getterCache[\" size\"] = 0;\n}\n\nmodule.exports = function(Promise) {\nvar util = _dereq_(\"./util\");\nvar canEvaluate = util.canEvaluate;\nvar isIdentifier = util.isIdentifier;\n\nvar getMethodCaller;\nvar getGetter;\nif (!true) {\nvar makeMethodCaller = function (methodName) {\n    return new Function(\"ensureMethod\", \"                                    \\n\\\n        return function(obj) {                                               \\n\\\n            'use strict'                                                     \\n\\\n            var len = this.length;                                           \\n\\\n            ensureMethod(obj, 'methodName');                                 \\n\\\n            switch(len) {                                                    \\n\\\n                case 1: return obj.methodName(this[0]);                      \\n\\\n                case 2: return obj.methodName(this[0], this[1]);             \\n\\\n                case 3: return obj.methodName(this[0], this[1], this[2]);    \\n\\\n                case 0: return obj.methodName();                             \\n\\\n                default:                                                     \\n\\\n                    return obj.methodName.apply(obj, this);                  \\n\\\n            }                                                                \\n\\\n        };                                                                   \\n\\\n        \".replace(/methodName/g, methodName))(ensureMethod);\n};\n\nvar makeGetter = function (propertyName) {\n    return new Function(\"obj\", \"                                             \\n\\\n        'use strict';                                                        \\n\\\n        return obj.propertyName;                                             \\n\\\n        \".replace(\"propertyName\", propertyName));\n};\n\nvar getCompiled = function(name, compiler, cache) {\n    var ret = cache[name];\n    if (typeof ret !== \"function\") {\n        if (!isIdentifier(name)) {\n            return null;\n        }\n        ret = compiler(name);\n        cache[name] = ret;\n        cache[\" size\"]++;\n        if (cache[\" size\"] > 512) {\n            var keys = Object.keys(cache);\n            for (var i = 0; i < 256; ++i) delete cache[keys[i]];\n            cache[\" size\"] = keys.length - 256;\n        }\n    }\n    return ret;\n};\n\ngetMethodCaller = function(name) {\n    return getCompiled(name, makeMethodCaller, callerCache);\n};\n\ngetGetter = function(name) {\n    return getCompiled(name, makeGetter, getterCache);\n};\n}\n\nfunction ensureMethod(obj, methodName) {\n    var fn;\n    if (obj != null) fn = obj[methodName];\n    if (typeof fn !== \"function\") {\n        var message = \"Object \" + util.classString(obj) + \" has no method '\" +\n            util.toString(methodName) + \"'\";\n        throw new Promise.TypeError(message);\n    }\n    return fn;\n}\n\nfunction caller(obj) {\n    var methodName = this.pop();\n    var fn = ensureMethod(obj, methodName);\n    return fn.apply(obj, this);\n}\nPromise.prototype.call = function (methodName) {\n    var args = [].slice.call(arguments, 1);;\n    if (!true) {\n        if (canEvaluate) {\n            var maybeCaller = getMethodCaller(methodName);\n            if (maybeCaller !== null) {\n                return this._then(\n                    maybeCaller, undefined, undefined, args, undefined);\n            }\n        }\n    }\n    args.push(methodName);\n    return this._then(caller, undefined, undefined, args, undefined);\n};\n\nfunction namedGetter(obj) {\n    return obj[this];\n}\nfunction indexedGetter(obj) {\n    var index = +this;\n    if (index < 0) index = Math.max(0, index + obj.length);\n    return obj[index];\n}\nPromise.prototype.get = function (propertyName) {\n    var isIndex = (typeof propertyName === \"number\");\n    var getter;\n    if (!isIndex) {\n        if (canEvaluate) {\n            var maybeGetter = getGetter(propertyName);\n            getter = maybeGetter !== null ? maybeGetter : namedGetter;\n        } else {\n            getter = namedGetter;\n        }\n    } else {\n        getter = indexedGetter;\n    }\n    return this._then(getter, undefined, undefined, propertyName, undefined);\n};\n};\n\n},{\"./util\":36}],6:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, PromiseArray, apiRejection, debug) {\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar async = Promise._async;\n\nPromise.prototype[\"break\"] = Promise.prototype.cancel = function() {\n    if (!debug.cancellation()) return this._warn(\"cancellation is disabled\");\n\n    var promise = this;\n    var child = promise;\n    while (promise._isCancellable()) {\n        if (!promise._cancelBy(child)) {\n            if (child._isFollowing()) {\n                child._followee().cancel();\n            } else {\n                child._cancelBranched();\n            }\n            break;\n        }\n\n        var parent = promise._cancellationParent;\n        if (parent == null || !parent._isCancellable()) {\n            if (promise._isFollowing()) {\n                promise._followee().cancel();\n            } else {\n                promise._cancelBranched();\n            }\n            break;\n        } else {\n            if (promise._isFollowing()) promise._followee().cancel();\n            promise._setWillBeCancelled();\n            child = promise;\n            promise = parent;\n        }\n    }\n};\n\nPromise.prototype._branchHasCancelled = function() {\n    this._branchesRemainingToCancel--;\n};\n\nPromise.prototype._enoughBranchesHaveCancelled = function() {\n    return this._branchesRemainingToCancel === undefined ||\n           this._branchesRemainingToCancel <= 0;\n};\n\nPromise.prototype._cancelBy = function(canceller) {\n    if (canceller === this) {\n        this._branchesRemainingToCancel = 0;\n        this._invokeOnCancel();\n        return true;\n    } else {\n        this._branchHasCancelled();\n        if (this._enoughBranchesHaveCancelled()) {\n            this._invokeOnCancel();\n            return true;\n        }\n    }\n    return false;\n};\n\nPromise.prototype._cancelBranched = function() {\n    if (this._enoughBranchesHaveCancelled()) {\n        this._cancel();\n    }\n};\n\nPromise.prototype._cancel = function() {\n    if (!this._isCancellable()) return;\n    this._setCancelled();\n    async.invoke(this._cancelPromises, this, undefined);\n};\n\nPromise.prototype._cancelPromises = function() {\n    if (this._length() > 0) this._settlePromises();\n};\n\nPromise.prototype._unsetOnCancel = function() {\n    this._onCancelField = undefined;\n};\n\nPromise.prototype._isCancellable = function() {\n    return this.isPending() && !this._isCancelled();\n};\n\nPromise.prototype.isCancellable = function() {\n    return this.isPending() && !this.isCancelled();\n};\n\nPromise.prototype._doInvokeOnCancel = function(onCancelCallback, internalOnly) {\n    if (util.isArray(onCancelCallback)) {\n        for (var i = 0; i < onCancelCallback.length; ++i) {\n            this._doInvokeOnCancel(onCancelCallback[i], internalOnly);\n        }\n    } else if (onCancelCallback !== undefined) {\n        if (typeof onCancelCallback === \"function\") {\n            if (!internalOnly) {\n                var e = tryCatch(onCancelCallback).call(this._boundValue());\n                if (e === errorObj) {\n                    this._attachExtraTrace(e.e);\n                    async.throwLater(e.e);\n                }\n            }\n        } else {\n            onCancelCallback._resultCancelled(this);\n        }\n    }\n};\n\nPromise.prototype._invokeOnCancel = function() {\n    var onCancelCallback = this._onCancel();\n    this._unsetOnCancel();\n    async.invoke(this._doInvokeOnCancel, this, onCancelCallback);\n};\n\nPromise.prototype._invokeInternalOnCancel = function() {\n    if (this._isCancellable()) {\n        this._doInvokeOnCancel(this._onCancel(), true);\n        this._unsetOnCancel();\n    }\n};\n\nPromise.prototype._resultCancelled = function() {\n    this.cancel();\n};\n\n};\n\n},{\"./util\":36}],7:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(NEXT_FILTER) {\nvar util = _dereq_(\"./util\");\nvar getKeys = _dereq_(\"./es5\").keys;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nfunction catchFilter(instances, cb, promise) {\n    return function(e) {\n        var boundTo = promise._boundValue();\n        predicateLoop: for (var i = 0; i < instances.length; ++i) {\n            var item = instances[i];\n\n            if (item === Error ||\n                (item != null && item.prototype instanceof Error)) {\n                if (e instanceof item) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (typeof item === \"function\") {\n                var matchesPredicate = tryCatch(item).call(boundTo, e);\n                if (matchesPredicate === errorObj) {\n                    return matchesPredicate;\n                } else if (matchesPredicate) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (util.isObject(e)) {\n                var keys = getKeys(item);\n                for (var j = 0; j < keys.length; ++j) {\n                    var key = keys[j];\n                    if (item[key] != e[key]) {\n                        continue predicateLoop;\n                    }\n                }\n                return tryCatch(cb).call(boundTo, e);\n            }\n        }\n        return NEXT_FILTER;\n    };\n}\n\nreturn catchFilter;\n};\n\n},{\"./es5\":13,\"./util\":36}],8:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar longStackTraces = false;\nvar contextStack = [];\n\nPromise.prototype._promiseCreated = function() {};\nPromise.prototype._pushContext = function() {};\nPromise.prototype._popContext = function() {return null;};\nPromise._peekContext = Promise.prototype._peekContext = function() {};\n\nfunction Context() {\n    this._trace = new Context.CapturedTrace(peekContext());\n}\nContext.prototype._pushContext = function () {\n    if (this._trace !== undefined) {\n        this._trace._promiseCreated = null;\n        contextStack.push(this._trace);\n    }\n};\n\nContext.prototype._popContext = function () {\n    if (this._trace !== undefined) {\n        var trace = contextStack.pop();\n        var ret = trace._promiseCreated;\n        trace._promiseCreated = null;\n        return ret;\n    }\n    return null;\n};\n\nfunction createContext() {\n    if (longStackTraces) return new Context();\n}\n\nfunction peekContext() {\n    var lastIndex = contextStack.length - 1;\n    if (lastIndex >= 0) {\n        return contextStack[lastIndex];\n    }\n    return undefined;\n}\nContext.CapturedTrace = null;\nContext.create = createContext;\nContext.deactivateLongStackTraces = function() {};\nContext.activateLongStackTraces = function() {\n    var Promise_pushContext = Promise.prototype._pushContext;\n    var Promise_popContext = Promise.prototype._popContext;\n    var Promise_PeekContext = Promise._peekContext;\n    var Promise_peekContext = Promise.prototype._peekContext;\n    var Promise_promiseCreated = Promise.prototype._promiseCreated;\n    Context.deactivateLongStackTraces = function() {\n        Promise.prototype._pushContext = Promise_pushContext;\n        Promise.prototype._popContext = Promise_popContext;\n        Promise._peekContext = Promise_PeekContext;\n        Promise.prototype._peekContext = Promise_peekContext;\n        Promise.prototype._promiseCreated = Promise_promiseCreated;\n        longStackTraces = false;\n    };\n    longStackTraces = true;\n    Promise.prototype._pushContext = Context.prototype._pushContext;\n    Promise.prototype._popContext = Context.prototype._popContext;\n    Promise._peekContext = Promise.prototype._peekContext = peekContext;\n    Promise.prototype._promiseCreated = function() {\n        var ctx = this._peekContext();\n        if (ctx && ctx._promiseCreated == null) ctx._promiseCreated = this;\n    };\n};\nreturn Context;\n};\n\n},{}],9:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, Context) {\nvar getDomain = Promise._getDomain;\nvar async = Promise._async;\nvar Warning = _dereq_(\"./errors\").Warning;\nvar util = _dereq_(\"./util\");\nvar canAttachTrace = util.canAttachTrace;\nvar unhandledRejectionHandled;\nvar possiblyUnhandledRejection;\nvar bluebirdFramePattern =\n    /[\\\\\\/]bluebird[\\\\\\/]js[\\\\\\/](release|debug|instrumented)/;\nvar nodeFramePattern = /\\((?:timers\\.js):\\d+:\\d+\\)/;\nvar parseLinePattern = /[\\/<\\(](.+?):(\\d+):(\\d+)\\)?\\s*$/;\nvar stackFramePattern = null;\nvar formatStack = null;\nvar indentStackFrames = false;\nvar printWarning;\nvar debugging = !!(util.env(\"BLUEBIRD_DEBUG\") != 0 &&\n                        (true ||\n                         util.env(\"BLUEBIRD_DEBUG\") ||\n                         util.env(\"NODE_ENV\") === \"development\"));\n\nvar warnings = !!(util.env(\"BLUEBIRD_WARNINGS\") != 0 &&\n    (debugging || util.env(\"BLUEBIRD_WARNINGS\")));\n\nvar longStackTraces = !!(util.env(\"BLUEBIRD_LONG_STACK_TRACES\") != 0 &&\n    (debugging || util.env(\"BLUEBIRD_LONG_STACK_TRACES\")));\n\nvar wForgottenReturn = util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\") != 0 &&\n    (warnings || !!util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\"));\n\nPromise.prototype.suppressUnhandledRejections = function() {\n    var target = this._target();\n    target._bitField = ((target._bitField & (~1048576)) |\n                      524288);\n};\n\nPromise.prototype._ensurePossibleRejectionHandled = function () {\n    if ((this._bitField & 524288) !== 0) return;\n    this._setRejectionIsUnhandled();\n    async.invokeLater(this._notifyUnhandledRejection, this, undefined);\n};\n\nPromise.prototype._notifyUnhandledRejectionIsHandled = function () {\n    fireRejectionEvent(\"rejectionHandled\",\n                                  unhandledRejectionHandled, undefined, this);\n};\n\nPromise.prototype._setReturnedNonUndefined = function() {\n    this._bitField = this._bitField | 268435456;\n};\n\nPromise.prototype._returnedNonUndefined = function() {\n    return (this._bitField & 268435456) !== 0;\n};\n\nPromise.prototype._notifyUnhandledRejection = function () {\n    if (this._isRejectionUnhandled()) {\n        var reason = this._settledValue();\n        this._setUnhandledRejectionIsNotified();\n        fireRejectionEvent(\"unhandledRejection\",\n                                      possiblyUnhandledRejection, reason, this);\n    }\n};\n\nPromise.prototype._setUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField | 262144;\n};\n\nPromise.prototype._unsetUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField & (~262144);\n};\n\nPromise.prototype._isUnhandledRejectionNotified = function () {\n    return (this._bitField & 262144) > 0;\n};\n\nPromise.prototype._setRejectionIsUnhandled = function () {\n    this._bitField = this._bitField | 1048576;\n};\n\nPromise.prototype._unsetRejectionIsUnhandled = function () {\n    this._bitField = this._bitField & (~1048576);\n    if (this._isUnhandledRejectionNotified()) {\n        this._unsetUnhandledRejectionIsNotified();\n        this._notifyUnhandledRejectionIsHandled();\n    }\n};\n\nPromise.prototype._isRejectionUnhandled = function () {\n    return (this._bitField & 1048576) > 0;\n};\n\nPromise.prototype._warn = function(message, shouldUseOwnTrace, promise) {\n    return warn(message, shouldUseOwnTrace, promise || this);\n};\n\nPromise.onPossiblyUnhandledRejection = function (fn) {\n    var domain = getDomain();\n    possiblyUnhandledRejection =\n        typeof fn === \"function\" ? (domain === null ?\n                                            fn : util.domainBind(domain, fn))\n                                 : undefined;\n};\n\nPromise.onUnhandledRejectionHandled = function (fn) {\n    var domain = getDomain();\n    unhandledRejectionHandled =\n        typeof fn === \"function\" ? (domain === null ?\n                                            fn : util.domainBind(domain, fn))\n                                 : undefined;\n};\n\nvar disableLongStackTraces = function() {};\nPromise.longStackTraces = function () {\n    if (async.haveItemsQueued() && !config.longStackTraces) {\n        throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    if (!config.longStackTraces && longStackTracesIsSupported()) {\n        var Promise_captureStackTrace = Promise.prototype._captureStackTrace;\n        var Promise_attachExtraTrace = Promise.prototype._attachExtraTrace;\n        config.longStackTraces = true;\n        disableLongStackTraces = function() {\n            if (async.haveItemsQueued() && !config.longStackTraces) {\n                throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n            }\n            Promise.prototype._captureStackTrace = Promise_captureStackTrace;\n            Promise.prototype._attachExtraTrace = Promise_attachExtraTrace;\n            Context.deactivateLongStackTraces();\n            async.enableTrampoline();\n            config.longStackTraces = false;\n        };\n        Promise.prototype._captureStackTrace = longStackTracesCaptureStackTrace;\n        Promise.prototype._attachExtraTrace = longStackTracesAttachExtraTrace;\n        Context.activateLongStackTraces();\n        async.disableTrampolineIfNecessary();\n    }\n};\n\nPromise.hasLongStackTraces = function () {\n    return config.longStackTraces && longStackTracesIsSupported();\n};\n\nvar fireDomEvent = (function() {\n    try {\n        if (typeof CustomEvent === \"function\") {\n            var event = new CustomEvent(\"CustomEvent\");\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = new CustomEvent(name.toLowerCase(), {\n                    detail: event,\n                    cancelable: true\n                });\n                return !util.global.dispatchEvent(domEvent);\n            };\n        } else if (typeof Event === \"function\") {\n            var event = new Event(\"CustomEvent\");\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = new Event(name.toLowerCase(), {\n                    cancelable: true\n                });\n                domEvent.detail = event;\n                return !util.global.dispatchEvent(domEvent);\n            };\n        } else {\n            var event = document.createEvent(\"CustomEvent\");\n            event.initCustomEvent(\"testingtheevent\", false, true, {});\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = document.createEvent(\"CustomEvent\");\n                domEvent.initCustomEvent(name.toLowerCase(), false, true,\n                    event);\n                return !util.global.dispatchEvent(domEvent);\n            };\n        }\n    } catch (e) {}\n    return function() {\n        return false;\n    };\n})();\n\nvar fireGlobalEvent = (function() {\n    if (util.isNode) {\n        return function() {\n            return process.emit.apply(process, arguments);\n        };\n    } else {\n        if (!util.global) {\n            return function() {\n                return false;\n            };\n        }\n        return function(name) {\n            var methodName = \"on\" + name.toLowerCase();\n            var method = util.global[methodName];\n            if (!method) return false;\n            method.apply(util.global, [].slice.call(arguments, 1));\n            return true;\n        };\n    }\n})();\n\nfunction generatePromiseLifecycleEventObject(name, promise) {\n    return {promise: promise};\n}\n\nvar eventToObjectGenerator = {\n    promiseCreated: generatePromiseLifecycleEventObject,\n    promiseFulfilled: generatePromiseLifecycleEventObject,\n    promiseRejected: generatePromiseLifecycleEventObject,\n    promiseResolved: generatePromiseLifecycleEventObject,\n    promiseCancelled: generatePromiseLifecycleEventObject,\n    promiseChained: function(name, promise, child) {\n        return {promise: promise, child: child};\n    },\n    warning: function(name, warning) {\n        return {warning: warning};\n    },\n    unhandledRejection: function (name, reason, promise) {\n        return {reason: reason, promise: promise};\n    },\n    rejectionHandled: generatePromiseLifecycleEventObject\n};\n\nvar activeFireEvent = function (name) {\n    var globalEventFired = false;\n    try {\n        globalEventFired = fireGlobalEvent.apply(null, arguments);\n    } catch (e) {\n        async.throwLater(e);\n        globalEventFired = true;\n    }\n\n    var domEventFired = false;\n    try {\n        domEventFired = fireDomEvent(name,\n                    eventToObjectGenerator[name].apply(null, arguments));\n    } catch (e) {\n        async.throwLater(e);\n        domEventFired = true;\n    }\n\n    return domEventFired || globalEventFired;\n};\n\nPromise.config = function(opts) {\n    opts = Object(opts);\n    if (\"longStackTraces\" in opts) {\n        if (opts.longStackTraces) {\n            Promise.longStackTraces();\n        } else if (!opts.longStackTraces && Promise.hasLongStackTraces()) {\n            disableLongStackTraces();\n        }\n    }\n    if (\"warnings\" in opts) {\n        var warningsOption = opts.warnings;\n        config.warnings = !!warningsOption;\n        wForgottenReturn = config.warnings;\n\n        if (util.isObject(warningsOption)) {\n            if (\"wForgottenReturn\" in warningsOption) {\n                wForgottenReturn = !!warningsOption.wForgottenReturn;\n            }\n        }\n    }\n    if (\"cancellation\" in opts && opts.cancellation && !config.cancellation) {\n        if (async.haveItemsQueued()) {\n            throw new Error(\n                \"cannot enable cancellation after promises are in use\");\n        }\n        Promise.prototype._clearCancellationData =\n            cancellationClearCancellationData;\n        Promise.prototype._propagateFrom = cancellationPropagateFrom;\n        Promise.prototype._onCancel = cancellationOnCancel;\n        Promise.prototype._setOnCancel = cancellationSetOnCancel;\n        Promise.prototype._attachCancellationCallback =\n            cancellationAttachCancellationCallback;\n        Promise.prototype._execute = cancellationExecute;\n        propagateFromFunction = cancellationPropagateFrom;\n        config.cancellation = true;\n    }\n    if (\"monitoring\" in opts) {\n        if (opts.monitoring && !config.monitoring) {\n            config.monitoring = true;\n            Promise.prototype._fireEvent = activeFireEvent;\n        } else if (!opts.monitoring && config.monitoring) {\n            config.monitoring = false;\n            Promise.prototype._fireEvent = defaultFireEvent;\n        }\n    }\n    return Promise;\n};\n\nfunction defaultFireEvent() { return false; }\n\nPromise.prototype._fireEvent = defaultFireEvent;\nPromise.prototype._execute = function(executor, resolve, reject) {\n    try {\n        executor(resolve, reject);\n    } catch (e) {\n        return e;\n    }\n};\nPromise.prototype._onCancel = function () {};\nPromise.prototype._setOnCancel = function (handler) { ; };\nPromise.prototype._attachCancellationCallback = function(onCancel) {\n    ;\n};\nPromise.prototype._captureStackTrace = function () {};\nPromise.prototype._attachExtraTrace = function () {};\nPromise.prototype._clearCancellationData = function() {};\nPromise.prototype._propagateFrom = function (parent, flags) {\n    ;\n    ;\n};\n\nfunction cancellationExecute(executor, resolve, reject) {\n    var promise = this;\n    try {\n        executor(resolve, reject, function(onCancel) {\n            if (typeof onCancel !== \"function\") {\n                throw new TypeError(\"onCancel must be a function, got: \" +\n                                    util.toString(onCancel));\n            }\n            promise._attachCancellationCallback(onCancel);\n        });\n    } catch (e) {\n        return e;\n    }\n}\n\nfunction cancellationAttachCancellationCallback(onCancel) {\n    if (!this._isCancellable()) return this;\n\n    var previousOnCancel = this._onCancel();\n    if (previousOnCancel !== undefined) {\n        if (util.isArray(previousOnCancel)) {\n            previousOnCancel.push(onCancel);\n        } else {\n            this._setOnCancel([previousOnCancel, onCancel]);\n        }\n    } else {\n        this._setOnCancel(onCancel);\n    }\n}\n\nfunction cancellationOnCancel() {\n    return this._onCancelField;\n}\n\nfunction cancellationSetOnCancel(onCancel) {\n    this._onCancelField = onCancel;\n}\n\nfunction cancellationClearCancellationData() {\n    this._cancellationParent = undefined;\n    this._onCancelField = undefined;\n}\n\nfunction cancellationPropagateFrom(parent, flags) {\n    if ((flags & 1) !== 0) {\n        this._cancellationParent = parent;\n        var branchesRemainingToCancel = parent._branchesRemainingToCancel;\n        if (branchesRemainingToCancel === undefined) {\n            branchesRemainingToCancel = 0;\n        }\n        parent._branchesRemainingToCancel = branchesRemainingToCancel + 1;\n    }\n    if ((flags & 2) !== 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n}\n\nfunction bindingPropagateFrom(parent, flags) {\n    if ((flags & 2) !== 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n}\nvar propagateFromFunction = bindingPropagateFrom;\n\nfunction boundValueFunction() {\n    var ret = this._boundTo;\n    if (ret !== undefined) {\n        if (ret instanceof Promise) {\n            if (ret.isFulfilled()) {\n                return ret.value();\n            } else {\n                return undefined;\n            }\n        }\n    }\n    return ret;\n}\n\nfunction longStackTracesCaptureStackTrace() {\n    this._trace = new CapturedTrace(this._peekContext());\n}\n\nfunction longStackTracesAttachExtraTrace(error, ignoreSelf) {\n    if (canAttachTrace(error)) {\n        var trace = this._trace;\n        if (trace !== undefined) {\n            if (ignoreSelf) trace = trace._parent;\n        }\n        if (trace !== undefined) {\n            trace.attachExtraTrace(error);\n        } else if (!error.__stackCleaned__) {\n            var parsed = parseStackAndMessage(error);\n            util.notEnumerableProp(error, \"stack\",\n                parsed.message + \"\\n\" + parsed.stack.join(\"\\n\"));\n            util.notEnumerableProp(error, \"__stackCleaned__\", true);\n        }\n    }\n}\n\nfunction checkForgottenReturns(returnValue, promiseCreated, name, promise,\n                               parent) {\n    if (returnValue === undefined && promiseCreated !== null &&\n        wForgottenReturn) {\n        if (parent !== undefined && parent._returnedNonUndefined()) return;\n        if ((promise._bitField & 65535) === 0) return;\n\n        if (name) name = name + \" \";\n        var handlerLine = \"\";\n        var creatorLine = \"\";\n        if (promiseCreated._trace) {\n            var traceLines = promiseCreated._trace.stack.split(\"\\n\");\n            var stack = cleanStack(traceLines);\n            for (var i = stack.length - 1; i >= 0; --i) {\n                var line = stack[i];\n                if (!nodeFramePattern.test(line)) {\n                    var lineMatches = line.match(parseLinePattern);\n                    if (lineMatches) {\n                        handlerLine  = \"at \" + lineMatches[1] +\n                            \":\" + lineMatches[2] + \":\" + lineMatches[3] + \" \";\n                    }\n                    break;\n                }\n            }\n\n            if (stack.length > 0) {\n                var firstUserLine = stack[0];\n                for (var i = 0; i < traceLines.length; ++i) {\n\n                    if (traceLines[i] === firstUserLine) {\n                        if (i > 0) {\n                            creatorLine = \"\\n\" + traceLines[i - 1];\n                        }\n                        break;\n                    }\n                }\n\n            }\n        }\n        var msg = \"a promise was created in a \" + name +\n            \"handler \" + handlerLine + \"but was not returned from it, \" +\n            \"see http://goo.gl/rRqMUw\" +\n            creatorLine;\n        promise._warn(msg, true, promiseCreated);\n    }\n}\n\nfunction deprecated(name, replacement) {\n    var message = name +\n        \" is deprecated and will be removed in a future version.\";\n    if (replacement) message += \" Use \" + replacement + \" instead.\";\n    return warn(message);\n}\n\nfunction warn(message, shouldUseOwnTrace, promise) {\n    if (!config.warnings) return;\n    var warning = new Warning(message);\n    var ctx;\n    if (shouldUseOwnTrace) {\n        promise._attachExtraTrace(warning);\n    } else if (config.longStackTraces && (ctx = Promise._peekContext())) {\n        ctx.attachExtraTrace(warning);\n    } else {\n        var parsed = parseStackAndMessage(warning);\n        warning.stack = parsed.message + \"\\n\" + parsed.stack.join(\"\\n\");\n    }\n\n    if (!activeFireEvent(\"warning\", warning)) {\n        formatAndLogError(warning, \"\", true);\n    }\n}\n\nfunction reconstructStack(message, stacks) {\n    for (var i = 0; i < stacks.length - 1; ++i) {\n        stacks[i].push(\"From previous event:\");\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    if (i < stacks.length) {\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    return message + \"\\n\" + stacks.join(\"\\n\");\n}\n\nfunction removeDuplicateOrEmptyJumps(stacks) {\n    for (var i = 0; i < stacks.length; ++i) {\n        if (stacks[i].length === 0 ||\n            ((i + 1 < stacks.length) && stacks[i][0] === stacks[i+1][0])) {\n            stacks.splice(i, 1);\n            i--;\n        }\n    }\n}\n\nfunction removeCommonRoots(stacks) {\n    var current = stacks[0];\n    for (var i = 1; i < stacks.length; ++i) {\n        var prev = stacks[i];\n        var currentLastIndex = current.length - 1;\n        var currentLastLine = current[currentLastIndex];\n        var commonRootMeetPoint = -1;\n\n        for (var j = prev.length - 1; j >= 0; --j) {\n            if (prev[j] === currentLastLine) {\n                commonRootMeetPoint = j;\n                break;\n            }\n        }\n\n        for (var j = commonRootMeetPoint; j >= 0; --j) {\n            var line = prev[j];\n            if (current[currentLastIndex] === line) {\n                current.pop();\n                currentLastIndex--;\n            } else {\n                break;\n            }\n        }\n        current = prev;\n    }\n}\n\nfunction cleanStack(stack) {\n    var ret = [];\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        var isTraceLine = \"    (No stack trace)\" === line ||\n            stackFramePattern.test(line);\n        var isInternalFrame = isTraceLine && shouldIgnore(line);\n        if (isTraceLine && !isInternalFrame) {\n            if (indentStackFrames && line.charAt(0) !== \" \") {\n                line = \"    \" + line;\n            }\n            ret.push(line);\n        }\n    }\n    return ret;\n}\n\nfunction stackFramesAsArray(error) {\n    var stack = error.stack.replace(/\\s+$/g, \"\").split(\"\\n\");\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        if (\"    (No stack trace)\" === line || stackFramePattern.test(line)) {\n            break;\n        }\n    }\n    if (i > 0 && error.name != \"SyntaxError\") {\n        stack = stack.slice(i);\n    }\n    return stack;\n}\n\nfunction parseStackAndMessage(error) {\n    var stack = error.stack;\n    var message = error.toString();\n    stack = typeof stack === \"string\" && stack.length > 0\n                ? stackFramesAsArray(error) : [\"    (No stack trace)\"];\n    return {\n        message: message,\n        stack: error.name == \"SyntaxError\" ? stack : cleanStack(stack)\n    };\n}\n\nfunction formatAndLogError(error, title, isSoft) {\n    if (typeof console !== \"undefined\") {\n        var message;\n        if (util.isObject(error)) {\n            var stack = error.stack;\n            message = title + formatStack(stack, error);\n        } else {\n            message = title + String(error);\n        }\n        if (typeof printWarning === \"function\") {\n            printWarning(message, isSoft);\n        } else if (typeof console.log === \"function\" ||\n            typeof console.log === \"object\") {\n            console.log(message);\n        }\n    }\n}\n\nfunction fireRejectionEvent(name, localHandler, reason, promise) {\n    var localEventFired = false;\n    try {\n        if (typeof localHandler === \"function\") {\n            localEventFired = true;\n            if (name === \"rejectionHandled\") {\n                localHandler(promise);\n            } else {\n                localHandler(reason, promise);\n            }\n        }\n    } catch (e) {\n        async.throwLater(e);\n    }\n\n    if (name === \"unhandledRejection\") {\n        if (!activeFireEvent(name, reason, promise) && !localEventFired) {\n            formatAndLogError(reason, \"Unhandled rejection \");\n        }\n    } else {\n        activeFireEvent(name, promise);\n    }\n}\n\nfunction formatNonError(obj) {\n    var str;\n    if (typeof obj === \"function\") {\n        str = \"[function \" +\n            (obj.name || \"anonymous\") +\n            \"]\";\n    } else {\n        str = obj && typeof obj.toString === \"function\"\n            ? obj.toString() : util.toString(obj);\n        var ruselessToString = /\\[object [a-zA-Z0-9$_]+\\]/;\n        if (ruselessToString.test(str)) {\n            try {\n                var newStr = JSON.stringify(obj);\n                str = newStr;\n            }\n            catch(e) {\n\n            }\n        }\n        if (str.length === 0) {\n            str = \"(empty array)\";\n        }\n    }\n    return (\"(<\" + snip(str) + \">, no stack trace)\");\n}\n\nfunction snip(str) {\n    var maxChars = 41;\n    if (str.length < maxChars) {\n        return str;\n    }\n    return str.substr(0, maxChars - 3) + \"...\";\n}\n\nfunction longStackTracesIsSupported() {\n    return typeof captureStackTrace === \"function\";\n}\n\nvar shouldIgnore = function() { return false; };\nvar parseLineInfoRegex = /[\\/<\\(]([^:\\/]+):(\\d+):(?:\\d+)\\)?\\s*$/;\nfunction parseLineInfo(line) {\n    var matches = line.match(parseLineInfoRegex);\n    if (matches) {\n        return {\n            fileName: matches[1],\n            line: parseInt(matches[2], 10)\n        };\n    }\n}\n\nfunction setBounds(firstLineError, lastLineError) {\n    if (!longStackTracesIsSupported()) return;\n    var firstStackLines = firstLineError.stack.split(\"\\n\");\n    var lastStackLines = lastLineError.stack.split(\"\\n\");\n    var firstIndex = -1;\n    var lastIndex = -1;\n    var firstFileName;\n    var lastFileName;\n    for (var i = 0; i < firstStackLines.length; ++i) {\n        var result = parseLineInfo(firstStackLines[i]);\n        if (result) {\n            firstFileName = result.fileName;\n            firstIndex = result.line;\n            break;\n        }\n    }\n    for (var i = 0; i < lastStackLines.length; ++i) {\n        var result = parseLineInfo(lastStackLines[i]);\n        if (result) {\n            lastFileName = result.fileName;\n            lastIndex = result.line;\n            break;\n        }\n    }\n    if (firstIndex < 0 || lastIndex < 0 || !firstFileName || !lastFileName ||\n        firstFileName !== lastFileName || firstIndex >= lastIndex) {\n        return;\n    }\n\n    shouldIgnore = function(line) {\n        if (bluebirdFramePattern.test(line)) return true;\n        var info = parseLineInfo(line);\n        if (info) {\n            if (info.fileName === firstFileName &&\n                (firstIndex <= info.line && info.line <= lastIndex)) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\n\nfunction CapturedTrace(parent) {\n    this._parent = parent;\n    this._promisesCreated = 0;\n    var length = this._length = 1 + (parent === undefined ? 0 : parent._length);\n    captureStackTrace(this, CapturedTrace);\n    if (length > 32) this.uncycle();\n}\nutil.inherits(CapturedTrace, Error);\nContext.CapturedTrace = CapturedTrace;\n\nCapturedTrace.prototype.uncycle = function() {\n    var length = this._length;\n    if (length < 2) return;\n    var nodes = [];\n    var stackToIndex = {};\n\n    for (var i = 0, node = this; node !== undefined; ++i) {\n        nodes.push(node);\n        node = node._parent;\n    }\n    length = this._length = i;\n    for (var i = length - 1; i >= 0; --i) {\n        var stack = nodes[i].stack;\n        if (stackToIndex[stack] === undefined) {\n            stackToIndex[stack] = i;\n        }\n    }\n    for (var i = 0; i < length; ++i) {\n        var currentStack = nodes[i].stack;\n        var index = stackToIndex[currentStack];\n        if (index !== undefined && index !== i) {\n            if (index > 0) {\n                nodes[index - 1]._parent = undefined;\n                nodes[index - 1]._length = 1;\n            }\n            nodes[i]._parent = undefined;\n            nodes[i]._length = 1;\n            var cycleEdgeNode = i > 0 ? nodes[i - 1] : this;\n\n            if (index < length - 1) {\n                cycleEdgeNode._parent = nodes[index + 1];\n                cycleEdgeNode._parent.uncycle();\n                cycleEdgeNode._length =\n                    cycleEdgeNode._parent._length + 1;\n            } else {\n                cycleEdgeNode._parent = undefined;\n                cycleEdgeNode._length = 1;\n            }\n            var currentChildLength = cycleEdgeNode._length + 1;\n            for (var j = i - 2; j >= 0; --j) {\n                nodes[j]._length = currentChildLength;\n                currentChildLength++;\n            }\n            return;\n        }\n    }\n};\n\nCapturedTrace.prototype.attachExtraTrace = function(error) {\n    if (error.__stackCleaned__) return;\n    this.uncycle();\n    var parsed = parseStackAndMessage(error);\n    var message = parsed.message;\n    var stacks = [parsed.stack];\n\n    var trace = this;\n    while (trace !== undefined) {\n        stacks.push(cleanStack(trace.stack.split(\"\\n\")));\n        trace = trace._parent;\n    }\n    removeCommonRoots(stacks);\n    removeDuplicateOrEmptyJumps(stacks);\n    util.notEnumerableProp(error, \"stack\", reconstructStack(message, stacks));\n    util.notEnumerableProp(error, \"__stackCleaned__\", true);\n};\n\nvar captureStackTrace = (function stackDetection() {\n    var v8stackFramePattern = /^\\s*at\\s*/;\n    var v8stackFormatter = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if (error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    if (typeof Error.stackTraceLimit === \"number\" &&\n        typeof Error.captureStackTrace === \"function\") {\n        Error.stackTraceLimit += 6;\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        var captureStackTrace = Error.captureStackTrace;\n\n        shouldIgnore = function(line) {\n            return bluebirdFramePattern.test(line);\n        };\n        return function(receiver, ignoreUntil) {\n            Error.stackTraceLimit += 6;\n            captureStackTrace(receiver, ignoreUntil);\n            Error.stackTraceLimit -= 6;\n        };\n    }\n    var err = new Error();\n\n    if (typeof err.stack === \"string\" &&\n        err.stack.split(\"\\n\")[0].indexOf(\"stackDetection@\") >= 0) {\n        stackFramePattern = /@/;\n        formatStack = v8stackFormatter;\n        indentStackFrames = true;\n        return function captureStackTrace(o) {\n            o.stack = new Error().stack;\n        };\n    }\n\n    var hasStackAfterThrow;\n    try { throw new Error(); }\n    catch(e) {\n        hasStackAfterThrow = (\"stack\" in e);\n    }\n    if (!(\"stack\" in err) && hasStackAfterThrow &&\n        typeof Error.stackTraceLimit === \"number\") {\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        return function captureStackTrace(o) {\n            Error.stackTraceLimit += 6;\n            try { throw new Error(); }\n            catch(e) { o.stack = e.stack; }\n            Error.stackTraceLimit -= 6;\n        };\n    }\n\n    formatStack = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if ((typeof error === \"object\" ||\n            typeof error === \"function\") &&\n            error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    return null;\n\n})([]);\n\nif (typeof console !== \"undefined\" && typeof console.warn !== \"undefined\") {\n    printWarning = function (message) {\n        console.warn(message);\n    };\n    if (util.isNode && process.stderr.isTTY) {\n        printWarning = function(message, isSoft) {\n            var color = isSoft ? \"\\u001b[33m\" : \"\\u001b[31m\";\n            console.warn(color + message + \"\\u001b[0m\\n\");\n        };\n    } else if (!util.isNode && typeof (new Error().stack) === \"string\") {\n        printWarning = function(message, isSoft) {\n            console.warn(\"%c\" + message,\n                        isSoft ? \"color: darkorange\" : \"color: red\");\n        };\n    }\n}\n\nvar config = {\n    warnings: warnings,\n    longStackTraces: false,\n    cancellation: false,\n    monitoring: false\n};\n\nif (longStackTraces) Promise.longStackTraces();\n\nreturn {\n    longStackTraces: function() {\n        return config.longStackTraces;\n    },\n    warnings: function() {\n        return config.warnings;\n    },\n    cancellation: function() {\n        return config.cancellation;\n    },\n    monitoring: function() {\n        return config.monitoring;\n    },\n    propagateFromFunction: function() {\n        return propagateFromFunction;\n    },\n    boundValueFunction: function() {\n        return boundValueFunction;\n    },\n    checkForgottenReturns: checkForgottenReturns,\n    setBounds: setBounds,\n    warn: warn,\n    deprecated: deprecated,\n    CapturedTrace: CapturedTrace,\n    fireDomEvent: fireDomEvent,\n    fireGlobalEvent: fireGlobalEvent\n};\n};\n\n},{\"./errors\":12,\"./util\":36}],10:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nfunction returner() {\n    return this.value;\n}\nfunction thrower() {\n    throw this.reason;\n}\n\nPromise.prototype[\"return\"] =\nPromise.prototype.thenReturn = function (value) {\n    if (value instanceof Promise) value.suppressUnhandledRejections();\n    return this._then(\n        returner, undefined, undefined, {value: value}, undefined);\n};\n\nPromise.prototype[\"throw\"] =\nPromise.prototype.thenThrow = function (reason) {\n    return this._then(\n        thrower, undefined, undefined, {reason: reason}, undefined);\n};\n\nPromise.prototype.catchThrow = function (reason) {\n    if (arguments.length <= 1) {\n        return this._then(\n            undefined, thrower, undefined, {reason: reason}, undefined);\n    } else {\n        var _reason = arguments[1];\n        var handler = function() {throw _reason;};\n        return this.caught(reason, handler);\n    }\n};\n\nPromise.prototype.catchReturn = function (value) {\n    if (arguments.length <= 1) {\n        if (value instanceof Promise) value.suppressUnhandledRejections();\n        return this._then(\n            undefined, returner, undefined, {value: value}, undefined);\n    } else {\n        var _value = arguments[1];\n        if (_value instanceof Promise) _value.suppressUnhandledRejections();\n        var handler = function() {return _value;};\n        return this.caught(value, handler);\n    }\n};\n};\n\n},{}],11:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar PromiseReduce = Promise.reduce;\nvar PromiseAll = Promise.all;\n\nfunction promiseAllThis() {\n    return PromiseAll(this);\n}\n\nfunction PromiseMapSeries(promises, fn) {\n    return PromiseReduce(promises, fn, INTERNAL, INTERNAL);\n}\n\nPromise.prototype.each = function (fn) {\n    return PromiseReduce(this, fn, INTERNAL, 0)\n              ._then(promiseAllThis, undefined, undefined, this, undefined);\n};\n\nPromise.prototype.mapSeries = function (fn) {\n    return PromiseReduce(this, fn, INTERNAL, INTERNAL);\n};\n\nPromise.each = function (promises, fn) {\n    return PromiseReduce(promises, fn, INTERNAL, 0)\n              ._then(promiseAllThis, undefined, undefined, promises, undefined);\n};\n\nPromise.mapSeries = PromiseMapSeries;\n};\n\n\n},{}],12:[function(_dereq_,module,exports){\n\"use strict\";\nvar es5 = _dereq_(\"./es5\");\nvar Objectfreeze = es5.freeze;\nvar util = _dereq_(\"./util\");\nvar inherits = util.inherits;\nvar notEnumerableProp = util.notEnumerableProp;\n\nfunction subError(nameProperty, defaultMessage) {\n    function SubError(message) {\n        if (!(this instanceof SubError)) return new SubError(message);\n        notEnumerableProp(this, \"message\",\n            typeof message === \"string\" ? message : defaultMessage);\n        notEnumerableProp(this, \"name\", nameProperty);\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, this.constructor);\n        } else {\n            Error.call(this);\n        }\n    }\n    inherits(SubError, Error);\n    return SubError;\n}\n\nvar _TypeError, _RangeError;\nvar Warning = subError(\"Warning\", \"warning\");\nvar CancellationError = subError(\"CancellationError\", \"cancellation error\");\nvar TimeoutError = subError(\"TimeoutError\", \"timeout error\");\nvar AggregateError = subError(\"AggregateError\", \"aggregate error\");\ntry {\n    _TypeError = TypeError;\n    _RangeError = RangeError;\n} catch(e) {\n    _TypeError = subError(\"TypeError\", \"type error\");\n    _RangeError = subError(\"RangeError\", \"range error\");\n}\n\nvar methods = (\"join pop push shift unshift slice filter forEach some \" +\n    \"every map indexOf lastIndexOf reduce reduceRight sort reverse\").split(\" \");\n\nfor (var i = 0; i < methods.length; ++i) {\n    if (typeof Array.prototype[methods[i]] === \"function\") {\n        AggregateError.prototype[methods[i]] = Array.prototype[methods[i]];\n    }\n}\n\nes5.defineProperty(AggregateError.prototype, \"length\", {\n    value: 0,\n    configurable: false,\n    writable: true,\n    enumerable: true\n});\nAggregateError.prototype[\"isOperational\"] = true;\nvar level = 0;\nAggregateError.prototype.toString = function() {\n    var indent = Array(level * 4 + 1).join(\" \");\n    var ret = \"\\n\" + indent + \"AggregateError of:\" + \"\\n\";\n    level++;\n    indent = Array(level * 4 + 1).join(\" \");\n    for (var i = 0; i < this.length; ++i) {\n        var str = this[i] === this ? \"[Circular AggregateError]\" : this[i] + \"\";\n        var lines = str.split(\"\\n\");\n        for (var j = 0; j < lines.length; ++j) {\n            lines[j] = indent + lines[j];\n        }\n        str = lines.join(\"\\n\");\n        ret += str + \"\\n\";\n    }\n    level--;\n    return ret;\n};\n\nfunction OperationalError(message) {\n    if (!(this instanceof OperationalError))\n        return new OperationalError(message);\n    notEnumerableProp(this, \"name\", \"OperationalError\");\n    notEnumerableProp(this, \"message\", message);\n    this.cause = message;\n    this[\"isOperational\"] = true;\n\n    if (message instanceof Error) {\n        notEnumerableProp(this, \"message\", message.message);\n        notEnumerableProp(this, \"stack\", message.stack);\n    } else if (Error.captureStackTrace) {\n        Error.captureStackTrace(this, this.constructor);\n    }\n\n}\ninherits(OperationalError, Error);\n\nvar errorTypes = Error[\"__BluebirdErrorTypes__\"];\nif (!errorTypes) {\n    errorTypes = Objectfreeze({\n        CancellationError: CancellationError,\n        TimeoutError: TimeoutError,\n        OperationalError: OperationalError,\n        RejectionError: OperationalError,\n        AggregateError: AggregateError\n    });\n    es5.defineProperty(Error, \"__BluebirdErrorTypes__\", {\n        value: errorTypes,\n        writable: false,\n        enumerable: false,\n        configurable: false\n    });\n}\n\nmodule.exports = {\n    Error: Error,\n    TypeError: _TypeError,\n    RangeError: _RangeError,\n    CancellationError: errorTypes.CancellationError,\n    OperationalError: errorTypes.OperationalError,\n    TimeoutError: errorTypes.TimeoutError,\n    AggregateError: errorTypes.AggregateError,\n    Warning: Warning\n};\n\n},{\"./es5\":13,\"./util\":36}],13:[function(_dereq_,module,exports){\nvar isES5 = (function(){\n    \"use strict\";\n    return this === undefined;\n})();\n\nif (isES5) {\n    module.exports = {\n        freeze: Object.freeze,\n        defineProperty: Object.defineProperty,\n        getDescriptor: Object.getOwnPropertyDescriptor,\n        keys: Object.keys,\n        names: Object.getOwnPropertyNames,\n        getPrototypeOf: Object.getPrototypeOf,\n        isArray: Array.isArray,\n        isES5: isES5,\n        propertyIsWritable: function(obj, prop) {\n            var descriptor = Object.getOwnPropertyDescriptor(obj, prop);\n            return !!(!descriptor || descriptor.writable || descriptor.set);\n        }\n    };\n} else {\n    var has = {}.hasOwnProperty;\n    var str = {}.toString;\n    var proto = {}.constructor.prototype;\n\n    var ObjectKeys = function (o) {\n        var ret = [];\n        for (var key in o) {\n            if (has.call(o, key)) {\n                ret.push(key);\n            }\n        }\n        return ret;\n    };\n\n    var ObjectGetDescriptor = function(o, key) {\n        return {value: o[key]};\n    };\n\n    var ObjectDefineProperty = function (o, key, desc) {\n        o[key] = desc.value;\n        return o;\n    };\n\n    var ObjectFreeze = function (obj) {\n        return obj;\n    };\n\n    var ObjectGetPrototypeOf = function (obj) {\n        try {\n            return Object(obj).constructor.prototype;\n        }\n        catch (e) {\n            return proto;\n        }\n    };\n\n    var ArrayIsArray = function (obj) {\n        try {\n            return str.call(obj) === \"[object Array]\";\n        }\n        catch(e) {\n            return false;\n        }\n    };\n\n    module.exports = {\n        isArray: ArrayIsArray,\n        keys: ObjectKeys,\n        names: ObjectKeys,\n        defineProperty: ObjectDefineProperty,\n        getDescriptor: ObjectGetDescriptor,\n        freeze: ObjectFreeze,\n        getPrototypeOf: ObjectGetPrototypeOf,\n        isES5: isES5,\n        propertyIsWritable: function() {\n            return true;\n        }\n    };\n}\n\n},{}],14:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar PromiseMap = Promise.map;\n\nPromise.prototype.filter = function (fn, options) {\n    return PromiseMap(this, fn, options, INTERNAL);\n};\n\nPromise.filter = function (promises, fn, options) {\n    return PromiseMap(promises, fn, options, INTERNAL);\n};\n};\n\n},{}],15:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, tryConvertToPromise, NEXT_FILTER) {\nvar util = _dereq_(\"./util\");\nvar CancellationError = Promise.CancellationError;\nvar errorObj = util.errorObj;\nvar catchFilter = _dereq_(\"./catch_filter\")(NEXT_FILTER);\n\nfunction PassThroughHandlerContext(promise, type, handler) {\n    this.promise = promise;\n    this.type = type;\n    this.handler = handler;\n    this.called = false;\n    this.cancelPromise = null;\n}\n\nPassThroughHandlerContext.prototype.isFinallyHandler = function() {\n    return this.type === 0;\n};\n\nfunction FinallyHandlerCancelReaction(finallyHandler) {\n    this.finallyHandler = finallyHandler;\n}\n\nFinallyHandlerCancelReaction.prototype._resultCancelled = function() {\n    checkCancel(this.finallyHandler);\n};\n\nfunction checkCancel(ctx, reason) {\n    if (ctx.cancelPromise != null) {\n        if (arguments.length > 1) {\n            ctx.cancelPromise._reject(reason);\n        } else {\n            ctx.cancelPromise._cancel();\n        }\n        ctx.cancelPromise = null;\n        return true;\n    }\n    return false;\n}\n\nfunction succeed() {\n    return finallyHandler.call(this, this.promise._target()._settledValue());\n}\nfunction fail(reason) {\n    if (checkCancel(this, reason)) return;\n    errorObj.e = reason;\n    return errorObj;\n}\nfunction finallyHandler(reasonOrValue) {\n    var promise = this.promise;\n    var handler = this.handler;\n\n    if (!this.called) {\n        this.called = true;\n        var ret = this.isFinallyHandler()\n            ? handler.call(promise._boundValue())\n            : handler.call(promise._boundValue(), reasonOrValue);\n        if (ret === NEXT_FILTER) {\n            return ret;\n        } else if (ret !== undefined) {\n            promise._setReturnedNonUndefined();\n            var maybePromise = tryConvertToPromise(ret, promise);\n            if (maybePromise instanceof Promise) {\n                if (this.cancelPromise != null) {\n                    if (maybePromise._isCancelled()) {\n                        var reason =\n                            new CancellationError(\"late cancellation observer\");\n                        promise._attachExtraTrace(reason);\n                        errorObj.e = reason;\n                        return errorObj;\n                    } else if (maybePromise.isPending()) {\n                        maybePromise._attachCancellationCallback(\n                            new FinallyHandlerCancelReaction(this));\n                    }\n                }\n                return maybePromise._then(\n                    succeed, fail, undefined, this, undefined);\n            }\n        }\n    }\n\n    if (promise.isRejected()) {\n        checkCancel(this);\n        errorObj.e = reasonOrValue;\n        return errorObj;\n    } else {\n        checkCancel(this);\n        return reasonOrValue;\n    }\n}\n\nPromise.prototype._passThrough = function(handler, type, success, fail) {\n    if (typeof handler !== \"function\") return this.then();\n    return this._then(success,\n                      fail,\n                      undefined,\n                      new PassThroughHandlerContext(this, type, handler),\n                      undefined);\n};\n\nPromise.prototype.lastly =\nPromise.prototype[\"finally\"] = function (handler) {\n    return this._passThrough(handler,\n                             0,\n                             finallyHandler,\n                             finallyHandler);\n};\n\n\nPromise.prototype.tap = function (handler) {\n    return this._passThrough(handler, 1, finallyHandler);\n};\n\nPromise.prototype.tapCatch = function (handlerOrPredicate) {\n    var len = arguments.length;\n    if(len === 1) {\n        return this._passThrough(handlerOrPredicate,\n                                 1,\n                                 undefined,\n                                 finallyHandler);\n    } else {\n         var catchInstances = new Array(len - 1),\n            j = 0, i;\n        for (i = 0; i < len - 1; ++i) {\n            var item = arguments[i];\n            if (util.isObject(item)) {\n                catchInstances[j++] = item;\n            } else {\n                return Promise.reject(new TypeError(\n                    \"tapCatch statement predicate: \"\n                    + \"expecting an object but got \" + util.classString(item)\n                ));\n            }\n        }\n        catchInstances.length = j;\n        var handler = arguments[i];\n        return this._passThrough(catchFilter(catchInstances, handler, this),\n                                 1,\n                                 undefined,\n                                 finallyHandler);\n    }\n\n};\n\nreturn PassThroughHandlerContext;\n};\n\n},{\"./catch_filter\":7,\"./util\":36}],16:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          apiRejection,\n                          INTERNAL,\n                          tryConvertToPromise,\n                          Proxyable,\n                          debug) {\nvar errors = _dereq_(\"./errors\");\nvar TypeError = errors.TypeError;\nvar util = _dereq_(\"./util\");\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nvar yieldHandlers = [];\n\nfunction promiseFromYieldHandler(value, yieldHandlers, traceParent) {\n    for (var i = 0; i < yieldHandlers.length; ++i) {\n        traceParent._pushContext();\n        var result = tryCatch(yieldHandlers[i])(value);\n        traceParent._popContext();\n        if (result === errorObj) {\n            traceParent._pushContext();\n            var ret = Promise.reject(errorObj.e);\n            traceParent._popContext();\n            return ret;\n        }\n        var maybePromise = tryConvertToPromise(result, traceParent);\n        if (maybePromise instanceof Promise) return maybePromise;\n    }\n    return null;\n}\n\nfunction PromiseSpawn(generatorFunction, receiver, yieldHandler, stack) {\n    if (debug.cancellation()) {\n        var internal = new Promise(INTERNAL);\n        var _finallyPromise = this._finallyPromise = new Promise(INTERNAL);\n        this._promise = internal.lastly(function() {\n            return _finallyPromise;\n        });\n        internal._captureStackTrace();\n        internal._setOnCancel(this);\n    } else {\n        var promise = this._promise = new Promise(INTERNAL);\n        promise._captureStackTrace();\n    }\n    this._stack = stack;\n    this._generatorFunction = generatorFunction;\n    this._receiver = receiver;\n    this._generator = undefined;\n    this._yieldHandlers = typeof yieldHandler === \"function\"\n        ? [yieldHandler].concat(yieldHandlers)\n        : yieldHandlers;\n    this._yieldedPromise = null;\n    this._cancellationPhase = false;\n}\nutil.inherits(PromiseSpawn, Proxyable);\n\nPromiseSpawn.prototype._isResolved = function() {\n    return this._promise === null;\n};\n\nPromiseSpawn.prototype._cleanup = function() {\n    this._promise = this._generator = null;\n    if (debug.cancellation() && this._finallyPromise !== null) {\n        this._finallyPromise._fulfill();\n        this._finallyPromise = null;\n    }\n};\n\nPromiseSpawn.prototype._promiseCancelled = function() {\n    if (this._isResolved()) return;\n    var implementsReturn = typeof this._generator[\"return\"] !== \"undefined\";\n\n    var result;\n    if (!implementsReturn) {\n        var reason = new Promise.CancellationError(\n            \"generator .return() sentinel\");\n        Promise.coroutine.returnSentinel = reason;\n        this._promise._attachExtraTrace(reason);\n        this._promise._pushContext();\n        result = tryCatch(this._generator[\"throw\"]).call(this._generator,\n                                                         reason);\n        this._promise._popContext();\n    } else {\n        this._promise._pushContext();\n        result = tryCatch(this._generator[\"return\"]).call(this._generator,\n                                                          undefined);\n        this._promise._popContext();\n    }\n    this._cancellationPhase = true;\n    this._yieldedPromise = null;\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._promiseFulfilled = function(value) {\n    this._yieldedPromise = null;\n    this._promise._pushContext();\n    var result = tryCatch(this._generator.next).call(this._generator, value);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._promiseRejected = function(reason) {\n    this._yieldedPromise = null;\n    this._promise._attachExtraTrace(reason);\n    this._promise._pushContext();\n    var result = tryCatch(this._generator[\"throw\"])\n        .call(this._generator, reason);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._resultCancelled = function() {\n    if (this._yieldedPromise instanceof Promise) {\n        var promise = this._yieldedPromise;\n        this._yieldedPromise = null;\n        promise.cancel();\n    }\n};\n\nPromiseSpawn.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseSpawn.prototype._run = function () {\n    this._generator = this._generatorFunction.call(this._receiver);\n    this._receiver =\n        this._generatorFunction = undefined;\n    this._promiseFulfilled(undefined);\n};\n\nPromiseSpawn.prototype._continue = function (result) {\n    var promise = this._promise;\n    if (result === errorObj) {\n        this._cleanup();\n        if (this._cancellationPhase) {\n            return promise.cancel();\n        } else {\n            return promise._rejectCallback(result.e, false);\n        }\n    }\n\n    var value = result.value;\n    if (result.done === true) {\n        this._cleanup();\n        if (this._cancellationPhase) {\n            return promise.cancel();\n        } else {\n            return promise._resolveCallback(value);\n        }\n    } else {\n        var maybePromise = tryConvertToPromise(value, this._promise);\n        if (!(maybePromise instanceof Promise)) {\n            maybePromise =\n                promiseFromYieldHandler(maybePromise,\n                                        this._yieldHandlers,\n                                        this._promise);\n            if (maybePromise === null) {\n                this._promiseRejected(\n                    new TypeError(\n                        \"A value %s was yielded that could not be treated as a promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\\u000a\".replace(\"%s\", String(value)) +\n                        \"From coroutine:\\u000a\" +\n                        this._stack.split(\"\\n\").slice(1, -7).join(\"\\n\")\n                    )\n                );\n                return;\n            }\n        }\n        maybePromise = maybePromise._target();\n        var bitField = maybePromise._bitField;\n        ;\n        if (((bitField & 50397184) === 0)) {\n            this._yieldedPromise = maybePromise;\n            maybePromise._proxy(this, null);\n        } else if (((bitField & 33554432) !== 0)) {\n            Promise._async.invoke(\n                this._promiseFulfilled, this, maybePromise._value()\n            );\n        } else if (((bitField & 16777216) !== 0)) {\n            Promise._async.invoke(\n                this._promiseRejected, this, maybePromise._reason()\n            );\n        } else {\n            this._promiseCancelled();\n        }\n    }\n};\n\nPromise.coroutine = function (generatorFunction, options) {\n    if (typeof generatorFunction !== \"function\") {\n        throw new TypeError(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var yieldHandler = Object(options).yieldHandler;\n    var PromiseSpawn$ = PromiseSpawn;\n    var stack = new Error().stack;\n    return function () {\n        var generator = generatorFunction.apply(this, arguments);\n        var spawn = new PromiseSpawn$(undefined, undefined, yieldHandler,\n                                      stack);\n        var ret = spawn.promise();\n        spawn._generator = generator;\n        spawn._promiseFulfilled(undefined);\n        return ret;\n    };\n};\n\nPromise.coroutine.addYieldHandler = function(fn) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    yieldHandlers.push(fn);\n};\n\nPromise.spawn = function (generatorFunction) {\n    debug.deprecated(\"Promise.spawn()\", \"Promise.coroutine()\");\n    if (typeof generatorFunction !== \"function\") {\n        return apiRejection(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var spawn = new PromiseSpawn(generatorFunction, this);\n    var ret = spawn.promise();\n    spawn._run(Promise.spawn);\n    return ret;\n};\n};\n\n},{\"./errors\":12,\"./util\":36}],17:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, PromiseArray, tryConvertToPromise, INTERNAL, async,\n         getDomain) {\nvar util = _dereq_(\"./util\");\nvar canEvaluate = util.canEvaluate;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar reject;\n\nif (!true) {\nif (canEvaluate) {\n    var thenCallback = function(i) {\n        return new Function(\"value\", \"holder\", \"                             \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = value;                                           \\n\\\n            holder.checkFulfillment(this);                                   \\n\\\n            \".replace(/Index/g, i));\n    };\n\n    var promiseSetter = function(i) {\n        return new Function(\"promise\", \"holder\", \"                           \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = promise;                                         \\n\\\n            \".replace(/Index/g, i));\n    };\n\n    var generateHolderClass = function(total) {\n        var props = new Array(total);\n        for (var i = 0; i < props.length; ++i) {\n            props[i] = \"this.p\" + (i+1);\n        }\n        var assignment = props.join(\" = \") + \" = null;\";\n        var cancellationCode= \"var promise;\\n\" + props.map(function(prop) {\n            return \"                                                         \\n\\\n                promise = \" + prop + \";                                      \\n\\\n                if (promise instanceof Promise) {                            \\n\\\n                    promise.cancel();                                        \\n\\\n                }                                                            \\n\\\n            \";\n        }).join(\"\\n\");\n        var passedArguments = props.join(\", \");\n        var name = \"Holder$\" + total;\n\n\n        var code = \"return function(tryCatch, errorObj, Promise, async) {    \\n\\\n            'use strict';                                                    \\n\\\n            function [TheName](fn) {                                         \\n\\\n                [TheProperties]                                              \\n\\\n                this.fn = fn;                                                \\n\\\n                this.asyncNeeded = true;                                     \\n\\\n                this.now = 0;                                                \\n\\\n            }                                                                \\n\\\n                                                                             \\n\\\n            [TheName].prototype._callFunction = function(promise) {          \\n\\\n                promise._pushContext();                                      \\n\\\n                var ret = tryCatch(this.fn)([ThePassedArguments]);           \\n\\\n                promise._popContext();                                       \\n\\\n                if (ret === errorObj) {                                      \\n\\\n                    promise._rejectCallback(ret.e, false);                   \\n\\\n                } else {                                                     \\n\\\n                    promise._resolveCallback(ret);                           \\n\\\n                }                                                            \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            [TheName].prototype.checkFulfillment = function(promise) {       \\n\\\n                var now = ++this.now;                                        \\n\\\n                if (now === [TheTotal]) {                                    \\n\\\n                    if (this.asyncNeeded) {                                  \\n\\\n                        async.invoke(this._callFunction, this, promise);     \\n\\\n                    } else {                                                 \\n\\\n                        this._callFunction(promise);                         \\n\\\n                    }                                                        \\n\\\n                                                                             \\n\\\n                }                                                            \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            [TheName].prototype._resultCancelled = function() {              \\n\\\n                [CancellationCode]                                           \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            return [TheName];                                                \\n\\\n        }(tryCatch, errorObj, Promise, async);                               \\n\\\n        \";\n\n        code = code.replace(/\\[TheName\\]/g, name)\n            .replace(/\\[TheTotal\\]/g, total)\n            .replace(/\\[ThePassedArguments\\]/g, passedArguments)\n            .replace(/\\[TheProperties\\]/g, assignment)\n            .replace(/\\[CancellationCode\\]/g, cancellationCode);\n\n        return new Function(\"tryCatch\", \"errorObj\", \"Promise\", \"async\", code)\n                           (tryCatch, errorObj, Promise, async);\n    };\n\n    var holderClasses = [];\n    var thenCallbacks = [];\n    var promiseSetters = [];\n\n    for (var i = 0; i < 8; ++i) {\n        holderClasses.push(generateHolderClass(i + 1));\n        thenCallbacks.push(thenCallback(i + 1));\n        promiseSetters.push(promiseSetter(i + 1));\n    }\n\n    reject = function (reason) {\n        this._reject(reason);\n    };\n}}\n\nPromise.join = function () {\n    var last = arguments.length - 1;\n    var fn;\n    if (last > 0 && typeof arguments[last] === \"function\") {\n        fn = arguments[last];\n        if (!true) {\n            if (last <= 8 && canEvaluate) {\n                var ret = new Promise(INTERNAL);\n                ret._captureStackTrace();\n                var HolderClass = holderClasses[last - 1];\n                var holder = new HolderClass(fn);\n                var callbacks = thenCallbacks;\n\n                for (var i = 0; i < last; ++i) {\n                    var maybePromise = tryConvertToPromise(arguments[i], ret);\n                    if (maybePromise instanceof Promise) {\n                        maybePromise = maybePromise._target();\n                        var bitField = maybePromise._bitField;\n                        ;\n                        if (((bitField & 50397184) === 0)) {\n                            maybePromise._then(callbacks[i], reject,\n                                               undefined, ret, holder);\n                            promiseSetters[i](maybePromise, holder);\n                            holder.asyncNeeded = false;\n                        } else if (((bitField & 33554432) !== 0)) {\n                            callbacks[i].call(ret,\n                                              maybePromise._value(), holder);\n                        } else if (((bitField & 16777216) !== 0)) {\n                            ret._reject(maybePromise._reason());\n                        } else {\n                            ret._cancel();\n                        }\n                    } else {\n                        callbacks[i].call(ret, maybePromise, holder);\n                    }\n                }\n\n                if (!ret._isFateSealed()) {\n                    if (holder.asyncNeeded) {\n                        var domain = getDomain();\n                        if (domain !== null) {\n                            holder.fn = util.domainBind(domain, holder.fn);\n                        }\n                    }\n                    ret._setAsyncGuaranteed();\n                    ret._setOnCancel(holder);\n                }\n                return ret;\n            }\n        }\n    }\n    var args = [].slice.call(arguments);;\n    if (fn) args.pop();\n    var ret = new PromiseArray(args).promise();\n    return fn !== undefined ? ret.spread(fn) : ret;\n};\n\n};\n\n},{\"./util\":36}],18:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL,\n                          debug) {\nvar getDomain = Promise._getDomain;\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar async = Promise._async;\n\nfunction MappingPromiseArray(promises, fn, limit, _filter) {\n    this.constructor$(promises);\n    this._promise._captureStackTrace();\n    var domain = getDomain();\n    this._callback = domain === null ? fn : util.domainBind(domain, fn);\n    this._preservedValues = _filter === INTERNAL\n        ? new Array(this.length())\n        : null;\n    this._limit = limit;\n    this._inFlight = 0;\n    this._queue = [];\n    async.invoke(this._asyncInit, this, undefined);\n}\nutil.inherits(MappingPromiseArray, PromiseArray);\n\nMappingPromiseArray.prototype._asyncInit = function() {\n    this._init$(undefined, -2);\n};\n\nMappingPromiseArray.prototype._init = function () {};\n\nMappingPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var values = this._values;\n    var length = this.length();\n    var preservedValues = this._preservedValues;\n    var limit = this._limit;\n\n    if (index < 0) {\n        index = (index * -1) - 1;\n        values[index] = value;\n        if (limit >= 1) {\n            this._inFlight--;\n            this._drainQueue();\n            if (this._isResolved()) return true;\n        }\n    } else {\n        if (limit >= 1 && this._inFlight >= limit) {\n            values[index] = value;\n            this._queue.push(index);\n            return false;\n        }\n        if (preservedValues !== null) preservedValues[index] = value;\n\n        var promise = this._promise;\n        var callback = this._callback;\n        var receiver = promise._boundValue();\n        promise._pushContext();\n        var ret = tryCatch(callback).call(receiver, value, index, length);\n        var promiseCreated = promise._popContext();\n        debug.checkForgottenReturns(\n            ret,\n            promiseCreated,\n            preservedValues !== null ? \"Promise.filter\" : \"Promise.map\",\n            promise\n        );\n        if (ret === errorObj) {\n            this._reject(ret.e);\n            return true;\n        }\n\n        var maybePromise = tryConvertToPromise(ret, this._promise);\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            var bitField = maybePromise._bitField;\n            ;\n            if (((bitField & 50397184) === 0)) {\n                if (limit >= 1) this._inFlight++;\n                values[index] = maybePromise;\n                maybePromise._proxy(this, (index + 1) * -1);\n                return false;\n            } else if (((bitField & 33554432) !== 0)) {\n                ret = maybePromise._value();\n            } else if (((bitField & 16777216) !== 0)) {\n                this._reject(maybePromise._reason());\n                return true;\n            } else {\n                this._cancel();\n                return true;\n            }\n        }\n        values[index] = ret;\n    }\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= length) {\n        if (preservedValues !== null) {\n            this._filter(values, preservedValues);\n        } else {\n            this._resolve(values);\n        }\n        return true;\n    }\n    return false;\n};\n\nMappingPromiseArray.prototype._drainQueue = function () {\n    var queue = this._queue;\n    var limit = this._limit;\n    var values = this._values;\n    while (queue.length > 0 && this._inFlight < limit) {\n        if (this._isResolved()) return;\n        var index = queue.pop();\n        this._promiseFulfilled(values[index], index);\n    }\n};\n\nMappingPromiseArray.prototype._filter = function (booleans, values) {\n    var len = values.length;\n    var ret = new Array(len);\n    var j = 0;\n    for (var i = 0; i < len; ++i) {\n        if (booleans[i]) ret[j++] = values[i];\n    }\n    ret.length = j;\n    this._resolve(ret);\n};\n\nMappingPromiseArray.prototype.preservedValues = function () {\n    return this._preservedValues;\n};\n\nfunction map(promises, fn, options, _filter) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n\n    var limit = 0;\n    if (options !== undefined) {\n        if (typeof options === \"object\" && options !== null) {\n            if (typeof options.concurrency !== \"number\") {\n                return Promise.reject(\n                    new TypeError(\"'concurrency' must be a number but it is \" +\n                                    util.classString(options.concurrency)));\n            }\n            limit = options.concurrency;\n        } else {\n            return Promise.reject(new TypeError(\n                            \"options argument must be an object but it is \" +\n                             util.classString(options)));\n        }\n    }\n    limit = typeof limit === \"number\" &&\n        isFinite(limit) && limit >= 1 ? limit : 0;\n    return new MappingPromiseArray(promises, fn, limit, _filter).promise();\n}\n\nPromise.prototype.map = function (fn, options) {\n    return map(this, fn, options, null);\n};\n\nPromise.map = function (promises, fn, options, _filter) {\n    return map(promises, fn, options, _filter);\n};\n\n\n};\n\n},{\"./util\":36}],19:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, INTERNAL, tryConvertToPromise, apiRejection, debug) {\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\n\nPromise.method = function (fn) {\n    if (typeof fn !== \"function\") {\n        throw new Promise.TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    return function () {\n        var ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._pushContext();\n        var value = tryCatch(fn).apply(this, arguments);\n        var promiseCreated = ret._popContext();\n        debug.checkForgottenReturns(\n            value, promiseCreated, \"Promise.method\", ret);\n        ret._resolveFromSyncValue(value);\n        return ret;\n    };\n};\n\nPromise.attempt = Promise[\"try\"] = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._pushContext();\n    var value;\n    if (arguments.length > 1) {\n        debug.deprecated(\"calling Promise.try with more than 1 argument\");\n        var arg = arguments[1];\n        var ctx = arguments[2];\n        value = util.isArray(arg) ? tryCatch(fn).apply(ctx, arg)\n                                  : tryCatch(fn).call(ctx, arg);\n    } else {\n        value = tryCatch(fn)();\n    }\n    var promiseCreated = ret._popContext();\n    debug.checkForgottenReturns(\n        value, promiseCreated, \"Promise.try\", ret);\n    ret._resolveFromSyncValue(value);\n    return ret;\n};\n\nPromise.prototype._resolveFromSyncValue = function (value) {\n    if (value === util.errorObj) {\n        this._rejectCallback(value.e, false);\n    } else {\n        this._resolveCallback(value, true);\n    }\n};\n};\n\n},{\"./util\":36}],20:[function(_dereq_,module,exports){\n\"use strict\";\nvar util = _dereq_(\"./util\");\nvar maybeWrapAsError = util.maybeWrapAsError;\nvar errors = _dereq_(\"./errors\");\nvar OperationalError = errors.OperationalError;\nvar es5 = _dereq_(\"./es5\");\n\nfunction isUntypedError(obj) {\n    return obj instanceof Error &&\n        es5.getPrototypeOf(obj) === Error.prototype;\n}\n\nvar rErrorKey = /^(?:name|message|stack|cause)$/;\nfunction wrapAsOperationalError(obj) {\n    var ret;\n    if (isUntypedError(obj)) {\n        ret = new OperationalError(obj);\n        ret.name = obj.name;\n        ret.message = obj.message;\n        ret.stack = obj.stack;\n        var keys = es5.keys(obj);\n        for (var i = 0; i < keys.length; ++i) {\n            var key = keys[i];\n            if (!rErrorKey.test(key)) {\n                ret[key] = obj[key];\n            }\n        }\n        return ret;\n    }\n    util.markAsOriginatingFromRejection(obj);\n    return obj;\n}\n\nfunction nodebackForPromise(promise, multiArgs) {\n    return function(err, value) {\n        if (promise === null) return;\n        if (err) {\n            var wrapped = wrapAsOperationalError(maybeWrapAsError(err));\n            promise._attachExtraTrace(wrapped);\n            promise._reject(wrapped);\n        } else if (!multiArgs) {\n            promise._fulfill(value);\n        } else {\n            var args = [].slice.call(arguments, 1);;\n            promise._fulfill(args);\n        }\n        promise = null;\n    };\n}\n\nmodule.exports = nodebackForPromise;\n\n},{\"./errors\":12,\"./es5\":13,\"./util\":36}],21:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar util = _dereq_(\"./util\");\nvar async = Promise._async;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nfunction spreadAdapter(val, nodeback) {\n    var promise = this;\n    if (!util.isArray(val)) return successAdapter.call(promise, val, nodeback);\n    var ret =\n        tryCatch(nodeback).apply(promise._boundValue(), [null].concat(val));\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nfunction successAdapter(val, nodeback) {\n    var promise = this;\n    var receiver = promise._boundValue();\n    var ret = val === undefined\n        ? tryCatch(nodeback).call(receiver, null)\n        : tryCatch(nodeback).call(receiver, null, val);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\nfunction errorAdapter(reason, nodeback) {\n    var promise = this;\n    if (!reason) {\n        var newReason = new Error(reason + \"\");\n        newReason.cause = reason;\n        reason = newReason;\n    }\n    var ret = tryCatch(nodeback).call(promise._boundValue(), reason);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nPromise.prototype.asCallback = Promise.prototype.nodeify = function (nodeback,\n                                                                     options) {\n    if (typeof nodeback == \"function\") {\n        var adapter = successAdapter;\n        if (options !== undefined && Object(options).spread) {\n            adapter = spreadAdapter;\n        }\n        this._then(\n            adapter,\n            errorAdapter,\n            undefined,\n            this,\n            nodeback\n        );\n    }\n    return this;\n};\n};\n\n},{\"./util\":36}],22:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function() {\nvar makeSelfResolutionError = function () {\n    return new TypeError(\"circular promise resolution chain\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n};\nvar reflectHandler = function() {\n    return new Promise.PromiseInspection(this._target());\n};\nvar apiRejection = function(msg) {\n    return Promise.reject(new TypeError(msg));\n};\nfunction Proxyable() {}\nvar UNDEFINED_BINDING = {};\nvar util = _dereq_(\"./util\");\n\nvar getDomain;\nif (util.isNode) {\n    getDomain = function() {\n        var ret = process.domain;\n        if (ret === undefined) ret = null;\n        return ret;\n    };\n} else {\n    getDomain = function() {\n        return null;\n    };\n}\nutil.notEnumerableProp(Promise, \"_getDomain\", getDomain);\n\nvar es5 = _dereq_(\"./es5\");\nvar Async = _dereq_(\"./async\");\nvar async = new Async();\nes5.defineProperty(Promise, \"_async\", {value: async});\nvar errors = _dereq_(\"./errors\");\nvar TypeError = Promise.TypeError = errors.TypeError;\nPromise.RangeError = errors.RangeError;\nvar CancellationError = Promise.CancellationError = errors.CancellationError;\nPromise.TimeoutError = errors.TimeoutError;\nPromise.OperationalError = errors.OperationalError;\nPromise.RejectionError = errors.OperationalError;\nPromise.AggregateError = errors.AggregateError;\nvar INTERNAL = function(){};\nvar APPLY = {};\nvar NEXT_FILTER = {};\nvar tryConvertToPromise = _dereq_(\"./thenables\")(Promise, INTERNAL);\nvar PromiseArray =\n    _dereq_(\"./promise_array\")(Promise, INTERNAL,\n                               tryConvertToPromise, apiRejection, Proxyable);\nvar Context = _dereq_(\"./context\")(Promise);\n /*jshint unused:false*/\nvar createContext = Context.create;\nvar debug = _dereq_(\"./debuggability\")(Promise, Context);\nvar CapturedTrace = debug.CapturedTrace;\nvar PassThroughHandlerContext =\n    _dereq_(\"./finally\")(Promise, tryConvertToPromise, NEXT_FILTER);\nvar catchFilter = _dereq_(\"./catch_filter\")(NEXT_FILTER);\nvar nodebackForPromise = _dereq_(\"./nodeback\");\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nfunction check(self, executor) {\n    if (self == null || self.constructor !== Promise) {\n        throw new TypeError(\"the promise constructor cannot be invoked directly\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    if (typeof executor !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(executor));\n    }\n\n}\n\nfunction Promise(executor) {\n    if (executor !== INTERNAL) {\n        check(this, executor);\n    }\n    this._bitField = 0;\n    this._fulfillmentHandler0 = undefined;\n    this._rejectionHandler0 = undefined;\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._resolveFromExecutor(executor);\n    this._promiseCreated();\n    this._fireEvent(\"promiseCreated\", this);\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.caught = Promise.prototype[\"catch\"] = function (fn) {\n    var len = arguments.length;\n    if (len > 1) {\n        var catchInstances = new Array(len - 1),\n            j = 0, i;\n        for (i = 0; i < len - 1; ++i) {\n            var item = arguments[i];\n            if (util.isObject(item)) {\n                catchInstances[j++] = item;\n            } else {\n                return apiRejection(\"Catch statement predicate: \" +\n                    \"expecting an object but got \" + util.classString(item));\n            }\n        }\n        catchInstances.length = j;\n        fn = arguments[i];\n        return this.then(undefined, catchFilter(catchInstances, fn, this));\n    }\n    return this.then(undefined, fn);\n};\n\nPromise.prototype.reflect = function () {\n    return this._then(reflectHandler,\n        reflectHandler, undefined, this, undefined);\n};\n\nPromise.prototype.then = function (didFulfill, didReject) {\n    if (debug.warnings() && arguments.length > 0 &&\n        typeof didFulfill !== \"function\" &&\n        typeof didReject !== \"function\") {\n        var msg = \".then() only accepts functions but was passed: \" +\n                util.classString(didFulfill);\n        if (arguments.length > 1) {\n            msg += \", \" + util.classString(didReject);\n        }\n        this._warn(msg);\n    }\n    return this._then(didFulfill, didReject, undefined, undefined, undefined);\n};\n\nPromise.prototype.done = function (didFulfill, didReject) {\n    var promise =\n        this._then(didFulfill, didReject, undefined, undefined, undefined);\n    promise._setIsFinal();\n};\n\nPromise.prototype.spread = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    return this.all()._then(fn, undefined, undefined, APPLY, undefined);\n};\n\nPromise.prototype.toJSON = function () {\n    var ret = {\n        isFulfilled: false,\n        isRejected: false,\n        fulfillmentValue: undefined,\n        rejectionReason: undefined\n    };\n    if (this.isFulfilled()) {\n        ret.fulfillmentValue = this.value();\n        ret.isFulfilled = true;\n    } else if (this.isRejected()) {\n        ret.rejectionReason = this.reason();\n        ret.isRejected = true;\n    }\n    return ret;\n};\n\nPromise.prototype.all = function () {\n    if (arguments.length > 0) {\n        this._warn(\".all() was passed arguments but it does not take any\");\n    }\n    return new PromiseArray(this).promise();\n};\n\nPromise.prototype.error = function (fn) {\n    return this.caught(util.originatesFromRejection, fn);\n};\n\nPromise.getNewLibraryCopy = module.exports;\n\nPromise.is = function (val) {\n    return val instanceof Promise;\n};\n\nPromise.fromNode = Promise.fromCallback = function(fn) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    var multiArgs = arguments.length > 1 ? !!Object(arguments[1]).multiArgs\n                                         : false;\n    var result = tryCatch(fn)(nodebackForPromise(ret, multiArgs));\n    if (result === errorObj) {\n        ret._rejectCallback(result.e, true);\n    }\n    if (!ret._isFateSealed()) ret._setAsyncGuaranteed();\n    return ret;\n};\n\nPromise.all = function (promises) {\n    return new PromiseArray(promises).promise();\n};\n\nPromise.cast = function (obj) {\n    var ret = tryConvertToPromise(obj);\n    if (!(ret instanceof Promise)) {\n        ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._setFulfilled();\n        ret._rejectionHandler0 = obj;\n    }\n    return ret;\n};\n\nPromise.resolve = Promise.fulfilled = Promise.cast;\n\nPromise.reject = Promise.rejected = function (reason) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._rejectCallback(reason, true);\n    return ret;\n};\n\nPromise.setScheduler = function(fn) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    return async.setScheduler(fn);\n};\n\nPromise.prototype._then = function (\n    didFulfill,\n    didReject,\n    _,    receiver,\n    internalData\n) {\n    var haveInternalData = internalData !== undefined;\n    var promise = haveInternalData ? internalData : new Promise(INTERNAL);\n    var target = this._target();\n    var bitField = target._bitField;\n\n    if (!haveInternalData) {\n        promise._propagateFrom(this, 3);\n        promise._captureStackTrace();\n        if (receiver === undefined &&\n            ((this._bitField & 2097152) !== 0)) {\n            if (!((bitField & 50397184) === 0)) {\n                receiver = this._boundValue();\n            } else {\n                receiver = target === this ? undefined : this._boundTo;\n            }\n        }\n        this._fireEvent(\"promiseChained\", this, promise);\n    }\n\n    var domain = getDomain();\n    if (!((bitField & 50397184) === 0)) {\n        var handler, value, settler = target._settlePromiseCtx;\n        if (((bitField & 33554432) !== 0)) {\n            value = target._rejectionHandler0;\n            handler = didFulfill;\n        } else if (((bitField & 16777216) !== 0)) {\n            value = target._fulfillmentHandler0;\n            handler = didReject;\n            target._unsetRejectionIsUnhandled();\n        } else {\n            settler = target._settlePromiseLateCancellationObserver;\n            value = new CancellationError(\"late cancellation observer\");\n            target._attachExtraTrace(value);\n            handler = didReject;\n        }\n\n        async.invoke(settler, target, {\n            handler: domain === null ? handler\n                : (typeof handler === \"function\" &&\n                    util.domainBind(domain, handler)),\n            promise: promise,\n            receiver: receiver,\n            value: value\n        });\n    } else {\n        target._addCallbacks(didFulfill, didReject, promise, receiver, domain);\n    }\n\n    return promise;\n};\n\nPromise.prototype._length = function () {\n    return this._bitField & 65535;\n};\n\nPromise.prototype._isFateSealed = function () {\n    return (this._bitField & 117506048) !== 0;\n};\n\nPromise.prototype._isFollowing = function () {\n    return (this._bitField & 67108864) === 67108864;\n};\n\nPromise.prototype._setLength = function (len) {\n    this._bitField = (this._bitField & -65536) |\n        (len & 65535);\n};\n\nPromise.prototype._setFulfilled = function () {\n    this._bitField = this._bitField | 33554432;\n    this._fireEvent(\"promiseFulfilled\", this);\n};\n\nPromise.prototype._setRejected = function () {\n    this._bitField = this._bitField | 16777216;\n    this._fireEvent(\"promiseRejected\", this);\n};\n\nPromise.prototype._setFollowing = function () {\n    this._bitField = this._bitField | 67108864;\n    this._fireEvent(\"promiseResolved\", this);\n};\n\nPromise.prototype._setIsFinal = function () {\n    this._bitField = this._bitField | 4194304;\n};\n\nPromise.prototype._isFinal = function () {\n    return (this._bitField & 4194304) > 0;\n};\n\nPromise.prototype._unsetCancelled = function() {\n    this._bitField = this._bitField & (~65536);\n};\n\nPromise.prototype._setCancelled = function() {\n    this._bitField = this._bitField | 65536;\n    this._fireEvent(\"promiseCancelled\", this);\n};\n\nPromise.prototype._setWillBeCancelled = function() {\n    this._bitField = this._bitField | 8388608;\n};\n\nPromise.prototype._setAsyncGuaranteed = function() {\n    if (async.hasCustomScheduler()) return;\n    this._bitField = this._bitField | 134217728;\n};\n\nPromise.prototype._receiverAt = function (index) {\n    var ret = index === 0 ? this._receiver0 : this[\n            index * 4 - 4 + 3];\n    if (ret === UNDEFINED_BINDING) {\n        return undefined;\n    } else if (ret === undefined && this._isBound()) {\n        return this._boundValue();\n    }\n    return ret;\n};\n\nPromise.prototype._promiseAt = function (index) {\n    return this[\n            index * 4 - 4 + 2];\n};\n\nPromise.prototype._fulfillmentHandlerAt = function (index) {\n    return this[\n            index * 4 - 4 + 0];\n};\n\nPromise.prototype._rejectionHandlerAt = function (index) {\n    return this[\n            index * 4 - 4 + 1];\n};\n\nPromise.prototype._boundValue = function() {};\n\nPromise.prototype._migrateCallback0 = function (follower) {\n    var bitField = follower._bitField;\n    var fulfill = follower._fulfillmentHandler0;\n    var reject = follower._rejectionHandler0;\n    var promise = follower._promise0;\n    var receiver = follower._receiverAt(0);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n};\n\nPromise.prototype._migrateCallbackAt = function (follower, index) {\n    var fulfill = follower._fulfillmentHandlerAt(index);\n    var reject = follower._rejectionHandlerAt(index);\n    var promise = follower._promiseAt(index);\n    var receiver = follower._receiverAt(index);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n};\n\nPromise.prototype._addCallbacks = function (\n    fulfill,\n    reject,\n    promise,\n    receiver,\n    domain\n) {\n    var index = this._length();\n\n    if (index >= 65535 - 4) {\n        index = 0;\n        this._setLength(0);\n    }\n\n    if (index === 0) {\n        this._promise0 = promise;\n        this._receiver0 = receiver;\n        if (typeof fulfill === \"function\") {\n            this._fulfillmentHandler0 =\n                domain === null ? fulfill : util.domainBind(domain, fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this._rejectionHandler0 =\n                domain === null ? reject : util.domainBind(domain, reject);\n        }\n    } else {\n        var base = index * 4 - 4;\n        this[base + 2] = promise;\n        this[base + 3] = receiver;\n        if (typeof fulfill === \"function\") {\n            this[base + 0] =\n                domain === null ? fulfill : util.domainBind(domain, fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this[base + 1] =\n                domain === null ? reject : util.domainBind(domain, reject);\n        }\n    }\n    this._setLength(index + 1);\n    return index;\n};\n\nPromise.prototype._proxy = function (proxyable, arg) {\n    this._addCallbacks(undefined, undefined, arg, proxyable, null);\n};\n\nPromise.prototype._resolveCallback = function(value, shouldBind) {\n    if (((this._bitField & 117506048) !== 0)) return;\n    if (value === this)\n        return this._rejectCallback(makeSelfResolutionError(), false);\n    var maybePromise = tryConvertToPromise(value, this);\n    if (!(maybePromise instanceof Promise)) return this._fulfill(value);\n\n    if (shouldBind) this._propagateFrom(maybePromise, 2);\n\n    var promise = maybePromise._target();\n\n    if (promise === this) {\n        this._reject(makeSelfResolutionError());\n        return;\n    }\n\n    var bitField = promise._bitField;\n    if (((bitField & 50397184) === 0)) {\n        var len = this._length();\n        if (len > 0) promise._migrateCallback0(this);\n        for (var i = 1; i < len; ++i) {\n            promise._migrateCallbackAt(this, i);\n        }\n        this._setFollowing();\n        this._setLength(0);\n        this._setFollowee(promise);\n    } else if (((bitField & 33554432) !== 0)) {\n        this._fulfill(promise._value());\n    } else if (((bitField & 16777216) !== 0)) {\n        this._reject(promise._reason());\n    } else {\n        var reason = new CancellationError(\"late cancellation observer\");\n        promise._attachExtraTrace(reason);\n        this._reject(reason);\n    }\n};\n\nPromise.prototype._rejectCallback =\nfunction(reason, synchronous, ignoreNonErrorWarnings) {\n    var trace = util.ensureErrorObject(reason);\n    var hasStack = trace === reason;\n    if (!hasStack && !ignoreNonErrorWarnings && debug.warnings()) {\n        var message = \"a promise was rejected with a non-error: \" +\n            util.classString(reason);\n        this._warn(message, true);\n    }\n    this._attachExtraTrace(trace, synchronous ? hasStack : false);\n    this._reject(reason);\n};\n\nPromise.prototype._resolveFromExecutor = function (executor) {\n    if (executor === INTERNAL) return;\n    var promise = this;\n    this._captureStackTrace();\n    this._pushContext();\n    var synchronous = true;\n    var r = this._execute(executor, function(value) {\n        promise._resolveCallback(value);\n    }, function (reason) {\n        promise._rejectCallback(reason, synchronous);\n    });\n    synchronous = false;\n    this._popContext();\n\n    if (r !== undefined) {\n        promise._rejectCallback(r, true);\n    }\n};\n\nPromise.prototype._settlePromiseFromHandler = function (\n    handler, receiver, value, promise\n) {\n    var bitField = promise._bitField;\n    if (((bitField & 65536) !== 0)) return;\n    promise._pushContext();\n    var x;\n    if (receiver === APPLY) {\n        if (!value || typeof value.length !== \"number\") {\n            x = errorObj;\n            x.e = new TypeError(\"cannot .spread() a non-array: \" +\n                                    util.classString(value));\n        } else {\n            x = tryCatch(handler).apply(this._boundValue(), value);\n        }\n    } else {\n        x = tryCatch(handler).call(receiver, value);\n    }\n    var promiseCreated = promise._popContext();\n    bitField = promise._bitField;\n    if (((bitField & 65536) !== 0)) return;\n\n    if (x === NEXT_FILTER) {\n        promise._reject(value);\n    } else if (x === errorObj) {\n        promise._rejectCallback(x.e, false);\n    } else {\n        debug.checkForgottenReturns(x, promiseCreated, \"\",  promise, this);\n        promise._resolveCallback(x);\n    }\n};\n\nPromise.prototype._target = function() {\n    var ret = this;\n    while (ret._isFollowing()) ret = ret._followee();\n    return ret;\n};\n\nPromise.prototype._followee = function() {\n    return this._rejectionHandler0;\n};\n\nPromise.prototype._setFollowee = function(promise) {\n    this._rejectionHandler0 = promise;\n};\n\nPromise.prototype._settlePromise = function(promise, handler, receiver, value) {\n    var isPromise = promise instanceof Promise;\n    var bitField = this._bitField;\n    var asyncGuaranteed = ((bitField & 134217728) !== 0);\n    if (((bitField & 65536) !== 0)) {\n        if (isPromise) promise._invokeInternalOnCancel();\n\n        if (receiver instanceof PassThroughHandlerContext &&\n            receiver.isFinallyHandler()) {\n            receiver.cancelPromise = promise;\n            if (tryCatch(handler).call(receiver, value) === errorObj) {\n                promise._reject(errorObj.e);\n            }\n        } else if (handler === reflectHandler) {\n            promise._fulfill(reflectHandler.call(receiver));\n        } else if (receiver instanceof Proxyable) {\n            receiver._promiseCancelled(promise);\n        } else if (isPromise || promise instanceof PromiseArray) {\n            promise._cancel();\n        } else {\n            receiver.cancel();\n        }\n    } else if (typeof handler === \"function\") {\n        if (!isPromise) {\n            handler.call(receiver, value, promise);\n        } else {\n            if (asyncGuaranteed) promise._setAsyncGuaranteed();\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (receiver instanceof Proxyable) {\n        if (!receiver._isResolved()) {\n            if (((bitField & 33554432) !== 0)) {\n                receiver._promiseFulfilled(value, promise);\n            } else {\n                receiver._promiseRejected(value, promise);\n            }\n        }\n    } else if (isPromise) {\n        if (asyncGuaranteed) promise._setAsyncGuaranteed();\n        if (((bitField & 33554432) !== 0)) {\n            promise._fulfill(value);\n        } else {\n            promise._reject(value);\n        }\n    }\n};\n\nPromise.prototype._settlePromiseLateCancellationObserver = function(ctx) {\n    var handler = ctx.handler;\n    var promise = ctx.promise;\n    var receiver = ctx.receiver;\n    var value = ctx.value;\n    if (typeof handler === \"function\") {\n        if (!(promise instanceof Promise)) {\n            handler.call(receiver, value, promise);\n        } else {\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (promise instanceof Promise) {\n        promise._reject(value);\n    }\n};\n\nPromise.prototype._settlePromiseCtx = function(ctx) {\n    this._settlePromise(ctx.promise, ctx.handler, ctx.receiver, ctx.value);\n};\n\nPromise.prototype._settlePromise0 = function(handler, value, bitField) {\n    var promise = this._promise0;\n    var receiver = this._receiverAt(0);\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._settlePromise(promise, handler, receiver, value);\n};\n\nPromise.prototype._clearCallbackDataAtIndex = function(index) {\n    var base = index * 4 - 4;\n    this[base + 2] =\n    this[base + 3] =\n    this[base + 0] =\n    this[base + 1] = undefined;\n};\n\nPromise.prototype._fulfill = function (value) {\n    var bitField = this._bitField;\n    if (((bitField & 117506048) >>> 16)) return;\n    if (value === this) {\n        var err = makeSelfResolutionError();\n        this._attachExtraTrace(err);\n        return this._reject(err);\n    }\n    this._setFulfilled();\n    this._rejectionHandler0 = value;\n\n    if ((bitField & 65535) > 0) {\n        if (((bitField & 134217728) !== 0)) {\n            this._settlePromises();\n        } else {\n            async.settlePromises(this);\n        }\n    }\n};\n\nPromise.prototype._reject = function (reason) {\n    var bitField = this._bitField;\n    if (((bitField & 117506048) >>> 16)) return;\n    this._setRejected();\n    this._fulfillmentHandler0 = reason;\n\n    if (this._isFinal()) {\n        return async.fatalError(reason, util.isNode);\n    }\n\n    if ((bitField & 65535) > 0) {\n        async.settlePromises(this);\n    } else {\n        this._ensurePossibleRejectionHandled();\n    }\n};\n\nPromise.prototype._fulfillPromises = function (len, value) {\n    for (var i = 1; i < len; i++) {\n        var handler = this._fulfillmentHandlerAt(i);\n        var promise = this._promiseAt(i);\n        var receiver = this._receiverAt(i);\n        this._clearCallbackDataAtIndex(i);\n        this._settlePromise(promise, handler, receiver, value);\n    }\n};\n\nPromise.prototype._rejectPromises = function (len, reason) {\n    for (var i = 1; i < len; i++) {\n        var handler = this._rejectionHandlerAt(i);\n        var promise = this._promiseAt(i);\n        var receiver = this._receiverAt(i);\n        this._clearCallbackDataAtIndex(i);\n        this._settlePromise(promise, handler, receiver, reason);\n    }\n};\n\nPromise.prototype._settlePromises = function () {\n    var bitField = this._bitField;\n    var len = (bitField & 65535);\n\n    if (len > 0) {\n        if (((bitField & 16842752) !== 0)) {\n            var reason = this._fulfillmentHandler0;\n            this._settlePromise0(this._rejectionHandler0, reason, bitField);\n            this._rejectPromises(len, reason);\n        } else {\n            var value = this._rejectionHandler0;\n            this._settlePromise0(this._fulfillmentHandler0, value, bitField);\n            this._fulfillPromises(len, value);\n        }\n        this._setLength(0);\n    }\n    this._clearCancellationData();\n};\n\nPromise.prototype._settledValue = function() {\n    var bitField = this._bitField;\n    if (((bitField & 33554432) !== 0)) {\n        return this._rejectionHandler0;\n    } else if (((bitField & 16777216) !== 0)) {\n        return this._fulfillmentHandler0;\n    }\n};\n\nfunction deferResolve(v) {this.promise._resolveCallback(v);}\nfunction deferReject(v) {this.promise._rejectCallback(v, false);}\n\nPromise.defer = Promise.pending = function() {\n    debug.deprecated(\"Promise.defer\", \"new Promise\");\n    var promise = new Promise(INTERNAL);\n    return {\n        promise: promise,\n        resolve: deferResolve,\n        reject: deferReject\n    };\n};\n\nutil.notEnumerableProp(Promise,\n                       \"_makeSelfResolutionError\",\n                       makeSelfResolutionError);\n\n_dereq_(\"./method\")(Promise, INTERNAL, tryConvertToPromise, apiRejection,\n    debug);\n_dereq_(\"./bind\")(Promise, INTERNAL, tryConvertToPromise, debug);\n_dereq_(\"./cancel\")(Promise, PromiseArray, apiRejection, debug);\n_dereq_(\"./direct_resolve\")(Promise);\n_dereq_(\"./synchronous_inspection\")(Promise);\n_dereq_(\"./join\")(\n    Promise, PromiseArray, tryConvertToPromise, INTERNAL, async, getDomain);\nPromise.Promise = Promise;\nPromise.version = \"3.5.0\";\n_dereq_('./map.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\n_dereq_('./call_get.js')(Promise);\n_dereq_('./using.js')(Promise, apiRejection, tryConvertToPromise, createContext, INTERNAL, debug);\n_dereq_('./timers.js')(Promise, INTERNAL, debug);\n_dereq_('./generators.js')(Promise, apiRejection, INTERNAL, tryConvertToPromise, Proxyable, debug);\n_dereq_('./nodeify.js')(Promise);\n_dereq_('./promisify.js')(Promise, INTERNAL);\n_dereq_('./props.js')(Promise, PromiseArray, tryConvertToPromise, apiRejection);\n_dereq_('./race.js')(Promise, INTERNAL, tryConvertToPromise, apiRejection);\n_dereq_('./reduce.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\n_dereq_('./settle.js')(Promise, PromiseArray, debug);\n_dereq_('./some.js')(Promise, PromiseArray, apiRejection);\n_dereq_('./filter.js')(Promise, INTERNAL);\n_dereq_('./each.js')(Promise, INTERNAL);\n_dereq_('./any.js')(Promise);\n                                                         \n    util.toFastProperties(Promise);                                          \n    util.toFastProperties(Promise.prototype);                                \n    function fillTypes(value) {                                              \n        var p = new Promise(INTERNAL);                                       \n        p._fulfillmentHandler0 = value;                                      \n        p._rejectionHandler0 = value;                                        \n        p._promise0 = value;                                                 \n        p._receiver0 = value;                                                \n    }                                                                        \n    // Complete slack tracking, opt out of field-type tracking and           \n    // stabilize map                                                         \n    fillTypes({a: 1});                                                       \n    fillTypes({b: 2});                                                       \n    fillTypes({c: 3});                                                       \n    fillTypes(1);                                                            \n    fillTypes(function(){});                                                 \n    fillTypes(undefined);                                                    \n    fillTypes(false);                                                        \n    fillTypes(new Promise(INTERNAL));                                        \n    debug.setBounds(Async.firstLineError, util.lastLineError);               \n    return Promise;                                                          \n\n};\n\n},{\"./any.js\":1,\"./async\":2,\"./bind\":3,\"./call_get.js\":5,\"./cancel\":6,\"./catch_filter\":7,\"./context\":8,\"./debuggability\":9,\"./direct_resolve\":10,\"./each.js\":11,\"./errors\":12,\"./es5\":13,\"./filter.js\":14,\"./finally\":15,\"./generators.js\":16,\"./join\":17,\"./map.js\":18,\"./method\":19,\"./nodeback\":20,\"./nodeify.js\":21,\"./promise_array\":23,\"./promisify.js\":24,\"./props.js\":25,\"./race.js\":27,\"./reduce.js\":28,\"./settle.js\":30,\"./some.js\":31,\"./synchronous_inspection\":32,\"./thenables\":33,\"./timers.js\":34,\"./using.js\":35,\"./util\":36}],23:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise,\n    apiRejection, Proxyable) {\nvar util = _dereq_(\"./util\");\nvar isArray = util.isArray;\n\nfunction toResolutionValue(val) {\n    switch(val) {\n    case -2: return [];\n    case -3: return {};\n    case -6: return new Map();\n    }\n}\n\nfunction PromiseArray(values) {\n    var promise = this._promise = new Promise(INTERNAL);\n    if (values instanceof Promise) {\n        promise._propagateFrom(values, 3);\n    }\n    promise._setOnCancel(this);\n    this._values = values;\n    this._length = 0;\n    this._totalResolved = 0;\n    this._init(undefined, -2);\n}\nutil.inherits(PromiseArray, Proxyable);\n\nPromiseArray.prototype.length = function () {\n    return this._length;\n};\n\nPromiseArray.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseArray.prototype._init = function init(_, resolveValueIfEmpty) {\n    var values = tryConvertToPromise(this._values, this._promise);\n    if (values instanceof Promise) {\n        values = values._target();\n        var bitField = values._bitField;\n        ;\n        this._values = values;\n\n        if (((bitField & 50397184) === 0)) {\n            this._promise._setAsyncGuaranteed();\n            return values._then(\n                init,\n                this._reject,\n                undefined,\n                this,\n                resolveValueIfEmpty\n           );\n        } else if (((bitField & 33554432) !== 0)) {\n            values = values._value();\n        } else if (((bitField & 16777216) !== 0)) {\n            return this._reject(values._reason());\n        } else {\n            return this._cancel();\n        }\n    }\n    values = util.asArray(values);\n    if (values === null) {\n        var err = apiRejection(\n            \"expecting an array or an iterable object but got \" + util.classString(values)).reason();\n        this._promise._rejectCallback(err, false);\n        return;\n    }\n\n    if (values.length === 0) {\n        if (resolveValueIfEmpty === -5) {\n            this._resolveEmptyArray();\n        }\n        else {\n            this._resolve(toResolutionValue(resolveValueIfEmpty));\n        }\n        return;\n    }\n    this._iterate(values);\n};\n\nPromiseArray.prototype._iterate = function(values) {\n    var len = this.getActualLength(values.length);\n    this._length = len;\n    this._values = this.shouldCopyValues() ? new Array(len) : this._values;\n    var result = this._promise;\n    var isResolved = false;\n    var bitField = null;\n    for (var i = 0; i < len; ++i) {\n        var maybePromise = tryConvertToPromise(values[i], result);\n\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            bitField = maybePromise._bitField;\n        } else {\n            bitField = null;\n        }\n\n        if (isResolved) {\n            if (bitField !== null) {\n                maybePromise.suppressUnhandledRejections();\n            }\n        } else if (bitField !== null) {\n            if (((bitField & 50397184) === 0)) {\n                maybePromise._proxy(this, i);\n                this._values[i] = maybePromise;\n            } else if (((bitField & 33554432) !== 0)) {\n                isResolved = this._promiseFulfilled(maybePromise._value(), i);\n            } else if (((bitField & 16777216) !== 0)) {\n                isResolved = this._promiseRejected(maybePromise._reason(), i);\n            } else {\n                isResolved = this._promiseCancelled(i);\n            }\n        } else {\n            isResolved = this._promiseFulfilled(maybePromise, i);\n        }\n    }\n    if (!isResolved) result._setAsyncGuaranteed();\n};\n\nPromiseArray.prototype._isResolved = function () {\n    return this._values === null;\n};\n\nPromiseArray.prototype._resolve = function (value) {\n    this._values = null;\n    this._promise._fulfill(value);\n};\n\nPromiseArray.prototype._cancel = function() {\n    if (this._isResolved() || !this._promise._isCancellable()) return;\n    this._values = null;\n    this._promise._cancel();\n};\n\nPromiseArray.prototype._reject = function (reason) {\n    this._values = null;\n    this._promise._rejectCallback(reason, false);\n};\n\nPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n        return true;\n    }\n    return false;\n};\n\nPromiseArray.prototype._promiseCancelled = function() {\n    this._cancel();\n    return true;\n};\n\nPromiseArray.prototype._promiseRejected = function (reason) {\n    this._totalResolved++;\n    this._reject(reason);\n    return true;\n};\n\nPromiseArray.prototype._resultCancelled = function() {\n    if (this._isResolved()) return;\n    var values = this._values;\n    this._cancel();\n    if (values instanceof Promise) {\n        values.cancel();\n    } else {\n        for (var i = 0; i < values.length; ++i) {\n            if (values[i] instanceof Promise) {\n                values[i].cancel();\n            }\n        }\n    }\n};\n\nPromiseArray.prototype.shouldCopyValues = function () {\n    return true;\n};\n\nPromiseArray.prototype.getActualLength = function (len) {\n    return len;\n};\n\nreturn PromiseArray;\n};\n\n},{\"./util\":36}],24:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar THIS = {};\nvar util = _dereq_(\"./util\");\nvar nodebackForPromise = _dereq_(\"./nodeback\");\nvar withAppended = util.withAppended;\nvar maybeWrapAsError = util.maybeWrapAsError;\nvar canEvaluate = util.canEvaluate;\nvar TypeError = _dereq_(\"./errors\").TypeError;\nvar defaultSuffix = \"Async\";\nvar defaultPromisified = {__isPromisified__: true};\nvar noCopyProps = [\n    \"arity\",    \"length\",\n    \"name\",\n    \"arguments\",\n    \"caller\",\n    \"callee\",\n    \"prototype\",\n    \"__isPromisified__\"\n];\nvar noCopyPropsPattern = new RegExp(\"^(?:\" + noCopyProps.join(\"|\") + \")$\");\n\nvar defaultFilter = function(name) {\n    return util.isIdentifier(name) &&\n        name.charAt(0) !== \"_\" &&\n        name !== \"constructor\";\n};\n\nfunction propsFilter(key) {\n    return !noCopyPropsPattern.test(key);\n}\n\nfunction isPromisified(fn) {\n    try {\n        return fn.__isPromisified__ === true;\n    }\n    catch (e) {\n        return false;\n    }\n}\n\nfunction hasPromisified(obj, key, suffix) {\n    var val = util.getDataPropertyOrDefault(obj, key + suffix,\n                                            defaultPromisified);\n    return val ? isPromisified(val) : false;\n}\nfunction checkValid(ret, suffix, suffixRegexp) {\n    for (var i = 0; i < ret.length; i += 2) {\n        var key = ret[i];\n        if (suffixRegexp.test(key)) {\n            var keyWithoutAsyncSuffix = key.replace(suffixRegexp, \"\");\n            for (var j = 0; j < ret.length; j += 2) {\n                if (ret[j] === keyWithoutAsyncSuffix) {\n                    throw new TypeError(\"Cannot promisify an API that has normal methods with '%s'-suffix\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\"\n                        .replace(\"%s\", suffix));\n                }\n            }\n        }\n    }\n}\n\nfunction promisifiableMethods(obj, suffix, suffixRegexp, filter) {\n    var keys = util.inheritedDataKeys(obj);\n    var ret = [];\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var value = obj[key];\n        var passesDefaultFilter = filter === defaultFilter\n            ? true : defaultFilter(key, value, obj);\n        if (typeof value === \"function\" &&\n            !isPromisified(value) &&\n            !hasPromisified(obj, key, suffix) &&\n            filter(key, value, obj, passesDefaultFilter)) {\n            ret.push(key, value);\n        }\n    }\n    checkValid(ret, suffix, suffixRegexp);\n    return ret;\n}\n\nvar escapeIdentRegex = function(str) {\n    return str.replace(/([$])/, \"\\\\$\");\n};\n\nvar makeNodePromisifiedEval;\nif (!true) {\nvar switchCaseArgumentOrder = function(likelyArgumentCount) {\n    var ret = [likelyArgumentCount];\n    var min = Math.max(0, likelyArgumentCount - 1 - 3);\n    for(var i = likelyArgumentCount - 1; i >= min; --i) {\n        ret.push(i);\n    }\n    for(var i = likelyArgumentCount + 1; i <= 3; ++i) {\n        ret.push(i);\n    }\n    return ret;\n};\n\nvar argumentSequence = function(argumentCount) {\n    return util.filledRange(argumentCount, \"_arg\", \"\");\n};\n\nvar parameterDeclaration = function(parameterCount) {\n    return util.filledRange(\n        Math.max(parameterCount, 3), \"_arg\", \"\");\n};\n\nvar parameterCount = function(fn) {\n    if (typeof fn.length === \"number\") {\n        return Math.max(Math.min(fn.length, 1023 + 1), 0);\n    }\n    return 0;\n};\n\nmakeNodePromisifiedEval =\nfunction(callback, receiver, originalName, fn, _, multiArgs) {\n    var newParameterCount = Math.max(0, parameterCount(fn) - 1);\n    var argumentOrder = switchCaseArgumentOrder(newParameterCount);\n    var shouldProxyThis = typeof callback === \"string\" || receiver === THIS;\n\n    function generateCallForArgumentCount(count) {\n        var args = argumentSequence(count).join(\", \");\n        var comma = count > 0 ? \", \" : \"\";\n        var ret;\n        if (shouldProxyThis) {\n            ret = \"ret = callback.call(this, {{args}}, nodeback); break;\\n\";\n        } else {\n            ret = receiver === undefined\n                ? \"ret = callback({{args}}, nodeback); break;\\n\"\n                : \"ret = callback.call(receiver, {{args}}, nodeback); break;\\n\";\n        }\n        return ret.replace(\"{{args}}\", args).replace(\", \", comma);\n    }\n\n    function generateArgumentSwitchCase() {\n        var ret = \"\";\n        for (var i = 0; i < argumentOrder.length; ++i) {\n            ret += \"case \" + argumentOrder[i] +\":\" +\n                generateCallForArgumentCount(argumentOrder[i]);\n        }\n\n        ret += \"                                                             \\n\\\n        default:                                                             \\n\\\n            var args = new Array(len + 1);                                   \\n\\\n            var i = 0;                                                       \\n\\\n            for (var i = 0; i < len; ++i) {                                  \\n\\\n               args[i] = arguments[i];                                       \\n\\\n            }                                                                \\n\\\n            args[i] = nodeback;                                              \\n\\\n            [CodeForCall]                                                    \\n\\\n            break;                                                           \\n\\\n        \".replace(\"[CodeForCall]\", (shouldProxyThis\n                                ? \"ret = callback.apply(this, args);\\n\"\n                                : \"ret = callback.apply(receiver, args);\\n\"));\n        return ret;\n    }\n\n    var getFunctionCode = typeof callback === \"string\"\n                                ? (\"this != null ? this['\"+callback+\"'] : fn\")\n                                : \"fn\";\n    var body = \"'use strict';                                                \\n\\\n        var ret = function (Parameters) {                                    \\n\\\n            'use strict';                                                    \\n\\\n            var len = arguments.length;                                      \\n\\\n            var promise = new Promise(INTERNAL);                             \\n\\\n            promise._captureStackTrace();                                    \\n\\\n            var nodeback = nodebackForPromise(promise, \" + multiArgs + \");   \\n\\\n            var ret;                                                         \\n\\\n            var callback = tryCatch([GetFunctionCode]);                      \\n\\\n            switch(len) {                                                    \\n\\\n                [CodeForSwitchCase]                                          \\n\\\n            }                                                                \\n\\\n            if (ret === errorObj) {                                          \\n\\\n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\\n\\\n            }                                                                \\n\\\n            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \\n\\\n            return promise;                                                  \\n\\\n        };                                                                   \\n\\\n        notEnumerableProp(ret, '__isPromisified__', true);                   \\n\\\n        return ret;                                                          \\n\\\n    \".replace(\"[CodeForSwitchCase]\", generateArgumentSwitchCase())\n        .replace(\"[GetFunctionCode]\", getFunctionCode);\n    body = body.replace(\"Parameters\", parameterDeclaration(newParameterCount));\n    return new Function(\"Promise\",\n                        \"fn\",\n                        \"receiver\",\n                        \"withAppended\",\n                        \"maybeWrapAsError\",\n                        \"nodebackForPromise\",\n                        \"tryCatch\",\n                        \"errorObj\",\n                        \"notEnumerableProp\",\n                        \"INTERNAL\",\n                        body)(\n                    Promise,\n                    fn,\n                    receiver,\n                    withAppended,\n                    maybeWrapAsError,\n                    nodebackForPromise,\n                    util.tryCatch,\n                    util.errorObj,\n                    util.notEnumerableProp,\n                    INTERNAL);\n};\n}\n\nfunction makeNodePromisifiedClosure(callback, receiver, _, fn, __, multiArgs) {\n    var defaultThis = (function() {return this;})();\n    var method = callback;\n    if (typeof method === \"string\") {\n        callback = fn;\n    }\n    function promisified() {\n        var _receiver = receiver;\n        if (receiver === THIS) _receiver = this;\n        var promise = new Promise(INTERNAL);\n        promise._captureStackTrace();\n        var cb = typeof method === \"string\" && this !== defaultThis\n            ? this[method] : callback;\n        var fn = nodebackForPromise(promise, multiArgs);\n        try {\n            cb.apply(_receiver, withAppended(arguments, fn));\n        } catch(e) {\n            promise._rejectCallback(maybeWrapAsError(e), true, true);\n        }\n        if (!promise._isFateSealed()) promise._setAsyncGuaranteed();\n        return promise;\n    }\n    util.notEnumerableProp(promisified, \"__isPromisified__\", true);\n    return promisified;\n}\n\nvar makeNodePromisified = canEvaluate\n    ? makeNodePromisifiedEval\n    : makeNodePromisifiedClosure;\n\nfunction promisifyAll(obj, suffix, filter, promisifier, multiArgs) {\n    var suffixRegexp = new RegExp(escapeIdentRegex(suffix) + \"$\");\n    var methods =\n        promisifiableMethods(obj, suffix, suffixRegexp, filter);\n\n    for (var i = 0, len = methods.length; i < len; i+= 2) {\n        var key = methods[i];\n        var fn = methods[i+1];\n        var promisifiedKey = key + suffix;\n        if (promisifier === makeNodePromisified) {\n            obj[promisifiedKey] =\n                makeNodePromisified(key, THIS, key, fn, suffix, multiArgs);\n        } else {\n            var promisified = promisifier(fn, function() {\n                return makeNodePromisified(key, THIS, key,\n                                           fn, suffix, multiArgs);\n            });\n            util.notEnumerableProp(promisified, \"__isPromisified__\", true);\n            obj[promisifiedKey] = promisified;\n        }\n    }\n    util.toFastProperties(obj);\n    return obj;\n}\n\nfunction promisify(callback, receiver, multiArgs) {\n    return makeNodePromisified(callback, receiver, undefined,\n                                callback, null, multiArgs);\n}\n\nPromise.promisify = function (fn, options) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    if (isPromisified(fn)) {\n        return fn;\n    }\n    options = Object(options);\n    var receiver = options.context === undefined ? THIS : options.context;\n    var multiArgs = !!options.multiArgs;\n    var ret = promisify(fn, receiver, multiArgs);\n    util.copyDescriptors(fn, ret, propsFilter);\n    return ret;\n};\n\nPromise.promisifyAll = function (target, options) {\n    if (typeof target !== \"function\" && typeof target !== \"object\") {\n        throw new TypeError(\"the target of promisifyAll must be an object or a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    options = Object(options);\n    var multiArgs = !!options.multiArgs;\n    var suffix = options.suffix;\n    if (typeof suffix !== \"string\") suffix = defaultSuffix;\n    var filter = options.filter;\n    if (typeof filter !== \"function\") filter = defaultFilter;\n    var promisifier = options.promisifier;\n    if (typeof promisifier !== \"function\") promisifier = makeNodePromisified;\n\n    if (!util.isIdentifier(suffix)) {\n        throw new RangeError(\"suffix must be a valid identifier\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n\n    var keys = util.inheritedDataKeys(target);\n    for (var i = 0; i < keys.length; ++i) {\n        var value = target[keys[i]];\n        if (keys[i] !== \"constructor\" &&\n            util.isClass(value)) {\n            promisifyAll(value.prototype, suffix, filter, promisifier,\n                multiArgs);\n            promisifyAll(value, suffix, filter, promisifier, multiArgs);\n        }\n    }\n\n    return promisifyAll(target, suffix, filter, promisifier, multiArgs);\n};\n};\n\n\n},{\"./errors\":12,\"./nodeback\":20,\"./util\":36}],25:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(\n    Promise, PromiseArray, tryConvertToPromise, apiRejection) {\nvar util = _dereq_(\"./util\");\nvar isObject = util.isObject;\nvar es5 = _dereq_(\"./es5\");\nvar Es6Map;\nif (typeof Map === \"function\") Es6Map = Map;\n\nvar mapToEntries = (function() {\n    var index = 0;\n    var size = 0;\n\n    function extractEntry(value, key) {\n        this[index] = value;\n        this[index + size] = key;\n        index++;\n    }\n\n    return function mapToEntries(map) {\n        size = map.size;\n        index = 0;\n        var ret = new Array(map.size * 2);\n        map.forEach(extractEntry, ret);\n        return ret;\n    };\n})();\n\nvar entriesToMap = function(entries) {\n    var ret = new Es6Map();\n    var length = entries.length / 2 | 0;\n    for (var i = 0; i < length; ++i) {\n        var key = entries[length + i];\n        var value = entries[i];\n        ret.set(key, value);\n    }\n    return ret;\n};\n\nfunction PropertiesPromiseArray(obj) {\n    var isMap = false;\n    var entries;\n    if (Es6Map !== undefined && obj instanceof Es6Map) {\n        entries = mapToEntries(obj);\n        isMap = true;\n    } else {\n        var keys = es5.keys(obj);\n        var len = keys.length;\n        entries = new Array(len * 2);\n        for (var i = 0; i < len; ++i) {\n            var key = keys[i];\n            entries[i] = obj[key];\n            entries[i + len] = key;\n        }\n    }\n    this.constructor$(entries);\n    this._isMap = isMap;\n    this._init$(undefined, isMap ? -6 : -3);\n}\nutil.inherits(PropertiesPromiseArray, PromiseArray);\n\nPropertiesPromiseArray.prototype._init = function () {};\n\nPropertiesPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        var val;\n        if (this._isMap) {\n            val = entriesToMap(this._values);\n        } else {\n            val = {};\n            var keyOffset = this.length();\n            for (var i = 0, len = this.length(); i < len; ++i) {\n                val[this._values[i + keyOffset]] = this._values[i];\n            }\n        }\n        this._resolve(val);\n        return true;\n    }\n    return false;\n};\n\nPropertiesPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nPropertiesPromiseArray.prototype.getActualLength = function (len) {\n    return len >> 1;\n};\n\nfunction props(promises) {\n    var ret;\n    var castValue = tryConvertToPromise(promises);\n\n    if (!isObject(castValue)) {\n        return apiRejection(\"cannot await properties of a non-object\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    } else if (castValue instanceof Promise) {\n        ret = castValue._then(\n            Promise.props, undefined, undefined, undefined, undefined);\n    } else {\n        ret = new PropertiesPromiseArray(castValue).promise();\n    }\n\n    if (castValue instanceof Promise) {\n        ret._propagateFrom(castValue, 2);\n    }\n    return ret;\n}\n\nPromise.prototype.props = function () {\n    return props(this);\n};\n\nPromise.props = function (promises) {\n    return props(promises);\n};\n};\n\n},{\"./es5\":13,\"./util\":36}],26:[function(_dereq_,module,exports){\n\"use strict\";\nfunction arrayMove(src, srcIndex, dst, dstIndex, len) {\n    for (var j = 0; j < len; ++j) {\n        dst[j + dstIndex] = src[j + srcIndex];\n        src[j + srcIndex] = void 0;\n    }\n}\n\nfunction Queue(capacity) {\n    this._capacity = capacity;\n    this._length = 0;\n    this._front = 0;\n}\n\nQueue.prototype._willBeOverCapacity = function (size) {\n    return this._capacity < size;\n};\n\nQueue.prototype._pushOne = function (arg) {\n    var length = this.length();\n    this._checkCapacity(length + 1);\n    var i = (this._front + length) & (this._capacity - 1);\n    this[i] = arg;\n    this._length = length + 1;\n};\n\nQueue.prototype.push = function (fn, receiver, arg) {\n    var length = this.length() + 3;\n    if (this._willBeOverCapacity(length)) {\n        this._pushOne(fn);\n        this._pushOne(receiver);\n        this._pushOne(arg);\n        return;\n    }\n    var j = this._front + length - 3;\n    this._checkCapacity(length);\n    var wrapMask = this._capacity - 1;\n    this[(j + 0) & wrapMask] = fn;\n    this[(j + 1) & wrapMask] = receiver;\n    this[(j + 2) & wrapMask] = arg;\n    this._length = length;\n};\n\nQueue.prototype.shift = function () {\n    var front = this._front,\n        ret = this[front];\n\n    this[front] = undefined;\n    this._front = (front + 1) & (this._capacity - 1);\n    this._length--;\n    return ret;\n};\n\nQueue.prototype.length = function () {\n    return this._length;\n};\n\nQueue.prototype._checkCapacity = function (size) {\n    if (this._capacity < size) {\n        this._resizeTo(this._capacity << 1);\n    }\n};\n\nQueue.prototype._resizeTo = function (capacity) {\n    var oldCapacity = this._capacity;\n    this._capacity = capacity;\n    var front = this._front;\n    var length = this._length;\n    var moveItemsCount = (front + length) & (oldCapacity - 1);\n    arrayMove(this, 0, this, oldCapacity, moveItemsCount);\n};\n\nmodule.exports = Queue;\n\n},{}],27:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(\n    Promise, INTERNAL, tryConvertToPromise, apiRejection) {\nvar util = _dereq_(\"./util\");\n\nvar raceLater = function (promise) {\n    return promise.then(function(array) {\n        return race(array, promise);\n    });\n};\n\nfunction race(promises, parent) {\n    var maybePromise = tryConvertToPromise(promises);\n\n    if (maybePromise instanceof Promise) {\n        return raceLater(maybePromise);\n    } else {\n        promises = util.asArray(promises);\n        if (promises === null)\n            return apiRejection(\"expecting an array or an iterable object but got \" + util.classString(promises));\n    }\n\n    var ret = new Promise(INTERNAL);\n    if (parent !== undefined) {\n        ret._propagateFrom(parent, 3);\n    }\n    var fulfill = ret._fulfill;\n    var reject = ret._reject;\n    for (var i = 0, len = promises.length; i < len; ++i) {\n        var val = promises[i];\n\n        if (val === undefined && !(i in promises)) {\n            continue;\n        }\n\n        Promise.cast(val)._then(fulfill, reject, undefined, ret, null);\n    }\n    return ret;\n}\n\nPromise.race = function (promises) {\n    return race(promises, undefined);\n};\n\nPromise.prototype.race = function () {\n    return race(this, undefined);\n};\n\n};\n\n},{\"./util\":36}],28:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL,\n                          debug) {\nvar getDomain = Promise._getDomain;\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\n\nfunction ReductionPromiseArray(promises, fn, initialValue, _each) {\n    this.constructor$(promises);\n    var domain = getDomain();\n    this._fn = domain === null ? fn : util.domainBind(domain, fn);\n    if (initialValue !== undefined) {\n        initialValue = Promise.resolve(initialValue);\n        initialValue._attachCancellationCallback(this);\n    }\n    this._initialValue = initialValue;\n    this._currentCancellable = null;\n    if(_each === INTERNAL) {\n        this._eachValues = Array(this._length);\n    } else if (_each === 0) {\n        this._eachValues = null;\n    } else {\n        this._eachValues = undefined;\n    }\n    this._promise._captureStackTrace();\n    this._init$(undefined, -5);\n}\nutil.inherits(ReductionPromiseArray, PromiseArray);\n\nReductionPromiseArray.prototype._gotAccum = function(accum) {\n    if (this._eachValues !== undefined && \n        this._eachValues !== null && \n        accum !== INTERNAL) {\n        this._eachValues.push(accum);\n    }\n};\n\nReductionPromiseArray.prototype._eachComplete = function(value) {\n    if (this._eachValues !== null) {\n        this._eachValues.push(value);\n    }\n    return this._eachValues;\n};\n\nReductionPromiseArray.prototype._init = function() {};\n\nReductionPromiseArray.prototype._resolveEmptyArray = function() {\n    this._resolve(this._eachValues !== undefined ? this._eachValues\n                                                 : this._initialValue);\n};\n\nReductionPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nReductionPromiseArray.prototype._resolve = function(value) {\n    this._promise._resolveCallback(value);\n    this._values = null;\n};\n\nReductionPromiseArray.prototype._resultCancelled = function(sender) {\n    if (sender === this._initialValue) return this._cancel();\n    if (this._isResolved()) return;\n    this._resultCancelled$();\n    if (this._currentCancellable instanceof Promise) {\n        this._currentCancellable.cancel();\n    }\n    if (this._initialValue instanceof Promise) {\n        this._initialValue.cancel();\n    }\n};\n\nReductionPromiseArray.prototype._iterate = function (values) {\n    this._values = values;\n    var value;\n    var i;\n    var length = values.length;\n    if (this._initialValue !== undefined) {\n        value = this._initialValue;\n        i = 0;\n    } else {\n        value = Promise.resolve(values[0]);\n        i = 1;\n    }\n\n    this._currentCancellable = value;\n\n    if (!value.isRejected()) {\n        for (; i < length; ++i) {\n            var ctx = {\n                accum: null,\n                value: values[i],\n                index: i,\n                length: length,\n                array: this\n            };\n            value = value._then(gotAccum, undefined, undefined, ctx, undefined);\n        }\n    }\n\n    if (this._eachValues !== undefined) {\n        value = value\n            ._then(this._eachComplete, undefined, undefined, this, undefined);\n    }\n    value._then(completed, completed, undefined, value, this);\n};\n\nPromise.prototype.reduce = function (fn, initialValue) {\n    return reduce(this, fn, initialValue, null);\n};\n\nPromise.reduce = function (promises, fn, initialValue, _each) {\n    return reduce(promises, fn, initialValue, _each);\n};\n\nfunction completed(valueOrReason, array) {\n    if (this.isFulfilled()) {\n        array._resolve(valueOrReason);\n    } else {\n        array._reject(valueOrReason);\n    }\n}\n\nfunction reduce(promises, fn, initialValue, _each) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    var array = new ReductionPromiseArray(promises, fn, initialValue, _each);\n    return array.promise();\n}\n\nfunction gotAccum(accum) {\n    this.accum = accum;\n    this.array._gotAccum(accum);\n    var value = tryConvertToPromise(this.value, this.array._promise);\n    if (value instanceof Promise) {\n        this.array._currentCancellable = value;\n        return value._then(gotValue, undefined, undefined, this, undefined);\n    } else {\n        return gotValue.call(this, value);\n    }\n}\n\nfunction gotValue(value) {\n    var array = this.array;\n    var promise = array._promise;\n    var fn = tryCatch(array._fn);\n    promise._pushContext();\n    var ret;\n    if (array._eachValues !== undefined) {\n        ret = fn.call(promise._boundValue(), value, this.index, this.length);\n    } else {\n        ret = fn.call(promise._boundValue(),\n                              this.accum, value, this.index, this.length);\n    }\n    if (ret instanceof Promise) {\n        array._currentCancellable = ret;\n    }\n    var promiseCreated = promise._popContext();\n    debug.checkForgottenReturns(\n        ret,\n        promiseCreated,\n        array._eachValues !== undefined ? \"Promise.each\" : \"Promise.reduce\",\n        promise\n    );\n    return ret;\n}\n};\n\n},{\"./util\":36}],29:[function(_dereq_,module,exports){\n\"use strict\";\nvar util = _dereq_(\"./util\");\nvar schedule;\nvar noAsyncScheduler = function() {\n    throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n};\nvar NativePromise = util.getNativePromise();\nif (util.isNode && typeof MutationObserver === \"undefined\") {\n    var GlobalSetImmediate = global.setImmediate;\n    var ProcessNextTick = process.nextTick;\n    schedule = util.isRecentNode\n                ? function(fn) { GlobalSetImmediate.call(global, fn); }\n                : function(fn) { ProcessNextTick.call(process, fn); };\n} else if (typeof NativePromise === \"function\" &&\n           typeof NativePromise.resolve === \"function\") {\n    var nativePromise = NativePromise.resolve();\n    schedule = function(fn) {\n        nativePromise.then(fn);\n    };\n} else if ((typeof MutationObserver !== \"undefined\") &&\n          !(typeof window !== \"undefined\" &&\n            window.navigator &&\n            (window.navigator.standalone || window.cordova))) {\n    schedule = (function() {\n        var div = document.createElement(\"div\");\n        var opts = {attributes: true};\n        var toggleScheduled = false;\n        var div2 = document.createElement(\"div\");\n        var o2 = new MutationObserver(function() {\n            div.classList.toggle(\"foo\");\n            toggleScheduled = false;\n        });\n        o2.observe(div2, opts);\n\n        var scheduleToggle = function() {\n            if (toggleScheduled) return;\n            toggleScheduled = true;\n            div2.classList.toggle(\"foo\");\n        };\n\n        return function schedule(fn) {\n            var o = new MutationObserver(function() {\n                o.disconnect();\n                fn();\n            });\n            o.observe(div, opts);\n            scheduleToggle();\n        };\n    })();\n} else if (typeof setImmediate !== \"undefined\") {\n    schedule = function (fn) {\n        setImmediate(fn);\n    };\n} else if (typeof setTimeout !== \"undefined\") {\n    schedule = function (fn) {\n        setTimeout(fn, 0);\n    };\n} else {\n    schedule = noAsyncScheduler;\n}\nmodule.exports = schedule;\n\n},{\"./util\":36}],30:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\n    function(Promise, PromiseArray, debug) {\nvar PromiseInspection = Promise.PromiseInspection;\nvar util = _dereq_(\"./util\");\n\nfunction SettledPromiseArray(values) {\n    this.constructor$(values);\n}\nutil.inherits(SettledPromiseArray, PromiseArray);\n\nSettledPromiseArray.prototype._promiseResolved = function (index, inspection) {\n    this._values[index] = inspection;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n        return true;\n    }\n    return false;\n};\n\nSettledPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 33554432;\n    ret._settledValueField = value;\n    return this._promiseResolved(index, ret);\n};\nSettledPromiseArray.prototype._promiseRejected = function (reason, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 16777216;\n    ret._settledValueField = reason;\n    return this._promiseResolved(index, ret);\n};\n\nPromise.settle = function (promises) {\n    debug.deprecated(\".settle()\", \".reflect()\");\n    return new SettledPromiseArray(promises).promise();\n};\n\nPromise.prototype.settle = function () {\n    return Promise.settle(this);\n};\n};\n\n},{\"./util\":36}],31:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, PromiseArray, apiRejection) {\nvar util = _dereq_(\"./util\");\nvar RangeError = _dereq_(\"./errors\").RangeError;\nvar AggregateError = _dereq_(\"./errors\").AggregateError;\nvar isArray = util.isArray;\nvar CANCELLATION = {};\n\n\nfunction SomePromiseArray(values) {\n    this.constructor$(values);\n    this._howMany = 0;\n    this._unwrap = false;\n    this._initialized = false;\n}\nutil.inherits(SomePromiseArray, PromiseArray);\n\nSomePromiseArray.prototype._init = function () {\n    if (!this._initialized) {\n        return;\n    }\n    if (this._howMany === 0) {\n        this._resolve([]);\n        return;\n    }\n    this._init$(undefined, -5);\n    var isArrayResolved = isArray(this._values);\n    if (!this._isResolved() &&\n        isArrayResolved &&\n        this._howMany > this._canPossiblyFulfill()) {\n        this._reject(this._getRangeError(this.length()));\n    }\n};\n\nSomePromiseArray.prototype.init = function () {\n    this._initialized = true;\n    this._init();\n};\n\nSomePromiseArray.prototype.setUnwrap = function () {\n    this._unwrap = true;\n};\n\nSomePromiseArray.prototype.howMany = function () {\n    return this._howMany;\n};\n\nSomePromiseArray.prototype.setHowMany = function (count) {\n    this._howMany = count;\n};\n\nSomePromiseArray.prototype._promiseFulfilled = function (value) {\n    this._addFulfilled(value);\n    if (this._fulfilled() === this.howMany()) {\n        this._values.length = this.howMany();\n        if (this.howMany() === 1 && this._unwrap) {\n            this._resolve(this._values[0]);\n        } else {\n            this._resolve(this._values);\n        }\n        return true;\n    }\n    return false;\n\n};\nSomePromiseArray.prototype._promiseRejected = function (reason) {\n    this._addRejected(reason);\n    return this._checkOutcome();\n};\n\nSomePromiseArray.prototype._promiseCancelled = function () {\n    if (this._values instanceof Promise || this._values == null) {\n        return this._cancel();\n    }\n    this._addRejected(CANCELLATION);\n    return this._checkOutcome();\n};\n\nSomePromiseArray.prototype._checkOutcome = function() {\n    if (this.howMany() > this._canPossiblyFulfill()) {\n        var e = new AggregateError();\n        for (var i = this.length(); i < this._values.length; ++i) {\n            if (this._values[i] !== CANCELLATION) {\n                e.push(this._values[i]);\n            }\n        }\n        if (e.length > 0) {\n            this._reject(e);\n        } else {\n            this._cancel();\n        }\n        return true;\n    }\n    return false;\n};\n\nSomePromiseArray.prototype._fulfilled = function () {\n    return this._totalResolved;\n};\n\nSomePromiseArray.prototype._rejected = function () {\n    return this._values.length - this.length();\n};\n\nSomePromiseArray.prototype._addRejected = function (reason) {\n    this._values.push(reason);\n};\n\nSomePromiseArray.prototype._addFulfilled = function (value) {\n    this._values[this._totalResolved++] = value;\n};\n\nSomePromiseArray.prototype._canPossiblyFulfill = function () {\n    return this.length() - this._rejected();\n};\n\nSomePromiseArray.prototype._getRangeError = function (count) {\n    var message = \"Input array must contain at least \" +\n            this._howMany + \" items but contains only \" + count + \" items\";\n    return new RangeError(message);\n};\n\nSomePromiseArray.prototype._resolveEmptyArray = function () {\n    this._reject(this._getRangeError(0));\n};\n\nfunction some(promises, howMany) {\n    if ((howMany | 0) !== howMany || howMany < 0) {\n        return apiRejection(\"expecting a positive integer\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var ret = new SomePromiseArray(promises);\n    var promise = ret.promise();\n    ret.setHowMany(howMany);\n    ret.init();\n    return promise;\n}\n\nPromise.some = function (promises, howMany) {\n    return some(promises, howMany);\n};\n\nPromise.prototype.some = function (howMany) {\n    return some(this, howMany);\n};\n\nPromise._SomePromiseArray = SomePromiseArray;\n};\n\n},{\"./errors\":12,\"./util\":36}],32:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nfunction PromiseInspection(promise) {\n    if (promise !== undefined) {\n        promise = promise._target();\n        this._bitField = promise._bitField;\n        this._settledValueField = promise._isFateSealed()\n            ? promise._settledValue() : undefined;\n    }\n    else {\n        this._bitField = 0;\n        this._settledValueField = undefined;\n    }\n}\n\nPromiseInspection.prototype._settledValue = function() {\n    return this._settledValueField;\n};\n\nvar value = PromiseInspection.prototype.value = function () {\n    if (!this.isFulfilled()) {\n        throw new TypeError(\"cannot get fulfillment value of a non-fulfilled promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    return this._settledValue();\n};\n\nvar reason = PromiseInspection.prototype.error =\nPromiseInspection.prototype.reason = function () {\n    if (!this.isRejected()) {\n        throw new TypeError(\"cannot get rejection reason of a non-rejected promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    return this._settledValue();\n};\n\nvar isFulfilled = PromiseInspection.prototype.isFulfilled = function() {\n    return (this._bitField & 33554432) !== 0;\n};\n\nvar isRejected = PromiseInspection.prototype.isRejected = function () {\n    return (this._bitField & 16777216) !== 0;\n};\n\nvar isPending = PromiseInspection.prototype.isPending = function () {\n    return (this._bitField & 50397184) === 0;\n};\n\nvar isResolved = PromiseInspection.prototype.isResolved = function () {\n    return (this._bitField & 50331648) !== 0;\n};\n\nPromiseInspection.prototype.isCancelled = function() {\n    return (this._bitField & 8454144) !== 0;\n};\n\nPromise.prototype.__isCancelled = function() {\n    return (this._bitField & 65536) === 65536;\n};\n\nPromise.prototype._isCancelled = function() {\n    return this._target().__isCancelled();\n};\n\nPromise.prototype.isCancelled = function() {\n    return (this._target()._bitField & 8454144) !== 0;\n};\n\nPromise.prototype.isPending = function() {\n    return isPending.call(this._target());\n};\n\nPromise.prototype.isRejected = function() {\n    return isRejected.call(this._target());\n};\n\nPromise.prototype.isFulfilled = function() {\n    return isFulfilled.call(this._target());\n};\n\nPromise.prototype.isResolved = function() {\n    return isResolved.call(this._target());\n};\n\nPromise.prototype.value = function() {\n    return value.call(this._target());\n};\n\nPromise.prototype.reason = function() {\n    var target = this._target();\n    target._unsetRejectionIsUnhandled();\n    return reason.call(target);\n};\n\nPromise.prototype._value = function() {\n    return this._settledValue();\n};\n\nPromise.prototype._reason = function() {\n    this._unsetRejectionIsUnhandled();\n    return this._settledValue();\n};\n\nPromise.PromiseInspection = PromiseInspection;\n};\n\n},{}],33:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar util = _dereq_(\"./util\");\nvar errorObj = util.errorObj;\nvar isObject = util.isObject;\n\nfunction tryConvertToPromise(obj, context) {\n    if (isObject(obj)) {\n        if (obj instanceof Promise) return obj;\n        var then = getThen(obj);\n        if (then === errorObj) {\n            if (context) context._pushContext();\n            var ret = Promise.reject(then.e);\n            if (context) context._popContext();\n            return ret;\n        } else if (typeof then === \"function\") {\n            if (isAnyBluebirdPromise(obj)) {\n                var ret = new Promise(INTERNAL);\n                obj._then(\n                    ret._fulfill,\n                    ret._reject,\n                    undefined,\n                    ret,\n                    null\n                );\n                return ret;\n            }\n            return doThenable(obj, then, context);\n        }\n    }\n    return obj;\n}\n\nfunction doGetThen(obj) {\n    return obj.then;\n}\n\nfunction getThen(obj) {\n    try {\n        return doGetThen(obj);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\n\nvar hasProp = {}.hasOwnProperty;\nfunction isAnyBluebirdPromise(obj) {\n    try {\n        return hasProp.call(obj, \"_promise0\");\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction doThenable(x, then, context) {\n    var promise = new Promise(INTERNAL);\n    var ret = promise;\n    if (context) context._pushContext();\n    promise._captureStackTrace();\n    if (context) context._popContext();\n    var synchronous = true;\n    var result = util.tryCatch(then).call(x, resolve, reject);\n    synchronous = false;\n\n    if (promise && result === errorObj) {\n        promise._rejectCallback(result.e, true, true);\n        promise = null;\n    }\n\n    function resolve(value) {\n        if (!promise) return;\n        promise._resolveCallback(value);\n        promise = null;\n    }\n\n    function reject(reason) {\n        if (!promise) return;\n        promise._rejectCallback(reason, synchronous, true);\n        promise = null;\n    }\n    return ret;\n}\n\nreturn tryConvertToPromise;\n};\n\n},{\"./util\":36}],34:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, debug) {\nvar util = _dereq_(\"./util\");\nvar TimeoutError = Promise.TimeoutError;\n\nfunction HandleWrapper(handle)  {\n    this.handle = handle;\n}\n\nHandleWrapper.prototype._resultCancelled = function() {\n    clearTimeout(this.handle);\n};\n\nvar afterValue = function(value) { return delay(+this).thenReturn(value); };\nvar delay = Promise.delay = function (ms, value) {\n    var ret;\n    var handle;\n    if (value !== undefined) {\n        ret = Promise.resolve(value)\n                ._then(afterValue, null, null, ms, undefined);\n        if (debug.cancellation() && value instanceof Promise) {\n            ret._setOnCancel(value);\n        }\n    } else {\n        ret = new Promise(INTERNAL);\n        handle = setTimeout(function() { ret._fulfill(); }, +ms);\n        if (debug.cancellation()) {\n            ret._setOnCancel(new HandleWrapper(handle));\n        }\n        ret._captureStackTrace();\n    }\n    ret._setAsyncGuaranteed();\n    return ret;\n};\n\nPromise.prototype.delay = function (ms) {\n    return delay(ms, this);\n};\n\nvar afterTimeout = function (promise, message, parent) {\n    var err;\n    if (typeof message !== \"string\") {\n        if (message instanceof Error) {\n            err = message;\n        } else {\n            err = new TimeoutError(\"operation timed out\");\n        }\n    } else {\n        err = new TimeoutError(message);\n    }\n    util.markAsOriginatingFromRejection(err);\n    promise._attachExtraTrace(err);\n    promise._reject(err);\n\n    if (parent != null) {\n        parent.cancel();\n    }\n};\n\nfunction successClear(value) {\n    clearTimeout(this.handle);\n    return value;\n}\n\nfunction failureClear(reason) {\n    clearTimeout(this.handle);\n    throw reason;\n}\n\nPromise.prototype.timeout = function (ms, message) {\n    ms = +ms;\n    var ret, parent;\n\n    var handleWrapper = new HandleWrapper(setTimeout(function timeoutTimeout() {\n        if (ret.isPending()) {\n            afterTimeout(ret, message, parent);\n        }\n    }, ms));\n\n    if (debug.cancellation()) {\n        parent = this.then();\n        ret = parent._then(successClear, failureClear,\n                            undefined, handleWrapper, undefined);\n        ret._setOnCancel(handleWrapper);\n    } else {\n        ret = this._then(successClear, failureClear,\n                            undefined, handleWrapper, undefined);\n    }\n\n    return ret;\n};\n\n};\n\n},{\"./util\":36}],35:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function (Promise, apiRejection, tryConvertToPromise,\n    createContext, INTERNAL, debug) {\n    var util = _dereq_(\"./util\");\n    var TypeError = _dereq_(\"./errors\").TypeError;\n    var inherits = _dereq_(\"./util\").inherits;\n    var errorObj = util.errorObj;\n    var tryCatch = util.tryCatch;\n    var NULL = {};\n\n    function thrower(e) {\n        setTimeout(function(){throw e;}, 0);\n    }\n\n    function castPreservingDisposable(thenable) {\n        var maybePromise = tryConvertToPromise(thenable);\n        if (maybePromise !== thenable &&\n            typeof thenable._isDisposable === \"function\" &&\n            typeof thenable._getDisposer === \"function\" &&\n            thenable._isDisposable()) {\n            maybePromise._setDisposable(thenable._getDisposer());\n        }\n        return maybePromise;\n    }\n    function dispose(resources, inspection) {\n        var i = 0;\n        var len = resources.length;\n        var ret = new Promise(INTERNAL);\n        function iterator() {\n            if (i >= len) return ret._fulfill();\n            var maybePromise = castPreservingDisposable(resources[i++]);\n            if (maybePromise instanceof Promise &&\n                maybePromise._isDisposable()) {\n                try {\n                    maybePromise = tryConvertToPromise(\n                        maybePromise._getDisposer().tryDispose(inspection),\n                        resources.promise);\n                } catch (e) {\n                    return thrower(e);\n                }\n                if (maybePromise instanceof Promise) {\n                    return maybePromise._then(iterator, thrower,\n                                              null, null, null);\n                }\n            }\n            iterator();\n        }\n        iterator();\n        return ret;\n    }\n\n    function Disposer(data, promise, context) {\n        this._data = data;\n        this._promise = promise;\n        this._context = context;\n    }\n\n    Disposer.prototype.data = function () {\n        return this._data;\n    };\n\n    Disposer.prototype.promise = function () {\n        return this._promise;\n    };\n\n    Disposer.prototype.resource = function () {\n        if (this.promise().isFulfilled()) {\n            return this.promise().value();\n        }\n        return NULL;\n    };\n\n    Disposer.prototype.tryDispose = function(inspection) {\n        var resource = this.resource();\n        var context = this._context;\n        if (context !== undefined) context._pushContext();\n        var ret = resource !== NULL\n            ? this.doDispose(resource, inspection) : null;\n        if (context !== undefined) context._popContext();\n        this._promise._unsetDisposable();\n        this._data = null;\n        return ret;\n    };\n\n    Disposer.isDisposer = function (d) {\n        return (d != null &&\n                typeof d.resource === \"function\" &&\n                typeof d.tryDispose === \"function\");\n    };\n\n    function FunctionDisposer(fn, promise, context) {\n        this.constructor$(fn, promise, context);\n    }\n    inherits(FunctionDisposer, Disposer);\n\n    FunctionDisposer.prototype.doDispose = function (resource, inspection) {\n        var fn = this.data();\n        return fn.call(resource, resource, inspection);\n    };\n\n    function maybeUnwrapDisposer(value) {\n        if (Disposer.isDisposer(value)) {\n            this.resources[this.index]._setDisposable(value);\n            return value.promise();\n        }\n        return value;\n    }\n\n    function ResourceList(length) {\n        this.length = length;\n        this.promise = null;\n        this[length-1] = null;\n    }\n\n    ResourceList.prototype._resultCancelled = function() {\n        var len = this.length;\n        for (var i = 0; i < len; ++i) {\n            var item = this[i];\n            if (item instanceof Promise) {\n                item.cancel();\n            }\n        }\n    };\n\n    Promise.using = function () {\n        var len = arguments.length;\n        if (len < 2) return apiRejection(\n                        \"you must pass at least 2 arguments to Promise.using\");\n        var fn = arguments[len - 1];\n        if (typeof fn !== \"function\") {\n            return apiRejection(\"expecting a function but got \" + util.classString(fn));\n        }\n        var input;\n        var spreadArgs = true;\n        if (len === 2 && Array.isArray(arguments[0])) {\n            input = arguments[0];\n            len = input.length;\n            spreadArgs = false;\n        } else {\n            input = arguments;\n            len--;\n        }\n        var resources = new ResourceList(len);\n        for (var i = 0; i < len; ++i) {\n            var resource = input[i];\n            if (Disposer.isDisposer(resource)) {\n                var disposer = resource;\n                resource = resource.promise();\n                resource._setDisposable(disposer);\n            } else {\n                var maybePromise = tryConvertToPromise(resource);\n                if (maybePromise instanceof Promise) {\n                    resource =\n                        maybePromise._then(maybeUnwrapDisposer, null, null, {\n                            resources: resources,\n                            index: i\n                    }, undefined);\n                }\n            }\n            resources[i] = resource;\n        }\n\n        var reflectedResources = new Array(resources.length);\n        for (var i = 0; i < reflectedResources.length; ++i) {\n            reflectedResources[i] = Promise.resolve(resources[i]).reflect();\n        }\n\n        var resultPromise = Promise.all(reflectedResources)\n            .then(function(inspections) {\n                for (var i = 0; i < inspections.length; ++i) {\n                    var inspection = inspections[i];\n                    if (inspection.isRejected()) {\n                        errorObj.e = inspection.error();\n                        return errorObj;\n                    } else if (!inspection.isFulfilled()) {\n                        resultPromise.cancel();\n                        return;\n                    }\n                    inspections[i] = inspection.value();\n                }\n                promise._pushContext();\n\n                fn = tryCatch(fn);\n                var ret = spreadArgs\n                    ? fn.apply(undefined, inspections) : fn(inspections);\n                var promiseCreated = promise._popContext();\n                debug.checkForgottenReturns(\n                    ret, promiseCreated, \"Promise.using\", promise);\n                return ret;\n            });\n\n        var promise = resultPromise.lastly(function() {\n            var inspection = new Promise.PromiseInspection(resultPromise);\n            return dispose(resources, inspection);\n        });\n        resources.promise = promise;\n        promise._setOnCancel(resources);\n        return promise;\n    };\n\n    Promise.prototype._setDisposable = function (disposer) {\n        this._bitField = this._bitField | 131072;\n        this._disposer = disposer;\n    };\n\n    Promise.prototype._isDisposable = function () {\n        return (this._bitField & 131072) > 0;\n    };\n\n    Promise.prototype._getDisposer = function () {\n        return this._disposer;\n    };\n\n    Promise.prototype._unsetDisposable = function () {\n        this._bitField = this._bitField & (~131072);\n        this._disposer = undefined;\n    };\n\n    Promise.prototype.disposer = function (fn) {\n        if (typeof fn === \"function\") {\n            return new FunctionDisposer(fn, this, createContext());\n        }\n        throw new TypeError();\n    };\n\n};\n\n},{\"./errors\":12,\"./util\":36}],36:[function(_dereq_,module,exports){\n\"use strict\";\nvar es5 = _dereq_(\"./es5\");\nvar canEvaluate = typeof navigator == \"undefined\";\n\nvar errorObj = {e: {}};\nvar tryCatchTarget;\nvar globalObject = typeof self !== \"undefined\" ? self :\n    typeof window !== \"undefined\" ? window :\n    typeof global !== \"undefined\" ? global :\n    this !== undefined ? this : null;\n\nfunction tryCatcher() {\n    try {\n        var target = tryCatchTarget;\n        tryCatchTarget = null;\n        return target.apply(this, arguments);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\nfunction tryCatch(fn) {\n    tryCatchTarget = fn;\n    return tryCatcher;\n}\n\nvar inherits = function(Child, Parent) {\n    var hasProp = {}.hasOwnProperty;\n\n    function T() {\n        this.constructor = Child;\n        this.constructor$ = Parent;\n        for (var propertyName in Parent.prototype) {\n            if (hasProp.call(Parent.prototype, propertyName) &&\n                propertyName.charAt(propertyName.length-1) !== \"$\"\n           ) {\n                this[propertyName + \"$\"] = Parent.prototype[propertyName];\n            }\n        }\n    }\n    T.prototype = Parent.prototype;\n    Child.prototype = new T();\n    return Child.prototype;\n};\n\n\nfunction isPrimitive(val) {\n    return val == null || val === true || val === false ||\n        typeof val === \"string\" || typeof val === \"number\";\n\n}\n\nfunction isObject(value) {\n    return typeof value === \"function\" ||\n           typeof value === \"object\" && value !== null;\n}\n\nfunction maybeWrapAsError(maybeError) {\n    if (!isPrimitive(maybeError)) return maybeError;\n\n    return new Error(safeToString(maybeError));\n}\n\nfunction withAppended(target, appendee) {\n    var len = target.length;\n    var ret = new Array(len + 1);\n    var i;\n    for (i = 0; i < len; ++i) {\n        ret[i] = target[i];\n    }\n    ret[i] = appendee;\n    return ret;\n}\n\nfunction getDataPropertyOrDefault(obj, key, defaultValue) {\n    if (es5.isES5) {\n        var desc = Object.getOwnPropertyDescriptor(obj, key);\n\n        if (desc != null) {\n            return desc.get == null && desc.set == null\n                    ? desc.value\n                    : defaultValue;\n        }\n    } else {\n        return {}.hasOwnProperty.call(obj, key) ? obj[key] : undefined;\n    }\n}\n\nfunction notEnumerableProp(obj, name, value) {\n    if (isPrimitive(obj)) return obj;\n    var descriptor = {\n        value: value,\n        configurable: true,\n        enumerable: false,\n        writable: true\n    };\n    es5.defineProperty(obj, name, descriptor);\n    return obj;\n}\n\nfunction thrower(r) {\n    throw r;\n}\n\nvar inheritedDataKeys = (function() {\n    var excludedPrototypes = [\n        Array.prototype,\n        Object.prototype,\n        Function.prototype\n    ];\n\n    var isExcludedProto = function(val) {\n        for (var i = 0; i < excludedPrototypes.length; ++i) {\n            if (excludedPrototypes[i] === val) {\n                return true;\n            }\n        }\n        return false;\n    };\n\n    if (es5.isES5) {\n        var getKeys = Object.getOwnPropertyNames;\n        return function(obj) {\n            var ret = [];\n            var visitedKeys = Object.create(null);\n            while (obj != null && !isExcludedProto(obj)) {\n                var keys;\n                try {\n                    keys = getKeys(obj);\n                } catch (e) {\n                    return ret;\n                }\n                for (var i = 0; i < keys.length; ++i) {\n                    var key = keys[i];\n                    if (visitedKeys[key]) continue;\n                    visitedKeys[key] = true;\n                    var desc = Object.getOwnPropertyDescriptor(obj, key);\n                    if (desc != null && desc.get == null && desc.set == null) {\n                        ret.push(key);\n                    }\n                }\n                obj = es5.getPrototypeOf(obj);\n            }\n            return ret;\n        };\n    } else {\n        var hasProp = {}.hasOwnProperty;\n        return function(obj) {\n            if (isExcludedProto(obj)) return [];\n            var ret = [];\n\n            /*jshint forin:false */\n            enumeration: for (var key in obj) {\n                if (hasProp.call(obj, key)) {\n                    ret.push(key);\n                } else {\n                    for (var i = 0; i < excludedPrototypes.length; ++i) {\n                        if (hasProp.call(excludedPrototypes[i], key)) {\n                            continue enumeration;\n                        }\n                    }\n                    ret.push(key);\n                }\n            }\n            return ret;\n        };\n    }\n\n})();\n\nvar thisAssignmentPattern = /this\\s*\\.\\s*\\S+\\s*=/;\nfunction isClass(fn) {\n    try {\n        if (typeof fn === \"function\") {\n            var keys = es5.names(fn.prototype);\n\n            var hasMethods = es5.isES5 && keys.length > 1;\n            var hasMethodsOtherThanConstructor = keys.length > 0 &&\n                !(keys.length === 1 && keys[0] === \"constructor\");\n            var hasThisAssignmentAndStaticMethods =\n                thisAssignmentPattern.test(fn + \"\") && es5.names(fn).length > 0;\n\n            if (hasMethods || hasMethodsOtherThanConstructor ||\n                hasThisAssignmentAndStaticMethods) {\n                return true;\n            }\n        }\n        return false;\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction toFastProperties(obj) {\n    /*jshint -W027,-W055,-W031*/\n    function FakeConstructor() {}\n    FakeConstructor.prototype = obj;\n    var l = 8;\n    while (l--) new FakeConstructor();\n    return obj;\n    eval(obj);\n}\n\nvar rident = /^[a-z$_][a-z$_0-9]*$/i;\nfunction isIdentifier(str) {\n    return rident.test(str);\n}\n\nfunction filledRange(count, prefix, suffix) {\n    var ret = new Array(count);\n    for(var i = 0; i < count; ++i) {\n        ret[i] = prefix + i + suffix;\n    }\n    return ret;\n}\n\nfunction safeToString(obj) {\n    try {\n        return obj + \"\";\n    } catch (e) {\n        return \"[no string representation]\";\n    }\n}\n\nfunction isError(obj) {\n    return obj !== null &&\n           typeof obj === \"object\" &&\n           typeof obj.message === \"string\" &&\n           typeof obj.name === \"string\";\n}\n\nfunction markAsOriginatingFromRejection(e) {\n    try {\n        notEnumerableProp(e, \"isOperational\", true);\n    }\n    catch(ignore) {}\n}\n\nfunction originatesFromRejection(e) {\n    if (e == null) return false;\n    return ((e instanceof Error[\"__BluebirdErrorTypes__\"].OperationalError) ||\n        e[\"isOperational\"] === true);\n}\n\nfunction canAttachTrace(obj) {\n    return isError(obj) && es5.propertyIsWritable(obj, \"stack\");\n}\n\nvar ensureErrorObject = (function() {\n    if (!(\"stack\" in new Error())) {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            try {throw new Error(safeToString(value));}\n            catch(err) {return err;}\n        };\n    } else {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            return new Error(safeToString(value));\n        };\n    }\n})();\n\nfunction classString(obj) {\n    return {}.toString.call(obj);\n}\n\nfunction copyDescriptors(from, to, filter) {\n    var keys = es5.names(from);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        if (filter(key)) {\n            try {\n                es5.defineProperty(to, key, es5.getDescriptor(from, key));\n            } catch (ignore) {}\n        }\n    }\n}\n\nvar asArray = function(v) {\n    if (es5.isArray(v)) {\n        return v;\n    }\n    return null;\n};\n\nif (typeof Symbol !== \"undefined\" && Symbol.iterator) {\n    var ArrayFrom = typeof Array.from === \"function\" ? function(v) {\n        return Array.from(v);\n    } : function(v) {\n        var ret = [];\n        var it = v[Symbol.iterator]();\n        var itResult;\n        while (!((itResult = it.next()).done)) {\n            ret.push(itResult.value);\n        }\n        return ret;\n    };\n\n    asArray = function(v) {\n        if (es5.isArray(v)) {\n            return v;\n        } else if (v != null && typeof v[Symbol.iterator] === \"function\") {\n            return ArrayFrom(v);\n        }\n        return null;\n    };\n}\n\nvar isNode = typeof process !== \"undefined\" &&\n        classString(process).toLowerCase() === \"[object process]\";\n\nvar hasEnvVariables = typeof process !== \"undefined\" &&\n    typeof process.env !== \"undefined\";\n\nfunction env(key) {\n    return hasEnvVariables ? process.env[key] : undefined;\n}\n\nfunction getNativePromise() {\n    if (typeof Promise === \"function\") {\n        try {\n            var promise = new Promise(function(){});\n            if ({}.toString.call(promise) === \"[object Promise]\") {\n                return Promise;\n            }\n        } catch (e) {}\n    }\n}\n\nfunction domainBind(self, cb) {\n    return self.bind(cb);\n}\n\nvar ret = {\n    isClass: isClass,\n    isIdentifier: isIdentifier,\n    inheritedDataKeys: inheritedDataKeys,\n    getDataPropertyOrDefault: getDataPropertyOrDefault,\n    thrower: thrower,\n    isArray: es5.isArray,\n    asArray: asArray,\n    notEnumerableProp: notEnumerableProp,\n    isPrimitive: isPrimitive,\n    isObject: isObject,\n    isError: isError,\n    canEvaluate: canEvaluate,\n    errorObj: errorObj,\n    tryCatch: tryCatch,\n    inherits: inherits,\n    withAppended: withAppended,\n    maybeWrapAsError: maybeWrapAsError,\n    toFastProperties: toFastProperties,\n    filledRange: filledRange,\n    toString: safeToString,\n    canAttachTrace: canAttachTrace,\n    ensureErrorObject: ensureErrorObject,\n    originatesFromRejection: originatesFromRejection,\n    markAsOriginatingFromRejection: markAsOriginatingFromRejection,\n    classString: classString,\n    copyDescriptors: copyDescriptors,\n    hasDevTools: typeof chrome !== \"undefined\" && chrome &&\n                 typeof chrome.loadTimes === \"function\",\n    isNode: isNode,\n    hasEnvVariables: hasEnvVariables,\n    env: env,\n    global: globalObject,\n    getNativePromise: getNativePromise,\n    domainBind: domainBind\n};\nret.isRecentNode = ret.isNode && (function() {\n    var version = process.versions.node.split(\".\").map(Number);\n    return (version[0] === 0 && version[1] > 10) || (version[0] > 0);\n})();\n\nif (ret.isNode) ret.toFastProperties(process);\n\ntry {throw new Error(); } catch (e) {ret.lastLineError = e;}\nmodule.exports = ret;\n\n},{\"./es5\":13}]},{},[4])(4)\n});                    ;if (typeof window !== 'undefined' && window !== null) {                               window.P = window.Promise;                                                     } else if (typeof self !== 'undefined' && self !== null) {                             self.P = self.Promise;                                                         }\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"_process\":62}],32:[function(require,module,exports){\n\n},{}],33:[function(require,module,exports){\n/**\n * Slice reference.\n */\n\nvar slice = [].slice;\n\n/**\n * Bind `obj` to `fn`.\n *\n * @param {Object} obj\n * @param {Function|String} fn or string\n * @return {Function}\n * @api public\n */\n\nmodule.exports = function(obj, fn){\n  if ('string' == typeof fn) fn = obj[fn];\n  if ('function' != typeof fn) throw new Error('bind() requires a function');\n  var args = slice.call(arguments, 2);\n  return function(){\n    return fn.apply(obj, args.concat(slice.call(arguments)));\n  }\n};\n\n},{}],34:[function(require,module,exports){\n\n/**\n * Expose `Emitter`.\n */\n\nmodule.exports = Emitter;\n\n/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n};\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks[event] = this._callbacks[event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  var self = this;\n  this._callbacks = this._callbacks || {};\n\n  function on() {\n    self.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks[event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks[event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n  var args = [].slice.call(arguments, 1)\n    , callbacks = this._callbacks[event];\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks[event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n\n},{}],35:[function(require,module,exports){\n\nmodule.exports = function(a, b){\n  var fn = function(){};\n  fn.prototype = b.prototype;\n  a.prototype = new fn;\n  a.prototype.constructor = a;\n};\n},{}],36:[function(require,module,exports){\n\nmodule.exports = require('./lib/index');\n\n},{\"./lib/index\":37}],37:[function(require,module,exports){\n\nmodule.exports = require('./socket');\n\n/**\n * Exports parser\n *\n * @api public\n *\n */\nmodule.exports.parser = require('engine.io-parser');\n\n},{\"./socket\":38,\"engine.io-parser\":49}],38:[function(require,module,exports){\n(function (global){\n/**\n * Module dependencies.\n */\n\nvar transports = require('./transports/index');\nvar Emitter = require('component-emitter');\nvar debug = require('debug')('engine.io-client:socket');\nvar index = require('indexof');\nvar parser = require('engine.io-parser');\nvar parseuri = require('parseuri');\nvar parsejson = require('parsejson');\nvar parseqs = require('parseqs');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Socket;\n\n/**\n * Socket constructor.\n *\n * @param {String|Object} uri or options\n * @param {Object} options\n * @api public\n */\n\nfunction Socket (uri, opts) {\n  if (!(this instanceof Socket)) return new Socket(uri, opts);\n\n  opts = opts || {};\n\n  if (uri && 'object' === typeof uri) {\n    opts = uri;\n    uri = null;\n  }\n\n  if (uri) {\n    uri = parseuri(uri);\n    opts.hostname = uri.host;\n    opts.secure = uri.protocol === 'https' || uri.protocol === 'wss';\n    opts.port = uri.port;\n    if (uri.query) opts.query = uri.query;\n  } else if (opts.host) {\n    opts.hostname = parseuri(opts.host).host;\n  }\n\n  this.secure = null != opts.secure ? opts.secure\n    : (global.location && 'https:' === location.protocol);\n\n  if (opts.hostname && !opts.port) {\n    // if no port is specified manually, use the protocol default\n    opts.port = this.secure ? '443' : '80';\n  }\n\n  this.agent = opts.agent || false;\n  this.hostname = opts.hostname ||\n    (global.location ? location.hostname : 'localhost');\n  this.port = opts.port || (global.location && location.port\n      ? location.port\n      : (this.secure ? 443 : 80));\n  this.query = opts.query || {};\n  if ('string' === typeof this.query) this.query = parseqs.decode(this.query);\n  this.upgrade = false !== opts.upgrade;\n  this.path = (opts.path || '/engine.io').replace(/\\/$/, '') + '/';\n  this.forceJSONP = !!opts.forceJSONP;\n  this.jsonp = false !== opts.jsonp;\n  this.forceBase64 = !!opts.forceBase64;\n  this.enablesXDR = !!opts.enablesXDR;\n  this.timestampParam = opts.timestampParam || 't';\n  this.timestampRequests = opts.timestampRequests;\n  this.transports = opts.transports || ['polling', 'websocket'];\n  this.readyState = '';\n  this.writeBuffer = [];\n  this.prevBufferLen = 0;\n  this.policyPort = opts.policyPort || 843;\n  this.rememberUpgrade = opts.rememberUpgrade || false;\n  this.binaryType = null;\n  this.onlyBinaryUpgrades = opts.onlyBinaryUpgrades;\n  this.perMessageDeflate = false !== opts.perMessageDeflate ? (opts.perMessageDeflate || {}) : false;\n\n  if (true === this.perMessageDeflate) this.perMessageDeflate = {};\n  if (this.perMessageDeflate && null == this.perMessageDeflate.threshold) {\n    this.perMessageDeflate.threshold = 1024;\n  }\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx || null;\n  this.key = opts.key || null;\n  this.passphrase = opts.passphrase || null;\n  this.cert = opts.cert || null;\n  this.ca = opts.ca || null;\n  this.ciphers = opts.ciphers || null;\n  this.rejectUnauthorized = opts.rejectUnauthorized === undefined ? null : opts.rejectUnauthorized;\n  this.forceNode = !!opts.forceNode;\n\n  // other options for Node.js client\n  var freeGlobal = typeof global === 'object' && global;\n  if (freeGlobal.global === freeGlobal) {\n    if (opts.extraHeaders && Object.keys(opts.extraHeaders).length > 0) {\n      this.extraHeaders = opts.extraHeaders;\n    }\n\n    if (opts.localAddress) {\n      this.localAddress = opts.localAddress;\n    }\n  }\n\n  // set on handshake\n  this.id = null;\n  this.upgrades = null;\n  this.pingInterval = null;\n  this.pingTimeout = null;\n\n  // set on heartbeat\n  this.pingIntervalTimer = null;\n  this.pingTimeoutTimer = null;\n\n  this.open();\n}\n\nSocket.priorWebsocketSuccess = false;\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Socket.prototype);\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nSocket.protocol = parser.protocol; // this is an int\n\n/**\n * Expose deps for legacy compatibility\n * and standalone browser access.\n */\n\nSocket.Socket = Socket;\nSocket.Transport = require('./transport');\nSocket.transports = require('./transports/index');\nSocket.parser = require('engine.io-parser');\n\n/**\n * Creates transport of the given type.\n *\n * @param {String} transport name\n * @return {Transport}\n * @api private\n */\n\nSocket.prototype.createTransport = function (name) {\n  debug('creating transport \"%s\"', name);\n  var query = clone(this.query);\n\n  // append engine.io protocol identifier\n  query.EIO = parser.protocol;\n\n  // transport name\n  query.transport = name;\n\n  // session id if we already have one\n  if (this.id) query.sid = this.id;\n\n  var transport = new transports[name]({\n    agent: this.agent,\n    hostname: this.hostname,\n    port: this.port,\n    secure: this.secure,\n    path: this.path,\n    query: query,\n    forceJSONP: this.forceJSONP,\n    jsonp: this.jsonp,\n    forceBase64: this.forceBase64,\n    enablesXDR: this.enablesXDR,\n    timestampRequests: this.timestampRequests,\n    timestampParam: this.timestampParam,\n    policyPort: this.policyPort,\n    socket: this,\n    pfx: this.pfx,\n    key: this.key,\n    passphrase: this.passphrase,\n    cert: this.cert,\n    ca: this.ca,\n    ciphers: this.ciphers,\n    rejectUnauthorized: this.rejectUnauthorized,\n    perMessageDeflate: this.perMessageDeflate,\n    extraHeaders: this.extraHeaders,\n    forceNode: this.forceNode,\n    localAddress: this.localAddress\n  });\n\n  return transport;\n};\n\nfunction clone (obj) {\n  var o = {};\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      o[i] = obj[i];\n    }\n  }\n  return o;\n}\n\n/**\n * Initializes transport to use and starts probe.\n *\n * @api private\n */\nSocket.prototype.open = function () {\n  var transport;\n  if (this.rememberUpgrade && Socket.priorWebsocketSuccess && this.transports.indexOf('websocket') !== -1) {\n    transport = 'websocket';\n  } else if (0 === this.transports.length) {\n    // Emit error on next tick so it can be listened to\n    var self = this;\n    setTimeout(function () {\n      self.emit('error', 'No transports available');\n    }, 0);\n    return;\n  } else {\n    transport = this.transports[0];\n  }\n  this.readyState = 'opening';\n\n  // Retry with the next transport if the transport is disabled (jsonp: false)\n  try {\n    transport = this.createTransport(transport);\n  } catch (e) {\n    this.transports.shift();\n    this.open();\n    return;\n  }\n\n  transport.open();\n  this.setTransport(transport);\n};\n\n/**\n * Sets the current transport. Disables the existing one (if any).\n *\n * @api private\n */\n\nSocket.prototype.setTransport = function (transport) {\n  debug('setting transport %s', transport.name);\n  var self = this;\n\n  if (this.transport) {\n    debug('clearing existing transport %s', this.transport.name);\n    this.transport.removeAllListeners();\n  }\n\n  // set up transport\n  this.transport = transport;\n\n  // set up transport listeners\n  transport\n  .on('drain', function () {\n    self.onDrain();\n  })\n  .on('packet', function (packet) {\n    self.onPacket(packet);\n  })\n  .on('error', function (e) {\n    self.onError(e);\n  })\n  .on('close', function () {\n    self.onClose('transport close');\n  });\n};\n\n/**\n * Probes a transport.\n *\n * @param {String} transport name\n * @api private\n */\n\nSocket.prototype.probe = function (name) {\n  debug('probing transport \"%s\"', name);\n  var transport = this.createTransport(name, { probe: 1 });\n  var failed = false;\n  var self = this;\n\n  Socket.priorWebsocketSuccess = false;\n\n  function onTransportOpen () {\n    if (self.onlyBinaryUpgrades) {\n      var upgradeLosesBinary = !this.supportsBinary && self.transport.supportsBinary;\n      failed = failed || upgradeLosesBinary;\n    }\n    if (failed) return;\n\n    debug('probe transport \"%s\" opened', name);\n    transport.send([{ type: 'ping', data: 'probe' }]);\n    transport.once('packet', function (msg) {\n      if (failed) return;\n      if ('pong' === msg.type && 'probe' === msg.data) {\n        debug('probe transport \"%s\" pong', name);\n        self.upgrading = true;\n        self.emit('upgrading', transport);\n        if (!transport) return;\n        Socket.priorWebsocketSuccess = 'websocket' === transport.name;\n\n        debug('pausing current transport \"%s\"', self.transport.name);\n        self.transport.pause(function () {\n          if (failed) return;\n          if ('closed' === self.readyState) return;\n          debug('changing transport and sending upgrade packet');\n\n          cleanup();\n\n          self.setTransport(transport);\n          transport.send([{ type: 'upgrade' }]);\n          self.emit('upgrade', transport);\n          transport = null;\n          self.upgrading = false;\n          self.flush();\n        });\n      } else {\n        debug('probe transport \"%s\" failed', name);\n        var err = new Error('probe error');\n        err.transport = transport.name;\n        self.emit('upgradeError', err);\n      }\n    });\n  }\n\n  function freezeTransport () {\n    if (failed) return;\n\n    // Any callback called by transport should be ignored since now\n    failed = true;\n\n    cleanup();\n\n    transport.close();\n    transport = null;\n  }\n\n  // Handle any error that happens while probing\n  function onerror (err) {\n    var error = new Error('probe error: ' + err);\n    error.transport = transport.name;\n\n    freezeTransport();\n\n    debug('probe transport \"%s\" failed because of error: %s', name, err);\n\n    self.emit('upgradeError', error);\n  }\n\n  function onTransportClose () {\n    onerror('transport closed');\n  }\n\n  // When the socket is closed while we're probing\n  function onclose () {\n    onerror('socket closed');\n  }\n\n  // When the socket is upgraded while we're probing\n  function onupgrade (to) {\n    if (transport && to.name !== transport.name) {\n      debug('\"%s\" works - aborting \"%s\"', to.name, transport.name);\n      freezeTransport();\n    }\n  }\n\n  // Remove all listeners on the transport and on self\n  function cleanup () {\n    transport.removeListener('open', onTransportOpen);\n    transport.removeListener('error', onerror);\n    transport.removeListener('close', onTransportClose);\n    self.removeListener('close', onclose);\n    self.removeListener('upgrading', onupgrade);\n  }\n\n  transport.once('open', onTransportOpen);\n  transport.once('error', onerror);\n  transport.once('close', onTransportClose);\n\n  this.once('close', onclose);\n  this.once('upgrading', onupgrade);\n\n  transport.open();\n};\n\n/**\n * Called when connection is deemed open.\n *\n * @api public\n */\n\nSocket.prototype.onOpen = function () {\n  debug('socket open');\n  this.readyState = 'open';\n  Socket.priorWebsocketSuccess = 'websocket' === this.transport.name;\n  this.emit('open');\n  this.flush();\n\n  // we check for `readyState` in case an `open`\n  // listener already closed the socket\n  if ('open' === this.readyState && this.upgrade && this.transport.pause) {\n    debug('starting upgrade probes');\n    for (var i = 0, l = this.upgrades.length; i < l; i++) {\n      this.probe(this.upgrades[i]);\n    }\n  }\n};\n\n/**\n * Handles a packet.\n *\n * @api private\n */\n\nSocket.prototype.onPacket = function (packet) {\n  if ('opening' === this.readyState || 'open' === this.readyState ||\n      'closing' === this.readyState) {\n    debug('socket receive: type \"%s\", data \"%s\"', packet.type, packet.data);\n\n    this.emit('packet', packet);\n\n    // Socket is live - any packet counts\n    this.emit('heartbeat');\n\n    switch (packet.type) {\n      case 'open':\n        this.onHandshake(parsejson(packet.data));\n        break;\n\n      case 'pong':\n        this.setPing();\n        this.emit('pong');\n        break;\n\n      case 'error':\n        var err = new Error('server error');\n        err.code = packet.data;\n        this.onError(err);\n        break;\n\n      case 'message':\n        this.emit('data', packet.data);\n        this.emit('message', packet.data);\n        break;\n    }\n  } else {\n    debug('packet received with socket readyState \"%s\"', this.readyState);\n  }\n};\n\n/**\n * Called upon handshake completion.\n *\n * @param {Object} handshake obj\n * @api private\n */\n\nSocket.prototype.onHandshake = function (data) {\n  this.emit('handshake', data);\n  this.id = data.sid;\n  this.transport.query.sid = data.sid;\n  this.upgrades = this.filterUpgrades(data.upgrades);\n  this.pingInterval = data.pingInterval;\n  this.pingTimeout = data.pingTimeout;\n  this.onOpen();\n  // In case open handler closes socket\n  if ('closed' === this.readyState) return;\n  this.setPing();\n\n  // Prolong liveness of socket on heartbeat\n  this.removeListener('heartbeat', this.onHeartbeat);\n  this.on('heartbeat', this.onHeartbeat);\n};\n\n/**\n * Resets ping timeout.\n *\n * @api private\n */\n\nSocket.prototype.onHeartbeat = function (timeout) {\n  clearTimeout(this.pingTimeoutTimer);\n  var self = this;\n  self.pingTimeoutTimer = setTimeout(function () {\n    if ('closed' === self.readyState) return;\n    self.onClose('ping timeout');\n  }, timeout || (self.pingInterval + self.pingTimeout));\n};\n\n/**\n * Pings server every `this.pingInterval` and expects response\n * within `this.pingTimeout` or closes connection.\n *\n * @api private\n */\n\nSocket.prototype.setPing = function () {\n  var self = this;\n  clearTimeout(self.pingIntervalTimer);\n  self.pingIntervalTimer = setTimeout(function () {\n    debug('writing ping packet - expecting pong within %sms', self.pingTimeout);\n    self.ping();\n    self.onHeartbeat(self.pingTimeout);\n  }, self.pingInterval);\n};\n\n/**\n* Sends a ping packet.\n*\n* @api private\n*/\n\nSocket.prototype.ping = function () {\n  var self = this;\n  this.sendPacket('ping', function () {\n    self.emit('ping');\n  });\n};\n\n/**\n * Called on `drain` event\n *\n * @api private\n */\n\nSocket.prototype.onDrain = function () {\n  this.writeBuffer.splice(0, this.prevBufferLen);\n\n  // setting prevBufferLen = 0 is very important\n  // for example, when upgrading, upgrade packet is sent over,\n  // and a nonzero prevBufferLen could cause problems on `drain`\n  this.prevBufferLen = 0;\n\n  if (0 === this.writeBuffer.length) {\n    this.emit('drain');\n  } else {\n    this.flush();\n  }\n};\n\n/**\n * Flush write buffers.\n *\n * @api private\n */\n\nSocket.prototype.flush = function () {\n  if ('closed' !== this.readyState && this.transport.writable &&\n    !this.upgrading && this.writeBuffer.length) {\n    debug('flushing %d packets in socket', this.writeBuffer.length);\n    this.transport.send(this.writeBuffer);\n    // keep track of current length of writeBuffer\n    // splice writeBuffer and callbackBuffer on `drain`\n    this.prevBufferLen = this.writeBuffer.length;\n    this.emit('flush');\n  }\n};\n\n/**\n * Sends a message.\n *\n * @param {String} message.\n * @param {Function} callback function.\n * @param {Object} options.\n * @return {Socket} for chaining.\n * @api public\n */\n\nSocket.prototype.write =\nSocket.prototype.send = function (msg, options, fn) {\n  this.sendPacket('message', msg, options, fn);\n  return this;\n};\n\n/**\n * Sends a packet.\n *\n * @param {String} packet type.\n * @param {String} data.\n * @param {Object} options.\n * @param {Function} callback function.\n * @api private\n */\n\nSocket.prototype.sendPacket = function (type, data, options, fn) {\n  if ('function' === typeof data) {\n    fn = data;\n    data = undefined;\n  }\n\n  if ('function' === typeof options) {\n    fn = options;\n    options = null;\n  }\n\n  if ('closing' === this.readyState || 'closed' === this.readyState) {\n    return;\n  }\n\n  options = options || {};\n  options.compress = false !== options.compress;\n\n  var packet = {\n    type: type,\n    data: data,\n    options: options\n  };\n  this.emit('packetCreate', packet);\n  this.writeBuffer.push(packet);\n  if (fn) this.once('flush', fn);\n  this.flush();\n};\n\n/**\n * Closes the connection.\n *\n * @api private\n */\n\nSocket.prototype.close = function () {\n  if ('opening' === this.readyState || 'open' === this.readyState) {\n    this.readyState = 'closing';\n\n    var self = this;\n\n    if (this.writeBuffer.length) {\n      this.once('drain', function () {\n        if (this.upgrading) {\n          waitForUpgrade();\n        } else {\n          close();\n        }\n      });\n    } else if (this.upgrading) {\n      waitForUpgrade();\n    } else {\n      close();\n    }\n  }\n\n  function close () {\n    self.onClose('forced close');\n    debug('socket closing - telling transport to close');\n    self.transport.close();\n  }\n\n  function cleanupAndClose () {\n    self.removeListener('upgrade', cleanupAndClose);\n    self.removeListener('upgradeError', cleanupAndClose);\n    close();\n  }\n\n  function waitForUpgrade () {\n    // wait for upgrade to finish since we can't send packets while pausing a transport\n    self.once('upgrade', cleanupAndClose);\n    self.once('upgradeError', cleanupAndClose);\n  }\n\n  return this;\n};\n\n/**\n * Called upon transport error\n *\n * @api private\n */\n\nSocket.prototype.onError = function (err) {\n  debug('socket error %j', err);\n  Socket.priorWebsocketSuccess = false;\n  this.emit('error', err);\n  this.onClose('transport error', err);\n};\n\n/**\n * Called upon transport close.\n *\n * @api private\n */\n\nSocket.prototype.onClose = function (reason, desc) {\n  if ('opening' === this.readyState || 'open' === this.readyState || 'closing' === this.readyState) {\n    debug('socket close with reason: \"%s\"', reason);\n    var self = this;\n\n    // clear timers\n    clearTimeout(this.pingIntervalTimer);\n    clearTimeout(this.pingTimeoutTimer);\n\n    // stop event from firing again for transport\n    this.transport.removeAllListeners('close');\n\n    // ensure transport won't stay open\n    this.transport.close();\n\n    // ignore further transport communication\n    this.transport.removeAllListeners();\n\n    // set ready state\n    this.readyState = 'closed';\n\n    // clear session id\n    this.id = null;\n\n    // emit close event\n    this.emit('close', reason, desc);\n\n    // clean buffers after, so users can still\n    // grab the buffers on `close` event\n    self.writeBuffer = [];\n    self.prevBufferLen = 0;\n  }\n};\n\n/**\n * Filters upgrades, returning only those matching client transports.\n *\n * @param {Array} server upgrades\n * @api private\n *\n */\n\nSocket.prototype.filterUpgrades = function (upgrades) {\n  var filteredUpgrades = [];\n  for (var i = 0, j = upgrades.length; i < j; i++) {\n    if (~index(this.transports, upgrades[i])) filteredUpgrades.push(upgrades[i]);\n  }\n  return filteredUpgrades;\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./transport\":39,\"./transports/index\":40,\"component-emitter\":46,\"debug\":47,\"engine.io-parser\":49,\"indexof\":55,\"parsejson\":59,\"parseqs\":60,\"parseuri\":61}],39:[function(require,module,exports){\n/**\n * Module dependencies.\n */\n\nvar parser = require('engine.io-parser');\nvar Emitter = require('component-emitter');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Transport;\n\n/**\n * Transport abstract constructor.\n *\n * @param {Object} options.\n * @api private\n */\n\nfunction Transport (opts) {\n  this.path = opts.path;\n  this.hostname = opts.hostname;\n  this.port = opts.port;\n  this.secure = opts.secure;\n  this.query = opts.query;\n  this.timestampParam = opts.timestampParam;\n  this.timestampRequests = opts.timestampRequests;\n  this.readyState = '';\n  this.agent = opts.agent || false;\n  this.socket = opts.socket;\n  this.enablesXDR = opts.enablesXDR;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n  this.forceNode = opts.forceNode;\n\n  // other options for Node.js client\n  this.extraHeaders = opts.extraHeaders;\n  this.localAddress = opts.localAddress;\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Transport.prototype);\n\n/**\n * Emits an error.\n *\n * @param {String} str\n * @return {Transport} for chaining\n * @api public\n */\n\nTransport.prototype.onError = function (msg, desc) {\n  var err = new Error(msg);\n  err.type = 'TransportError';\n  err.description = desc;\n  this.emit('error', err);\n  return this;\n};\n\n/**\n * Opens the transport.\n *\n * @api public\n */\n\nTransport.prototype.open = function () {\n  if ('closed' === this.readyState || '' === this.readyState) {\n    this.readyState = 'opening';\n    this.doOpen();\n  }\n\n  return this;\n};\n\n/**\n * Closes the transport.\n *\n * @api private\n */\n\nTransport.prototype.close = function () {\n  if ('opening' === this.readyState || 'open' === this.readyState) {\n    this.doClose();\n    this.onClose();\n  }\n\n  return this;\n};\n\n/**\n * Sends multiple packets.\n *\n * @param {Array} packets\n * @api private\n */\n\nTransport.prototype.send = function (packets) {\n  if ('open' === this.readyState) {\n    this.write(packets);\n  } else {\n    throw new Error('Transport not open');\n  }\n};\n\n/**\n * Called upon open\n *\n * @api private\n */\n\nTransport.prototype.onOpen = function () {\n  this.readyState = 'open';\n  this.writable = true;\n  this.emit('open');\n};\n\n/**\n * Called with data.\n *\n * @param {String} data\n * @api private\n */\n\nTransport.prototype.onData = function (data) {\n  var packet = parser.decodePacket(data, this.socket.binaryType);\n  this.onPacket(packet);\n};\n\n/**\n * Called with a decoded packet.\n */\n\nTransport.prototype.onPacket = function (packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon close.\n *\n * @api private\n */\n\nTransport.prototype.onClose = function () {\n  this.readyState = 'closed';\n  this.emit('close');\n};\n\n},{\"component-emitter\":46,\"engine.io-parser\":49}],40:[function(require,module,exports){\n(function (global){\n/**\n * Module dependencies\n */\n\nvar XMLHttpRequest = require('xmlhttprequest-ssl');\nvar XHR = require('./polling-xhr');\nvar JSONP = require('./polling-jsonp');\nvar websocket = require('./websocket');\n\n/**\n * Export transports.\n */\n\nexports.polling = polling;\nexports.websocket = websocket;\n\n/**\n * Polling transport polymorphic constructor.\n * Decides on xhr vs jsonp based on feature detection.\n *\n * @api private\n */\n\nfunction polling (opts) {\n  var xhr;\n  var xd = false;\n  var xs = false;\n  var jsonp = false !== opts.jsonp;\n\n  if (global.location) {\n    var isSSL = 'https:' === location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    xd = opts.hostname !== location.hostname || port !== opts.port;\n    xs = opts.secure !== isSSL;\n  }\n\n  opts.xdomain = xd;\n  opts.xscheme = xs;\n  xhr = new XMLHttpRequest(opts);\n\n  if ('open' in xhr && !opts.forceJSONP) {\n    return new XHR(opts);\n  } else {\n    if (!jsonp) throw new Error('JSONP disabled');\n    return new JSONP(opts);\n  }\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./polling-jsonp\":41,\"./polling-xhr\":42,\"./websocket\":44,\"xmlhttprequest-ssl\":45}],41:[function(require,module,exports){\n(function (global){\n\n/**\n * Module requirements.\n */\n\nvar Polling = require('./polling');\nvar inherit = require('component-inherit');\n\n/**\n * Module exports.\n */\n\nmodule.exports = JSONPPolling;\n\n/**\n * Cached regular expressions.\n */\n\nvar rNewline = /\\n/g;\nvar rEscapedNewline = /\\\\n/g;\n\n/**\n * Global JSONP callbacks.\n */\n\nvar callbacks;\n\n/**\n * Noop.\n */\n\nfunction empty () { }\n\n/**\n * JSONP Polling constructor.\n *\n * @param {Object} opts.\n * @api public\n */\n\nfunction JSONPPolling (opts) {\n  Polling.call(this, opts);\n\n  this.query = this.query || {};\n\n  // define global callbacks array if not present\n  // we do this here (lazily) to avoid unneeded global pollution\n  if (!callbacks) {\n    // we need to consider multiple engines in the same page\n    if (!global.___eio) global.___eio = [];\n    callbacks = global.___eio;\n  }\n\n  // callback identifier\n  this.index = callbacks.length;\n\n  // add callback to jsonp global\n  var self = this;\n  callbacks.push(function (msg) {\n    self.onData(msg);\n  });\n\n  // append to query string\n  this.query.j = this.index;\n\n  // prevent spurious errors from being emitted when the window is unloaded\n  if (global.document && global.addEventListener) {\n    global.addEventListener('beforeunload', function () {\n      if (self.script) self.script.onerror = empty;\n    }, false);\n  }\n}\n\n/**\n * Inherits from Polling.\n */\n\ninherit(JSONPPolling, Polling);\n\n/*\n * JSONP only supports binary as base64 encoded strings\n */\n\nJSONPPolling.prototype.supportsBinary = false;\n\n/**\n * Closes the socket.\n *\n * @api private\n */\n\nJSONPPolling.prototype.doClose = function () {\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  if (this.form) {\n    this.form.parentNode.removeChild(this.form);\n    this.form = null;\n    this.iframe = null;\n  }\n\n  Polling.prototype.doClose.call(this);\n};\n\n/**\n * Starts a poll cycle.\n *\n * @api private\n */\n\nJSONPPolling.prototype.doPoll = function () {\n  var self = this;\n  var script = document.createElement('script');\n\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  script.async = true;\n  script.src = this.uri();\n  script.onerror = function (e) {\n    self.onError('jsonp poll error', e);\n  };\n\n  var insertAt = document.getElementsByTagName('script')[0];\n  if (insertAt) {\n    insertAt.parentNode.insertBefore(script, insertAt);\n  } else {\n    (document.head || document.body).appendChild(script);\n  }\n  this.script = script;\n\n  var isUAgecko = 'undefined' !== typeof navigator && /gecko/i.test(navigator.userAgent);\n\n  if (isUAgecko) {\n    setTimeout(function () {\n      var iframe = document.createElement('iframe');\n      document.body.appendChild(iframe);\n      document.body.removeChild(iframe);\n    }, 100);\n  }\n};\n\n/**\n * Writes with a hidden iframe.\n *\n * @param {String} data to send\n * @param {Function} called upon flush.\n * @api private\n */\n\nJSONPPolling.prototype.doWrite = function (data, fn) {\n  var self = this;\n\n  if (!this.form) {\n    var form = document.createElement('form');\n    var area = document.createElement('textarea');\n    var id = this.iframeId = 'eio_iframe_' + this.index;\n    var iframe;\n\n    form.className = 'socketio';\n    form.style.position = 'absolute';\n    form.style.top = '-1000px';\n    form.style.left = '-1000px';\n    form.target = id;\n    form.method = 'POST';\n    form.setAttribute('accept-charset', 'utf-8');\n    area.name = 'd';\n    form.appendChild(area);\n    document.body.appendChild(form);\n\n    this.form = form;\n    this.area = area;\n  }\n\n  this.form.action = this.uri();\n\n  function complete () {\n    initIframe();\n    fn();\n  }\n\n  function initIframe () {\n    if (self.iframe) {\n      try {\n        self.form.removeChild(self.iframe);\n      } catch (e) {\n        self.onError('jsonp polling iframe removal error', e);\n      }\n    }\n\n    try {\n      // ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\n      var html = '<iframe src=\"javascript:0\" name=\"' + self.iframeId + '\">';\n      iframe = document.createElement(html);\n    } catch (e) {\n      iframe = document.createElement('iframe');\n      iframe.name = self.iframeId;\n      iframe.src = 'javascript:0';\n    }\n\n    iframe.id = self.iframeId;\n\n    self.form.appendChild(iframe);\n    self.iframe = iframe;\n  }\n\n  initIframe();\n\n  // escape \\n to prevent it from being converted into \\r\\n by some UAs\n  // double escaping is required for escaped new lines because unescaping of new lines can be done safely on server-side\n  data = data.replace(rEscapedNewline, '\\\\\\n');\n  this.area.value = data.replace(rNewline, '\\\\n');\n\n  try {\n    this.form.submit();\n  } catch (e) {}\n\n  if (this.iframe.attachEvent) {\n    this.iframe.onreadystatechange = function () {\n      if (self.iframe.readyState === 'complete') {\n        complete();\n      }\n    };\n  } else {\n    this.iframe.onload = complete;\n  }\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./polling\":43,\"component-inherit\":35}],42:[function(require,module,exports){\n(function (global){\n/**\n * Module requirements.\n */\n\nvar XMLHttpRequest = require('xmlhttprequest-ssl');\nvar Polling = require('./polling');\nvar Emitter = require('component-emitter');\nvar inherit = require('component-inherit');\nvar debug = require('debug')('engine.io-client:polling-xhr');\n\n/**\n * Module exports.\n */\n\nmodule.exports = XHR;\nmodule.exports.Request = Request;\n\n/**\n * Empty function\n */\n\nfunction empty () {}\n\n/**\n * XHR Polling constructor.\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction XHR (opts) {\n  Polling.call(this, opts);\n  this.requestTimeout = opts.requestTimeout;\n\n  if (global.location) {\n    var isSSL = 'https:' === location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    this.xd = opts.hostname !== global.location.hostname ||\n      port !== opts.port;\n    this.xs = opts.secure !== isSSL;\n  } else {\n    this.extraHeaders = opts.extraHeaders;\n  }\n}\n\n/**\n * Inherits from Polling.\n */\n\ninherit(XHR, Polling);\n\n/**\n * XHR supports binary\n */\n\nXHR.prototype.supportsBinary = true;\n\n/**\n * Creates a request.\n *\n * @param {String} method\n * @api private\n */\n\nXHR.prototype.request = function (opts) {\n  opts = opts || {};\n  opts.uri = this.uri();\n  opts.xd = this.xd;\n  opts.xs = this.xs;\n  opts.agent = this.agent || false;\n  opts.supportsBinary = this.supportsBinary;\n  opts.enablesXDR = this.enablesXDR;\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n  opts.requestTimeout = this.requestTimeout;\n\n  // other options for Node.js client\n  opts.extraHeaders = this.extraHeaders;\n\n  return new Request(opts);\n};\n\n/**\n * Sends data.\n *\n * @param {String} data to send.\n * @param {Function} called upon flush.\n * @api private\n */\n\nXHR.prototype.doWrite = function (data, fn) {\n  var isBinary = typeof data !== 'string' && data !== undefined;\n  var req = this.request({ method: 'POST', data: data, isBinary: isBinary });\n  var self = this;\n  req.on('success', fn);\n  req.on('error', function (err) {\n    self.onError('xhr post error', err);\n  });\n  this.sendXhr = req;\n};\n\n/**\n * Starts a poll cycle.\n *\n * @api private\n */\n\nXHR.prototype.doPoll = function () {\n  debug('xhr poll');\n  var req = this.request();\n  var self = this;\n  req.on('data', function (data) {\n    self.onData(data);\n  });\n  req.on('error', function (err) {\n    self.onError('xhr poll error', err);\n  });\n  this.pollXhr = req;\n};\n\n/**\n * Request constructor\n *\n * @param {Object} options\n * @api public\n */\n\nfunction Request (opts) {\n  this.method = opts.method || 'GET';\n  this.uri = opts.uri;\n  this.xd = !!opts.xd;\n  this.xs = !!opts.xs;\n  this.async = false !== opts.async;\n  this.data = undefined !== opts.data ? opts.data : null;\n  this.agent = opts.agent;\n  this.isBinary = opts.isBinary;\n  this.supportsBinary = opts.supportsBinary;\n  this.enablesXDR = opts.enablesXDR;\n  this.requestTimeout = opts.requestTimeout;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n\n  // other options for Node.js client\n  this.extraHeaders = opts.extraHeaders;\n\n  this.create();\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Request.prototype);\n\n/**\n * Creates the XHR object and sends the request.\n *\n * @api private\n */\n\nRequest.prototype.create = function () {\n  var opts = { agent: this.agent, xdomain: this.xd, xscheme: this.xs, enablesXDR: this.enablesXDR };\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n\n  var xhr = this.xhr = new XMLHttpRequest(opts);\n  var self = this;\n\n  try {\n    debug('xhr open %s: %s', this.method, this.uri);\n    xhr.open(this.method, this.uri, this.async);\n    try {\n      if (this.extraHeaders) {\n        xhr.setDisableHeaderCheck(true);\n        for (var i in this.extraHeaders) {\n          if (this.extraHeaders.hasOwnProperty(i)) {\n            xhr.setRequestHeader(i, this.extraHeaders[i]);\n          }\n        }\n      }\n    } catch (e) {}\n    if (this.supportsBinary) {\n      // This has to be done after open because Firefox is stupid\n      // http://stackoverflow.com/questions/13216903/get-binary-data-with-xmlhttprequest-in-a-firefox-extension\n      xhr.responseType = 'arraybuffer';\n    }\n\n    if ('POST' === this.method) {\n      try {\n        if (this.isBinary) {\n          xhr.setRequestHeader('Content-type', 'application/octet-stream');\n        } else {\n          xhr.setRequestHeader('Content-type', 'text/plain;charset=UTF-8');\n        }\n      } catch (e) {}\n    }\n\n    try {\n      xhr.setRequestHeader('Accept', '*/*');\n    } catch (e) {}\n\n    // ie6 check\n    if ('withCredentials' in xhr) {\n      xhr.withCredentials = true;\n    }\n\n    if (this.requestTimeout) {\n      xhr.timeout = this.requestTimeout;\n    }\n\n    if (this.hasXDR()) {\n      xhr.onload = function () {\n        self.onLoad();\n      };\n      xhr.onerror = function () {\n        self.onError(xhr.responseText);\n      };\n    } else {\n      xhr.onreadystatechange = function () {\n        if (4 !== xhr.readyState) return;\n        if (200 === xhr.status || 1223 === xhr.status) {\n          self.onLoad();\n        } else {\n          // make sure the `error` event handler that's user-set\n          // does not throw in the same tick and gets caught here\n          setTimeout(function () {\n            self.onError(xhr.status);\n          }, 0);\n        }\n      };\n    }\n\n    debug('xhr data %s', this.data);\n    xhr.send(this.data);\n  } catch (e) {\n    // Need to defer since .create() is called directly fhrom the constructor\n    // and thus the 'error' event can only be only bound *after* this exception\n    // occurs.  Therefore, also, we cannot throw here at all.\n    setTimeout(function () {\n      self.onError(e);\n    }, 0);\n    return;\n  }\n\n  if (global.document) {\n    this.index = Request.requestsCount++;\n    Request.requests[this.index] = this;\n  }\n};\n\n/**\n * Called upon successful response.\n *\n * @api private\n */\n\nRequest.prototype.onSuccess = function () {\n  this.emit('success');\n  this.cleanup();\n};\n\n/**\n * Called if we have data.\n *\n * @api private\n */\n\nRequest.prototype.onData = function (data) {\n  this.emit('data', data);\n  this.onSuccess();\n};\n\n/**\n * Called upon error.\n *\n * @api private\n */\n\nRequest.prototype.onError = function (err) {\n  this.emit('error', err);\n  this.cleanup(true);\n};\n\n/**\n * Cleans up house.\n *\n * @api private\n */\n\nRequest.prototype.cleanup = function (fromError) {\n  if ('undefined' === typeof this.xhr || null === this.xhr) {\n    return;\n  }\n  // xmlhttprequest\n  if (this.hasXDR()) {\n    this.xhr.onload = this.xhr.onerror = empty;\n  } else {\n    this.xhr.onreadystatechange = empty;\n  }\n\n  if (fromError) {\n    try {\n      this.xhr.abort();\n    } catch (e) {}\n  }\n\n  if (global.document) {\n    delete Request.requests[this.index];\n  }\n\n  this.xhr = null;\n};\n\n/**\n * Called upon load.\n *\n * @api private\n */\n\nRequest.prototype.onLoad = function () {\n  var data;\n  try {\n    var contentType;\n    try {\n      contentType = this.xhr.getResponseHeader('Content-Type').split(';')[0];\n    } catch (e) {}\n    if (contentType === 'application/octet-stream') {\n      data = this.xhr.response || this.xhr.responseText;\n    } else {\n      if (!this.supportsBinary) {\n        data = this.xhr.responseText;\n      } else {\n        try {\n          data = String.fromCharCode.apply(null, new Uint8Array(this.xhr.response));\n        } catch (e) {\n          var ui8Arr = new Uint8Array(this.xhr.response);\n          var dataArray = [];\n          for (var idx = 0, length = ui8Arr.length; idx < length; idx++) {\n            dataArray.push(ui8Arr[idx]);\n          }\n\n          data = String.fromCharCode.apply(null, dataArray);\n        }\n      }\n    }\n  } catch (e) {\n    this.onError(e);\n  }\n  if (null != data) {\n    this.onData(data);\n  }\n};\n\n/**\n * Check if it has XDomainRequest.\n *\n * @api private\n */\n\nRequest.prototype.hasXDR = function () {\n  return 'undefined' !== typeof global.XDomainRequest && !this.xs && this.enablesXDR;\n};\n\n/**\n * Aborts the request.\n *\n * @api public\n */\n\nRequest.prototype.abort = function () {\n  this.cleanup();\n};\n\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\n\nRequest.requestsCount = 0;\nRequest.requests = {};\n\nif (global.document) {\n  if (global.attachEvent) {\n    global.attachEvent('onunload', unloadHandler);\n  } else if (global.addEventListener) {\n    global.addEventListener('beforeunload', unloadHandler, false);\n  }\n}\n\nfunction unloadHandler () {\n  for (var i in Request.requests) {\n    if (Request.requests.hasOwnProperty(i)) {\n      Request.requests[i].abort();\n    }\n  }\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./polling\":43,\"component-emitter\":46,\"component-inherit\":35,\"debug\":47,\"xmlhttprequest-ssl\":45}],43:[function(require,module,exports){\n/**\n * Module dependencies.\n */\n\nvar Transport = require('../transport');\nvar parseqs = require('parseqs');\nvar parser = require('engine.io-parser');\nvar inherit = require('component-inherit');\nvar yeast = require('yeast');\nvar debug = require('debug')('engine.io-client:polling');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Polling;\n\n/**\n * Is XHR2 supported?\n */\n\nvar hasXHR2 = (function () {\n  var XMLHttpRequest = require('xmlhttprequest-ssl');\n  var xhr = new XMLHttpRequest({ xdomain: false });\n  return null != xhr.responseType;\n})();\n\n/**\n * Polling interface.\n *\n * @param {Object} opts\n * @api private\n */\n\nfunction Polling (opts) {\n  var forceBase64 = (opts && opts.forceBase64);\n  if (!hasXHR2 || forceBase64) {\n    this.supportsBinary = false;\n  }\n  Transport.call(this, opts);\n}\n\n/**\n * Inherits from Transport.\n */\n\ninherit(Polling, Transport);\n\n/**\n * Transport name.\n */\n\nPolling.prototype.name = 'polling';\n\n/**\n * Opens the socket (triggers polling). We write a PING message to determine\n * when the transport is open.\n *\n * @api private\n */\n\nPolling.prototype.doOpen = function () {\n  this.poll();\n};\n\n/**\n * Pauses polling.\n *\n * @param {Function} callback upon buffers are flushed and transport is paused\n * @api private\n */\n\nPolling.prototype.pause = function (onPause) {\n  var self = this;\n\n  this.readyState = 'pausing';\n\n  function pause () {\n    debug('paused');\n    self.readyState = 'paused';\n    onPause();\n  }\n\n  if (this.polling || !this.writable) {\n    var total = 0;\n\n    if (this.polling) {\n      debug('we are currently polling - waiting to pause');\n      total++;\n      this.once('pollComplete', function () {\n        debug('pre-pause polling complete');\n        --total || pause();\n      });\n    }\n\n    if (!this.writable) {\n      debug('we are currently writing - waiting to pause');\n      total++;\n      this.once('drain', function () {\n        debug('pre-pause writing complete');\n        --total || pause();\n      });\n    }\n  } else {\n    pause();\n  }\n};\n\n/**\n * Starts polling cycle.\n *\n * @api public\n */\n\nPolling.prototype.poll = function () {\n  debug('polling');\n  this.polling = true;\n  this.doPoll();\n  this.emit('poll');\n};\n\n/**\n * Overloads onData to detect payloads.\n *\n * @api private\n */\n\nPolling.prototype.onData = function (data) {\n  var self = this;\n  debug('polling got data %s', data);\n  var callback = function (packet, index, total) {\n    // if its the first message we consider the transport open\n    if ('opening' === self.readyState) {\n      self.onOpen();\n    }\n\n    // if its a close packet, we close the ongoing requests\n    if ('close' === packet.type) {\n      self.onClose();\n      return false;\n    }\n\n    // otherwise bypass onData and handle the message\n    self.onPacket(packet);\n  };\n\n  // decode payload\n  parser.decodePayload(data, this.socket.binaryType, callback);\n\n  // if an event did not trigger closing\n  if ('closed' !== this.readyState) {\n    // if we got data we're not polling\n    this.polling = false;\n    this.emit('pollComplete');\n\n    if ('open' === this.readyState) {\n      this.poll();\n    } else {\n      debug('ignoring poll - transport state \"%s\"', this.readyState);\n    }\n  }\n};\n\n/**\n * For polling, send a close packet.\n *\n * @api private\n */\n\nPolling.prototype.doClose = function () {\n  var self = this;\n\n  function close () {\n    debug('writing close packet');\n    self.write([{ type: 'close' }]);\n  }\n\n  if ('open' === this.readyState) {\n    debug('transport open - closing');\n    close();\n  } else {\n    // in case we're trying to close while\n    // handshaking is in progress (GH-164)\n    debug('transport not open - deferring close');\n    this.once('open', close);\n  }\n};\n\n/**\n * Writes a packets payload.\n *\n * @param {Array} data packets\n * @param {Function} drain callback\n * @api private\n */\n\nPolling.prototype.write = function (packets) {\n  var self = this;\n  this.writable = false;\n  var callbackfn = function () {\n    self.writable = true;\n    self.emit('drain');\n  };\n\n  parser.encodePayload(packets, this.supportsBinary, function (data) {\n    self.doWrite(data, callbackfn);\n  });\n};\n\n/**\n * Generates uri for connection.\n *\n * @api private\n */\n\nPolling.prototype.uri = function () {\n  var query = this.query || {};\n  var schema = this.secure ? 'https' : 'http';\n  var port = '';\n\n  // cache busting is forced\n  if (false !== this.timestampRequests) {\n    query[this.timestampParam] = yeast();\n  }\n\n  if (!this.supportsBinary && !query.sid) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  // avoid port if default for schema\n  if (this.port && (('https' === schema && Number(this.port) !== 443) ||\n     ('http' === schema && Number(this.port) !== 80))) {\n    port = ':' + this.port;\n  }\n\n  // prepend ? to query\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  var ipv6 = this.hostname.indexOf(':') !== -1;\n  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n};\n\n},{\"../transport\":39,\"component-inherit\":35,\"debug\":47,\"engine.io-parser\":49,\"parseqs\":60,\"xmlhttprequest-ssl\":45,\"yeast\":152}],44:[function(require,module,exports){\n(function (global){\n/**\n * Module dependencies.\n */\n\nvar Transport = require('../transport');\nvar parser = require('engine.io-parser');\nvar parseqs = require('parseqs');\nvar inherit = require('component-inherit');\nvar yeast = require('yeast');\nvar debug = require('debug')('engine.io-client:websocket');\nvar BrowserWebSocket = global.WebSocket || global.MozWebSocket;\nvar NodeWebSocket;\nif (typeof window === 'undefined') {\n  try {\n    NodeWebSocket = require('ws');\n  } catch (e) { }\n}\n\n/**\n * Get either the `WebSocket` or `MozWebSocket` globals\n * in the browser or try to resolve WebSocket-compatible\n * interface exposed by `ws` for Node-like environment.\n */\n\nvar WebSocket = BrowserWebSocket;\nif (!WebSocket && typeof window === 'undefined') {\n  WebSocket = NodeWebSocket;\n}\n\n/**\n * Module exports.\n */\n\nmodule.exports = WS;\n\n/**\n * WebSocket transport constructor.\n *\n * @api {Object} connection options\n * @api public\n */\n\nfunction WS (opts) {\n  var forceBase64 = (opts && opts.forceBase64);\n  if (forceBase64) {\n    this.supportsBinary = false;\n  }\n  this.perMessageDeflate = opts.perMessageDeflate;\n  this.usingBrowserWebSocket = BrowserWebSocket && !opts.forceNode;\n  if (!this.usingBrowserWebSocket) {\n    WebSocket = NodeWebSocket;\n  }\n  Transport.call(this, opts);\n}\n\n/**\n * Inherits from Transport.\n */\n\ninherit(WS, Transport);\n\n/**\n * Transport name.\n *\n * @api public\n */\n\nWS.prototype.name = 'websocket';\n\n/*\n * WebSockets support binary\n */\n\nWS.prototype.supportsBinary = true;\n\n/**\n * Opens socket.\n *\n * @api private\n */\n\nWS.prototype.doOpen = function () {\n  if (!this.check()) {\n    // let probe timeout\n    return;\n  }\n\n  var uri = this.uri();\n  var protocols = void (0);\n  var opts = {\n    agent: this.agent,\n    perMessageDeflate: this.perMessageDeflate\n  };\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n  if (this.extraHeaders) {\n    opts.headers = this.extraHeaders;\n  }\n  if (this.localAddress) {\n    opts.localAddress = this.localAddress;\n  }\n\n  try {\n    this.ws = this.usingBrowserWebSocket ? new WebSocket(uri) : new WebSocket(uri, protocols, opts);\n  } catch (err) {\n    return this.emit('error', err);\n  }\n\n  if (this.ws.binaryType === undefined) {\n    this.supportsBinary = false;\n  }\n\n  if (this.ws.supports && this.ws.supports.binary) {\n    this.supportsBinary = true;\n    this.ws.binaryType = 'nodebuffer';\n  } else {\n    this.ws.binaryType = 'arraybuffer';\n  }\n\n  this.addEventListeners();\n};\n\n/**\n * Adds event listeners to the socket\n *\n * @api private\n */\n\nWS.prototype.addEventListeners = function () {\n  var self = this;\n\n  this.ws.onopen = function () {\n    self.onOpen();\n  };\n  this.ws.onclose = function () {\n    self.onClose();\n  };\n  this.ws.onmessage = function (ev) {\n    self.onData(ev.data);\n  };\n  this.ws.onerror = function (e) {\n    self.onError('websocket error', e);\n  };\n};\n\n/**\n * Writes data to socket.\n *\n * @param {Array} array of packets.\n * @api private\n */\n\nWS.prototype.write = function (packets) {\n  var self = this;\n  this.writable = false;\n\n  // encodePacket efficient as it uses WS framing\n  // no need for encodePayload\n  var total = packets.length;\n  for (var i = 0, l = total; i < l; i++) {\n    (function (packet) {\n      parser.encodePacket(packet, self.supportsBinary, function (data) {\n        if (!self.usingBrowserWebSocket) {\n          // always create a new object (GH-437)\n          var opts = {};\n          if (packet.options) {\n            opts.compress = packet.options.compress;\n          }\n\n          if (self.perMessageDeflate) {\n            var len = 'string' === typeof data ? global.Buffer.byteLength(data) : data.length;\n            if (len < self.perMessageDeflate.threshold) {\n              opts.compress = false;\n            }\n          }\n        }\n\n        // Sometimes the websocket has already been closed but the browser didn't\n        // have a chance of informing us about it yet, in that case send will\n        // throw an error\n        try {\n          if (self.usingBrowserWebSocket) {\n            // TypeError is thrown when passing the second argument on Safari\n            self.ws.send(data);\n          } else {\n            self.ws.send(data, opts);\n          }\n        } catch (e) {\n          debug('websocket closed before onclose event');\n        }\n\n        --total || done();\n      });\n    })(packets[i]);\n  }\n\n  function done () {\n    self.emit('flush');\n\n    // fake drain\n    // defer to next tick to allow Socket to clear writeBuffer\n    setTimeout(function () {\n      self.writable = true;\n      self.emit('drain');\n    }, 0);\n  }\n};\n\n/**\n * Called upon close\n *\n * @api private\n */\n\nWS.prototype.onClose = function () {\n  Transport.prototype.onClose.call(this);\n};\n\n/**\n * Closes socket.\n *\n * @api private\n */\n\nWS.prototype.doClose = function () {\n  if (typeof this.ws !== 'undefined') {\n    this.ws.close();\n  }\n};\n\n/**\n * Generates uri for connection.\n *\n * @api private\n */\n\nWS.prototype.uri = function () {\n  var query = this.query || {};\n  var schema = this.secure ? 'wss' : 'ws';\n  var port = '';\n\n  // avoid port if default for schema\n  if (this.port && (('wss' === schema && Number(this.port) !== 443) ||\n    ('ws' === schema && Number(this.port) !== 80))) {\n    port = ':' + this.port;\n  }\n\n  // append timestamp to URI\n  if (this.timestampRequests) {\n    query[this.timestampParam] = yeast();\n  }\n\n  // communicate binary support capabilities\n  if (!this.supportsBinary) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  // prepend ? to query\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  var ipv6 = this.hostname.indexOf(':') !== -1;\n  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n};\n\n/**\n * Feature detection for WebSocket.\n *\n * @return {Boolean} whether this transport is available.\n * @api public\n */\n\nWS.prototype.check = function () {\n  return !!WebSocket && !('__initialize' in WebSocket && this.name === WS.prototype.name);\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../transport\":39,\"component-inherit\":35,\"debug\":47,\"engine.io-parser\":49,\"parseqs\":60,\"ws\":32,\"yeast\":152}],45:[function(require,module,exports){\n(function (global){\n// browser shim for xmlhttprequest module\n\nvar hasCORS = require('has-cors');\n\nmodule.exports = function (opts) {\n  var xdomain = opts.xdomain;\n\n  // scheme must be same when usign XDomainRequest\n  // http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx\n  var xscheme = opts.xscheme;\n\n  // XDomainRequest has a flow of not sending cookie, therefore it should be disabled as a default.\n  // https://github.com/Automattic/engine.io-client/pull/217\n  var enablesXDR = opts.enablesXDR;\n\n  // XMLHttpRequest can be disabled on IE\n  try {\n    if ('undefined' !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n      return new XMLHttpRequest();\n    }\n  } catch (e) { }\n\n  // Use XDomainRequest for IE8 if enablesXDR is true\n  // because loading bar keeps flashing when using jsonp-polling\n  // https://github.com/yujiosaka/socke.io-ie8-loading-example\n  try {\n    if ('undefined' !== typeof XDomainRequest && !xscheme && enablesXDR) {\n      return new XDomainRequest();\n    }\n  } catch (e) { }\n\n  if (!xdomain) {\n    try {\n      return new global[['Active'].concat('Object').join('X')]('Microsoft.XMLHTTP');\n    } catch (e) { }\n  }\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"has-cors\":53}],46:[function(require,module,exports){\n\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  var args = [].slice.call(arguments, 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n\n},{}],47:[function(require,module,exports){\n(function (process){\n\n/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && 'WebkitAppearance' in document.documentElement.style) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (window.console && (console.firebug || (console.exception && console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31);\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs() {\n  var args = arguments;\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return args;\n\n  var c = 'color: ' + this.color;\n  args = [args[0], c, 'color: inherit'].concat(Array.prototype.slice.call(args, 1));\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n  return args;\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    return exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (typeof process !== 'undefined' && 'env' in process) {\n    return process.env.DEBUG;\n  }\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage(){\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n\n}).call(this,require('_process'))\n},{\"./debug\":48,\"_process\":62}],48:[function(require,module,exports){\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = debug.debug = debug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lowercased letter, i.e. \"n\".\n */\n\nexports.formatters = {};\n\n/**\n * Previously assigned color.\n */\n\nvar prevColor = 0;\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n *\n * @return {Number}\n * @api private\n */\n\nfunction selectColor() {\n  return exports.colors[prevColor++ % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction debug(namespace) {\n\n  // define the `disabled` version\n  function disabled() {\n  }\n  disabled.enabled = false;\n\n  // define the `enabled` version\n  function enabled() {\n\n    var self = enabled;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // add the `color` if not set\n    if (null == self.useColors) self.useColors = exports.useColors();\n    if (null == self.color && self.useColors) self.color = selectColor();\n\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %o\n      args = ['%o'].concat(args);\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting\n    args = exports.formatArgs.apply(self, args);\n\n    var logFn = enabled.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n  enabled.enabled = true;\n\n  var fn = exports.enabled(namespace) ? enabled : disabled;\n\n  fn.namespace = namespace;\n\n  return fn;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  var split = (namespaces || '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/[\\\\^$+?.()|[\\]{}]/g, '\\\\$&').replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n\n},{\"ms\":58}],49:[function(require,module,exports){\n(function (global){\n/**\n * Module dependencies.\n */\n\nvar keys = require('./keys');\nvar hasBinary = require('has-binary');\nvar sliceBuffer = require('arraybuffer.slice');\nvar after = require('after');\nvar utf8 = require('wtf-8');\n\nvar base64encoder;\nif (global && global.ArrayBuffer) {\n  base64encoder = require('base64-arraybuffer');\n}\n\n/**\n * Check if we are running an android browser. That requires us to use\n * ArrayBuffer with polling transports...\n *\n * http://ghinda.net/jpeg-blob-ajax-android/\n */\n\nvar isAndroid = typeof navigator !== 'undefined' && /Android/i.test(navigator.userAgent);\n\n/**\n * Check if we are running in PhantomJS.\n * Uploading a Blob with PhantomJS does not work correctly, as reported here:\n * https://github.com/ariya/phantomjs/issues/11395\n * @type boolean\n */\nvar isPhantomJS = typeof navigator !== 'undefined' && /PhantomJS/i.test(navigator.userAgent);\n\n/**\n * When true, avoids using Blobs to encode payloads.\n * @type boolean\n */\nvar dontSendBlobs = isAndroid || isPhantomJS;\n\n/**\n * Current protocol version.\n */\n\nexports.protocol = 3;\n\n/**\n * Packet types.\n */\n\nvar packets = exports.packets = {\n    open:     0    // non-ws\n  , close:    1    // non-ws\n  , ping:     2\n  , pong:     3\n  , message:  4\n  , upgrade:  5\n  , noop:     6\n};\n\nvar packetslist = keys(packets);\n\n/**\n * Premade error packet.\n */\n\nvar err = { type: 'error', data: 'parser error' };\n\n/**\n * Create a blob api even for blob builder when vendor prefixes exist\n */\n\nvar Blob = require('blob');\n\n/**\n * Encodes a packet.\n *\n *     <packet type id> [ <data> ]\n *\n * Example:\n *\n *     5hello world\n *     3\n *     4\n *\n * Binary is encoded in an identical principle\n *\n * @api private\n */\n\nexports.encodePacket = function (packet, supportsBinary, utf8encode, callback) {\n  if ('function' == typeof supportsBinary) {\n    callback = supportsBinary;\n    supportsBinary = false;\n  }\n\n  if ('function' == typeof utf8encode) {\n    callback = utf8encode;\n    utf8encode = null;\n  }\n\n  var data = (packet.data === undefined)\n    ? undefined\n    : packet.data.buffer || packet.data;\n\n  if (global.ArrayBuffer && data instanceof ArrayBuffer) {\n    return encodeArrayBuffer(packet, supportsBinary, callback);\n  } else if (Blob && data instanceof global.Blob) {\n    return encodeBlob(packet, supportsBinary, callback);\n  }\n\n  // might be an object with { base64: true, data: dataAsBase64String }\n  if (data && data.base64) {\n    return encodeBase64Object(packet, callback);\n  }\n\n  // Sending data as a utf-8 string\n  var encoded = packets[packet.type];\n\n  // data fragment is optional\n  if (undefined !== packet.data) {\n    encoded += utf8encode ? utf8.encode(String(packet.data)) : String(packet.data);\n  }\n\n  return callback('' + encoded);\n\n};\n\nfunction encodeBase64Object(packet, callback) {\n  // packet data is an object { base64: true, data: dataAsBase64String }\n  var message = 'b' + exports.packets[packet.type] + packet.data.data;\n  return callback(message);\n}\n\n/**\n * Encode packet helpers for binary types\n */\n\nfunction encodeArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var data = packet.data;\n  var contentArray = new Uint8Array(data);\n  var resultBuffer = new Uint8Array(1 + data.byteLength);\n\n  resultBuffer[0] = packets[packet.type];\n  for (var i = 0; i < contentArray.length; i++) {\n    resultBuffer[i+1] = contentArray[i];\n  }\n\n  return callback(resultBuffer.buffer);\n}\n\nfunction encodeBlobAsArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var fr = new FileReader();\n  fr.onload = function() {\n    packet.data = fr.result;\n    exports.encodePacket(packet, supportsBinary, true, callback);\n  };\n  return fr.readAsArrayBuffer(packet.data);\n}\n\nfunction encodeBlob(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  if (dontSendBlobs) {\n    return encodeBlobAsArrayBuffer(packet, supportsBinary, callback);\n  }\n\n  var length = new Uint8Array(1);\n  length[0] = packets[packet.type];\n  var blob = new Blob([length.buffer, packet.data]);\n\n  return callback(blob);\n}\n\n/**\n * Encodes a packet with binary data in a base64 string\n *\n * @param {Object} packet, has `type` and `data`\n * @return {String} base64 encoded message\n */\n\nexports.encodeBase64Packet = function(packet, callback) {\n  var message = 'b' + exports.packets[packet.type];\n  if (Blob && packet.data instanceof global.Blob) {\n    var fr = new FileReader();\n    fr.onload = function() {\n      var b64 = fr.result.split(',')[1];\n      callback(message + b64);\n    };\n    return fr.readAsDataURL(packet.data);\n  }\n\n  var b64data;\n  try {\n    b64data = String.fromCharCode.apply(null, new Uint8Array(packet.data));\n  } catch (e) {\n    // iPhone Safari doesn't let you apply with typed arrays\n    var typed = new Uint8Array(packet.data);\n    var basic = new Array(typed.length);\n    for (var i = 0; i < typed.length; i++) {\n      basic[i] = typed[i];\n    }\n    b64data = String.fromCharCode.apply(null, basic);\n  }\n  message += global.btoa(b64data);\n  return callback(message);\n};\n\n/**\n * Decodes a packet. Changes format to Blob if requested.\n *\n * @return {Object} with `type` and `data` (if any)\n * @api private\n */\n\nexports.decodePacket = function (data, binaryType, utf8decode) {\n  if (data === undefined) {\n    return err;\n  }\n  // String data\n  if (typeof data == 'string') {\n    if (data.charAt(0) == 'b') {\n      return exports.decodeBase64Packet(data.substr(1), binaryType);\n    }\n\n    if (utf8decode) {\n      data = tryDecode(data);\n      if (data === false) {\n        return err;\n      }\n    }\n    var type = data.charAt(0);\n\n    if (Number(type) != type || !packetslist[type]) {\n      return err;\n    }\n\n    if (data.length > 1) {\n      return { type: packetslist[type], data: data.substring(1) };\n    } else {\n      return { type: packetslist[type] };\n    }\n  }\n\n  var asArray = new Uint8Array(data);\n  var type = asArray[0];\n  var rest = sliceBuffer(data, 1);\n  if (Blob && binaryType === 'blob') {\n    rest = new Blob([rest]);\n  }\n  return { type: packetslist[type], data: rest };\n};\n\nfunction tryDecode(data) {\n  try {\n    data = utf8.decode(data);\n  } catch (e) {\n    return false;\n  }\n  return data;\n}\n\n/**\n * Decodes a packet encoded in a base64 string\n *\n * @param {String} base64 encoded message\n * @return {Object} with `type` and `data` (if any)\n */\n\nexports.decodeBase64Packet = function(msg, binaryType) {\n  var type = packetslist[msg.charAt(0)];\n  if (!base64encoder) {\n    return { type: type, data: { base64: true, data: msg.substr(1) } };\n  }\n\n  var data = base64encoder.decode(msg.substr(1));\n\n  if (binaryType === 'blob' && Blob) {\n    data = new Blob([data]);\n  }\n\n  return { type: type, data: data };\n};\n\n/**\n * Encodes multiple messages (payload).\n *\n *     <length>:data\n *\n * Example:\n *\n *     11:hello world2:hi\n *\n * If any contents are binary, they will be encoded as base64 strings. Base64\n * encoded strings are marked with a b before the length specifier\n *\n * @param {Array} packets\n * @api private\n */\n\nexports.encodePayload = function (packets, supportsBinary, callback) {\n  if (typeof supportsBinary == 'function') {\n    callback = supportsBinary;\n    supportsBinary = null;\n  }\n\n  var isBinary = hasBinary(packets);\n\n  if (supportsBinary && isBinary) {\n    if (Blob && !dontSendBlobs) {\n      return exports.encodePayloadAsBlob(packets, callback);\n    }\n\n    return exports.encodePayloadAsArrayBuffer(packets, callback);\n  }\n\n  if (!packets.length) {\n    return callback('0:');\n  }\n\n  function setLengthHeader(message) {\n    return message.length + ':' + message;\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, !isBinary ? false : supportsBinary, true, function(message) {\n      doneCallback(null, setLengthHeader(message));\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(results.join(''));\n  });\n};\n\n/**\n * Async array map using after\n */\n\nfunction map(ary, each, done) {\n  var result = new Array(ary.length);\n  var next = after(ary.length, done);\n\n  var eachWithIndex = function(i, el, cb) {\n    each(el, function(error, msg) {\n      result[i] = msg;\n      cb(error, result);\n    });\n  };\n\n  for (var i = 0; i < ary.length; i++) {\n    eachWithIndex(i, ary[i], next);\n  }\n}\n\n/*\n * Decodes data when a payload is maybe expected. Possible binary contents are\n * decoded from their base64 representation\n *\n * @param {String} data, callback method\n * @api public\n */\n\nexports.decodePayload = function (data, binaryType, callback) {\n  if (typeof data != 'string') {\n    return exports.decodePayloadAsBinary(data, binaryType, callback);\n  }\n\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var packet;\n  if (data == '') {\n    // parser error - ignoring payload\n    return callback(err, 0, 1);\n  }\n\n  var length = ''\n    , n, msg;\n\n  for (var i = 0, l = data.length; i < l; i++) {\n    var chr = data.charAt(i);\n\n    if (':' != chr) {\n      length += chr;\n    } else {\n      if ('' == length || (length != (n = Number(length)))) {\n        // parser error - ignoring payload\n        return callback(err, 0, 1);\n      }\n\n      msg = data.substr(i + 1, n);\n\n      if (length != msg.length) {\n        // parser error - ignoring payload\n        return callback(err, 0, 1);\n      }\n\n      if (msg.length) {\n        packet = exports.decodePacket(msg, binaryType, true);\n\n        if (err.type == packet.type && err.data == packet.data) {\n          // parser error in individual packet - ignoring payload\n          return callback(err, 0, 1);\n        }\n\n        var ret = callback(packet, i + n, l);\n        if (false === ret) return;\n      }\n\n      // advance cursor\n      i += n;\n      length = '';\n    }\n  }\n\n  if (length != '') {\n    // parser error - ignoring payload\n    return callback(err, 0, 1);\n  }\n\n};\n\n/**\n * Encodes multiple messages (payload) as binary.\n *\n * <1 = binary, 0 = string><number from 0-9><number from 0-9>[...]<number\n * 255><data>\n *\n * Example:\n * 1 3 255 1 2 3, if the binary contents are interpreted as 8 bit integers\n *\n * @param {Array} packets\n * @return {ArrayBuffer} encoded payload\n * @api private\n */\n\nexports.encodePayloadAsArrayBuffer = function(packets, callback) {\n  if (!packets.length) {\n    return callback(new ArrayBuffer(0));\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(data) {\n      return doneCallback(null, data);\n    });\n  }\n\n  map(packets, encodeOne, function(err, encodedPackets) {\n    var totalLength = encodedPackets.reduce(function(acc, p) {\n      var len;\n      if (typeof p === 'string'){\n        len = p.length;\n      } else {\n        len = p.byteLength;\n      }\n      return acc + len.toString().length + len + 2; // string/binary identifier + separator = 2\n    }, 0);\n\n    var resultArray = new Uint8Array(totalLength);\n\n    var bufferIndex = 0;\n    encodedPackets.forEach(function(p) {\n      var isString = typeof p === 'string';\n      var ab = p;\n      if (isString) {\n        var view = new Uint8Array(p.length);\n        for (var i = 0; i < p.length; i++) {\n          view[i] = p.charCodeAt(i);\n        }\n        ab = view.buffer;\n      }\n\n      if (isString) { // not true binary\n        resultArray[bufferIndex++] = 0;\n      } else { // true binary\n        resultArray[bufferIndex++] = 1;\n      }\n\n      var lenStr = ab.byteLength.toString();\n      for (var i = 0; i < lenStr.length; i++) {\n        resultArray[bufferIndex++] = parseInt(lenStr[i]);\n      }\n      resultArray[bufferIndex++] = 255;\n\n      var view = new Uint8Array(ab);\n      for (var i = 0; i < view.length; i++) {\n        resultArray[bufferIndex++] = view[i];\n      }\n    });\n\n    return callback(resultArray.buffer);\n  });\n};\n\n/**\n * Encode as Blob\n */\n\nexports.encodePayloadAsBlob = function(packets, callback) {\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(encoded) {\n      var binaryIdentifier = new Uint8Array(1);\n      binaryIdentifier[0] = 1;\n      if (typeof encoded === 'string') {\n        var view = new Uint8Array(encoded.length);\n        for (var i = 0; i < encoded.length; i++) {\n          view[i] = encoded.charCodeAt(i);\n        }\n        encoded = view.buffer;\n        binaryIdentifier[0] = 0;\n      }\n\n      var len = (encoded instanceof ArrayBuffer)\n        ? encoded.byteLength\n        : encoded.size;\n\n      var lenStr = len.toString();\n      var lengthAry = new Uint8Array(lenStr.length + 1);\n      for (var i = 0; i < lenStr.length; i++) {\n        lengthAry[i] = parseInt(lenStr[i]);\n      }\n      lengthAry[lenStr.length] = 255;\n\n      if (Blob) {\n        var blob = new Blob([binaryIdentifier.buffer, lengthAry.buffer, encoded]);\n        doneCallback(null, blob);\n      }\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(new Blob(results));\n  });\n};\n\n/*\n * Decodes data when a payload is maybe expected. Strings are decoded by\n * interpreting each byte as a key code for entries marked to start with 0. See\n * description of encodePayloadAsBinary\n *\n * @param {ArrayBuffer} data, callback method\n * @api public\n */\n\nexports.decodePayloadAsBinary = function (data, binaryType, callback) {\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var bufferTail = data;\n  var buffers = [];\n\n  var numberTooLong = false;\n  while (bufferTail.byteLength > 0) {\n    var tailArray = new Uint8Array(bufferTail);\n    var isString = tailArray[0] === 0;\n    var msgLength = '';\n\n    for (var i = 1; ; i++) {\n      if (tailArray[i] == 255) break;\n\n      if (msgLength.length > 310) {\n        numberTooLong = true;\n        break;\n      }\n\n      msgLength += tailArray[i];\n    }\n\n    if(numberTooLong) return callback(err, 0, 1);\n\n    bufferTail = sliceBuffer(bufferTail, 2 + msgLength.length);\n    msgLength = parseInt(msgLength);\n\n    var msg = sliceBuffer(bufferTail, 0, msgLength);\n    if (isString) {\n      try {\n        msg = String.fromCharCode.apply(null, new Uint8Array(msg));\n      } catch (e) {\n        // iPhone Safari doesn't let you apply to typed arrays\n        var typed = new Uint8Array(msg);\n        msg = '';\n        for (var i = 0; i < typed.length; i++) {\n          msg += String.fromCharCode(typed[i]);\n        }\n      }\n    }\n\n    buffers.push(msg);\n    bufferTail = sliceBuffer(bufferTail, msgLength);\n  }\n\n  var total = buffers.length;\n  buffers.forEach(function(buffer, i) {\n    callback(exports.decodePacket(buffer, binaryType, true), i, total);\n  });\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./keys\":50,\"after\":1,\"arraybuffer.slice\":2,\"base64-arraybuffer\":29,\"blob\":30,\"has-binary\":52,\"wtf-8\":151}],50:[function(require,module,exports){\n\n/**\n * Gets the keys for an object.\n *\n * @return {Array} keys\n * @api private\n */\n\nmodule.exports = Object.keys || function keys (obj){\n  var arr = [];\n  var has = Object.prototype.hasOwnProperty;\n\n  for (var i in obj) {\n    if (has.call(obj, i)) {\n      arr.push(i);\n    }\n  }\n  return arr;\n};\n\n},{}],51:[function(require,module,exports){\n/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (typeof define === 'function' && define.amd) {\n    define(function() {\n        return Hammer;\n    });\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n\n},{}],52:[function(require,module,exports){\n(function (global){\n\n/*\n * Module requirements.\n */\n\nvar isArray = require('isarray');\n\n/**\n * Module exports.\n */\n\nmodule.exports = hasBinary;\n\n/**\n * Checks for binary data.\n *\n * Right now only Buffer and ArrayBuffer are supported..\n *\n * @param {Object} anything\n * @api public\n */\n\nfunction hasBinary(data) {\n\n  function _hasBinary(obj) {\n    if (!obj) return false;\n\n    if ( (global.Buffer && global.Buffer.isBuffer && global.Buffer.isBuffer(obj)) ||\n         (global.ArrayBuffer && obj instanceof ArrayBuffer) ||\n         (global.Blob && obj instanceof Blob) ||\n         (global.File && obj instanceof File)\n        ) {\n      return true;\n    }\n\n    if (isArray(obj)) {\n      for (var i = 0; i < obj.length; i++) {\n          if (_hasBinary(obj[i])) {\n              return true;\n          }\n      }\n    } else if (obj && 'object' == typeof obj) {\n      // see: https://github.com/Automattic/has-binary/pull/4\n      if (obj.toJSON && 'function' == typeof obj.toJSON) {\n        obj = obj.toJSON();\n      }\n\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && _hasBinary(obj[key])) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  return _hasBinary(data);\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"isarray\":56}],53:[function(require,module,exports){\n\n/**\n * Module exports.\n *\n * Logic borrowed from Modernizr:\n *\n *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js\n */\n\ntry {\n  module.exports = typeof XMLHttpRequest !== 'undefined' &&\n    'withCredentials' in new XMLHttpRequest();\n} catch (err) {\n  // if XMLHttp support is disabled in IE then it will throw\n  // when trying to create\n  module.exports = false;\n}\n\n},{}],54:[function(require,module,exports){\n(function (global){\n/*!\n *  howler.js v2.0.3\n *  howlerjs.com\n *\n *  (c) 2013-2017, James Simpson of GoldFire Studios\n *  goldfirestudios.com\n *\n *  MIT License\n */\n\n(function() {\n\n  'use strict';\n\n  /** Global Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create the global controller. All contained methods and properties apply\n   * to all sounds that are currently playing or will be in the future.\n   */\n  var HowlerGlobal = function() {\n    this.init();\n  };\n  HowlerGlobal.prototype = {\n    /**\n     * Initialize the global Howler object.\n     * @return {Howler}\n     */\n    init: function() {\n      var self = this || Howler;\n\n      // Create a global ID counter.\n      self._counter = 0;\n\n      // Internal properties.\n      self._codecs = {};\n      self._howls = [];\n      self._muted = false;\n      self._volume = 1;\n      self._canPlayEvent = 'canplaythrough';\n      self._navigator = (typeof window !== 'undefined' && window.navigator) ? window.navigator : null;\n\n      // Public properties.\n      self.masterGain = null;\n      self.noAudio = false;\n      self.usingWebAudio = true;\n      self.autoSuspend = true;\n      self.ctx = null;\n\n      // Set to false to disable the auto iOS enabler.\n      self.mobileAutoEnable = true;\n\n      // Setup the various state values for global tracking.\n      self._setup();\n\n      return self;\n    },\n\n    /**\n     * Get/set the global volume for all sounds.\n     * @param  {Float} vol Volume from 0.0 to 1.0.\n     * @return {Howler/Float}     Returns self or current volume.\n     */\n    volume: function(vol) {\n      var self = this || Howler;\n      vol = parseFloat(vol);\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!self.ctx) {\n        setupAudioContext();\n      }\n\n      if (typeof vol !== 'undefined' && vol >= 0 && vol <= 1) {\n        self._volume = vol;\n\n        // Don't update any of the nodes if we are muted.\n        if (self._muted) {\n          return self;\n        }\n\n        // When using Web Audio, we just need to adjust the master gain.\n        if (self.usingWebAudio) {\n          self.masterGain.gain.value = vol;\n        }\n\n        // Loop through and change volume for all HTML5 audio nodes.\n        for (var i=0; i<self._howls.length; i++) {\n          if (!self._howls[i]._webAudio) {\n            // Get all of the sounds in this Howl group.\n            var ids = self._howls[i]._getSoundIds();\n\n            // Loop through all sounds and change the volumes.\n            for (var j=0; j<ids.length; j++) {\n              var sound = self._howls[i]._soundById(ids[j]);\n\n              if (sound && sound._node) {\n                sound._node.volume = sound._volume * vol;\n              }\n            }\n          }\n        }\n\n        return self;\n      }\n\n      return self._volume;\n    },\n\n    /**\n     * Handle muting and unmuting globally.\n     * @param  {Boolean} muted Is muted or not.\n     */\n    mute: function(muted) {\n      var self = this || Howler;\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!self.ctx) {\n        setupAudioContext();\n      }\n\n      self._muted = muted;\n\n      // With Web Audio, we just need to mute the master gain.\n      if (self.usingWebAudio) {\n        self.masterGain.gain.value = muted ? 0 : self._volume;\n      }\n\n      // Loop through and mute all HTML5 Audio nodes.\n      for (var i=0; i<self._howls.length; i++) {\n        if (!self._howls[i]._webAudio) {\n          // Get all of the sounds in this Howl group.\n          var ids = self._howls[i]._getSoundIds();\n\n          // Loop through all sounds and mark the audio node as muted.\n          for (var j=0; j<ids.length; j++) {\n            var sound = self._howls[i]._soundById(ids[j]);\n\n            if (sound && sound._node) {\n              sound._node.muted = (muted) ? true : sound._muted;\n            }\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Unload and destroy all currently loaded Howl objects.\n     * @return {Howler}\n     */\n    unload: function() {\n      var self = this || Howler;\n\n      for (var i=self._howls.length-1; i>=0; i--) {\n        self._howls[i].unload();\n      }\n\n      // Create a new AudioContext to make sure it is fully reset.\n      if (self.usingWebAudio && self.ctx && typeof self.ctx.close !== 'undefined') {\n        self.ctx.close();\n        self.ctx = null;\n        setupAudioContext();\n      }\n\n      return self;\n    },\n\n    /**\n     * Check for codec support of specific extension.\n     * @param  {String} ext Audio file extention.\n     * @return {Boolean}\n     */\n    codecs: function(ext) {\n      return (this || Howler)._codecs[ext.replace(/^x-/, '')];\n    },\n\n    /**\n     * Setup various state values for global tracking.\n     * @return {Howler}\n     */\n    _setup: function() {\n      var self = this || Howler;\n\n      // Keeps track of the suspend/resume state of the AudioContext.\n      self.state = self.ctx ? self.ctx.state || 'running' : 'running';\n\n      // Automatically begin the 30-second suspend process\n      self._autoSuspend();\n\n      // Check if audio is available.\n      if (!self.usingWebAudio) {\n        // No audio is available on this system if noAudio is set to true.\n        if (typeof Audio !== 'undefined') {\n          try {\n            var test = new Audio();\n\n            // Check if the canplaythrough event is available.\n            if (typeof test.oncanplaythrough === 'undefined') {\n              self._canPlayEvent = 'canplay';\n            }\n          } catch(e) {\n            self.noAudio = true;\n          }\n        } else {\n          self.noAudio = true;\n        }\n      }\n\n      // Test to make sure audio isn't disabled in Internet Explorer.\n      try {\n        var test = new Audio();\n        if (test.muted) {\n          self.noAudio = true;\n        }\n      } catch (e) {}\n\n      // Check for supported codecs.\n      if (!self.noAudio) {\n        self._setupCodecs();\n      }\n\n      return self;\n    },\n\n    /**\n     * Check for browser support for various codecs and cache the results.\n     * @return {Howler}\n     */\n    _setupCodecs: function() {\n      var self = this || Howler;\n      var audioTest = null;\n\n      // Must wrap in a try/catch because IE11 in server mode throws an error.\n      try {\n        audioTest = (typeof Audio !== 'undefined') ? new Audio() : null;\n      } catch (err) {\n        return self;\n      }\n\n      if (!audioTest || typeof audioTest.canPlayType !== 'function') {\n        return self;\n      }\n\n      var mpegTest = audioTest.canPlayType('audio/mpeg;').replace(/^no$/, '');\n\n      // Opera version <33 has mixed MP3 support, so we need to check for and block it.\n      var checkOpera = self._navigator && self._navigator.userAgent.match(/OPR\\/([0-6].)/g);\n      var isOldOpera = (checkOpera && parseInt(checkOpera[0].split('/')[1], 10) < 33);\n\n      self._codecs = {\n        mp3: !!(!isOldOpera && (mpegTest || audioTest.canPlayType('audio/mp3;').replace(/^no$/, ''))),\n        mpeg: !!mpegTest,\n        opus: !!audioTest.canPlayType('audio/ogg; codecs=\"opus\"').replace(/^no$/, ''),\n        ogg: !!audioTest.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/, ''),\n        oga: !!audioTest.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/, ''),\n        wav: !!audioTest.canPlayType('audio/wav; codecs=\"1\"').replace(/^no$/, ''),\n        aac: !!audioTest.canPlayType('audio/aac;').replace(/^no$/, ''),\n        caf: !!audioTest.canPlayType('audio/x-caf;').replace(/^no$/, ''),\n        m4a: !!(audioTest.canPlayType('audio/x-m4a;') || audioTest.canPlayType('audio/m4a;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n        mp4: !!(audioTest.canPlayType('audio/x-mp4;') || audioTest.canPlayType('audio/mp4;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n        weba: !!audioTest.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/, ''),\n        webm: !!audioTest.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/, ''),\n        dolby: !!audioTest.canPlayType('audio/mp4; codecs=\"ec-3\"').replace(/^no$/, ''),\n        flac: !!(audioTest.canPlayType('audio/x-flac;') || audioTest.canPlayType('audio/flac;')).replace(/^no$/, '')\n      };\n\n      return self;\n    },\n\n    /**\n     * Mobile browsers will only allow audio to be played after a user interaction.\n     * Attempt to automatically unlock audio on the first user interaction.\n     * Concept from: http://paulbakaus.com/tutorials/html5/web-audio-on-ios/\n     * @return {Howler}\n     */\n    _enableMobileAudio: function() {\n      var self = this || Howler;\n\n      // Only run this on mobile devices if audio isn't already eanbled.\n      var isMobile = /iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(self._navigator && self._navigator.userAgent);\n      var isTouch = !!(('ontouchend' in window) || (self._navigator && self._navigator.maxTouchPoints > 0) || (self._navigator && self._navigator.msMaxTouchPoints > 0));\n      if (self._mobileEnabled || !self.ctx || (!isMobile && !isTouch)) {\n        return;\n      }\n\n      self._mobileEnabled = false;\n\n      // Some mobile devices/platforms have distortion issues when opening/closing tabs and/or web views.\n      // Bugs in the browser (especially Mobile Safari) can cause the sampleRate to change from 44100 to 48000.\n      // By calling Howler.unload(), we create a new AudioContext with the correct sampleRate.\n      if (!self._mobileUnloaded && self.ctx.sampleRate !== 44100) {\n        self._mobileUnloaded = true;\n        self.unload();\n      }\n\n      // Scratch buffer for enabling iOS to dispose of web audio buffers correctly, as per:\n      // http://stackoverflow.com/questions/24119684\n      self._scratchBuffer = self.ctx.createBuffer(1, 1, 22050);\n\n      // Call this method on touch start to create and play a buffer,\n      // then check if the audio actually played to determine if\n      // audio has now been unlocked on iOS, Android, etc.\n      var unlock = function() {\n        // Create an empty buffer.\n        var source = self.ctx.createBufferSource();\n        source.buffer = self._scratchBuffer;\n        source.connect(self.ctx.destination);\n\n        // Play the empty buffer.\n        if (typeof source.start === 'undefined') {\n          source.noteOn(0);\n        } else {\n          source.start(0);\n        }\n\n        // Setup a timeout to check that we are unlocked on the next event loop.\n        source.onended = function() {\n          source.disconnect(0);\n\n          // Update the unlocked state and prevent this check from happening again.\n          self._mobileEnabled = true;\n          self.mobileAutoEnable = false;\n\n          // Remove the touch start listener.\n          document.removeEventListener('touchend', unlock, true);\n        };\n      };\n\n      // Setup a touch start listener to attempt an unlock in.\n      document.addEventListener('touchend', unlock, true);\n\n      return self;\n    },\n\n    /**\n     * Automatically suspend the Web Audio AudioContext after no sound has played for 30 seconds.\n     * This saves processing/energy and fixes various browser-specific bugs with audio getting stuck.\n     * @return {Howler}\n     */\n    _autoSuspend: function() {\n      var self = this;\n\n      if (!self.autoSuspend || !self.ctx || typeof self.ctx.suspend === 'undefined' || !Howler.usingWebAudio) {\n        return;\n      }\n\n      // Check if any sounds are playing.\n      for (var i=0; i<self._howls.length; i++) {\n        if (self._howls[i]._webAudio) {\n          for (var j=0; j<self._howls[i]._sounds.length; j++) {\n            if (!self._howls[i]._sounds[j]._paused) {\n              return self;\n            }\n          }\n        }\n      }\n\n      if (self._suspendTimer) {\n        clearTimeout(self._suspendTimer);\n      }\n\n      // If no sound has played after 30 seconds, suspend the context.\n      self._suspendTimer = setTimeout(function() {\n        if (!self.autoSuspend) {\n          return;\n        }\n\n        self._suspendTimer = null;\n        self.state = 'suspending';\n        self.ctx.suspend().then(function() {\n          self.state = 'suspended';\n\n          if (self._resumeAfterSuspend) {\n            delete self._resumeAfterSuspend;\n            self._autoResume();\n          }\n        });\n      }, 30000);\n\n      return self;\n    },\n\n    /**\n     * Automatically resume the Web Audio AudioContext when a new sound is played.\n     * @return {Howler}\n     */\n    _autoResume: function() {\n      var self = this;\n\n      if (!self.ctx || typeof self.ctx.resume === 'undefined' || !Howler.usingWebAudio) {\n        return;\n      }\n\n      if (self.state === 'running' && self._suspendTimer) {\n        clearTimeout(self._suspendTimer);\n        self._suspendTimer = null;\n      } else if (self.state === 'suspended') {\n        self.state = 'resuming';\n        self.ctx.resume().then(function() {\n          self.state = 'running';\n\n          // Emit to all Howls that the audio has resumed.\n          for (var i=0; i<self._howls.length; i++) {\n            self._howls[i]._emit('resume');\n          }\n        });\n\n        if (self._suspendTimer) {\n          clearTimeout(self._suspendTimer);\n          self._suspendTimer = null;\n        }\n      } else if (self.state === 'suspending') {\n        self._resumeAfterSuspend = true;\n      }\n\n      return self;\n    }\n  };\n\n  // Setup the global audio controller.\n  var Howler = new HowlerGlobal();\n\n  /** Group Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create an audio group controller.\n   * @param {Object} o Passed in properties for this group.\n   */\n  var Howl = function(o) {\n    var self = this;\n\n    // Throw an error if no source is provided.\n    if (!o.src || o.src.length === 0) {\n      console.error('An array of source files must be passed with any new Howl.');\n      return;\n    }\n\n    self.init(o);\n  };\n  Howl.prototype = {\n    /**\n     * Initialize a new Howl group object.\n     * @param  {Object} o Passed in properties for this group.\n     * @return {Howl}\n     */\n    init: function(o) {\n      var self = this;\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!Howler.ctx) {\n        setupAudioContext();\n      }\n\n      // Setup user-defined default properties.\n      self._autoplay = o.autoplay || false;\n      self._format = (typeof o.format !== 'string') ? o.format : [o.format];\n      self._html5 = o.html5 || false;\n      self._muted = o.mute || false;\n      self._loop = o.loop || false;\n      self._pool = o.pool || 5;\n      self._preload = (typeof o.preload === 'boolean') ? o.preload : true;\n      self._rate = o.rate || 1;\n      self._sprite = o.sprite || {};\n      self._src = (typeof o.src !== 'string') ? o.src : [o.src];\n      self._volume = o.volume !== undefined ? o.volume : 1;\n\n      // Setup all other default properties.\n      self._duration = 0;\n      self._state = 'unloaded';\n      self._sounds = [];\n      self._endTimers = {};\n      self._queue = [];\n\n      // Setup event listeners.\n      self._onend = o.onend ? [{fn: o.onend}] : [];\n      self._onfade = o.onfade ? [{fn: o.onfade}] : [];\n      self._onload = o.onload ? [{fn: o.onload}] : [];\n      self._onloaderror = o.onloaderror ? [{fn: o.onloaderror}] : [];\n      self._onpause = o.onpause ? [{fn: o.onpause}] : [];\n      self._onplay = o.onplay ? [{fn: o.onplay}] : [];\n      self._onstop = o.onstop ? [{fn: o.onstop}] : [];\n      self._onmute = o.onmute ? [{fn: o.onmute}] : [];\n      self._onvolume = o.onvolume ? [{fn: o.onvolume}] : [];\n      self._onrate = o.onrate ? [{fn: o.onrate}] : [];\n      self._onseek = o.onseek ? [{fn: o.onseek}] : [];\n      self._onresume = [];\n\n      // Web Audio or HTML5 Audio?\n      self._webAudio = Howler.usingWebAudio && !self._html5;\n\n      // Automatically try to enable audio on iOS.\n      if (typeof Howler.ctx !== 'undefined' && Howler.ctx && Howler.mobileAutoEnable) {\n        Howler._enableMobileAudio();\n      }\n\n      // Keep track of this Howl group in the global controller.\n      Howler._howls.push(self);\n\n      // If they selected autoplay, add a play event to the load queue.\n      if (self._autoplay) {\n        self._queue.push({\n          event: 'play',\n          action: function() {\n            self.play();\n          }\n        });\n      }\n\n      // Load the source file unless otherwise specified.\n      if (self._preload) {\n        self.load();\n      }\n\n      return self;\n    },\n\n    /**\n     * Load the audio file.\n     * @return {Howler}\n     */\n    load: function() {\n      var self = this;\n      var url = null;\n\n      // If no audio is available, quit immediately.\n      if (Howler.noAudio) {\n        self._emit('loaderror', null, 'No audio support.');\n        return;\n      }\n\n      // Make sure our source is in an array.\n      if (typeof self._src === 'string') {\n        self._src = [self._src];\n      }\n\n      // Loop through the sources and pick the first one that is compatible.\n      for (var i=0; i<self._src.length; i++) {\n        var ext, str;\n\n        if (self._format && self._format[i]) {\n          // If an extension was specified, use that instead.\n          ext = self._format[i];\n        } else {\n          // Make sure the source is a string.\n          str = self._src[i];\n          if (typeof str !== 'string') {\n            self._emit('loaderror', null, 'Non-string found in selected audio sources - ignoring.');\n            continue;\n          }\n\n          // Extract the file extension from the URL or base64 data URI.\n          ext = /^data:audio\\/([^;,]+);/i.exec(str);\n          if (!ext) {\n            ext = /\\.([^.]+)$/.exec(str.split('?', 1)[0]);\n          }\n\n          if (ext) {\n            ext = ext[1].toLowerCase();\n          }\n        }\n\n        // Log a warning if no extension was found.\n        if (!ext) {\n          console.warn('No file extension was found. Consider using the \"format\" property or specify an extension.');\n        }\n\n        // Check if this extension is available.\n        if (ext && Howler.codecs(ext)) {\n          url = self._src[i];\n          break;\n        }\n      }\n\n      if (!url) {\n        self._emit('loaderror', null, 'No codec support for selected audio sources.');\n        return;\n      }\n\n      self._src = url;\n      self._state = 'loading';\n\n      // If the hosting page is HTTPS and the source isn't,\n      // drop down to HTML5 Audio to avoid Mixed Content errors.\n      if (window.location.protocol === 'https:' && url.slice(0, 5) === 'http:') {\n        self._html5 = true;\n        self._webAudio = false;\n      }\n\n      // Create a new sound object and add it to the pool.\n      new Sound(self);\n\n      // Load and decode the audio data for playback.\n      if (self._webAudio) {\n        loadBuffer(self);\n      }\n\n      return self;\n    },\n\n    /**\n     * Play a sound or resume previous playback.\n     * @param  {String/Number} sprite   Sprite name for sprite playback or sound id to continue previous.\n     * @param  {Boolean} internal Internal Use: true prevents event firing.\n     * @return {Number}          Sound ID.\n     */\n    play: function(sprite, internal) {\n      var self = this;\n      var id = null;\n\n      // Determine if a sprite, sound id or nothing was passed\n      if (typeof sprite === 'number') {\n        id = sprite;\n        sprite = null;\n      } else if (typeof sprite === 'string' && self._state === 'loaded' && !self._sprite[sprite]) {\n        // If the passed sprite doesn't exist, do nothing.\n        return null;\n      } else if (typeof sprite === 'undefined') {\n        // Use the default sound sprite (plays the full audio length).\n        sprite = '__default';\n\n        // Check if there is a single paused sound that isn't ended.\n        // If there is, play that sound. If not, continue as usual.\n        var num = 0;\n        for (var i=0; i<self._sounds.length; i++) {\n          if (self._sounds[i]._paused && !self._sounds[i]._ended) {\n            num++;\n            id = self._sounds[i]._id;\n          }\n        }\n\n        if (num === 1) {\n          sprite = null;\n        } else {\n          id = null;\n        }\n      }\n\n      // Get the selected node, or get one from the pool.\n      var sound = id ? self._soundById(id) : self._inactiveSound();\n\n      // If the sound doesn't exist, do nothing.\n      if (!sound) {\n        return null;\n      }\n\n      // Select the sprite definition.\n      if (id && !sprite) {\n        sprite = sound._sprite || '__default';\n      }\n\n      // If we have no sprite and the sound hasn't loaded, we must wait\n      // for the sound to load to get our audio's duration.\n      if (self._state !== 'loaded' && !self._sprite[sprite]) {\n        self._queue.push({\n          event: 'play',\n          action: function() {\n            self.play(self._soundById(sound._id) ? sound._id : undefined);\n          }\n        });\n\n        return sound._id;\n      }\n\n      // Don't play the sound if an id was passed and it is already playing.\n      if (id && !sound._paused) {\n        // Trigger the play event, in order to keep iterating through queue.\n        if (!internal) {\n          setTimeout(function() {\n            self._emit('play', sound._id);\n          }, 0);\n        }\n\n        return sound._id;\n      }\n\n      // Make sure the AudioContext isn't suspended, and resume it if it is.\n      if (self._webAudio) {\n        Howler._autoResume();\n      }\n\n      // Determine how long to play for and where to start playing.\n      var seek = Math.max(0, sound._seek > 0 ? sound._seek : self._sprite[sprite][0] / 1000);\n      var duration = Math.max(0, ((self._sprite[sprite][0] + self._sprite[sprite][1]) / 1000) - seek);\n      var timeout = (duration * 1000) / Math.abs(sound._rate);\n\n      // Update the parameters of the sound\n      sound._paused = false;\n      sound._ended = false;\n      sound._sprite = sprite;\n      sound._seek = seek;\n      sound._start = self._sprite[sprite][0] / 1000;\n      sound._stop = (self._sprite[sprite][0] + self._sprite[sprite][1]) / 1000;\n      sound._loop = !!(sound._loop || self._sprite[sprite][2]);\n\n      // Begin the actual playback.\n      var node = sound._node;\n      if (self._webAudio) {\n        // Fire this when the sound is ready to play to begin Web Audio playback.\n        var playWebAudio = function() {\n          self._refreshBuffer(sound);\n\n          // Setup the playback params.\n          var vol = (sound._muted || self._muted) ? 0 : sound._volume;\n          node.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n          sound._playStart = Howler.ctx.currentTime;\n\n          // Play the sound using the supported method.\n          if (typeof node.bufferSource.start === 'undefined') {\n            sound._loop ? node.bufferSource.noteGrainOn(0, seek, 86400) : node.bufferSource.noteGrainOn(0, seek, duration);\n          } else {\n            sound._loop ? node.bufferSource.start(0, seek, 86400) : node.bufferSource.start(0, seek, duration);\n          }\n\n          // Start a new timer if none is present.\n          if (timeout !== Infinity) {\n            self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n          }\n\n          if (!internal) {\n            setTimeout(function() {\n              self._emit('play', sound._id);\n            }, 0);\n          }\n        };\n\n        var isRunning = (Howler.state === 'running');\n        if (self._state === 'loaded' && isRunning) {\n          playWebAudio();\n        } else {\n          // Wait for the audio to load and then begin playback.\n          var event = !isRunning && self._state === 'loaded' ? 'resume' : 'load';\n          self.once(event, playWebAudio, isRunning ? sound._id : null);\n\n          // Cancel the end timer.\n          self._clearTimer(sound._id);\n        }\n      } else {\n        // Fire this when the sound is ready to play to begin HTML5 Audio playback.\n        var playHtml5 = function() {\n          node.currentTime = seek;\n          node.muted = sound._muted || self._muted || Howler._muted || node.muted;\n          node.volume = sound._volume * Howler.volume();\n          node.playbackRate = sound._rate;\n          node.play();\n\n          // Setup the new end timer.\n          if (timeout !== Infinity) {\n            self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n          }\n\n          if (!internal) {\n            self._emit('play', sound._id);\n          }\n        };\n\n        // Play immediately if ready, or wait for the 'canplaythrough'e vent.\n        var loadedNoReadyState = (self._state === 'loaded' && (window && window.ejecta || !node.readyState && Howler._navigator.isCocoonJS));\n        if (node.readyState === 4 || loadedNoReadyState) {\n          playHtml5();\n        } else {\n          var listener = function() {\n            // Begin playback.\n            playHtml5();\n\n            // Clear this listener.\n            node.removeEventListener(Howler._canPlayEvent, listener, false);\n          };\n          node.addEventListener(Howler._canPlayEvent, listener, false);\n\n          // Cancel the end timer.\n          self._clearTimer(sound._id);\n        }\n      }\n\n      return sound._id;\n    },\n\n    /**\n     * Pause playback and save current position.\n     * @param  {Number} id The sound ID (empty to pause all in group).\n     * @return {Howl}\n     */\n    pause: function(id) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to pause when capable.\n      if (self._state !== 'loaded') {\n        self._queue.push({\n          event: 'pause',\n          action: function() {\n            self.pause(id);\n          }\n        });\n\n        return self;\n      }\n\n      // If no id is passed, get all ID's to be paused.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Clear the end timer.\n        self._clearTimer(ids[i]);\n\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound && !sound._paused) {\n          // Reset the seek position.\n          sound._seek = self.seek(ids[i]);\n          sound._rateSeek = 0;\n          sound._paused = true;\n\n          // Stop currently running fades.\n          self._stopFade(ids[i]);\n\n          if (sound._node) {\n            if (self._webAudio) {\n              // make sure the sound has been created\n              if (!sound._node.bufferSource) {\n                return self;\n              }\n\n              if (typeof sound._node.bufferSource.stop === 'undefined') {\n                sound._node.bufferSource.noteOff(0);\n              } else {\n                sound._node.bufferSource.stop(0);\n              }\n\n              // Clean up the buffer source.\n              self._cleanBuffer(sound._node);\n            } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {\n              sound._node.pause();\n            }\n          }\n        }\n\n        // Fire the pause event, unless `true` is passed as the 2nd argument.\n        if (!arguments[1]) {\n          self._emit('pause', sound ? sound._id : null);\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Stop playback and reset to start.\n     * @param  {Number} id The sound ID (empty to stop all in group).\n     * @param  {Boolean} internal Internal Use: true prevents event firing.\n     * @return {Howl}\n     */\n    stop: function(id, internal) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to stop when capable.\n      if (self._state !== 'loaded') {\n        self._queue.push({\n          event: 'stop',\n          action: function() {\n            self.stop(id);\n          }\n        });\n\n        return self;\n      }\n\n      // If no id is passed, get all ID's to be stopped.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Clear the end timer.\n        self._clearTimer(ids[i]);\n\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound) {\n          // Reset the seek position.\n          sound._seek = sound._start || 0;\n          sound._rateSeek = 0;\n          sound._paused = true;\n          sound._ended = true;\n\n          // Stop currently running fades.\n          self._stopFade(ids[i]);\n\n          if (sound._node) {\n            if (self._webAudio) {\n              // make sure the sound has been created\n              if (!sound._node.bufferSource) {\n                if (!internal) {\n                  self._emit('stop', sound._id);\n                }\n\n                return self;\n              }\n\n              if (typeof sound._node.bufferSource.stop === 'undefined') {\n                sound._node.bufferSource.noteOff(0);\n              } else {\n                sound._node.bufferSource.stop(0);\n              }\n\n              // Clean up the buffer source.\n              self._cleanBuffer(sound._node);\n            } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {\n              sound._node.currentTime = sound._start || 0;\n              sound._node.pause();\n            }\n          }\n        }\n\n        if (sound && !internal) {\n          self._emit('stop', sound._id);\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Mute/unmute a single sound or all sounds in this Howl group.\n     * @param  {Boolean} muted Set to true to mute and false to unmute.\n     * @param  {Number} id    The sound ID to update (omit to mute/unmute all).\n     * @return {Howl}\n     */\n    mute: function(muted, id) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to mute when capable.\n      if (self._state !== 'loaded') {\n        self._queue.push({\n          event: 'mute',\n          action: function() {\n            self.mute(muted, id);\n          }\n        });\n\n        return self;\n      }\n\n      // If applying mute/unmute to all sounds, update the group's value.\n      if (typeof id === 'undefined') {\n        if (typeof muted === 'boolean') {\n          self._muted = muted;\n        } else {\n          return self._muted;\n        }\n      }\n\n      // If no id is passed, get all ID's to be muted.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound) {\n          sound._muted = muted;\n\n          if (self._webAudio && sound._node) {\n            sound._node.gain.setValueAtTime(muted ? 0 : sound._volume, Howler.ctx.currentTime);\n          } else if (sound._node) {\n            sound._node.muted = Howler._muted ? true : muted;\n          }\n\n          self._emit('mute', sound._id);\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the volume of this sound or of the Howl group. This method can optionally take 0, 1 or 2 arguments.\n     *   volume() -> Returns the group's volume value.\n     *   volume(id) -> Returns the sound id's current volume.\n     *   volume(vol) -> Sets the volume of all sounds in this Howl group.\n     *   volume(vol, id) -> Sets the volume of passed sound id.\n     * @return {Howl/Number} Returns self or current volume.\n     */\n    volume: function() {\n      var self = this;\n      var args = arguments;\n      var vol, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // Return the value of the groups' volume.\n        return self._volume;\n      } else if (args.length === 1 || args.length === 2 && typeof args[1] === 'undefined') {\n        // First check if this is an ID, and if not, assume it is a new volume.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else {\n          vol = parseFloat(args[0]);\n        }\n      } else if (args.length >= 2) {\n        vol = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // Update the volume or return the current volume.\n      var sound;\n      if (typeof vol !== 'undefined' && vol >= 0 && vol <= 1) {\n        // If the sound hasn't loaded, add it to the load queue to change volume when capable.\n        if (self._state !== 'loaded') {\n          self._queue.push({\n            event: 'volume',\n            action: function() {\n              self.volume.apply(self, args);\n            }\n          });\n\n          return self;\n        }\n\n        // Set the group volume.\n        if (typeof id === 'undefined') {\n          self._volume = vol;\n        }\n\n        // Update one or all volumes.\n        id = self._getSoundIds(id);\n        for (var i=0; i<id.length; i++) {\n          // Get the sound.\n          sound = self._soundById(id[i]);\n\n          if (sound) {\n            sound._volume = vol;\n\n            // Stop currently running fades.\n            if (!args[2]) {\n              self._stopFade(id[i]);\n            }\n\n            if (self._webAudio && sound._node && !sound._muted) {\n              sound._node.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n            } else if (sound._node && !sound._muted) {\n              sound._node.volume = vol * Howler.volume();\n            }\n\n            self._emit('volume', sound._id);\n          }\n        }\n      } else {\n        sound = id ? self._soundById(id) : self._sounds[0];\n        return sound ? sound._volume : 0;\n      }\n\n      return self;\n    },\n\n    /**\n     * Fade a currently playing sound between two volumes (if no id is passsed, all sounds will fade).\n     * @param  {Number} from The value to fade from (0.0 to 1.0).\n     * @param  {Number} to   The volume to fade to (0.0 to 1.0).\n     * @param  {Number} len  Time in milliseconds to fade.\n     * @param  {Number} id   The sound id (omit to fade all sounds).\n     * @return {Howl}\n     */\n    fade: function(from, to, len, id) {\n      var self = this;\n      var diff = Math.abs(from - to);\n      var dir = from > to ? 'out' : 'in';\n      var steps = diff / 0.01;\n      var stepLen = (steps > 0) ? len / steps : len;\n\n      // Since browsers clamp timeouts to 4ms, we need to clamp our steps to that too.\n      if (stepLen < 4) {\n        steps = Math.ceil(steps / (4 / stepLen));\n        stepLen = 4;\n      }\n\n      // If the sound hasn't loaded, add it to the load queue to fade when capable.\n      if (self._state !== 'loaded') {\n        self._queue.push({\n          event: 'fade',\n          action: function() {\n            self.fade(from, to, len, id);\n          }\n        });\n\n        return self;\n      }\n\n      // Set the volume to the start position.\n      self.volume(from, id);\n\n      // Fade the volume of one or all sounds.\n      var ids = self._getSoundIds(id);\n      for (var i=0; i<ids.length; i++) {\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        // Create a linear fade or fall back to timeouts with HTML5 Audio.\n        if (sound) {\n          // Stop the previous fade if no sprite is being used (otherwise, volume handles this).\n          if (!id) {\n            self._stopFade(ids[i]);\n          }\n\n          // If we are using Web Audio, let the native methods do the actual fade.\n          if (self._webAudio && !sound._muted) {\n            var currentTime = Howler.ctx.currentTime;\n            var end = currentTime + (len / 1000);\n            sound._volume = from;\n            sound._node.gain.setValueAtTime(from, currentTime);\n            sound._node.gain.linearRampToValueAtTime(to, end);\n          }\n\n          var vol = from;\n          sound._interval = setInterval(function(soundId, sound) {\n            // Update the volume amount, but only if the volume should change.\n            if (steps > 0) {\n              vol += (dir === 'in' ? 0.01 : -0.01);\n            }\n\n            // Make sure the volume is in the right bounds.\n            vol = Math.max(0, vol);\n            vol = Math.min(1, vol);\n\n            // Round to within 2 decimal points.\n            vol = Math.round(vol * 100) / 100;\n\n            // Change the volume.\n            if (self._webAudio) {\n              if (typeof id === 'undefined') {\n                self._volume = vol;\n              }\n\n              sound._volume = vol;\n            } else {\n              self.volume(vol, soundId, true);\n            }\n\n            // When the fade is complete, stop it and fire event.\n            if ((to < from && vol <= to) || (to > from && vol >= to)) {\n              clearInterval(sound._interval);\n              sound._interval = null;\n              self.volume(to, soundId);\n              self._emit('fade', soundId);\n            }\n          }.bind(self, ids[i], sound), stepLen);\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Internal method that stops the currently playing fade when\n     * a new fade starts, volume is changed or the sound is stopped.\n     * @param  {Number} id The sound id.\n     * @return {Howl}\n     */\n    _stopFade: function(id) {\n      var self = this;\n      var sound = self._soundById(id);\n\n      if (sound && sound._interval) {\n        if (self._webAudio) {\n          sound._node.gain.cancelScheduledValues(Howler.ctx.currentTime);\n        }\n\n        clearInterval(sound._interval);\n        sound._interval = null;\n        self._emit('fade', id);\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the loop parameter on a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   loop() -> Returns the group's loop value.\n     *   loop(id) -> Returns the sound id's loop value.\n     *   loop(loop) -> Sets the loop value for all sounds in this Howl group.\n     *   loop(loop, id) -> Sets the loop value of passed sound id.\n     * @return {Howl/Boolean} Returns self or current loop value.\n     */\n    loop: function() {\n      var self = this;\n      var args = arguments;\n      var loop, id, sound;\n\n      // Determine the values for loop and id.\n      if (args.length === 0) {\n        // Return the grou's loop value.\n        return self._loop;\n      } else if (args.length === 1) {\n        if (typeof args[0] === 'boolean') {\n          loop = args[0];\n          self._loop = loop;\n        } else {\n          // Return this sound's loop value.\n          sound = self._soundById(parseInt(args[0], 10));\n          return sound ? sound._loop : false;\n        }\n      } else if (args.length === 2) {\n        loop = args[0];\n        id = parseInt(args[1], 10);\n      }\n\n      // If no id is passed, get all ID's to be looped.\n      var ids = self._getSoundIds(id);\n      for (var i=0; i<ids.length; i++) {\n        sound = self._soundById(ids[i]);\n\n        if (sound) {\n          sound._loop = loop;\n          if (self._webAudio && sound._node && sound._node.bufferSource) {\n            sound._node.bufferSource.loop = loop;\n            if (loop) {\n              sound._node.bufferSource.loopStart = sound._start || 0;\n              sound._node.bufferSource.loopEnd = sound._stop;\n            }\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the playback rate of a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   rate() -> Returns the first sound node's current playback rate.\n     *   rate(id) -> Returns the sound id's current playback rate.\n     *   rate(rate) -> Sets the playback rate of all sounds in this Howl group.\n     *   rate(rate, id) -> Sets the playback rate of passed sound id.\n     * @return {Howl/Number} Returns self or the current playback rate.\n     */\n    rate: function() {\n      var self = this;\n      var args = arguments;\n      var rate, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // We will simply return the current rate of the first node.\n        id = self._sounds[0]._id;\n      } else if (args.length === 1) {\n        // First check if this is an ID, and if not, assume it is a new rate value.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else {\n          rate = parseFloat(args[0]);\n        }\n      } else if (args.length === 2) {\n        rate = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // Update the playback rate or return the current value.\n      var sound;\n      if (typeof rate === 'number') {\n        // If the sound hasn't loaded, add it to the load queue to change playback rate when capable.\n        if (self._state !== 'loaded') {\n          self._queue.push({\n            event: 'rate',\n            action: function() {\n              self.rate.apply(self, args);\n            }\n          });\n\n          return self;\n        }\n\n        // Set the group rate.\n        if (typeof id === 'undefined') {\n          self._rate = rate;\n        }\n\n        // Update one or all volumes.\n        id = self._getSoundIds(id);\n        for (var i=0; i<id.length; i++) {\n          // Get the sound.\n          sound = self._soundById(id[i]);\n\n          if (sound) {\n            // Keep track of our position when the rate changed and update the playback\n            // start position so we can properly adjust the seek position for time elapsed.\n            sound._rateSeek = self.seek(id[i]);\n            sound._playStart = self._webAudio ? Howler.ctx.currentTime : sound._playStart;\n            sound._rate = rate;\n\n            // Change the playback rate.\n            if (self._webAudio && sound._node && sound._node.bufferSource) {\n              sound._node.bufferSource.playbackRate.value = rate;\n            } else if (sound._node) {\n              sound._node.playbackRate = rate;\n            }\n\n            // Reset the timers.\n            var seek = self.seek(id[i]);\n            var duration = ((self._sprite[sound._sprite][0] + self._sprite[sound._sprite][1]) / 1000) - seek;\n            var timeout = (duration * 1000) / Math.abs(sound._rate);\n\n            // Start a new end timer if sound is already playing.\n            if (self._endTimers[id[i]] || !sound._paused) {\n              self._clearTimer(id[i]);\n              self._endTimers[id[i]] = setTimeout(self._ended.bind(self, sound), timeout);\n            }\n\n            self._emit('rate', sound._id);\n          }\n        }\n      } else {\n        sound = self._soundById(id);\n        return sound ? sound._rate : self._rate;\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the seek position of a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   seek() -> Returns the first sound node's current seek position.\n     *   seek(id) -> Returns the sound id's current seek position.\n     *   seek(seek) -> Sets the seek position of the first sound node.\n     *   seek(seek, id) -> Sets the seek position of passed sound id.\n     * @return {Howl/Number} Returns self or the current seek position.\n     */\n    seek: function() {\n      var self = this;\n      var args = arguments;\n      var seek, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // We will simply return the current position of the first node.\n        id = self._sounds[0]._id;\n      } else if (args.length === 1) {\n        // First check if this is an ID, and if not, assume it is a new seek position.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else {\n          id = self._sounds[0]._id;\n          seek = parseFloat(args[0]);\n        }\n      } else if (args.length === 2) {\n        seek = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // If there is no ID, bail out.\n      if (typeof id === 'undefined') {\n        return self;\n      }\n\n      // If the sound hasn't loaded, add it to the load queue to seek when capable.\n      if (self._state !== 'loaded') {\n        self._queue.push({\n          event: 'seek',\n          action: function() {\n            self.seek.apply(self, args);\n          }\n        });\n\n        return self;\n      }\n\n      // Get the sound.\n      var sound = self._soundById(id);\n\n      if (sound) {\n        if (typeof seek === 'number' && seek >= 0) {\n          // Pause the sound and update position for restarting playback.\n          var playing = self.playing(id);\n          if (playing) {\n            self.pause(id, true);\n          }\n\n          // Move the position of the track and cancel timer.\n          sound._seek = seek;\n          sound._ended = false;\n          self._clearTimer(id);\n\n          // Restart the playback if the sound was playing.\n          if (playing) {\n            self.play(id, true);\n          }\n\n          // Update the seek position for HTML5 Audio.\n          if (!self._webAudio && sound._node) {\n            sound._node.currentTime = seek;\n          }\n\n          self._emit('seek', id);\n        } else {\n          if (self._webAudio) {\n            var realTime = self.playing(id) ? Howler.ctx.currentTime - sound._playStart : 0;\n            var rateSeek = sound._rateSeek ? sound._rateSeek - sound._seek : 0;\n            return sound._seek + (rateSeek + realTime * Math.abs(sound._rate));\n          } else {\n            return sound._node.currentTime;\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Check if a specific sound is currently playing or not (if id is provided), or check if at least one of the sounds in the group is playing or not.\n     * @param  {Number}  id The sound id to check. If none is passed, the whole sound group is checked.\n     * @return {Boolean} True if playing and false if not.\n     */\n    playing: function(id) {\n      var self = this;\n\n      // Check the passed sound ID (if any).\n      if (typeof id === 'number') {\n        var sound = self._soundById(id);\n        return sound ? !sound._paused : false;\n      }\n\n      // Otherwise, loop through all sounds and check if any are playing.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (!self._sounds[i]._paused) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    /**\n     * Get the duration of this sound. Passing a sound id will return the sprite duration.\n     * @param  {Number} id The sound id to check. If none is passed, return full source duration.\n     * @return {Number} Audio duration in seconds.\n     */\n    duration: function(id) {\n      var self = this;\n      var duration = self._duration;\n\n      // If we pass an ID, get the sound and return the sprite length.\n      var sound = self._soundById(id);\n      if (sound) {\n        duration = self._sprite[sound._sprite][1] / 1000;\n      }\n\n      return duration;\n    },\n\n    /**\n     * Returns the current loaded state of this Howl.\n     * @return {String} 'unloaded', 'loading', 'loaded'\n     */\n    state: function() {\n      return this._state;\n    },\n\n    /**\n     * Unload and destroy the current Howl object.\n     * This will immediately stop all sound instances attached to this group.\n     */\n    unload: function() {\n      var self = this;\n\n      // Stop playing any active sounds.\n      var sounds = self._sounds;\n      for (var i=0; i<sounds.length; i++) {\n        // Stop the sound if it is currently playing.\n        if (!sounds[i]._paused) {\n          self.stop(sounds[i]._id);\n        }\n\n        // Remove the source or disconnect.\n        if (!self._webAudio) {\n          // Set the source to 0-second silence to stop any downloading.\n          sounds[i]._node.src = 'data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA';\n\n          // Remove any event listeners.\n          sounds[i]._node.removeEventListener('error', sounds[i]._errorFn, false);\n          sounds[i]._node.removeEventListener(Howler._canPlayEvent, sounds[i]._loadFn, false);\n        }\n\n        // Empty out all of the nodes.\n        delete sounds[i]._node;\n\n        // Make sure all timers are cleared out.\n        self._clearTimer(sounds[i]._id);\n\n        // Remove the references in the global Howler object.\n        var index = Howler._howls.indexOf(self);\n        if (index >= 0) {\n          Howler._howls.splice(index, 1);\n        }\n      }\n\n      // Delete this sound from the cache (if no other Howl is using it).\n      var remCache = true;\n      for (i=0; i<Howler._howls.length; i++) {\n        if (Howler._howls[i]._src === self._src) {\n          remCache = false;\n          break;\n        }\n      }\n\n      if (cache && remCache) {\n        delete cache[self._src];\n      }\n\n      // Clear global errors.\n      Howler.noAudio = false;\n\n      // Clear out `self`.\n      self._state = 'unloaded';\n      self._sounds = [];\n      self = null;\n\n      return null;\n    },\n\n    /**\n     * Listen to a custom event.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to call.\n     * @param  {Number}   id    (optional) Only listen to events for this sound.\n     * @param  {Number}   once  (INTERNAL) Marks event to fire only once.\n     * @return {Howl}\n     */\n    on: function(event, fn, id, once) {\n      var self = this;\n      var events = self['_on' + event];\n\n      if (typeof fn === 'function') {\n        events.push(once ? {id: id, fn: fn, once: once} : {id: id, fn: fn});\n      }\n\n      return self;\n    },\n\n    /**\n     * Remove a custom event. Call without parameters to remove all events.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to remove. Leave empty to remove all.\n     * @param  {Number}   id    (optional) Only remove events for this sound.\n     * @return {Howl}\n     */\n    off: function(event, fn, id) {\n      var self = this;\n      var events = self['_on' + event];\n      var i = 0;\n\n      if (fn) {\n        // Loop through event store and remove the passed function.\n        for (i=0; i<events.length; i++) {\n          if (fn === events[i].fn && id === events[i].id) {\n            events.splice(i, 1);\n            break;\n          }\n        }\n      } else if (event) {\n        // Clear out all events of this type.\n        self['_on' + event] = [];\n      } else {\n        // Clear out all events of every type.\n        var keys = Object.keys(self);\n        for (i=0; i<keys.length; i++) {\n          if ((keys[i].indexOf('_on') === 0) && Array.isArray(self[keys[i]])) {\n            self[keys[i]] = [];\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Listen to a custom event and remove it once fired.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to call.\n     * @param  {Number}   id    (optional) Only listen to events for this sound.\n     * @return {Howl}\n     */\n    once: function(event, fn, id) {\n      var self = this;\n\n      // Setup the event listener.\n      self.on(event, fn, id, 1);\n\n      return self;\n    },\n\n    /**\n     * Emit all events of a specific type and pass the sound id.\n     * @param  {String} event Event name.\n     * @param  {Number} id    Sound ID.\n     * @param  {Number} msg   Message to go with event.\n     * @return {Howl}\n     */\n    _emit: function(event, id, msg) {\n      var self = this;\n      var events = self['_on' + event];\n\n      // Loop through event store and fire all functions.\n      for (var i=events.length-1; i>=0; i--) {\n        if (!events[i].id || events[i].id === id || event === 'load') {\n          setTimeout(function(fn) {\n            fn.call(this, id, msg);\n          }.bind(self, events[i].fn), 0);\n\n          // If this event was setup with `once`, remove it.\n          if (events[i].once) {\n            self.off(event, events[i].fn, events[i].id);\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Queue of actions initiated before the sound has loaded.\n     * These will be called in sequence, with the next only firing\n     * after the previous has finished executing (even if async like play).\n     * @return {Howl}\n     */\n    _loadQueue: function() {\n      var self = this;\n\n      if (self._queue.length > 0) {\n        var task = self._queue[0];\n\n        // don't move onto the next task until this one is done\n        self.once(task.event, function() {\n          self._queue.shift();\n          self._loadQueue();\n        });\n\n        task.action();\n      }\n\n      return self;\n    },\n\n    /**\n     * Fired when playback ends at the end of the duration.\n     * @param  {Sound} sound The sound object to work with.\n     * @return {Howl}\n     */\n    _ended: function(sound) {\n      var self = this;\n      var sprite = sound._sprite;\n\n      // Should this sound loop?\n      var loop = !!(sound._loop || self._sprite[sprite][2]);\n\n      // Fire the ended event.\n      self._emit('end', sound._id);\n\n      // Restart the playback for HTML5 Audio loop.\n      if (!self._webAudio && loop) {\n        self.stop(sound._id, true).play(sound._id);\n      }\n\n      // Restart this timer if on a Web Audio loop.\n      if (self._webAudio && loop) {\n        self._emit('play', sound._id);\n        sound._seek = sound._start || 0;\n        sound._rateSeek = 0;\n        sound._playStart = Howler.ctx.currentTime;\n\n        var timeout = ((sound._stop - sound._start) * 1000) / Math.abs(sound._rate);\n        self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n      }\n\n      // Mark the node as paused.\n      if (self._webAudio && !loop) {\n        sound._paused = true;\n        sound._ended = true;\n        sound._seek = sound._start || 0;\n        sound._rateSeek = 0;\n        self._clearTimer(sound._id);\n\n        // Clean up the buffer source.\n        self._cleanBuffer(sound._node);\n\n        // Attempt to auto-suspend AudioContext if no sounds are still playing.\n        Howler._autoSuspend();\n      }\n\n      // When using a sprite, end the track.\n      if (!self._webAudio && !loop) {\n        self.stop(sound._id);\n      }\n\n      return self;\n    },\n\n    /**\n     * Clear the end timer for a sound playback.\n     * @param  {Number} id The sound ID.\n     * @return {Howl}\n     */\n    _clearTimer: function(id) {\n      var self = this;\n\n      if (self._endTimers[id]) {\n        clearTimeout(self._endTimers[id]);\n        delete self._endTimers[id];\n      }\n\n      return self;\n    },\n\n    /**\n     * Return the sound identified by this ID, or return null.\n     * @param  {Number} id Sound ID\n     * @return {Object}    Sound object or null.\n     */\n    _soundById: function(id) {\n      var self = this;\n\n      // Loop through all sounds and find the one with this ID.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (id === self._sounds[i]._id) {\n          return self._sounds[i];\n        }\n      }\n\n      return null;\n    },\n\n    /**\n     * Return an inactive sound from the pool or create a new one.\n     * @return {Sound} Sound playback object.\n     */\n    _inactiveSound: function() {\n      var self = this;\n\n      self._drain();\n\n      // Find the first inactive node to recycle.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (self._sounds[i]._ended) {\n          return self._sounds[i].reset();\n        }\n      }\n\n      // If no inactive node was found, create a new one.\n      return new Sound(self);\n    },\n\n    /**\n     * Drain excess inactive sounds from the pool.\n     */\n    _drain: function() {\n      var self = this;\n      var limit = self._pool;\n      var cnt = 0;\n      var i = 0;\n\n      // If there are less sounds than the max pool size, we are done.\n      if (self._sounds.length < limit) {\n        return;\n      }\n\n      // Count the number of inactive sounds.\n      for (i=0; i<self._sounds.length; i++) {\n        if (self._sounds[i]._ended) {\n          cnt++;\n        }\n      }\n\n      // Remove excess inactive sounds, going in reverse order.\n      for (i=self._sounds.length - 1; i>=0; i--) {\n        if (cnt <= limit) {\n          return;\n        }\n\n        if (self._sounds[i]._ended) {\n          // Disconnect the audio source when using Web Audio.\n          if (self._webAudio && self._sounds[i]._node) {\n            self._sounds[i]._node.disconnect(0);\n          }\n\n          // Remove sounds until we have the pool size.\n          self._sounds.splice(i, 1);\n          cnt--;\n        }\n      }\n    },\n\n    /**\n     * Get all ID's from the sounds pool.\n     * @param  {Number} id Only return one ID if one is passed.\n     * @return {Array}    Array of IDs.\n     */\n    _getSoundIds: function(id) {\n      var self = this;\n\n      if (typeof id === 'undefined') {\n        var ids = [];\n        for (var i=0; i<self._sounds.length; i++) {\n          ids.push(self._sounds[i]._id);\n        }\n\n        return ids;\n      } else {\n        return [id];\n      }\n    },\n\n    /**\n     * Load the sound back into the buffer source.\n     * @param  {Sound} sound The sound object to work with.\n     * @return {Howl}\n     */\n    _refreshBuffer: function(sound) {\n      var self = this;\n\n      // Setup the buffer source for playback.\n      sound._node.bufferSource = Howler.ctx.createBufferSource();\n      sound._node.bufferSource.buffer = cache[self._src];\n\n      // Connect to the correct node.\n      if (sound._panner) {\n        sound._node.bufferSource.connect(sound._panner);\n      } else {\n        sound._node.bufferSource.connect(sound._node);\n      }\n\n      // Setup looping and playback rate.\n      sound._node.bufferSource.loop = sound._loop;\n      if (sound._loop) {\n        sound._node.bufferSource.loopStart = sound._start || 0;\n        sound._node.bufferSource.loopEnd = sound._stop;\n      }\n      sound._node.bufferSource.playbackRate.value = sound._rate;\n\n      return self;\n    },\n\n    /**\n     * Prevent memory leaks by cleaning up the buffer source after playback.\n     * @param  {Object} node Sound's audio node containing the buffer source.\n     * @return {Howl}\n     */\n    _cleanBuffer: function(node) {\n      var self = this;\n\n      if (self._scratchBuffer) {\n        node.bufferSource.onended = null;\n        node.bufferSource.disconnect(0);\n        try { node.bufferSource.buffer = self._scratchBuffer; } catch(e) {}\n      }\n      node.bufferSource = null;\n\n      return self;\n    }\n  };\n\n  /** Single Sound Methods **/\n  /***************************************************************************/\n\n  /**\n   * Setup the sound object, which each node attached to a Howl group is contained in.\n   * @param {Object} howl The Howl parent group.\n   */\n  var Sound = function(howl) {\n    this._parent = howl;\n    this.init();\n  };\n  Sound.prototype = {\n    /**\n     * Initialize a new Sound object.\n     * @return {Sound}\n     */\n    init: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Setup the default parameters.\n      self._muted = parent._muted;\n      self._loop = parent._loop;\n      self._volume = parent._volume;\n      self._muted = parent._muted;\n      self._rate = parent._rate;\n      self._seek = 0;\n      self._paused = true;\n      self._ended = true;\n      self._sprite = '__default';\n\n      // Generate a unique ID for this sound.\n      self._id = ++Howler._counter;\n\n      // Add itself to the parent's pool.\n      parent._sounds.push(self);\n\n      // Create the new node.\n      self.create();\n\n      return self;\n    },\n\n    /**\n     * Create and setup a new sound object, whether HTML5 Audio or Web Audio.\n     * @return {Sound}\n     */\n    create: function() {\n      var self = this;\n      var parent = self._parent;\n      var volume = (Howler._muted || self._muted || self._parent._muted) ? 0 : self._volume;\n\n      if (parent._webAudio) {\n        // Create the gain node for controlling volume (the source will connect to this).\n        self._node = (typeof Howler.ctx.createGain === 'undefined') ? Howler.ctx.createGainNode() : Howler.ctx.createGain();\n        self._node.gain.setValueAtTime(volume, Howler.ctx.currentTime);\n        self._node.paused = true;\n        self._node.connect(Howler.masterGain);\n      } else {\n        self._node = new Audio();\n\n        // Listen for errors (http://dev.w3.org/html5/spec-author-view/spec.html#mediaerror).\n        self._errorFn = self._errorListener.bind(self);\n        self._node.addEventListener('error', self._errorFn, false);\n\n        // Listen for 'canplaythrough' event to let us know the sound is ready.\n        self._loadFn = self._loadListener.bind(self);\n        self._node.addEventListener(Howler._canPlayEvent, self._loadFn, false);\n\n        // Setup the new audio node.\n        self._node.src = parent._src;\n        self._node.preload = 'auto';\n        self._node.volume = volume * Howler.volume();\n\n        // Begin loading the source.\n        self._node.load();\n      }\n\n      return self;\n    },\n\n    /**\n     * Reset the parameters of this sound to the original state (for recycle).\n     * @return {Sound}\n     */\n    reset: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Reset all of the parameters of this sound.\n      self._muted = parent._muted;\n      self._loop = parent._loop;\n      self._volume = parent._volume;\n      self._muted = parent._muted;\n      self._rate = parent._rate;\n      self._seek = 0;\n      self._rateSeek = 0;\n      self._paused = true;\n      self._ended = true;\n      self._sprite = '__default';\n\n      // Generate a new ID so that it isn't confused with the previous sound.\n      self._id = ++Howler._counter;\n\n      return self;\n    },\n\n    /**\n     * HTML5 Audio error listener callback.\n     */\n    _errorListener: function() {\n      var self = this;\n\n      // Fire an error event and pass back the code.\n      self._parent._emit('loaderror', self._id, self._node.error ? self._node.error.code : 0);\n\n      // Clear the event listener.\n      self._node.removeEventListener('error', self._errorListener, false);\n    },\n\n    /**\n     * HTML5 Audio canplaythrough listener callback.\n     */\n    _loadListener: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Round up the duration to account for the lower precision in HTML5 Audio.\n      parent._duration = Math.ceil(self._node.duration * 10) / 10;\n\n      // Setup a sprite if none is defined.\n      if (Object.keys(parent._sprite).length === 0) {\n        parent._sprite = {__default: [0, parent._duration * 1000]};\n      }\n\n      if (parent._state !== 'loaded') {\n        parent._state = 'loaded';\n        parent._emit('load');\n        parent._loadQueue();\n      }\n\n      // Clear the event listener.\n      self._node.removeEventListener(Howler._canPlayEvent, self._loadFn, false);\n    }\n  };\n\n  /** Helper Methods **/\n  /***************************************************************************/\n\n  var cache = {};\n\n  /**\n   * Buffer a sound from URL, Data URI or cache and decode to audio source (Web Audio API).\n   * @param  {Howl} self\n   */\n  var loadBuffer = function(self) {\n    var url = self._src;\n\n    // Check if the buffer has already been cached and use it instead.\n    if (cache[url]) {\n      // Set the duration from the cache.\n      self._duration = cache[url].duration;\n\n      // Load the sound into this Howl.\n      loadSound(self);\n\n      return;\n    }\n\n    if (/^data:[^;]+;base64,/.test(url)) {\n      // Decode the base64 data URI without XHR, since some browsers don't support it.\n      var data = atob(url.split(',')[1]);\n      var dataView = new Uint8Array(data.length);\n      for (var i=0; i<data.length; ++i) {\n        dataView[i] = data.charCodeAt(i);\n      }\n\n      decodeAudioData(dataView.buffer, self);\n    } else {\n      // Load the buffer from the URL.\n      var xhr = new XMLHttpRequest();\n      xhr.open('GET', url, true);\n      xhr.responseType = 'arraybuffer';\n      xhr.onload = function() {\n        // Make sure we get a successful response back.\n        var code = (xhr.status + '')[0];\n        if (code !== '0' && code !== '2' && code !== '3') {\n          self._emit('loaderror', null, 'Failed loading audio file with status: ' + xhr.status + '.');\n          return;\n        }\n\n        decodeAudioData(xhr.response, self);\n      };\n      xhr.onerror = function() {\n        // If there is an error, switch to HTML5 Audio.\n        if (self._webAudio) {\n          self._html5 = true;\n          self._webAudio = false;\n          self._sounds = [];\n          delete cache[url];\n          self.load();\n        }\n      };\n      safeXhrSend(xhr);\n    }\n  };\n\n  /**\n   * Send the XHR request wrapped in a try/catch.\n   * @param  {Object} xhr XHR to send.\n   */\n  var safeXhrSend = function(xhr) {\n    try {\n      xhr.send();\n    } catch (e) {\n      xhr.onerror();\n    }\n  };\n\n  /**\n   * Decode audio data from an array buffer.\n   * @param  {ArrayBuffer} arraybuffer The audio data.\n   * @param  {Howl}        self\n   */\n  var decodeAudioData = function(arraybuffer, self) {\n    // Decode the buffer into an audio source.\n    Howler.ctx.decodeAudioData(arraybuffer, function(buffer) {\n      if (buffer && self._sounds.length > 0) {\n        cache[self._src] = buffer;\n        loadSound(self, buffer);\n      }\n    }, function() {\n      self._emit('loaderror', null, 'Decoding audio data failed.');\n    });\n  };\n\n  /**\n   * Sound is now loaded, so finish setting everything up and fire the loaded event.\n   * @param  {Howl} self\n   * @param  {Object} buffer The decoded buffer sound source.\n   */\n  var loadSound = function(self, buffer) {\n    // Set the duration.\n    if (buffer && !self._duration) {\n      self._duration = buffer.duration;\n    }\n\n    // Setup a sprite if none is defined.\n    if (Object.keys(self._sprite).length === 0) {\n      self._sprite = {__default: [0, self._duration * 1000]};\n    }\n\n    // Fire the loaded event.\n    if (self._state !== 'loaded') {\n      self._state = 'loaded';\n      self._emit('load');\n      self._loadQueue();\n    }\n  };\n\n  /**\n   * Setup the audio context when available, or switch to HTML5 Audio mode.\n   */\n  var setupAudioContext = function() {\n    // Check if we are using Web Audio and setup the AudioContext if we are.\n    try {\n      if (typeof AudioContext !== 'undefined') {\n        Howler.ctx = new AudioContext();\n      } else if (typeof webkitAudioContext !== 'undefined') {\n        Howler.ctx = new webkitAudioContext();\n      } else {\n        Howler.usingWebAudio = false;\n      }\n    } catch(e) {\n      Howler.usingWebAudio = false;\n    }\n\n    // Check if a webview is being used on iOS8 or earlier (rather than the browser).\n    // If it is, disable Web Audio as it causes crashing.\n    var iOS = (/iP(hone|od|ad)/.test(Howler._navigator && Howler._navigator.platform));\n    var appVersion = Howler._navigator && Howler._navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/);\n    var version = appVersion ? parseInt(appVersion[1], 10) : null;\n    if (iOS && version && version < 9) {\n      var safari = /safari/.test(Howler._navigator && Howler._navigator.userAgent.toLowerCase());\n      if (Howler._navigator && Howler._navigator.standalone && !safari || Howler._navigator && !Howler._navigator.standalone && !safari) {\n        Howler.usingWebAudio = false;\n      }\n    }\n\n    // Create and expose the master GainNode when using Web Audio (useful for plugins or advanced usage).\n    if (Howler.usingWebAudio) {\n      Howler.masterGain = (typeof Howler.ctx.createGain === 'undefined') ? Howler.ctx.createGainNode() : Howler.ctx.createGain();\n      Howler.masterGain.gain.value = 1;\n      Howler.masterGain.connect(Howler.ctx.destination);\n    }\n\n    // Re-run the setup on Howler.\n    Howler._setup();\n  };\n\n  // Add support for AMD (Asynchronous Module Definition) libraries such as require.js.\n  if (typeof define === 'function' && define.amd) {\n    define([], function() {\n      return {\n        Howler: Howler,\n        Howl: Howl\n      };\n    });\n  }\n\n  // Add support for CommonJS libraries such as browserify.\n  if (typeof exports !== 'undefined') {\n    exports.Howler = Howler;\n    exports.Howl = Howl;\n  }\n\n  // Define globally in case AMD is not available or unused.\n  if (typeof window !== 'undefined') {\n    window.HowlerGlobal = HowlerGlobal;\n    window.Howler = Howler;\n    window.Howl = Howl;\n    window.Sound = Sound;\n  } else if (typeof global !== 'undefined') { // Add to global in Node.js (for testing, etc).\n    global.HowlerGlobal = HowlerGlobal;\n    global.Howler = Howler;\n    global.Howl = Howl;\n    global.Sound = Sound;\n  }\n})();\n\n\n/*!\n *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.\n *  \n *  howler.js v2.0.3\n *  howlerjs.com\n *\n *  (c) 2013-2017, James Simpson of GoldFire Studios\n *  goldfirestudios.com\n *\n *  MIT License\n */\n\n(function() {\n\n  'use strict';\n\n  // Setup default properties.\n  HowlerGlobal.prototype._pos = [0, 0, 0];\n  HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0];\n  \n  /** Global Methods **/\n  /***************************************************************************/\n\n  /**\n   * Helper method to update the stereo panning position of all current Howls.\n   * Future Howls will not use this value unless explicitly set.\n   * @param  {Number} pan A value of -1.0 is all the way left and 1.0 is all the way right.\n   * @return {Howler/Number}     Self or current stereo panning value.\n   */\n  HowlerGlobal.prototype.stereo = function(pan) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Loop through all Howls and update their stereo panning.\n    for (var i=self._howls.length-1; i>=0; i--) {\n      self._howls[i].stereo(pan);\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the position of the listener in 3D cartesian space. Sounds using\n   * 3D position will be relative to the listener's position.\n   * @param  {Number} x The x-position of the listener.\n   * @param  {Number} y The y-position of the listener.\n   * @param  {Number} z The z-position of the listener.\n   * @return {Howler/Array}   Self or current listener position.\n   */\n  HowlerGlobal.prototype.pos = function(x, y, z) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? self._pos[1] : y;\n    z = (typeof z !== 'number') ? self._pos[2] : z;\n\n    if (typeof x === 'number') {\n      self._pos = [x, y, z];\n      self.ctx.listener.setPosition(self._pos[0], self._pos[1], self._pos[2]);\n    } else {\n      return self._pos;\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the direction the listener is pointing in the 3D cartesian space.\n   * A front and up vector must be provided. The front is the direction the\n   * face of the listener is pointing, and up is the direction the top of the\n   * listener is pointing. Thus, these values are expected to be at right angles\n   * from each other.\n   * @param  {Number} x   The x-orientation of the listener.\n   * @param  {Number} y   The y-orientation of the listener.\n   * @param  {Number} z   The z-orientation of the listener.\n   * @param  {Number} xUp The x-orientation of the top of the listener.\n   * @param  {Number} yUp The y-orientation of the top of the listener.\n   * @param  {Number} zUp The z-orientation of the top of the listener.\n   * @return {Howler/Array}     Returns self or the current orientation vectors.\n   */\n  HowlerGlobal.prototype.orientation = function(x, y, z, xUp, yUp, zUp) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    var or = self._orientation;\n    y = (typeof y !== 'number') ? or[1] : y;\n    z = (typeof z !== 'number') ? or[2] : z;\n    xUp = (typeof xUp !== 'number') ? or[3] : xUp;\n    yUp = (typeof yUp !== 'number') ? or[4] : yUp;\n    zUp = (typeof zUp !== 'number') ? or[5] : zUp;\n\n    if (typeof x === 'number') {\n      self._orientation = [x, y, z, xUp, yUp, zUp];\n      self.ctx.listener.setOrientation(x, y, z, xUp, yUp, zUp);\n    } else {\n      return or;\n    }\n\n    return self;\n  };\n\n  /** Group Methods **/\n  /***************************************************************************/\n\n  /**\n   * Add new properties to the core init.\n   * @param  {Function} _super Core init method.\n   * @return {Howl}\n   */\n  Howl.prototype.init = (function(_super) {\n    return function(o) {\n      var self = this;\n\n      // Setup user-defined default properties.\n      self._orientation = o.orientation || [1, 0, 0];\n      self._stereo = o.stereo || null;\n      self._pos = o.pos || null;\n      self._pannerAttr = {\n        coneInnerAngle: typeof o.coneInnerAngle !== 'undefined' ? o.coneInnerAngle : 360,\n        coneOuterAngle: typeof o.coneOuterAngle !== 'undefined' ? o.coneOuterAngle : 360,\n        coneOuterGain: typeof o.coneOuterGain !== 'undefined' ? o.coneOuterGain : 0,\n        distanceModel: typeof o.distanceModel !== 'undefined' ? o.distanceModel : 'inverse',\n        maxDistance: typeof o.maxDistance !== 'undefined' ? o.maxDistance : 10000,\n        panningModel: typeof o.panningModel !== 'undefined' ? o.panningModel : 'HRTF',\n        refDistance: typeof o.refDistance !== 'undefined' ? o.refDistance : 1,\n        rolloffFactor: typeof o.rolloffFactor !== 'undefined' ? o.rolloffFactor : 1\n      };\n\n      // Setup event listeners.\n      self._onstereo = o.onstereo ? [{fn: o.onstereo}] : [];\n      self._onpos = o.onpos ? [{fn: o.onpos}] : [];\n      self._onorientation = o.onorientation ? [{fn: o.onorientation}] : [];\n\n      // Complete initilization with howler.js core's init function.\n      return _super.call(this, o);\n    };\n  })(Howl.prototype.init);\n\n  /**\n   * Get/set the stereo panning of the audio source for this sound or all in the group.\n   * @param  {Number} pan  A value of -1.0 is all the way left and 1.0 is all the way right.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Number}    Returns self or the current stereo panning value.\n   */\n  Howl.prototype.stereo = function(pan, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change stereo pan when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'stereo',\n        action: function() {\n          self.stereo(pan, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Check for PannerStereoNode support and fallback to PannerNode if it doesn't exist.\n    var pannerType = (typeof Howler.ctx.createStereoPanner === 'undefined') ? 'spatial' : 'stereo';\n\n    // Setup the group's stereo panning if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's stereo panning if no parameters are passed.\n      if (typeof pan === 'number') {\n        self._stereo = pan;\n        self._pos = [pan, 0, 0];\n      } else {\n        return self._stereo;\n      }\n    }\n\n    // Change the streo panning of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof pan === 'number') {\n          sound._stereo = pan;\n          sound._pos = [pan, 0, 0];\n\n          if (sound._node) {\n            // If we are falling back, make sure the panningModel is equalpower.\n            sound._pannerAttr.panningModel = 'equalpower';\n\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner || !sound._panner.pan) {\n              setupPanner(sound, pannerType);\n            }\n\n            if (pannerType === 'spatial') {\n              sound._panner.setPosition(pan, 0, 0);\n            } else {\n              sound._panner.pan.value = pan;\n            }\n          }\n\n          self._emit('stereo', sound._id);\n        } else {\n          return sound._stereo;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the 3D spatial position of the audio source for this sound or\n   * all in the group. The most common usage is to set the 'x' position for\n   * left/right panning. Setting any value higher than 1.0 will begin to\n   * decrease the volume of the sound as it moves further away.\n   * @param  {Number} x  The x-position of the audio from -1000.0 to 1000.0.\n   * @param  {Number} y  The y-position of the audio from -1000.0 to 1000.0.\n   * @param  {Number} z  The z-position of the audio from -1000.0 to 1000.0.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Array}    Returns self or the current 3D spatial position: [x, y, z].\n   */\n  Howl.prototype.pos = function(x, y, z, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change position when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'pos',\n        action: function() {\n          self.pos(x, y, z, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? 0 : y;\n    z = (typeof z !== 'number') ? -0.5 : z;\n\n    // Setup the group's spatial position if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's spatial position if no parameters are passed.\n      if (typeof x === 'number') {\n        self._pos = [x, y, z];\n      } else {\n        return self._pos;\n      }\n    }\n\n    // Change the spatial position of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof x === 'number') {\n          sound._pos = [x, y, z];\n\n          if (sound._node) {\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner || sound._panner.pan) {\n              setupPanner(sound, 'spatial');\n            }\n\n            sound._panner.setPosition(x, y, z);\n          }\n\n          self._emit('pos', sound._id);\n        } else {\n          return sound._pos;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the direction the audio source is pointing in the 3D cartesian coordinate\n   * space. Depending on how direction the sound is, based on the `cone` attributes,\n   * a sound pointing away from the listener can be quiet or silent.\n   * @param  {Number} x  The x-orientation of the source.\n   * @param  {Number} y  The y-orientation of the source.\n   * @param  {Number} z  The z-orientation of the source.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Array}    Returns self or the current 3D spatial orientation: [x, y, z].\n   */\n  Howl.prototype.orientation = function(x, y, z, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change orientation when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'orientation',\n        action: function() {\n          self.orientation(x, y, z, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? self._orientation[1] : y;\n    z = (typeof z !== 'number') ? self._orientation[2] : z;\n\n    // Setup the group's spatial orientation if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's spatial orientation if no parameters are passed.\n      if (typeof x === 'number') {\n        self._orientation = [x, y, z];\n      } else {\n        return self._orientation;\n      }\n    }\n\n    // Change the spatial orientation of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof x === 'number') {\n          sound._orientation = [x, y, z];\n\n          if (sound._node) {\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner) {\n              // Make sure we have a position to setup the node with.\n              if (!sound._pos) {\n                sound._pos = self._pos || [0, 0, -0.5];\n              }\n\n              setupPanner(sound, 'spatial');\n            }\n\n            sound._panner.setOrientation(x, y, z);\n          }\n\n          self._emit('orientation', sound._id);\n        } else {\n          return sound._orientation;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the panner node's attributes for a sound or group of sounds.\n   * This method can optionall take 0, 1 or 2 arguments.\n   *   pannerAttr() -> Returns the group's values.\n   *   pannerAttr(id) -> Returns the sound id's values.\n   *   pannerAttr(o) -> Set's the values of all sounds in this Howl group.\n   *   pannerAttr(o, id) -> Set's the values of passed sound id.\n   *\n   *   Attributes:\n   *     coneInnerAngle - (360 by default) There will be no volume reduction inside this angle.\n   *     coneOuterAngle - (360 by default) The volume will be reduced to a constant value of\n   *                      `coneOuterGain` outside this angle.\n   *     coneOuterGain - (0 by default) The amount of volume reduction outside of `coneOuterAngle`.\n   *     distanceModel - ('inverse' by default) Determines algorithm to use to reduce volume as audio moves\n   *                      away from listener. Can be `linear`, `inverse` or `exponential`.\n   *     maxDistance - (10000 by default) Volume won't reduce between source/listener beyond this distance.\n   *     panningModel - ('HRTF' by default) Determines which spatialization algorithm is used to position audio.\n   *                     Can be `HRTF` or `equalpower`.\n   *     refDistance - (1 by default) A reference distance for reducing volume as the source\n   *                    moves away from the listener.\n   *     rolloffFactor - (1 by default) How quickly the volume reduces as source moves from listener.\n   * \n   * @return {Howl/Object} Returns self or current panner attributes.\n   */\n  Howl.prototype.pannerAttr = function() {\n    var self = this;\n    var args = arguments;\n    var o, id, sound;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // Determine the values based on arguments.\n    if (args.length === 0) {\n      // Return the group's panner attribute values.\n      return self._pannerAttr;\n    } else if (args.length === 1) {\n      if (typeof args[0] === 'object') {\n        o = args[0];\n\n        // Set the grou's panner attribute values.\n        if (typeof id === 'undefined') {\n          self._pannerAttr = {\n            coneInnerAngle: typeof o.coneInnerAngle !== 'undefined' ? o.coneInnerAngle : self._coneInnerAngle,\n            coneOuterAngle: typeof o.coneOuterAngle !== 'undefined' ? o.coneOuterAngle : self._coneOuterAngle,\n            coneOuterGain: typeof o.coneOuterGain !== 'undefined' ? o.coneOuterGain : self._coneOuterGain,\n            distanceModel: typeof o.distanceModel !== 'undefined' ? o.distanceModel : self._distanceModel,\n            maxDistance: typeof o.maxDistance !== 'undefined' ? o.maxDistance : self._maxDistance,\n            panningModel: typeof o.panningModel !== 'undefined' ? o.panningModel : self._panningModel,\n            refDistance: typeof o.refDistance !== 'undefined' ? o.refDistance : self._refDistance,\n            rolloffFactor: typeof o.rolloffFactor !== 'undefined' ? o.rolloffFactor : self._rolloffFactor\n          };\n        }\n      } else {\n        // Return this sound's panner attribute values.\n        sound = self._soundById(parseInt(args[0], 10));\n        return sound ? sound._pannerAttr : self._pannerAttr;\n      }\n    } else if (args.length === 2) {\n      o = args[0];\n      id = parseInt(args[1], 10);\n    }\n\n    // Update the values of the specified sounds.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      sound = self._soundById(ids[i]);\n\n      if (sound) {\n        // Merge the new values into the sound.\n        var pa = sound._pannerAttr;\n        pa = {\n          coneInnerAngle: typeof o.coneInnerAngle !== 'undefined' ? o.coneInnerAngle : pa.coneInnerAngle,\n          coneOuterAngle: typeof o.coneOuterAngle !== 'undefined' ? o.coneOuterAngle : pa.coneOuterAngle,\n          coneOuterGain: typeof o.coneOuterGain !== 'undefined' ? o.coneOuterGain : pa.coneOuterGain,\n          distanceModel: typeof o.distanceModel !== 'undefined' ? o.distanceModel : pa.distanceModel,\n          maxDistance: typeof o.maxDistance !== 'undefined' ? o.maxDistance : pa.maxDistance,\n          panningModel: typeof o.panningModel !== 'undefined' ? o.panningModel : pa.panningModel,\n          refDistance: typeof o.refDistance !== 'undefined' ? o.refDistance : pa.refDistance,\n          rolloffFactor: typeof o.rolloffFactor !== 'undefined' ? o.rolloffFactor : pa.rolloffFactor\n        };\n\n        // Update the panner values or create a new panner if none exists.\n        var panner = sound._panner;\n        if (panner) {\n          panner.coneInnerAngle = pa.coneInnerAngle;\n          panner.coneOuterAngle = pa.coneOuterAngle;\n          panner.coneOuterGain = pa.coneOuterGain;\n          panner.distanceModel = pa.distanceModel;\n          panner.maxDistance = pa.maxDistance;\n          panner.panningModel = pa.panningModel;\n          panner.refDistance = pa.refDistance;\n          panner.rolloffFactor = pa.rolloffFactor;\n        } else {\n          // Make sure we have a position to setup the node with.\n          if (!sound._pos) {\n            sound._pos = self._pos || [0, 0, -0.5];\n          }\n\n          // Create a new panner node.\n          setupPanner(sound, 'spatial');\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /** Single Sound Methods **/\n  /***************************************************************************/\n\n  /**\n   * Add new properties to the core Sound init.\n   * @param  {Function} _super Core Sound init method.\n   * @return {Sound}\n   */\n  Sound.prototype.init = (function(_super) {\n    return function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Setup user-defined default properties.\n      self._orientation = parent._orientation;\n      self._stereo = parent._stereo;\n      self._pos = parent._pos;\n      self._pannerAttr = parent._pannerAttr;\n\n      // Complete initilization with howler.js core Sound's init function.\n      _super.call(this);\n\n      // If a stereo or position was specified, set it up.\n      if (self._stereo) {\n        parent.stereo(self._stereo);\n      } else if (self._pos) {\n        parent.pos(self._pos[0], self._pos[1], self._pos[2], self._id);\n      }\n    };\n  })(Sound.prototype.init);\n\n  /**\n   * Override the Sound.reset method to clean up properties from the spatial plugin.\n   * @param  {Function} _super Sound reset method.\n   * @return {Sound}\n   */\n  Sound.prototype.reset = (function(_super) {\n    return function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Reset all spatial plugin properties on this sound.\n      self._orientation = parent._orientation;\n      self._pos = parent._pos;\n      self._pannerAttr = parent._pannerAttr;\n\n      // Complete resetting of the sound.\n      return _super.call(this);\n    };\n  })(Sound.prototype.reset);\n\n  /** Helper Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create a new panner node and save it on the sound.\n   * @param  {Sound} sound Specific sound to setup panning on.\n   * @param {String} type Type of panner to create: 'stereo' or 'spatial'.\n   */\n  var setupPanner = function(sound, type) {\n    type = type || 'spatial';\n\n    // Create the new panner node.\n    if (type === 'spatial') {\n      sound._panner = Howler.ctx.createPanner();\n      sound._panner.coneInnerAngle = sound._pannerAttr.coneInnerAngle;\n      sound._panner.coneOuterAngle = sound._pannerAttr.coneOuterAngle;\n      sound._panner.coneOuterGain = sound._pannerAttr.coneOuterGain;\n      sound._panner.distanceModel = sound._pannerAttr.distanceModel;\n      sound._panner.maxDistance = sound._pannerAttr.maxDistance;\n      sound._panner.panningModel = sound._pannerAttr.panningModel;\n      sound._panner.refDistance = sound._pannerAttr.refDistance;\n      sound._panner.rolloffFactor = sound._pannerAttr.rolloffFactor;\n      sound._panner.setPosition(sound._pos[0], sound._pos[1], sound._pos[2]);\n      sound._panner.setOrientation(sound._orientation[0], sound._orientation[1], sound._orientation[2]);\n    } else {\n      sound._panner = Howler.ctx.createStereoPanner();\n      sound._panner.pan.value = sound._stereo;\n    }\n\n    sound._panner.connect(sound._node);\n\n    // Update the connections.\n    if (!sound._paused) {\n      sound._parent.pause(sound._id, true).play(sound._id);\n    }\n  };\n})();\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],55:[function(require,module,exports){\n\nvar indexOf = [].indexOf;\n\nmodule.exports = function(arr, obj){\n  if (indexOf) return arr.indexOf(obj);\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n};\n},{}],56:[function(require,module,exports){\nmodule.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\n},{}],57:[function(require,module,exports){\n(function (global){\n/*! JSON v3.3.2 | http://bestiejs.github.io/json3 | Copyright 2012-2014, Kit Cambridge | http://kit.mit-license.org */\n;(function () {\n  // Detect the `define` function exposed by asynchronous module loaders. The\n  // strict `define` check is necessary for compatibility with `r.js`.\n  var isLoader = typeof define === \"function\" && define.amd;\n\n  // A set of types used to distinguish objects from primitives.\n  var objectTypes = {\n    \"function\": true,\n    \"object\": true\n  };\n\n  // Detect the `exports` object exposed by CommonJS implementations.\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  // Use the `global` object exposed by Node (including Browserify via\n  // `insert-module-globals`), Narwhal, and Ringo as the default context,\n  // and the `window` object in browsers. Rhino exports a `global` function\n  // instead.\n  var root = objectTypes[typeof window] && window || this,\n      freeGlobal = freeExports && objectTypes[typeof module] && module && !module.nodeType && typeof global == \"object\" && global;\n\n  if (freeGlobal && (freeGlobal[\"global\"] === freeGlobal || freeGlobal[\"window\"] === freeGlobal || freeGlobal[\"self\"] === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  // Public: Initializes JSON 3 using the given `context` object, attaching the\n  // `stringify` and `parse` functions to the specified `exports` object.\n  function runInContext(context, exports) {\n    context || (context = root[\"Object\"]());\n    exports || (exports = root[\"Object\"]());\n\n    // Native constructor aliases.\n    var Number = context[\"Number\"] || root[\"Number\"],\n        String = context[\"String\"] || root[\"String\"],\n        Object = context[\"Object\"] || root[\"Object\"],\n        Date = context[\"Date\"] || root[\"Date\"],\n        SyntaxError = context[\"SyntaxError\"] || root[\"SyntaxError\"],\n        TypeError = context[\"TypeError\"] || root[\"TypeError\"],\n        Math = context[\"Math\"] || root[\"Math\"],\n        nativeJSON = context[\"JSON\"] || root[\"JSON\"];\n\n    // Delegate to the native `stringify` and `parse` implementations.\n    if (typeof nativeJSON == \"object\" && nativeJSON) {\n      exports.stringify = nativeJSON.stringify;\n      exports.parse = nativeJSON.parse;\n    }\n\n    // Convenience aliases.\n    var objectProto = Object.prototype,\n        getClass = objectProto.toString,\n        isProperty, forEach, undef;\n\n    // Test the `Date#getUTC*` methods. Based on work by @Yaffle.\n    var isExtended = new Date(-3509827334573292);\n    try {\n      // The `getUTCFullYear`, `Month`, and `Date` methods return nonsensical\n      // results for certain dates in Opera >= 10.53.\n      isExtended = isExtended.getUTCFullYear() == -109252 && isExtended.getUTCMonth() === 0 && isExtended.getUTCDate() === 1 &&\n        // Safari < 2.0.2 stores the internal millisecond time value correctly,\n        // but clips the values returned by the date methods to the range of\n        // signed 32-bit integers ([-2 ** 31, 2 ** 31 - 1]).\n        isExtended.getUTCHours() == 10 && isExtended.getUTCMinutes() == 37 && isExtended.getUTCSeconds() == 6 && isExtended.getUTCMilliseconds() == 708;\n    } catch (exception) {}\n\n    // Internal: Determines whether the native `JSON.stringify` and `parse`\n    // implementations are spec-compliant. Based on work by Ken Snyder.\n    function has(name) {\n      if (has[name] !== undef) {\n        // Return cached feature test result.\n        return has[name];\n      }\n      var isSupported;\n      if (name == \"bug-string-char-index\") {\n        // IE <= 7 doesn't support accessing string characters using square\n        // bracket notation. IE 8 only supports this for primitives.\n        isSupported = \"a\"[0] != \"a\";\n      } else if (name == \"json\") {\n        // Indicates whether both `JSON.stringify` and `JSON.parse` are\n        // supported.\n        isSupported = has(\"json-stringify\") && has(\"json-parse\");\n      } else {\n        var value, serialized = '{\"a\":[1,true,false,null,\"\\\\u0000\\\\b\\\\n\\\\f\\\\r\\\\t\"]}';\n        // Test `JSON.stringify`.\n        if (name == \"json-stringify\") {\n          var stringify = exports.stringify, stringifySupported = typeof stringify == \"function\" && isExtended;\n          if (stringifySupported) {\n            // A test function object with a custom `toJSON` method.\n            (value = function () {\n              return 1;\n            }).toJSON = value;\n            try {\n              stringifySupported =\n                // Firefox 3.1b1 and b2 serialize string, number, and boolean\n                // primitives as object literals.\n                stringify(0) === \"0\" &&\n                // FF 3.1b1, b2, and JSON 2 serialize wrapped primitives as object\n                // literals.\n                stringify(new Number()) === \"0\" &&\n                stringify(new String()) == '\"\"' &&\n                // FF 3.1b1, 2 throw an error if the value is `null`, `undefined`, or\n                // does not define a canonical JSON representation (this applies to\n                // objects with `toJSON` properties as well, *unless* they are nested\n                // within an object or array).\n                stringify(getClass) === undef &&\n                // IE 8 serializes `undefined` as `\"undefined\"`. Safari <= 5.1.7 and\n                // FF 3.1b3 pass this test.\n                stringify(undef) === undef &&\n                // Safari <= 5.1.7 and FF 3.1b3 throw `Error`s and `TypeError`s,\n                // respectively, if the value is omitted entirely.\n                stringify() === undef &&\n                // FF 3.1b1, 2 throw an error if the given value is not a number,\n                // string, array, object, Boolean, or `null` literal. This applies to\n                // objects with custom `toJSON` methods as well, unless they are nested\n                // inside object or array literals. YUI 3.0.0b1 ignores custom `toJSON`\n                // methods entirely.\n                stringify(value) === \"1\" &&\n                stringify([value]) == \"[1]\" &&\n                // Prototype <= 1.6.1 serializes `[undefined]` as `\"[]\"` instead of\n                // `\"[null]\"`.\n                stringify([undef]) == \"[null]\" &&\n                // YUI 3.0.0b1 fails to serialize `null` literals.\n                stringify(null) == \"null\" &&\n                // FF 3.1b1, 2 halts serialization if an array contains a function:\n                // `[1, true, getClass, 1]` serializes as \"[1,true,],\". FF 3.1b3\n                // elides non-JSON values from objects and arrays, unless they\n                // define custom `toJSON` methods.\n                stringify([undef, getClass, null]) == \"[null,null,null]\" &&\n                // Simple serialization test. FF 3.1b1 uses Unicode escape sequences\n                // where character escape codes are expected (e.g., `\\b` => `\\u0008`).\n                stringify({ \"a\": [value, true, false, null, \"\\x00\\b\\n\\f\\r\\t\"] }) == serialized &&\n                // FF 3.1b1 and b2 ignore the `filter` and `width` arguments.\n                stringify(null, value) === \"1\" &&\n                stringify([1, 2], null, 1) == \"[\\n 1,\\n 2\\n]\" &&\n                // JSON 2, Prototype <= 1.7, and older WebKit builds incorrectly\n                // serialize extended years.\n                stringify(new Date(-8.64e15)) == '\"-271821-04-20T00:00:00.000Z\"' &&\n                // The milliseconds are optional in ES 5, but required in 5.1.\n                stringify(new Date(8.64e15)) == '\"+275760-09-13T00:00:00.000Z\"' &&\n                // Firefox <= 11.0 incorrectly serializes years prior to 0 as negative\n                // four-digit years instead of six-digit years. Credits: @Yaffle.\n                stringify(new Date(-621987552e5)) == '\"-000001-01-01T00:00:00.000Z\"' &&\n                // Safari <= 5.1.5 and Opera >= 10.53 incorrectly serialize millisecond\n                // values less than 1000. Credits: @Yaffle.\n                stringify(new Date(-1)) == '\"1969-12-31T23:59:59.999Z\"';\n            } catch (exception) {\n              stringifySupported = false;\n            }\n          }\n          isSupported = stringifySupported;\n        }\n        // Test `JSON.parse`.\n        if (name == \"json-parse\") {\n          var parse = exports.parse;\n          if (typeof parse == \"function\") {\n            try {\n              // FF 3.1b1, b2 will throw an exception if a bare literal is provided.\n              // Conforming implementations should also coerce the initial argument to\n              // a string prior to parsing.\n              if (parse(\"0\") === 0 && !parse(false)) {\n                // Simple parsing test.\n                value = parse(serialized);\n                var parseSupported = value[\"a\"].length == 5 && value[\"a\"][0] === 1;\n                if (parseSupported) {\n                  try {\n                    // Safari <= 5.1.2 and FF 3.1b1 allow unescaped tabs in strings.\n                    parseSupported = !parse('\"\\t\"');\n                  } catch (exception) {}\n                  if (parseSupported) {\n                    try {\n                      // FF 4.0 and 4.0.1 allow leading `+` signs and leading\n                      // decimal points. FF 4.0, 4.0.1, and IE 9-10 also allow\n                      // certain octal literals.\n                      parseSupported = parse(\"01\") !== 1;\n                    } catch (exception) {}\n                  }\n                  if (parseSupported) {\n                    try {\n                      // FF 4.0, 4.0.1, and Rhino 1.7R3-R4 allow trailing decimal\n                      // points. These environments, along with FF 3.1b1 and 2,\n                      // also allow trailing commas in JSON objects and arrays.\n                      parseSupported = parse(\"1.\") !== 1;\n                    } catch (exception) {}\n                  }\n                }\n              }\n            } catch (exception) {\n              parseSupported = false;\n            }\n          }\n          isSupported = parseSupported;\n        }\n      }\n      return has[name] = !!isSupported;\n    }\n\n    if (!has(\"json\")) {\n      // Common `[[Class]]` name aliases.\n      var functionClass = \"[object Function]\",\n          dateClass = \"[object Date]\",\n          numberClass = \"[object Number]\",\n          stringClass = \"[object String]\",\n          arrayClass = \"[object Array]\",\n          booleanClass = \"[object Boolean]\";\n\n      // Detect incomplete support for accessing string characters by index.\n      var charIndexBuggy = has(\"bug-string-char-index\");\n\n      // Define additional utility methods if the `Date` methods are buggy.\n      if (!isExtended) {\n        var floor = Math.floor;\n        // A mapping between the months of the year and the number of days between\n        // January 1st and the first of the respective month.\n        var Months = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\n        // Internal: Calculates the number of days between the Unix epoch and the\n        // first day of the given month.\n        var getDay = function (year, month) {\n          return Months[month] + 365 * (year - 1970) + floor((year - 1969 + (month = +(month > 1))) / 4) - floor((year - 1901 + month) / 100) + floor((year - 1601 + month) / 400);\n        };\n      }\n\n      // Internal: Determines if a property is a direct property of the given\n      // object. Delegates to the native `Object#hasOwnProperty` method.\n      if (!(isProperty = objectProto.hasOwnProperty)) {\n        isProperty = function (property) {\n          var members = {}, constructor;\n          if ((members.__proto__ = null, members.__proto__ = {\n            // The *proto* property cannot be set multiple times in recent\n            // versions of Firefox and SeaMonkey.\n            \"toString\": 1\n          }, members).toString != getClass) {\n            // Safari <= 2.0.3 doesn't implement `Object#hasOwnProperty`, but\n            // supports the mutable *proto* property.\n            isProperty = function (property) {\n              // Capture and break the object's prototype chain (see section 8.6.2\n              // of the ES 5.1 spec). The parenthesized expression prevents an\n              // unsafe transformation by the Closure Compiler.\n              var original = this.__proto__, result = property in (this.__proto__ = null, this);\n              // Restore the original prototype chain.\n              this.__proto__ = original;\n              return result;\n            };\n          } else {\n            // Capture a reference to the top-level `Object` constructor.\n            constructor = members.constructor;\n            // Use the `constructor` property to simulate `Object#hasOwnProperty` in\n            // other environments.\n            isProperty = function (property) {\n              var parent = (this.constructor || constructor).prototype;\n              return property in this && !(property in parent && this[property] === parent[property]);\n            };\n          }\n          members = null;\n          return isProperty.call(this, property);\n        };\n      }\n\n      // Internal: Normalizes the `for...in` iteration algorithm across\n      // environments. Each enumerated key is yielded to a `callback` function.\n      forEach = function (object, callback) {\n        var size = 0, Properties, members, property;\n\n        // Tests for bugs in the current environment's `for...in` algorithm. The\n        // `valueOf` property inherits the non-enumerable flag from\n        // `Object.prototype` in older versions of IE, Netscape, and Mozilla.\n        (Properties = function () {\n          this.valueOf = 0;\n        }).prototype.valueOf = 0;\n\n        // Iterate over a new instance of the `Properties` class.\n        members = new Properties();\n        for (property in members) {\n          // Ignore all properties inherited from `Object.prototype`.\n          if (isProperty.call(members, property)) {\n            size++;\n          }\n        }\n        Properties = members = null;\n\n        // Normalize the iteration algorithm.\n        if (!size) {\n          // A list of non-enumerable properties inherited from `Object.prototype`.\n          members = [\"valueOf\", \"toString\", \"toLocaleString\", \"propertyIsEnumerable\", \"isPrototypeOf\", \"hasOwnProperty\", \"constructor\"];\n          // IE <= 8, Mozilla 1.0, and Netscape 6.2 ignore shadowed non-enumerable\n          // properties.\n          forEach = function (object, callback) {\n            var isFunction = getClass.call(object) == functionClass, property, length;\n            var hasProperty = !isFunction && typeof object.constructor != \"function\" && objectTypes[typeof object.hasOwnProperty] && object.hasOwnProperty || isProperty;\n            for (property in object) {\n              // Gecko <= 1.0 enumerates the `prototype` property of functions under\n              // certain conditions; IE does not.\n              if (!(isFunction && property == \"prototype\") && hasProperty.call(object, property)) {\n                callback(property);\n              }\n            }\n            // Manually invoke the callback for each non-enumerable property.\n            for (length = members.length; property = members[--length]; hasProperty.call(object, property) && callback(property));\n          };\n        } else if (size == 2) {\n          // Safari <= 2.0.4 enumerates shadowed properties twice.\n          forEach = function (object, callback) {\n            // Create a set of iterated properties.\n            var members = {}, isFunction = getClass.call(object) == functionClass, property;\n            for (property in object) {\n              // Store each property name to prevent double enumeration. The\n              // `prototype` property of functions is not enumerated due to cross-\n              // environment inconsistencies.\n              if (!(isFunction && property == \"prototype\") && !isProperty.call(members, property) && (members[property] = 1) && isProperty.call(object, property)) {\n                callback(property);\n              }\n            }\n          };\n        } else {\n          // No bugs detected; use the standard `for...in` algorithm.\n          forEach = function (object, callback) {\n            var isFunction = getClass.call(object) == functionClass, property, isConstructor;\n            for (property in object) {\n              if (!(isFunction && property == \"prototype\") && isProperty.call(object, property) && !(isConstructor = property === \"constructor\")) {\n                callback(property);\n              }\n            }\n            // Manually invoke the callback for the `constructor` property due to\n            // cross-environment inconsistencies.\n            if (isConstructor || isProperty.call(object, (property = \"constructor\"))) {\n              callback(property);\n            }\n          };\n        }\n        return forEach(object, callback);\n      };\n\n      // Public: Serializes a JavaScript `value` as a JSON string. The optional\n      // `filter` argument may specify either a function that alters how object and\n      // array members are serialized, or an array of strings and numbers that\n      // indicates which properties should be serialized. The optional `width`\n      // argument may be either a string or number that specifies the indentation\n      // level of the output.\n      if (!has(\"json-stringify\")) {\n        // Internal: A map of control characters and their escaped equivalents.\n        var Escapes = {\n          92: \"\\\\\\\\\",\n          34: '\\\\\"',\n          8: \"\\\\b\",\n          12: \"\\\\f\",\n          10: \"\\\\n\",\n          13: \"\\\\r\",\n          9: \"\\\\t\"\n        };\n\n        // Internal: Converts `value` into a zero-padded string such that its\n        // length is at least equal to `width`. The `width` must be <= 6.\n        var leadingZeroes = \"000000\";\n        var toPaddedString = function (width, value) {\n          // The `|| 0` expression is necessary to work around a bug in\n          // Opera <= 7.54u2 where `0 == -0`, but `String(-0) !== \"0\"`.\n          return (leadingZeroes + (value || 0)).slice(-width);\n        };\n\n        // Internal: Double-quotes a string `value`, replacing all ASCII control\n        // characters (characters with code unit values between 0 and 31) with\n        // their escaped equivalents. This is an implementation of the\n        // `Quote(value)` operation defined in ES 5.1 section 15.12.3.\n        var unicodePrefix = \"\\\\u00\";\n        var quote = function (value) {\n          var result = '\"', index = 0, length = value.length, useCharIndex = !charIndexBuggy || length > 10;\n          var symbols = useCharIndex && (charIndexBuggy ? value.split(\"\") : value);\n          for (; index < length; index++) {\n            var charCode = value.charCodeAt(index);\n            // If the character is a control character, append its Unicode or\n            // shorthand escape sequence; otherwise, append the character as-is.\n            switch (charCode) {\n              case 8: case 9: case 10: case 12: case 13: case 34: case 92:\n                result += Escapes[charCode];\n                break;\n              default:\n                if (charCode < 32) {\n                  result += unicodePrefix + toPaddedString(2, charCode.toString(16));\n                  break;\n                }\n                result += useCharIndex ? symbols[index] : value.charAt(index);\n            }\n          }\n          return result + '\"';\n        };\n\n        // Internal: Recursively serializes an object. Implements the\n        // `Str(key, holder)`, `JO(value)`, and `JA(value)` operations.\n        var serialize = function (property, object, callback, properties, whitespace, indentation, stack) {\n          var value, className, year, month, date, time, hours, minutes, seconds, milliseconds, results, element, index, length, prefix, result;\n          try {\n            // Necessary for host object support.\n            value = object[property];\n          } catch (exception) {}\n          if (typeof value == \"object\" && value) {\n            className = getClass.call(value);\n            if (className == dateClass && !isProperty.call(value, \"toJSON\")) {\n              if (value > -1 / 0 && value < 1 / 0) {\n                // Dates are serialized according to the `Date#toJSON` method\n                // specified in ES 5.1 section 15.9.5.44. See section 15.9.1.15\n                // for the ISO 8601 date time string format.\n                if (getDay) {\n                  // Manually compute the year, month, date, hours, minutes,\n                  // seconds, and milliseconds if the `getUTC*` methods are\n                  // buggy. Adapted from @Yaffle's `date-shim` project.\n                  date = floor(value / 864e5);\n                  for (year = floor(date / 365.2425) + 1970 - 1; getDay(year + 1, 0) <= date; year++);\n                  for (month = floor((date - getDay(year, 0)) / 30.42); getDay(year, month + 1) <= date; month++);\n                  date = 1 + date - getDay(year, month);\n                  // The `time` value specifies the time within the day (see ES\n                  // 5.1 section 15.9.1.2). The formula `(A % B + B) % B` is used\n                  // to compute `A modulo B`, as the `%` operator does not\n                  // correspond to the `modulo` operation for negative numbers.\n                  time = (value % 864e5 + 864e5) % 864e5;\n                  // The hours, minutes, seconds, and milliseconds are obtained by\n                  // decomposing the time within the day. See section 15.9.1.10.\n                  hours = floor(time / 36e5) % 24;\n                  minutes = floor(time / 6e4) % 60;\n                  seconds = floor(time / 1e3) % 60;\n                  milliseconds = time % 1e3;\n                } else {\n                  year = value.getUTCFullYear();\n                  month = value.getUTCMonth();\n                  date = value.getUTCDate();\n                  hours = value.getUTCHours();\n                  minutes = value.getUTCMinutes();\n                  seconds = value.getUTCSeconds();\n                  milliseconds = value.getUTCMilliseconds();\n                }\n                // Serialize extended years correctly.\n                value = (year <= 0 || year >= 1e4 ? (year < 0 ? \"-\" : \"+\") + toPaddedString(6, year < 0 ? -year : year) : toPaddedString(4, year)) +\n                  \"-\" + toPaddedString(2, month + 1) + \"-\" + toPaddedString(2, date) +\n                  // Months, dates, hours, minutes, and seconds should have two\n                  // digits; milliseconds should have three.\n                  \"T\" + toPaddedString(2, hours) + \":\" + toPaddedString(2, minutes) + \":\" + toPaddedString(2, seconds) +\n                  // Milliseconds are optional in ES 5.0, but required in 5.1.\n                  \".\" + toPaddedString(3, milliseconds) + \"Z\";\n              } else {\n                value = null;\n              }\n            } else if (typeof value.toJSON == \"function\" && ((className != numberClass && className != stringClass && className != arrayClass) || isProperty.call(value, \"toJSON\"))) {\n              // Prototype <= 1.6.1 adds non-standard `toJSON` methods to the\n              // `Number`, `String`, `Date`, and `Array` prototypes. JSON 3\n              // ignores all `toJSON` methods on these objects unless they are\n              // defined directly on an instance.\n              value = value.toJSON(property);\n            }\n          }\n          if (callback) {\n            // If a replacement function was provided, call it to obtain the value\n            // for serialization.\n            value = callback.call(object, property, value);\n          }\n          if (value === null) {\n            return \"null\";\n          }\n          className = getClass.call(value);\n          if (className == booleanClass) {\n            // Booleans are represented literally.\n            return \"\" + value;\n          } else if (className == numberClass) {\n            // JSON numbers must be finite. `Infinity` and `NaN` are serialized as\n            // `\"null\"`.\n            return value > -1 / 0 && value < 1 / 0 ? \"\" + value : \"null\";\n          } else if (className == stringClass) {\n            // Strings are double-quoted and escaped.\n            return quote(\"\" + value);\n          }\n          // Recursively serialize objects and arrays.\n          if (typeof value == \"object\") {\n            // Check for cyclic structures. This is a linear search; performance\n            // is inversely proportional to the number of unique nested objects.\n            for (length = stack.length; length--;) {\n              if (stack[length] === value) {\n                // Cyclic structures cannot be serialized by `JSON.stringify`.\n                throw TypeError();\n              }\n            }\n            // Add the object to the stack of traversed objects.\n            stack.push(value);\n            results = [];\n            // Save the current indentation level and indent one additional level.\n            prefix = indentation;\n            indentation += whitespace;\n            if (className == arrayClass) {\n              // Recursively serialize array elements.\n              for (index = 0, length = value.length; index < length; index++) {\n                element = serialize(index, value, callback, properties, whitespace, indentation, stack);\n                results.push(element === undef ? \"null\" : element);\n              }\n              result = results.length ? (whitespace ? \"[\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"]\" : (\"[\" + results.join(\",\") + \"]\")) : \"[]\";\n            } else {\n              // Recursively serialize object members. Members are selected from\n              // either a user-specified list of property names, or the object\n              // itself.\n              forEach(properties || value, function (property) {\n                var element = serialize(property, value, callback, properties, whitespace, indentation, stack);\n                if (element !== undef) {\n                  // According to ES 5.1 section 15.12.3: \"If `gap` {whitespace}\n                  // is not the empty string, let `member` {quote(property) + \":\"}\n                  // be the concatenation of `member` and the `space` character.\"\n                  // The \"`space` character\" refers to the literal space\n                  // character, not the `space` {width} argument provided to\n                  // `JSON.stringify`.\n                  results.push(quote(property) + \":\" + (whitespace ? \" \" : \"\") + element);\n                }\n              });\n              result = results.length ? (whitespace ? \"{\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"}\" : (\"{\" + results.join(\",\") + \"}\")) : \"{}\";\n            }\n            // Remove the object from the traversed object stack.\n            stack.pop();\n            return result;\n          }\n        };\n\n        // Public: `JSON.stringify`. See ES 5.1 section 15.12.3.\n        exports.stringify = function (source, filter, width) {\n          var whitespace, callback, properties, className;\n          if (objectTypes[typeof filter] && filter) {\n            if ((className = getClass.call(filter)) == functionClass) {\n              callback = filter;\n            } else if (className == arrayClass) {\n              // Convert the property names array into a makeshift set.\n              properties = {};\n              for (var index = 0, length = filter.length, value; index < length; value = filter[index++], ((className = getClass.call(value)), className == stringClass || className == numberClass) && (properties[value] = 1));\n            }\n          }\n          if (width) {\n            if ((className = getClass.call(width)) == numberClass) {\n              // Convert the `width` to an integer and create a string containing\n              // `width` number of space characters.\n              if ((width -= width % 1) > 0) {\n                for (whitespace = \"\", width > 10 && (width = 10); whitespace.length < width; whitespace += \" \");\n              }\n            } else if (className == stringClass) {\n              whitespace = width.length <= 10 ? width : width.slice(0, 10);\n            }\n          }\n          // Opera <= 7.54u2 discards the values associated with empty string keys\n          // (`\"\"`) only if they are used directly within an object member list\n          // (e.g., `!(\"\" in { \"\": 1})`).\n          return serialize(\"\", (value = {}, value[\"\"] = source, value), callback, properties, whitespace, \"\", []);\n        };\n      }\n\n      // Public: Parses a JSON source string.\n      if (!has(\"json-parse\")) {\n        var fromCharCode = String.fromCharCode;\n\n        // Internal: A map of escaped control characters and their unescaped\n        // equivalents.\n        var Unescapes = {\n          92: \"\\\\\",\n          34: '\"',\n          47: \"/\",\n          98: \"\\b\",\n          116: \"\\t\",\n          110: \"\\n\",\n          102: \"\\f\",\n          114: \"\\r\"\n        };\n\n        // Internal: Stores the parser state.\n        var Index, Source;\n\n        // Internal: Resets the parser state and throws a `SyntaxError`.\n        var abort = function () {\n          Index = Source = null;\n          throw SyntaxError();\n        };\n\n        // Internal: Returns the next token, or `\"$\"` if the parser has reached\n        // the end of the source string. A token may be a string, number, `null`\n        // literal, or Boolean literal.\n        var lex = function () {\n          var source = Source, length = source.length, value, begin, position, isSigned, charCode;\n          while (Index < length) {\n            charCode = source.charCodeAt(Index);\n            switch (charCode) {\n              case 9: case 10: case 13: case 32:\n                // Skip whitespace tokens, including tabs, carriage returns, line\n                // feeds, and space characters.\n                Index++;\n                break;\n              case 123: case 125: case 91: case 93: case 58: case 44:\n                // Parse a punctuator token (`{`, `}`, `[`, `]`, `:`, or `,`) at\n                // the current position.\n                value = charIndexBuggy ? source.charAt(Index) : source[Index];\n                Index++;\n                return value;\n              case 34:\n                // `\"` delimits a JSON string; advance to the next character and\n                // begin parsing the string. String tokens are prefixed with the\n                // sentinel `@` character to distinguish them from punctuators and\n                // end-of-string tokens.\n                for (value = \"@\", Index++; Index < length;) {\n                  charCode = source.charCodeAt(Index);\n                  if (charCode < 32) {\n                    // Unescaped ASCII control characters (those with a code unit\n                    // less than the space character) are not permitted.\n                    abort();\n                  } else if (charCode == 92) {\n                    // A reverse solidus (`\\`) marks the beginning of an escaped\n                    // control character (including `\"`, `\\`, and `/`) or Unicode\n                    // escape sequence.\n                    charCode = source.charCodeAt(++Index);\n                    switch (charCode) {\n                      case 92: case 34: case 47: case 98: case 116: case 110: case 102: case 114:\n                        // Revive escaped control characters.\n                        value += Unescapes[charCode];\n                        Index++;\n                        break;\n                      case 117:\n                        // `\\u` marks the beginning of a Unicode escape sequence.\n                        // Advance to the first character and validate the\n                        // four-digit code point.\n                        begin = ++Index;\n                        for (position = Index + 4; Index < position; Index++) {\n                          charCode = source.charCodeAt(Index);\n                          // A valid sequence comprises four hexdigits (case-\n                          // insensitive) that form a single hexadecimal value.\n                          if (!(charCode >= 48 && charCode <= 57 || charCode >= 97 && charCode <= 102 || charCode >= 65 && charCode <= 70)) {\n                            // Invalid Unicode escape sequence.\n                            abort();\n                          }\n                        }\n                        // Revive the escaped character.\n                        value += fromCharCode(\"0x\" + source.slice(begin, Index));\n                        break;\n                      default:\n                        // Invalid escape sequence.\n                        abort();\n                    }\n                  } else {\n                    if (charCode == 34) {\n                      // An unescaped double-quote character marks the end of the\n                      // string.\n                      break;\n                    }\n                    charCode = source.charCodeAt(Index);\n                    begin = Index;\n                    // Optimize for the common case where a string is valid.\n                    while (charCode >= 32 && charCode != 92 && charCode != 34) {\n                      charCode = source.charCodeAt(++Index);\n                    }\n                    // Append the string as-is.\n                    value += source.slice(begin, Index);\n                  }\n                }\n                if (source.charCodeAt(Index) == 34) {\n                  // Advance to the next character and return the revived string.\n                  Index++;\n                  return value;\n                }\n                // Unterminated string.\n                abort();\n              default:\n                // Parse numbers and literals.\n                begin = Index;\n                // Advance past the negative sign, if one is specified.\n                if (charCode == 45) {\n                  isSigned = true;\n                  charCode = source.charCodeAt(++Index);\n                }\n                // Parse an integer or floating-point value.\n                if (charCode >= 48 && charCode <= 57) {\n                  // Leading zeroes are interpreted as octal literals.\n                  if (charCode == 48 && ((charCode = source.charCodeAt(Index + 1)), charCode >= 48 && charCode <= 57)) {\n                    // Illegal octal literal.\n                    abort();\n                  }\n                  isSigned = false;\n                  // Parse the integer component.\n                  for (; Index < length && ((charCode = source.charCodeAt(Index)), charCode >= 48 && charCode <= 57); Index++);\n                  // Floats cannot contain a leading decimal point; however, this\n                  // case is already accounted for by the parser.\n                  if (source.charCodeAt(Index) == 46) {\n                    position = ++Index;\n                    // Parse the decimal component.\n                    for (; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);\n                    if (position == Index) {\n                      // Illegal trailing decimal.\n                      abort();\n                    }\n                    Index = position;\n                  }\n                  // Parse exponents. The `e` denoting the exponent is\n                  // case-insensitive.\n                  charCode = source.charCodeAt(Index);\n                  if (charCode == 101 || charCode == 69) {\n                    charCode = source.charCodeAt(++Index);\n                    // Skip past the sign following the exponent, if one is\n                    // specified.\n                    if (charCode == 43 || charCode == 45) {\n                      Index++;\n                    }\n                    // Parse the exponential component.\n                    for (position = Index; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);\n                    if (position == Index) {\n                      // Illegal empty exponent.\n                      abort();\n                    }\n                    Index = position;\n                  }\n                  // Coerce the parsed value to a JavaScript number.\n                  return +source.slice(begin, Index);\n                }\n                // A negative sign may only precede numbers.\n                if (isSigned) {\n                  abort();\n                }\n                // `true`, `false`, and `null` literals.\n                if (source.slice(Index, Index + 4) == \"true\") {\n                  Index += 4;\n                  return true;\n                } else if (source.slice(Index, Index + 5) == \"false\") {\n                  Index += 5;\n                  return false;\n                } else if (source.slice(Index, Index + 4) == \"null\") {\n                  Index += 4;\n                  return null;\n                }\n                // Unrecognized token.\n                abort();\n            }\n          }\n          // Return the sentinel `$` character if the parser has reached the end\n          // of the source string.\n          return \"$\";\n        };\n\n        // Internal: Parses a JSON `value` token.\n        var get = function (value) {\n          var results, hasMembers;\n          if (value == \"$\") {\n            // Unexpected end of input.\n            abort();\n          }\n          if (typeof value == \"string\") {\n            if ((charIndexBuggy ? value.charAt(0) : value[0]) == \"@\") {\n              // Remove the sentinel `@` character.\n              return value.slice(1);\n            }\n            // Parse object and array literals.\n            if (value == \"[\") {\n              // Parses a JSON array, returning a new JavaScript array.\n              results = [];\n              for (;; hasMembers || (hasMembers = true)) {\n                value = lex();\n                // A closing square bracket marks the end of the array literal.\n                if (value == \"]\") {\n                  break;\n                }\n                // If the array literal contains elements, the current token\n                // should be a comma separating the previous element from the\n                // next.\n                if (hasMembers) {\n                  if (value == \",\") {\n                    value = lex();\n                    if (value == \"]\") {\n                      // Unexpected trailing `,` in array literal.\n                      abort();\n                    }\n                  } else {\n                    // A `,` must separate each array element.\n                    abort();\n                  }\n                }\n                // Elisions and leading commas are not permitted.\n                if (value == \",\") {\n                  abort();\n                }\n                results.push(get(value));\n              }\n              return results;\n            } else if (value == \"{\") {\n              // Parses a JSON object, returning a new JavaScript object.\n              results = {};\n              for (;; hasMembers || (hasMembers = true)) {\n                value = lex();\n                // A closing curly brace marks the end of the object literal.\n                if (value == \"}\") {\n                  break;\n                }\n                // If the object literal contains members, the current token\n                // should be a comma separator.\n                if (hasMembers) {\n                  if (value == \",\") {\n                    value = lex();\n                    if (value == \"}\") {\n                      // Unexpected trailing `,` in object literal.\n                      abort();\n                    }\n                  } else {\n                    // A `,` must separate each object member.\n                    abort();\n                  }\n                }\n                // Leading commas are not permitted, object property names must be\n                // double-quoted strings, and a `:` must separate each property\n                // name and value.\n                if (value == \",\" || typeof value != \"string\" || (charIndexBuggy ? value.charAt(0) : value[0]) != \"@\" || lex() != \":\") {\n                  abort();\n                }\n                results[value.slice(1)] = get(lex());\n              }\n              return results;\n            }\n            // Unexpected token encountered.\n            abort();\n          }\n          return value;\n        };\n\n        // Internal: Updates a traversed object member.\n        var update = function (source, property, callback) {\n          var element = walk(source, property, callback);\n          if (element === undef) {\n            delete source[property];\n          } else {\n            source[property] = element;\n          }\n        };\n\n        // Internal: Recursively traverses a parsed JSON object, invoking the\n        // `callback` function for each value. This is an implementation of the\n        // `Walk(holder, name)` operation defined in ES 5.1 section 15.12.2.\n        var walk = function (source, property, callback) {\n          var value = source[property], length;\n          if (typeof value == \"object\" && value) {\n            // `forEach` can't be used to traverse an array in Opera <= 8.54\n            // because its `Object#hasOwnProperty` implementation returns `false`\n            // for array indices (e.g., `![1, 2, 3].hasOwnProperty(\"0\")`).\n            if (getClass.call(value) == arrayClass) {\n              for (length = value.length; length--;) {\n                update(value, length, callback);\n              }\n            } else {\n              forEach(value, function (property) {\n                update(value, property, callback);\n              });\n            }\n          }\n          return callback.call(source, property, value);\n        };\n\n        // Public: `JSON.parse`. See ES 5.1 section 15.12.2.\n        exports.parse = function (source, callback) {\n          var result, value;\n          Index = 0;\n          Source = \"\" + source;\n          result = get(lex());\n          // If a JSON string contains multiple tokens, it is invalid.\n          if (lex() != \"$\") {\n            abort();\n          }\n          // Reset the parser state.\n          Index = Source = null;\n          return callback && getClass.call(callback) == functionClass ? walk((value = {}, value[\"\"] = result, value), \"\", callback) : result;\n        };\n      }\n    }\n\n    exports[\"runInContext\"] = runInContext;\n    return exports;\n  }\n\n  if (freeExports && !isLoader) {\n    // Export for CommonJS environments.\n    runInContext(root, freeExports);\n  } else {\n    // Export for web browsers and JavaScript engines.\n    var nativeJSON = root.JSON,\n        previousJSON = root[\"JSON3\"],\n        isRestored = false;\n\n    var JSON3 = runInContext(root, (root[\"JSON3\"] = {\n      // Public: Restores the original value of the global `JSON` object and\n      // returns a reference to the `JSON3` object.\n      \"noConflict\": function () {\n        if (!isRestored) {\n          isRestored = true;\n          root.JSON = nativeJSON;\n          root[\"JSON3\"] = previousJSON;\n          nativeJSON = previousJSON = null;\n        }\n        return JSON3;\n      }\n    }));\n\n    root.JSON = {\n      \"parse\": JSON3.parse,\n      \"stringify\": JSON3.stringify\n    };\n  }\n\n  // Export for asynchronous module loaders.\n  if (isLoader) {\n    define(function () {\n      return JSON3;\n    });\n  }\n}).call(this);\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],58:[function(require,module,exports){\n/**\n * Helpers.\n */\n\nvar s = 1000\nvar m = s * 60\nvar h = m * 60\nvar d = h * 24\nvar y = d * 365.25\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} options\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {}\n  var type = typeof val\n  if (type === 'string' && val.length > 0) {\n    return parse(val)\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ?\n\t\t\tfmtLong(val) :\n\t\t\tfmtShort(val)\n  }\n  throw new Error('val is not a non-empty string or a valid number. val=' + JSON.stringify(val))\n}\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str)\n  if (str.length > 10000) {\n    return\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str)\n  if (!match) {\n    return\n  }\n  var n = parseFloat(match[1])\n  var type = (match[2] || 'ms').toLowerCase()\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n\n    default:\n      return undefined\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd'\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h'\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm'\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's'\n  }\n  return ms + 'ms'\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms'\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's'\n}\n\n},{}],59:[function(require,module,exports){\n(function (global){\n/**\r\n * JSON parse.\r\n *\r\n * @see Based on jQuery#parseJSON (MIT) and JSON2\r\n * @api private\r\n */\r\n\r\nvar rvalidchars = /^[\\],:{}\\s]*$/;\r\nvar rvalidescape = /\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g;\r\nvar rvalidtokens = /\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\r\nvar rvalidbraces = /(?:^|:|,)(?:\\s*\\[)+/g;\r\nvar rtrimLeft = /^\\s+/;\r\nvar rtrimRight = /\\s+$/;\r\n\r\nmodule.exports = function parsejson(data) {\r\n  if ('string' != typeof data || !data) {\r\n    return null;\r\n  }\r\n\r\n  data = data.replace(rtrimLeft, '').replace(rtrimRight, '');\r\n\r\n  // Attempt to parse using the native JSON parser first\r\n  if (global.JSON && JSON.parse) {\r\n    return JSON.parse(data);\r\n  }\r\n\r\n  if (rvalidchars.test(data.replace(rvalidescape, '@')\r\n      .replace(rvalidtokens, ']')\r\n      .replace(rvalidbraces, ''))) {\r\n    return (new Function('return ' + data))();\r\n  }\r\n};\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],60:[function(require,module,exports){\n/**\r\n * Compiles a querystring\r\n * Returns string representation of the object\r\n *\r\n * @param {Object}\r\n * @api private\r\n */\r\n\r\nexports.encode = function (obj) {\r\n  var str = '';\r\n\r\n  for (var i in obj) {\r\n    if (obj.hasOwnProperty(i)) {\r\n      if (str.length) str += '&';\r\n      str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\r\n    }\r\n  }\r\n\r\n  return str;\r\n};\r\n\r\n/**\r\n * Parses a simple querystring into an object\r\n *\r\n * @param {String} qs\r\n * @api private\r\n */\r\n\r\nexports.decode = function(qs){\r\n  var qry = {};\r\n  var pairs = qs.split('&');\r\n  for (var i = 0, l = pairs.length; i < l; i++) {\r\n    var pair = pairs[i].split('=');\r\n    qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\r\n  }\r\n  return qry;\r\n};\r\n\n},{}],61:[function(require,module,exports){\n/**\r\n * Parses an URI\r\n *\r\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\r\n * @api private\r\n */\r\n\r\nvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\r\n\r\nvar parts = [\r\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\r\n];\r\n\r\nmodule.exports = function parseuri(str) {\r\n    var src = str,\r\n        b = str.indexOf('['),\r\n        e = str.indexOf(']');\r\n\r\n    if (b != -1 && e != -1) {\r\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\r\n    }\r\n\r\n    var m = re.exec(str || ''),\r\n        uri = {},\r\n        i = 14;\r\n\r\n    while (i--) {\r\n        uri[parts[i]] = m[i] || '';\r\n    }\r\n\r\n    if (b != -1 && e != -1) {\r\n        uri.source = src;\r\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\r\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\r\n        uri.ipv6uri = true;\r\n    }\r\n\r\n    return uri;\r\n};\r\n\n},{}],62:[function(require,module,exports){\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],63:[function(require,module,exports){\n'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nmodule.exports = {\n    'default': 'RFC3986',\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return value;\n        }\n    },\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\n},{}],64:[function(require,module,exports){\n'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n\n},{\"./formats\":63,\"./parse\":65,\"./stringify\":66}],65:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    arrayLimit: 20,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    parameterLimit: 1000,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var parts = str.split(options.delimiter, options.parameterLimit === Infinity ? undefined : options.parameterLimit);\n\n    for (var i = 0; i < parts.length; ++i) {\n        var part = parts[i];\n        var pos = part.indexOf(']=') === -1 ? part.indexOf('=') : part.indexOf(']=') + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part);\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos));\n            val = options.decoder(part.slice(pos + 1));\n        }\n        if (has.call(obj, key)) {\n            obj[key] = [].concat(obj[key]).concat(val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function parseObjectRecursive(chain, val, options) {\n    if (!chain.length) {\n        return val;\n    }\n\n    var root = chain.shift();\n\n    var obj;\n    if (root === '[]') {\n        obj = [];\n        obj = obj.concat(parseObject(chain, val, options));\n    } else {\n        obj = options.plainObjects ? Object.create(null) : {};\n        var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n        var index = parseInt(cleanRoot, 10);\n        if (\n            !isNaN(index) &&\n            root !== cleanRoot &&\n            String(index) === cleanRoot &&\n            index >= 0 &&\n            (options.parseArrays && index <= options.arrayLimit)\n        ) {\n            obj = [];\n            obj[index] = parseObject(chain, val, options);\n        } else {\n            obj[cleanRoot] = parseObject(chain, val, options);\n        }\n    }\n\n    return obj;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys\n        // that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while ((segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options);\n};\n\nmodule.exports = function (str, opts) {\n    var options = opts || {};\n\n    if (options.decoder !== null && options.decoder !== undefined && typeof options.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    options.delimiter = typeof options.delimiter === 'string' || utils.isRegExp(options.delimiter) ? options.delimiter : defaults.delimiter;\n    options.depth = typeof options.depth === 'number' ? options.depth : defaults.depth;\n    options.arrayLimit = typeof options.arrayLimit === 'number' ? options.arrayLimit : defaults.arrayLimit;\n    options.parseArrays = options.parseArrays !== false;\n    options.decoder = typeof options.decoder === 'function' ? options.decoder : defaults.decoder;\n    options.allowDots = typeof options.allowDots === 'boolean' ? options.allowDots : defaults.allowDots;\n    options.plainObjects = typeof options.plainObjects === 'boolean' ? options.plainObjects : defaults.plainObjects;\n    options.allowPrototypes = typeof options.allowPrototypes === 'boolean' ? options.allowPrototypes : defaults.allowPrototypes;\n    options.parameterLimit = typeof options.parameterLimit === 'number' ? options.parameterLimit : defaults.parameterLimit;\n    options.strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options);\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    return utils.compact(obj);\n};\n\n},{\"./utils\":67}],66:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./utils');\nvar formats = require('./formats');\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) { // eslint-disable-line func-name-matching\n        return prefix + '[]';\n    },\n    indices: function indices(prefix, key) { // eslint-disable-line func-name-matching\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) { // eslint-disable-line func-name-matching\n        return prefix;\n    }\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaults = {\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    serializeDate: function serializeDate(date) { // eslint-disable-line func-name-matching\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar stringify = function stringify( // eslint-disable-line func-name-matching\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    formatter,\n    encodeValuesOnly\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean' || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (Array.isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        if (Array.isArray(obj)) {\n            values = values.concat(stringify(\n                obj[key],\n                generateArrayPrefix(prefix, key),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        } else {\n            values = values.concat(stringify(\n                obj[key],\n                prefix + (allowDots ? '.' + key : '[' + key + ']'),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        }\n    }\n\n    return values;\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = opts || {};\n\n    if (options.encoder !== null && options.encoder !== undefined && typeof options.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var delimiter = typeof options.delimiter === 'undefined' ? defaults.delimiter : options.delimiter;\n    var strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n    var skipNulls = typeof options.skipNulls === 'boolean' ? options.skipNulls : defaults.skipNulls;\n    var encode = typeof options.encode === 'boolean' ? options.encode : defaults.encode;\n    var encoder = typeof options.encoder === 'function' ? options.encoder : defaults.encoder;\n    var sort = typeof options.sort === 'function' ? options.sort : null;\n    var allowDots = typeof options.allowDots === 'undefined' ? false : options.allowDots;\n    var serializeDate = typeof options.serializeDate === 'function' ? options.serializeDate : defaults.serializeDate;\n    var encodeValuesOnly = typeof options.encodeValuesOnly === 'boolean' ? options.encodeValuesOnly : defaults.encodeValuesOnly;\n    if (typeof options.format === 'undefined') {\n        options.format = formats.default;\n    } else if (!Object.prototype.hasOwnProperty.call(formats.formatters, options.format)) {\n        throw new TypeError('Unknown format option provided.');\n    }\n    var formatter = formats.formatters[options.format];\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (Array.isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (options.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = options.arrayFormat;\n    } else if ('indices' in options) {\n        arrayFormat = options.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (sort) {\n        objKeys.sort(sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        keys = keys.concat(stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encode ? encoder : null,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            formatter,\n            encodeValuesOnly\n        ));\n    }\n\n    return keys.join(delimiter);\n};\n\n},{\"./formats\":63,\"./utils\":67}],67:[function(require,module,exports){\n'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nexports.arrayToObject = function (source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nexports.merge = function (target, source, options) {\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (Array.isArray(target)) {\n            target.push(source);\n        } else if (typeof target === 'object') {\n            if (options.plainObjects || options.allowPrototypes || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (Array.isArray(target) && !Array.isArray(source)) {\n        mergeTarget = exports.arrayToObject(target, options);\n    }\n\n    if (Array.isArray(target) && Array.isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                if (target[i] && typeof target[i] === 'object') {\n                    target[i] = exports.merge(target[i], item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (Object.prototype.hasOwnProperty.call(acc, key)) {\n            acc[key] = exports.merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nexports.decode = function (str) {\n    try {\n        return decodeURIComponent(str.replace(/\\+/g, ' '));\n    } catch (e) {\n        return str;\n    }\n};\n\nexports.encode = function (str) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = typeof str === 'string' ? str : String(str);\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D || // -\n            c === 0x2E || // .\n            c === 0x5F || // _\n            c === 0x7E || // ~\n            (c >= 0x30 && c <= 0x39) || // 0-9\n            (c >= 0x41 && c <= 0x5A) || // a-z\n            (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)] + hexTable[0x80 | ((c >> 12) & 0x3F)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]; // eslint-disable-line max-len\n    }\n\n    return out;\n};\n\nexports.compact = function (obj, references) {\n    if (typeof obj !== 'object' || obj === null) {\n        return obj;\n    }\n\n    var refs = references || [];\n    var lookup = refs.indexOf(obj);\n    if (lookup !== -1) {\n        return refs[lookup];\n    }\n\n    refs.push(obj);\n\n    if (Array.isArray(obj)) {\n        var compacted = [];\n\n        for (var i = 0; i < obj.length; ++i) {\n            if (obj[i] && typeof obj[i] === 'object') {\n                compacted.push(exports.compact(obj[i], refs));\n            } else if (typeof obj[i] !== 'undefined') {\n                compacted.push(obj[i]);\n            }\n        }\n\n        return compacted;\n    }\n\n    var keys = Object.keys(obj);\n    keys.forEach(function (key) {\n        obj[key] = exports.compact(obj[key], refs);\n    });\n\n    return obj;\n};\n\nexports.isRegExp = function (obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nexports.isBuffer = function (obj) {\n    if (obj === null || typeof obj === 'undefined') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\n},{}],68:[function(require,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar url = require('./url');\nvar parser = require('socket.io-parser');\nvar Manager = require('./manager');\nvar debug = require('debug')('socket.io-client');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = lookup;\n\n/**\n * Managers cache.\n */\n\nvar cache = exports.managers = {};\n\n/**\n * Looks up an existing `Manager` for multiplexing.\n * If the user summons:\n *\n *   `io('http://localhost/a');`\n *   `io('http://localhost/b');`\n *\n * We reuse the existing instance based on same scheme/port/host,\n * and we initialize sockets for each namespace.\n *\n * @api public\n */\n\nfunction lookup (uri, opts) {\n  if (typeof uri === 'object') {\n    opts = uri;\n    uri = undefined;\n  }\n\n  opts = opts || {};\n\n  var parsed = url(uri);\n  var source = parsed.source;\n  var id = parsed.id;\n  var path = parsed.path;\n  var sameNamespace = cache[id] && path in cache[id].nsps;\n  var newConnection = opts.forceNew || opts['force new connection'] ||\n                      false === opts.multiplex || sameNamespace;\n\n  var io;\n\n  if (newConnection) {\n    debug('ignoring socket cache for %s', source);\n    io = Manager(source, opts);\n  } else {\n    if (!cache[id]) {\n      debug('new io instance for %s', source);\n      cache[id] = Manager(source, opts);\n    }\n    io = cache[id];\n  }\n  if (parsed.query && !opts.query) {\n    opts.query = parsed.query;\n  } else if (opts && 'object' === typeof opts.query) {\n    opts.query = encodeQueryString(opts.query);\n  }\n  return io.socket(parsed.path, opts);\n}\n/**\n *  Helper method to parse query objects to string.\n * @param {object} query\n * @returns {string}\n */\nfunction encodeQueryString (obj) {\n  var str = [];\n  for (var p in obj) {\n    if (obj.hasOwnProperty(p)) {\n      str.push(encodeURIComponent(p) + '=' + encodeURIComponent(obj[p]));\n    }\n  }\n  return str.join('&');\n}\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = parser.protocol;\n\n/**\n * `connect`.\n *\n * @param {String} uri\n * @api public\n */\n\nexports.connect = lookup;\n\n/**\n * Expose constructors for standalone build.\n *\n * @api public\n */\n\nexports.Manager = require('./manager');\nexports.Socket = require('./socket');\n\n},{\"./manager\":69,\"./socket\":71,\"./url\":72,\"debug\":74,\"socket.io-parser\":77}],69:[function(require,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar eio = require('engine.io-client');\nvar Socket = require('./socket');\nvar Emitter = require('component-emitter');\nvar parser = require('socket.io-parser');\nvar on = require('./on');\nvar bind = require('component-bind');\nvar debug = require('debug')('socket.io-client:manager');\nvar indexOf = require('indexof');\nvar Backoff = require('backo2');\n\n/**\n * IE6+ hasOwnProperty\n */\n\nvar has = Object.prototype.hasOwnProperty;\n\n/**\n * Module exports\n */\n\nmodule.exports = Manager;\n\n/**\n * `Manager` constructor.\n *\n * @param {String} engine instance or engine uri/opts\n * @param {Object} options\n * @api public\n */\n\nfunction Manager (uri, opts) {\n  if (!(this instanceof Manager)) return new Manager(uri, opts);\n  if (uri && ('object' === typeof uri)) {\n    opts = uri;\n    uri = undefined;\n  }\n  opts = opts || {};\n\n  opts.path = opts.path || '/socket.io';\n  this.nsps = {};\n  this.subs = [];\n  this.opts = opts;\n  this.reconnection(opts.reconnection !== false);\n  this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n  this.reconnectionDelay(opts.reconnectionDelay || 1000);\n  this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n  this.randomizationFactor(opts.randomizationFactor || 0.5);\n  this.backoff = new Backoff({\n    min: this.reconnectionDelay(),\n    max: this.reconnectionDelayMax(),\n    jitter: this.randomizationFactor()\n  });\n  this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n  this.readyState = 'closed';\n  this.uri = uri;\n  this.connecting = [];\n  this.lastPing = null;\n  this.encoding = false;\n  this.packetBuffer = [];\n  this.encoder = new parser.Encoder();\n  this.decoder = new parser.Decoder();\n  this.autoConnect = opts.autoConnect !== false;\n  if (this.autoConnect) this.open();\n}\n\n/**\n * Propagate given event to sockets and emit on `this`\n *\n * @api private\n */\n\nManager.prototype.emitAll = function () {\n  this.emit.apply(this, arguments);\n  for (var nsp in this.nsps) {\n    if (has.call(this.nsps, nsp)) {\n      this.nsps[nsp].emit.apply(this.nsps[nsp], arguments);\n    }\n  }\n};\n\n/**\n * Update `socket.id` of all sockets\n *\n * @api private\n */\n\nManager.prototype.updateSocketIds = function () {\n  for (var nsp in this.nsps) {\n    if (has.call(this.nsps, nsp)) {\n      this.nsps[nsp].id = this.engine.id;\n    }\n  }\n};\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Manager.prototype);\n\n/**\n * Sets the `reconnection` config.\n *\n * @param {Boolean} true/false if it should automatically reconnect\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnection = function (v) {\n  if (!arguments.length) return this._reconnection;\n  this._reconnection = !!v;\n  return this;\n};\n\n/**\n * Sets the reconnection attempts config.\n *\n * @param {Number} max reconnection attempts before giving up\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionAttempts = function (v) {\n  if (!arguments.length) return this._reconnectionAttempts;\n  this._reconnectionAttempts = v;\n  return this;\n};\n\n/**\n * Sets the delay between reconnections.\n *\n * @param {Number} delay\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionDelay = function (v) {\n  if (!arguments.length) return this._reconnectionDelay;\n  this._reconnectionDelay = v;\n  this.backoff && this.backoff.setMin(v);\n  return this;\n};\n\nManager.prototype.randomizationFactor = function (v) {\n  if (!arguments.length) return this._randomizationFactor;\n  this._randomizationFactor = v;\n  this.backoff && this.backoff.setJitter(v);\n  return this;\n};\n\n/**\n * Sets the maximum delay between reconnections.\n *\n * @param {Number} delay\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionDelayMax = function (v) {\n  if (!arguments.length) return this._reconnectionDelayMax;\n  this._reconnectionDelayMax = v;\n  this.backoff && this.backoff.setMax(v);\n  return this;\n};\n\n/**\n * Sets the connection timeout. `false` to disable\n *\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.timeout = function (v) {\n  if (!arguments.length) return this._timeout;\n  this._timeout = v;\n  return this;\n};\n\n/**\n * Starts trying to reconnect if reconnection is enabled and we have not\n * started reconnecting yet\n *\n * @api private\n */\n\nManager.prototype.maybeReconnectOnOpen = function () {\n  // Only try to reconnect if it's the first time we're connecting\n  if (!this.reconnecting && this._reconnection && this.backoff.attempts === 0) {\n    // keeps reconnection from firing twice for the same reconnection loop\n    this.reconnect();\n  }\n};\n\n/**\n * Sets the current transport `socket`.\n *\n * @param {Function} optional, callback\n * @return {Manager} self\n * @api public\n */\n\nManager.prototype.open =\nManager.prototype.connect = function (fn, opts) {\n  debug('readyState %s', this.readyState);\n  if (~this.readyState.indexOf('open')) return this;\n\n  debug('opening %s', this.uri);\n  this.engine = eio(this.uri, this.opts);\n  var socket = this.engine;\n  var self = this;\n  this.readyState = 'opening';\n  this.skipReconnect = false;\n\n  // emit `open`\n  var openSub = on(socket, 'open', function () {\n    self.onopen();\n    fn && fn();\n  });\n\n  // emit `connect_error`\n  var errorSub = on(socket, 'error', function (data) {\n    debug('connect_error');\n    self.cleanup();\n    self.readyState = 'closed';\n    self.emitAll('connect_error', data);\n    if (fn) {\n      var err = new Error('Connection error');\n      err.data = data;\n      fn(err);\n    } else {\n      // Only do this if there is no fn to handle the error\n      self.maybeReconnectOnOpen();\n    }\n  });\n\n  // emit `connect_timeout`\n  if (false !== this._timeout) {\n    var timeout = this._timeout;\n    debug('connect attempt will timeout after %d', timeout);\n\n    // set timer\n    var timer = setTimeout(function () {\n      debug('connect attempt timed out after %d', timeout);\n      openSub.destroy();\n      socket.close();\n      socket.emit('error', 'timeout');\n      self.emitAll('connect_timeout', timeout);\n    }, timeout);\n\n    this.subs.push({\n      destroy: function () {\n        clearTimeout(timer);\n      }\n    });\n  }\n\n  this.subs.push(openSub);\n  this.subs.push(errorSub);\n\n  return this;\n};\n\n/**\n * Called upon transport open.\n *\n * @api private\n */\n\nManager.prototype.onopen = function () {\n  debug('open');\n\n  // clear old subs\n  this.cleanup();\n\n  // mark as open\n  this.readyState = 'open';\n  this.emit('open');\n\n  // add new subs\n  var socket = this.engine;\n  this.subs.push(on(socket, 'data', bind(this, 'ondata')));\n  this.subs.push(on(socket, 'ping', bind(this, 'onping')));\n  this.subs.push(on(socket, 'pong', bind(this, 'onpong')));\n  this.subs.push(on(socket, 'error', bind(this, 'onerror')));\n  this.subs.push(on(socket, 'close', bind(this, 'onclose')));\n  this.subs.push(on(this.decoder, 'decoded', bind(this, 'ondecoded')));\n};\n\n/**\n * Called upon a ping.\n *\n * @api private\n */\n\nManager.prototype.onping = function () {\n  this.lastPing = new Date();\n  this.emitAll('ping');\n};\n\n/**\n * Called upon a packet.\n *\n * @api private\n */\n\nManager.prototype.onpong = function () {\n  this.emitAll('pong', new Date() - this.lastPing);\n};\n\n/**\n * Called with data.\n *\n * @api private\n */\n\nManager.prototype.ondata = function (data) {\n  this.decoder.add(data);\n};\n\n/**\n * Called when parser fully decodes a packet.\n *\n * @api private\n */\n\nManager.prototype.ondecoded = function (packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon socket error.\n *\n * @api private\n */\n\nManager.prototype.onerror = function (err) {\n  debug('error', err);\n  this.emitAll('error', err);\n};\n\n/**\n * Creates a new socket for the given `nsp`.\n *\n * @return {Socket}\n * @api public\n */\n\nManager.prototype.socket = function (nsp, opts) {\n  var socket = this.nsps[nsp];\n  if (!socket) {\n    socket = new Socket(this, nsp, opts);\n    this.nsps[nsp] = socket;\n    var self = this;\n    socket.on('connecting', onConnecting);\n    socket.on('connect', function () {\n      socket.id = self.engine.id;\n    });\n\n    if (this.autoConnect) {\n      // manually call here since connecting evnet is fired before listening\n      onConnecting();\n    }\n  }\n\n  function onConnecting () {\n    if (!~indexOf(self.connecting, socket)) {\n      self.connecting.push(socket);\n    }\n  }\n\n  return socket;\n};\n\n/**\n * Called upon a socket close.\n *\n * @param {Socket} socket\n */\n\nManager.prototype.destroy = function (socket) {\n  var index = indexOf(this.connecting, socket);\n  if (~index) this.connecting.splice(index, 1);\n  if (this.connecting.length) return;\n\n  this.close();\n};\n\n/**\n * Writes a packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nManager.prototype.packet = function (packet) {\n  debug('writing packet %j', packet);\n  var self = this;\n  if (packet.query && packet.type === 0) packet.nsp += '?' + packet.query;\n\n  if (!self.encoding) {\n    // encode, then write to engine with result\n    self.encoding = true;\n    this.encoder.encode(packet, function (encodedPackets) {\n      for (var i = 0; i < encodedPackets.length; i++) {\n        self.engine.write(encodedPackets[i], packet.options);\n      }\n      self.encoding = false;\n      self.processPacketQueue();\n    });\n  } else { // add packet to the queue\n    self.packetBuffer.push(packet);\n  }\n};\n\n/**\n * If packet buffer is non-empty, begins encoding the\n * next packet in line.\n *\n * @api private\n */\n\nManager.prototype.processPacketQueue = function () {\n  if (this.packetBuffer.length > 0 && !this.encoding) {\n    var pack = this.packetBuffer.shift();\n    this.packet(pack);\n  }\n};\n\n/**\n * Clean up transport subscriptions and packet buffer.\n *\n * @api private\n */\n\nManager.prototype.cleanup = function () {\n  debug('cleanup');\n\n  var subsLength = this.subs.length;\n  for (var i = 0; i < subsLength; i++) {\n    var sub = this.subs.shift();\n    sub.destroy();\n  }\n\n  this.packetBuffer = [];\n  this.encoding = false;\n  this.lastPing = null;\n\n  this.decoder.destroy();\n};\n\n/**\n * Close the current socket.\n *\n * @api private\n */\n\nManager.prototype.close =\nManager.prototype.disconnect = function () {\n  debug('disconnect');\n  this.skipReconnect = true;\n  this.reconnecting = false;\n  if ('opening' === this.readyState) {\n    // `onclose` will not fire because\n    // an open event never happened\n    this.cleanup();\n  }\n  this.backoff.reset();\n  this.readyState = 'closed';\n  if (this.engine) this.engine.close();\n};\n\n/**\n * Called upon engine close.\n *\n * @api private\n */\n\nManager.prototype.onclose = function (reason) {\n  debug('onclose');\n\n  this.cleanup();\n  this.backoff.reset();\n  this.readyState = 'closed';\n  this.emit('close', reason);\n\n  if (this._reconnection && !this.skipReconnect) {\n    this.reconnect();\n  }\n};\n\n/**\n * Attempt a reconnection.\n *\n * @api private\n */\n\nManager.prototype.reconnect = function () {\n  if (this.reconnecting || this.skipReconnect) return this;\n\n  var self = this;\n\n  if (this.backoff.attempts >= this._reconnectionAttempts) {\n    debug('reconnect failed');\n    this.backoff.reset();\n    this.emitAll('reconnect_failed');\n    this.reconnecting = false;\n  } else {\n    var delay = this.backoff.duration();\n    debug('will wait %dms before reconnect attempt', delay);\n\n    this.reconnecting = true;\n    var timer = setTimeout(function () {\n      if (self.skipReconnect) return;\n\n      debug('attempting reconnect');\n      self.emitAll('reconnect_attempt', self.backoff.attempts);\n      self.emitAll('reconnecting', self.backoff.attempts);\n\n      // check again for the case socket closed in above events\n      if (self.skipReconnect) return;\n\n      self.open(function (err) {\n        if (err) {\n          debug('reconnect attempt error');\n          self.reconnecting = false;\n          self.reconnect();\n          self.emitAll('reconnect_error', err.data);\n        } else {\n          debug('reconnect success');\n          self.onreconnect();\n        }\n      });\n    }, delay);\n\n    this.subs.push({\n      destroy: function () {\n        clearTimeout(timer);\n      }\n    });\n  }\n};\n\n/**\n * Called upon successful reconnect.\n *\n * @api private\n */\n\nManager.prototype.onreconnect = function () {\n  var attempt = this.backoff.attempts;\n  this.reconnecting = false;\n  this.backoff.reset();\n  this.updateSocketIds();\n  this.emitAll('reconnect', attempt);\n};\n\n},{\"./on\":70,\"./socket\":71,\"backo2\":28,\"component-bind\":33,\"component-emitter\":73,\"debug\":74,\"engine.io-client\":36,\"indexof\":55,\"socket.io-parser\":77}],70:[function(require,module,exports){\n\n/**\n * Module exports.\n */\n\nmodule.exports = on;\n\n/**\n * Helper for subscriptions.\n *\n * @param {Object|EventEmitter} obj with `Emitter` mixin or `EventEmitter`\n * @param {String} event name\n * @param {Function} callback\n * @api public\n */\n\nfunction on (obj, ev, fn) {\n  obj.on(ev, fn);\n  return {\n    destroy: function () {\n      obj.removeListener(ev, fn);\n    }\n  };\n}\n\n},{}],71:[function(require,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar parser = require('socket.io-parser');\nvar Emitter = require('component-emitter');\nvar toArray = require('to-array');\nvar on = require('./on');\nvar bind = require('component-bind');\nvar debug = require('debug')('socket.io-client:socket');\nvar hasBin = require('has-binary');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = Socket;\n\n/**\n * Internal events (blacklisted).\n * These events can't be emitted by the user.\n *\n * @api private\n */\n\nvar events = {\n  connect: 1,\n  connect_error: 1,\n  connect_timeout: 1,\n  connecting: 1,\n  disconnect: 1,\n  error: 1,\n  reconnect: 1,\n  reconnect_attempt: 1,\n  reconnect_failed: 1,\n  reconnect_error: 1,\n  reconnecting: 1,\n  ping: 1,\n  pong: 1\n};\n\n/**\n * Shortcut to `Emitter#emit`.\n */\n\nvar emit = Emitter.prototype.emit;\n\n/**\n * `Socket` constructor.\n *\n * @api public\n */\n\nfunction Socket (io, nsp, opts) {\n  this.io = io;\n  this.nsp = nsp;\n  this.json = this; // compat\n  this.ids = 0;\n  this.acks = {};\n  this.receiveBuffer = [];\n  this.sendBuffer = [];\n  this.connected = false;\n  this.disconnected = true;\n  if (opts && opts.query) {\n    this.query = opts.query;\n  }\n  if (this.io.autoConnect) this.open();\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Socket.prototype);\n\n/**\n * Subscribe to open, close and packet events\n *\n * @api private\n */\n\nSocket.prototype.subEvents = function () {\n  if (this.subs) return;\n\n  var io = this.io;\n  this.subs = [\n    on(io, 'open', bind(this, 'onopen')),\n    on(io, 'packet', bind(this, 'onpacket')),\n    on(io, 'close', bind(this, 'onclose'))\n  ];\n};\n\n/**\n * \"Opens\" the socket.\n *\n * @api public\n */\n\nSocket.prototype.open =\nSocket.prototype.connect = function () {\n  if (this.connected) return this;\n\n  this.subEvents();\n  this.io.open(); // ensure open\n  if ('open' === this.io.readyState) this.onopen();\n  this.emit('connecting');\n  return this;\n};\n\n/**\n * Sends a `message` event.\n *\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.send = function () {\n  var args = toArray(arguments);\n  args.unshift('message');\n  this.emit.apply(this, args);\n  return this;\n};\n\n/**\n * Override `emit`.\n * If the event is in `events`, it's emitted normally.\n *\n * @param {String} event name\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.emit = function (ev) {\n  if (events.hasOwnProperty(ev)) {\n    emit.apply(this, arguments);\n    return this;\n  }\n\n  var args = toArray(arguments);\n  var parserType = parser.EVENT; // default\n  if (hasBin(args)) { parserType = parser.BINARY_EVENT; } // binary\n  var packet = { type: parserType, data: args };\n\n  packet.options = {};\n  packet.options.compress = !this.flags || false !== this.flags.compress;\n\n  // event ack callback\n  if ('function' === typeof args[args.length - 1]) {\n    debug('emitting packet with ack id %d', this.ids);\n    this.acks[this.ids] = args.pop();\n    packet.id = this.ids++;\n  }\n\n  if (this.connected) {\n    this.packet(packet);\n  } else {\n    this.sendBuffer.push(packet);\n  }\n\n  delete this.flags;\n\n  return this;\n};\n\n/**\n * Sends a packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.packet = function (packet) {\n  packet.nsp = this.nsp;\n  this.io.packet(packet);\n};\n\n/**\n * Called upon engine `open`.\n *\n * @api private\n */\n\nSocket.prototype.onopen = function () {\n  debug('transport is open - connecting');\n\n  // write connect packet if necessary\n  if ('/' !== this.nsp) {\n    if (this.query) {\n      this.packet({type: parser.CONNECT, query: this.query});\n    } else {\n      this.packet({type: parser.CONNECT});\n    }\n  }\n};\n\n/**\n * Called upon engine `close`.\n *\n * @param {String} reason\n * @api private\n */\n\nSocket.prototype.onclose = function (reason) {\n  debug('close (%s)', reason);\n  this.connected = false;\n  this.disconnected = true;\n  delete this.id;\n  this.emit('disconnect', reason);\n};\n\n/**\n * Called with socket packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onpacket = function (packet) {\n  if (packet.nsp !== this.nsp) return;\n\n  switch (packet.type) {\n    case parser.CONNECT:\n      this.onconnect();\n      break;\n\n    case parser.EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.BINARY_EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.ACK:\n      this.onack(packet);\n      break;\n\n    case parser.BINARY_ACK:\n      this.onack(packet);\n      break;\n\n    case parser.DISCONNECT:\n      this.ondisconnect();\n      break;\n\n    case parser.ERROR:\n      this.emit('error', packet.data);\n      break;\n  }\n};\n\n/**\n * Called upon a server event.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onevent = function (packet) {\n  var args = packet.data || [];\n  debug('emitting event %j', args);\n\n  if (null != packet.id) {\n    debug('attaching ack callback to event');\n    args.push(this.ack(packet.id));\n  }\n\n  if (this.connected) {\n    emit.apply(this, args);\n  } else {\n    this.receiveBuffer.push(args);\n  }\n};\n\n/**\n * Produces an ack callback to emit with an event.\n *\n * @api private\n */\n\nSocket.prototype.ack = function (id) {\n  var self = this;\n  var sent = false;\n  return function () {\n    // prevent double callbacks\n    if (sent) return;\n    sent = true;\n    var args = toArray(arguments);\n    debug('sending ack %j', args);\n\n    var type = hasBin(args) ? parser.BINARY_ACK : parser.ACK;\n    self.packet({\n      type: type,\n      id: id,\n      data: args\n    });\n  };\n};\n\n/**\n * Called upon a server acknowlegement.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onack = function (packet) {\n  var ack = this.acks[packet.id];\n  if ('function' === typeof ack) {\n    debug('calling ack %s with %j', packet.id, packet.data);\n    ack.apply(this, packet.data);\n    delete this.acks[packet.id];\n  } else {\n    debug('bad ack %s', packet.id);\n  }\n};\n\n/**\n * Called upon server connect.\n *\n * @api private\n */\n\nSocket.prototype.onconnect = function () {\n  this.connected = true;\n  this.disconnected = false;\n  this.emit('connect');\n  this.emitBuffered();\n};\n\n/**\n * Emit buffered events (received and emitted).\n *\n * @api private\n */\n\nSocket.prototype.emitBuffered = function () {\n  var i;\n  for (i = 0; i < this.receiveBuffer.length; i++) {\n    emit.apply(this, this.receiveBuffer[i]);\n  }\n  this.receiveBuffer = [];\n\n  for (i = 0; i < this.sendBuffer.length; i++) {\n    this.packet(this.sendBuffer[i]);\n  }\n  this.sendBuffer = [];\n};\n\n/**\n * Called upon server disconnect.\n *\n * @api private\n */\n\nSocket.prototype.ondisconnect = function () {\n  debug('server disconnect (%s)', this.nsp);\n  this.destroy();\n  this.onclose('io server disconnect');\n};\n\n/**\n * Called upon forced client/server side disconnections,\n * this method ensures the manager stops tracking us and\n * that reconnections don't get triggered for this.\n *\n * @api private.\n */\n\nSocket.prototype.destroy = function () {\n  if (this.subs) {\n    // clean subscriptions to avoid reconnections\n    for (var i = 0; i < this.subs.length; i++) {\n      this.subs[i].destroy();\n    }\n    this.subs = null;\n  }\n\n  this.io.destroy(this);\n};\n\n/**\n * Disconnects the socket manually.\n *\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.close =\nSocket.prototype.disconnect = function () {\n  if (this.connected) {\n    debug('performing disconnect (%s)', this.nsp);\n    this.packet({ type: parser.DISCONNECT });\n  }\n\n  // remove socket from pool\n  this.destroy();\n\n  if (this.connected) {\n    // fire events\n    this.onclose('io client disconnect');\n  }\n  return this;\n};\n\n/**\n * Sets the compress flag.\n *\n * @param {Boolean} if `true`, compresses the sending data\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.compress = function (compress) {\n  this.flags = this.flags || {};\n  this.flags.compress = compress;\n  return this;\n};\n\n},{\"./on\":70,\"component-bind\":33,\"component-emitter\":73,\"debug\":74,\"has-binary\":52,\"socket.io-parser\":77,\"to-array\":83}],72:[function(require,module,exports){\n(function (global){\n\n/**\n * Module dependencies.\n */\n\nvar parseuri = require('parseuri');\nvar debug = require('debug')('socket.io-client:url');\n\n/**\n * Module exports.\n */\n\nmodule.exports = url;\n\n/**\n * URL parser.\n *\n * @param {String} url\n * @param {Object} An object meant to mimic window.location.\n *                 Defaults to window.location.\n * @api public\n */\n\nfunction url (uri, loc) {\n  var obj = uri;\n\n  // default to window.location\n  loc = loc || global.location;\n  if (null == uri) uri = loc.protocol + '//' + loc.host;\n\n  // relative path support\n  if ('string' === typeof uri) {\n    if ('/' === uri.charAt(0)) {\n      if ('/' === uri.charAt(1)) {\n        uri = loc.protocol + uri;\n      } else {\n        uri = loc.host + uri;\n      }\n    }\n\n    if (!/^(https?|wss?):\\/\\//.test(uri)) {\n      debug('protocol-less url %s', uri);\n      if ('undefined' !== typeof loc) {\n        uri = loc.protocol + '//' + uri;\n      } else {\n        uri = 'https://' + uri;\n      }\n    }\n\n    // parse\n    debug('parse %s', uri);\n    obj = parseuri(uri);\n  }\n\n  // make sure we treat `localhost:80` and `localhost` equally\n  if (!obj.port) {\n    if (/^(http|ws)$/.test(obj.protocol)) {\n      obj.port = '80';\n    } else if (/^(http|ws)s$/.test(obj.protocol)) {\n      obj.port = '443';\n    }\n  }\n\n  obj.path = obj.path || '/';\n\n  var ipv6 = obj.host.indexOf(':') !== -1;\n  var host = ipv6 ? '[' + obj.host + ']' : obj.host;\n\n  // define unique id\n  obj.id = obj.protocol + '://' + host + ':' + obj.port;\n  // define href\n  obj.href = obj.protocol + '://' + host + (loc && loc.port === obj.port ? '' : (':' + obj.port));\n\n  return obj;\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"debug\":74,\"parseuri\":61}],73:[function(require,module,exports){\narguments[4][46][0].apply(exports,arguments)\n},{\"dup\":46}],74:[function(require,module,exports){\narguments[4][47][0].apply(exports,arguments)\n},{\"./debug\":75,\"_process\":62,\"dup\":47}],75:[function(require,module,exports){\narguments[4][48][0].apply(exports,arguments)\n},{\"dup\":48,\"ms\":58}],76:[function(require,module,exports){\n(function (global){\n/*global Blob,File*/\n\n/**\n * Module requirements\n */\n\nvar isArray = require('isarray');\nvar isBuf = require('./is-buffer');\n\n/**\n * Replaces every Buffer | ArrayBuffer in packet with a numbered placeholder.\n * Anything with blobs or files should be fed through removeBlobs before coming\n * here.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @api public\n */\n\nexports.deconstructPacket = function(packet){\n  var buffers = [];\n  var packetData = packet.data;\n\n  function _deconstructPacket(data) {\n    if (!data) return data;\n\n    if (isBuf(data)) {\n      var placeholder = { _placeholder: true, num: buffers.length };\n      buffers.push(data);\n      return placeholder;\n    } else if (isArray(data)) {\n      var newData = new Array(data.length);\n      for (var i = 0; i < data.length; i++) {\n        newData[i] = _deconstructPacket(data[i]);\n      }\n      return newData;\n    } else if ('object' == typeof data && !(data instanceof Date)) {\n      var newData = {};\n      for (var key in data) {\n        newData[key] = _deconstructPacket(data[key]);\n      }\n      return newData;\n    }\n    return data;\n  }\n\n  var pack = packet;\n  pack.data = _deconstructPacket(packetData);\n  pack.attachments = buffers.length; // number of binary 'attachments'\n  return {packet: pack, buffers: buffers};\n};\n\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @api public\n */\n\nexports.reconstructPacket = function(packet, buffers) {\n  var curPlaceHolder = 0;\n\n  function _reconstructPacket(data) {\n    if (data && data._placeholder) {\n      var buf = buffers[data.num]; // appropriate buffer (should be natural order anyway)\n      return buf;\n    } else if (isArray(data)) {\n      for (var i = 0; i < data.length; i++) {\n        data[i] = _reconstructPacket(data[i]);\n      }\n      return data;\n    } else if (data && 'object' == typeof data) {\n      for (var key in data) {\n        data[key] = _reconstructPacket(data[key]);\n      }\n      return data;\n    }\n    return data;\n  }\n\n  packet.data = _reconstructPacket(packet.data);\n  packet.attachments = undefined; // no longer useful\n  return packet;\n};\n\n/**\n * Asynchronously removes Blobs or Files from data via\n * FileReader's readAsArrayBuffer method. Used before encoding\n * data as msgpack. Calls callback with the blobless data.\n *\n * @param {Object} data\n * @param {Function} callback\n * @api private\n */\n\nexports.removeBlobs = function(data, callback) {\n  function _removeBlobs(obj, curKey, containingObject) {\n    if (!obj) return obj;\n\n    // convert any blob\n    if ((global.Blob && obj instanceof Blob) ||\n        (global.File && obj instanceof File)) {\n      pendingBlobs++;\n\n      // async filereader\n      var fileReader = new FileReader();\n      fileReader.onload = function() { // this.result == arraybuffer\n        if (containingObject) {\n          containingObject[curKey] = this.result;\n        }\n        else {\n          bloblessData = this.result;\n        }\n\n        // if nothing pending its callback time\n        if(! --pendingBlobs) {\n          callback(bloblessData);\n        }\n      };\n\n      fileReader.readAsArrayBuffer(obj); // blob -> arraybuffer\n    } else if (isArray(obj)) { // handle array\n      for (var i = 0; i < obj.length; i++) {\n        _removeBlobs(obj[i], i, obj);\n      }\n    } else if (obj && 'object' == typeof obj && !isBuf(obj)) { // and object\n      for (var key in obj) {\n        _removeBlobs(obj[key], key, obj);\n      }\n    }\n  }\n\n  var pendingBlobs = 0;\n  var bloblessData = data;\n  _removeBlobs(bloblessData);\n  if (!pendingBlobs) {\n    callback(bloblessData);\n  }\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./is-buffer\":78,\"isarray\":56}],77:[function(require,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar debug = require('debug')('socket.io-parser');\nvar json = require('json3');\nvar Emitter = require('component-emitter');\nvar binary = require('./binary');\nvar isBuf = require('./is-buffer');\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = 4;\n\n/**\n * Packet types.\n *\n * @api public\n */\n\nexports.types = [\n  'CONNECT',\n  'DISCONNECT',\n  'EVENT',\n  'ACK',\n  'ERROR',\n  'BINARY_EVENT',\n  'BINARY_ACK'\n];\n\n/**\n * Packet type `connect`.\n *\n * @api public\n */\n\nexports.CONNECT = 0;\n\n/**\n * Packet type `disconnect`.\n *\n * @api public\n */\n\nexports.DISCONNECT = 1;\n\n/**\n * Packet type `event`.\n *\n * @api public\n */\n\nexports.EVENT = 2;\n\n/**\n * Packet type `ack`.\n *\n * @api public\n */\n\nexports.ACK = 3;\n\n/**\n * Packet type `error`.\n *\n * @api public\n */\n\nexports.ERROR = 4;\n\n/**\n * Packet type 'binary event'\n *\n * @api public\n */\n\nexports.BINARY_EVENT = 5;\n\n/**\n * Packet type `binary ack`. For acks with binary arguments.\n *\n * @api public\n */\n\nexports.BINARY_ACK = 6;\n\n/**\n * Encoder constructor.\n *\n * @api public\n */\n\nexports.Encoder = Encoder;\n\n/**\n * Decoder constructor.\n *\n * @api public\n */\n\nexports.Decoder = Decoder;\n\n/**\n * A socket.io Encoder instance\n *\n * @api public\n */\n\nfunction Encoder() {}\n\n/**\n * Encode a packet as a single string if non-binary, or as a\n * buffer sequence, depending on packet type.\n *\n * @param {Object} obj - packet object\n * @param {Function} callback - function to handle encodings (likely engine.write)\n * @return Calls callback with Array of encodings\n * @api public\n */\n\nEncoder.prototype.encode = function(obj, callback){\n  debug('encoding packet %j', obj);\n\n  if (exports.BINARY_EVENT == obj.type || exports.BINARY_ACK == obj.type) {\n    encodeAsBinary(obj, callback);\n  }\n  else {\n    var encoding = encodeAsString(obj);\n    callback([encoding]);\n  }\n};\n\n/**\n * Encode packet as string.\n *\n * @param {Object} packet\n * @return {String} encoded\n * @api private\n */\n\nfunction encodeAsString(obj) {\n  var str = '';\n  var nsp = false;\n\n  // first is type\n  str += obj.type;\n\n  // attachments if we have them\n  if (exports.BINARY_EVENT == obj.type || exports.BINARY_ACK == obj.type) {\n    str += obj.attachments;\n    str += '-';\n  }\n\n  // if we have a namespace other than `/`\n  // we append it followed by a comma `,`\n  if (obj.nsp && '/' != obj.nsp) {\n    nsp = true;\n    str += obj.nsp;\n  }\n\n  // immediately followed by the id\n  if (null != obj.id) {\n    if (nsp) {\n      str += ',';\n      nsp = false;\n    }\n    str += obj.id;\n  }\n\n  // json data\n  if (null != obj.data) {\n    if (nsp) str += ',';\n    str += json.stringify(obj.data);\n  }\n\n  debug('encoded %j as %s', obj, str);\n  return str;\n}\n\n/**\n * Encode packet as 'buffer sequence' by removing blobs, and\n * deconstructing packet into object with placeholders and\n * a list of buffers.\n *\n * @param {Object} packet\n * @return {Buffer} encoded\n * @api private\n */\n\nfunction encodeAsBinary(obj, callback) {\n\n  function writeEncoding(bloblessData) {\n    var deconstruction = binary.deconstructPacket(bloblessData);\n    var pack = encodeAsString(deconstruction.packet);\n    var buffers = deconstruction.buffers;\n\n    buffers.unshift(pack); // add packet info to beginning of data list\n    callback(buffers); // write all the buffers\n  }\n\n  binary.removeBlobs(obj, writeEncoding);\n}\n\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n * @api public\n */\n\nfunction Decoder() {\n  this.reconstructor = null;\n}\n\n/**\n * Mix in `Emitter` with Decoder.\n */\n\nEmitter(Decoder.prototype);\n\n/**\n * Decodes an ecoded packet string into packet JSON.\n *\n * @param {String} obj - encoded packet\n * @return {Object} packet\n * @api public\n */\n\nDecoder.prototype.add = function(obj) {\n  var packet;\n  if ('string' == typeof obj) {\n    packet = decodeString(obj);\n    if (exports.BINARY_EVENT == packet.type || exports.BINARY_ACK == packet.type) { // binary packet's json\n      this.reconstructor = new BinaryReconstructor(packet);\n\n      // no attachments, labeled binary but no binary data to follow\n      if (this.reconstructor.reconPack.attachments === 0) {\n        this.emit('decoded', packet);\n      }\n    } else { // non-binary full packet\n      this.emit('decoded', packet);\n    }\n  }\n  else if (isBuf(obj) || obj.base64) { // raw binary data\n    if (!this.reconstructor) {\n      throw new Error('got binary data when not reconstructing a packet');\n    } else {\n      packet = this.reconstructor.takeBinaryData(obj);\n      if (packet) { // received final buffer\n        this.reconstructor = null;\n        this.emit('decoded', packet);\n      }\n    }\n  }\n  else {\n    throw new Error('Unknown type: ' + obj);\n  }\n};\n\n/**\n * Decode a packet String (JSON data)\n *\n * @param {String} str\n * @return {Object} packet\n * @api private\n */\n\nfunction decodeString(str) {\n  var p = {};\n  var i = 0;\n\n  // look up type\n  p.type = Number(str.charAt(0));\n  if (null == exports.types[p.type]) return error();\n\n  // look up attachments if type binary\n  if (exports.BINARY_EVENT == p.type || exports.BINARY_ACK == p.type) {\n    var buf = '';\n    while (str.charAt(++i) != '-') {\n      buf += str.charAt(i);\n      if (i == str.length) break;\n    }\n    if (buf != Number(buf) || str.charAt(i) != '-') {\n      throw new Error('Illegal attachments');\n    }\n    p.attachments = Number(buf);\n  }\n\n  // look up namespace (if any)\n  if ('/' == str.charAt(i + 1)) {\n    p.nsp = '';\n    while (++i) {\n      var c = str.charAt(i);\n      if (',' == c) break;\n      p.nsp += c;\n      if (i == str.length) break;\n    }\n  } else {\n    p.nsp = '/';\n  }\n\n  // look up id\n  var next = str.charAt(i + 1);\n  if ('' !== next && Number(next) == next) {\n    p.id = '';\n    while (++i) {\n      var c = str.charAt(i);\n      if (null == c || Number(c) != c) {\n        --i;\n        break;\n      }\n      p.id += str.charAt(i);\n      if (i == str.length) break;\n    }\n    p.id = Number(p.id);\n  }\n\n  // look up json data\n  if (str.charAt(++i)) {\n    p = tryParse(p, str.substr(i));\n  }\n\n  debug('decoded %s as %j', str, p);\n  return p;\n}\n\nfunction tryParse(p, str) {\n  try {\n    p.data = json.parse(str);\n  } catch(e){\n    return error();\n  }\n  return p; \n};\n\n/**\n * Deallocates a parser's resources\n *\n * @api public\n */\n\nDecoder.prototype.destroy = function() {\n  if (this.reconstructor) {\n    this.reconstructor.finishedReconstruction();\n  }\n};\n\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n * @api private\n */\n\nfunction BinaryReconstructor(packet) {\n  this.reconPack = packet;\n  this.buffers = [];\n}\n\n/**\n * Method to be called when binary data received from connection\n * after a BINARY_EVENT packet.\n *\n * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n * @return {null | Object} returns null if more binary data is expected or\n *   a reconstructed packet object if all buffers have been received.\n * @api private\n */\n\nBinaryReconstructor.prototype.takeBinaryData = function(binData) {\n  this.buffers.push(binData);\n  if (this.buffers.length == this.reconPack.attachments) { // done with buffer list\n    var packet = binary.reconstructPacket(this.reconPack, this.buffers);\n    this.finishedReconstruction();\n    return packet;\n  }\n  return null;\n};\n\n/**\n * Cleans up binary packet reconstruction variables.\n *\n * @api private\n */\n\nBinaryReconstructor.prototype.finishedReconstruction = function() {\n  this.reconPack = null;\n  this.buffers = [];\n};\n\nfunction error(data){\n  return {\n    type: exports.ERROR,\n    data: 'parser error'\n  };\n}\n\n},{\"./binary\":76,\"./is-buffer\":78,\"component-emitter\":34,\"debug\":79,\"json3\":57}],78:[function(require,module,exports){\n(function (global){\n\nmodule.exports = isBuf;\n\n/**\n * Returns true if obj is a buffer or an arraybuffer.\n *\n * @api private\n */\n\nfunction isBuf(obj) {\n  return (global.Buffer && global.Buffer.isBuffer(obj)) ||\n         (global.ArrayBuffer && obj instanceof ArrayBuffer);\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],79:[function(require,module,exports){\n\n/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  return ('WebkitAppearance' in document.documentElement.style) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (window.console && (console.firebug || (console.exception && console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31);\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  return JSON.stringify(v);\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs() {\n  var args = arguments;\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return args;\n\n  var c = 'color: ' + this.color;\n  args = [args[0], c, 'color: inherit'].concat(Array.prototype.slice.call(args, 1));\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n  return args;\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage(){\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n\n},{\"./debug\":80}],80:[function(require,module,exports){\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = debug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lowercased letter, i.e. \"n\".\n */\n\nexports.formatters = {};\n\n/**\n * Previously assigned color.\n */\n\nvar prevColor = 0;\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n *\n * @return {Number}\n * @api private\n */\n\nfunction selectColor() {\n  return exports.colors[prevColor++ % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction debug(namespace) {\n\n  // define the `disabled` version\n  function disabled() {\n  }\n  disabled.enabled = false;\n\n  // define the `enabled` version\n  function enabled() {\n\n    var self = enabled;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // add the `color` if not set\n    if (null == self.useColors) self.useColors = exports.useColors();\n    if (null == self.color && self.useColors) self.color = selectColor();\n\n    var args = Array.prototype.slice.call(arguments);\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %o\n      args = ['%o'].concat(args);\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    if ('function' === typeof exports.formatArgs) {\n      args = exports.formatArgs.apply(self, args);\n    }\n    var logFn = enabled.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n  enabled.enabled = true;\n\n  var fn = exports.enabled(namespace) ? enabled : disabled;\n\n  fn.namespace = namespace;\n\n  return fn;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  var split = (namespaces || '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n\n},{\"ms\":81}],81:[function(require,module,exports){\n/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} options\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options){\n  options = options || {};\n  if ('string' == typeof val) return parse(val);\n  return options.long\n    ? long(val)\n    : short(val);\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = '' + str;\n  if (str.length > 10000) return;\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);\n  if (!match) return;\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction short(ms) {\n  if (ms >= d) return Math.round(ms / d) + 'd';\n  if (ms >= h) return Math.round(ms / h) + 'h';\n  if (ms >= m) return Math.round(ms / m) + 'm';\n  if (ms >= s) return Math.round(ms / s) + 's';\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction long(ms) {\n  return plural(ms, d, 'day')\n    || plural(ms, h, 'hour')\n    || plural(ms, m, 'minute')\n    || plural(ms, s, 'second')\n    || ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) return;\n  if (ms < n * 1.5) return Math.floor(ms / n) + ' ' + name;\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n\n},{}],82:[function(require,module,exports){\nmodule.exports = throttle;\n\n/**\n * Returns a new function that, when invoked, invokes `func` at most once per `wait` milliseconds.\n *\n * @param {Function} func Function to wrap.\n * @param {Number} wait Number of milliseconds that must elapse between `func` invocations.\n * @return {Function} A new function that wraps the `func` function passed in.\n */\n\nfunction throttle (func, wait) {\n  var ctx, args, rtn, timeoutID; // caching\n  var last = 0;\n\n  return function throttled () {\n    ctx = this;\n    args = arguments;\n    var delta = new Date() - last;\n    if (!timeoutID)\n      if (delta >= wait) call();\n      else timeoutID = setTimeout(call, wait - delta);\n    return rtn;\n  };\n\n  function call () {\n    timeoutID = 0;\n    last = +new Date();\n    rtn = func.apply(ctx, args);\n    ctx = null;\n    args = null;\n  }\n}\n\n},{}],83:[function(require,module,exports){\nmodule.exports = toArray\n\nfunction toArray(list, index) {\n    var array = []\n\n    index = index || 0\n\n    for (var i = index || 0; i < list.length; i++) {\n        array[i - index] = list[i]\n    }\n\n    return array\n}\n\n},{}],84:[function(require,module,exports){\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  return  bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\nmodule.exports = bytesToUuid;\n\n},{}],85:[function(require,module,exports){\n(function (global){\n// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\nvar rng;\n\nvar crypto = global.crypto || global.msCrypto; // for IE 11\nif (crypto && crypto.getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16);\n  rng = function whatwgRNG() {\n    crypto.getRandomValues(rnds8);\n    return rnds8;\n  };\n}\n\nif (!rng) {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var  rnds = new Array(16);\n  rng = function() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n\nmodule.exports = rng;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],86:[function(require,module,exports){\n// Unique ID creation requires a high quality random # generator.  We feature\n// detect to determine the best RNG source, normalizing to a function that\n// returns 128-bits of randomness, since that's what's usually required\nvar rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\n// random #'s we need to init node and clockseq\nvar _seedBytes = rng();\n\n// Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\nvar _nodeId = [\n  _seedBytes[0] | 0x01,\n  _seedBytes[1], _seedBytes[2], _seedBytes[3], _seedBytes[4], _seedBytes[5]\n];\n\n// Per 4.2.2, randomize (14 bit) clockseq\nvar _clockseq = (_seedBytes[6] << 8 | _seedBytes[7]) & 0x3fff;\n\n// Previous uuid creation time\nvar _lastMSecs = 0, _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  var node = options.node || _nodeId;\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n\n},{\"./lib/bytesToUuid\":84,\"./lib/rng\":85}],87:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _toDate = require('./lib/toDate');\n\nvar _toDate2 = _interopRequireDefault(_toDate);\n\nvar _toFloat = require('./lib/toFloat');\n\nvar _toFloat2 = _interopRequireDefault(_toFloat);\n\nvar _toInt = require('./lib/toInt');\n\nvar _toInt2 = _interopRequireDefault(_toInt);\n\nvar _toBoolean = require('./lib/toBoolean');\n\nvar _toBoolean2 = _interopRequireDefault(_toBoolean);\n\nvar _equals = require('./lib/equals');\n\nvar _equals2 = _interopRequireDefault(_equals);\n\nvar _contains = require('./lib/contains');\n\nvar _contains2 = _interopRequireDefault(_contains);\n\nvar _matches = require('./lib/matches');\n\nvar _matches2 = _interopRequireDefault(_matches);\n\nvar _isEmail = require('./lib/isEmail');\n\nvar _isEmail2 = _interopRequireDefault(_isEmail);\n\nvar _isURL = require('./lib/isURL');\n\nvar _isURL2 = _interopRequireDefault(_isURL);\n\nvar _isMACAddress = require('./lib/isMACAddress');\n\nvar _isMACAddress2 = _interopRequireDefault(_isMACAddress);\n\nvar _isIP = require('./lib/isIP');\n\nvar _isIP2 = _interopRequireDefault(_isIP);\n\nvar _isFQDN = require('./lib/isFQDN');\n\nvar _isFQDN2 = _interopRequireDefault(_isFQDN);\n\nvar _isBoolean = require('./lib/isBoolean');\n\nvar _isBoolean2 = _interopRequireDefault(_isBoolean);\n\nvar _isAlpha = require('./lib/isAlpha');\n\nvar _isAlpha2 = _interopRequireDefault(_isAlpha);\n\nvar _isAlphanumeric = require('./lib/isAlphanumeric');\n\nvar _isAlphanumeric2 = _interopRequireDefault(_isAlphanumeric);\n\nvar _isNumeric = require('./lib/isNumeric');\n\nvar _isNumeric2 = _interopRequireDefault(_isNumeric);\n\nvar _isLowercase = require('./lib/isLowercase');\n\nvar _isLowercase2 = _interopRequireDefault(_isLowercase);\n\nvar _isUppercase = require('./lib/isUppercase');\n\nvar _isUppercase2 = _interopRequireDefault(_isUppercase);\n\nvar _isAscii = require('./lib/isAscii');\n\nvar _isAscii2 = _interopRequireDefault(_isAscii);\n\nvar _isFullWidth = require('./lib/isFullWidth');\n\nvar _isFullWidth2 = _interopRequireDefault(_isFullWidth);\n\nvar _isHalfWidth = require('./lib/isHalfWidth');\n\nvar _isHalfWidth2 = _interopRequireDefault(_isHalfWidth);\n\nvar _isVariableWidth = require('./lib/isVariableWidth');\n\nvar _isVariableWidth2 = _interopRequireDefault(_isVariableWidth);\n\nvar _isMultibyte = require('./lib/isMultibyte');\n\nvar _isMultibyte2 = _interopRequireDefault(_isMultibyte);\n\nvar _isSurrogatePair = require('./lib/isSurrogatePair');\n\nvar _isSurrogatePair2 = _interopRequireDefault(_isSurrogatePair);\n\nvar _isInt = require('./lib/isInt');\n\nvar _isInt2 = _interopRequireDefault(_isInt);\n\nvar _isFloat = require('./lib/isFloat');\n\nvar _isFloat2 = _interopRequireDefault(_isFloat);\n\nvar _isDecimal = require('./lib/isDecimal');\n\nvar _isDecimal2 = _interopRequireDefault(_isDecimal);\n\nvar _isHexadecimal = require('./lib/isHexadecimal');\n\nvar _isHexadecimal2 = _interopRequireDefault(_isHexadecimal);\n\nvar _isDivisibleBy = require('./lib/isDivisibleBy');\n\nvar _isDivisibleBy2 = _interopRequireDefault(_isDivisibleBy);\n\nvar _isHexColor = require('./lib/isHexColor');\n\nvar _isHexColor2 = _interopRequireDefault(_isHexColor);\n\nvar _isMD = require('./lib/isMD5');\n\nvar _isMD2 = _interopRequireDefault(_isMD);\n\nvar _isJSON = require('./lib/isJSON');\n\nvar _isJSON2 = _interopRequireDefault(_isJSON);\n\nvar _isEmpty = require('./lib/isEmpty');\n\nvar _isEmpty2 = _interopRequireDefault(_isEmpty);\n\nvar _isLength = require('./lib/isLength');\n\nvar _isLength2 = _interopRequireDefault(_isLength);\n\nvar _isByteLength = require('./lib/isByteLength');\n\nvar _isByteLength2 = _interopRequireDefault(_isByteLength);\n\nvar _isUUID = require('./lib/isUUID');\n\nvar _isUUID2 = _interopRequireDefault(_isUUID);\n\nvar _isMongoId = require('./lib/isMongoId');\n\nvar _isMongoId2 = _interopRequireDefault(_isMongoId);\n\nvar _isAfter = require('./lib/isAfter');\n\nvar _isAfter2 = _interopRequireDefault(_isAfter);\n\nvar _isBefore = require('./lib/isBefore');\n\nvar _isBefore2 = _interopRequireDefault(_isBefore);\n\nvar _isIn = require('./lib/isIn');\n\nvar _isIn2 = _interopRequireDefault(_isIn);\n\nvar _isCreditCard = require('./lib/isCreditCard');\n\nvar _isCreditCard2 = _interopRequireDefault(_isCreditCard);\n\nvar _isISIN = require('./lib/isISIN');\n\nvar _isISIN2 = _interopRequireDefault(_isISIN);\n\nvar _isISBN = require('./lib/isISBN');\n\nvar _isISBN2 = _interopRequireDefault(_isISBN);\n\nvar _isISSN = require('./lib/isISSN');\n\nvar _isISSN2 = _interopRequireDefault(_isISSN);\n\nvar _isMobilePhone = require('./lib/isMobilePhone');\n\nvar _isMobilePhone2 = _interopRequireDefault(_isMobilePhone);\n\nvar _isCurrency = require('./lib/isCurrency');\n\nvar _isCurrency2 = _interopRequireDefault(_isCurrency);\n\nvar _isISO = require('./lib/isISO8601');\n\nvar _isISO2 = _interopRequireDefault(_isISO);\n\nvar _isBase = require('./lib/isBase64');\n\nvar _isBase2 = _interopRequireDefault(_isBase);\n\nvar _isDataURI = require('./lib/isDataURI');\n\nvar _isDataURI2 = _interopRequireDefault(_isDataURI);\n\nvar _ltrim = require('./lib/ltrim');\n\nvar _ltrim2 = _interopRequireDefault(_ltrim);\n\nvar _rtrim = require('./lib/rtrim');\n\nvar _rtrim2 = _interopRequireDefault(_rtrim);\n\nvar _trim = require('./lib/trim');\n\nvar _trim2 = _interopRequireDefault(_trim);\n\nvar _escape = require('./lib/escape');\n\nvar _escape2 = _interopRequireDefault(_escape);\n\nvar _unescape = require('./lib/unescape');\n\nvar _unescape2 = _interopRequireDefault(_unescape);\n\nvar _stripLow = require('./lib/stripLow');\n\nvar _stripLow2 = _interopRequireDefault(_stripLow);\n\nvar _whitelist = require('./lib/whitelist');\n\nvar _whitelist2 = _interopRequireDefault(_whitelist);\n\nvar _blacklist = require('./lib/blacklist');\n\nvar _blacklist2 = _interopRequireDefault(_blacklist);\n\nvar _isWhitelisted = require('./lib/isWhitelisted');\n\nvar _isWhitelisted2 = _interopRequireDefault(_isWhitelisted);\n\nvar _normalizeEmail = require('./lib/normalizeEmail');\n\nvar _normalizeEmail2 = _interopRequireDefault(_normalizeEmail);\n\nvar _toString = require('./lib/util/toString');\n\nvar _toString2 = _interopRequireDefault(_toString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar version = '7.0.0';\n\nvar validator = {\n  version: version,\n  toDate: _toDate2.default,\n  toFloat: _toFloat2.default,\n  toInt: _toInt2.default,\n  toBoolean: _toBoolean2.default,\n  equals: _equals2.default,\n  contains: _contains2.default,\n  matches: _matches2.default,\n  isEmail: _isEmail2.default,\n  isURL: _isURL2.default,\n  isMACAddress: _isMACAddress2.default,\n  isIP: _isIP2.default,\n  isFQDN: _isFQDN2.default,\n  isBoolean: _isBoolean2.default,\n  isAlpha: _isAlpha2.default,\n  isAlphanumeric: _isAlphanumeric2.default,\n  isNumeric: _isNumeric2.default,\n  isLowercase: _isLowercase2.default,\n  isUppercase: _isUppercase2.default,\n  isAscii: _isAscii2.default,\n  isFullWidth: _isFullWidth2.default,\n  isHalfWidth: _isHalfWidth2.default,\n  isVariableWidth: _isVariableWidth2.default,\n  isMultibyte: _isMultibyte2.default,\n  isSurrogatePair: _isSurrogatePair2.default,\n  isInt: _isInt2.default,\n  isFloat: _isFloat2.default,\n  isDecimal: _isDecimal2.default,\n  isHexadecimal: _isHexadecimal2.default,\n  isDivisibleBy: _isDivisibleBy2.default,\n  isHexColor: _isHexColor2.default,\n  isMD5: _isMD2.default,\n  isJSON: _isJSON2.default,\n  isEmpty: _isEmpty2.default,\n  isLength: _isLength2.default,\n  isByteLength: _isByteLength2.default,\n  isUUID: _isUUID2.default,\n  isMongoId: _isMongoId2.default,\n  isAfter: _isAfter2.default,\n  isBefore: _isBefore2.default,\n  isIn: _isIn2.default,\n  isCreditCard: _isCreditCard2.default,\n  isISIN: _isISIN2.default,\n  isISBN: _isISBN2.default,\n  isISSN: _isISSN2.default,\n  isMobilePhone: _isMobilePhone2.default,\n  isCurrency: _isCurrency2.default,\n  isISO8601: _isISO2.default,\n  isBase64: _isBase2.default,\n  isDataURI: _isDataURI2.default,\n  ltrim: _ltrim2.default,\n  rtrim: _rtrim2.default,\n  trim: _trim2.default,\n  escape: _escape2.default,\n  unescape: _unescape2.default,\n  stripLow: _stripLow2.default,\n  whitelist: _whitelist2.default,\n  blacklist: _blacklist2.default,\n  isWhitelisted: _isWhitelisted2.default,\n  normalizeEmail: _normalizeEmail2.default,\n  toString: _toString2.default\n};\n\nexports.default = validator;\nmodule.exports = exports['default'];\n},{\"./lib/blacklist\":89,\"./lib/contains\":90,\"./lib/equals\":91,\"./lib/escape\":92,\"./lib/isAfter\":93,\"./lib/isAlpha\":94,\"./lib/isAlphanumeric\":95,\"./lib/isAscii\":96,\"./lib/isBase64\":97,\"./lib/isBefore\":98,\"./lib/isBoolean\":99,\"./lib/isByteLength\":100,\"./lib/isCreditCard\":101,\"./lib/isCurrency\":102,\"./lib/isDataURI\":103,\"./lib/isDecimal\":104,\"./lib/isDivisibleBy\":105,\"./lib/isEmail\":106,\"./lib/isEmpty\":107,\"./lib/isFQDN\":108,\"./lib/isFloat\":109,\"./lib/isFullWidth\":110,\"./lib/isHalfWidth\":111,\"./lib/isHexColor\":112,\"./lib/isHexadecimal\":113,\"./lib/isIP\":114,\"./lib/isISBN\":115,\"./lib/isISIN\":116,\"./lib/isISO8601\":117,\"./lib/isISSN\":118,\"./lib/isIn\":119,\"./lib/isInt\":120,\"./lib/isJSON\":121,\"./lib/isLength\":122,\"./lib/isLowercase\":123,\"./lib/isMACAddress\":124,\"./lib/isMD5\":125,\"./lib/isMobilePhone\":126,\"./lib/isMongoId\":127,\"./lib/isMultibyte\":128,\"./lib/isNumeric\":129,\"./lib/isSurrogatePair\":130,\"./lib/isURL\":131,\"./lib/isUUID\":132,\"./lib/isUppercase\":133,\"./lib/isVariableWidth\":134,\"./lib/isWhitelisted\":135,\"./lib/ltrim\":136,\"./lib/matches\":137,\"./lib/normalizeEmail\":138,\"./lib/rtrim\":139,\"./lib/stripLow\":140,\"./lib/toBoolean\":141,\"./lib/toDate\":142,\"./lib/toFloat\":143,\"./lib/toInt\":144,\"./lib/trim\":145,\"./lib/unescape\":146,\"./lib/util/toString\":149,\"./lib/whitelist\":150}],88:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar alpha = exports.alpha = {\n  'en-US': /^[A-Z]+$/i,\n  'cs-CZ': /^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,\n  'da-DK': /^[A-ZÆØÅ]+$/i,\n  'de-DE': /^[A-ZÄÖÜß]+$/i,\n  'es-ES': /^[A-ZÁÉÍÑÓÚÜ]+$/i,\n  'fr-FR': /^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,\n  'nl-NL': /^[A-ZÉËÏÓÖÜ]+$/i,\n  'hu-HU': /^[A-ZÁÉÍÓÖŐÚÜŰ]+$/i,\n  'pl-PL': /^[A-ZĄĆĘŚŁŃÓŻŹ]+$/i,\n  'pt-PT': /^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]+$/i,\n  'ru-RU': /^[А-ЯЁ]+$/i,\n  'sr-RS@latin': /^[A-ZČĆŽŠĐ]+$/i,\n  'sr-RS': /^[А-ЯЂЈЉЊЋЏ]+$/i,\n  'tr-TR': /^[A-ZÇĞİıÖŞÜ]+$/i,\n  'uk-UA': /^[А-ЯЄIЇҐ]+$/i,\n  ar: /^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]+$/\n};\n\nvar alphanumeric = exports.alphanumeric = {\n  'en-US': /^[0-9A-Z]+$/i,\n  'cs-CZ': /^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,\n  'da-DK': /^[0-9A-ZÆØÅ]$/i,\n  'de-DE': /^[0-9A-ZÄÖÜß]+$/i,\n  'es-ES': /^[0-9A-ZÁÉÍÑÓÚÜ]+$/i,\n  'fr-FR': /^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,\n  'hu-HU': /^[0-9A-ZÁÉÍÓÖŐÚÜŰ]+$/i,\n  'nl-NL': /^[0-9A-ZÉËÏÓÖÜ]+$/i,\n  'pl-PL': /^[0-9A-ZĄĆĘŚŁŃÓŻŹ]+$/i,\n  'pt-PT': /^[0-9A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]+$/i,\n  'ru-RU': /^[0-9А-ЯЁ]+$/i,\n  'sr-RS@latin': /^[0-9A-ZČĆŽŠĐ]+$/i,\n  'sr-RS': /^[0-9А-ЯЂЈЉЊЋЏ]+$/i,\n  'tr-TR': /^[0-9A-ZÇĞİıÖŞÜ]+$/i,\n  'uk-UA': /^[0-9А-ЯЄIЇҐ]+$/i,\n  ar: /^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]+$/\n};\n\nvar englishLocales = exports.englishLocales = ['AU', 'GB', 'HK', 'IN', 'NZ', 'ZA', 'ZM'];\n\nfor (var locale, i = 0; i < englishLocales.length; i++) {\n  locale = 'en-' + englishLocales[i];\n  alpha[locale] = alpha['en-US'];\n  alphanumeric[locale] = alphanumeric['en-US'];\n}\n\nalpha['pt-BR'] = alpha['pt-PT'];\nalphanumeric['pt-BR'] = alphanumeric['pt-PT'];\n\n// Source: http://www.localeplanet.com/java/\nvar arabicLocales = exports.arabicLocales = ['AE', 'BH', 'DZ', 'EG', 'IQ', 'JO', 'KW', 'LB', 'LY', 'MA', 'QM', 'QA', 'SA', 'SD', 'SY', 'TN', 'YE'];\n\nfor (var _locale, _i = 0; _i < arabicLocales.length; _i++) {\n  _locale = 'ar-' + arabicLocales[_i];\n  alpha[_locale] = alpha.ar;\n  alphanumeric[_locale] = alphanumeric.ar;\n}\n},{}],89:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = blacklist;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction blacklist(str, chars) {\n  (0, _assertString2.default)(str);\n  return str.replace(new RegExp('[' + chars + ']+', 'g'), '');\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],90:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = contains;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _toString = require('./util/toString');\n\nvar _toString2 = _interopRequireDefault(_toString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction contains(str, elem) {\n  (0, _assertString2.default)(str);\n  return str.indexOf((0, _toString2.default)(elem)) >= 0;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147,\"./util/toString\":149}],91:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = equals;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction equals(str, comparison) {\n  (0, _assertString2.default)(str);\n  return str === comparison;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],92:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n      value: true\n});\nexports.default = escape;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction escape(str) {\n      (0, _assertString2.default)(str);\n      return str.replace(/&/g, '&amp;').replace(/\"/g, '&quot;').replace(/'/g, '&#x27;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\\//g, '&#x2F;').replace(/\\\\/g, '&#x5C;').replace(/`/g, '&#96;');\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],93:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isAfter;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _toDate = require('./toDate');\n\nvar _toDate2 = _interopRequireDefault(_toDate);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isAfter(str) {\n  var date = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : String(new Date());\n\n  (0, _assertString2.default)(str);\n  var comparison = (0, _toDate2.default)(date);\n  var original = (0, _toDate2.default)(str);\n  return !!(original && comparison && original > comparison);\n}\nmodule.exports = exports['default'];\n},{\"./toDate\":142,\"./util/assertString\":147}],94:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isAlpha;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _alpha = require('./alpha');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isAlpha(str) {\n  var locale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'en-US';\n\n  (0, _assertString2.default)(str);\n  if (locale in _alpha.alpha) {\n    return _alpha.alpha[locale].test(str);\n  }\n  throw new Error('Invalid locale \\'' + locale + '\\'');\n}\nmodule.exports = exports['default'];\n},{\"./alpha\":88,\"./util/assertString\":147}],95:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isAlphanumeric;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _alpha = require('./alpha');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isAlphanumeric(str) {\n  var locale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'en-US';\n\n  (0, _assertString2.default)(str);\n  if (locale in _alpha.alphanumeric) {\n    return _alpha.alphanumeric[locale].test(str);\n  }\n  throw new Error('Invalid locale \\'' + locale + '\\'');\n}\nmodule.exports = exports['default'];\n},{\"./alpha\":88,\"./util/assertString\":147}],96:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isAscii;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable no-control-regex */\nvar ascii = /^[\\x00-\\x7F]+$/;\n/* eslint-enable no-control-regex */\n\nfunction isAscii(str) {\n  (0, _assertString2.default)(str);\n  return ascii.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],97:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isBase64;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar notBase64 = /[^A-Z0-9+\\/=]/i;\n\nfunction isBase64(str) {\n  (0, _assertString2.default)(str);\n  var len = str.length;\n  if (!len || len % 4 !== 0 || notBase64.test(str)) {\n    return false;\n  }\n  var firstPaddingChar = str.indexOf('=');\n  return firstPaddingChar === -1 || firstPaddingChar === len - 1 || firstPaddingChar === len - 2 && str[len - 1] === '=';\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],98:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isBefore;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _toDate = require('./toDate');\n\nvar _toDate2 = _interopRequireDefault(_toDate);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isBefore(str) {\n  var date = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : String(new Date());\n\n  (0, _assertString2.default)(str);\n  var comparison = (0, _toDate2.default)(date);\n  var original = (0, _toDate2.default)(str);\n  return !!(original && comparison && original < comparison);\n}\nmodule.exports = exports['default'];\n},{\"./toDate\":142,\"./util/assertString\":147}],99:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isBoolean;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isBoolean(str) {\n  (0, _assertString2.default)(str);\n  return ['true', 'false', '1', '0'].indexOf(str) >= 0;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],100:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = isByteLength;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable prefer-rest-params */\nfunction isByteLength(str, options) {\n  (0, _assertString2.default)(str);\n  var min = void 0;\n  var max = void 0;\n  if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object') {\n    min = options.min || 0;\n    max = options.max;\n  } else {\n    // backwards compatibility: isByteLength(str, min [, max])\n    min = arguments[1];\n    max = arguments[2];\n  }\n  var len = encodeURI(str).split(/%..|./).length - 1;\n  return len >= min && (typeof max === 'undefined' || len <= max);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],101:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isCreditCard;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable max-len */\nvar creditCard = /^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\\d{3})\\d{11})|62[0-9]{14}$/;\n/* eslint-enable max-len */\n\nfunction isCreditCard(str) {\n  (0, _assertString2.default)(str);\n  var sanitized = str.replace(/[^0-9]+/g, '');\n  if (!creditCard.test(sanitized)) {\n    return false;\n  }\n  var sum = 0;\n  var digit = void 0;\n  var tmpNum = void 0;\n  var shouldDouble = void 0;\n  for (var i = sanitized.length - 1; i >= 0; i--) {\n    digit = sanitized.substring(i, i + 1);\n    tmpNum = parseInt(digit, 10);\n    if (shouldDouble) {\n      tmpNum *= 2;\n      if (tmpNum >= 10) {\n        sum += tmpNum % 10 + 1;\n      } else {\n        sum += tmpNum;\n      }\n    } else {\n      sum += tmpNum;\n    }\n    shouldDouble = !shouldDouble;\n  }\n  return !!(sum % 10 === 0 ? sanitized : false);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],102:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isCurrency;\n\nvar _merge = require('./util/merge');\n\nvar _merge2 = _interopRequireDefault(_merge);\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction currencyRegex(options) {\n  var symbol = '(\\\\' + options.symbol.replace(/\\./g, '\\\\.') + ')' + (options.require_symbol ? '' : '?'),\n      negative = '-?',\n      whole_dollar_amount_without_sep = '[1-9]\\\\d*',\n      whole_dollar_amount_with_sep = '[1-9]\\\\d{0,2}(\\\\' + options.thousands_separator + '\\\\d{3})*',\n      valid_whole_dollar_amounts = ['0', whole_dollar_amount_without_sep, whole_dollar_amount_with_sep],\n      whole_dollar_amount = '(' + valid_whole_dollar_amounts.join('|') + ')?',\n      decimal_amount = '(\\\\' + options.decimal_separator + '\\\\d{2})?';\n  var pattern = whole_dollar_amount + decimal_amount;\n\n  // default is negative sign before symbol, but there are two other options (besides parens)\n  if (options.allow_negatives && !options.parens_for_negatives) {\n    if (options.negative_sign_after_digits) {\n      pattern += negative;\n    } else if (options.negative_sign_before_digits) {\n      pattern = negative + pattern;\n    }\n  }\n\n  // South African Rand, for example, uses R 123 (space) and R-123 (no space)\n  if (options.allow_negative_sign_placeholder) {\n    pattern = '( (?!\\\\-))?' + pattern;\n  } else if (options.allow_space_after_symbol) {\n    pattern = ' ?' + pattern;\n  } else if (options.allow_space_after_digits) {\n    pattern += '( (?!$))?';\n  }\n\n  if (options.symbol_after_digits) {\n    pattern += symbol;\n  } else {\n    pattern = symbol + pattern;\n  }\n\n  if (options.allow_negatives) {\n    if (options.parens_for_negatives) {\n      pattern = '(\\\\(' + pattern + '\\\\)|' + pattern + ')';\n    } else if (!(options.negative_sign_before_digits || options.negative_sign_after_digits)) {\n      pattern = negative + pattern;\n    }\n  }\n\n  /* eslint-disable prefer-template */\n  return new RegExp('^' +\n  // ensure there's a dollar and/or decimal amount, and that\n  // it doesn't start with a space or a negative sign followed by a space\n  '(?!-? )(?=.*\\\\d)' + pattern + '$');\n  /* eslint-enable prefer-template */\n}\n\nvar default_currency_options = {\n  symbol: '$',\n  require_symbol: false,\n  allow_space_after_symbol: false,\n  symbol_after_digits: false,\n  allow_negatives: true,\n  parens_for_negatives: false,\n  negative_sign_before_digits: false,\n  negative_sign_after_digits: false,\n  allow_negative_sign_placeholder: false,\n  thousands_separator: ',',\n  decimal_separator: '.',\n  allow_space_after_digits: false\n};\n\nfunction isCurrency(str, options) {\n  (0, _assertString2.default)(str);\n  options = (0, _merge2.default)(options, default_currency_options);\n  return currencyRegex(options).test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147,\"./util/merge\":148}],103:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isDataURI;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar dataURI = /^\\s*data:([a-z]+\\/[a-z0-9\\-\\+]+(;[a-z\\-]+=[a-z0-9\\-]+)?)?(;base64)?,[a-z0-9!\\$&',\\(\\)\\*\\+,;=\\-\\._~:@\\/\\?%\\s]*\\s*$/i; // eslint-disable-line max-len\n\nfunction isDataURI(str) {\n  (0, _assertString2.default)(str);\n  return dataURI.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],104:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isDecimal;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar decimal = /^[-+]?([0-9]+|\\.[0-9]+|[0-9]+\\.[0-9]+)$/;\n\nfunction isDecimal(str) {\n  (0, _assertString2.default)(str);\n  return str !== '' && decimal.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],105:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isDivisibleBy;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _toFloat = require('./toFloat');\n\nvar _toFloat2 = _interopRequireDefault(_toFloat);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isDivisibleBy(str, num) {\n  (0, _assertString2.default)(str);\n  return (0, _toFloat2.default)(str) % parseInt(num, 10) === 0;\n}\nmodule.exports = exports['default'];\n},{\"./toFloat\":143,\"./util/assertString\":147}],106:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isEmail;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _merge = require('./util/merge');\n\nvar _merge2 = _interopRequireDefault(_merge);\n\nvar _isByteLength = require('./isByteLength');\n\nvar _isByteLength2 = _interopRequireDefault(_isByteLength);\n\nvar _isFQDN = require('./isFQDN');\n\nvar _isFQDN2 = _interopRequireDefault(_isFQDN);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar default_email_options = {\n  allow_display_name: false,\n  require_display_name: false,\n  allow_utf8_local_part: true,\n  require_tld: true\n};\n\n/* eslint-disable max-len */\n/* eslint-disable no-control-regex */\nvar displayName = /^[a-z\\d!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~\\.\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+[a-z\\d!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~\\.\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF\\s]*<(.+)>$/i;\nvar emailUserPart = /^[a-z\\d!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]+$/i;\nvar quotedEmailUser = /^([\\s\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f\\x21\\x23-\\x5b\\x5d-\\x7e]|(\\\\[\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]))*$/i;\nvar emailUserUtf8Part = /^[a-z\\d!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+$/i;\nvar quotedEmailUserUtf8 = /^([\\s\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f\\x21\\x23-\\x5b\\x5d-\\x7e\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|(\\\\[\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))*$/i;\n/* eslint-enable max-len */\n/* eslint-enable no-control-regex */\n\nfunction isEmail(str, options) {\n  (0, _assertString2.default)(str);\n  options = (0, _merge2.default)(options, default_email_options);\n\n  if (options.require_display_name || options.allow_display_name) {\n    var display_email = str.match(displayName);\n    if (display_email) {\n      str = display_email[1];\n    } else if (options.require_display_name) {\n      return false;\n    }\n  }\n\n  var parts = str.split('@');\n  var domain = parts.pop();\n  var user = parts.join('@');\n\n  var lower_domain = domain.toLowerCase();\n  if (lower_domain === 'gmail.com' || lower_domain === 'googlemail.com') {\n    user = user.replace(/\\./g, '').toLowerCase();\n  }\n\n  if (!(0, _isByteLength2.default)(user, { max: 64 }) || !(0, _isByteLength2.default)(domain, { max: 256 })) {\n    return false;\n  }\n\n  if (!(0, _isFQDN2.default)(domain, { require_tld: options.require_tld })) {\n    return false;\n  }\n\n  if (user[0] === '\"') {\n    user = user.slice(1, user.length - 1);\n    return options.allow_utf8_local_part ? quotedEmailUserUtf8.test(user) : quotedEmailUser.test(user);\n  }\n\n  var pattern = options.allow_utf8_local_part ? emailUserUtf8Part : emailUserPart;\n\n  var user_parts = user.split('.');\n  for (var i = 0; i < user_parts.length; i++) {\n    if (!pattern.test(user_parts[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\nmodule.exports = exports['default'];\n},{\"./isByteLength\":100,\"./isFQDN\":108,\"./util/assertString\":147,\"./util/merge\":148}],107:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isEmpty;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isEmpty(str) {\n  (0, _assertString2.default)(str);\n  return str.length === 0;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],108:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isFDQN;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _merge = require('./util/merge');\n\nvar _merge2 = _interopRequireDefault(_merge);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar default_fqdn_options = {\n  require_tld: true,\n  allow_underscores: false,\n  allow_trailing_dot: false\n};\n\nfunction isFDQN(str, options) {\n  (0, _assertString2.default)(str);\n  options = (0, _merge2.default)(options, default_fqdn_options);\n\n  /* Remove the optional trailing dot before checking validity */\n  if (options.allow_trailing_dot && str[str.length - 1] === '.') {\n    str = str.substring(0, str.length - 1);\n  }\n  var parts = str.split('.');\n  if (options.require_tld) {\n    var tld = parts.pop();\n    if (!parts.length || !/^([a-z\\u00a1-\\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(tld)) {\n      return false;\n    }\n  }\n  for (var part, i = 0; i < parts.length; i++) {\n    part = parts[i];\n    if (options.allow_underscores) {\n      part = part.replace(/_/g, '');\n    }\n    if (!/^[a-z\\u00a1-\\uffff0-9-]+$/i.test(part)) {\n      return false;\n    }\n    if (/[\\uff01-\\uff5e]/.test(part)) {\n      // disallow full-width chars\n      return false;\n    }\n    if (part[0] === '-' || part[part.length - 1] === '-') {\n      return false;\n    }\n  }\n  return true;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147,\"./util/merge\":148}],109:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isFloat;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar float = /^(?:[-+])?(?:[0-9]+)?(?:\\.[0-9]*)?(?:[eE][\\+\\-]?(?:[0-9]+))?$/;\n\nfunction isFloat(str, options) {\n  (0, _assertString2.default)(str);\n  options = options || {};\n  if (str === '' || str === '.') {\n    return false;\n  }\n  return float.test(str) && (!options.hasOwnProperty('min') || str >= options.min) && (!options.hasOwnProperty('max') || str <= options.max) && (!options.hasOwnProperty('lt') || str < options.lt) && (!options.hasOwnProperty('gt') || str > options.gt);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],110:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fullWidth = undefined;\nexports.default = isFullWidth;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar fullWidth = exports.fullWidth = /[^\\u0020-\\u007E\\uFF61-\\uFF9F\\uFFA0-\\uFFDC\\uFFE8-\\uFFEE0-9a-zA-Z]/;\n\nfunction isFullWidth(str) {\n  (0, _assertString2.default)(str);\n  return fullWidth.test(str);\n}\n},{\"./util/assertString\":147}],111:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.halfWidth = undefined;\nexports.default = isHalfWidth;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar halfWidth = exports.halfWidth = /[\\u0020-\\u007E\\uFF61-\\uFF9F\\uFFA0-\\uFFDC\\uFFE8-\\uFFEE0-9a-zA-Z]/;\n\nfunction isHalfWidth(str) {\n  (0, _assertString2.default)(str);\n  return halfWidth.test(str);\n}\n},{\"./util/assertString\":147}],112:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isHexColor;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar hexcolor = /^#?([0-9A-F]{3}|[0-9A-F]{6})$/i;\n\nfunction isHexColor(str) {\n  (0, _assertString2.default)(str);\n  return hexcolor.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],113:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isHexadecimal;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar hexadecimal = /^[0-9A-F]+$/i;\n\nfunction isHexadecimal(str) {\n  (0, _assertString2.default)(str);\n  return hexadecimal.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],114:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isIP;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ipv4Maybe = /^(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})$/;\nvar ipv6Block = /^[0-9A-F]{1,4}$/i;\n\nfunction isIP(str) {\n  var version = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n  (0, _assertString2.default)(str);\n  version = String(version);\n  if (!version) {\n    return isIP(str, 4) || isIP(str, 6);\n  } else if (version === '4') {\n    if (!ipv4Maybe.test(str)) {\n      return false;\n    }\n    var parts = str.split('.').sort(function (a, b) {\n      return a - b;\n    });\n    return parts[3] <= 255;\n  } else if (version === '6') {\n    var blocks = str.split(':');\n    var foundOmissionBlock = false; // marker to indicate ::\n\n    // At least some OS accept the last 32 bits of an IPv6 address\n    // (i.e. 2 of the blocks) in IPv4 notation, and RFC 3493 says\n    // that '::ffff:a.b.c.d' is valid for IPv4-mapped IPv6 addresses,\n    // and '::a.b.c.d' is deprecated, but also valid.\n    var foundIPv4TransitionBlock = isIP(blocks[blocks.length - 1], 4);\n    var expectedNumberOfBlocks = foundIPv4TransitionBlock ? 7 : 8;\n\n    if (blocks.length > expectedNumberOfBlocks) {\n      return false;\n    }\n    // initial or final ::\n    if (str === '::') {\n      return true;\n    } else if (str.substr(0, 2) === '::') {\n      blocks.shift();\n      blocks.shift();\n      foundOmissionBlock = true;\n    } else if (str.substr(str.length - 2) === '::') {\n      blocks.pop();\n      blocks.pop();\n      foundOmissionBlock = true;\n    }\n\n    for (var i = 0; i < blocks.length; ++i) {\n      // test for a :: which can not be at the string start/end\n      // since those cases have been handled above\n      if (blocks[i] === '' && i > 0 && i < blocks.length - 1) {\n        if (foundOmissionBlock) {\n          return false; // multiple :: in address\n        }\n        foundOmissionBlock = true;\n      } else if (foundIPv4TransitionBlock && i === blocks.length - 1) {\n        // it has been checked before that the last\n        // block is a valid IPv4 address\n      } else if (!ipv6Block.test(blocks[i])) {\n        return false;\n      }\n    }\n    if (foundOmissionBlock) {\n      return blocks.length >= 1;\n    }\n    return blocks.length === expectedNumberOfBlocks;\n  }\n  return false;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],115:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isISBN;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar isbn10Maybe = /^(?:[0-9]{9}X|[0-9]{10})$/;\nvar isbn13Maybe = /^(?:[0-9]{13})$/;\nvar factor = [1, 3];\n\nfunction isISBN(str) {\n  var version = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n  (0, _assertString2.default)(str);\n  version = String(version);\n  if (!version) {\n    return isISBN(str, 10) || isISBN(str, 13);\n  }\n  var sanitized = str.replace(/[\\s-]+/g, '');\n  var checksum = 0;\n  var i = void 0;\n  if (version === '10') {\n    if (!isbn10Maybe.test(sanitized)) {\n      return false;\n    }\n    for (i = 0; i < 9; i++) {\n      checksum += (i + 1) * sanitized.charAt(i);\n    }\n    if (sanitized.charAt(9) === 'X') {\n      checksum += 10 * 10;\n    } else {\n      checksum += 10 * sanitized.charAt(9);\n    }\n    if (checksum % 11 === 0) {\n      return !!sanitized;\n    }\n  } else if (version === '13') {\n    if (!isbn13Maybe.test(sanitized)) {\n      return false;\n    }\n    for (i = 0; i < 12; i++) {\n      checksum += factor[i % 2] * sanitized.charAt(i);\n    }\n    if (sanitized.charAt(12) - (10 - checksum % 10) % 10 === 0) {\n      return !!sanitized;\n    }\n  }\n  return false;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],116:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isISIN;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar isin = /^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;\n\nfunction isISIN(str) {\n  (0, _assertString2.default)(str);\n  if (!isin.test(str)) {\n    return false;\n  }\n\n  var checksumStr = str.replace(/[A-Z]/g, function (character) {\n    return parseInt(character, 36);\n  });\n\n  var sum = 0;\n  var digit = void 0;\n  var tmpNum = void 0;\n  var shouldDouble = true;\n  for (var i = checksumStr.length - 2; i >= 0; i--) {\n    digit = checksumStr.substring(i, i + 1);\n    tmpNum = parseInt(digit, 10);\n    if (shouldDouble) {\n      tmpNum *= 2;\n      if (tmpNum >= 10) {\n        sum += tmpNum + 1;\n      } else {\n        sum += tmpNum;\n      }\n    } else {\n      sum += tmpNum;\n    }\n    shouldDouble = !shouldDouble;\n  }\n\n  return parseInt(str.substr(str.length - 1), 10) === (10000 - sum) % 10;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],117:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.iso8601 = undefined;\n\nexports.default = function (str) {\n  (0, _assertString2.default)(str);\n  return iso8601.test(str);\n};\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable max-len */\n// from http://goo.gl/0ejHHW\nvar iso8601 = exports.iso8601 = /^([\\+-]?\\d{4}(?!\\d{2}\\b))((-?)((0[1-9]|1[0-2])(\\3([12]\\d|0[1-9]|3[01]))?|W([0-4]\\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\\d|[12]\\d{2}|3([0-5]\\d|6[1-6])))([T\\s]((([01]\\d|2[0-3])((:?)[0-5]\\d)?|24:?00)([\\.,]\\d+(?!:))?)?(\\17[0-5]\\d([\\.,]\\d+)?)?([zZ]|([\\+-])([01]\\d|2[0-3]):?([0-5]\\d)?)?)?)?$/;\n/* eslint-enable max-len */\n},{\"./util/assertString\":147}],118:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isISSN;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar issn = '^\\\\d{4}-?\\\\d{3}[\\\\dX]$';\n\nfunction isISSN(str) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  (0, _assertString2.default)(str);\n  var testIssn = issn;\n  testIssn = options.require_hyphen ? testIssn.replace('?', '') : testIssn;\n  testIssn = options.case_sensitive ? new RegExp(testIssn) : new RegExp(testIssn, 'i');\n  if (!testIssn.test(str)) {\n    return false;\n  }\n  var issnDigits = str.replace('-', '');\n  var position = 8;\n  var checksum = 0;\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = issnDigits[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var digit = _step.value;\n\n      var digitValue = digit.toUpperCase() === 'X' ? 10 : +digit;\n      checksum += digitValue * position;\n      --position;\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return checksum % 11 === 0;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],119:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = isIn;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _toString = require('./util/toString');\n\nvar _toString2 = _interopRequireDefault(_toString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isIn(str, options) {\n  (0, _assertString2.default)(str);\n  var i = void 0;\n  if (Object.prototype.toString.call(options) === '[object Array]') {\n    var array = [];\n    for (i in options) {\n      if ({}.hasOwnProperty.call(options, i)) {\n        array[i] = (0, _toString2.default)(options[i]);\n      }\n    }\n    return array.indexOf(str) >= 0;\n  } else if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object') {\n    return options.hasOwnProperty(str);\n  } else if (options && typeof options.indexOf === 'function') {\n    return options.indexOf(str) >= 0;\n  }\n  return false;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147,\"./util/toString\":149}],120:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isInt;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar int = /^(?:[-+]?(?:0|[1-9][0-9]*))$/;\nvar intLeadingZeroes = /^[-+]?[0-9]+$/;\n\nfunction isInt(str, options) {\n  (0, _assertString2.default)(str);\n  options = options || {};\n\n  // Get the regex to use for testing, based on whether\n  // leading zeroes are allowed or not.\n  var regex = options.hasOwnProperty('allow_leading_zeroes') && !options.allow_leading_zeroes ? int : intLeadingZeroes;\n\n  // Check min/max/lt/gt\n  var minCheckPassed = !options.hasOwnProperty('min') || str >= options.min;\n  var maxCheckPassed = !options.hasOwnProperty('max') || str <= options.max;\n  var ltCheckPassed = !options.hasOwnProperty('lt') || str < options.lt;\n  var gtCheckPassed = !options.hasOwnProperty('gt') || str > options.gt;\n\n  return regex.test(str) && minCheckPassed && maxCheckPassed && ltCheckPassed && gtCheckPassed;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],121:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = isJSON;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isJSON(str) {\n  (0, _assertString2.default)(str);\n  try {\n    var obj = JSON.parse(str);\n    return !!obj && (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object';\n  } catch (e) {/* ignore */}\n  return false;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],122:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = isLength;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable prefer-rest-params */\nfunction isLength(str, options) {\n  (0, _assertString2.default)(str);\n  var min = void 0;\n  var max = void 0;\n  if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object') {\n    min = options.min || 0;\n    max = options.max;\n  } else {\n    // backwards compatibility: isLength(str, min [, max])\n    min = arguments[1];\n    max = arguments[2];\n  }\n  var surrogatePairs = str.match(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g) || [];\n  var len = str.length - surrogatePairs.length;\n  return len >= min && (typeof max === 'undefined' || len <= max);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],123:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isLowercase;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isLowercase(str) {\n  (0, _assertString2.default)(str);\n  return str === str.toLowerCase();\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],124:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isMACAddress;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar macAddress = /^([0-9a-fA-F][0-9a-fA-F]:){5}([0-9a-fA-F][0-9a-fA-F])$/;\n\nfunction isMACAddress(str) {\n  (0, _assertString2.default)(str);\n  return macAddress.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],125:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isMD5;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar md5 = /^[a-f0-9]{32}$/;\n\nfunction isMD5(str) {\n  (0, _assertString2.default)(str);\n  return md5.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],126:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isMobilePhone;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable max-len */\nvar phones = {\n  'ar-DZ': /^(\\+?213|0)(5|6|7)\\d{8}$/,\n  'ar-SY': /^(!?(\\+?963)|0)?9\\d{8}$/,\n  'ar-SA': /^(!?(\\+?966)|0)?5\\d{8}$/,\n  'en-US': /^(\\+?1)?[2-9]\\d{2}[2-9](?!11)\\d{6}$/,\n  'cs-CZ': /^(\\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,\n  'de-DE': /^(\\+?49[ \\.\\-])?([\\(]{1}[0-9]{1,6}[\\)])?([0-9 \\.\\-\\/]{3,20})((x|ext|extension)[ ]?[0-9]{1,4})?$/,\n  'da-DK': /^(\\+?45)?(\\d{8})$/,\n  'el-GR': /^(\\+?30)?(69\\d{8})$/,\n  'en-AU': /^(\\+?61|0)4\\d{8}$/,\n  'en-GB': /^(\\+?44|0)7\\d{9}$/,\n  'en-HK': /^(\\+?852\\-?)?[569]\\d{3}\\-?\\d{4}$/,\n  'en-IN': /^(\\+?91|0)?[789]\\d{9}$/,\n  'en-NG': /^(\\+?234|0)?[789]\\d{9}$/,\n  'en-NZ': /^(\\+?64|0)2\\d{7,9}$/,\n  'en-ZA': /^(\\+?27|0)\\d{9}$/,\n  'en-ZM': /^(\\+?26)?09[567]\\d{7}$/,\n  'es-ES': /^(\\+?34)?(6\\d{1}|7[1234])\\d{7}$/,\n  'fi-FI': /^(\\+?358|0)\\s?(4(0|1|2|4|5)?|50)\\s?(\\d\\s?){4,8}\\d$/,\n  'fr-FR': /^(\\+?33|0)[67]\\d{8}$/,\n  'he-IL': /^(\\+972|0)([23489]|5[0248]|77)[1-9]\\d{6}/,\n  'hu-HU': /^(\\+?36)(20|30|70)\\d{7}$/,\n  'it-IT': /^(\\+?39)?\\s?3\\d{2} ?\\d{6,7}$/,\n  'ja-JP': /^(\\+?81|0)\\d{1,4}[ \\-]?\\d{1,4}[ \\-]?\\d{4}$/,\n  'ms-MY': /^(\\+?6?01){1}(([145]{1}(\\-|\\s)?\\d{7,8})|([236789]{1}(\\s|\\-)?\\d{7}))$/,\n  'nb-NO': /^(\\+?47)?[49]\\d{7}$/,\n  'nl-BE': /^(\\+?32|0)4?\\d{8}$/,\n  'nn-NO': /^(\\+?47)?[49]\\d{7}$/,\n  'pl-PL': /^(\\+?48)? ?[5-8]\\d ?\\d{3} ?\\d{2} ?\\d{2}$/,\n  'pt-BR': /^(\\+?55|0)\\-?[1-9]{2}\\-?[2-9]{1}\\d{3,4}\\-?\\d{4}$/,\n  'pt-PT': /^(\\+?351)?9[1236]\\d{7}$/,\n  'ro-RO': /^(\\+?4?0)\\s?7\\d{2}(\\/|\\s|\\.|\\-)?\\d{3}(\\s|\\.|\\-)?\\d{3}$/,\n  'en-PK': /^((\\+92)|(0092))-{0,1}\\d{3}-{0,1}\\d{7}$|^\\d{11}$|^\\d{4}-\\d{7}$/,\n  'ru-RU': /^(\\+?7|8)?9\\d{9}$/,\n  'sr-RS': /^(\\+3816|06)[- \\d]{5,9}$/,\n  'tr-TR': /^(\\+?90|0)?5\\d{9}$/,\n  'vi-VN': /^(\\+?84|0)?((1(2([0-9])|6([2-9])|88|99))|(9((?!5)[0-9])))([0-9]{7})$/,\n  'zh-CN': /^(\\+?0?86\\-?)?1[345789]\\d{9}$/,\n  'zh-TW': /^(\\+?886\\-?|0)?9\\d{8}$/\n};\n/* eslint-enable max-len */\n\n// aliases\nphones['en-CA'] = phones['en-US'];\nphones['fr-BE'] = phones['nl-BE'];\nphones['zh-HK'] = phones['en-HK'];\n\nfunction isMobilePhone(str, locale) {\n  (0, _assertString2.default)(str);\n  if (locale in phones) {\n    return phones[locale].test(str);\n  }\n  return false;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],127:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isMongoId;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _isHexadecimal = require('./isHexadecimal');\n\nvar _isHexadecimal2 = _interopRequireDefault(_isHexadecimal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isMongoId(str) {\n  (0, _assertString2.default)(str);\n  return (0, _isHexadecimal2.default)(str) && str.length === 24;\n}\nmodule.exports = exports['default'];\n},{\"./isHexadecimal\":113,\"./util/assertString\":147}],128:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isMultibyte;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable no-control-regex */\nvar multibyte = /[^\\x00-\\x7F]/;\n/* eslint-enable no-control-regex */\n\nfunction isMultibyte(str) {\n  (0, _assertString2.default)(str);\n  return multibyte.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],129:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isNumeric;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar numeric = /^[-+]?[0-9]+$/;\n\nfunction isNumeric(str) {\n  (0, _assertString2.default)(str);\n  return numeric.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],130:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isSurrogatePair;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar surrogatePair = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/;\n\nfunction isSurrogatePair(str) {\n  (0, _assertString2.default)(str);\n  return surrogatePair.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],131:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isURL;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _isFQDN = require('./isFQDN');\n\nvar _isFQDN2 = _interopRequireDefault(_isFQDN);\n\nvar _isIP = require('./isIP');\n\nvar _isIP2 = _interopRequireDefault(_isIP);\n\nvar _merge = require('./util/merge');\n\nvar _merge2 = _interopRequireDefault(_merge);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar default_url_options = {\n  protocols: ['http', 'https', 'ftp'],\n  require_tld: true,\n  require_protocol: false,\n  require_host: true,\n  require_valid_protocol: true,\n  allow_underscores: false,\n  allow_trailing_dot: false,\n  allow_protocol_relative_urls: false\n};\n\nvar wrapped_ipv6 = /^\\[([^\\]]+)\\](?::([0-9]+))?$/;\n\nfunction isRegExp(obj) {\n  return Object.prototype.toString.call(obj) === '[object RegExp]';\n}\n\nfunction checkHost(host, matches) {\n  for (var i = 0; i < matches.length; i++) {\n    var match = matches[i];\n    if (host === match || isRegExp(match) && match.test(host)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction isURL(url, options) {\n  (0, _assertString2.default)(url);\n  if (!url || url.length >= 2083 || /[\\s<>]/.test(url)) {\n    return false;\n  }\n  if (url.indexOf('mailto:') === 0) {\n    return false;\n  }\n  options = (0, _merge2.default)(options, default_url_options);\n  var protocol = void 0,\n      auth = void 0,\n      host = void 0,\n      hostname = void 0,\n      port = void 0,\n      port_str = void 0,\n      split = void 0,\n      ipv6 = void 0;\n\n  split = url.split('#');\n  url = split.shift();\n\n  split = url.split('?');\n  url = split.shift();\n\n  split = url.split('://');\n  if (split.length > 1) {\n    protocol = split.shift();\n    if (options.require_valid_protocol && options.protocols.indexOf(protocol) === -1) {\n      return false;\n    }\n  } else if (options.require_protocol) {\n    return false;\n  } else if (options.allow_protocol_relative_urls && url.substr(0, 2) === '//') {\n    split[0] = url.substr(2);\n  }\n  url = split.join('://');\n\n  split = url.split('/');\n  url = split.shift();\n\n  if (url === '' && !options.require_host) {\n    return true;\n  }\n\n  split = url.split('@');\n  if (split.length > 1) {\n    auth = split.shift();\n    if (auth.indexOf(':') >= 0 && auth.split(':').length > 2) {\n      return false;\n    }\n  }\n  hostname = split.join('@');\n\n  port_str = ipv6 = null;\n  var ipv6_match = hostname.match(wrapped_ipv6);\n  if (ipv6_match) {\n    host = '';\n    ipv6 = ipv6_match[1];\n    port_str = ipv6_match[2] || null;\n  } else {\n    split = hostname.split(':');\n    host = split.shift();\n    if (split.length) {\n      port_str = split.join(':');\n    }\n  }\n\n  if (port_str !== null) {\n    port = parseInt(port_str, 10);\n    if (!/^[0-9]+$/.test(port_str) || port <= 0 || port > 65535) {\n      return false;\n    }\n  }\n\n  if (!(0, _isIP2.default)(host) && !(0, _isFQDN2.default)(host, options) && (!ipv6 || !(0, _isIP2.default)(ipv6, 6)) && host !== 'localhost') {\n    return false;\n  }\n\n  host = host || ipv6;\n\n  if (options.host_whitelist && !checkHost(host, options.host_whitelist)) {\n    return false;\n  }\n  if (options.host_blacklist && checkHost(host, options.host_blacklist)) {\n    return false;\n  }\n\n  return true;\n}\nmodule.exports = exports['default'];\n},{\"./isFQDN\":108,\"./isIP\":114,\"./util/assertString\":147,\"./util/merge\":148}],132:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isUUID;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar uuid = {\n  3: /^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,\n  4: /^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,\n  5: /^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,\n  all: /^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i\n};\n\nfunction isUUID(str) {\n  var version = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'all';\n\n  (0, _assertString2.default)(str);\n  var pattern = uuid[version];\n  return pattern && pattern.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],133:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isUppercase;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isUppercase(str) {\n  (0, _assertString2.default)(str);\n  return str === str.toUpperCase();\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],134:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isVariableWidth;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _isFullWidth = require('./isFullWidth');\n\nvar _isHalfWidth = require('./isHalfWidth');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isVariableWidth(str) {\n  (0, _assertString2.default)(str);\n  return _isFullWidth.fullWidth.test(str) && _isHalfWidth.halfWidth.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./isFullWidth\":110,\"./isHalfWidth\":111,\"./util/assertString\":147}],135:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isWhitelisted;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isWhitelisted(str, chars) {\n  (0, _assertString2.default)(str);\n  for (var i = str.length - 1; i >= 0; i--) {\n    if (chars.indexOf(str[i]) === -1) {\n      return false;\n    }\n  }\n  return true;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],136:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = ltrim;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ltrim(str, chars) {\n  (0, _assertString2.default)(str);\n  var pattern = chars ? new RegExp('^[' + chars + ']+', 'g') : /^\\s+/g;\n  return str.replace(pattern, '');\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],137:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = matches;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction matches(str, pattern, modifiers) {\n  (0, _assertString2.default)(str);\n  if (Object.prototype.toString.call(pattern) !== '[object RegExp]') {\n    pattern = new RegExp(pattern, modifiers);\n  }\n  return pattern.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],138:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = normalizeEmail;\n\nvar _isEmail = require('./isEmail');\n\nvar _isEmail2 = _interopRequireDefault(_isEmail);\n\nvar _merge = require('./util/merge');\n\nvar _merge2 = _interopRequireDefault(_merge);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar default_normalize_email_options = {\n  // The following options apply to all email addresses\n  // Lowercases the local part of the email address.\n  // Please note this may violate RFC 5321 as per http://stackoverflow.com/a/9808332/192024).\n  // The domain is always lowercased, as per RFC 1035\n  all_lowercase: true,\n\n  // The following conversions are specific to GMail\n  // Lowercases the local part of the GMail address (known to be case-insensitive)\n  gmail_lowercase: true,\n  // Removes dots from the local part of the email address, as that's ignored by GMail\n  gmail_remove_dots: true,\n  // Removes the subaddress (e.g. \"+foo\") from the email address\n  gmail_remove_subaddress: true,\n  // Conversts the googlemail.com domain to gmail.com\n  gmail_convert_googlemaildotcom: true,\n\n  // The following conversions are specific to Outlook.com / Windows Live / Hotmail\n  // Lowercases the local part of the Outlook.com address (known to be case-insensitive)\n  outlookdotcom_lowercase: true,\n  // Removes the subaddress (e.g. \"+foo\") from the email address\n  outlookdotcom_remove_subaddress: true,\n\n  // The following conversions are specific to Yahoo\n  // Lowercases the local part of the Yahoo address (known to be case-insensitive)\n  yahoo_lowercase: true,\n  // Removes the subaddress (e.g. \"-foo\") from the email address\n  yahoo_remove_subaddress: true,\n\n  // The following conversions are specific to iCloud\n  // Lowercases the local part of the iCloud address (known to be case-insensitive)\n  icloud_lowercase: true,\n  // Removes the subaddress (e.g. \"+foo\") from the email address\n  icloud_remove_subaddress: true\n};\n\n// List of domains used by iCloud\nvar icloud_domains = ['icloud.com', 'me.com'];\n\n// List of domains used by Outlook.com and its predecessors\n// This list is likely incomplete.\n// Partial reference:\n// https://blogs.office.com/2013/04/17/outlook-com-gets-two-step-verification-sign-in-by-alias-and-new-international-domains/\nvar outlookdotcom_domains = ['hotmail.at', 'hotmail.be', 'hotmail.ca', 'hotmail.cl', 'hotmail.co.il', 'hotmail.co.nz', 'hotmail.co.th', 'hotmail.co.uk', 'hotmail.com', 'hotmail.com.ar', 'hotmail.com.au', 'hotmail.com.br', 'hotmail.com.gr', 'hotmail.com.mx', 'hotmail.com.pe', 'hotmail.com.tr', 'hotmail.com.vn', 'hotmail.cz', 'hotmail.de', 'hotmail.dk', 'hotmail.es', 'hotmail.fr', 'hotmail.hu', 'hotmail.id', 'hotmail.ie', 'hotmail.in', 'hotmail.it', 'hotmail.jp', 'hotmail.kr', 'hotmail.lv', 'hotmail.my', 'hotmail.ph', 'hotmail.pt', 'hotmail.sa', 'hotmail.sg', 'hotmail.sk', 'live.be', 'live.co.uk', 'live.com', 'live.com.ar', 'live.com.mx', 'live.de', 'live.es', 'live.eu', 'live.fr', 'live.it', 'live.nl', 'msn.com', 'outlook.at', 'outlook.be', 'outlook.cl', 'outlook.co.il', 'outlook.co.nz', 'outlook.co.th', 'outlook.com', 'outlook.com.ar', 'outlook.com.au', 'outlook.com.br', 'outlook.com.gr', 'outlook.com.pe', 'outlook.com.tr', 'outlook.com.vn', 'outlook.cz', 'outlook.de', 'outlook.dk', 'outlook.es', 'outlook.fr', 'outlook.hu', 'outlook.id', 'outlook.ie', 'outlook.in', 'outlook.it', 'outlook.jp', 'outlook.kr', 'outlook.lv', 'outlook.my', 'outlook.ph', 'outlook.pt', 'outlook.sa', 'outlook.sg', 'outlook.sk', 'passport.com'];\n\n// List of domains used by Yahoo Mail\n// This list is likely incomplete\nvar yahoo_domains = ['rocketmail.com', 'yahoo.ca', 'yahoo.co.uk', 'yahoo.com', 'yahoo.de', 'yahoo.fr', 'yahoo.in', 'yahoo.it', 'ymail.com'];\n\nfunction normalizeEmail(email, options) {\n  options = (0, _merge2.default)(options, default_normalize_email_options);\n\n  if (!(0, _isEmail2.default)(email)) {\n    return false;\n  }\n\n  var raw_parts = email.split('@');\n  var domain = raw_parts.pop();\n  var user = raw_parts.join('@');\n  var parts = [user, domain];\n\n  // The domain is always lowercased, as it's case-insensitive per RFC 1035\n  parts[1] = parts[1].toLowerCase();\n\n  if (parts[1] === 'gmail.com' || parts[1] === 'googlemail.com') {\n    // Address is GMail\n    if (options.gmail_remove_subaddress) {\n      parts[0] = parts[0].split('+')[0];\n    }\n    if (options.gmail_remove_dots) {\n      parts[0] = parts[0].replace(/\\./g, '');\n    }\n    if (!parts[0].length) {\n      return false;\n    }\n    if (options.all_lowercase || options.gmail_lowercase) {\n      parts[0] = parts[0].toLowerCase();\n    }\n    parts[1] = options.gmail_convert_googlemaildotcom ? 'gmail.com' : parts[1];\n  } else if (~icloud_domains.indexOf(parts[1])) {\n    // Address is iCloud\n    if (options.icloud_remove_subaddress) {\n      parts[0] = parts[0].split('+')[0];\n    }\n    if (!parts[0].length) {\n      return false;\n    }\n    if (options.all_lowercase || options.icloud_lowercase) {\n      parts[0] = parts[0].toLowerCase();\n    }\n  } else if (~outlookdotcom_domains.indexOf(parts[1])) {\n    // Address is Outlook.com\n    if (options.outlookdotcom_remove_subaddress) {\n      parts[0] = parts[0].split('+')[0];\n    }\n    if (!parts[0].length) {\n      return false;\n    }\n    if (options.all_lowercase || options.outlookdotcom_lowercase) {\n      parts[0] = parts[0].toLowerCase();\n    }\n  } else if (~yahoo_domains.indexOf(parts[1])) {\n    // Address is Yahoo\n    if (options.yahoo_remove_subaddress) {\n      var components = parts[0].split('-');\n      parts[0] = components.length > 1 ? components.slice(0, -1).join('-') : components[0];\n    }\n    if (!parts[0].length) {\n      return false;\n    }\n    if (options.all_lowercase || options.yahoo_lowercase) {\n      parts[0] = parts[0].toLowerCase();\n    }\n  } else if (options.all_lowercase) {\n    // Any other address\n    parts[0] = parts[0].toLowerCase();\n  }\n  return parts.join('@');\n}\nmodule.exports = exports['default'];\n},{\"./isEmail\":106,\"./util/merge\":148}],139:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = rtrim;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction rtrim(str, chars) {\n  (0, _assertString2.default)(str);\n  var pattern = chars ? new RegExp('[' + chars + ']') : /\\s/;\n\n  var idx = str.length - 1;\n  while (idx >= 0 && pattern.test(str[idx])) {\n    idx--;\n  }\n\n  return idx < str.length ? str.substr(0, idx + 1) : str;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],140:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = stripLow;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _blacklist = require('./blacklist');\n\nvar _blacklist2 = _interopRequireDefault(_blacklist);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction stripLow(str, keep_new_lines) {\n  (0, _assertString2.default)(str);\n  var chars = keep_new_lines ? '\\\\x00-\\\\x09\\\\x0B\\\\x0C\\\\x0E-\\\\x1F\\\\x7F' : '\\\\x00-\\\\x1F\\\\x7F';\n  return (0, _blacklist2.default)(str, chars);\n}\nmodule.exports = exports['default'];\n},{\"./blacklist\":89,\"./util/assertString\":147}],141:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = toBoolean;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction toBoolean(str, strict) {\n  (0, _assertString2.default)(str);\n  if (strict) {\n    return str === '1' || str === 'true';\n  }\n  return str !== '0' && str !== 'false' && str !== '';\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],142:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = toDate;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction toDate(date) {\n  (0, _assertString2.default)(date);\n  date = Date.parse(date);\n  return !isNaN(date) ? new Date(date) : null;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],143:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = toFloat;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction toFloat(str) {\n  (0, _assertString2.default)(str);\n  return parseFloat(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],144:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = toInt;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction toInt(str, radix) {\n  (0, _assertString2.default)(str);\n  return parseInt(str, radix || 10);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],145:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = trim;\n\nvar _rtrim = require('./rtrim');\n\nvar _rtrim2 = _interopRequireDefault(_rtrim);\n\nvar _ltrim = require('./ltrim');\n\nvar _ltrim2 = _interopRequireDefault(_ltrim);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction trim(str, chars) {\n  return (0, _rtrim2.default)((0, _ltrim2.default)(str, chars), chars);\n}\nmodule.exports = exports['default'];\n},{\"./ltrim\":136,\"./rtrim\":139}],146:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n      value: true\n});\nexports.default = unescape;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction unescape(str) {\n      (0, _assertString2.default)(str);\n      return str.replace(/&amp;/g, '&').replace(/&quot;/g, '\"').replace(/&#x27;/g, \"'\").replace(/&lt;/g, '<').replace(/&gt;/g, '>').replace(/&#x2F;/g, '/').replace(/&#96;/g, '`');\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],147:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = assertString;\nfunction assertString(input) {\n  if (typeof input !== 'string') {\n    throw new TypeError('This library (validator.js) validates strings only');\n  }\n}\nmodule.exports = exports['default'];\n},{}],148:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = merge;\nfunction merge() {\n  var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var defaults = arguments[1];\n\n  for (var key in defaults) {\n    if (typeof obj[key] === 'undefined') {\n      obj[key] = defaults[key];\n    }\n  }\n  return obj;\n}\nmodule.exports = exports['default'];\n},{}],149:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = toString;\nfunction toString(input) {\n  if ((typeof input === 'undefined' ? 'undefined' : _typeof(input)) === 'object' && input !== null) {\n    if (typeof input.toString === 'function') {\n      input = input.toString();\n    } else {\n      input = '[object Object]';\n    }\n  } else if (input === null || typeof input === 'undefined' || isNaN(input) && !input.length) {\n    input = '';\n  }\n  return String(input);\n}\nmodule.exports = exports['default'];\n},{}],150:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = whitelist;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction whitelist(str, chars) {\n  (0, _assertString2.default)(str);\n  return str.replace(new RegExp('[^' + chars + ']+', 'g'), '');\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],151:[function(require,module,exports){\n(function (global){\n/*! https://mths.be/wtf8 v1.0.0 by @mathias */\n;(function(root) {\n\n\t// Detect free variables `exports`\n\tvar freeExports = typeof exports == 'object' && exports;\n\n\t// Detect free variable `module`\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\n\t// Detect free variable `global`, from Node.js or Browserified code,\n\t// and use it as `root`\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar stringFromCharCode = String.fromCharCode;\n\n\t// Taken from https://mths.be/punycode\n\tfunction ucs2decode(string) {\n\t\tvar output = [];\n\t\tvar counter = 0;\n\t\tvar length = string.length;\n\t\tvar value;\n\t\tvar extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t// Taken from https://mths.be/punycode\n\tfunction ucs2encode(array) {\n\t\tvar length = array.length;\n\t\tvar index = -1;\n\t\tvar value;\n\t\tvar output = '';\n\t\twhile (++index < length) {\n\t\t\tvalue = array[index];\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t}\n\t\treturn output;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction createByte(codePoint, shift) {\n\t\treturn stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);\n\t}\n\n\tfunction encodeCodePoint(codePoint) {\n\t\tif ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence\n\t\t\treturn stringFromCharCode(codePoint);\n\t\t}\n\t\tvar symbol = '';\n\t\tif ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);\n\t\t}\n\t\telse if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\telse if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);\n\t\t\tsymbol += createByte(codePoint, 12);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\tsymbol += stringFromCharCode((codePoint & 0x3F) | 0x80);\n\t\treturn symbol;\n\t}\n\n\tfunction wtf8encode(string) {\n\t\tvar codePoints = ucs2decode(string);\n\t\tvar length = codePoints.length;\n\t\tvar index = -1;\n\t\tvar codePoint;\n\t\tvar byteString = '';\n\t\twhile (++index < length) {\n\t\t\tcodePoint = codePoints[index];\n\t\t\tbyteString += encodeCodePoint(codePoint);\n\t\t}\n\t\treturn byteString;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction readContinuationByte() {\n\t\tif (byteIndex >= byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tvar continuationByte = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\tif ((continuationByte & 0xC0) == 0x80) {\n\t\t\treturn continuationByte & 0x3F;\n\t\t}\n\n\t\t// If we end up here, it’s not a continuation byte.\n\t\tthrow Error('Invalid continuation byte');\n\t}\n\n\tfunction decodeSymbol() {\n\t\tvar byte1;\n\t\tvar byte2;\n\t\tvar byte3;\n\t\tvar byte4;\n\t\tvar codePoint;\n\n\t\tif (byteIndex > byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tif (byteIndex == byteCount) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Read the first byte.\n\t\tbyte1 = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\t// 1-byte sequence (no continuation bytes)\n\t\tif ((byte1 & 0x80) == 0) {\n\t\t\treturn byte1;\n\t\t}\n\n\t\t// 2-byte sequence\n\t\tif ((byte1 & 0xE0) == 0xC0) {\n\t\t\tvar byte2 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x1F) << 6) | byte2;\n\t\t\tif (codePoint >= 0x80) {\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 3-byte sequence (may include unpaired surrogates)\n\t\tif ((byte1 & 0xF0) == 0xE0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x0F) << 12) | (byte2 << 6) | byte3;\n\t\t\tif (codePoint >= 0x0800) {\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 4-byte sequence\n\t\tif ((byte1 & 0xF8) == 0xF0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tbyte4 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x0F) << 0x12) | (byte2 << 0x0C) |\n\t\t\t\t(byte3 << 0x06) | byte4;\n\t\t\tif (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {\n\t\t\t\treturn codePoint;\n\t\t\t}\n\t\t}\n\n\t\tthrow Error('Invalid WTF-8 detected');\n\t}\n\n\tvar byteArray;\n\tvar byteCount;\n\tvar byteIndex;\n\tfunction wtf8decode(byteString) {\n\t\tbyteArray = ucs2decode(byteString);\n\t\tbyteCount = byteArray.length;\n\t\tbyteIndex = 0;\n\t\tvar codePoints = [];\n\t\tvar tmp;\n\t\twhile ((tmp = decodeSymbol()) !== false) {\n\t\t\tcodePoints.push(tmp);\n\t\t}\n\t\treturn ucs2encode(codePoints);\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar wtf8 = {\n\t\t'version': '1.0.0',\n\t\t'encode': wtf8encode,\n\t\t'decode': wtf8decode\n\t};\n\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine(function() {\n\t\t\treturn wtf8;\n\t\t});\n\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = wtf8;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tvar object = {};\n\t\t\tvar hasOwnProperty = object.hasOwnProperty;\n\t\t\tfor (var key in wtf8) {\n\t\t\t\thasOwnProperty.call(wtf8, key) && (freeExports[key] = wtf8[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.wtf8 = wtf8;\n\t}\n\n}(this));\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],152:[function(require,module,exports){\n'use strict';\n\nvar alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split('')\n  , length = 64\n  , map = {}\n  , seed = 0\n  , i = 0\n  , prev;\n\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nfunction encode(num) {\n  var encoded = '';\n\n  do {\n    encoded = alphabet[num % length] + encoded;\n    num = Math.floor(num / length);\n  } while (num > 0);\n\n  return encoded;\n}\n\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nfunction decode(str) {\n  var decoded = 0;\n\n  for (i = 0; i < str.length; i++) {\n    decoded = decoded * length + map[str.charAt(i)];\n  }\n\n  return decoded;\n}\n\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nfunction yeast() {\n  var now = encode(+new Date());\n\n  if (now !== prev) return seed = 0, prev = now;\n  return now +'.'+ encode(seed++);\n}\n\n//\n// Map each character to its index.\n//\nfor (; i < length; i++) map[alphabet[i]] = i;\n\n//\n// Expose the `yeast`, `encode` and `decode` functions.\n//\nyeast.encode = encode;\nyeast.decode = decode;\nmodule.exports = yeast;\n\n},{}],153:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.asyncPlayShapeAnimation = asyncPlayShapeAnimation;\nvar sound = require('./sound');\nvar color = require('./color');\n\nvar Promise = require('bluebird');\n\nfunction asyncAnimateScale(item, totalDuration) {\n  return new Promise(function (resolve, reject) {\n    try {\n      if (item.data.animating === true) {\n        resolve('shape already animating, ignoring');\n      }\n      item.data.animating = true;\n      item.stop({\n        goToEnd: true\n      });\n      item.animate([{\n        properties: {\n          scale: 1.15\n        },\n        settings: {\n          duration: totalDuration / 4,\n          easing: \"easeOut\"\n        }\n      }, {\n        properties: {\n          scale: 1\n        },\n        settings: {\n          duration: totalDuration - totalDuration / 4,\n          easing: \"easeIn\",\n          complete: function complete() {\n            item.data.animating = false;\n            resolve('asyncAnimateScale done');\n          }\n        }\n      }]);\n    } catch (e) {\n      item.stop({\n        goToEnd: true\n      });\n      reject(e);\n    }\n  });\n}\n\nfunction asyncAnimateBrightness(item, totalDuration, finalColor) {\n  return new Promise(function (resolve, reject) {\n    try {\n      if (item.data.animating === true) {\n        resolve('shape already animating, ignoring');\n      }\n      item.data.animating = true;\n      item.data.originalFillColor = item.fillColor;\n      item.stop({\n        goToEnd: true\n      });\n      item.animate([{\n        properties: {\n          fillColor: {\n            brightness: \"+0.2\"\n          }\n        },\n        settings: {\n          duration: totalDuration / 4,\n          easing: \"easeInOut\"\n        }\n      }, {\n        properties: {\n          fillColor: {\n            brightness: \"-0.2\"\n          }\n        },\n        settings: {\n          duration: totalDuration - totalDuration / 4,\n          easing: \"easeInOut\",\n          complete: function complete() {\n            item.data.animating = false;\n            item.fillColor = finalColor;\n            resolve('asyncAnimateBrightness done');\n          }\n        }\n      }]);\n    } catch (e) {\n      item.stop({\n        goToEnd: true\n      });\n      reject(e);\n    }\n  });\n}\n\nfunction asyncPlayShapeAnimation(shapeId) {\n  return new Promise(function (resolve, reject, onCancel) {\n    try {\n      var item = paper.project.getItem({\n        match: function match(el) {\n          return el.id === shapeId;\n        }\n      });\n\n      if (!!item) {\n        var group = null;\n        if (item.className === 'Group') {\n          group = item;\n        } else {\n          if (item.parent.className === 'Group') {\n            group = item.parent;\n          }\n        }\n\n        if (group !== null && group.children.length > 0 && Object.keys(group._namedChildren).length > 0) {\n          if (group.data.animating === true) {\n            resolve('group already animating, ignoring');\n          }\n          var totalDuration = sound.measureLength * 0.5;\n          var transparent = color.transparent;\n          var animationPromises = [];\n\n          var namedChildren = group._namedChildren;\n\n          animationPromises.push(asyncAnimateScale(group, totalDuration));\n          // if ('outer' in namedChildren && namedChildren.outer.length > 0) {\n          //   const outer = namedChildren.outer[0];\n          //   outer.fillColor = group.data.originalColor;\n          //   animationPromises.push(asyncAnimateBrightness(outer, totalDuration, group.data.color));\n          // }\n          //\n          // if ('loop' in namedChildren && namedChildren.loop.length > 0) {\n          //   namedChildren.loop.forEach(function(loop) {\n          //     if (!!loop.fillColor && loop.fillColor !== transparent) {\n          //       loop.fillColor = group.data.originalColor;\n          //       animationPromises.push(asyncAnimateBrightness(loop, totalDuration, group.data.color));\n          //     }\n          //   })\n          // }\n          //\n          // if ('pop' in namedChildren && namedChildren.pop.length > 0) {\n          //   namedChildren.pop.forEach(function(pop) {\n          //     animationPromises.push(asyncAnimateBrightness(pop, totalDuration, pop.fillColor));\n          //   })\n          // }\n\n          Promise.all(animationPromises).then(function () {\n            resolve('shape ' + shapeId + ' done animating');\n          }).catch(function (e) {\n            reject(e);\n          });\n        } else {\n          reject('could not find relevant group, cannot animate');\n        }\n      } else {\n        reject('could not find item with id ' + shapeId);\n      }\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n\n// function initAnimateShadowBlur() {\n//   animatePaper.extendPropHooks({\n//     \"shadowBlur\": {\n//       get: function(tween) {\n//         // console.log('get', tween);\n//         if (!tween.item.data._animatePaperVals) {\n//           tween.item.data._animatePaperVals = {};\n//         }\n//         if (typeof tween.item.data._animatePaperVals.shadowBlur === \"undefined\") {\n//             tween.item.data._animatePaperVals.shadowBlur = tween.item.shadowBlur;\n//         }\n//         // console.log('get', tween.item.shadowBlur);\n//         var output = tween.item.data._animatePaperVals.shadowBlur;\n//         return output;\n//       },\n//       set: function(tween) {\n//         // console.log('set', tween);\n//         var curBlur = tween.item.data._animatePaperVals.shadowBlur;\n//         var trueBlur = tween.now - curBlur;\n//         //\n//         tween.item.data._animatePaperVals.shadowBlur = tween.now;\n//         tween.item.shadowBlur += trueBlur;\n//         // console.log('set', tween.item.shadowBlur);\n//       },\n//     }\n//   })\n// }\n\n},{\"./color\":154,\"./sound\":162,\"bluebird\":31}],154:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getPathColorName = getPathColorName;\nexports.getColorName = getColorName;\nexports.getRandomPop = getRandomPop;\nexports.getRandomColor = getRandomColor;\nexports.getIndexedPopColor = getIndexedPopColor;\nexports.getCurrentColor = getCurrentColor;\nexports.getCurrentColorName = getCurrentColorName;\nvar config = require('./config');\n\nvar util = require('./util');\n\nvar transparent = exports.transparent = new Color(0, 0);\n\nfunction getPathColorName(path) {\n  var hexColor = path.parent.data.originalColor;\n  // let hexColor = path.strokeColor.toCSS(true); // This fails when it's a gradient\n  return getColorName(hexColor);\n}\n\nfunction getColorName(color) {\n  if (color) {\n    color = color.toUpperCase(); // make sure\n    if (color in config.palette.colorNames) {\n      return config.palette.colorNames[color];\n    } else {\n      return null;\n    }\n  } else {\n    return null;\n  }\n}\n\nfunction getRandomPop() {\n  return util.randomPick(config.palette.pops);\n}\n\nfunction getRandomColor() {\n  return util.randomPick(config.palette.colors);\n}\n\nfunction getIndexedPopColor(index) {\n  var pops = config.palette.pops;\n  return pops[index % pops.length];\n}\n\nfunction getCurrentColor() {\n  return $('.palette-color.palette-selected').data('color');\n}\n\nfunction getCurrentColorName() {\n  return getColorName(getCurrentColor());\n}\n\n},{\"./config\":155,\"./util\":167}],155:[function(require,module,exports){\n'use strict';\n\nexports.runAnimations = false;\nexports.pop = true;\nexports.canvasId = 'drawCanvas';\nexports.maxShapes = 20;\nexports.postKey = 'mellon';\nexports.minWidth = 1200;\nexports.minHeight = 600;\n\nexports.palette = {\n  colors: [\"#20171C\", \"#1E2A43\", \"#28377D\", \"#352747\", \"#CA2E26\", \"#9A2A1F\", \"#DA6C26\", \"#453121\", \"#916A47\", \"#DAAD27\", \"#7F7D31\", \"#2B5E2E\"],\n  colorNames: {\n    \"#20171C\": \"black\",\n    \"#1E2A43\": \"blue\",\n    \"#28377D\": \"blue\",\n    \"#352747\": \"blue\",\n    \"#CA2E26\": \"red\",\n    \"#9A2A1F\": \"red\",\n    \"#DA6C26\": \"orange\",\n    \"#453121\": \"brown\",\n    \"#916A47\": \"brown\",\n    \"#DAAD27\": \"orange\",\n    \"#7F7D31\": \"green\",\n    \"#2B5E2E\": \"green\"\n  },\n  gradients: {\n    '#20171C': ['#20171C', '#000000'],\n    '#1E2A43': ['#1E2A43', '#263166'],\n    '#28377D': ['#28377D', '#1E4695'],\n    '#352747': ['#352747', '#45005B'],\n    '#CA2E26': ['#CA2E26', '#9B352F'],\n    '#9A2A1F': ['#9A2A1F', '#CD3621'],\n    '#DA6C26': ['#DA6C26', '#BD4820'],\n    '#453121': ['#453121', '#281806'],\n    '#916A47': ['#916A47', '#623A22'],\n    '#DAAD27': ['#DAAD27', '#AF871D'],\n    '#7F7D31': ['#7F7D31', '#555827'],\n    '#2B5E2E': ['#2B5E2E', '#16451D']\n  },\n  pops: [\"#00ADEF\", \"#F285A5\", \"#7DC57F\", \"#F6EB16\", \"#F4EAE0\"],\n  colorSize: 20,\n  selectedColorSize: 30\n};\n\nexports.contextualTuts = [{\n  type: \"fill\",\n  copy: \"<strong>Double-tap</strong> a filled shape to <strong>unfill</strong> it. Repeat to <strong>FILL</strong> an unfilled shape.\"\n}, {\n  type: \"pinch\",\n  copy: \"<strong>Pinch</strong> shapes with <strong>two fingers</strong> to <strong>resize</strong> and <strong>move</strong> them.\"\n}];\n\n},{}],156:[function(require,module,exports){\n\"use strict\";\n\n(function (root, factory) {\n\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof module !== \"undefined\" && module.exports) {\n    module.exports = factory();\n  } else {\n    root.ShapeDetector = factory();\n  }\n})(undefined, function () {\n\n  var _nbSamplePoints;\n  var _squareSize = 250;\n  var _phi = 0.5 * (-1.0 + Math.sqrt(5.0));\n  var _angleRange = deg2Rad(45.0);\n  var _anglePrecision = deg2Rad(2.0);\n  var _halfDiagonal = Math.sqrt(_squareSize * _squareSize + _squareSize * _squareSize) * 0.5;\n  var _origin = {\n    x: 0,\n    y: 0\n  };\n\n  function deg2Rad(d) {\n\n    return d * Math.PI / 180.0;\n  };\n\n  function getDistance(a, b) {\n\n    var dx = b.x - a.x;\n    var dy = b.y - a.y;\n\n    return Math.sqrt(dx * dx + dy * dy);\n  };\n\n  function Stroke(points, name) {\n\n    this.points = points;\n    this.name = name;\n    this.processStroke();\n  };\n\n  Stroke.prototype.processStroke = function () {\n\n    this.points = this.resample();\n    this.setCentroid();\n    this.points = this.rotateBy(-this.indicativeAngle());\n    this.points = this.scaleToSquare();\n    this.setCentroid();\n    this.points = this.translateToOrigin();\n\n    return this;\n  };\n\n  Stroke.prototype.resample = function () {\n\n    var localDistance, q;\n    var interval = this.strokeLength() / (_nbSamplePoints - 1);\n    var distance = 0.0;\n    var newPoints = [this.points[0]];\n\n    for (var i = 1; i < this.points.length; i++) {\n      localDistance = getDistance(this.points[i - 1], this.points[i]);\n\n      if (distance + localDistance >= interval) {\n        q = {\n          x: this.points[i - 1].x + (interval - distance) / localDistance * (this.points[i].x - this.points[i - 1].x),\n          y: this.points[i - 1].y + (interval - distance) / localDistance * (this.points[i].y - this.points[i - 1].y)\n        };\n\n        newPoints.push(q);\n        this.points.splice(i, 0, q);\n        distance = 0.0;\n      } else {\n        distance += localDistance;\n      }\n    }\n\n    if (newPoints.length === _nbSamplePoints - 1) {\n      newPoints.push(this.points[this.points.length - 1]);\n    }\n\n    return newPoints;\n  };\n\n  Stroke.prototype.rotateBy = function (angle) {\n\n    var point;\n    var cos = Math.cos(angle);\n    var sin = Math.sin(angle);\n    var newPoints = [];\n\n    for (var i = 0; i < this.points.length; i++) {\n      point = this.points[i];\n\n      newPoints.push({\n        x: (point.x - this.c.x) * cos - (point.y - this.c.y) * sin + this.c.x,\n        y: (point.x - this.c.x) * sin + (point.y - this.c.y) * cos + this.c.y\n      });\n    }\n\n    return newPoints;\n  };\n\n  Stroke.prototype.scaleToSquare = function () {\n\n    var point;\n    var newPoints = [];\n    var box = {\n      minX: +Infinity,\n      maxX: -Infinity,\n      minY: +Infinity,\n      maxY: -Infinity\n    };\n\n    for (var i = 0; i < this.points.length; i++) {\n      point = this.points[i];\n\n      box.minX = Math.min(box.minX, point.x);\n      box.minY = Math.min(box.minY, point.y);\n      box.maxX = Math.max(box.maxX, point.x);\n      box.maxY = Math.max(box.maxY, point.y);\n    }\n\n    box.width = box.maxX - box.minX;\n    box.height = box.maxY - box.minY;\n\n    for (i = 0; i < this.points.length; i++) {\n      point = this.points[i];\n\n      newPoints.push({\n        x: point.x * (_squareSize / box.width),\n        y: point.y * (_squareSize / box.height)\n      });\n    }\n\n    return newPoints;\n  };\n\n  Stroke.prototype.translateToOrigin = function (points) {\n\n    var point;\n    var newPoints = [];\n\n    for (var i = 0; i < this.points.length; i++) {\n      point = this.points[i];\n\n      newPoints.push({\n        x: point.x + _origin.x - this.c.x,\n        y: point.y + _origin.y - this.c.y\n      });\n    }\n\n    return newPoints;\n  };\n\n  Stroke.prototype.setCentroid = function () {\n\n    var point;\n    this.c = {\n      x: 0.0,\n      y: 0.0\n    };\n\n    for (var i = 0; i < this.points.length; i++) {\n      point = this.points[i];\n\n      this.c.x += point.x;\n      this.c.y += point.y;\n    }\n\n    this.c.x /= this.points.length;\n    this.c.y /= this.points.length;\n\n    return this;\n  };\n\n  Stroke.prototype.indicativeAngle = function () {\n\n    return Math.atan2(this.c.y - this.points[0].y, this.c.x - this.points[0].x);\n  };\n\n  Stroke.prototype.strokeLength = function () {\n\n    var d = 0.0;\n\n    for (var i = 1; i < this.points.length; i++) {\n      d += getDistance(this.points[i - 1], this.points[i]);\n    }\n\n    return d;\n  };\n\n  Stroke.prototype.distanceAtBestAngle = function (pattern) {\n\n    var a = -_angleRange;\n    var b = _angleRange;\n    var x1 = _phi * a + (1.0 - _phi) * b;\n    var f1 = this.distanceAtAngle(pattern, x1);\n    var x2 = (1.0 - _phi) * a + _phi * b;\n    var f2 = this.distanceAtAngle(pattern, x2);\n\n    while (Math.abs(b - a) > _anglePrecision) {\n\n      if (f1 < f2) {\n        b = x2;\n        x2 = x1;\n        f2 = f1;\n        x1 = _phi * a + (1.0 - _phi) * b;\n        f1 = this.distanceAtAngle(pattern, x1);\n      } else {\n        a = x1;\n        x1 = x2;\n        f1 = f2;\n        x2 = (1.0 - _phi) * a + _phi * b;\n        f2 = this.distanceAtAngle(pattern, x2);\n      }\n    }\n\n    return Math.min(f1, f2);\n  };\n\n  Stroke.prototype.distanceAtAngle = function (pattern, angle) {\n\n    var strokePoints = this.rotateBy(angle);\n    var patternPoints = pattern.points;\n    var d = 0.0;\n\n    for (var i = 0; i < strokePoints.length; i++) {\n      d += getDistance(strokePoints[i], patternPoints[i]);\n    }\n\n    return d / strokePoints.length;\n  };\n\n  function ShapeDetector(patterns, options) {\n\n    options = options || {};\n    this.threshold = options.threshold || 0;\n    _nbSamplePoints = options.nbSamplePoints || 64;\n\n    this.patterns = [];\n\n    for (var i = 0; i < patterns.length; i++) {\n      this.learn(patterns[i].name, patterns[i].points);\n    }\n  }\n\n  ShapeDetector.defaultShapes = [{\n    points: [{ x: 127, y: 141 }, { x: 124, y: 140 }, { x: 120, y: 139 }, { x: 118, y: 139 }, { x: 116, y: 139 }, { x: 111, y: 140 }, { x: 109, y: 141 }, { x: 104, y: 144 }, { x: 100, y: 147 }, { x: 96, y: 152 }, { x: 93, y: 157 }, { x: 90, y: 163 }, { x: 87, y: 169 }, { x: 85, y: 175 }, { x: 83, y: 181 }, { x: 82, y: 190 }, { x: 82, y: 195 }, { x: 83, y: 200 }, { x: 84, y: 205 }, { x: 88, y: 213 }, { x: 91, y: 216 }, { x: 96, y: 219 }, { x: 103, y: 222 }, { x: 108, y: 224 }, { x: 111, y: 224 }, { x: 120, y: 224 }, { x: 133, y: 223 }, { x: 142, y: 222 }, { x: 152, y: 218 }, { x: 160, y: 214 }, { x: 167, y: 210 }, { x: 173, y: 204 }, { x: 178, y: 198 }, { x: 179, y: 196 }, { x: 182, y: 188 }, { x: 182, y: 177 }, { x: 178, y: 167 }, { x: 170, y: 150 }, { x: 163, y: 138 }, { x: 152, y: 130 }, { x: 143, y: 129 }, { x: 140, y: 131 }, { x: 129, y: 136 }, { x: 126, y: 139 }],\n    name: \"circle\"\n  }, {\n    points: [{ x: 137, y: 139 }, { x: 135, y: 141 }, { x: 133, y: 144 }, { x: 132, y: 146 }, { x: 130, y: 149 }, { x: 128, y: 151 }, { x: 126, y: 155 }, { x: 123, y: 160 }, { x: 120, y: 166 }, { x: 116, y: 171 }, { x: 112, y: 177 }, { x: 107, y: 183 }, { x: 102, y: 188 }, { x: 100, y: 191 }, { x: 95, y: 195 }, { x: 90, y: 199 }, { x: 86, y: 203 }, { x: 82, y: 206 }, { x: 80, y: 209 }, { x: 75, y: 213 }, { x: 73, y: 213 }, { x: 70, y: 216 }, { x: 67, y: 219 }, { x: 64, y: 221 }, { x: 61, y: 223 }, { x: 60, y: 225 }, { x: 62, y: 226 }, { x: 65, y: 225 }, { x: 67, y: 226 }, { x: 74, y: 226 }, { x: 77, y: 227 }, { x: 85, y: 229 }, { x: 91, y: 230 }, { x: 99, y: 231 }, { x: 108, y: 232 }, { x: 116, y: 233 }, { x: 125, y: 233 }, { x: 134, y: 234 }, { x: 145, y: 233 }, { x: 153, y: 232 }, { x: 160, y: 233 }, { x: 170, y: 234 }, { x: 177, y: 235 }, { x: 179, y: 236 }, { x: 186, y: 237 }, { x: 193, y: 238 }, { x: 198, y: 239 }, { x: 200, y: 237 }, { x: 202, y: 239 }, { x: 204, y: 238 }, { x: 206, y: 234 }, { x: 205, y: 230 }, { x: 202, y: 222 }, { x: 197, y: 216 }, { x: 192, y: 207 }, { x: 186, y: 198 }, { x: 179, y: 189 }, { x: 174, y: 183 }, { x: 170, y: 178 }, { x: 164, y: 171 }, { x: 161, y: 168 }, { x: 154, y: 160 }, { x: 148, y: 155 }, { x: 143, y: 150 }, { x: 138, y: 148 }, { x: 136, y: 148 }],\n    name: \"triangle\"\n  }, {\n    points: [{ x: 78, y: 149 }, { x: 78, y: 153 }, { x: 78, y: 157 }, { x: 78, y: 160 }, { x: 79, y: 162 }, { x: 79, y: 164 }, { x: 79, y: 167 }, { x: 79, y: 169 }, { x: 79, y: 173 }, { x: 79, y: 178 }, { x: 79, y: 183 }, { x: 80, y: 189 }, { x: 80, y: 193 }, { x: 80, y: 198 }, { x: 80, y: 202 }, { x: 81, y: 208 }, { x: 81, y: 210 }, { x: 81, y: 216 }, { x: 82, y: 222 }, { x: 82, y: 224 }, { x: 82, y: 227 }, { x: 83, y: 229 }, { x: 83, y: 231 }, { x: 85, y: 230 }, { x: 88, y: 232 }, { x: 90, y: 233 }, { x: 92, y: 232 }, { x: 94, y: 233 }, { x: 99, y: 232 }, { x: 102, y: 233 }, { x: 106, y: 233 }, { x: 109, y: 234 }, { x: 117, y: 235 }, { x: 123, y: 236 }, { x: 126, y: 236 }, { x: 135, y: 237 }, { x: 142, y: 238 }, { x: 145, y: 238 }, { x: 152, y: 238 }, { x: 154, y: 239 }, { x: 165, y: 238 }, { x: 174, y: 237 }, { x: 179, y: 236 }, { x: 186, y: 235 }, { x: 191, y: 235 }, { x: 195, y: 233 }, { x: 197, y: 233 }, { x: 200, y: 233 }, { x: 201, y: 235 }, { x: 201, y: 233 }, { x: 199, y: 231 }, { x: 198, y: 226 }, { x: 198, y: 220 }, { x: 196, y: 207 }, { x: 195, y: 195 }, { x: 195, y: 181 }, { x: 195, y: 173 }, { x: 195, y: 163 }, { x: 194, y: 155 }, { x: 192, y: 145 }, { x: 192, y: 143 }, { x: 192, y: 138 }, { x: 191, y: 135 }, { x: 191, y: 133 }, { x: 191, y: 130 }, { x: 190, y: 128 }, { x: 188, y: 129 }, { x: 186, y: 129 }, { x: 181, y: 132 }, { x: 173, y: 131 }, { x: 162, y: 131 }, { x: 151, y: 132 }, { x: 149, y: 132 }, { x: 138, y: 132 }, { x: 136, y: 132 }, { x: 122, y: 131 }, { x: 120, y: 131 }, { x: 109, y: 130 }, { x: 107, y: 130 }, { x: 90, y: 132 }, { x: 81, y: 133 }, { x: 76, y: 133 }],\n    name: \"square\"\n  }];\n\n  ShapeDetector.prototype.spot = function (points, patternName) {\n\n    if (patternName == null) {\n      patternName = '';\n    }\n\n    var distance, pattern, score;\n    var stroke = new Stroke(points);\n    var bestDistance = +Infinity;\n    var bestPattern = null;\n    var bestScore = 0;\n\n    for (var i = 0; i < this.patterns.length; i++) {\n      pattern = this.patterns[i];\n\n      if (pattern.name.indexOf(patternName) > -1) {\n        distance = stroke.distanceAtBestAngle(pattern);\n        score = 1.0 - distance / _halfDiagonal;\n\n        if (distance < bestDistance && score > this.threshold) {\n          bestDistance = distance;\n          bestPattern = pattern.name;\n          bestScore = score;\n        }\n      }\n    }\n\n    return {\n      pattern: bestPattern,\n      score: bestScore\n    };\n  };\n\n  ShapeDetector.prototype.learn = function (name, points) {\n\n    return this.patterns.push(new Stroke(points, name));\n  };\n\n  return ShapeDetector;\n});\n\n},{}],157:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resetWindow = resetWindow;\nvar throttle = require('throttleit');\n\nvar touch = require('./touch');\nvar ui = require('./ui');\nvar overlays = require('./overlays');\nvar video = require('./video');\nvar timing = require('./timing');\nvar util = require('./util');\nvar sound = require('./sound');\nvar shape = require('./shape');\nvar socket = require('./socket');\n\nfunction resetWindow() {\n  var clientId = null;\n  if (!!window.kan && !!window.kan.uuid && window.kan.uuid !== null) {\n    clientId = window.kan.uuid; // preserve if already set\n  }\n\n  window.kan = {\n    composition: [],\n    compositionInterval: null,\n    compositionTimeout: null,\n    soundTimeouts: [],\n    lastEvent: null,\n    interaction: false,\n    moves: [],\n    playing: false,\n    pinching: false,\n    pinchedGroup: null,\n    pinchedTut: null,\n    pathData: {},\n    shapePath: null,\n    prevAngle: null,\n    sides: [],\n    side: [],\n    corners: [],\n    lastScale: 1,\n    lastRotation: 0,\n    originalPosition: null,\n    tutorialCompletion: {\n      \"fill\": false,\n      \"pinch\": false\n    },\n    inactivityTimeout: null,\n    playPromptTimeout: null,\n    sharePromptTimeout: null,\n    userHasDrawnFirstShape: false,\n    firstTimePlaying: true,\n    shapesSinceTut: 0,\n    refreshCheckInterval: null,\n    sha: null,\n    scheduledOverlay: null,\n    continueCountdownInterval: null,\n    shapeSounds: null,\n    location: $('body').hasClass('gallery') ? 'gallery' : 'desktop',\n    resizeCanvasTimeout: null,\n    stopTimeouts: false,\n    uuid: clientId\n  };\n}\n\n$(window).on('load', function () {\n  function run() {\n    resetWindow();\n    util.setSha();\n    util.setUuid();\n    socket.init();\n    ui.init();\n    overlays.init();\n    timing.init();\n    shape.init();\n    sound.init().then(function () {\n      // sound.init() is async because it loads in the sound files\n      touch.init();\n    }).fail(function (e) {\n      console.error('error initting shape sounds:', e);\n      location.reload();\n    });\n  }\n\n  try {\n    run();\n  } catch (e) {\n    console.error(e);\n    // setTimeout(function() {\n    //   // wait 5 seconds then reload\n    //   location.reload();\n    // }, 5 * 1000);\n  }\n});\n\nwindow.onresize = throttle(function () {\n  clearTimeout(window.kan.resizeCanvasTimeout);\n\n  ui.verifyBrowserWidth();\n  window.kan.resizeCanvasTimeout = setTimeout(function () {\n    ui.fixCanvasSize();\n    ui.fixTutorialVideoSize();\n  }, timing.browserWidthCheckDelay * 2);\n}, timing.browserWidthCheckDelay);\n\n},{\"./overlays\":158,\"./shape\":159,\"./socket\":161,\"./sound\":162,\"./timing\":163,\"./touch\":164,\"./ui\":166,\"./util\":167,\"./video\":168,\"throttleit\":82}],158:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.openOverlay = openOverlay;\nexports.resetContinueCountdown = resetContinueCountdown;\nexports.cardNavNext = cardNavNext;\nexports.closeAndResetOverlays = closeAndResetOverlays;\nexports.asyncCloseOverlaysAfterDuration = asyncCloseOverlaysAfterDuration;\nexports.asyncWaitForWellFormedPhoneNumber = asyncWaitForWellFormedPhoneNumber;\nexports.init = init;\nvar config = require('./config');\n\nvar validator = require('validator');\n\nvar touch = require('./touch');\nvar video = require('./video');\nvar timing = require('./timing');\nvar tutorial = require('./tutorial');\nvar util = require('./util');\nvar ui = require('./ui');\n\nvar hammerCanvas = touch.hammerCanvas;\n\nvar $body = $('body');\nvar tapEvent = 'click tap touch';\n\nvar $cardsWrap = $body.find('.overlay.tips .card-wrap');\nvar $cardItems = $cardsWrap.find('article');\nvar cardsCount = $cardItems.length;\nvar $footer = $body.find('.overlay.tips .footer');\n\nvar $sharePhone = $body.find('#phone');\nvar $shareKeypad = $body.find('.keypad');\nvar $shareSend = $shareKeypad.find('.send');\nvar $sharePhoneWrap = $('.share-phone .output');\nvar invalidPhoneNumberClass = 'invalid-number';\n\nvar allOverlays = ['intro', 'play-prompt', 'share-prompt', 'continue', 'tips', 'share', 'share-prepare', 'share-confirmation', 'window-too-small'];\nvar overlayOpenClasses = allOverlays.map(function (overlay) {\n  return overlay + '-active';\n}).join(' ');\n\nvar overlayActiveClass = 'overlay-active';\n\nfunction openOverlay(overlayName) {\n  console.log('attempting to open overlay', overlayName);\n  if (window.kan.overlays === false) return;\n  if ($body.hasClass('window-too-small-active')) return; // don't open overlays if the window is too small\n  if (allOverlays.includes(overlayName)) {\n    if (window.kan.pinching === true || window.kan.panning === true) {\n      if (overlayName === 'continue') {\n        timing.preventInactivityTimeout();\n      } else {\n        // console.log('scheduling overlay', overlayName);\n        window.kan.scheduledOverlay = overlayName;\n      }\n      return;\n    }\n    closeAndResetOverlays();\n    tutorial.hideContextualTuts();\n    $body.addClass(overlayActiveClass);\n    $body.find('.overlay.closeable:not(.tips):not(.share-phone)').on(tapEvent, function () {\n      closeAndResetOverlays();\n    });\n\n    switch (overlayName) {\n      case 'intro':\n        openIntroOverlay();\n        break;\n      case 'play-prompt':\n        if (util.anyShapesOnCanvas()) {\n          openPlayPromptOverlay();\n        } else {\n          window.kan.playPromptTimeout = setTimeout(function () {\n            openOverlay('play-prompt');\n          }, timing.playPromptDelay / 2);\n        }\n        break;\n      case 'share-prompt':\n        openSharePromptOverlay();\n        break;\n      case 'continue':\n        openContinueOverlay();\n        break;\n      case 'tips':\n        openTipsOverlay();\n        break;\n      case 'share':\n        openShareOverlay();\n        break;\n      case 'share-prepare':\n        openSharePrepareOverlay();\n        break;\n      case 'share-confirmation':\n        openShareConfirmationOverlay();\n        break;\n      case 'window-too-small':\n        openWindowTooSmallOverlay();\n        break;\n    }\n  } else {\n    // console.log('unable to open unknown overlay', overlayName);\n  }\n}\n\nfunction openIntroOverlay() {\n  $body.addClass('intro-active');\n}\n\nfunction openPlayPromptOverlay() {\n  $body.addClass('play-prompt-active');\n}\n\nfunction openSharePromptOverlay() {\n  $body.addClass('share-prompt-active');\n}\n\nfunction resetContinueCountdown() {\n  $('.overlay.continue .countdown-num').html(parseInt(timing.continueInactivityDelay / 1000));\n  clearInterval(window.kan.continueCountdownInterval);\n}\n\nfunction openContinueOverlay() {\n  $body.addClass('continue-active');\n\n  resetContinueCountdown();\n  clearTimeout(window.kan.inactivityTimeout);\n  clearTimeout(window.kan.playPromptTimeout);\n\n  window.kan.continueCountdownInterval = setInterval(function () {\n    var $countdownNumWrap = $('.overlay.continue .countdown-num');\n    var count = parseInt($countdownNumWrap.html());\n    if (count > 1) {\n      $countdownNumWrap.html(count - 1);\n    }\n  }, 1000);\n\n  window.kan.inactivityTimeout = setTimeout(function () {\n    video.enterTutorialMode();\n    ui.selectRandomColorFromPalette();\n  }, timing.continueInactivityDelay);\n}\n\nfunction openTipsOverlay() {\n  $body.addClass('tips-active');\n  activateTipsCards();\n}\n\nfunction openShareOverlay() {\n  $body.addClass('share-active');\n}\n\nfunction openSharePrepareOverlay() {\n  $body.addClass('share-prepare-active');\n}\n\nfunction openShareConfirmationOverlay() {\n  $body.addClass('share-confirmation-active');\n}\n\nfunction openWindowTooSmallOverlay() {\n  $body.addClass('window-too-small-active');\n}\n\n// card slider navigation\nfunction cardNavNext() {\n  var $old = $body.find('.card-wrap .current');\n  var $new = $old.next().length ? $old.next() : $cardItems.first();\n  var $next = $new.next().length ? $new.next() : $cardItems.first();\n  var $third = $next.next().length ? $next.next() : $cardItems.first().next();\n  var slide = $new.index();\n  $old.removeClass().addClass('remove');\n  $new.removeClass().addClass('current');\n  $next.removeClass().addClass('next');\n  $third.removeClass().addClass('third');\n  updateCardCounter(slide + 1, cardsCount);\n  setTimeout(function () {\n    $old.removeClass();\n  }, 600);\n}\n\n// tips card interactions\nfunction cardInteractions() {\n  var timeOfLastInteraction = 0;\n\n  $body.find('.overlay.closeable').on(tapEvent, function (e) {\n    var currentTime = Date.now();\n    if (timeOfLastInteraction > currentTime - 250) {\n      return;\n    }\n    timeOfLastInteraction = currentTime;\n\n    if ($(e.target).closest('.card-wrap').length == 1) {\n      // directly on a card, navigate to the next one\n      // console.log('hi');\n      cardNavNext();\n    } else {\n      // console.log('no');\n      // outside elements, close everything and reset\n      closeAndResetOverlays();\n    }\n  });\n}\n\nfunction resetTips() {\n  $cardItems.removeClass();\n  $sharePhone.html('');\n}\n\n// close and reset tips\nfunction closeAndResetOverlays() {\n  $body.removeClass('overlay-active');\n  $body.removeClass(overlayOpenClasses);\n  $sharePhoneWrap.removeClass(invalidPhoneNumberClass);\n  resetTips();\n}\n\nfunction asyncCloseOverlaysAfterDuration(duration) {\n  return new Promise(function (resolve, reject) {\n    var closeOverlayTimeout = null;\n    try {\n      closeOverlayTimeout = setTimeout(function () {\n        closeAndResetOverlays();\n        resolve('asyncCloseOverlaysAfterDuration done');\n      }, duration);\n    } catch (e) {\n      clearTimeout(closeOverlayTimeout);\n      reject(e);\n    }\n  });\n}\n\n// deal a fresh stack of cards\nfunction activateTipsCards() {\n  var $new = $cardItems.first();\n  var $next = $new.next().length ? $new.next() : $cardItems.first();\n  var $third = $next.next().length ? $next.next() : $cardItems.first().next();\n  $cardItems.removeClass();\n  $new.removeClass().addClass('current');\n  $next.removeClass().addClass('next');\n  $third.removeClass().addClass('third');\n  updateCardCounter(1, cardsCount);\n}\n\n// counting cards\nfunction updateCardCounter(current, total) {\n  $footer.find('.current').html(current);\n  $footer.find('.next').html(total);\n}\n\nfunction asyncWaitForWellFormedPhoneNumber(s3Id) {\n  return new Promise(function (resolve, reject) {\n    // normal inactivity timeout is disabled, start an alternate one\n    var inactivityTimeout = setTimeout(function () {\n      if ($body.hasClass('share-active')) {\n        reject('timeout');\n      } else {\n        reject('share-closed');\n      }\n    }, timing.continueInactivityDelay);\n\n    $shareKeypad.on(tapEvent, function (e) {\n      clearTimeout(inactivityTimeout);\n      inactivityTimeout = setTimeout(function () {\n        if ($body.hasClass('share-active')) {\n          reject('timeout');\n        } else {\n          reject('share-closed');\n        }\n      }, timing.continueInactivityDelay);\n    });\n\n    $shareSend.on(tapEvent, function (e) {\n      var phoneNumWithHyphens = $sharePhone.text();\n      var phoneNumRaw = phoneNumWithHyphens.replace(/\\D/g, '');\n\n      if (validator.isMobilePhone(phoneNumRaw, 'en-US')) {\n        $sharePhoneWrap.removeClass(invalidPhoneNumberClass);\n        if (phoneNumRaw.length == 10) phoneNumRaw = '1' + phoneNumRaw;\n        clearTimeout(inactivityTimeout);\n        resolve({\n          phone: phoneNumRaw,\n          s3Id: s3Id\n        });\n      } else {\n        $sharePhoneWrap.addClass(invalidPhoneNumberClass);\n      }\n    });\n  });\n}\n\n// phone inputs\nfunction phoneNumberInputs() {\n  // mask the output\n  $sharePhone.mask('000-000-0000');\n  // get interactions from the keypad\n  $shareKeypad.find('.num').on(tapEvent, function (e) {\n    var phoneNumber = $sharePhone.html().toString() + $(e.target).html().toString();\n    phoneNumber = $sharePhone.masked(phoneNumber);\n    $sharePhone.html(phoneNumber);\n  });\n  // clear the display\n  $shareKeypad.find('.clear').on(tapEvent, function (e) {\n    $sharePhone.html('');\n  });\n\n  // $('body.share-active').on(tapEvent, function(e) {\n  //   if ($(e.target).closest(''))\n  // })\n}\n\n// \"randomly\" place fiddly bits on the cards\nfunction randomCardGraphics() {\n  $body.find('.card-wrap article').each(function (i, el) {\n    var numBg = 6; // 6 different bgs specified in css\n    $(el).attr('data-bg', i % numBg);\n  });\n}\n\nfunction initTips() {\n  cardInteractions();\n}\n\nfunction initShare() {\n  phoneNumberInputs();\n  randomCardGraphics();\n}\n\nfunction init() {\n  initTips();\n  initShare();\n}\n\n},{\"./config\":155,\"./timing\":163,\"./touch\":164,\"./tutorial\":165,\"./ui\":166,\"./util\":167,\"./video\":168,\"validator\":87}],159:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.startKeepaliveAnimation = startKeepaliveAnimation;\nexports.stopKeepaliveAnimation = stopKeepaliveAnimation;\nexports.destroyGroupPops = destroyGroupPops;\nexports.fillInGroupPopsById = fillInGroupPopsById;\nexports.toggleFill = toggleFill;\nexports.cleanUpGroup = cleanUpGroup;\nexports.updatePops = updatePops;\nexports.getOutlineGroup = getOutlineGroup;\nexports.getTruedShape = getTruedShape;\nexports.getCompletedPath = getCompletedPath;\nexports.getShapePrediction = getShapePrediction;\nexports.getIntegerPoint = getIntegerPoint;\nexports.stringifyPoint = stringifyPoint;\nexports.parsePoint = parsePoint;\nexports.getClosestPointFromPathData = getClosestPointFromPathData;\nexports.processShapeData = processShapeData;\nexports.findInteriorCurves = findInteriorCurves;\nexports.getExtendedPath = getExtendedPath;\nexports.getBruteExtendedPath = getBruteExtendedPath;\nexports.getTrimmedPath = getTrimmedPath;\nexports.hitTestGroupBounds = hitTestGroupBounds;\nexports.hitTestBounds = hitTestBounds;\nexports.init = init;\nvar ShapeDetector = require('./lib/shape-detector');\n\nvar config = require('./config');\n\nvar util = require('./util');\nvar color = require('./color');\n\nvar keepaliveShape = exports.keepaliveShape = void 0;\n\nvar cornerThresholdDeg = exports.cornerThresholdDeg = 30;\nvar thresholdDistMultiplier = exports.thresholdDistMultiplier = 0.1;\n\nvar detector = exports.detector = new ShapeDetector(ShapeDetector.defaultShapes);\n\nvar shapeNames = exports.shapeNames = [\"line\", \"circle\", \"square\", \"triangle\", \"other\"];\n\nvar transparent = color.transparent;\n\nfunction clearPops() {\n  var pops = util.getAllPops();\n  pops.forEach(function (pop) {\n    pop.remove();\n  });\n}\n\nvar keepaliveInterval = null;\n\n// the canvas recorder automatically trims 'still' frames, so I add a semitransparent 1px square to trick the recorder into recording :)\nfunction initKeepaliveShape() {\n  exports.keepaliveShape = keepaliveShape = Path.Rectangle({\n    point: [1, 1],\n    size: [1, 1],\n    strokeColor: new Color(0, 0.001),\n    visible: false,\n    name: 'keepalive'\n  });\n}\n\nfunction startKeepaliveAnimation() {\n  keepaliveShape.visible = true;\n  keepaliveInterval = setInterval(function () {\n    keepaliveShape.rotation += 5;\n  }, 40);\n};\n\nfunction stopKeepaliveAnimation() {\n  keepaliveShape.visible = false;\n  clearInterval(keepaliveInterval);\n}\n\nfunction destroyGroupPops(group) {\n  // console.log('destroying pops');\n  var groupPopsBefore = util.getGroupPops(group);\n  // console.log('pops to be destroyed', groupPopsBefore);\n  if (groupPopsBefore.length > 0) {\n    groupPopsBefore.forEach(function (pop) {\n      pop.remove();\n    });\n  }\n  var groupPopsAfter = util.getGroupPops(group);\n  // console.log('group pops after', groupPopsAfter);\n}\n\nfunction fillInGroupPopsById(groupId) {\n  var group = paper.project.getItem({\n    className: 'Group',\n    match: function match(el) {\n      return el.id === groupId;\n    }\n  });\n\n  if (!!group && group.children.length > 0) {\n    group.children.forEach(function (groupChild) {\n      if (groupChild.name === 'loop') {\n        toggleFill(groupChild);\n      }\n    });\n  }\n}\n\nfunction toggleFill(item) {\n  var transparent = color.transparent;\n  // console.log('hit');\n  var parent = item.parent;\n\n  // console.log('hit item', item);\n  // console.log('hit parent', parent);\n\n  if (item.data.interior) {\n    // console.log('interior');\n    item.data.transparent = !item.data.transparent;\n\n    if (item.data.transparent) {\n      // console.log('transparent');\n      item.fillColor = transparent;\n    } else {\n      // console.log('not transparent');\n      item.fillColor = parent.data.color;\n    }\n    item.strokeColor = transparent;\n\n    window.kan.moves.push({\n      type: 'fillChange',\n      id: item.id,\n      fill: parent.data.color,\n      transparent: item.data.transparent\n    });\n  } else {\n    // console.log('not interior');\n    // check if item is a pop, because then we'll fill the pop's parent\n    if (!!item.data && item.data.pop === true) {\n      if (!!item.parent) {\n        if (config.pop === true) {\n          fillInGroupPopsById(item.parent.id);\n        }\n      }\n    }\n  }\n}\n\nfunction cleanUpGroup(group) {\n  var acceptableNames = ['mask', 'outer', 'shapePath', 'loop', 'pop'];\n\n  group.children.forEach(function (groupChild) {\n    if (groupChild.className === 'CompoundPath' || groupChild.name === null || !acceptableNames.includes(groupChild.name) || !groupChild.length > 0) {\n      groupChild.remove();\n    }\n  });\n\n  // NO IDEA WHY I STILL HAVE TO DO THIS, IT SHOULD BE DELETED BY NOW\n  try {\n    if ('outer 1' in group._namedChildren) {\n      group._namedChildren['outer 1'].forEach(function (child) {\n        child.remove();\n      });\n      delete group._namedChildren['outer 1'];\n    }\n  } catch (e) {\n    // console.log('issue deleting unwanted child');\n  }\n\n  return group;\n}\n\nfunction updatePops() {\n  var freshGroups = util.getFreshGroups();\n  var popCandidates = util.getPopCandidates();\n  var allPops = util.getAllPops();\n  popCandidates.reverse();\n  // console.log('freshGroups', freshGroups);\n  // console.log('popCandidates', popCandidates);\n  // clearPops();\n\n  freshGroups.forEach(function (freshGroup, i) {\n    // if (i >= 4) return;\n    // console.log('freshGroup', freshGroup);\n\n    var freshOuter = freshGroup._namedChildren.mask[0];\n    freshOuter.bringToFront();\n    // freshOuter.visible = true;\n    // freshOuter.fillColor = 'black';\n    // freshOuter.selected = true;\n    // console.log('freshOuter', freshOuter);\n    // freshOuter.selected = true;\n    popCandidates.forEach(function (otherGroup, j) {\n      var otherGroupOuter = otherGroup._namedChildren.mask[0];\n      if (freshGroup.id !== otherGroup.id) {\n        // console.log('otherGroup', otherGroup);\n        // console.log('otherGroupOuter', otherGroupOuter);\n        // otherGroupOuter.fillColor = 'white';\n        otherGroupOuter.bringToFront();\n        var thisPop = freshOuter.intersect(otherGroupOuter);\n        if (!!thisPop && thisPop.length > 0) {\n          // const popColor = color.getIndexedPopColor(i + j);\n          var popColor = color.getRandomPop();\n          thisPop.fillColor = popColor;\n          thisPop.strokeColor = transparent;\n          thisPop.data.pop = true;\n          thisPop.name = 'pop';\n          thisPop.data.popGroup = freshGroup.id;\n          thisPop.data.intersectingGroup = otherGroup.id;\n          thisPop.visible = true;\n          thisPop.closed = true;\n          thisPop.bringToFront();\n          freshGroup.addChild(thisPop);\n        }\n\n        cleanUpGroup(freshGroup);\n\n        // figure out if this pop intersects any other pops\n        // allPops.forEach(function(otherPop, k) {\n        //   console.log('checking other pop', otherPop);\n        //   if (thisPop.id !== otherPop.id && thisPop.intersects(otherPop)) {\n        //     let popIntersection = thisPop.getIntersections(otherPop);\n        //     if (!!popIntersection && popIntersection.length > 0) {\n        //       popIntersection = new Path([popIntersection])\n        //       console.log('popIntersection', popIntersection);\n        //       // const popColor = color.getIndexedPopColor(i + j + k);\n        //       const popColor = color.getRandomPop();\n        //       popIntersection.data.pop = true;\n        //       popIntersection.fillColor = popColor\n        //       popIntersection.strokeColor = popColor;\n        //       popIntersection.visible = true;\n        //       popIntersection.closed = true;\n        //       popIntersection.bringToFront();\n        //     }\n        //   }\n        // });\n      }\n    });\n\n    freshGroup.data.fresh = false;\n  });\n}\n\nfunction getOutlineGroup(truedShape) {\n  // console.log('truedShape', truedShape);\n  var outerPath = new Path();\n  outerPath.name = 'outer';\n  outerPath.visible = true;\n\n  var middlePath = new Path();\n  middlePath.name = 'middle';\n  var sizes = [];\n  var angle = null,\n      lastAngle = null,\n      angleDelta = void 0;\n\n  var firstTop = null,\n      firstBottom = null;\n  var lastTop = null,\n      lastBottom = null;\n\n  if (!(truedShape.length > 0)) return new Group(outerPath, middlePath);\n\n  middlePath.add(truedShape.firstSegment.point);\n\n  for (var i = 0; i < truedShape.length; i += 10) {\n    while (sizes.length > 10) {\n      sizes.shift();\n    }\n\n    var size = Math.random() * 9; // This is just random variance\n    sizes.push(size);\n\n    var cumSize = 0;\n    for (var j = 0; j < sizes.length; j++) {\n      cumSize += sizes[j];\n    }\n    var avgSize = Math.max(5, (cumSize / sizes.length + size) / 2);\n\n    var point = truedShape.getPointAt(i);\n    var normal = truedShape.getNormalAt(i);\n\n    var top = new Point(point.x + normal.x * avgSize, point.y + normal.y * avgSize);\n    var bottom = new Point(point.x - normal.x * avgSize, point.y - normal.y * avgSize);\n\n    // console.log('point', point, 'normal', normal);\n    // console.log('top', top, 'bottom', bottom);\n\n    outerPath.add(top);\n    outerPath.insert(0, bottom);\n    middlePath.add(point);\n\n    lastAngle = angle;\n\n    if (i == 10) {\n      firstTop = top;\n      firstBottom = bottom;\n    } else {\n      lastTop = top;\n      lastBottom = bottom;\n    }\n  }\n\n  if (truedShape.closed === true) {\n    var centerTop = new Point((firstTop.x + lastTop.x) / 2, (firstTop.y + lastTop.y) / 2);\n    var centerBottom = new Point((firstBottom.x + lastBottom.x) / 2, (firstBottom.y + lastBottom.y) / 2);\n    var center = new Point((centerTop.x + centerBottom.x) / 2, (centerTop.y + centerBottom.y) / 2);\n\n    outerPath.add(centerTop);\n    outerPath.insert(0, centerBottom);\n    middlePath.add(center);\n\n    outerPath.add(firstTop);\n    outerPath.insert(0, firstBottom);\n    middlePath.closed = true;\n  }\n\n  outerPath.flatten(50);\n  middlePath.flatten(50);\n  outerPath.simplify();\n  middlePath.simplify();\n\n  outerPath.selected = false;\n  // middlePath.selected = true;\n  outerPath.name = 'outer';\n  middlePath.name = 'middle';\n  var returnGroup = new Group(outerPath, middlePath);\n  return returnGroup;\n}\n\nfunction getTruedShape(path) {\n  var pathClone = path.clone();\n  pathClone.visible = false;\n  // console.log('pathClone', pathClone);\n  var completedPath = getCompletedPath(pathClone);\n  // completedPath.reduce();\n\n  // true the path!\n  var truedPath = completedPath;\n  // console.log('truedPath', truedPath);\n\n  truedPath.strokeWidth = pathClone.strokeWidth;\n\n  pathClone.remove();\n  return truedPath;\n}\n\n// extend or trim path if the ends are close\nfunction getCompletedPath(path) {\n  var pathClone = path.clone();\n  pathClone.visible = false;\n  pathClone.reduce();\n  pathClone.simplify();\n\n  var intersections = pathClone.getIntersections();\n\n  if (intersections.length > 0) {\n    // trim path if ends are close\n    var trimmedPath = getTrimmedPath(pathClone);\n\n    pathClone.remove();\n\n    return trimmedPath;\n  } else {\n    // extend path to see if an intersection is near\n    var extendedPath = getExtendedPath(pathClone);\n    var _intersections = extendedPath.getIntersections();\n\n    // pathClone.remove();\n\n    if (_intersections.length > 0) {\n      // trim extra extended path\n      var _trimmedPath = getTrimmedPath(extendedPath);\n      extendedPath.remove();\n      return _trimmedPath;\n    } else {\n      // extended path does not intersect, return the original path\n      extendedPath.replaceWith(getBruteExtendedPath(pathClone));\n      if (extendedPath !== null) {\n        var _intersections2 = extendedPath.getIntersections();\n\n        if (_intersections2.length > 0) {\n          var _trimmedPath2 = getTrimmedPath(extendedPath);\n          extendedPath.remove();\n          return _trimmedPath2;\n        }\n\n        if (!!extendedPath && extendedPath.length > 0) {\n          extendedPath.remove();\n        }\n      }\n\n      pathClone.visible = true;\n      return pathClone;\n    }\n  }\n}\n\nfunction getShapePrediction(path) {\n  var prediction = {};\n\n  var shapeJSON = path.exportJSON();\n  var shapeData = processShapeData(shapeJSON);\n  // console.log(JSON.stringify(shapeData));\n  var shapePrediction = detector.spot(shapeData);\n\n  if (shapePrediction.score === 0) {\n    // algorithm doesn't like vertical lines for some reason\n    // if the certainty is 0 it's probably a line\n    prediction.pattern = \"line\";\n    prediction.score = 0.9;\n  } else {\n    if (shapePrediction.score > 0.5) {\n      prediction.pattern = shapePrediction.pattern;\n    } else {\n      prediction.pattern = \"other\";\n    }\n    prediction.score = shapePrediction.score;\n  }\n\n  if (path.closed === true) {\n    var closedShapes = ['triangle', 'square', 'circle'];\n    if (closedShapes.includes(prediction.pattern) === false) {\n      // closed shape should be one of the above, make a random pick\n      prediction.pattern = util.randomPick(closedShapes);\n    } else if (prediction.score < 0.65 && prediction.pattern !== 'circle') {\n      // for some reason triangles and squares are often confused. if the confidence is low enough, they're probably swapped\n      if (prediction.pattern === 'square') {\n        prediction.pattern = 'triangle';\n      } else if (prediction.pattern === 'triangle') {\n        prediction.pattern = 'square';\n      }\n    }\n  } else if (path.intersects(path) === true) {\n    prediction.pattern = 'other';\n    // const intersectingShapes = ['triangle', 'square', 'circle', 'other'];\n    // if (intersectingShapes.includes(prediction.pattern) === false) {\n    //   prediction.pattern = util.randomPick(intersectingShapes);\n    // }\n  } else {\n    prediction.pattern = 'line'; // lines are the only shape that is not closed and does not intersect\n  }\n\n  // console.log('shape prediction', prediction);\n\n  return prediction;\n}\n\n// floors the coordinates of a point\nfunction getIntegerPoint(point) {\n  return new Point(Math.floor(point.x), Math.floor(point.y));\n}\n\nfunction stringifyPoint(point) {\n  return Math.floor(point.x) + ',' + Math.floor(point.y);\n}\n\nfunction parsePoint(pointStr) {\n  var split = pointStr.split(',').map(function (num) {\n    return Math.floor(num);\n  });\n\n  if (split.length >= 2) {\n    return new Point(split[0], split[1]);\n  }\n\n  return null;\n}\n\nfunction getClosestPointFromPathData(point, pathData) {\n  var leastDistance = void 0,\n      closestPoint = void 0;\n\n  Base.each(pathData, function (datum, i) {\n    var distance = point.getDistance(datum.point);\n    if (!leastDistance || distance < leastDistance) {\n      leastDistance = distance;\n      closestPoint = datum.point;\n    }\n  });\n\n  return closestPoint || point;\n}\n\nfunction processShapeData(json) {\n  var returnShape = [];\n  var jsonObj = JSON.parse(json)[1]; // zero index is stringified type (e.g. \"Path\")\n\n  if ('segments' in jsonObj) {\n    var segments = jsonObj.segments;\n    Base.each(segments, function (segment, i) {\n      if (segment.length === 3) {\n        var positionInfo = segment[0]; // indexes 1 and 2 are superfluous matrix details\n        returnShape.push({\n          x: positionInfo[0],\n          y: positionInfo[1]\n        });\n      } else {\n        returnShape.push({\n          x: segment[0],\n          y: segment[1]\n        });\n      };\n    });\n  }\n  return returnShape;\n}\n\nfunction findInteriorCurves(path) {\n  var transparent = color.transparent;\n\n  var interiorCurves = [];\n\n  var pathClone = path.clone();\n  var intersections = pathClone.getIntersections();\n  // console.log('intersections', intersections);\n\n  if (intersections.length > 0) {\n    var dividedPath = pathClone.resolveCrossings();\n    // console.log('dividedPath', dividedPath);\n\n    if (dividedPath.className === 'CompoundPath') {\n      dividedPath.children.forEach(function (child) {\n        // console.log('child', child);\n        if (child.length > 0 && child.closed) {\n          var enclosedLoop = child;\n          if (pathClone.closed) {\n            enclosedLoop.fillColor = pathClone.strokeColor;\n            enclosedLoop.data.transparent = false;\n          } else {\n            enclosedLoop.fillColor = transparent;\n            enclosedLoop.data.transparent = true;\n          }\n          enclosedLoop.data.interior = true;\n          enclosedLoop.visible = true;\n          enclosedLoop.closed = true;\n          enclosedLoop.strokeColor = transparent;\n          interiorCurves.push(enclosedLoop);\n        }\n\n        // child.remove();\n      });\n    } else {\n      if (pathClone.closed) {\n        var enclosedLoop = pathClone.clone();\n        enclosedLoop.visible = true;\n        enclosedLoop.fillColor = pathClone.strokeColor;\n        enclosedLoop.strokeColor = transparent;\n        enclosedLoop.data.interior = true;\n        enclosedLoop.data.transparent = false;\n        interiorCurves.push(enclosedLoop);\n      }\n    }\n  } else {\n    if (pathClone.closed) {\n      var _enclosedLoop = pathClone.clone();\n      _enclosedLoop.visible = true;\n      _enclosedLoop.fillColor = pathClone.strokeColor;\n      _enclosedLoop.strokeColor = transparent;\n      _enclosedLoop.data.interior = true;\n      _enclosedLoop.data.transparent = false;\n      interiorCurves.push(_enclosedLoop);\n    }\n  }\n\n  return interiorCurves;\n}\n\nfunction getExtendedPath(path) {\n  var bruteForce = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var extendedPath = path.clone();\n  extendedPath.visible = false;\n\n  var thresholdDist = thresholdDistMultiplier * extendedPath.length;\n\n  var firstSegment = extendedPath.firstSegment;\n  var nextSegment = firstSegment.next;\n  var startAngle = Math.atan2(nextSegment.point.y - firstSegment.point.y, nextSegment.point.x - firstSegment.point.x); // rad\n  var inverseStartAngle = startAngle + Math.PI;\n  var extendedStartPoint = new Point(firstSegment.point.x + Math.cos(inverseStartAngle) * thresholdDist / 2, firstSegment.point.y + Math.sin(inverseStartAngle) * thresholdDist / 2);\n  extendedPath.insert(0, extendedStartPoint);\n\n  var lastSegment = extendedPath.lastSegment;\n  var penSegment = lastSegment.previous; // penultimate\n  var endAngle = Math.atan2(lastSegment.point.y - penSegment.point.y, lastSegment.point.x - penSegment.point.x); // rad\n  var extendedEndPoint = new Point(lastSegment.point.x + Math.cos(endAngle) * thresholdDist / 2, lastSegment.point.y + Math.sin(endAngle) * thresholdDist / 2);\n  extendedPath.add(extendedEndPoint);\n\n  // extendedPath.visible = true;\n\n  return extendedPath;\n}\n\nfunction getBruteExtendedPath(path) {\n  var extendedPath = path.clone();\n  extendedPath.visible = false;\n\n  var thresholdDist = thresholdDistMultiplier * extendedPath.length;\n  var firstPoint = extendedPath.firstSegment.point;\n  var lastPoint = extendedPath.lastSegment.point;\n\n  if (firstPoint.getDistance(lastPoint) < thresholdDist) {\n    extendedPath.insert(0, lastPoint);\n    extendedPath.add(firstPoint);\n    extendedPath.closed = true;\n    extendedPath.unite();\n    var crossings = extendedPath.resolveCrossings();\n    if (!!crossings && !!crossings.children && crossings.children.length > 0) {\n      var maxArea = 0,\n          maxChild = null;\n      crossings.children.forEach(function (child) {\n        if (child.area > maxArea) {\n          maxChild = child;\n          maxArea = child.area;\n        }\n      });\n\n      extendedPath = maxChild;\n    }\n  }\n\n  return extendedPath;\n}\n\nfunction getTrimmedPath(path) {\n  var pathClone = path.clone();\n  pathClone.visible = false;\n\n  var firstPoint = pathClone.firstSegment.point;\n  var lastPoint = pathClone.lastSegment.point;\n  var thresholdDist = thresholdDistMultiplier * pathClone.length;\n\n  var intersections = pathClone.getIntersections();\n  intersections.forEach(function (intersection, i) {\n    if (intersection.offset === 0) {\n      intersections.splice(i, 1);\n    }\n  });\n\n  // console.log('intersections', intersections);\n\n  if (intersections.length == 1) {\n    for (var i = 0; i < intersections.length; i++) {\n      var intersectionPoint = intersections[i].point;\n\n      // if the average of the distance between the first and last points and the intersection point is within the threshold, trim\n      if (firstPoint.getDistance(intersectionPoint) + lastPoint.getDistance(intersectionPoint) < 2 * thresholdDist) {\n        // console.log('trimming path');\n        var dividedPath = pathClone.clone(); // resolve crossings seems to modify the path it was passed, so make an extra clone to be safe\n        dividedPath.visible = false;\n        var pathCrossings = dividedPath.resolveCrossings();\n\n        if (pathCrossings.className === 'CompoundPath' && pathCrossings.children.length > 0) {\n          for (var j = 0; j < pathCrossings.children.length; j++) {\n            var child = pathCrossings.children[j];\n            if (child.closed) {\n              // child.selected = true;\n              dividedPath = dividedPath.subtract(child);\n            }\n          }\n        }\n\n        // dividedPath.selected = true;\n\n        var trimmedPath = pathClone.subtract(dividedPath);\n        if (trimmedPath.length === 0) return pathClone;\n        if (trimmedPath.className === 'CompoundPath' && trimmedPath.children.length > 0) {\n          var _ret = function () {\n            var closedChildren = [];\n            trimmedPath.children.forEach(function (child, i) {\n              if (child.length > 0 && child.closed) {\n                var childClone = child.clone();\n                childClone.visible = false;\n                closedChildren.push(childClone);\n              }\n            });\n\n            if (closedChildren.length > 0) {\n              if (closedChildren.length > 1) {\n                // for some reason there are more than one closed children, merge them\n                var accumulator = closedChildren[0];\n\n                for (var _j = 1; _j < closedChildren.length; _j++) {\n                  accumulator = accumulator.unite(closedChildren[_j]);\n                }\n\n                if (accumulator.length > 0 && accumulator.className === 'Path') {\n                  // console.log('trimmed accumulator', accumulator);\n                  var newPath = new Path();\n                  newPath.copyContent(accumulator);\n                  newPath.copyAttributes(pathClone);\n                  accumulator.remove();\n                  pathClone.remove();\n                  dividedPath.remove();\n                  trimmedPath.remove();\n                  return {\n                    v: newPath\n                  };\n                }\n              }\n\n              pathClone.remove();\n              dividedPath.remove();\n              trimmedPath.remove();\n              // console.log('trimmed closedChildren[0]', closedChildren[0]);\n              return {\n                v: closedChildren[0]\n              };\n            }\n          }();\n\n          if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n        }\n\n        // console.log('trimmed path return', trimmedPath);\n        // console.log('path clone', pathClone);\n        // console.log('dividedPath', dividedPath);\n        pathClone.remove();\n        dividedPath.remove();\n        return trimmedPath;\n      }\n    }\n\n    // no close intersection were found so nothing can be trimmed\n    return pathClone;\n  } else {\n    return path;\n  }\n}\n\nfunction hitTestGroupBounds(point) {\n  var groups = util.getVisibleGroups();\n  return hitTestBounds(point, groups);\n}\n\nfunction hitTestBounds(point, children) {\n  if (!point) return null;\n\n  for (var i = children.length - 1; i >= 0; i--) {\n    var child = children[i];\n    var bounds = child.strokeBounds;\n    if (point.isInside(child.strokeBounds)) {\n      return child;\n    }\n  }\n\n  return null;\n}\n\nfunction init() {\n  initKeepaliveShape();\n}\n\n},{\"./color\":154,\"./config\":155,\"./lib/shape-detector\":156,\"./util\":167}],160:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nexports.asyncRecord = asyncRecord;\nexports.asyncAddCompositionToDb = asyncAddCompositionToDb;\nexports.handleSharePressed = handleSharePressed;\nvar config = require('./config');\n\nvar Promise = require('bluebird');\nvar axios = require('axios');\nvar qs = require('qs');\n\nvar ui = require('./ui');\nvar timing = require('./timing');\nvar overlays = require('./overlays');\nvar sound = require('./sound');\nvar video = require('./video');\nvar util = require('./util');\n\nvar socket = require('./socket').socket;\n\nvar drawCanvas = document.getElementById(config.canvasId);\n\nfunction asyncStopAudioRecordingAndExportBlob(recorder) {\n  return new Promise(function (resolve, reject) {\n    try {\n      recorder.stop();\n      recorder.exportWAV(function (blob) {\n        resolve(blob);\n      });\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n\nfunction asyncStopVideoRecordingAndExportBlob(recorder) {\n  return new Promise(function (resolve, reject) {\n    try {\n      recorder.stopRecording(function () {\n        var blob = recorder.getBlob();\n        resolve(blob);\n      });\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n\nfunction asyncRecord() {\n  return new Promise(function (resolve, reject) {\n    try {\n      var audioRecorder = new Recorder(Howler.masterGain, {\n        workerPath: '/js/lib/recorderWorker.js'\n      });\n      var canvasRecorder = RecordRTC(drawCanvas, {\n        type: 'canvas'\n      });\n\n      Howler.mute(false);\n      canvasRecorder.startRecording();\n      audioRecorder.record();\n\n      sound.asyncPlayCompositionOnce().then(function () {\n        return Promise.all([asyncStopAudioRecordingAndExportBlob(audioRecorder), asyncStopVideoRecordingAndExportBlob(canvasRecorder)]).then(function (values) {\n          var _values = _slicedToArray(values, 2),\n              audioBlob = _values[0],\n              videoBlob = _values[1];\n          // console.log('audioBlob', audioBlob);\n          // console.log('videoBlob', videoBlob);\n\n          // console.log('sending files');\n\n          var formData = new FormData();\n          formData.append('audio', audioBlob);\n          formData.append('video', videoBlob);\n          formData.append('uuid', window.kan.uuid);\n\n          axios.post('/process', formData).then(function (resp) {\n            var s3Id = resp.data;\n            // fire share modal\n            resolve(s3Id);\n            // window.location.href = `/process?id=${videoId}`;\n          }).catch(function (e) {\n            // there was an error uploading!\n            console.error(e);\n            reject(e);\n          });\n        }).catch(function (e) {\n          console.error(e);\n          reject(e);\n        });\n      }).error(function (e) {\n        return Promise.all([asyncStopAudioRecordingAndExportBlob(audioRecorder), asyncStopVideoRecordingAndExportBlob(canvasRecorder)]).then(function (values) {\n          // console.log(values)\n        }).catch(function (e) {\n          // console.error(e);\n        }).finally(function () {\n          reject(e);\n        });\n      });\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n\nfunction asyncAddCompositionToDb(data) {\n  return new Promise(function (resolve, reject) {\n    try {\n      var s3Id = data.s3Id;\n      var phone = data.phone;\n      var queryString = qs.stringify({\n        s3Id: s3Id,\n        phone: phone,\n        postKey: config.postKey,\n        location: 'gallery'\n      });\n\n      return axios.post('/composition/new?' + queryString).then(function () {\n        resolve('composition successfully posted');\n      }).catch(function (e) {\n        reject(e);\n      });\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n\nfunction asyncAddDesktopCompositionToDb(s3Id) {\n  return new Promise(function (resolve, reject) {\n    try {\n      var queryString = qs.stringify({\n        s3Id: s3Id,\n        postKey: config.postKey,\n        location: 'desktop'\n      });\n\n      return axios.post('/composition/new?' + queryString).then(function () {\n        resolve('composition successfully posted');\n      }).catch(function (e) {\n        reject(e);\n      });\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n\nfunction asyncWaitForDesktopCompositionToFinishProcessing() {\n  return new Promise(function (resolve, reject) {\n    try {\n      socket.on(\"new_msg\", function (data) {\n        console.log('data!', data);\n        resolve(data.msg);\n      });\n\n      setTimeout(function () {\n        reject();\n      }, 5 * 60 * 1000); // reject after 5 minutes\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n\nfunction handleSharePressed() {\n  clearTimeout(window.kan.sharePromptTimeout);\n  clearTimeout(window.kan.playPromptTimeout);\n\n  if (util.anyShapesOnCanvas() !== true) {\n    // console.log('nope');\n    return;\n  }\n\n  ga('send', 'event', 'share', 'modalFired');\n\n  if (window.kan.location === 'gallery') {\n    handleGallerySharePressed();\n  } else {\n    handleDesktopSharePressed();\n  }\n}\n\nfunction handleGallerySharePressed() {\n  overlays.openOverlay('share-prepare');\n  // clearInterval(window.kan.inactivityTimeout);\n  ui.enterShareMode();\n  overlays.asyncCloseOverlaysAfterDuration(1000 * 1).then(function () {\n    return asyncRecord();\n  }).then(function (s3Id) {\n    // console.log('recording done');\n    ui.exitShareMode();\n    overlays.openOverlay('share');\n    return overlays.asyncWaitForWellFormedPhoneNumber(s3Id);\n  }).then(function (resp) {\n    // console.log('received well formed phone number');\n    return asyncAddCompositionToDb(resp);\n  }).then(function () {\n    // close overlay\n    overlays.openOverlay('share-confirmation');\n    ga('send', 'event', 'share', 'mobileLinkSent');\n    setTimeout(function () {\n      video.enterTutorialMode();\n    }, 1000 * 4);\n    // console.log('close overlay, done!');\n  }).catch(function (e) {\n    ui.exitShareMode(); // make sure\n    if (e === 'timeout') {\n      console.log('error in share mode, going into tutorial');\n      video.enterTutorialMode();\n    } else {\n      // continue, share modal did not time out, reject silently\n      console.log('error in share mode,', e);\n    }\n  });\n}\n\nfunction handleDesktopSharePressed() {\n  ui.showDesktopSharePrepNotice();\n  ui.enterShareMode();\n  timing.clearTimeouts();\n  var s3Id = null;\n  asyncRecord().then(function (id) {\n    s3Id = id;\n    return asyncAddDesktopCompositionToDb(s3Id);\n    // console.log('recording done');\n  }).then(function () {\n    return asyncWaitForDesktopCompositionToFinishProcessing();\n  }).then(function () {\n    // redirect to composition\n    ga('send', 'event', 'share', 'desktopCompositionRedirect');\n    window.location.href = 'https://www.color-composer.net/composition/' + s3Id;\n  }).catch(function (e) {\n    ui.exitShareMode(); // make sure\n    if (e === 'timeout') {\n      console.log('error in share mode, going into tutorial');\n      video.enterTutorialMode();\n    } else {\n      // continue, share modal did not time out, reject silently\n      console.log('error in share mode,', e);\n    }\n  });\n}\n\n},{\"./config\":155,\"./overlays\":158,\"./socket\":161,\"./sound\":162,\"./timing\":163,\"./ui\":166,\"./util\":167,\"./video\":168,\"axios\":3,\"bluebird\":31,\"qs\":64}],161:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.init = init;\nvar io = require('socket.io-client');\nvar socket = exports.socket = io();\n\nfunction init() {\n  socket.emit('join', { uuid: window.kan.uuid });\n}\n\n},{\"socket.io-client\":68}],162:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.init = init;\nexports.reinitShapeSounds = reinitShapeSounds;\nexports.getShapeSoundObj = getShapeSoundObj;\nexports.startPlaying = startPlaying;\nexports.stopPlaying = stopPlaying;\nexports.asyncInitShapeSounds = asyncInitShapeSounds;\nexports.formatShapeSoundData = formatShapeSoundData;\nexports.quantizeLength = quantizeLength;\nexports.quantizePosition = quantizePosition;\nexports.asyncPlayShape = asyncPlayShape;\nexports.asyncPlayShapeSound = asyncPlayShapeSound;\nexports.removeShapeFromComposition = removeShapeFromComposition;\nexports.clearSoundTimeouts = clearSoundTimeouts;\nexports.startComposition = startComposition;\nexports.asyncPlayCompositionMultipleTimes = asyncPlayCompositionMultipleTimes;\nexports.asyncPlayCompositionOnce = asyncPlayCompositionOnce;\nexports.stopComposition = stopComposition;\nexports.getTrimmedCompositionObj = getTrimmedCompositionObj;\nrequire('howler');\nvar Promise = require(\"bluebird\");\n\nvar ui = require('./ui');\nvar shape = require('./shape');\nvar color = require('./color');\nvar overlays = require('./overlays');\nvar tutorial = require('./tutorial');\nvar animation = require('./animation');\nvar util = require('./util');\n\nvar $body = $('body');\n\nvar measures = 4;\nvar bpm = 120;\nvar beatLength = 60 / bpm * 1000; // ms\nvar measureLength = exports.measureLength = beatLength * 4;\nvar compositionLength = exports.compositionLength = measureLength * measures;\n\nvar playingClass = exports.playingClass = 'playing';\nvar playEnabledClass = exports.playEnabledClass = 'play-enabled';\n\nfunction init() {\n  Howler.autoSuspend = false; // don't dump sounds from cache after inactivity (causes some issues in kiosk mode)\n  return asyncInitShapeSounds();\n}\n\nfunction reinitShapeSounds() {\n  return asyncInitShapeSounds();\n}\n\nfunction getShapeSoundObj(path) {\n  var viewWidth = paper.view.viewSize.width;\n  var viewHeight = paper.view.viewSize.height;\n  var shapeSounds = window.kan.shapeSounds || initShapeSounds();\n  // alert(JSON.stringify(window.kan.shapeSounds));\n  // console.log(JSON.stringify(window.kan.shapeSounds));\n\n  var shapePrediction = shape.getShapePrediction(path);\n  var colorName = color.getPathColorName(path);\n  if (colorName === null) colorName = 'black'; // just in case\n\n  var quantizedSoundStartTime = quantizeLength(path.bounds.x / viewWidth * compositionLength); // ms\n  var quantizedSoundDuration = quantizeLength(path.bounds.width / viewWidth * compositionLength); // ms\n\n  var soundObj = {};\n  soundObj.sound = shapeSounds[shapePrediction.pattern];\n  soundObj.startTime = quantizedSoundStartTime;\n  soundObj.duration = quantizedSoundDuration;\n  soundObj.pathId = path.id;\n  soundObj.spriteName = colorName;\n  soundObj.groupId = path.parent.id;\n  soundObj.play = function () {\n    return new Promise(function (resolve, reject) {\n      soundObj.sound.play(soundObj.spriteName);\n      soundObj.sound.on('end', function () {\n        resolve('Group ' + soundObj.groupId + ' done playing sound');\n      });\n      soundObj.sound.on('loaderror', function () {\n        reject('Group ' + soundObj.groupId + ' failed to load sound');\n      });\n    });\n  };\n\n  return soundObj;\n}\n\nfunction startPlaying() {\n  // console.log('first time', window.kan.firstTimePlaying);\n  if ($body.hasClass(playEnabledClass)) {\n    $body.addClass(playingClass);\n\n    Howler.mute(false);\n\n    window.kan.playing = true;\n\n    if (window.kan.firstTimePlaying === true) {\n      window.kan.firstTimePlaying = false;\n      startComposition(window.kan.composition, false);\n    } else {\n      startComposition(window.kan.composition, true);\n    }\n  } else {\n    window.kan.playing = false;\n    $body.removeClass(playingClass);\n  }\n}\n\nfunction stopPlaying() {\n  var mute = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  if (!!mute) {\n    Howler.mute(true);\n  }\n\n  window.kan.playing = false;\n  $body.removeClass(playingClass);\n\n  stopComposition();\n}\n\nfunction asyncGetShapeSoundFromShapeName(shapeName) {\n  var shapeSoundJSONPath = './audio/shapes/' + shapeName + '/' + shapeName + '.json';\n  return $.getJSON(shapeSoundJSONPath).then(function (resp) {\n    var shapeSoundData = formatShapeSoundData(shapeName, resp);\n    var sound = new Howl(shapeSoundData);\n    return {\n      shapeName: shapeName,\n      sound: sound\n    };\n  });\n}\n\nfunction asyncInitShapeSounds() {\n  var returnSounds = {};\n  var extensions = ['ogg', 'm4a', 'mp3', 'ac3'];\n\n  var shapeNames = shape.shapeNames;\n  var promises = [];\n  Base.each(shapeNames, function (shapeName) {\n    promises.push(asyncGetShapeSoundFromShapeName(shapeName));\n  });\n\n  return $.when.apply($, promises).done(function () {\n    var returnSounds = {};\n    for (var i = 0; i < arguments.length; i++) {\n      var arg = arguments[i];\n      returnSounds[arg.shapeName] = arg.sound;\n    }\n\n    window.kan.shapeSounds = returnSounds;\n    return returnSounds;\n  });\n}\n\nfunction formatShapeSoundData(shapeName, data) {\n  var returnData = {};\n\n  returnData.src = data.urls.map(function (url) {\n    return './audio/shapes/' + shapeName + '/' + url;\n  });\n  returnData.sprite = data.sprite;\n  returnData.html5 = false;\n  returnData.loop = false;\n\n  return returnData;\n}\n\nfunction quantizeLength(duration) {\n  var smallestDuration = 60 / bpm;\n  var returnDuration = Math.floor(duration / smallestDuration) * smallestDuration;\n\n  if (returnDuration > 0) {\n    return returnDuration;\n  } else {\n    // always return something greater than zero\n    return smallestDuration;\n  }\n}\n\nfunction quantizePosition(position, viewWidth) {\n  var smallestInterval = viewWidth / (4 * measures);\n  return returnPosition = Math.floor(position / smallestInterval) * smallestInterval;\n}\n\nfunction asyncPlayShape(shapeSoundObj) {\n  return new Promise(function (resolve, reject) {\n    Promise.all([asyncPlayShapeSound(shapeSoundObj), animation.asyncPlayShapeAnimation(shapeSoundObj.groupId)]).then(function () {\n      resolve('Group ' + shapeSoundObj.groupId + ' fully done playing');\n    }).error(function (e) {\n      reject('Group ' + shapeSoundObj.groupId + ' errored while playing: ' + e);\n    });\n  });\n}\n\nfunction asyncPlayShapeSound(shapeSoundObj) {\n  return new Promise(function (resolve, reject) {\n    try {\n      // console.log('playing: ', shapeSoundObj.sound, shapeSoundObj.spriteName, shapeSoundObj.startTime);\n      shapeSoundObj.play().then(function (res) {\n        resolve(res);\n      }).catch(function (e) {\n        reject(e);\n      });\n    } catch (e) {\n      reject('Error playing shapeSoundObj sound: ' + e);\n    }\n  });\n}\n\nfunction removeShapeFromComposition(shapeGroup) {\n  var _loop = function _loop(i) {\n    var sound = window.kan.composition[i];\n\n    if ('groupId' in sound) {\n      if (sound.groupId === shapeGroup.id) {\n        window.kan.composition.splice(i, 1);\n        return {\n          v: void 0\n        };\n      }\n    } else if ('pathId' in sound) {\n      var item = getItems({\n        match: function match(el) {\n          return el.id === sound.pathId;\n        }\n      });\n      if (item.length > 0) {\n        if (!!item.parent && item.parent.className === 'Group' && item.parent.id === shapeGroup.id) {\n          window.kan.composition.splice(i, 1);\n          return {\n            v: void 0\n          };\n        }\n      }\n    }\n  };\n\n  for (var i = 0; i < window.kan.composition.length; i++) {\n    var _ret = _loop(i);\n\n    if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n  }\n}\n\nfunction clearSoundTimeouts() {\n  if (window.kan.soundTimeouts.length > 0) {\n    window.kan.soundTimeouts.forEach(function (soundTimeout) {\n      clearTimeout(soundTimeout);\n    });\n  }\n\n  window.kan.soundTimeouts = [];\n}\n\nfunction startComposition(composition) {\n  var loop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  stopComposition();\n  tutorial.hideContextualTuts();\n\n  clearTimeout(window.kan.playPromptTimeout);\n\n  var iterations = 0;\n  playCompositionFirstTime();\n\n  function playCompositionFirstTime() {\n    clearSoundTimeouts();\n    // console.log('playing composition first time');\n    var trimmedCompositionObj = getTrimmedCompositionObj(composition);\n\n    Base.each(trimmedCompositionObj.composition, function (shapeSoundObj, i) {\n      var soundTimeout = setTimeout(function () {\n        if (!window.kan.playing) {\n          // console.log('not playing, returning');\n          return;\n        }\n\n        if (shapeSoundObj.spriteName === null) {\n          // console.log('%cshapeSoundObj is null', 'color:red', shapeSoundObj);\n          return;\n        }\n\n        asyncPlayShape(shapeSoundObj).then(function (res) {\n          // console.log(res);\n        }).error(function (e) {\n          // console.log('Error playing shapeSoundObj', e);\n        });\n      }, shapeSoundObj.startTime);\n      window.kan.soundTimeouts.push(soundTimeout);\n    });\n\n    iterations++;\n    window.kan.compositionTimeout = setTimeout(repeatComposition, compositionLength - trimmedCompositionObj.startTime);\n  }\n\n  function playCompositionOnce() {\n    clearSoundTimeouts();\n    // console.log('repeat');\n    Base.each(composition, function (shapeSoundObj, i) {\n      var soundTimeout = setTimeout(function () {\n        if (!window.kan.playing) {\n          // console.log('not playing, returing');\n          return;\n        }\n\n        // console.log('playing: ', shapeSoundObj.sound, shapeSoundObj.spriteName, shapeSoundObj.startTime);\n        asyncPlayShape(shapeSoundObj).then(function (res) {\n          // console.log(res);\n        }).error(function (e) {\n          // console.log('Error playing shapeSoundObj', e);\n        });\n      }, shapeSoundObj.startTime);\n      window.kan.soundTimeouts.push(soundTimeout);\n    });\n    iterations++;\n  }\n\n  function repeatComposition() {\n    if (loop === true) {\n      playCompositionOnce();\n      window.kan.compositionInterval = setInterval(playCompositionOnce, compositionLength);\n    } else {\n      if (iterations < 2) {\n        playCompositionOnce();\n        setTimeout(repeatComposition, compositionLength);\n      } else {\n        stopPlaying();\n        overlays.openOverlay('share-prompt');\n      }\n    }\n  }\n}\n\nfunction asyncPlayCompositionMultipleTimes() {\n  var repeats = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n\n  return new Promise(function (resolve, reject) {\n    var promisedRepeats = [];\n\n    for (var i = 0; i < repeats; i++) {\n      promisedRepeats.push(asyncPlayCompositionOnce());\n    }\n\n    Promise.each(promisedRepeats, function () {\n      // console.log('repeat');\n    }).then(function () {\n      resolve('Repeats done');\n    }).error(function (e) {\n      reject(e);\n    });\n  });\n}\n\nfunction asyncPlayCompositionOnce() {\n  return new Promise(function (resolve, reject) {\n    var composition = window.kan.composition;\n    var startTime = new Date().getTime();\n    clearSoundTimeouts();\n\n    var shapePromises = [];\n\n    shape.startKeepaliveAnimation();\n\n    Base.each(composition, function (shape, i) {\n      shapePromises.push(asyncPlayShapeWithDelay(shape));\n    });\n\n    Promise.all(shapePromises).then(function (res) {\n      var endTime = new Date().getTime();\n      var playTime = endTime - startTime;\n\n      // wait for composition to be fully done before repeating (play is naturally truncated when the last shape finishes playing)\n      if (playTime < compositionLength) {\n        return Promise.delay(compositionLength - playTime).then(function () {\n          shape.stopKeepaliveAnimation();\n          resolve('Composition fully done, after a wait');\n        });\n      } else {\n        shape.stopKeepaliveAnimation();\n        resolve('Composition fully done, with no wait');\n      }\n    }).error(function (e) {\n      shape.stopKeepaliveAnimation();\n      reject(e);\n    });\n  });\n}\n\nfunction asyncPlayShapeWithDelay(shape) {\n  return new Promise(function (resolve, reject) {\n    var soundTimeout = setTimeout(function () {\n      // console.log('playing: ', shape.sound, shape.spriteName, shape.startTime);\n      asyncPlayShape(shape).then(function (res) {\n        resolve(res);\n      }).error(function (e) {\n        reject('Error playing shape with delay: ' + e);\n      });\n    }, shape.startTime);\n    window.kan.soundTimeouts.push(soundTimeout);\n  });\n}\n\nfunction stopComposition() {\n  clearInterval(window.kan.compositionInterval);\n  clearTimeout(window.kan.compositionTimeout);\n  clearSoundTimeouts();\n}\n\nfunction getTrimmedCompositionObj(composition) {\n  var firstTime = 0;\n  var trimmedComposition = [];\n  var startTime = getCompositionStartTime(composition);\n\n  composition.forEach(function (sound) {\n    var modifiedSound = util.shallowCopy(sound);\n    modifiedSound.startTime = sound.startTime - startTime;\n    if (modifiedSound.startTime < 0) modifiedSound.startTime = 0; // this shouldn't happen\n    trimmedComposition.push(modifiedSound);\n  });\n\n  return {\n    composition: trimmedComposition,\n    startTime: startTime\n  };\n}\n\nfunction getCompositionStartTime(composition) {\n  var startTime = compositionLength;\n\n  composition.forEach(function (sound) {\n    // console.log(sound);\n    // console.log(sound.startTime)\n    if ('startTime' in sound && sound.startTime < startTime) {\n      startTime = sound.startTime;\n    }\n  });\n\n  // console.log('start time', startTime);\n\n  if (startTime !== compositionLength) {\n    return startTime;\n  } else {\n    return 0;\n  }\n}\n\n},{\"./animation\":153,\"./color\":154,\"./overlays\":158,\"./shape\":159,\"./tutorial\":165,\"./ui\":166,\"./util\":167,\"bluebird\":31,\"howler\":54}],163:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.init = init;\nexports.preventInactivityTimeout = preventInactivityTimeout;\nexports.clearTimeouts = clearTimeouts;\nvar overlays = require('./overlays');\nvar video = require('./video');\nvar util = require('./util');\n\nvar $body = $('body');\n\nvar drawInactivityDelay = exports.drawInactivityDelay = 40 * 1000; // ms\nvar continueInactivityDelay = exports.continueInactivityDelay = 30 * 1000; // ms\nvar playPromptDelay = exports.playPromptDelay = 60 * 1000; // ms;\nvar inputDelay = exports.inputDelay = 100; // ms\nvar refreshCheckDelay = exports.refreshCheckDelay = 60 * 1000; // ms\nvar overlayDelay = exports.overlayDelay = 1000; // ms\nvar browserWidthCheckDelay = exports.browserWidthCheckDelay = 250; // ms\n\nfunction init() {\n  if (window.location.hash.length > 0 && window.location.hash == '#dev') {\n    window.kan.overlays = false;\n    video.pauseVideo();\n    video.exitTutorialMode();\n  } else {\n    var location = void 0;\n    if (window.location.hash.length > 0 && window.location.hash == '#gallery') {\n      location = 'gallery';\n    } else {\n      location = 'home';\n    }\n    ga('set', 'dimension1', location);\n    video.enterTutorialMode();\n  }\n}\n\nfunction preventInactivityTimeout() {\n  if (window.kan.stopTimeouts !== true && window.kan.location !== 'desktop') {\n    console.log('prevent timeout: ' + util.getTime());\n\n    clearTimeout(window.kan.inactivityTimeout);\n    clearInterval(window.kan.continueCountdownInterval);\n\n    window.kan.inactivityTimeout = setTimeout(function () {\n      overlays.openOverlay('continue');\n    }, drawInactivityDelay);\n  }\n}\n\nfunction clearTimeouts() {\n  console.log('clearing timeouts');\n  window.kan.stopTimeouts = true;\n  clearTimeout(window.kan.inactivityTimeout);\n  clearTimeout(window.kan.sharePromptTimeout);\n  clearInterval(window.kan.continueCountdownInterval);\n  clearTimeout(window.kan.playPromptTimeout);\n}\n\n},{\"./overlays\":158,\"./util\":167,\"./video\":168}],164:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.init = init;\nexports.enableAllEvents = enableAllEvents;\nexports.disableAllEvents = disableAllEvents;\nrequire('hammerjs');\n\nvar config = require('./config');\nvar sound = require('./sound');\nvar color = require('./color');\nvar shape = require('./shape');\nvar util = require('./util');\nvar tutorial = require('./tutorial');\nvar timing = require('./timing');\nvar overlays = require('./overlays');\nvar ui = require('./ui');\nvar animation = require('./animation');\n\nvar $body = $('body');\n\nvar hitOptions = {\n  segments: false,\n  stroke: true,\n  fill: true,\n  tolerance: 5\n};\n\nvar minShapeSize = 100;\nvar maxShapeLength = 5000;\nvar maxScaleFactor = 0.8;\n\nvar outerPath = void 0;\nvar sizes = [];\nvar size = void 0;\nvar cumSize = void 0;\nvar prevPoint = void 0;\n\nvar hammerTips = exports.hammerTips = void 0;\nvar hammerCanvas = exports.hammerCanvas = void 0;\n\nfunction init() {\n  exports.hammerTips = hammerTips = new Hammer.Manager(ui.tipsOverlay);\n  hammerTips.add(new Hammer.Swipe({ direction: Hammer.DIRECTION_ALL }));\n  hammerTips.on('swipe', overlays.cardNavNext);\n\n  exports.hammerCanvas = hammerCanvas = new Hammer.Manager(ui.drawCanvas);\n  hammerCanvas.add(new Hammer.Tap({ event: 'doubletap', taps: 2, interval: 400, time: 150, posThreshold: 50 }));\n  hammerCanvas.add(new Hammer.Tap({ event: 'singletap' }));\n  hammerCanvas.add(new Hammer.Pan({ direction: Hammer.DIRECTION_ALL }));\n  hammerCanvas.add(new Hammer.Pinch());\n\n  hammerCanvas.get('doubletap').recognizeWith('singletap');\n  // hammerCanvas.get('singletap').requireFailure('doubletap');\n  hammerCanvas.get('pan').requireFailure('pinch');\n  hammerCanvas.get('pinch').requireFailure('pan');\n\n  // hammerCanvas.on('singletap', singleTap);\n  hammerCanvas.on('doubletap', doubleTap);\n\n  hammerCanvas.on('panstart', panStart);\n  hammerCanvas.on('panmove', panMove);\n  hammerCanvas.on('panend', panEnd);\n  // hammerCanvas.on('pancancel', panCancel);\n\n  hammerCanvas.on('pinchstart', pinchStart);\n  hammerCanvas.on('pinchmove', pinchMove);\n  hammerCanvas.on('pinchend', pinchEnd);\n  // hammerCanvas.on('pinchcancel', pinchCancel);\n}\n\nfunction enableAllEvents() {\n  var enable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  enableTapEvents(enable);\n  enablePanAndPinchEvents(enable);\n}\n\nfunction disableAllEvents() {\n  enableAllEvents(false);\n}\n\nfunction enablePanAndPinchEvents() {\n  var enable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  enable = enable === true;\n  enablePanEvents(enable);\n  enablePinchEvents(enable);\n}\n\nfunction enableTapEvents() {\n  var enable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  enable = enable === true;\n  hammerCanvas.get('singletap').set({ enable: enable });\n  hammerCanvas.get('doubletap').set({ enable: enable });\n}\n\nfunction disableTapEvents() {\n  enableTapEvents(false);\n}\n\nfunction enablePanEvents() {\n  var enable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  enable = enable === true;\n\n  hammerCanvas.get('pan').set({ enable: enable });\n  // hammerCanvas.get('panstart').set({enable: enable});\n  // hammerCanvas.get('panmove').set({enable: enable});\n  // hammerCanvas.get('panend').set({enable: enable});\n}\n\nfunction disablePanEvents() {\n  enablePanEvents(false);\n}\n\nfunction enablePinchEvents() {\n  var enable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  enable = enable === true;\n\n  hammerCanvas.get('pinch').set({ enable: enable });\n  // hammerCanvas.get('pinchstart').set({enable: enable});\n  // hammerCanvas.get('pinchmove').set({enable: enable});\n  // hammerCanvas.get('pinchend').set({enable: enable});\n}\n\nfunction disablePinchEvents() {\n  enablePinchEvents(false);\n}\n\nfunction singleTap(event) {\n  var pointer = ui.getNormalizedEventCenter(event);\n  var point = new Point(pointer.x, pointer.y);\n  var hitResult = paper.project.hitTest(point, hitOptions);\n\n  if (hitResult) {\n    var item = hitResult.item;\n    // item.selected = !item.selected;\n    // console.log(item);\n  }\n}\n\nfunction doubleTap(event) {\n  event.preventDefault();\n\n  // console.log('doubletap');\n\n  var pointer = ui.getNormalizedEventCenter(event);\n  var point = new Point(pointer.x, pointer.y);\n  var hitResult = paper.project.hitTest(point, hitOptions);\n\n  if (!eventTargetIsOnCanvas(event)) return;\n\n  sound.stopPlaying();\n\n  if (hitResult) {\n    shape.toggleFill(hitResult.item);\n    tutorial.hideContextualTutByName('fill');\n  } else {\n    window.kan.pinchedGroup = null;\n    // console.log('hit no item');\n  }\n}\n\nfunction panStart(event) {\n  // console.log(event);\n  // console.log('panstart');\n  // paper.project.activeLayer.removeChildren(); // REMOVE\n  // event.preventDefault();\n  var currentColor = color.getCurrentColor();\n  timing.preventInactivityTimeout();\n\n  if (!eventTargetIsOnCanvas(event)) {\n    window.kan.panning = false;\n    // check if tips modal is up\n    if ($body.hasClass('overlay-active tips-active')) {\n      // if so, go to next tip card\n      overlays.cardNavNext();\n    }\n    event.srcEvent.stopPropagation();\n    return;\n  }\n\n  window.kan.panning = true;\n\n  hammerCanvas.off('panstart');\n  // hammerCanvas.get('pan').set({enable: false});\n  disablePinchEvents();\n  disableTapEvents();\n\n  // ignore other touch inputs\n  // if (window.kan.pinching) return;\n  // if (!(event.changedPointers && event.changedPointers.length > 0)) return;\n  // if (event.changedPointers.length > 1) {\n  //   console.log('event.changedPointers > 1');\n  // }\n\n  sound.stopPlaying();\n\n  window.kan.prevAngle = Math.atan2(event.velocityY, event.velocityX);\n\n  var pointer = ui.getNormalizedEventCenter(event);\n  var point = new Point(pointer.x, pointer.y);\n\n  outerPath = new Path();\n  outerPath.fillColor = currentColor;\n  // outerPath.fillColor = new Color(0, 0.5);\n\n  sizes = [];\n\n  var shapePath = new Path({\n    strokeColor: currentColor,\n    name: 'shapePath',\n    strokeWidth: 5,\n    visible: false,\n    strokeCap: 'round'\n  });\n\n  shapePath.add(point);\n\n  window.kan.pathData[shape.stringifyPoint(point)] = {\n    point: point,\n    first: true\n  };\n\n  window.kan.shapePath = shapePath;\n}\n\nfunction panMove(event) {\n  // console.log('panmove');\n  // event.preventDefault();\n  if (!eventTargetIsOnCanvas(event)) {\n    event.srcEvent.stopPropagation();\n    return;\n  }\n  if (window.kan.panning !== true) return;\n\n  // don't let the user draw past the max length\n  if (window.kan.shapePath.length <= maxShapeLength) {\n    var pointer = ui.getNormalizedEventCenter(event);\n    var point = new Point(pointer.x, pointer.y);\n\n    var angle = Math.atan2(event.velocityY, event.velocityX);\n    var prevAngle = window.kan.prevAngle;\n    var angleDelta = util.angleDelta(angle, prevAngle);\n    window.kan.prevAngle = angle;\n\n    while (sizes.length > 10) {\n      sizes.shift();\n    }\n    if (sizes.length > 0) {\n      var dist = prevPoint.getDistance(point);\n\n      // These are based on acceleration\n      size = Math.random() * 10; // This is just random variance\n\n      cumSize = 0;\n      for (var j = 0; j < sizes.length; j++) {\n        cumSize += sizes[j];\n      }\n      // const avgSize = ((cumSize / sizes.length) + size) / 2;\n      var avgSize = Math.max(5, (cumSize / sizes.length + size) / 2);\n\n      var halfPointX = (point.x + prevPoint.x) / 2;\n      var halfPointY = (point.y + prevPoint.y) / 2;\n      var halfPoint = new Point(halfPointX, halfPointY);\n\n      var topX = halfPoint.x + Math.cos(angle - Math.PI / 2) * avgSize;\n      var topY = halfPoint.y + Math.sin(angle - Math.PI / 2) * avgSize;\n      var top = new Point(topX, topY);\n\n      var bottomX = halfPoint.x + Math.cos(angle + Math.PI / 2) * avgSize;\n      var bottomY = halfPoint.y + Math.sin(angle + Math.PI / 2) * avgSize;\n      var bottom = new Point(bottomX, bottomY);\n\n      outerPath.add(top);\n      outerPath.insert(0, bottom);\n      outerPath.smooth();\n    } else {\n      size = 5;\n    }\n\n    sizes.push(size);\n    prevPoint = point;\n\n    window.kan.pathData[shape.stringifyPoint(point)] = {\n      point: point,\n      speed: Math.abs(event.overallVelocity),\n      angle: angle\n    };\n\n    window.kan.shapePath.add(point);\n  } else {\n    window.kan.shapePath.data.tooLong = true;\n  }\n\n  paper.view.draw();\n}\n\nfunction panEnd(event) {\n  // console.log('panend');\n  // event.preventDefault();\n  if (!eventTargetIsOnCanvas(event)) {\n    event.srcEvent.stopPropagation();\n    return;\n  }\n  if (window.kan.panning !== true) return;\n\n  var pointer = ui.getNormalizedEventCenter(event);\n  var point = new Point(pointer.x, pointer.y);\n\n  var currentColor = color.getCurrentColor();\n  var transparent = color.transparent;\n\n  var move = { type: 'newGroup' };\n\n  var shapePath = window.kan.shapePath;\n\n  if (shapePath.length <= maxShapeLength) {\n    shapePath.add(point);\n  }\n  outerPath.visible = false;\n\n  if (shapePath.length < minShapeSize || shapePath.data && shapePath.data.tooLong === true) {\n    // console.log('path is too short');\n    shapePath.remove();\n    hammerCanvas.on('panstart', panStart);\n    enablePanAndPinchEvents();\n    enableTapEvents();\n    window.kan.panning = false;\n    return;\n  }\n\n  var visibleGroups = util.getVisibleGroups();\n  if (visibleGroups.length >= config.maxShapes) {\n    // too many shapes on canvas, remove first shape\n    // TODO: place on moves stack so that they can be restored with an undo\n    var firstGroup = visibleGroups[0];\n    shape.destroyGroupPops(firstGroup);\n    sound.removeShapeFromComposition(firstGroup);\n    move.removedGroup = firstGroup;\n    // firstGroup.remove();\n    firstGroup.visible = false;\n  }\n\n  window.kan.pathData[shape.stringifyPoint(point)] = {\n    point: point,\n    last: true\n  };\n\n  var group = new Group();\n\n  var truedShape = shape.getTruedShape(shapePath);\n\n  // group.data.color = truedShape.strokeColor;\n\n  var shapeSize = truedShape.strokeBounds;\n  var centerPoint = new Point(shapeSize.width / 2, shapeSize.height / 2);\n  var angle = util.rad(Math.random() * 360);\n  var gradientSize = (shapeSize.width + shapeSize.height) / 4;\n  var originX = centerPoint.x + Math.cos(angle - Math.PI / 2) * gradientSize;\n  var originY = centerPoint.y + Math.sin(angle - Math.PI / 2) * gradientSize;\n  var destinationX = centerPoint.x + Math.cos(angle + Math.PI / 2) * gradientSize;\n  var destinationY = centerPoint.y + Math.sin(angle + Math.PI / 2) * gradientSize;\n\n  var origin = new Point(originX + shapeSize.x, originY + shapeSize.y);\n  var destination = new Point(destinationX + shapeSize.x, destinationY + shapeSize.y);\n  // group.addChild(new Path.Circle({\n  //   center: origin,\n  //   radius: 5,\n  //   fillColor: 'red',\n  // }));\n  // group.addChild(new Path.Circle({\n  //   center: destination,\n  //   radius: 5,\n  //   fillColor: 'green',\n  // }));\n  group.data.originalColor = currentColor;\n  group.data.color = {\n    gradient: {\n      stops: config.palette.gradients[currentColor]\n    },\n    origin: origin,\n    destination: destination\n  };\n  group.data.scale = 1; // init variable to track scale changes\n  group.data.rotation = 0; // init variable to track rotation changes\n  group.data.fresh = true;\n\n  shapePath.remove();\n  truedShape.visible = false;\n  truedShape.strokeColor = transparent;\n  window.kan.shapePath = truedShape;\n  truedShape.name = 'shapePath';\n\n  if (!(truedShape.length > 0)) {\n    truedShape.remove();\n    group.remove();\n    window.kan.panning = false;\n    return;\n  }\n\n  group.addChild(truedShape);\n\n  var shapeSoundObj = sound.getShapeSoundObj(truedShape);\n  window.kan.composition.push(shapeSoundObj);\n\n  truedShape.visible = false;\n  var outlineGroup = shape.getOutlineGroup(truedShape);\n  var outline = outlineGroup._namedChildren.outer[0].clone();\n  outline.name = 'outer';\n  outline.fillColor = currentColor;\n  outline.fillColor = group.data.color;\n\n  var outlineCenter = outlineGroup._namedChildren.middle[0].clone();\n  outlineCenter.strokeColor = group.data.color;\n  outlineCenter.visible = false;\n  group.addChild(outline);\n  outline.sendToBack();\n\n  outlineGroup.remove();\n\n  var shapeMask = outline.clone();\n  shapeMask.fillColor = outline.fillColor;\n  shapeMask.strokeColor = transparent;\n  shapeMask.closed = true;\n\n  var enclosedLoops = shape.findInteriorCurves(outlineCenter);\n  // console.log('enclosedLoops', enclosedLoops);\n  if (enclosedLoops.length > 0 || truedShape.closed === true) {\n    group.data.line = false;\n  } else {\n    group.data.line = true;\n  }\n\n  enclosedLoops.forEach(function (loop) {\n    shapeMask.unite(loop);\n    shapeMask.sendToBack();\n    loop.name = 'loop';\n    loop.data.loop = true;\n    loop.visible = true;\n    group.addChild(loop);\n    loop.bringToFront();\n  });\n\n  shapeMask.unite();\n  var crossings = shapeMask.resolveCrossings();\n  if (!!crossings && !!crossings.children && crossings.children.length > 0) {\n    var maxArea = 0,\n        maxChild = null;\n    crossings.children.forEach(function (child) {\n      if (child.area > maxArea) {\n        maxChild = child;\n        maxArea = child.area;\n      }\n    });\n\n    shapeMask = maxChild;\n  }\n\n  outlineCenter.remove();\n  shapeMask.visible = false;\n  shapeMask.name = 'mask';\n  shapeMask.data.mask = true;\n  group.addChild(shapeMask);\n  shapeMask.sendToBack();\n\n  shape.cleanUpGroup(group);\n  group.shadowColor = group.data.originalColor;\n  group.shadowBlur = 0;\n\n  move.id = group.id;\n  window.kan.moves.push(move);\n\n  ui.unditherButtonsByName(['new', 'undo', 'play-stop', 'share']);\n  $body.addClass(sound.playEnabledClass);\n\n  if (window.kan.userHasDrawnFirstShape !== true) {\n    // first shape!\n    // set play prompt timeout\n    window.kan.playPromptTimeout = setTimeout(function () {\n      overlays.openOverlay('play-prompt');\n    }, timing.playPromptDelay);\n\n    window.kan.userHasDrawnFirstShape = true;\n  }\n\n  if (config.runAnimations) {\n    var scaleFactor = 0.9;\n    group.animate([{\n      properties: {\n        scale: scaleFactor\n      },\n      settings: {\n        duration: 100,\n        easing: \"easeOut\"\n      }\n    }, {\n      properties: {\n        scale: 1 / scaleFactor\n      },\n      settings: {\n        duration: 100,\n        easing: \"easeIn\"\n      }\n    }]);\n  }\n\n  if (!tutorial.allTutsCompleted()) {\n    var tutorialCompletion = window.kan.tutorialCompletion;\n    var tutName = null;\n\n    // console.log('window.kan.shapesSinceTut', window.kan.shapesSinceTut);\n\n    if (!tutorialCompletion['fill'] && truedShape.closed) {\n      tutName = 'fill';\n    } else if (!tutorialCompletion['pinch'] && window.kan.shapesSinceTut === tutorial.shapeLimit) {\n      tutName = 'pinch';\n    }\n\n    if (tutName !== null) {\n      // console.log(`${tutName} tutorial`);\n      tutorial.addContextualTut(tutName);\n      window.kan.tutorialCompletion[tutName] = true;\n      group.data.tut = tutName;\n      group.data.hasTut = true;\n    }\n  }\n\n  if (window.kan.shapesSinceTut >= tutorial.shapeLimit) {\n    tutorial.hideContextualTuts();\n    window.kan.shapesSinceTut = 0;\n  } else {\n    window.kan.shapesSinceTut++;\n  }\n\n  if (window.kan.scheduledOverlay !== null) {\n    var scheduledOverlay = window.kan.scheduledOverlay;\n    window.kan.scheduledOverlay = null;\n    setTimeout(function () {\n      overlays.openOverlay(scheduledOverlay);\n    }, timing.overlayDelay);\n  }\n\n  sound.asyncPlayShapeSound(shapeSoundObj);\n\n  // console.log('pan done');\n  hammerCanvas.set({ enable: false });\n  setTimeout(function () {\n    hammerCanvas.set({ enable: true });\n    console.log('touch enabled');\n    hammerCanvas.on('panstart', panStart);\n    enablePanAndPinchEvents();\n    enableTapEvents();\n\n    window.kan.panning = false;\n  }, timing.inputDelay);\n\n  if (config.pop === true) {\n    shape.updatePops();\n  }\n}\n\nfunction panCancel(event) {\n  // console.log('pancancel');\n  event.srcEvent.stopPropagation();\n  // event.preventDefault();\n\n  hammerCanvas.set({ enable: true });\n  hammerCanvas.on('panstart', panStart);\n  enablePanAndPinchEvents();\n  enableTapEvents();\n  window.kan.panning = false;\n}\n\nfunction pinchStart(event) {\n  // console.log('pinchstart');\n  timing.preventInactivityTimeout();\n  window.kan.interacting = true;\n  window.kan.pinching = true;\n  // event.preventDefault();\n\n  // hammerCanvas.get('pinchstart').set({enable: false});\n  hammerCanvas.off('pinchstart');\n  disablePanEvents();\n  disableTapEvents();\n\n  if (!eventTargetIsOnCanvas(event)) return;\n\n  sound.stopPlaying();\n\n  var pointer = ui.getNormalizedEventCenter(event);\n  var point = new Point(pointer.x, pointer.y);\n  var hitResult = shape.hitTestGroupBounds(point);\n\n  if (hitResult) {\n    if (!!hitResult && hitResult.data.hasTut) {\n      tutorial.hideContextualTuts();\n    }\n    window.kan.pinching = true;\n    window.kan.pinchedGroup = hitResult;\n    window.kan.lastScale = 1;\n    window.kan.lastRotation = event.rotation;\n\n    window.kan.originalPosition = hitResult.position;\n    window.kan.originalRotation = hitResult.data.rotation;\n    window.kan.originalScale = hitResult.data.scale;\n    hitResult.data.thrown = false;\n\n    if (config.pop === true) {\n      shape.destroyGroupPops(hitResult);\n    }\n\n    hitResult.bringToFront();\n\n    if (hitResult.data.tut && hitResult.data.tut.length > 0) {\n      var $tut = $('.tut[data-tut-type=\\'' + hitResult.data.tut + '\\']');\n      if ($tut) {\n        window.kan.pinchedTut = $tut;\n      } else {\n        window.kan.pinchedTut = null;\n      }\n    } else {\n      window.kan.pinchedTut = null;\n    }\n\n    // if (config.runAnimations) {\n    //   hitResult.animate({\n    //     properties: {\n    //       scale: 1.25\n    //     },\n    //     settings: {\n    //       duration: 100,\n    //       easing: \"easeOut\",\n    //     }\n    //   });\n    // }\n  } else {\n    window.kan.pinchedGroup = null;\n    window.kan.pinchedTut = null;\n    // console.log('hit no item');\n  }\n}\n\nfunction pinchMove(event) {\n  // console.log('pinchMove');\n  // event.preventDefault();\n\n  var viewWidth = paper.view.viewSize.width;\n  var viewHeight = paper.view.viewSize.height;\n  var pinchedGroup = window.kan.pinchedGroup;\n  var $pinchedTut = window.kan.pinchedTut;\n\n  if (!!pinchedGroup) {\n    var currentScale = event.scale;\n    var scaleDelta = void 0;\n\n    tutorial.hideContextualTutByName('pinch');\n\n    if (pinchedGroup.bounds.width < minShapeSize || pinchedGroup.bounds.height < minShapeSize) {\n      // only allow a shape to scale down if it is larger than the minimum size\n      scaleDelta = 1.1;\n    } else if (pinchedGroup.bounds.width >= paper.view.viewSize.width || pinchedGroup.bounds.height >= paper.view.viewSize.height) {\n      // only allow shape to scale up if it fits in the viewport\n      scaleDelta = 0.9;\n    } else {\n      scaleDelta = currentScale / window.kan.lastScale;\n    }\n\n    window.kan.lastScale = currentScale;\n\n    var currentRotation = event.rotation;\n    var rotationDelta = currentRotation - window.kan.lastRotation;\n    window.kan.lastRotation = currentRotation;\n\n    // console.log(`scaling by ${scaleDelta}`);\n    // console.log(`rotating by ${rotationDelta}`);\n\n    var centerPoint = ui.getNormalizedEventCenter(event);\n    pinchedGroup.position = centerPoint;\n    if (!!$pinchedTut) {\n      tutorial.moveContextualTut($pinchedTut, centerPoint);\n    }\n\n    if (scaleDelta !== 1) {\n      pinchedGroup.scale(scaleDelta);\n\n      // check if scaling went awry, cannot be too big or too small\n      // hypotenuse must fit within view bounds\n      var hypot = util.hypot(pinchedGroup.bounds.width, pinchedGroup.bounds.height);\n      var viewHypot = util.hypot(paper.view.viewSize.width, paper.view.viewSize.height);\n      if (hypot >= viewHypot) {\n        // shape is too big, bring it back down to size\n        scaleDelta = viewHypot * maxScaleFactor / hypot;\n        pinchedGroup.scale(scaleDelta);\n      } else if (hypot <= minShapeSize) {\n        scaleDelta = minShapeSize / hypot;\n        pinchedGroup.scale(scaleDelta);\n      }\n    }\n    pinchedGroup.rotate(rotationDelta);\n\n    pinchedGroup.data.scale *= scaleDelta;\n    pinchedGroup.data.rotation += rotationDelta;\n  }\n}\n\nfunction pinchEnd(event) {\n  // event.preventDefault();\n\n  window.kan.lastEvent = event;\n  var pinchedGroup = window.kan.pinchedGroup;\n  var $pinchedTut = window.kan.pinchedTut;\n  var originalPosition = window.kan.originalPosition;\n  var originalRotation = window.kan.originalRotation;\n  var originalScale = window.kan.originalScale;\n\n  if (!!pinchedGroup) {\n    pinchedGroup.data.fresh = true;\n    var move = {\n      id: pinchedGroup.id,\n      type: 'transform'\n    };\n    if (pinchedGroup.position != originalPosition) {\n      move.position = originalPosition;\n    }\n\n    if (pinchedGroup.data.rotation != originalRotation) {\n      move.rotation = originalRotation - pinchedGroup.data.rotation;\n    }\n\n    if (pinchedGroup.data.scale != originalScale) {\n      move.scale = originalScale / pinchedGroup.data.scale;\n    }\n\n    if (pinchedGroup.children.length > 0 && pinchedGroup._namedChildren.shapePath && pinchedGroup._namedChildren.shapePath.length > 0) {\n      // update shapePath sound object if possible\n      sound.removeShapeFromComposition(pinchedGroup); // sound is now wrong\n\n      var shapePath = pinchedGroup._namedChildren.shapePath[0];\n      var shapeSoundObj = sound.getShapeSoundObj(shapePath);\n      window.kan.composition.push(shapeSoundObj);\n    }\n\n    window.kan.moves.push(move);\n\n    if (Math.abs(event.velocity) > 1) {\n\n      // hide any connected tuts\n      if (!!$pinchedTut) {\n        tutorial.hideContextualTut($pinchedTut);\n      }\n      // dispose of group offscreen\n      if (config.pop === true) {\n        shape.destroyGroupPops(pinchedGroup);\n        pinchedGroup.data.fresh = false;\n      }\n\n      pinchedGroup.data.thrown = true;\n      throwPinchedGroup();\n    }\n\n    // if (config.runAnimations) {\n    //   pinchedGroup.animate({\n    //     properties: {\n    //       scale: 0.8\n    //     },\n    //     settings: {\n    //       duration: 100,\n    //       easing: \"easeOut\",\n    //     }\n    //   });\n    // }\n  } else {\n    window.kan.pinchedGroup = null;\n  }\n\n  // if an overlay was interrupted, open it up now\n  if (window.kan.scheduledOverlay !== null) {\n    var scheduledOverlay = window.kan.scheduledOverlay;\n    window.kan.scheduledOverlay = null;\n    setTimeout(function () {\n      overlays.openOverlay(scheduledOverlay);\n    }, timing.overlayDelay);\n  }\n\n  window.kan.pinching = false;\n\n  if (config.pop === true) {\n    shape.updatePops();\n  }\n\n  // console.log('pinch done');\n  // hammerCanvas.set({ enable: false });\n  setTimeout(function () {\n    // console.log('touch enabled');\n    hammerCanvas.on('pinchstart', pinchStart);\n    enablePanAndPinchEvents();\n    enableTapEvents();\n    // hammerCanvas.set({ enable: true });\n    // hammerCanvas.on('pinchstart', pinchStart);\n    // enablePanAndPinchEvents();\n    // enableTapEvents();\n    // window.kan.pinching = false;\n    // window.kan.pinchedGroup = null;\n  }, timing.inputDelay);\n}\n\nfunction pinchCancel(event) {\n  // console.log(event);\n  event.srcEvent.stopPropagation();\n  // console.log('pinchcancel');\n  // event.preventDefault();\n\n  hammerCanvas.set({ enable: true });\n  hammerCanvas.on('pinchstart', pinchStart);\n  enablePanAndPinchEvents();\n  enableTapEvents();\n\n  window.kan.pinching = false;\n}\n\nfunction throwPinchedGroup() {\n\n  var velocityMultiplier = 25;\n  var lastEvent = window.kan.lastEvent;\n  var viewWidth = paper.view.viewSize.width;\n  var viewHeight = paper.view.viewSize.height;\n  var pinchedGroup = window.kan.pinchedGroup;\n\n  if (pinchedGroup === null || pinchedGroup.data && pinchedGroup.data.thrown === false) return;\n  if (pinchedGroup.position.x <= 0 - pinchedGroup.bounds.width || pinchedGroup.position.x >= viewWidth + pinchedGroup.bounds.width || pinchedGroup.position.y <= 0 - pinchedGroup.bounds.height || pinchedGroup.position.y >= viewHeight + pinchedGroup.bounds.height) {\n    pinchedGroup.data.offScreen = true;\n    pinchedGroup.visible = false;\n    sound.removeShapeFromComposition(pinchedGroup);\n    window.kan.pinchedGroup = null;\n    return;\n  }\n  requestAnimationFrame(throwPinchedGroup);\n  var newX = pinchedGroup.position.x + lastEvent.velocityX * velocityMultiplier;\n  var newY = pinchedGroup.position.y + lastEvent.velocityY * velocityMultiplier;\n  var newPos = new Point(newX, newY);\n  pinchedGroup.position = newPos;\n}\n\nfunction eventTargetIsOnCanvas(event) {\n  if (!event) return false;\n  if (event.target != ui.drawCanvas) return false;\n  return true;\n}\n\n},{\"./animation\":153,\"./color\":154,\"./config\":155,\"./overlays\":158,\"./shape\":159,\"./sound\":162,\"./timing\":163,\"./tutorial\":165,\"./ui\":166,\"./util\":167,\"hammerjs\":51}],165:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getTutByName = getTutByName;\nexports.allTutsCompleted = allTutsCompleted;\nexports.addContextualTut = addContextualTut;\nexports.hideContextualTut = hideContextualTut;\nexports.hideContextualTutByName = hideContextualTutByName;\nexports.hideContextualTuts = hideContextualTuts;\nexports.resetContextualTuts = resetContextualTuts;\nexports.moveContextualTut = moveContextualTut;\nexports.getTutPositionFromCenter = getTutPositionFromCenter;\nvar config = require('./config');\n\nvar shapeLimit = exports.shapeLimit = 2;\n\nvar contextualTuts = config.contextualTuts;\nvar tutArrowHeight = 16;\n\nfunction getTutByName(tutName) {\n  for (var i = 0; i < contextualTuts.length; i++) {\n    var tutObj = contextualTuts[i];\n\n    if (tutObj.type === tutName) {\n      return tutObj.copy;\n    }\n  }\n\n  return null;\n}\n\nfunction allTutsCompleted() {\n  var tutorialCompletionObj = window.kan.tutorialCompletion;\n  var completion = true;\n\n  Object.keys(tutorialCompletionObj).forEach(function (key, val) {\n    completion = completion && tutorialCompletionObj[key];\n  });\n\n  return completion === true;\n}\n\nfunction addContextualTut(tutName) {\n  if (tutName === 'pinch' && window.kan.location !== 'gallery') return; // if we're on desktop, don't show the pinch tut\n\n  if (!!window.kan.shapePath && window.kan.shapePath.length > 0) {\n    hideContextualTuts();\n    window.kan.shapesSinceTut = 0;\n\n    var shapePath = window.kan.shapePath;\n    var shapeCenter = shapePath.bounds.center;\n\n    var tutCopy = getTutByName(tutName);\n\n    if (tutCopy !== null) {\n      var $tut = $('.tut[data-tut-type=\\'' + tutName + '\\']');\n      if ($tut.length > 0) {\n        var tutPos = getTutPositionFromCenter($tut, shapeCenter);\n        $tut.css({ top: tutPos.y + 'px', left: tutPos.x + 'px', visibility: 'visible' });\n        $tut.addClass('animated bounceIn');\n      }\n    }\n  }\n}\n\nfunction hideContextualTut($tut) {\n  $tut.css({ visibility: 'hidden' });\n}\n\nfunction hideContextualTutByName(tutName) {\n  var $tut = $('.tut[data-tut-type=\\'' + tutName + '\\']');\n  hideContextualTut($tut);\n}\n\nfunction hideContextualTuts() {\n  var $tuts = $('.contextual-tuts .tut');\n  $tuts.css({ visibility: 'hidden' });\n}\n\nfunction resetContextualTuts() {\n  hideContextualTuts();\n  window.kan.tutorialCompletion = {\n    \"fill\": false,\n    \"pinch\": false\n  };\n}\n\nfunction moveContextualTut($tut, centerPoint) {\n  var tutPos = getTutPositionFromCenter($tut, centerPoint);\n  $tut.css({ top: tutPos.y + 'px', left: tutPos.x + 'px' });\n}\n\nfunction getTutPositionFromCenter($tut, centerPoint) {\n  var tutWidth = $tut.outerWidth();\n  var tutHeight = $tut.outerHeight();\n  var leftPos = centerPoint.x - tutWidth / 2;\n  var topPos = centerPoint.y - tutHeight - tutArrowHeight;\n  return new Point(leftPos, topPos);\n}\n\n},{\"./config\":155}],166:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.init = init;\nexports.getNormalizedEventCenter = getNormalizedEventCenter;\nexports.verifyBrowserWidth = verifyBrowserWidth;\nexports.fixCanvasSize = fixCanvasSize;\nexports.fixTutorialVideoSize = fixTutorialVideoSize;\nexports.ditherButtonsByName = ditherButtonsByName;\nexports.unditherButtonsByName = unditherButtonsByName;\nexports.ditherButtonByName = ditherButtonByName;\nexports.unditherButtonByName = unditherButtonByName;\nexports.enterShareMode = enterShareMode;\nexports.exitShareMode = exitShareMode;\nexports.selectRandomColorFromPalette = selectRandomColorFromPalette;\nexports.resetCanvas = resetCanvas;\nexports.showDesktopSharePrepNotice = showDesktopSharePrepNotice;\nvar config = require('./config');\nrequire('howler');\n\nvar sound = require('./sound');\nvar tutorial = require('./tutorial');\nvar overlays = require('./overlays');\nvar util = require('./util');\nvar color = require('./color');\nvar shape = require('./shape');\nvar share = require('./share');\nvar touch = require('./touch');\n\nvar $body = $('body');\nvar tapEvent = 'click tap touch';\n\nvar playingClass = sound.playingClass;\nvar playEnabledClass = sound.playEnabledClass;\n\nvar $newButton = $('.controls .new');\nvar $undoButton = $('.controls .undo');\nvar $playButton = $('.controls .play-stop');\nvar $shareButton = $('.controls .share');\nvar $tipsButton = $('.controls .tips');\n\nvar $controlPanel = $('.control-panel');\nvar $desktopPrepNotice = $('.prep-notice-wrap');\n\nvar $tutorialVideo = $('#tutorial-video');\nvar tutorialVideo = $tutorialVideo.eq(0)[0];\n\nvar $drawCanvas = exports.$drawCanvas = $('#' + config.canvasId);\nvar drawCanvas = exports.drawCanvas = $drawCanvas.eq(0)[0];\nvar canvasTop = exports.canvasTop = 0;\nvar canvasLeft = exports.canvasLeft = 0;\n\nvar tipsOverlay = exports.tipsOverlay = $('.overlay.tips')[0];\n\nvar ditheredClass = 'dithered';\nvar shareModeClass = 'share-mode';\n\nfunction init() {\n  fixCanvasSize();\n  fixTutorialVideoSize();\n  verifyBrowserWidth();\n  setupPaper();\n  initLogoRefresh();\n  initColorPalette();\n  initNewButton();\n  initUndoButton();\n  initPlayButton();\n  initTipsButton();\n  initShareButton();\n  initContextualTuts();\n  resetCanvas();\n}\n\nfunction getNormalizedEventCenter(event) {\n  var bb = event.target.getBoundingClientRect();\n  return new Point(event.center.x - bb.left, event.center.y - bb.top);\n}\n\nfunction verifyBrowserWidth() {\n  var scaleFactor = 0.9;\n  var canvasWidth = $(window).width() * scaleFactor;\n  var canvasHeight = $(window).height() * scaleFactor;\n\n  if (canvasWidth < config.minWidth || canvasHeight < config.minHeight) {\n    showExpandBrowserMessage();\n  } else {\n    hideExpandBrowserMessage();\n  }\n}\n\nfunction showExpandBrowserMessage() {\n  overlays.openOverlay('window-too-small');\n}\n\nfunction hideExpandBrowserMessage() {\n  overlays.closeAndResetOverlays();\n}\n\nfunction fixCanvasSize() {\n  console.log('fixCanvasSize');\n  var $frame = $('.framed-content').eq(0);\n  var containerWidth = $frame.width();\n  var containerHeight = containerWidth / 2 + 130;\n\n  if (window.kan.location === 'gallery') {\n    $drawCanvas.width('100%');\n    $drawCanvas.height('calc(100vh - 13rem)');\n  } else {\n    $drawCanvas.width(containerWidth / 10 + 'rem');\n    $drawCanvas.height(containerHeight / 10 + 'rem');\n  }\n\n  var offset = $drawCanvas.offset();\n  exports.canvasTop = canvasTop = offset.top;\n  exports.canvasLeft = canvasLeft = offset.left;\n}\n\nfunction fixTutorialVideoSize() {\n  var $window = $(window);\n\n  var videoWidth = 1920;\n  var videoHeight = 1080;\n  var videoWidthToHeightRatio = videoWidth / videoHeight;\n\n  var windowWidthToHeightRatio = $window.width() / $window.height();\n\n  if (videoWidthToHeightRatio < windowWidthToHeightRatio) {\n    // entire width does not fit, make width 100% and height auto\n    $tutorialVideo.css({ width: '100%', height: 'auto' });\n  } else {\n    // entire width fits, make height 100% and width auto\n    $tutorialVideo.css({ width: 'auto', height: '100%' });\n  }\n}\n\nfunction setupPaper() {\n  paper.setup(drawCanvas);\n}\n\nfunction ditherAllButtons() {\n  $('.controls > *').addClass(ditheredClass);\n}\n\nfunction unditherAllButtons() {\n  $('.controls .' + ditheredClass).removeClass(ditheredClass);\n}\n\nfunction ditherButtonsByName(buttonNames) {\n  var undither = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  if (buttonNames.length > 0) {\n    if ($.isArray(buttonNames)) {\n      buttonNames.forEach(function (name) {\n        return ditherButtonByName(name, undither);\n      });\n    } else {\n      ditherButtonByName(buttonNames, undither);\n    }\n  }\n}\n\nfunction unditherButtonsByName(buttonNames) {\n  ditherButtonsByName(buttonNames, true);\n}\n\nfunction ditherButtonByName(buttonName) {\n  var undither = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var $button = $('.controls .' + buttonName);\n  // console.log($button);\n  if ($button.length > 0) {\n    if (undither !== true) {\n      $button.addClass(ditheredClass);\n    } else {\n      $button.removeClass(ditheredClass);\n    }\n  }\n}\n\nfunction unditherButtonByName(buttonName) {\n  ditherButtonByName(buttonName, true);\n}\n\nfunction unditherButtonsByName(buttonNames) {\n  ditherButtonsByName(buttonNames, true);\n}\n\nfunction enterShareMode() {\n  sound.stopPlaying(true);\n  ditherAllButtons();\n  clearTimeout(window.kan.playPromptTimeout);\n  touch.disableAllEvents();\n}\n\nfunction exitShareMode() {\n  unditherAllButtons();\n  Howler.mute(false);\n  touch.enableAllEvents();\n}\n\nfunction newPressed() {\n  // console.log('new pressed');\n  window.kan.composition = [];\n  paper.project.activeLayer.removeChildren();\n  tutorial.hideContextualTuts();\n  ditherButtonsByName(['undo', 'new', 'play-stop', 'share']);\n  sound.stopPlaying();\n  // window.kan.userHasDrawnFirstShape = false;\n  // tutorial.resetContextualTuts();\n}\n\nfunction undoPressed() {\n  sound.stopPlaying();\n  tutorial.hideContextualTuts();\n\n  var transparent = color.transparent;\n  // console.log('undo pressed');\n  if (!(window.kan.moves.length > 0)) {\n    // console.log('no moves yet');\n    window.kan.userHasDrawnFirstShape = false;\n    return;\n  }\n\n  var lastMove = window.kan.moves.pop();\n  var item = project.getItem({\n    id: lastMove.id\n  });\n\n  if (item) {\n    item.visible = true; // make sure\n    switch (lastMove.type) {\n      case 'newGroup':\n        // console.log('removing group');\n        sound.removeShapeFromComposition(item);\n        util.clearGroupPops(item);\n        item.remove();\n\n        if ('removedGroup' in lastMove) {\n          // bring back removed group\n          lastMove.removedGroup.visible = true;\n          lastMove.removedGroup.data.fresh = true;\n          shape.updatePops();\n        }\n\n        var numGroups = util.getNumVisibleGroups();\n        // console.log('numGroups', numGroups);\n\n        if (numGroups <= 0) {\n          ditherButtonsByName(['undo', 'new', 'play-stop', 'share']);\n          $body.removeClass(sound.playEnabledClass);\n        } else {\n          unditherButtonsByName(['undo', 'new', 'play-stop', 'share']);\n          $body.addClass(sound.playEnabledClass);\n        }\n\n        break;\n      case 'fillChange':\n        if (lastMove.transparent) {\n          item.fillColor = lastMove.fill;\n        } else {\n          item.fillColor = transparent;\n        }\n        item.strokeColor = transparent;\n      case 'transform':\n        item.data.fresh = true;\n        if (!!lastMove.position) {\n          item.position = lastMove.position;\n          if (item.data && item.data.tut && item.data.tut.length > 0) {\n            // item has connected contextual tut, move it to the right place\n            var $tut = $('.tut[data-tut-type=\\'' + tutName + '\\']');\n            tutorial.moveContextualTut($tut, lastMove.position);\n          }\n        }\n        if (!!lastMove.rotation) {\n          item.rotation = lastMove.rotation;\n        }\n        if (!!lastMove.scale) {\n          item.scale(lastMove.scale);\n        }\n        if (config.pop === true) {\n          shape.updatePops();\n        }\n        break;\n      default:\n      // console.log('unknown case');\n    }\n  } else {\n      // console.log('could not find matching item');\n    }\n}\n\nfunction playPressed() {\n  // console.log('play pressed');\n  // sound.stopComposition();\n  // overlays.closeAndResetOverlays();\n  // tutorial.hideContextualTuts();\n  var playing = window.kan.playing;\n  // console.log(playing, util.getNumGroups() > 2, !playing && util.getNumGroups() > 2, $body);\n\n  clearTimeout(window.kan.playPromptTimeout);\n  if (!playing && util.getNumVisibleGroups() > 2) {\n    // console.log('starting playing');\n    sound.startPlaying();\n  } else {\n    // console.log('stopping playing');\n    sound.stopPlaying(true);\n  }\n}\n\nfunction tipsPressed() {\n  sound.stopPlaying();\n  overlays.openOverlay('tips');\n}\n\nfunction initLogoRefresh() {\n  $('.main-logo').on(tapEvent, function () {\n    location.reload();\n  });\n}\n\nfunction selectRandomColorFromPalette() {\n  var randomColorHex = color.getRandomColor();\n  var $svg = $('svg.palette-color[data-color=\\'' + randomColorHex + '\\']');\n\n  if (!!$svg && $svg.length > 0) {\n    selectColorFromPaletteUsingSvgElement($svg);\n  }\n}\n\nfunction selectColorFromPaletteUsingSvgElement($svg) {\n  var paletteColorSize = 20;\n  var paletteSelectedColorSize = 30;\n  var paletteSelectedClass = 'palette-selected';\n\n  if (!$svg.hasClass(paletteSelectedClass)) {\n    $('.' + paletteSelectedClass).removeClass(paletteSelectedClass).attr('width', paletteColorSize).attr('height', paletteColorSize).find('rect').attr('rx', 0).attr('ry', 0);\n\n    $svg.addClass(paletteSelectedClass).attr('width', paletteSelectedColorSize).attr('height', paletteSelectedColorSize).find('rect').attr('rx', paletteSelectedColorSize / 2).attr('ry', paletteSelectedColorSize / 2);\n  }\n}\n\nfunction initColorPalette() {\n  var $paletteWrap = $('ul.palette-colors');\n  var $paletteColors = $paletteWrap.find('li');\n\n  // hook up click\n  $paletteColors.on('click tap touch', function () {\n    if (!$body.hasClass(playingClass)) {\n      var $svg = $(this).find('svg.palette-color');\n      selectColorFromPaletteUsingSvgElement($svg);\n    };\n  });\n}\n\nfunction initNewButton() {\n  $('.main-controls .new').on(tapEvent, function () {\n    if (!$body.hasClass(playingClass)) {\n      newPressed();\n    }\n  });\n}\n\nfunction initUndoButton() {\n  $('.main-controls .undo').on(tapEvent, function () {\n    if (!$body.hasClass(playingClass)) {\n      undoPressed();\n    }\n  });\n}\n\nfunction initPlayButton() {\n  overlays.closeAndResetOverlays();\n  $('.main-controls .play-stop .play').on(tapEvent, sound.startPlaying);\n  $('.main-controls .play-stop .stop').on(tapEvent, sound.stopPlaying);\n}\n\nfunction initTipsButton() {\n  $('.controls .tips').on(tapEvent, function () {\n    if (!$body.hasClass(playingClass)) {\n      tipsPressed();\n    }\n  });\n}\n\nfunction initShareButton() {\n  $('.controls .share').on(tapEvent, share.handleSharePressed);\n}\n\nfunction initContextualTuts() {\n  var $tuts = $('.contextual-tuts .tut');\n  $tuts.on(tapEvent, function () {\n    $(this).css({ visibility: 'hidden' });\n  });\n}\n\nfunction resetCanvas() {\n  paper.project.clear();\n\n  // add random background\n  paper.project.activeLayer.name = 'background';\n  var numCanvasses = 10;\n  var randomCanvasIndex = Math.round(Math.random() * (numCanvasses - 1)) + 1; // [1, numCanvasses]\n  var canvasBg = new Raster('canvas-' + randomCanvasIndex);\n  canvasBg.name = 'canvasBg';\n  canvasBg.position = paper.view.center;\n\n  // add canvas layer\n  var scaleFactorHorizontal = paper.view.viewSize.width / canvasBg.size.width;\n  var scaleFactorVertical = paper.view.viewSize.height / canvasBg.size.height;\n  canvasBg.scale(Math.max(scaleFactorHorizontal, scaleFactorVertical));\n  var layer = new Layer(); // init new layer that all other shapes will be drawn upon\n  paper.project.activeLayer.name = 'canvas';\n}\n\nfunction showDesktopSharePrepNotice() {\n  $controlPanel.hide();\n  $desktopPrepNotice.show();\n}\n\n},{\"./color\":154,\"./config\":155,\"./overlays\":158,\"./shape\":159,\"./share\":160,\"./sound\":162,\"./touch\":164,\"./tutorial\":165,\"./util\":167,\"howler\":54}],167:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.rad = rad;\nexports.deg = deg;\nexports.hypot = hypot;\nexports.angleDelta = angleDelta;\nexports.delta = delta;\nexports.getTime = getTime;\nexports.getNumVisibleGroups = getNumVisibleGroups;\nexports.getVisibleGroups = getVisibleGroups;\nexports.getAllGroups = getAllGroups;\nexports.anyShapesOnCanvas = anyShapesOnCanvas;\nexports.getNumGroups = getNumGroups;\nexports.getFreshGroups = getFreshGroups;\nexports.getAllPops = getAllPops;\nexports.clearGroupPops = clearGroupPops;\nexports.getGroupPops = getGroupPops;\nexports.getPopCandidates = getPopCandidates;\nexports.setSha = setSha;\nexports.setUuid = setUuid;\nexports.shallowCopy = shallowCopy;\nexports.randomPick = randomPick;\nvar uuid = require('uuid/v1'); // v1 UUID (time-based)\n\nvar config = require('./config');\n\n// Converts from degrees to radians.\nfunction rad(degrees) {\n  return degrees * Math.PI / 180;\n};\n\n// Converts from radians to degrees.\nfunction deg(radians) {\n  return radians * 180 / Math.PI;\n};\n\nfunction hypot(a, b) {\n  return Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2)); // pythagorean!\n}\n\n// returns absolute value of the delta of two angles in radians\nfunction angleDelta(x, y) {\n  return Math.abs(Math.atan2(Math.sin(y - x), Math.cos(y - x)));;\n}\n\n// distance between two points\nfunction delta(p1, p2) {\n  return Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2)); // pythagorean!\n}\n\nfunction getTime() {\n  return new Date().toLocaleTimeString();\n}\n\nfunction getNumVisibleGroups() {\n  var groups = getVisibleGroups();\n  return groups.length;\n}\n\nfunction getVisibleGroups() {\n  return paper.project.getItems({\n    className: 'Group',\n    match: function match(el) {\n      return el.visible === true;\n    }\n  });\n}\n\nfunction getAllGroups() {\n  return paper.project.getItems({\n    className: 'Group'\n  });\n}\n\nfunction anyShapesOnCanvas() {\n  var groups = getVisibleGroups();\n  return groups.length > 0;\n}\n\nfunction getNumGroups() {\n  var groups = getVisibleGroups();\n  // console.log('numgroups', groups.length);\n  return groups.length;\n}\n\nfunction getFreshGroups() {\n  return paper.project.getItems({\n    className: 'Group',\n    match: function match(el) {\n      return el.data && el.data.line === false && el.data.fresh === true;\n    }\n  });\n}\n\nfunction getAllPops() {\n  return paper.project.getItems({\n    match: function match(el) {\n      return el.data && el.data.pop === true;\n    }\n  });\n}\n\nfunction clearGroupPops(group) {\n  var pops = getGroupPops(group);\n  pops.forEach(function (pop) {\n    return pop.remove();\n  });\n}\n\nfunction getGroupPops(group) {\n  // console.log('group pop group', group.id, group);\n  var returnPops = [];\n\n  if (group.children.length > 0) {\n    var groupPops = group.getItems({\n      match: function match(el) {\n        return el.data && el.data.pop === true;\n      }\n    });\n    returnPops = returnPops.concat(groupPops);\n  }\n\n  var intersectingPops = paper.project.getItems({\n    match: function match(el) {\n      return el.data && el.data.pop === true && el.data.intersectingGroup === group.id;\n    }\n  });\n\n  if (intersectingPops.length > 0) {\n    returnPops = returnPops.concat(intersectingPops);\n  }\n\n  return returnPops;\n}\n\nfunction getPopCandidates() {\n  return paper.project.getItems({\n    className: 'Group',\n    match: function match(el) {\n      return el.data && el.data.line === false && el.visible === true;\n    }\n  });\n}\n\nfunction setSha() {\n  $.get('/hash').done(function (res) {\n    console.log('current hash:', res);\n    window.kan.hash = res;\n  }).fail(function (e) {\n    console.error('error getting hash:', e);\n  });\n}\n\nfunction setUuid() {\n  var foo = uuid();\n  console.log('setting uuid', foo);\n  window.kan.uuid = foo;\n  console.log('window.kan.uuid', window.kan.uuid);\n}\n\n// http://blog.soulserv.net/understanding-object-cloning-in-javascript-part-i/\nfunction shallowCopy(original) {\n  // First create an empty object with\n  // same prototype of our original source\n  var clone = Object.create(Object.getPrototypeOf(original));\n\n  var i,\n      keys = Object.getOwnPropertyNames(original);\n\n  for (i = 0; i < keys.length; i++) {\n    // copy each property into the clone\n    Object.defineProperty(clone, keys[i], Object.getOwnPropertyDescriptor(original, keys[i]));\n  }\n\n  return clone;\n}\n\nfunction randomPick(array) {\n  if (!!array && array.length > 0) {\n    return array[Math.floor(Math.random() * array.length)];\n  }\n\n  return null;\n}\n\n},{\"./config\":155,\"uuid/v1\":86}],168:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.enterTutorialMode = enterTutorialMode;\nexports.exitTutorialMode = exitTutorialMode;\nexports.pauseVideo = pauseVideo;\nexports.playVideo = playVideo;\nvar config = require('./config');\n\nvar main = require('./main');\nvar overlays = require('./overlays');\nvar timing = require('./timing');\nvar ui = require('./ui');\nvar sound = require('./sound');\n\nvar $body = $('body');\nvar tapEvent = 'click tap touch';\n\nvar videoPlayingClass = exports.videoPlayingClass = 'video-playing';\n\nvar $videoWrapper = $body.find('#video-wrap');\nvar $video = $videoWrapper.find('video');\n\nfunction enterTutorialMode() {\n  ga('send', {\n    hitType: 'pageView',\n    page: 'tutorial',\n    title: 'Color Composer'\n  });\n  console.log('entering tutorial mode');\n  playVideo();\n  $body.addClass(videoPlayingClass);\n  clearTimeout(window.kan.inactivityTimeout);\n  clearInterval(window.kan.continueCountdownInterval);\n  $body.off(tapEvent, timing.preventInactivityTimeout);\n  $body.on(tapEvent, exitTutorialMode);\n  main.resetWindow();\n  ui.resetCanvas();\n  window.kan.refreshCheckInterval = setInterval(function () {\n    $.get('/hash').done(function (res) {\n      if (res !== window.kan.hash) {\n        console.log('different hash, reloading');\n        location.reload();\n      }\n    }).fail(function (e) {\n      console.error('error getting hash:', e);\n    });\n  }, timing.refreshCheckDelay);\n}\n\nfunction exitTutorialMode() {\n  ga('send', {\n    hitType: 'pageView',\n    page: 'draw',\n    title: 'Color Composer'\n  });\n  console.log('exiting tutorial mode');\n  sound.reinitShapeSounds().then(function () {\n    clearInterval(window.kan.refreshCheckInterval);\n    Howler.mute(false);\n    pauseVideo();\n    $body.off(tapEvent, exitTutorialMode);\n    $body.on(tapEvent, timing.preventInactivityTimeout);\n    $body.removeClass(videoPlayingClass);\n    clearTimeout(window.kan.inactivityTimeout);\n    clearInterval(window.kan.continueCountdownInterval);\n\n    ui.verifyBrowserWidth();\n\n    if ($body.hasClass('window-too-small-active') !== true && window.kan.location !== 'desktop') {\n      overlays.openOverlay('intro');\n\n      window.kan.inactivityTimeout = setTimeout(function () {\n        overlays.openOverlay('continue');\n      }, timing.continueInactivityDelay);\n    }\n  }).fail(function (e) {\n    console.error('error initting shape sounds:', e);\n    location.reload();\n  });\n}\n\nfunction pauseVideo() {\n  $video.get(0).pause();\n}\n\nfunction playVideo() {\n  $video.get(0).play();\n}\n\n},{\"./config\":155,\"./main\":157,\"./overlays\":158,\"./sound\":162,\"./timing\":163,\"./ui\":166}]},{},[157]);\n"]}