{"version":3,"sources":["main.bundle.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","arraybuffer","start","end","bytes","byteLength","slice","ArrayBuffer","abv","Uint8Array","result","ii","buffer","2","./lib/axios","3","process","utils","settle","buildURL","parseHeaders","isURLSameOrigin","createError","btoa","window","bind","config","Promise","resolve","reject","requestData","data","requestHeaders","headers","isFormData","request","XMLHttpRequest","loadEvent","xDomain","env","NODE_ENV","XDomainRequest","url","onprogress","ontimeout","auth","username","password","Authorization","open","method","toUpperCase","params","paramsSerializer","timeout","readyState","status","responseURL","indexOf","responseHeaders","getAllResponseHeaders","responseData","responseType","response","responseText","statusText","onerror","isStandardBrowserEnv","cookies","xsrfValue","withCredentials","xsrfCookieName","read","undefined","xsrfHeaderName","forEach","val","key","toLowerCase","setRequestHeader","onDownloadProgress","addEventListener","onUploadProgress","upload","cancelToken","promise","then","cancel","abort","send","this","../core/createError","./../core/settle","./../helpers/btoa","./../helpers/buildURL","./../helpers/cookies","./../helpers/isURLSameOrigin","./../helpers/parseHeaders","./../utils","_process","4","createInstance","defaultConfig","context","Axios","instance","prototype","extend","defaults","axios","create","instanceConfig","merge","Cancel","CancelToken","isCancel","all","promises","spread","default","./cancel/Cancel","./cancel/CancelToken","./cancel/isCancel","./core/Axios","./defaults","./helpers/bind","./helpers/spread","./utils","5","message","toString","__CANCEL__","6","executor","TypeError","resolvePromise","token","reason","throwIfRequested","source","c","./Cancel","7","value","8","interceptors","InterceptorManager","dispatchRequest","isAbsoluteURL","combineURLs","arguments","baseURL","chain","interceptor","unshift","fulfilled","rejected","push","shift","./../defaults","./../helpers/combineURLs","./../helpers/isAbsoluteURL","./InterceptorManager","./dispatchRequest","9","handlers","use","eject","id","fn","h","10","enhanceError","error","./enhanceError","11","throwIfCancellationRequested","transformData","transformRequest","common","adapter","transformResponse","../cancel/isCancel","../defaults","./transformData","12","13","validateStatus","./createError","14","fns","15","setContentTypeIfUnset","isUndefined","getDefaultAdapter","normalizeHeaderName","PROTECTION_PREFIX","DEFAULT_CONTENT_TYPE","Content-Type","isArrayBuffer","isStream","isFile","isBlob","isArrayBufferView","isURLSearchParams","isObject","JSON","stringify","replace","parse","maxContentLength","Accept","./adapters/http","./adapters/xhr","./helpers/normalizeHeaderName","16","thisArg","args","Array","apply","17","E","input","block","charCode","str","String","output","idx","map","chars","charAt","charCodeAt","name","18","encode","encodeURIComponent","serializedParams","parts","isArray","v","isDate","toISOString","join","19","relativeURL","20","write","expires","path","domain","secure","cookie","isNumber","Date","toGMTString","isString","document","match","RegExp","decodeURIComponent","remove","now","21","test","22","resolveURL","href","msie","urlParsingNode","setAttribute","protocol","host","search","hash","hostname","port","pathname","originURL","navigator","userAgent","createElement","location","requestURL","parsed","23","normalizedName","../utils","24","split","line","trim","substr","25","callback","arr","26","FormData","isView","isFunction","pipe","URLSearchParams","obj","Object","hasOwnProperty","assignValue","b","27","Backoff","opts","ms","min","max","factor","jitter","attempts","duration","Math","pow","rand","random","deviation","floor","reset","setMin","setMax","setJitter","28","lookup","len","base64","substring","decode","encoded1","encoded2","encoded3","encoded4","bufferLength","p","29","global","mapArrayBufferViews","ary","chunk","buf","copy","set","byteOffset","BlobBuilderConstructor","options","bb","BlobBuilder","append","getBlob","type","BlobConstructor","Blob","WebKitBlobBuilder","MSBlobBuilder","MozBlobBuilder","blobSupported","size","blobSupportsArrayBufferView","blobBuilderSupported","self","30","define","amd","_dereq_","any","ret","SomePromiseArray","setHowMany","setUnwrap","init","_SomePromiseArray","Async","_customScheduler","_isTickUsed","_lateQueue","Queue","_normalQueue","_haveDrainedQueues","_trampolineEnabled","drainQueues","_drainQueues","_schedule","schedule","AsyncInvokeLater","receiver","arg","_queueTick","AsyncInvoke","AsyncSettlePromises","_pushOne","firstLineError","util","setScheduler","prev","hasCustomScheduler","enableTrampoline","disableTrampolineIfNecessary","hasDevTools","haveItemsQueued","fatalError","isNode","stderr","stack","exit","throwLater","setTimeout","invokeLater","invoke","settlePromises","_settlePromises","_drainQueue","queue","_reset","./queue","./schedule","./util","INTERNAL","tryConvertToPromise","debug","calledBind","rejectThis","_","_reject","targetRejected","promiseRejectionQueued","bindingPromise","_then","bindingResolved","_bitField","_resolveCallback","target","bindingRejected","_propagateFrom","propagateFromFunction","_boundValue","boundValueFunction","maybePromise","_target","_setBoundTo","_setOnCancel","_boundTo","_isBound","noConflict","bluebird","old","./promise","cr","callerCache","getterCache","ensureMethod","methodName","classString","caller","pop","namedGetter","indexedGetter","index","getGetter","canEvaluate","isIdentifier","get","propertyName","getter","isIndex","maybeGetter","PromiseArray","apiRejection","tryCatch","errorObj","async","_async","cancellation","_warn","child","_isCancellable","_cancelBy","_isFollowing","_followee","_cancelBranched","parent","_cancellationParent","_setWillBeCancelled","_branchHasCancelled","_branchesRemainingToCancel","_enoughBranchesHaveCancelled","canceller","_invokeOnCancel","_cancel","_setCancelled","_cancelPromises","_length","_unsetOnCancel","_onCancelField","isPending","_isCancelled","isCancellable","isCancelled","_doInvokeOnCancel","onCancelCallback","internalOnly","_attachExtraTrace","_resultCancelled","_onCancel","_invokeInternalOnCancel","NEXT_FILTER","catchFilter","instances","cb","boundTo","predicateLoop","item","matchesPredicate","keys","getKeys","j","./es5","Context","_trace","CapturedTrace","peekContext","createContext","longStackTraces","lastIndex","contextStack","_promiseCreated","_pushContext","_popContext","_peekContext","trace","deactivateLongStackTraces","activateLongStackTraces","Promise_pushContext","Promise_popContext","Promise_PeekContext","Promise_peekContext","Promise_promiseCreated","ctx","generatePromiseLifecycleEventObject","defaultFireEvent","cancellationExecute","onCancel","_attachCancellationCallback","cancellationAttachCancellationCallback","previousOnCancel","cancellationOnCancel","cancellationSetOnCancel","cancellationClearCancellationData","cancellationPropagateFrom","flags","branchesRemainingToCancel","bindingPropagateFrom","isFulfilled","longStackTracesCaptureStackTrace","longStackTracesAttachExtraTrace","ignoreSelf","canAttachTrace","_parent","attachExtraTrace","__stackCleaned__","parseStackAndMessage","notEnumerableProp","checkForgottenReturns","returnValue","promiseCreated","wForgottenReturn","_returnedNonUndefined","handlerLine","creatorLine","traceLines","cleanStack","nodeFramePattern","lineMatches","parseLinePattern","firstUserLine","msg","deprecated","replacement","warn","shouldUseOwnTrace","warnings","warning","Warning","activeFireEvent","formatAndLogError","reconstructStack","stacks","removeDuplicateOrEmptyJumps","splice","removeCommonRoots","current","currentLastIndex","currentLastLine","commonRootMeetPoint","isTraceLine","stackFramePattern","isInternalFrame","shouldIgnore","indentStackFrames","stackFramesAsArray","title","isSoft","console","formatStack","printWarning","log","fireRejectionEvent","localHandler","localEventFired","formatNonError","ruselessToString","newStr","snip","maxChars","longStackTracesIsSupported","captureStackTrace","parseLineInfo","matches","parseLineInfoRegex","fileName","parseInt","setBounds","lastLineError","firstFileName","lastFileName","firstStackLines","lastStackLines","firstIndex","bluebirdFramePattern","info","_promisesCreated","uncycle","unhandledRejectionHandled","possiblyUnhandledRejection","getDomain","_getDomain","debugging","suppressUnhandledRejections","_ensurePossibleRejectionHandled","_setRejectionIsUnhandled","_notifyUnhandledRejection","_notifyUnhandledRejectionIsHandled","_setReturnedNonUndefined","_isRejectionUnhandled","_settledValue","_setUnhandledRejectionIsNotified","_unsetUnhandledRejectionIsNotified","_isUnhandledRejectionNotified","_unsetRejectionIsUnhandled","onPossiblyUnhandledRejection","domainBind","onUnhandledRejectionHandled","disableLongStackTraces","Promise_captureStackTrace","_captureStackTrace","Promise_attachExtraTrace","hasLongStackTraces","fireDomEvent","CustomEvent","event","dispatchEvent","domEvent","detail","cancelable","Event","createEvent","initCustomEvent","fireGlobalEvent","emit","eventToObjectGenerator","promiseFulfilled","promiseRejected","promiseResolved","promiseCancelled","promiseChained","unhandledRejection","rejectionHandled","globalEventFired","domEventFired","warningsOption","_clearCancellationData","_execute","monitoring","_fireEvent","handler","inherits","nodes","stackToIndex","node","currentStack","cycleEdgeNode","currentChildLength","v8stackFramePattern","v8stackFormatter","stackTraceLimit","ignoreUntil","err","hasStackAfterThrow","isTTY","color","./errors","returner","thrower","thenReturn","thenThrow","catchThrow","_reason","caught","catchReturn","_value","promiseAllThis","PromiseAll","PromiseMapSeries","PromiseReduce","reduce","each","mapSeries","subError","nameProperty","defaultMessage","SubError","constructor","OperationalError","cause","_TypeError","_RangeError","es5","Objectfreeze","freeze","CancellationError","TimeoutError","AggregateError","RangeError","methods","defineProperty","configurable","writable","enumerable","level","indent","lines","errorTypes","RejectionError","isES5","getDescriptor","getOwnPropertyDescriptor","names","getOwnPropertyNames","getPrototypeOf","propertyIsWritable","prop","descriptor","has","proto","ObjectKeys","ObjectGetDescriptor","ObjectDefineProperty","desc","ObjectFreeze","ObjectGetPrototypeOf","ArrayIsArray","PromiseMap","filter","PassThroughHandlerContext","called","cancelPromise","FinallyHandlerCancelReaction","finallyHandler","checkCancel","succeed","fail","reasonOrValue","isFinallyHandler","isRejected","_passThrough","success","lastly","tap","tapCatch","handlerOrPredicate","catchInstances","./catch_filter","Proxyable","promiseFromYieldHandler","yieldHandlers","traceParent","PromiseSpawn","generatorFunction","yieldHandler","internal","_finallyPromise","_promise","_stack","_generatorFunction","_receiver","_generator","_yieldHandlers","concat","_yieldedPromise","_cancellationPhase","errors","_isResolved","_cleanup","_fulfill","_promiseCancelled","implementsReturn","coroutine","returnSentinel","_continue","_promiseFulfilled","next","_promiseRejected","_run","_rejectCallback","done","bitField","_proxy","PromiseSpawn$","generator","spawn","addYieldHandler","last","MappingPromiseArray","limit","_filter","constructor$","_callback","_preservedValues","_limit","_inFlight","_queue","_asyncInit","concurrency","isFinite","_init$","_init","values","_values","preservedValues","totalResolved","_totalResolved","_resolve","booleans","_resolveFromSyncValue","attempt","isUntypedError","wrapAsOperationalError","rErrorKey","markAsOriginatingFromRejection","nodebackForPromise","multiArgs","wrapped","maybeWrapAsError","spreadAdapter","nodeback","successAdapter","errorAdapter","newReason","asCallback","nodeify","check","_fulfillmentHandler0","_rejectionHandler0","_promise0","_receiver0","_resolveFromExecutor","deferResolve","deferReject","fillTypes","makeSelfResolutionError","reflectHandler","PromiseInspection","UNDEFINED_BINDING","APPLY","reflect","didFulfill","didReject","_setIsFinal","toJSON","fulfillmentValue","rejectionReason","originatesFromRejection","getNewLibraryCopy","is","fromNode","fromCallback","_isFateSealed","_setAsyncGuaranteed","cast","_setFulfilled","internalData","haveInternalData","settler","_settlePromiseCtx","_settlePromiseLateCancellationObserver","_addCallbacks","_setLength","_setRejected","_setFollowing","_isFinal","_unsetCancelled","_receiverAt","_promiseAt","_fulfillmentHandlerAt","_rejectionHandlerAt","_migrateCallback0","follower","fulfill","_migrateCallbackAt","base","proxyable","shouldBind","_setFollowee","synchronous","ignoreNonErrorWarnings","ensureErrorObject","hasStack","_settlePromiseFromHandler","x","_settlePromise","isPromise","asyncGuaranteed","_settlePromise0","_clearCallbackDataAtIndex","_fulfillPromises","_rejectPromises","defer","pending","version","toFastProperties","./any.js","./async","./bind","./call_get.js","./cancel","./context","./debuggability","./direct_resolve","./each.js","./filter.js","./finally","./generators.js","./join","./map.js","./method","./nodeback","./nodeify.js","./promise_array","./promisify.js","./props.js","./race.js","./reduce.js","./settle.js","./some.js","./synchronous_inspection","./thenables","./timers.js","./using.js","toResolutionValue","Map","resolveValueIfEmpty","asArray","_resolveEmptyArray","_iterate","getActualLength","shouldCopyValues","isResolved","propsFilter","noCopyPropsPattern","isPromisified","__isPromisified__","hasPromisified","suffix","getDataPropertyOrDefault","defaultPromisified","checkValid","suffixRegexp","keyWithoutAsyncSuffix","promisifiableMethods","inheritedDataKeys","passesDefaultFilter","defaultFilter","makeNodePromisifiedClosure","__","promisified","THIS","defaultThis","withAppended","promisifyAll","promisifier","escapeIdentRegex","promisifiedKey","makeNodePromisified","promisify","makeNodePromisifiedEval","defaultSuffix","noCopyProps","copyDescriptors","isClass","PropertiesPromiseArray","entries","isMap","Es6Map","mapToEntries","_isMap","props","castValue","extractEntry","entriesToMap","keyOffset","arrayMove","src","srcIndex","dst","dstIndex","capacity","_capacity","_front","_willBeOverCapacity","_checkCapacity","wrapMask","front","_resizeTo","oldCapacity","moveItemsCount","race","raceLater","array","ReductionPromiseArray","initialValue","_each","_fn","_initialValue","_currentCancellable","_eachValues","completed","valueOrReason","gotAccum","accum","_gotAccum","gotValue","_eachComplete","sender","_resultCancelled$","noAsyncScheduler","NativePromise","getNativePromise","MutationObserver","GlobalSetImmediate","setImmediate","ProcessNextTick","nextTick","isRecentNode","nativePromise","standalone","cordova","div","attributes","toggleScheduled","div2","o2","classList","toggle","observe","scheduleToggle","disconnect","SettledPromiseArray","_promiseResolved","inspection","_settledValueField","31","_howMany","_unwrap","_initialized","some","howMany","CANCELLATION","isArrayResolved","_canPossiblyFulfill","_getRangeError","count","_addFulfilled","_fulfilled","_addRejected","_checkOutcome","_rejected","32","__isCancelled","33","getThen","isAnyBluebirdPromise","doThenable","doGetThen","hasProp","34","HandleWrapper","handle","successClear","clearTimeout","failureClear","afterValue","delay","afterTimeout","handleWrapper","35","castPreservingDisposable","thenable","_isDisposable","_getDisposer","_setDisposable","dispose","resources","iterator","tryDispose","Disposer","_data","_context","FunctionDisposer","maybeUnwrapDisposer","isDisposer","ResourceList","NULL","resource","doDispose","_unsetDisposable","d","using","spreadArgs","disposer","reflectedResources","resultPromise","inspections","_disposer","36","tryCatcher","tryCatchTarget","isPrimitive","maybeError","safeToString","appendee","defaultValue","hasMethods","hasMethodsOtherThanConstructor","hasThisAssignmentAndStaticMethods","thisAssignmentPattern","FakeConstructor","rident","filledRange","prefix","isError","ignore","from","to","hasEnvVariables","globalObject","Child","Parent","T","excludedPrototypes","Function","isExcludedProto","visitedKeys","enumeration","Symbol","ArrayFrom","itResult","it","chrome","loadTimes","versions","Number","P","Emitter","mixin","on","_callbacks","once","off","removeListener","removeAllListeners","removeEventListener","callbacks","listeners","hasListeners","./lib/index","parser","./socket","engine.io-parser","37","Socket","uri","parseuri","query","agent","parseqs","upgrade","forceJSONP","jsonp","forceBase64","enablesXDR","timestampParam","timestampRequests","transports","writeBuffer","prevBufferLen","policyPort","rememberUpgrade","binaryType","onlyBinaryUpgrades","perMessageDeflate","threshold","pfx","passphrase","cert","ca","ciphers","rejectUnauthorized","forceNode","freeGlobal","extraHeaders","localAddress","upgrades","pingInterval","pingTimeout","pingIntervalTimer","pingTimeoutTimer","clone","parsejson","priorWebsocketSuccess","Transport","createTransport","EIO","transport","sid","socket","setTransport","onDrain","packet","onPacket","onError","onClose","probe","onTransportOpen","upgradeLosesBinary","supportsBinary","failed","upgrading","pause","cleanup","flush","freezeTransport","close","onTransportClose","onclose","onupgrade","onOpen","onHandshake","setPing","filterUpgrades","onHeartbeat","ping","sendPacket","compress","cleanupAndClose","waitForUpgrade","filteredUpgrades","./transport","./transports/index","component-emitter","indexof","38","description","doOpen","doClose","packets","onData","decodePacket","39","polling","xhr","xd","xs","isSSL","xdomain","xscheme","XHR","JSONP","websocket","./polling-jsonp","./polling-xhr","./websocket","xmlhttprequest-ssl","40","empty","JSONPPolling","Polling","___eio","script","inherit","rNewline","rEscapedNewline","parentNode","removeChild","form","iframe","doPoll","insertAt","getElementsByTagName","insertBefore","head","body","appendChild","isUAgecko","doWrite","complete","initIframe","html","iframeId","area","className","style","position","top","left","action","submit","attachEvent","onreadystatechange","onload","./polling","component-inherit","41","requestTimeout","Request","isBinary","unloadHandler","requests","req","sendXhr","pollXhr","setDisableHeaderCheck","hasXDR","onLoad","requestsCount","onSuccess","fromError","contentType","getResponseHeader","fromCharCode","ui8Arr","dataArray","42","hasXHR2","yeast","poll","onPause","total","decodePayload","callbackfn","encodePayload","schema","b64","ipv6","../transport","43","WS","usingBrowserWebSocket","BrowserWebSocket","WebSocket","NodeWebSocket","MozWebSocket","protocols","ws","supports","binary","addEventListeners","onopen","onmessage","ev","encodePacket","Buffer","44","hasCORS","has-cors","45","after","err_cb","proxy","bail","noop","46","useColors","documentElement","firebug","exception","table","$1","formatArgs","namespace","humanize","diff","lastC","save","namespaces","storage","removeItem","load","DEBUG","localstorage","localStorage","local","colors","formatters","enable","./debug","47","selectColor","prevColor","disabled","enabled","curr","prevTime","coerce","format","formatter","logFn","skips","disable","48","encodeBase64Object","encodeArrayBuffer","encodeBase64Packet","contentArray","resultBuffer","encodeBlobAsArrayBuffer","fr","FileReader","readAsArrayBuffer","encodeBlob","dontSendBlobs","blob","tryDecode","utf8","eachWithIndex","el","base64encoder","hasBinary","sliceBuffer","isAndroid","isPhantomJS","pong","packetslist","utf8encode","encoded","readAsDataURL","b64data","typed","basic","utf8decode","decodeBase64Packet","rest","setLengthHeader","encodeOne","doneCallback","encodePayloadAsBlob","encodePayloadAsArrayBuffer","results","decodePayloadAsBinary","chr","encodedPackets","totalLength","acc","resultArray","bufferIndex","ab","view","lenStr","binaryIdentifier","lengthAry","bufferTail","buffers","numberTooLong","tailArray","msgLength","./keys","arraybuffer.slice","base64-arraybuffer","has-binary","wtf-8","49","50","exportName","setTimeoutContext","bindFn","invokeArrayArg","deprecate","deprecationMessage","properties","childP","baseP","_super","assign","boolOrFn","TYPE_FUNCTION","ifUndefined","val1","val2","types","splitStr","removeEventListeners","hasParent","inStr","find","inArray","findByKey","toArray","uniqueArray","sort","prefixed","property","camelProp","VENDOR_PREFIXES","uniqueId","_uniqueId","getWindowForElement","element","doc","ownerDocument","defaultView","parentWindow","Input","manager","inputTarget","domHandler","createInputInstance","Type","inputClass","SUPPORT_POINTER_EVENTS","PointerEventInput","SUPPORT_ONLY_TOUCH","TouchInput","SUPPORT_TOUCH","TouchMouseInput","MouseInput","inputHandler","eventType","pointersLen","pointers","changedPointersLen","changedPointers","isFirst","INPUT_START","isFinal","INPUT_END","INPUT_CANCEL","session","computeInputData","recognize","prevInput","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","center","getCenter","timeStamp","deltaTime","angle","getAngle","distance","getDistance","computeDeltaXY","offsetDirection","getDirection","deltaX","deltaY","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","y","abs","scale","getScale","rotation","getRotation","maxPointers","computeIntervalInputData","srcEvent","offset","offsetDelta","prevDelta","velocity","velocityX","velocityY","direction","lastInterval","COMPUTE_INTERVAL","clientX","round","clientY","DIRECTION_NONE","DIRECTION_LEFT","DIRECTION_RIGHT","DIRECTION_UP","DIRECTION_DOWN","p1","p2","PROPS_XY","sqrt","atan2","PI","PROPS_CLIENT_XY","evEl","MOUSE_ELEMENT_EVENTS","evWin","MOUSE_WINDOW_EVENTS","pressed","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","store","pointerEvents","SingleTouchInput","evTarget","SINGLE_TOUCH_TARGET_EVENTS","SINGLE_TOUCH_WINDOW_EVENTS","started","normalizeSingleTouches","touches","changed","changedTouches","TOUCH_TARGET_EVENTS","targetIds","getTouches","allTouches","INPUT_MOVE","identifier","targetTouches","changedTargetTouches","touch","mouse","primaryTouch","lastTouches","recordTouches","eventData","setLastTouch","lastTouch","lts","removeLastTouch","DEDUP_TIMEOUT","isSyntheticEvent","dx","dy","DEDUP_DISTANCE","TouchAction","cleanTouchActions","actions","TOUCH_ACTION_NONE","hasPanX","TOUCH_ACTION_PAN_X","hasPanY","TOUCH_ACTION_PAN_Y","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_AUTO","getTouchActionProps","NATIVE_TOUCH_ACTION","touchMap","cssSupports","CSS","Recognizer","state","STATE_POSSIBLE","simultaneous","requireFail","stateStr","STATE_CANCELLED","STATE_ENDED","STATE_CHANGED","STATE_BEGAN","directionStr","getRecognizerByNameIfManager","otherRecognizer","recognizer","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","Hammer","recognizers","preset","Manager","oldCssProps","touchAction","toggleCssProps","add","recognizeWith","requireFailure","cssProps","triggerDomEvent","gestureEvent","initEvent","gesture","TEST_ELEMENT","nextKey","dest","MOBILE_REGEX","INPUT_TYPE_TOUCH","INPUT_TYPE_PEN","INPUT_TYPE_MOUSE","INPUT_TYPE_KINECT","DIRECTION_HORIZONTAL","DIRECTION_VERTICAL","DIRECTION_ALL","destroy","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","button","which","pointerType","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","MSPointerEvent","PointerEvent","removePointer","eventTypeNormalized","isTouch","storeIndex","pointerId","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","TOUCH_INPUT_MAP","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","PREFIXED_TOUCH_ACTION","TOUCH_ACTION_COMPUTE","TOUCH_ACTION_MAP","compute","update","getTouchAction","preventDefaults","prevented","preventDefault","hasNone","isTapPointer","isTapMovement","isTapTouchTime","preventSrc","STATE_RECOGNIZED","STATE_FAILED","dropRecognizeWith","dropRequireFailure","hasRequireFailures","canRecognizeWith","additionalEvent","tryEmit","canEmit","inputDataClone","attrTest","optionPointers","isRecognized","isValid","directionTest","hasMoved","inOut","time","validPointers","validMovement","validTime","taps","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","VERSION","domEvents","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","STOP","FORCED_STOP","stop","force","stopped","curRecognizer","existing","events","Tap","Pan","Swipe","Pinch","Rotate","Press","51","_hasBinary","isBuffer","File","isarray","52","53","54","HowlerGlobal","Howler","_codecs","_howls","_muted","_volume","_canPlayEvent","_navigator","masterGain","noAudio","usingWebAudio","autoSuspend","mobileAutoEnable","_setup","volume","vol","parseFloat","setupAudioContext","gain","_webAudio","ids","_getSoundIds","sound","_soundById","_node","mute","muted","unload","codecs","ext","_autoSuspend","Audio","oncanplaythrough","_setupCodecs","audioTest","canPlayType","mpegTest","checkOpera","isOldOpera","mp3","mpeg","opus","ogg","oga","wav","aac","caf","m4a","mp4","weba","webm","dolby","flac","_enableMobileAudio","isMobile","maxTouchPoints","msMaxTouchPoints","_mobileEnabled","_mobileUnloaded","sampleRate","_scratchBuffer","createBuffer","unlock","createBufferSource","connect","destination","noteOn","onended","suspend","_sounds","_paused","_suspendTimer","_resumeAfterSuspend","_autoResume","resume","_emit","Howl","_autoplay","autoplay","_format","_html5","html5","_loop","loop","_pool","pool","_preload","preload","_rate","rate","_sprite","sprite","_src","_duration","_state","_endTimers","_onend","onend","_onfade","onfade","_onload","_onloaderror","onloaderror","_onpause","onpause","_onplay","onplay","_onstop","onstop","_onmute","onmute","_onvolume","onvolume","_onrate","onrate","_onseek","onseek","_onresume","play","exec","Sound","loadBuffer","num","_ended","_id","_inactiveSound","seek","_seek","_start","_stop","playWebAudio","_refreshBuffer","setValueAtTime","currentTime","_playStart","bufferSource","noteGrainOn","Infinity","isRunning","_clearTimer","playHtml5","playbackRate","loadedNoReadyState","ejecta","isCocoonJS","listener","_rateSeek","_stopFade","noteOff","_cleanBuffer","isNaN","fade","dir","steps","stepLen","ceil","linearRampToValueAtTime","_interval","setInterval","soundId","clearInterval","cancelScheduledValues","loopStart","loopEnd","realTime","playing","rateSeek","sounds","_errorFn","_loadFn","remCache","cache","_loadQueue","task","_drain","cnt","_panner","howl","createGain","createGainNode","paused","_errorListener","_loadListener","__default","loadSound","atob","dataView","decodeAudioData","safeXhrSend","AudioContext","webkitAudioContext","iOS","platform","appVersion","safari","_pos","_orientation","stereo","pan","pos","z","setPosition","orientation","xUp","yUp","zUp","or","setOrientation","_stereo","_pannerAttr","coneInnerAngle","coneOuterAngle","coneOuterGain","distanceModel","maxDistance","panningModel","refDistance","rolloffFactor","_onstereo","onstereo","_onpos","onpos","_onorientation","onorientation","pannerType","createStereoPanner","setupPanner","pannerAttr","_coneInnerAngle","_coneOuterAngle","_coneOuterGain","_distanceModel","_maxDistance","_panningModel","_refDistance","_rolloffFactor","pa","panner","createPanner","55","56","runInContext","undef","isSupported","serialized","stringifySupported","isExtended","getClass","parseSupported","root","SyntaxError","nativeJSON","isProperty","objectProto","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","functionClass","dateClass","numberClass","stringClass","arrayClass","booleanClass","charIndexBuggy","Months","getDay","year","month","members","__proto__","original","object","Properties","valueOf","isConstructor","hasProperty","objectTypes","Escapes","92","leadingZeroes","toPaddedString","width","unicodePrefix","quote","useCharIndex","symbols","serialize","whitespace","indentation","date","hours","minutes","seconds","milliseconds","Index","Source","Unescapes","98","116","110","102","114","lex","begin","isSigned","hasMembers","walk","isLoader","function","freeExports","nodeType","previousJSON","isRestored","JSON3","57","m","fmtShort","fmtLong","plural","long","58","rvalidchars","rvalidescape","rvalidtokens","rvalidbraces","rtrimLeft","rtrimRight","59","qs","qry","pairs","pair","60","re","authority","ipv6uri","61","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","runClearTimeout","marker","cachedClearTimeout","cleanUpNextTick","draining","currentQueue","queueIndex","drainQueue","run","Item","browser","argv","addListener","binding","cwd","chdir","umask","62","percentTwenties","RFC1738","RFC3986","63","formats","./formats","./parse","./stringify","64","allowDots","allowPrototypes","arrayLimit","decoder","delimiter","depth","parameterLimit","plainObjects","strictNullHandling","parseValues","part","parseObject","cleanRoot","parseArrays","parseKeys","givenKey","segment","isRegExp","tempObj","newObj","compact","65","arrayPrefixGenerators","brackets","indices","repeat","toISO","encoder","serializeDate","skipNulls","generateArrayPrefix","objKeys","arrayFormat","66","hexTable","arrayToObject","mergeTarget","string","out","references","refs","compacted","67","io","sameNamespace","nsps","newConnection","forceNew","multiplex","encodeQueryString","managers","./manager","./url","socket.io-parser","68","subs","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","connecting","lastPing","encoding","packetBuffer","Encoder","Decoder","autoConnect","eio","emitAll","nsp","updateSocketIds","engine","_reconnection","_reconnectionAttempts","_reconnectionDelay","_randomizationFactor","_reconnectionDelayMax","_timeout","maybeReconnectOnOpen","reconnecting","reconnect","skipReconnect","openSub","errorSub","timer","onping","onpong","ondata","ondecoded","onConnecting","processPacketQueue","pack","subsLength","sub","onreconnect","./on","backo2","component-bind","engine.io-client","69","70","json","acks","receiveBuffer","sendBuffer","connected","disconnected","hasBin","connect_error","connect_timeout","reconnect_attempt","reconnect_failed","reconnect_error","subEvents","parserType","EVENT","BINARY_EVENT","CONNECT","onpacket","onconnect","onevent","ACK","onack","BINARY_ACK","DISCONNECT","ondisconnect","ERROR","ack","sent","emitBuffered","to-array","71","loc","72","dup","73","74","isBuf","deconstructPacket","_deconstructPacket","placeholder","_placeholder","newData","packetData","attachments","reconstructPacket","_reconstructPacket","removeBlobs","_removeBlobs","curKey","containingObject","pendingBlobs","fileReader","bloblessData","./is-buffer","75","encodeAsString","encodeAsBinary","writeEncoding","deconstruction","reconstructor","decodeString","tryParse","BinaryReconstructor","reconPack","takeBinaryData","finishedReconstruction","binData","./binary","json3","76","77","78","79","80","81","short","82","throttle","func","wait","timeoutID","rtn","delta","83","list","84","bytesToUuid","bth","byteToHex","85","rng","crypto","msCrypto","getRandomValues","rnds8","rnds","86","v1","clockseq","_clockseq","msecs","getTime","nsecs","_lastNSecs","dt","_lastMSecs","tl","tmh","_nodeId","_seedBytes","./lib/bytesToUuid","./lib/rng","87","_interopRequireDefault","__esModule","_toDate","_toDate2","_toFloat","_toFloat2","_toInt","_toInt2","_toBoolean","_toBoolean2","_equals","_equals2","_contains","_contains2","_matches","_matches2","_isEmail","_isEmail2","_isURL","_isURL2","_isMACAddress","_isMACAddress2","_isIP","_isIP2","_isFQDN","_isFQDN2","_isBoolean","_isBoolean2","_isAlpha","_isAlpha2","_isAlphanumeric","_isAlphanumeric2","_isNumeric","_isNumeric2","_isLowercase","_isLowercase2","_isUppercase","_isUppercase2","_isAscii","_isAscii2","_isFullWidth","_isFullWidth2","_isHalfWidth","_isHalfWidth2","_isVariableWidth","_isVariableWidth2","_isMultibyte","_isMultibyte2","_isSurrogatePair","_isSurrogatePair2","_isInt","_isInt2","_isFloat","_isFloat2","_isDecimal","_isDecimal2","_isHexadecimal","_isHexadecimal2","_isDivisibleBy","_isDivisibleBy2","_isHexColor","_isHexColor2","_isMD","_isMD2","_isJSON","_isJSON2","_isEmpty","_isEmpty2","_isLength","_isLength2","_isByteLength","_isByteLength2","_isUUID","_isUUID2","_isMongoId","_isMongoId2","_isAfter","_isAfter2","_isBefore","_isBefore2","_isIn","_isIn2","_isCreditCard","_isCreditCard2","_isISIN","_isISIN2","_isISBN","_isISBN2","_isISSN","_isISSN2","_isMobilePhone","_isMobilePhone2","_isCurrency","_isCurrency2","_isISO","_isISO2","_isBase","_isBase2","_isDataURI","_isDataURI2","_ltrim","_ltrim2","_rtrim","_rtrim2","_trim","_trim2","_escape","_escape2","_unescape","_unescape2","_stripLow","_stripLow2","_whitelist","_whitelist2","_blacklist","_blacklist2","_isWhitelisted","_isWhitelisted2","_normalizeEmail","_normalizeEmail2","_toString","_toString2","validator","toDate","toFloat","toInt","toBoolean","equals","contains","isEmail","isURL","isMACAddress","isIP","isFQDN","isBoolean","isAlpha","isAlphanumeric","isNumeric","isLowercase","isUppercase","isAscii","isFullWidth","isHalfWidth","isVariableWidth","isMultibyte","isSurrogatePair","isInt","isFloat","isDecimal","isHexadecimal","isDivisibleBy","isHexColor","isMD5","isJSON","isEmpty","isLength","isByteLength","isUUID","isMongoId","isAfter","isBefore","isIn","isCreditCard","isISIN","isISBN","isISSN","isMobilePhone","isCurrency","isISO8601","isBase64","isDataURI","ltrim","rtrim","escape","unescape","stripLow","whitelist","blacklist","isWhitelisted","normalizeEmail","./lib/blacklist","./lib/contains","./lib/equals","./lib/escape","./lib/isAfter","./lib/isAlpha","./lib/isAlphanumeric","./lib/isAscii","./lib/isBase64","./lib/isBefore","./lib/isBoolean","./lib/isByteLength","./lib/isCreditCard","./lib/isCurrency","./lib/isDataURI","./lib/isDecimal","./lib/isDivisibleBy","./lib/isEmail","./lib/isEmpty","./lib/isFQDN","./lib/isFloat","./lib/isFullWidth","./lib/isHalfWidth","./lib/isHexColor","./lib/isHexadecimal","./lib/isIP","./lib/isISBN","./lib/isISIN","./lib/isISO8601","./lib/isISSN","./lib/isIn","./lib/isInt","./lib/isJSON","./lib/isLength","./lib/isLowercase","./lib/isMACAddress","./lib/isMD5","./lib/isMobilePhone","./lib/isMongoId","./lib/isMultibyte","./lib/isNumeric","./lib/isSurrogatePair","./lib/isURL","./lib/isUUID","./lib/isUppercase","./lib/isVariableWidth","./lib/isWhitelisted","./lib/ltrim","./lib/matches","./lib/normalizeEmail","./lib/rtrim","./lib/stripLow","./lib/toBoolean","./lib/toDate","./lib/toFloat","./lib/toInt","./lib/trim","./lib/unescape","./lib/util/toString","./lib/whitelist","88","locale","alpha","en-US","cs-CZ","da-DK","de-DE","es-ES","fr-FR","nl-NL","hu-HU","pl-PL","pt-PT","ru-RU","sr-RS@latin","sr-RS","tr-TR","uk-UA","ar","alphanumeric","englishLocales","_locale","arabicLocales","_i","89","_assertString2","_assertString","./util/assertString","90","elem","./util/toString","91","comparison","93","./toDate","94","_alpha","./alpha","95","96","ascii","97","notBase64","firstPaddingChar","99","100","_typeof","encodeURI","101","sanitized","creditCard","sum","digit","tmpNum","shouldDouble","currencyRegex","symbol","require_symbol","negative","whole_dollar_amount_without_sep","whole_dollar_amount_with_sep","thousands_separator","valid_whole_dollar_amounts","whole_dollar_amount","decimal_amount","decimal_separator","pattern","allow_negatives","parens_for_negatives","negative_sign_after_digits","negative_sign_before_digits","allow_negative_sign_placeholder","allow_space_after_symbol","allow_space_after_digits","symbol_after_digits","_merge2","default_currency_options","_merge","./util/merge","103","dataURI","104","decimal","105","./toFloat","106","default_email_options","require_display_name","allow_display_name","display_email","displayName","user","lower_domain","require_tld","allow_utf8_local_part","quotedEmailUserUtf8","quotedEmailUser","emailUserUtf8Part","emailUserPart","user_parts","./isByteLength","./isFQDN","107","108","isFDQN","default_fqdn_options","allow_trailing_dot","tld","allow_underscores","109","float","lt","gt","fullWidth","111","halfWidth","112","hexcolor","113","hexadecimal","ipv4Maybe","blocks","foundOmissionBlock","foundIPv4TransitionBlock","expectedNumberOfBlocks","ipv6Block","115","checksum","isbn10Maybe","isbn13Maybe","isin","checksumStr","character","117","iso8601","118","testIssn","issn","require_hyphen","case_sensitive","issnDigits","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","digitValue","return","119","120","regex","allow_leading_zeroes","int","intLeadingZeroes","minCheckPassed","maxCheckPassed","ltCheckPassed","gtCheckPassed","121","122","surrogatePairs","123","124","macAddress","125","md5","126","phones","ar-DZ","ar-SY","ar-SA","el-GR","en-AU","en-GB","en-HK","en-IN","en-NG","en-NZ","en-ZA","en-ZM","fi-FI","he-IL","it-IT","ja-JP","ms-MY","nb-NO","nl-BE","nn-NO","pt-BR","ro-RO","en-PK","vi-VN","zh-CN","zh-TW","127","./isHexadecimal","128","multibyte","129","numeric","130","surrogatePair","131","checkHost","default_url_options","port_str","require_valid_protocol","require_protocol","allow_protocol_relative_urls","require_host","ipv6_match","wrapped_ipv6","host_whitelist","host_blacklist","./isIP","132","uuid","133","134","./isFullWidth","./isHalfWidth","135","136","137","modifiers","138","email","default_normalize_email_options","raw_parts","gmail_remove_subaddress","gmail_remove_dots","all_lowercase","gmail_lowercase","gmail_convert_googlemaildotcom","icloud_domains","icloud_remove_subaddress","icloud_lowercase","outlookdotcom_domains","outlookdotcom_remove_subaddress","outlookdotcom_lowercase","yahoo_domains","yahoo_remove_subaddress","components","yahoo_lowercase","./isEmail","139","140","keep_new_lines","./blacklist","141","strict","142","143","144","radix","145","./ltrim","./rtrim","146","147","assertString","148","149","150","151","ucs2decode","extra","counter","ucs2encode","stringFromCharCode","createByte","codePoint","encodeCodePoint","wtf8encode","codePoints","byteString","readContinuationByte","byteIndex","byteCount","continuationByte","byteArray","decodeSymbol","byte1","byte2","byte3","byte4","wtf8decode","tmp","freeModule","wtf8","152","alphabet","decoded","seed","153","asyncAnimateScale","totalDuration","animating","goToEnd","animate","settings","easing","asyncPlayShapeAnimation","shapeId","paper","project","getItem","group","children","_namedChildren","measureLength","animationPromises","transparent","catch","./color","./sound","154","getPathColorName","hexColor","originalColor","getColorName","palette","colorNames","getRandomPop","randomPick","pops","getRandomColor","getIndexedPopColor","getCurrentColor","$","getCurrentColorName","Color","./config","155","runAnimations","canvasId","maxShapes","postKey","minWidth","minHeight","#20171C","#1E2A43","#28377D","#352747","#CA2E26","#9A2A1F","#DA6C26","#453121","#916A47","#DAAD27","#7F7D31","#2B5E2E","gradients","colorSize","selectedColorSize","contextualTuts","156","factory","ShapeDetector","deg2Rad","Stroke","points","processStroke","patterns","_nbSamplePoints","nbSamplePoints","learn","_squareSize","_phi","_angleRange","_anglePrecision","_halfDiagonal","_origin","resample","setCentroid","rotateBy","indicativeAngle","scaleToSquare","translateToOrigin","localDistance","q","strokeLength","newPoints","point","cos","sin","box","minX","maxX","minY","maxY","height","distanceAtBestAngle","x1","f1","distanceAtAngle","x2","f2","strokePoints","patternPoints","defaultShapes","spot","patternName","score","stroke","bestDistance","bestPattern","bestScore","157","resetWindow","clientId","kan","composition","compositionInterval","compositionTimeout","soundTimeouts","lastEvent","interaction","moves","pinching","pinchedGroup","pinchedTut","pathData","shapePath","prevAngle","sides","side","corners","lastScale","lastRotation","originalPosition","tutorialCompletion","fill","pinch","inactivityTimeout","playPromptTimeout","sharePromptTimeout","userHasDrawnFirstShape","firstTimePlaying","shapesSinceTut","refreshCheckInterval","sha","scheduledOverlay","continueCountdownInterval","shapeSounds","hasClass","resizeCanvasTimeout","stopTimeouts","ui","overlays","timing","shape","setSha","setUuid","reload","onresize","verifyBrowserWidth","fixCanvasSize","browserWidthCheckDelay","./overlays","./shape","./timing","./touch","./ui","./video","throttleit","158","openOverlay","overlayName","$body","allOverlays","includes","panning","preventInactivityTimeout","closeAndResetOverlays","tutorial","hideContextualTuts","addClass","overlayActiveClass","tapEvent","openIntroOverlay","anyShapesOnCanvas","openPlayPromptOverlay","playPromptDelay","openSharePromptOverlay","openContinueOverlay","openTipsOverlay","openShareOverlay","openSharePrepareOverlay","openShareConfirmationOverlay","openWindowTooSmallOverlay","resetContinueCountdown","continueInactivityDelay","$countdownNumWrap","video","enterTutorialMode","selectRandomColorFromPalette","activateTipsCards","cardNavNext","$old","$new","$cardItems","first","$next","$third","slide","removeClass","updateCardCounter","cardsCount","cardInteractions","timeOfLastInteraction","closest","resetTips","$sharePhone","overlayOpenClasses","$sharePhoneWrap","invalidPhoneNumberClass","asyncCloseOverlaysAfterDuration","closeOverlayTimeout","$footer","asyncWaitForWellFormedPhoneNumber","s3Id","$shareKeypad","$shareSend","phoneNumWithHyphens","text","phoneNumRaw","phone","phoneNumberInputs","mask","phoneNumber","masked","randomCardGraphics","numBg","attr","initTips","initShare","hammerCanvas","$cardsWrap","overlay","./tutorial","159","initKeepaliveShape","keepaliveShape","Path","Rectangle","strokeColor","visible","startKeepaliveAnimation","keepaliveInterval","stopKeepaliveAnimation","destroyGroupPops","groupPopsBefore","getGroupPops","fillInGroupPopsById","groupId","groupChild","toggleFill","interior","fillColor","cleanUpGroup","acceptableNames","updatePops","freshGroups","getFreshGroups","popCandidates","getPopCandidates","getAllPops","reverse","freshGroup","freshOuter","bringToFront","otherGroup","otherGroupOuter","thisPop","intersect","popColor","popGroup","intersectingGroup","closed","addChild","fresh","getOutlineGroup","truedShape","outerPath","middlePath","sizes","lastAngle","firstTop","firstBottom","lastTop","lastBottom","Group","firstSegment","cumSize","avgSize","getPointAt","normal","getNormalAt","Point","bottom","insert","centerTop","centerBottom","flatten","simplify","selected","returnGroup","getTruedShape","pathClone","completedPath","getCompletedPath","truedPath","strokeWidth","intersections","getIntersections","trimmedPath","getTrimmedPath","extendedPath","getExtendedPath","_intersections","_trimmedPath","replaceWith","getBruteExtendedPath","_intersections2","_trimmedPath2","getShapePrediction","prediction","shapeJSON","exportJSON","shapeData","processShapeData","shapePrediction","detector","closedShapes","intersects","getIntegerPoint","stringifyPoint","parsePoint","pointStr","getClosestPointFromPathData","leastDistance","closestPoint","Base","datum","returnShape","jsonObj","segments","positionInfo","findInteriorCurves","interiorCurves","dividedPath","resolveCrossings","enclosedLoop","_enclosedLoop","thresholdDist","thresholdDistMultiplier","nextSegment","startAngle","inverseStartAngle","extendedStartPoint","lastSegment","penSegment","previous","endAngle","extendedEndPoint","firstPoint","lastPoint","unite","crossings","maxArea","maxChild","intersection","intersectionPoint","pathCrossings","subtract","_ret2","closedChildren","childClone","accumulator","_j","newPath","copyContent","copyAttributes","hitTestGroupBounds","groups","getVisibleGroups","hitTestBounds","strokeBounds","isInside","cornerThresholdDeg","shapeNames","./lib/shape-detector","160","asyncStopAudioRecordingAndExportBlob","recorder","exportWAV","asyncStopVideoRecordingAndExportBlob","stopRecording","asyncRecord","audioRecorder","Recorder","workerPath","canvasRecorder","RecordRTC","drawCanvas","startRecording","record","asyncPlayCompositionOnce","_slicedToArray","audioBlob","videoBlob","formData","post","resp","finally","asyncAddCompositionToDb","queryString","asyncAddDesktopCompositionToDb","asyncWaitForDesktopCompositionToFinishProcessing","handleSharePressed","ga","handleGallerySharePressed","handleDesktopSharePressed","enterShareMode","exitShareMode","showDesktopSharePrepNotice","clearTimeouts","sliceIterator","_arr","_n","_d","_e","_s","getElementById","161","socket.io-client","162","asyncInitShapeSounds","reinitShapeSounds","getShapeSoundObj","viewWidth","viewSize","initShapeSounds","colorName","quantizedSoundStartTime","quantizeLength","bounds","compositionLength","quantizedSoundDuration","soundObj","startTime","pathId","spriteName","startPlaying","playEnabledClass","playingClass","startComposition","stopPlaying","stopComposition","asyncGetShapeSoundFromShapeName","shapeName","shapeSoundJSONPath","getJSON","shapeSoundData","formatShapeSoundData","when","returnSounds","returnData","urls","smallestDuration","bpm","returnDuration","quantizePosition","smallestInterval","measures","returnPosition","asyncPlayShape","shapeSoundObj","asyncPlayShapeSound","animation","res","removeShapeFromComposition","shapeGroup","getItems","_ret","clearSoundTimeouts","soundTimeout","playCompositionFirstTime","trimmedCompositionObj","getTrimmedCompositionObj","iterations","repeatComposition","playCompositionOnce","asyncPlayCompositionMultipleTimes","repeats","promisedRepeats","shapePromises","asyncPlayShapeWithDelay","endTime","playTime","trimmedComposition","getCompositionStartTime","modifiedSound","shallowCopy","beatLength","./animation","howler","163","pauseVideo","exitTutorialMode","drawInactivityDelay","inputDelay","refreshCheckDelay","overlayDelay","164","hammerTips","tipsOverlay","doubleTap","panStart","panMove","panEnd","pinchStart","pinchMove","pinchEnd","enableAllEvents","enableTapEvents","enablePanAndPinchEvents","disableAllEvents","enablePanEvents","enablePinchEvents","disableTapEvents","disablePanEvents","disablePinchEvents","pointer","getNormalizedEventCenter","hitResult","hitTest","hitOptions","eventTargetIsOnCanvas","hideContextualTutByName","currentColor","stopPropagation","strokeCap","maxShapeLength","angleDelta","prevPoint","halfPointX","halfPointY","halfPoint","topX","topY","bottomX","bottomY","smooth","speed","tooLong","draw","move","minShapeSize","visibleGroups","firstGroup","removedGroup","shapeSize","centerPoint","rad","gradientSize","originX","originY","destinationX","destinationY","origin","gradient","stops","outlineGroup","outline","outer","outlineCenter","middle","sendToBack","shapeMask","enclosedLoops","shadowColor","shadowBlur","unditherButtonsByName","scaleFactor","allTutsCompleted","tutName","shapeLimit","addContextualTut","tut","hasTut","interacting","originalRotation","originalScale","thrown","$tut","$pinchedTut","currentScale","scaleDelta","currentRotation","rotationDelta","moveContextualTut","hypot","viewHypot","maxScaleFactor","rotate","hideContextualTut","throwPinchedGroup","velocityMultiplier","viewHeight","offScreen","requestAnimationFrame","newX","newY","newPos","tolerance","hammerjs","165","getTutByName","tutObj","tutorialCompletionObj","completion","shapeCenter","tutCopy","tutPos","getTutPositionFromCenter","css","visibility","$tuts","resetContextualTuts","tutWidth","outerWidth","tutHeight","outerHeight","leftPos","topPos","tutArrowHeight","166","setupPaper","initLogoRefresh","initColorPalette","initNewButton","initUndoButton","initPlayButton","initTipsButton","initShareButton","initContextualTuts","resetCanvas","getBoundingClientRect","canvasWidth","canvasHeight","showExpandBrowserMessage","hideExpandBrowserMessage","$frame","eq","containerWidth","containerHeight","$drawCanvas","canvasTop","canvasLeft","setup","ditherAllButtons","ditheredClass","unditherAllButtons","ditherButtonsByName","buttonNames","undither","ditherButtonByName","buttonName","$button","unditherButtonByName","newPressed","activeLayer","removeChildren","undoPressed","lastMove","clearGroupPops","numGroups","getNumVisibleGroups","tipsPressed","randomColorHex","$svg","selectColorFromPaletteUsingSvgElement","paletteColorSize","paletteSelectedColorSize","paletteSelectedClass","$paletteWrap","$paletteColors","share","clear","numCanvasses","randomCanvasIndex","canvasBg","Raster","scaleFactorHorizontal","scaleFactorVertical","Layer","$controlPanel","hide","$desktopPrepNotice","show","./share","167","degrees","deg","radians","toLocaleTimeString","getAllGroups","getNumGroups","returnPops","groupPops","intersectingPops","foo","uuid/v1","168","hitType","page","playVideo","videoPlayingClass","main","$video","$videoWrapper","./main"],"mappings":"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EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MACtxCx0C,KAAM,aAENsuF,SAAWrjE,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,GAAIupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EAAG,MAASvpB,EAAG,IAAKupB,EA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","file":"../main.bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n/**\n * An abstraction for slicing an arraybuffer even when\n * ArrayBuffer.prototype.slice is not supported\n *\n * @api public\n */\n\nmodule.exports = function(arraybuffer, start, end) {\n  var bytes = arraybuffer.byteLength;\n  start = start || 0;\n  end = end || bytes;\n\n  if (arraybuffer.slice) { return arraybuffer.slice(start, end); }\n\n  if (start < 0) { start += bytes; }\n  if (end < 0) { end += bytes; }\n  if (end > bytes) { end = bytes; }\n\n  if (start >= bytes || start >= end || bytes === 0) {\n    return new ArrayBuffer(0);\n  }\n\n  var abv = new Uint8Array(arraybuffer);\n  var result = new Uint8Array(end - start);\n  for (var i = start, ii = 0; i < end; i++, ii++) {\n    result[ii] = abv[i];\n  }\n  return result.buffer;\n};\n\n},{}],2:[function(require,module,exports){\nmodule.exports = require('./lib/axios');\n},{\"./lib/axios\":4}],3:[function(require,module,exports){\n(function (process){\n'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildURL = require('./../helpers/buildURL');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\nvar btoa = (typeof window !== 'undefined' && window.btoa && window.btoa.bind(window)) || require('./../helpers/btoa');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n    var loadEvent = 'onreadystatechange';\n    var xDomain = false;\n\n    // For IE 8/9 CORS support\n    // Only supports POST and GET calls and doesn't returns the response headers.\n    // DON'T do this for testing b/c XMLHttpRequest is mocked, not XDomainRequest.\n    if (process.env.NODE_ENV !== 'test' &&\n        typeof window !== 'undefined' &&\n        window.XDomainRequest && !('withCredentials' in request) &&\n        !isURLSameOrigin(config.url)) {\n      request = new window.XDomainRequest();\n      loadEvent = 'onload';\n      xDomain = true;\n      request.onprogress = function handleProgress() {};\n      request.ontimeout = function handleTimeout() {};\n    }\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request[loadEvent] = function handleLoad() {\n      if (!request || (request.readyState !== 4 && !xDomain)) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        // IE sends 1223 instead of 204 (https://github.com/mzabriskie/axios/issues/201)\n        status: request.status === 1223 ? 204 : request.status,\n        statusText: request.status === 1223 ? 'No Content' : request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED'));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = require('./../helpers/cookies');\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ?\n          cookies.read(config.xsrfCookieName) :\n          undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (config.withCredentials) {\n      request.withCredentials = true;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        if (request.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n\n}).call(this,require('_process'))\n},{\"../core/createError\":10,\"./../core/settle\":13,\"./../helpers/btoa\":17,\"./../helpers/buildURL\":18,\"./../helpers/cookies\":20,\"./../helpers/isURLSameOrigin\":22,\"./../helpers/parseHeaders\":24,\"./../utils\":26,\"_process\":61}],4:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(utils.merge(defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n\n},{\"./cancel/Cancel\":5,\"./cancel/CancelToken\":6,\"./cancel/isCancel\":7,\"./core/Axios\":8,\"./defaults\":15,\"./helpers/bind\":16,\"./helpers/spread\":25,\"./utils\":26}],5:[function(require,module,exports){\n'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n\n},{}],6:[function(require,module,exports){\n'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n\n},{\"./Cancel\":5}],7:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n\n},{}],8:[function(require,module,exports){\n'use strict';\n\nvar defaults = require('./../defaults');\nvar utils = require('./../utils');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar isAbsoluteURL = require('./../helpers/isAbsoluteURL');\nvar combineURLs = require('./../helpers/combineURLs');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = utils.merge({\n      url: arguments[0]\n    }, arguments[1]);\n  }\n\n  config = utils.merge(defaults, this.defaults, { method: 'get' }, config);\n\n  // Support baseURL config\n  if (config.baseURL && !isAbsoluteURL(config.url)) {\n    config.url = combineURLs(config.baseURL, config.url);\n  }\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n\n},{\"./../defaults\":15,\"./../helpers/combineURLs\":19,\"./../helpers/isAbsoluteURL\":21,\"./../utils\":26,\"./InterceptorManager\":9,\"./dispatchRequest\":11}],9:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n\n},{\"./../utils\":26}],10:[function(require,module,exports){\n'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n @ @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, response);\n};\n\n},{\"./enhanceError\":12}],11:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers || {}\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n\n},{\"../cancel/isCancel\":7,\"../defaults\":15,\"./../utils\":26,\"./transformData\":14}],12:[function(require,module,exports){\n'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n @ @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n  error.response = response;\n  return error;\n};\n\n},{}],13:[function(require,module,exports){\n'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  // Note: status is not exposed by XDomainRequest\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response\n    ));\n  }\n};\n\n},{\"./createError\":10}],14:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n\n},{\"./../utils\":26}],15:[function(require,module,exports){\n(function (process){\n'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar PROTECTION_PREFIX = /^\\)\\]\\}',?\\n/;\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      data = data.replace(PROTECTION_PREFIX, '');\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMehtodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n\n}).call(this,require('_process'))\n},{\"./adapters/http\":3,\"./adapters/xhr\":3,\"./helpers/normalizeHeaderName\":23,\"./utils\":26,\"_process\":61}],16:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n\n},{}],17:[function(require,module,exports){\n'use strict';\n\n// btoa polyfill for IE<10 courtesy https://github.com/davidchambers/Base64.js\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction E() {\n  this.message = 'String contains an invalid character';\n}\nE.prototype = new Error;\nE.prototype.code = 5;\nE.prototype.name = 'InvalidCharacterError';\n\nfunction btoa(input) {\n  var str = String(input);\n  var output = '';\n  for (\n    // initialize result and counter\n    var block, charCode, idx = 0, map = chars;\n    // if the next str index does not exist:\n    //   change the mapping table to \"=\"\n    //   check if d has no fractional digits\n    str.charAt(idx | 0) || (map = '=', idx % 1);\n    // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n    output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n  ) {\n    charCode = str.charCodeAt(idx += 3 / 4);\n    if (charCode > 0xFF) {\n      throw new E();\n    }\n    block = block << 8 | charCode;\n  }\n  return output;\n}\n\nmodule.exports = btoa;\n\n},{}],18:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      }\n\n      if (!utils.isArray(val)) {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n\n},{\"./../utils\":26}],19:[function(require,module,exports){\n'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '');\n};\n\n},{}],20:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n  (function standardBrowserEnv() {\n    return {\n      write: function write(name, value, expires, path, domain, secure) {\n        var cookie = [];\n        cookie.push(name + '=' + encodeURIComponent(value));\n\n        if (utils.isNumber(expires)) {\n          cookie.push('expires=' + new Date(expires).toGMTString());\n        }\n\n        if (utils.isString(path)) {\n          cookie.push('path=' + path);\n        }\n\n        if (utils.isString(domain)) {\n          cookie.push('domain=' + domain);\n        }\n\n        if (secure === true) {\n          cookie.push('secure');\n        }\n\n        document.cookie = cookie.join('; ');\n      },\n\n      read: function read(name) {\n        var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n        return (match ? decodeURIComponent(match[3]) : null);\n      },\n\n      remove: function remove(name) {\n        this.write(name, '', Date.now() - 86400000);\n      }\n    };\n  })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return {\n      write: function write() {},\n      read: function read() { return null; },\n      remove: function remove() {}\n    };\n  })()\n);\n\n},{\"./../utils\":26}],21:[function(require,module,exports){\n'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n\n},{}],22:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    var msie = /(msie|trident)/i.test(navigator.userAgent);\n    var urlParsingNode = document.createElement('a');\n    var originURL;\n\n    /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      var href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n                  urlParsingNode.pathname :\n                  '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })()\n);\n\n},{\"./../utils\":26}],23:[function(require,module,exports){\n'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n\n},{\"../utils\":26}],24:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n\n},{\"./../utils\":26}],25:[function(require,module,exports){\n'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n\n},{}],26:[function(require,module,exports){\n'use strict';\n\nvar bind = require('./helpers/bind');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  typeof document.createElement -> undefined\n */\nfunction isStandardBrowserEnv() {\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined' &&\n    typeof document.createElement === 'function'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object' && !isArray(obj)) {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim\n};\n\n},{\"./helpers/bind\":16}],27:[function(require,module,exports){\n\n/**\n * Expose `Backoff`.\n */\n\nmodule.exports = Backoff;\n\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\n\nBackoff.prototype.duration = function(){\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n  }\n  return Math.min(ms, this.max) | 0;\n};\n\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\n\nBackoff.prototype.reset = function(){\n  this.attempts = 0;\n};\n\n/**\n * Set the minimum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMin = function(min){\n  this.ms = min;\n};\n\n/**\n * Set the maximum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMax = function(max){\n  this.max = max;\n};\n\n/**\n * Set the jitter\n *\n * @api public\n */\n\nBackoff.prototype.setJitter = function(jitter){\n  this.jitter = jitter;\n};\n\n\n},{}],28:[function(require,module,exports){\n/*\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n(function(){\n  \"use strict\";\n\n  var chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n\n  // Use a lookup table to find the index.\n  var lookup = new Uint8Array(256);\n  for (var i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n  }\n\n  exports.encode = function(arraybuffer) {\n    var bytes = new Uint8Array(arraybuffer),\n    i, len = bytes.length, base64 = \"\";\n\n    for (i = 0; i < len; i+=3) {\n      base64 += chars[bytes[i] >> 2];\n      base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n      base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n      base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if ((len % 3) === 2) {\n      base64 = base64.substring(0, base64.length - 1) + \"=\";\n    } else if (len % 3 === 1) {\n      base64 = base64.substring(0, base64.length - 2) + \"==\";\n    }\n\n    return base64;\n  };\n\n  exports.decode =  function(base64) {\n    var bufferLength = base64.length * 0.75,\n    len = base64.length, i, p = 0,\n    encoded1, encoded2, encoded3, encoded4;\n\n    if (base64[base64.length - 1] === \"=\") {\n      bufferLength--;\n      if (base64[base64.length - 2] === \"=\") {\n        bufferLength--;\n      }\n    }\n\n    var arraybuffer = new ArrayBuffer(bufferLength),\n    bytes = new Uint8Array(arraybuffer);\n\n    for (i = 0; i < len; i+=4) {\n      encoded1 = lookup[base64.charCodeAt(i)];\n      encoded2 = lookup[base64.charCodeAt(i+1)];\n      encoded3 = lookup[base64.charCodeAt(i+2)];\n      encoded4 = lookup[base64.charCodeAt(i+3)];\n\n      bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n      bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n      bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arraybuffer;\n  };\n})();\n\n},{}],29:[function(require,module,exports){\n(function (global){\n/**\n * Create a blob builder even when vendor prefixes exist\n */\n\nvar BlobBuilder = global.BlobBuilder\n  || global.WebKitBlobBuilder\n  || global.MSBlobBuilder\n  || global.MozBlobBuilder;\n\n/**\n * Check if Blob constructor is supported\n */\n\nvar blobSupported = (function() {\n  try {\n    var a = new Blob(['hi']);\n    return a.size === 2;\n  } catch(e) {\n    return false;\n  }\n})();\n\n/**\n * Check if Blob constructor supports ArrayBufferViews\n * Fails in Safari 6, so we need to map to ArrayBuffers there.\n */\n\nvar blobSupportsArrayBufferView = blobSupported && (function() {\n  try {\n    var b = new Blob([new Uint8Array([1,2])]);\n    return b.size === 2;\n  } catch(e) {\n    return false;\n  }\n})();\n\n/**\n * Check if BlobBuilder is supported\n */\n\nvar blobBuilderSupported = BlobBuilder\n  && BlobBuilder.prototype.append\n  && BlobBuilder.prototype.getBlob;\n\n/**\n * Helper function that maps ArrayBufferViews to ArrayBuffers\n * Used by BlobBuilder constructor and old browsers that didn't\n * support it in the Blob constructor.\n */\n\nfunction mapArrayBufferViews(ary) {\n  for (var i = 0; i < ary.length; i++) {\n    var chunk = ary[i];\n    if (chunk.buffer instanceof ArrayBuffer) {\n      var buf = chunk.buffer;\n\n      // if this is a subarray, make a copy so we only\n      // include the subarray region from the underlying buffer\n      if (chunk.byteLength !== buf.byteLength) {\n        var copy = new Uint8Array(chunk.byteLength);\n        copy.set(new Uint8Array(buf, chunk.byteOffset, chunk.byteLength));\n        buf = copy.buffer;\n      }\n\n      ary[i] = buf;\n    }\n  }\n}\n\nfunction BlobBuilderConstructor(ary, options) {\n  options = options || {};\n\n  var bb = new BlobBuilder();\n  mapArrayBufferViews(ary);\n\n  for (var i = 0; i < ary.length; i++) {\n    bb.append(ary[i]);\n  }\n\n  return (options.type) ? bb.getBlob(options.type) : bb.getBlob();\n};\n\nfunction BlobConstructor(ary, options) {\n  mapArrayBufferViews(ary);\n  return new Blob(ary, options || {});\n};\n\nmodule.exports = (function() {\n  if (blobSupported) {\n    return blobSupportsArrayBufferView ? global.Blob : BlobConstructor;\n  } else if (blobBuilderSupported) {\n    return BlobBuilderConstructor;\n  } else {\n    return undefined;\n  }\n})();\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],30:[function(require,module,exports){\n(function (process,global){\n/* @preserve\n * The MIT License (MIT)\n * \n * Copyright (c) 2013-2017 Petka Antonov\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n * \n */\n/**\n * bluebird build version 3.5.0\n * Features enabled: core, race, call_get, generators, map, nodeify, promisify, props, reduce, settle, some, using, timers, filter, any, each\n*/\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var f;\"undefined\"!=typeof window?f=window:\"undefined\"!=typeof global?f=global:\"undefined\"!=typeof self&&(f=self),f.Promise=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof _dereq_==\"function\"&&_dereq_;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof _dereq_==\"function\"&&_dereq_;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar SomePromiseArray = Promise._SomePromiseArray;\nfunction any(promises) {\n    var ret = new SomePromiseArray(promises);\n    var promise = ret.promise();\n    ret.setHowMany(1);\n    ret.setUnwrap();\n    ret.init();\n    return promise;\n}\n\nPromise.any = function (promises) {\n    return any(promises);\n};\n\nPromise.prototype.any = function () {\n    return any(this);\n};\n\n};\n\n},{}],2:[function(_dereq_,module,exports){\n\"use strict\";\nvar firstLineError;\ntry {throw new Error(); } catch (e) {firstLineError = e;}\nvar schedule = _dereq_(\"./schedule\");\nvar Queue = _dereq_(\"./queue\");\nvar util = _dereq_(\"./util\");\n\nfunction Async() {\n    this._customScheduler = false;\n    this._isTickUsed = false;\n    this._lateQueue = new Queue(16);\n    this._normalQueue = new Queue(16);\n    this._haveDrainedQueues = false;\n    this._trampolineEnabled = true;\n    var self = this;\n    this.drainQueues = function () {\n        self._drainQueues();\n    };\n    this._schedule = schedule;\n}\n\nAsync.prototype.setScheduler = function(fn) {\n    var prev = this._schedule;\n    this._schedule = fn;\n    this._customScheduler = true;\n    return prev;\n};\n\nAsync.prototype.hasCustomScheduler = function() {\n    return this._customScheduler;\n};\n\nAsync.prototype.enableTrampoline = function() {\n    this._trampolineEnabled = true;\n};\n\nAsync.prototype.disableTrampolineIfNecessary = function() {\n    if (util.hasDevTools) {\n        this._trampolineEnabled = false;\n    }\n};\n\nAsync.prototype.haveItemsQueued = function () {\n    return this._isTickUsed || this._haveDrainedQueues;\n};\n\n\nAsync.prototype.fatalError = function(e, isNode) {\n    if (isNode) {\n        process.stderr.write(\"Fatal \" + (e instanceof Error ? e.stack : e) +\n            \"\\n\");\n        process.exit(2);\n    } else {\n        this.throwLater(e);\n    }\n};\n\nAsync.prototype.throwLater = function(fn, arg) {\n    if (arguments.length === 1) {\n        arg = fn;\n        fn = function () { throw arg; };\n    }\n    if (typeof setTimeout !== \"undefined\") {\n        setTimeout(function() {\n            fn(arg);\n        }, 0);\n    } else try {\n        this._schedule(function() {\n            fn(arg);\n        });\n    } catch (e) {\n        throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n};\n\nfunction AsyncInvokeLater(fn, receiver, arg) {\n    this._lateQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncInvoke(fn, receiver, arg) {\n    this._normalQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncSettlePromises(promise) {\n    this._normalQueue._pushOne(promise);\n    this._queueTick();\n}\n\nif (!util.hasDevTools) {\n    Async.prototype.invokeLater = AsyncInvokeLater;\n    Async.prototype.invoke = AsyncInvoke;\n    Async.prototype.settlePromises = AsyncSettlePromises;\n} else {\n    Async.prototype.invokeLater = function (fn, receiver, arg) {\n        if (this._trampolineEnabled) {\n            AsyncInvokeLater.call(this, fn, receiver, arg);\n        } else {\n            this._schedule(function() {\n                setTimeout(function() {\n                    fn.call(receiver, arg);\n                }, 100);\n            });\n        }\n    };\n\n    Async.prototype.invoke = function (fn, receiver, arg) {\n        if (this._trampolineEnabled) {\n            AsyncInvoke.call(this, fn, receiver, arg);\n        } else {\n            this._schedule(function() {\n                fn.call(receiver, arg);\n            });\n        }\n    };\n\n    Async.prototype.settlePromises = function(promise) {\n        if (this._trampolineEnabled) {\n            AsyncSettlePromises.call(this, promise);\n        } else {\n            this._schedule(function() {\n                promise._settlePromises();\n            });\n        }\n    };\n}\n\nAsync.prototype._drainQueue = function(queue) {\n    while (queue.length() > 0) {\n        var fn = queue.shift();\n        if (typeof fn !== \"function\") {\n            fn._settlePromises();\n            continue;\n        }\n        var receiver = queue.shift();\n        var arg = queue.shift();\n        fn.call(receiver, arg);\n    }\n};\n\nAsync.prototype._drainQueues = function () {\n    this._drainQueue(this._normalQueue);\n    this._reset();\n    this._haveDrainedQueues = true;\n    this._drainQueue(this._lateQueue);\n};\n\nAsync.prototype._queueTick = function () {\n    if (!this._isTickUsed) {\n        this._isTickUsed = true;\n        this._schedule(this.drainQueues);\n    }\n};\n\nAsync.prototype._reset = function () {\n    this._isTickUsed = false;\n};\n\nmodule.exports = Async;\nmodule.exports.firstLineError = firstLineError;\n\n},{\"./queue\":26,\"./schedule\":29,\"./util\":36}],3:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise, debug) {\nvar calledBind = false;\nvar rejectThis = function(_, e) {\n    this._reject(e);\n};\n\nvar targetRejected = function(e, context) {\n    context.promiseRejectionQueued = true;\n    context.bindingPromise._then(rejectThis, rejectThis, null, this, e);\n};\n\nvar bindingResolved = function(thisArg, context) {\n    if (((this._bitField & 50397184) === 0)) {\n        this._resolveCallback(context.target);\n    }\n};\n\nvar bindingRejected = function(e, context) {\n    if (!context.promiseRejectionQueued) this._reject(e);\n};\n\nPromise.prototype.bind = function (thisArg) {\n    if (!calledBind) {\n        calledBind = true;\n        Promise.prototype._propagateFrom = debug.propagateFromFunction();\n        Promise.prototype._boundValue = debug.boundValueFunction();\n    }\n    var maybePromise = tryConvertToPromise(thisArg);\n    var ret = new Promise(INTERNAL);\n    ret._propagateFrom(this, 1);\n    var target = this._target();\n    ret._setBoundTo(maybePromise);\n    if (maybePromise instanceof Promise) {\n        var context = {\n            promiseRejectionQueued: false,\n            promise: ret,\n            target: target,\n            bindingPromise: maybePromise\n        };\n        target._then(INTERNAL, targetRejected, undefined, ret, context);\n        maybePromise._then(\n            bindingResolved, bindingRejected, undefined, ret, context);\n        ret._setOnCancel(maybePromise);\n    } else {\n        ret._resolveCallback(target);\n    }\n    return ret;\n};\n\nPromise.prototype._setBoundTo = function (obj) {\n    if (obj !== undefined) {\n        this._bitField = this._bitField | 2097152;\n        this._boundTo = obj;\n    } else {\n        this._bitField = this._bitField & (~2097152);\n    }\n};\n\nPromise.prototype._isBound = function () {\n    return (this._bitField & 2097152) === 2097152;\n};\n\nPromise.bind = function (thisArg, value) {\n    return Promise.resolve(value).bind(thisArg);\n};\n};\n\n},{}],4:[function(_dereq_,module,exports){\n\"use strict\";\nvar old;\nif (typeof Promise !== \"undefined\") old = Promise;\nfunction noConflict() {\n    try { if (Promise === bluebird) Promise = old; }\n    catch (e) {}\n    return bluebird;\n}\nvar bluebird = _dereq_(\"./promise\")();\nbluebird.noConflict = noConflict;\nmodule.exports = bluebird;\n\n},{\"./promise\":22}],5:[function(_dereq_,module,exports){\n\"use strict\";\nvar cr = Object.create;\nif (cr) {\n    var callerCache = cr(null);\n    var getterCache = cr(null);\n    callerCache[\" size\"] = getterCache[\" size\"] = 0;\n}\n\nmodule.exports = function(Promise) {\nvar util = _dereq_(\"./util\");\nvar canEvaluate = util.canEvaluate;\nvar isIdentifier = util.isIdentifier;\n\nvar getMethodCaller;\nvar getGetter;\nif (!true) {\nvar makeMethodCaller = function (methodName) {\n    return new Function(\"ensureMethod\", \"                                    \\n\\\n        return function(obj) {                                               \\n\\\n            'use strict'                                                     \\n\\\n            var len = this.length;                                           \\n\\\n            ensureMethod(obj, 'methodName');                                 \\n\\\n            switch(len) {                                                    \\n\\\n                case 1: return obj.methodName(this[0]);                      \\n\\\n                case 2: return obj.methodName(this[0], this[1]);             \\n\\\n                case 3: return obj.methodName(this[0], this[1], this[2]);    \\n\\\n                case 0: return obj.methodName();                             \\n\\\n                default:                                                     \\n\\\n                    return obj.methodName.apply(obj, this);                  \\n\\\n            }                                                                \\n\\\n        };                                                                   \\n\\\n        \".replace(/methodName/g, methodName))(ensureMethod);\n};\n\nvar makeGetter = function (propertyName) {\n    return new Function(\"obj\", \"                                             \\n\\\n        'use strict';                                                        \\n\\\n        return obj.propertyName;                                             \\n\\\n        \".replace(\"propertyName\", propertyName));\n};\n\nvar getCompiled = function(name, compiler, cache) {\n    var ret = cache[name];\n    if (typeof ret !== \"function\") {\n        if (!isIdentifier(name)) {\n            return null;\n        }\n        ret = compiler(name);\n        cache[name] = ret;\n        cache[\" size\"]++;\n        if (cache[\" size\"] > 512) {\n            var keys = Object.keys(cache);\n            for (var i = 0; i < 256; ++i) delete cache[keys[i]];\n            cache[\" size\"] = keys.length - 256;\n        }\n    }\n    return ret;\n};\n\ngetMethodCaller = function(name) {\n    return getCompiled(name, makeMethodCaller, callerCache);\n};\n\ngetGetter = function(name) {\n    return getCompiled(name, makeGetter, getterCache);\n};\n}\n\nfunction ensureMethod(obj, methodName) {\n    var fn;\n    if (obj != null) fn = obj[methodName];\n    if (typeof fn !== \"function\") {\n        var message = \"Object \" + util.classString(obj) + \" has no method '\" +\n            util.toString(methodName) + \"'\";\n        throw new Promise.TypeError(message);\n    }\n    return fn;\n}\n\nfunction caller(obj) {\n    var methodName = this.pop();\n    var fn = ensureMethod(obj, methodName);\n    return fn.apply(obj, this);\n}\nPromise.prototype.call = function (methodName) {\n    var args = [].slice.call(arguments, 1);;\n    if (!true) {\n        if (canEvaluate) {\n            var maybeCaller = getMethodCaller(methodName);\n            if (maybeCaller !== null) {\n                return this._then(\n                    maybeCaller, undefined, undefined, args, undefined);\n            }\n        }\n    }\n    args.push(methodName);\n    return this._then(caller, undefined, undefined, args, undefined);\n};\n\nfunction namedGetter(obj) {\n    return obj[this];\n}\nfunction indexedGetter(obj) {\n    var index = +this;\n    if (index < 0) index = Math.max(0, index + obj.length);\n    return obj[index];\n}\nPromise.prototype.get = function (propertyName) {\n    var isIndex = (typeof propertyName === \"number\");\n    var getter;\n    if (!isIndex) {\n        if (canEvaluate) {\n            var maybeGetter = getGetter(propertyName);\n            getter = maybeGetter !== null ? maybeGetter : namedGetter;\n        } else {\n            getter = namedGetter;\n        }\n    } else {\n        getter = indexedGetter;\n    }\n    return this._then(getter, undefined, undefined, propertyName, undefined);\n};\n};\n\n},{\"./util\":36}],6:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, PromiseArray, apiRejection, debug) {\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar async = Promise._async;\n\nPromise.prototype[\"break\"] = Promise.prototype.cancel = function() {\n    if (!debug.cancellation()) return this._warn(\"cancellation is disabled\");\n\n    var promise = this;\n    var child = promise;\n    while (promise._isCancellable()) {\n        if (!promise._cancelBy(child)) {\n            if (child._isFollowing()) {\n                child._followee().cancel();\n            } else {\n                child._cancelBranched();\n            }\n            break;\n        }\n\n        var parent = promise._cancellationParent;\n        if (parent == null || !parent._isCancellable()) {\n            if (promise._isFollowing()) {\n                promise._followee().cancel();\n            } else {\n                promise._cancelBranched();\n            }\n            break;\n        } else {\n            if (promise._isFollowing()) promise._followee().cancel();\n            promise._setWillBeCancelled();\n            child = promise;\n            promise = parent;\n        }\n    }\n};\n\nPromise.prototype._branchHasCancelled = function() {\n    this._branchesRemainingToCancel--;\n};\n\nPromise.prototype._enoughBranchesHaveCancelled = function() {\n    return this._branchesRemainingToCancel === undefined ||\n           this._branchesRemainingToCancel <= 0;\n};\n\nPromise.prototype._cancelBy = function(canceller) {\n    if (canceller === this) {\n        this._branchesRemainingToCancel = 0;\n        this._invokeOnCancel();\n        return true;\n    } else {\n        this._branchHasCancelled();\n        if (this._enoughBranchesHaveCancelled()) {\n            this._invokeOnCancel();\n            return true;\n        }\n    }\n    return false;\n};\n\nPromise.prototype._cancelBranched = function() {\n    if (this._enoughBranchesHaveCancelled()) {\n        this._cancel();\n    }\n};\n\nPromise.prototype._cancel = function() {\n    if (!this._isCancellable()) return;\n    this._setCancelled();\n    async.invoke(this._cancelPromises, this, undefined);\n};\n\nPromise.prototype._cancelPromises = function() {\n    if (this._length() > 0) this._settlePromises();\n};\n\nPromise.prototype._unsetOnCancel = function() {\n    this._onCancelField = undefined;\n};\n\nPromise.prototype._isCancellable = function() {\n    return this.isPending() && !this._isCancelled();\n};\n\nPromise.prototype.isCancellable = function() {\n    return this.isPending() && !this.isCancelled();\n};\n\nPromise.prototype._doInvokeOnCancel = function(onCancelCallback, internalOnly) {\n    if (util.isArray(onCancelCallback)) {\n        for (var i = 0; i < onCancelCallback.length; ++i) {\n            this._doInvokeOnCancel(onCancelCallback[i], internalOnly);\n        }\n    } else if (onCancelCallback !== undefined) {\n        if (typeof onCancelCallback === \"function\") {\n            if (!internalOnly) {\n                var e = tryCatch(onCancelCallback).call(this._boundValue());\n                if (e === errorObj) {\n                    this._attachExtraTrace(e.e);\n                    async.throwLater(e.e);\n                }\n            }\n        } else {\n            onCancelCallback._resultCancelled(this);\n        }\n    }\n};\n\nPromise.prototype._invokeOnCancel = function() {\n    var onCancelCallback = this._onCancel();\n    this._unsetOnCancel();\n    async.invoke(this._doInvokeOnCancel, this, onCancelCallback);\n};\n\nPromise.prototype._invokeInternalOnCancel = function() {\n    if (this._isCancellable()) {\n        this._doInvokeOnCancel(this._onCancel(), true);\n        this._unsetOnCancel();\n    }\n};\n\nPromise.prototype._resultCancelled = function() {\n    this.cancel();\n};\n\n};\n\n},{\"./util\":36}],7:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(NEXT_FILTER) {\nvar util = _dereq_(\"./util\");\nvar getKeys = _dereq_(\"./es5\").keys;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nfunction catchFilter(instances, cb, promise) {\n    return function(e) {\n        var boundTo = promise._boundValue();\n        predicateLoop: for (var i = 0; i < instances.length; ++i) {\n            var item = instances[i];\n\n            if (item === Error ||\n                (item != null && item.prototype instanceof Error)) {\n                if (e instanceof item) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (typeof item === \"function\") {\n                var matchesPredicate = tryCatch(item).call(boundTo, e);\n                if (matchesPredicate === errorObj) {\n                    return matchesPredicate;\n                } else if (matchesPredicate) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (util.isObject(e)) {\n                var keys = getKeys(item);\n                for (var j = 0; j < keys.length; ++j) {\n                    var key = keys[j];\n                    if (item[key] != e[key]) {\n                        continue predicateLoop;\n                    }\n                }\n                return tryCatch(cb).call(boundTo, e);\n            }\n        }\n        return NEXT_FILTER;\n    };\n}\n\nreturn catchFilter;\n};\n\n},{\"./es5\":13,\"./util\":36}],8:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar longStackTraces = false;\nvar contextStack = [];\n\nPromise.prototype._promiseCreated = function() {};\nPromise.prototype._pushContext = function() {};\nPromise.prototype._popContext = function() {return null;};\nPromise._peekContext = Promise.prototype._peekContext = function() {};\n\nfunction Context() {\n    this._trace = new Context.CapturedTrace(peekContext());\n}\nContext.prototype._pushContext = function () {\n    if (this._trace !== undefined) {\n        this._trace._promiseCreated = null;\n        contextStack.push(this._trace);\n    }\n};\n\nContext.prototype._popContext = function () {\n    if (this._trace !== undefined) {\n        var trace = contextStack.pop();\n        var ret = trace._promiseCreated;\n        trace._promiseCreated = null;\n        return ret;\n    }\n    return null;\n};\n\nfunction createContext() {\n    if (longStackTraces) return new Context();\n}\n\nfunction peekContext() {\n    var lastIndex = contextStack.length - 1;\n    if (lastIndex >= 0) {\n        return contextStack[lastIndex];\n    }\n    return undefined;\n}\nContext.CapturedTrace = null;\nContext.create = createContext;\nContext.deactivateLongStackTraces = function() {};\nContext.activateLongStackTraces = function() {\n    var Promise_pushContext = Promise.prototype._pushContext;\n    var Promise_popContext = Promise.prototype._popContext;\n    var Promise_PeekContext = Promise._peekContext;\n    var Promise_peekContext = Promise.prototype._peekContext;\n    var Promise_promiseCreated = Promise.prototype._promiseCreated;\n    Context.deactivateLongStackTraces = function() {\n        Promise.prototype._pushContext = Promise_pushContext;\n        Promise.prototype._popContext = Promise_popContext;\n        Promise._peekContext = Promise_PeekContext;\n        Promise.prototype._peekContext = Promise_peekContext;\n        Promise.prototype._promiseCreated = Promise_promiseCreated;\n        longStackTraces = false;\n    };\n    longStackTraces = true;\n    Promise.prototype._pushContext = Context.prototype._pushContext;\n    Promise.prototype._popContext = Context.prototype._popContext;\n    Promise._peekContext = Promise.prototype._peekContext = peekContext;\n    Promise.prototype._promiseCreated = function() {\n        var ctx = this._peekContext();\n        if (ctx && ctx._promiseCreated == null) ctx._promiseCreated = this;\n    };\n};\nreturn Context;\n};\n\n},{}],9:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, Context) {\nvar getDomain = Promise._getDomain;\nvar async = Promise._async;\nvar Warning = _dereq_(\"./errors\").Warning;\nvar util = _dereq_(\"./util\");\nvar canAttachTrace = util.canAttachTrace;\nvar unhandledRejectionHandled;\nvar possiblyUnhandledRejection;\nvar bluebirdFramePattern =\n    /[\\\\\\/]bluebird[\\\\\\/]js[\\\\\\/](release|debug|instrumented)/;\nvar nodeFramePattern = /\\((?:timers\\.js):\\d+:\\d+\\)/;\nvar parseLinePattern = /[\\/<\\(](.+?):(\\d+):(\\d+)\\)?\\s*$/;\nvar stackFramePattern = null;\nvar formatStack = null;\nvar indentStackFrames = false;\nvar printWarning;\nvar debugging = !!(util.env(\"BLUEBIRD_DEBUG\") != 0 &&\n                        (true ||\n                         util.env(\"BLUEBIRD_DEBUG\") ||\n                         util.env(\"NODE_ENV\") === \"development\"));\n\nvar warnings = !!(util.env(\"BLUEBIRD_WARNINGS\") != 0 &&\n    (debugging || util.env(\"BLUEBIRD_WARNINGS\")));\n\nvar longStackTraces = !!(util.env(\"BLUEBIRD_LONG_STACK_TRACES\") != 0 &&\n    (debugging || util.env(\"BLUEBIRD_LONG_STACK_TRACES\")));\n\nvar wForgottenReturn = util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\") != 0 &&\n    (warnings || !!util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\"));\n\nPromise.prototype.suppressUnhandledRejections = function() {\n    var target = this._target();\n    target._bitField = ((target._bitField & (~1048576)) |\n                      524288);\n};\n\nPromise.prototype._ensurePossibleRejectionHandled = function () {\n    if ((this._bitField & 524288) !== 0) return;\n    this._setRejectionIsUnhandled();\n    async.invokeLater(this._notifyUnhandledRejection, this, undefined);\n};\n\nPromise.prototype._notifyUnhandledRejectionIsHandled = function () {\n    fireRejectionEvent(\"rejectionHandled\",\n                                  unhandledRejectionHandled, undefined, this);\n};\n\nPromise.prototype._setReturnedNonUndefined = function() {\n    this._bitField = this._bitField | 268435456;\n};\n\nPromise.prototype._returnedNonUndefined = function() {\n    return (this._bitField & 268435456) !== 0;\n};\n\nPromise.prototype._notifyUnhandledRejection = function () {\n    if (this._isRejectionUnhandled()) {\n        var reason = this._settledValue();\n        this._setUnhandledRejectionIsNotified();\n        fireRejectionEvent(\"unhandledRejection\",\n                                      possiblyUnhandledRejection, reason, this);\n    }\n};\n\nPromise.prototype._setUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField | 262144;\n};\n\nPromise.prototype._unsetUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField & (~262144);\n};\n\nPromise.prototype._isUnhandledRejectionNotified = function () {\n    return (this._bitField & 262144) > 0;\n};\n\nPromise.prototype._setRejectionIsUnhandled = function () {\n    this._bitField = this._bitField | 1048576;\n};\n\nPromise.prototype._unsetRejectionIsUnhandled = function () {\n    this._bitField = this._bitField & (~1048576);\n    if (this._isUnhandledRejectionNotified()) {\n        this._unsetUnhandledRejectionIsNotified();\n        this._notifyUnhandledRejectionIsHandled();\n    }\n};\n\nPromise.prototype._isRejectionUnhandled = function () {\n    return (this._bitField & 1048576) > 0;\n};\n\nPromise.prototype._warn = function(message, shouldUseOwnTrace, promise) {\n    return warn(message, shouldUseOwnTrace, promise || this);\n};\n\nPromise.onPossiblyUnhandledRejection = function (fn) {\n    var domain = getDomain();\n    possiblyUnhandledRejection =\n        typeof fn === \"function\" ? (domain === null ?\n                                            fn : util.domainBind(domain, fn))\n                                 : undefined;\n};\n\nPromise.onUnhandledRejectionHandled = function (fn) {\n    var domain = getDomain();\n    unhandledRejectionHandled =\n        typeof fn === \"function\" ? (domain === null ?\n                                            fn : util.domainBind(domain, fn))\n                                 : undefined;\n};\n\nvar disableLongStackTraces = function() {};\nPromise.longStackTraces = function () {\n    if (async.haveItemsQueued() && !config.longStackTraces) {\n        throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    if (!config.longStackTraces && longStackTracesIsSupported()) {\n        var Promise_captureStackTrace = Promise.prototype._captureStackTrace;\n        var Promise_attachExtraTrace = Promise.prototype._attachExtraTrace;\n        config.longStackTraces = true;\n        disableLongStackTraces = function() {\n            if (async.haveItemsQueued() && !config.longStackTraces) {\n                throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n            }\n            Promise.prototype._captureStackTrace = Promise_captureStackTrace;\n            Promise.prototype._attachExtraTrace = Promise_attachExtraTrace;\n            Context.deactivateLongStackTraces();\n            async.enableTrampoline();\n            config.longStackTraces = false;\n        };\n        Promise.prototype._captureStackTrace = longStackTracesCaptureStackTrace;\n        Promise.prototype._attachExtraTrace = longStackTracesAttachExtraTrace;\n        Context.activateLongStackTraces();\n        async.disableTrampolineIfNecessary();\n    }\n};\n\nPromise.hasLongStackTraces = function () {\n    return config.longStackTraces && longStackTracesIsSupported();\n};\n\nvar fireDomEvent = (function() {\n    try {\n        if (typeof CustomEvent === \"function\") {\n            var event = new CustomEvent(\"CustomEvent\");\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = new CustomEvent(name.toLowerCase(), {\n                    detail: event,\n                    cancelable: true\n                });\n                return !util.global.dispatchEvent(domEvent);\n            };\n        } else if (typeof Event === \"function\") {\n            var event = new Event(\"CustomEvent\");\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = new Event(name.toLowerCase(), {\n                    cancelable: true\n                });\n                domEvent.detail = event;\n                return !util.global.dispatchEvent(domEvent);\n            };\n        } else {\n            var event = document.createEvent(\"CustomEvent\");\n            event.initCustomEvent(\"testingtheevent\", false, true, {});\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = document.createEvent(\"CustomEvent\");\n                domEvent.initCustomEvent(name.toLowerCase(), false, true,\n                    event);\n                return !util.global.dispatchEvent(domEvent);\n            };\n        }\n    } catch (e) {}\n    return function() {\n        return false;\n    };\n})();\n\nvar fireGlobalEvent = (function() {\n    if (util.isNode) {\n        return function() {\n            return process.emit.apply(process, arguments);\n        };\n    } else {\n        if (!util.global) {\n            return function() {\n                return false;\n            };\n        }\n        return function(name) {\n            var methodName = \"on\" + name.toLowerCase();\n            var method = util.global[methodName];\n            if (!method) return false;\n            method.apply(util.global, [].slice.call(arguments, 1));\n            return true;\n        };\n    }\n})();\n\nfunction generatePromiseLifecycleEventObject(name, promise) {\n    return {promise: promise};\n}\n\nvar eventToObjectGenerator = {\n    promiseCreated: generatePromiseLifecycleEventObject,\n    promiseFulfilled: generatePromiseLifecycleEventObject,\n    promiseRejected: generatePromiseLifecycleEventObject,\n    promiseResolved: generatePromiseLifecycleEventObject,\n    promiseCancelled: generatePromiseLifecycleEventObject,\n    promiseChained: function(name, promise, child) {\n        return {promise: promise, child: child};\n    },\n    warning: function(name, warning) {\n        return {warning: warning};\n    },\n    unhandledRejection: function (name, reason, promise) {\n        return {reason: reason, promise: promise};\n    },\n    rejectionHandled: generatePromiseLifecycleEventObject\n};\n\nvar activeFireEvent = function (name) {\n    var globalEventFired = false;\n    try {\n        globalEventFired = fireGlobalEvent.apply(null, arguments);\n    } catch (e) {\n        async.throwLater(e);\n        globalEventFired = true;\n    }\n\n    var domEventFired = false;\n    try {\n        domEventFired = fireDomEvent(name,\n                    eventToObjectGenerator[name].apply(null, arguments));\n    } catch (e) {\n        async.throwLater(e);\n        domEventFired = true;\n    }\n\n    return domEventFired || globalEventFired;\n};\n\nPromise.config = function(opts) {\n    opts = Object(opts);\n    if (\"longStackTraces\" in opts) {\n        if (opts.longStackTraces) {\n            Promise.longStackTraces();\n        } else if (!opts.longStackTraces && Promise.hasLongStackTraces()) {\n            disableLongStackTraces();\n        }\n    }\n    if (\"warnings\" in opts) {\n        var warningsOption = opts.warnings;\n        config.warnings = !!warningsOption;\n        wForgottenReturn = config.warnings;\n\n        if (util.isObject(warningsOption)) {\n            if (\"wForgottenReturn\" in warningsOption) {\n                wForgottenReturn = !!warningsOption.wForgottenReturn;\n            }\n        }\n    }\n    if (\"cancellation\" in opts && opts.cancellation && !config.cancellation) {\n        if (async.haveItemsQueued()) {\n            throw new Error(\n                \"cannot enable cancellation after promises are in use\");\n        }\n        Promise.prototype._clearCancellationData =\n            cancellationClearCancellationData;\n        Promise.prototype._propagateFrom = cancellationPropagateFrom;\n        Promise.prototype._onCancel = cancellationOnCancel;\n        Promise.prototype._setOnCancel = cancellationSetOnCancel;\n        Promise.prototype._attachCancellationCallback =\n            cancellationAttachCancellationCallback;\n        Promise.prototype._execute = cancellationExecute;\n        propagateFromFunction = cancellationPropagateFrom;\n        config.cancellation = true;\n    }\n    if (\"monitoring\" in opts) {\n        if (opts.monitoring && !config.monitoring) {\n            config.monitoring = true;\n            Promise.prototype._fireEvent = activeFireEvent;\n        } else if (!opts.monitoring && config.monitoring) {\n            config.monitoring = false;\n            Promise.prototype._fireEvent = defaultFireEvent;\n        }\n    }\n    return Promise;\n};\n\nfunction defaultFireEvent() { return false; }\n\nPromise.prototype._fireEvent = defaultFireEvent;\nPromise.prototype._execute = function(executor, resolve, reject) {\n    try {\n        executor(resolve, reject);\n    } catch (e) {\n        return e;\n    }\n};\nPromise.prototype._onCancel = function () {};\nPromise.prototype._setOnCancel = function (handler) { ; };\nPromise.prototype._attachCancellationCallback = function(onCancel) {\n    ;\n};\nPromise.prototype._captureStackTrace = function () {};\nPromise.prototype._attachExtraTrace = function () {};\nPromise.prototype._clearCancellationData = function() {};\nPromise.prototype._propagateFrom = function (parent, flags) {\n    ;\n    ;\n};\n\nfunction cancellationExecute(executor, resolve, reject) {\n    var promise = this;\n    try {\n        executor(resolve, reject, function(onCancel) {\n            if (typeof onCancel !== \"function\") {\n                throw new TypeError(\"onCancel must be a function, got: \" +\n                                    util.toString(onCancel));\n            }\n            promise._attachCancellationCallback(onCancel);\n        });\n    } catch (e) {\n        return e;\n    }\n}\n\nfunction cancellationAttachCancellationCallback(onCancel) {\n    if (!this._isCancellable()) return this;\n\n    var previousOnCancel = this._onCancel();\n    if (previousOnCancel !== undefined) {\n        if (util.isArray(previousOnCancel)) {\n            previousOnCancel.push(onCancel);\n        } else {\n            this._setOnCancel([previousOnCancel, onCancel]);\n        }\n    } else {\n        this._setOnCancel(onCancel);\n    }\n}\n\nfunction cancellationOnCancel() {\n    return this._onCancelField;\n}\n\nfunction cancellationSetOnCancel(onCancel) {\n    this._onCancelField = onCancel;\n}\n\nfunction cancellationClearCancellationData() {\n    this._cancellationParent = undefined;\n    this._onCancelField = undefined;\n}\n\nfunction cancellationPropagateFrom(parent, flags) {\n    if ((flags & 1) !== 0) {\n        this._cancellationParent = parent;\n        var branchesRemainingToCancel = parent._branchesRemainingToCancel;\n        if (branchesRemainingToCancel === undefined) {\n            branchesRemainingToCancel = 0;\n        }\n        parent._branchesRemainingToCancel = branchesRemainingToCancel + 1;\n    }\n    if ((flags & 2) !== 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n}\n\nfunction bindingPropagateFrom(parent, flags) {\n    if ((flags & 2) !== 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n}\nvar propagateFromFunction = bindingPropagateFrom;\n\nfunction boundValueFunction() {\n    var ret = this._boundTo;\n    if (ret !== undefined) {\n        if (ret instanceof Promise) {\n            if (ret.isFulfilled()) {\n                return ret.value();\n            } else {\n                return undefined;\n            }\n        }\n    }\n    return ret;\n}\n\nfunction longStackTracesCaptureStackTrace() {\n    this._trace = new CapturedTrace(this._peekContext());\n}\n\nfunction longStackTracesAttachExtraTrace(error, ignoreSelf) {\n    if (canAttachTrace(error)) {\n        var trace = this._trace;\n        if (trace !== undefined) {\n            if (ignoreSelf) trace = trace._parent;\n        }\n        if (trace !== undefined) {\n            trace.attachExtraTrace(error);\n        } else if (!error.__stackCleaned__) {\n            var parsed = parseStackAndMessage(error);\n            util.notEnumerableProp(error, \"stack\",\n                parsed.message + \"\\n\" + parsed.stack.join(\"\\n\"));\n            util.notEnumerableProp(error, \"__stackCleaned__\", true);\n        }\n    }\n}\n\nfunction checkForgottenReturns(returnValue, promiseCreated, name, promise,\n                               parent) {\n    if (returnValue === undefined && promiseCreated !== null &&\n        wForgottenReturn) {\n        if (parent !== undefined && parent._returnedNonUndefined()) return;\n        if ((promise._bitField & 65535) === 0) return;\n\n        if (name) name = name + \" \";\n        var handlerLine = \"\";\n        var creatorLine = \"\";\n        if (promiseCreated._trace) {\n            var traceLines = promiseCreated._trace.stack.split(\"\\n\");\n            var stack = cleanStack(traceLines);\n            for (var i = stack.length - 1; i >= 0; --i) {\n                var line = stack[i];\n                if (!nodeFramePattern.test(line)) {\n                    var lineMatches = line.match(parseLinePattern);\n                    if (lineMatches) {\n                        handlerLine  = \"at \" + lineMatches[1] +\n                            \":\" + lineMatches[2] + \":\" + lineMatches[3] + \" \";\n                    }\n                    break;\n                }\n            }\n\n            if (stack.length > 0) {\n                var firstUserLine = stack[0];\n                for (var i = 0; i < traceLines.length; ++i) {\n\n                    if (traceLines[i] === firstUserLine) {\n                        if (i > 0) {\n                            creatorLine = \"\\n\" + traceLines[i - 1];\n                        }\n                        break;\n                    }\n                }\n\n            }\n        }\n        var msg = \"a promise was created in a \" + name +\n            \"handler \" + handlerLine + \"but was not returned from it, \" +\n            \"see http://goo.gl/rRqMUw\" +\n            creatorLine;\n        promise._warn(msg, true, promiseCreated);\n    }\n}\n\nfunction deprecated(name, replacement) {\n    var message = name +\n        \" is deprecated and will be removed in a future version.\";\n    if (replacement) message += \" Use \" + replacement + \" instead.\";\n    return warn(message);\n}\n\nfunction warn(message, shouldUseOwnTrace, promise) {\n    if (!config.warnings) return;\n    var warning = new Warning(message);\n    var ctx;\n    if (shouldUseOwnTrace) {\n        promise._attachExtraTrace(warning);\n    } else if (config.longStackTraces && (ctx = Promise._peekContext())) {\n        ctx.attachExtraTrace(warning);\n    } else {\n        var parsed = parseStackAndMessage(warning);\n        warning.stack = parsed.message + \"\\n\" + parsed.stack.join(\"\\n\");\n    }\n\n    if (!activeFireEvent(\"warning\", warning)) {\n        formatAndLogError(warning, \"\", true);\n    }\n}\n\nfunction reconstructStack(message, stacks) {\n    for (var i = 0; i < stacks.length - 1; ++i) {\n        stacks[i].push(\"From previous event:\");\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    if (i < stacks.length) {\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    return message + \"\\n\" + stacks.join(\"\\n\");\n}\n\nfunction removeDuplicateOrEmptyJumps(stacks) {\n    for (var i = 0; i < stacks.length; ++i) {\n        if (stacks[i].length === 0 ||\n            ((i + 1 < stacks.length) && stacks[i][0] === stacks[i+1][0])) {\n            stacks.splice(i, 1);\n            i--;\n        }\n    }\n}\n\nfunction removeCommonRoots(stacks) {\n    var current = stacks[0];\n    for (var i = 1; i < stacks.length; ++i) {\n        var prev = stacks[i];\n        var currentLastIndex = current.length - 1;\n        var currentLastLine = current[currentLastIndex];\n        var commonRootMeetPoint = -1;\n\n        for (var j = prev.length - 1; j >= 0; --j) {\n            if (prev[j] === currentLastLine) {\n                commonRootMeetPoint = j;\n                break;\n            }\n        }\n\n        for (var j = commonRootMeetPoint; j >= 0; --j) {\n            var line = prev[j];\n            if (current[currentLastIndex] === line) {\n                current.pop();\n                currentLastIndex--;\n            } else {\n                break;\n            }\n        }\n        current = prev;\n    }\n}\n\nfunction cleanStack(stack) {\n    var ret = [];\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        var isTraceLine = \"    (No stack trace)\" === line ||\n            stackFramePattern.test(line);\n        var isInternalFrame = isTraceLine && shouldIgnore(line);\n        if (isTraceLine && !isInternalFrame) {\n            if (indentStackFrames && line.charAt(0) !== \" \") {\n                line = \"    \" + line;\n            }\n            ret.push(line);\n        }\n    }\n    return ret;\n}\n\nfunction stackFramesAsArray(error) {\n    var stack = error.stack.replace(/\\s+$/g, \"\").split(\"\\n\");\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        if (\"    (No stack trace)\" === line || stackFramePattern.test(line)) {\n            break;\n        }\n    }\n    if (i > 0 && error.name != \"SyntaxError\") {\n        stack = stack.slice(i);\n    }\n    return stack;\n}\n\nfunction parseStackAndMessage(error) {\n    var stack = error.stack;\n    var message = error.toString();\n    stack = typeof stack === \"string\" && stack.length > 0\n                ? stackFramesAsArray(error) : [\"    (No stack trace)\"];\n    return {\n        message: message,\n        stack: error.name == \"SyntaxError\" ? stack : cleanStack(stack)\n    };\n}\n\nfunction formatAndLogError(error, title, isSoft) {\n    if (typeof console !== \"undefined\") {\n        var message;\n        if (util.isObject(error)) {\n            var stack = error.stack;\n            message = title + formatStack(stack, error);\n        } else {\n            message = title + String(error);\n        }\n        if (typeof printWarning === \"function\") {\n            printWarning(message, isSoft);\n        } else if (typeof console.log === \"function\" ||\n            typeof console.log === \"object\") {\n            console.log(message);\n        }\n    }\n}\n\nfunction fireRejectionEvent(name, localHandler, reason, promise) {\n    var localEventFired = false;\n    try {\n        if (typeof localHandler === \"function\") {\n            localEventFired = true;\n            if (name === \"rejectionHandled\") {\n                localHandler(promise);\n            } else {\n                localHandler(reason, promise);\n            }\n        }\n    } catch (e) {\n        async.throwLater(e);\n    }\n\n    if (name === \"unhandledRejection\") {\n        if (!activeFireEvent(name, reason, promise) && !localEventFired) {\n            formatAndLogError(reason, \"Unhandled rejection \");\n        }\n    } else {\n        activeFireEvent(name, promise);\n    }\n}\n\nfunction formatNonError(obj) {\n    var str;\n    if (typeof obj === \"function\") {\n        str = \"[function \" +\n            (obj.name || \"anonymous\") +\n            \"]\";\n    } else {\n        str = obj && typeof obj.toString === \"function\"\n            ? obj.toString() : util.toString(obj);\n        var ruselessToString = /\\[object [a-zA-Z0-9$_]+\\]/;\n        if (ruselessToString.test(str)) {\n            try {\n                var newStr = JSON.stringify(obj);\n                str = newStr;\n            }\n            catch(e) {\n\n            }\n        }\n        if (str.length === 0) {\n            str = \"(empty array)\";\n        }\n    }\n    return (\"(<\" + snip(str) + \">, no stack trace)\");\n}\n\nfunction snip(str) {\n    var maxChars = 41;\n    if (str.length < maxChars) {\n        return str;\n    }\n    return str.substr(0, maxChars - 3) + \"...\";\n}\n\nfunction longStackTracesIsSupported() {\n    return typeof captureStackTrace === \"function\";\n}\n\nvar shouldIgnore = function() { return false; };\nvar parseLineInfoRegex = /[\\/<\\(]([^:\\/]+):(\\d+):(?:\\d+)\\)?\\s*$/;\nfunction parseLineInfo(line) {\n    var matches = line.match(parseLineInfoRegex);\n    if (matches) {\n        return {\n            fileName: matches[1],\n            line: parseInt(matches[2], 10)\n        };\n    }\n}\n\nfunction setBounds(firstLineError, lastLineError) {\n    if (!longStackTracesIsSupported()) return;\n    var firstStackLines = firstLineError.stack.split(\"\\n\");\n    var lastStackLines = lastLineError.stack.split(\"\\n\");\n    var firstIndex = -1;\n    var lastIndex = -1;\n    var firstFileName;\n    var lastFileName;\n    for (var i = 0; i < firstStackLines.length; ++i) {\n        var result = parseLineInfo(firstStackLines[i]);\n        if (result) {\n            firstFileName = result.fileName;\n            firstIndex = result.line;\n            break;\n        }\n    }\n    for (var i = 0; i < lastStackLines.length; ++i) {\n        var result = parseLineInfo(lastStackLines[i]);\n        if (result) {\n            lastFileName = result.fileName;\n            lastIndex = result.line;\n            break;\n        }\n    }\n    if (firstIndex < 0 || lastIndex < 0 || !firstFileName || !lastFileName ||\n        firstFileName !== lastFileName || firstIndex >= lastIndex) {\n        return;\n    }\n\n    shouldIgnore = function(line) {\n        if (bluebirdFramePattern.test(line)) return true;\n        var info = parseLineInfo(line);\n        if (info) {\n            if (info.fileName === firstFileName &&\n                (firstIndex <= info.line && info.line <= lastIndex)) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\n\nfunction CapturedTrace(parent) {\n    this._parent = parent;\n    this._promisesCreated = 0;\n    var length = this._length = 1 + (parent === undefined ? 0 : parent._length);\n    captureStackTrace(this, CapturedTrace);\n    if (length > 32) this.uncycle();\n}\nutil.inherits(CapturedTrace, Error);\nContext.CapturedTrace = CapturedTrace;\n\nCapturedTrace.prototype.uncycle = function() {\n    var length = this._length;\n    if (length < 2) return;\n    var nodes = [];\n    var stackToIndex = {};\n\n    for (var i = 0, node = this; node !== undefined; ++i) {\n        nodes.push(node);\n        node = node._parent;\n    }\n    length = this._length = i;\n    for (var i = length - 1; i >= 0; --i) {\n        var stack = nodes[i].stack;\n        if (stackToIndex[stack] === undefined) {\n            stackToIndex[stack] = i;\n        }\n    }\n    for (var i = 0; i < length; ++i) {\n        var currentStack = nodes[i].stack;\n        var index = stackToIndex[currentStack];\n        if (index !== undefined && index !== i) {\n            if (index > 0) {\n                nodes[index - 1]._parent = undefined;\n                nodes[index - 1]._length = 1;\n            }\n            nodes[i]._parent = undefined;\n            nodes[i]._length = 1;\n            var cycleEdgeNode = i > 0 ? nodes[i - 1] : this;\n\n            if (index < length - 1) {\n                cycleEdgeNode._parent = nodes[index + 1];\n                cycleEdgeNode._parent.uncycle();\n                cycleEdgeNode._length =\n                    cycleEdgeNode._parent._length + 1;\n            } else {\n                cycleEdgeNode._parent = undefined;\n                cycleEdgeNode._length = 1;\n            }\n            var currentChildLength = cycleEdgeNode._length + 1;\n            for (var j = i - 2; j >= 0; --j) {\n                nodes[j]._length = currentChildLength;\n                currentChildLength++;\n            }\n            return;\n        }\n    }\n};\n\nCapturedTrace.prototype.attachExtraTrace = function(error) {\n    if (error.__stackCleaned__) return;\n    this.uncycle();\n    var parsed = parseStackAndMessage(error);\n    var message = parsed.message;\n    var stacks = [parsed.stack];\n\n    var trace = this;\n    while (trace !== undefined) {\n        stacks.push(cleanStack(trace.stack.split(\"\\n\")));\n        trace = trace._parent;\n    }\n    removeCommonRoots(stacks);\n    removeDuplicateOrEmptyJumps(stacks);\n    util.notEnumerableProp(error, \"stack\", reconstructStack(message, stacks));\n    util.notEnumerableProp(error, \"__stackCleaned__\", true);\n};\n\nvar captureStackTrace = (function stackDetection() {\n    var v8stackFramePattern = /^\\s*at\\s*/;\n    var v8stackFormatter = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if (error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    if (typeof Error.stackTraceLimit === \"number\" &&\n        typeof Error.captureStackTrace === \"function\") {\n        Error.stackTraceLimit += 6;\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        var captureStackTrace = Error.captureStackTrace;\n\n        shouldIgnore = function(line) {\n            return bluebirdFramePattern.test(line);\n        };\n        return function(receiver, ignoreUntil) {\n            Error.stackTraceLimit += 6;\n            captureStackTrace(receiver, ignoreUntil);\n            Error.stackTraceLimit -= 6;\n        };\n    }\n    var err = new Error();\n\n    if (typeof err.stack === \"string\" &&\n        err.stack.split(\"\\n\")[0].indexOf(\"stackDetection@\") >= 0) {\n        stackFramePattern = /@/;\n        formatStack = v8stackFormatter;\n        indentStackFrames = true;\n        return function captureStackTrace(o) {\n            o.stack = new Error().stack;\n        };\n    }\n\n    var hasStackAfterThrow;\n    try { throw new Error(); }\n    catch(e) {\n        hasStackAfterThrow = (\"stack\" in e);\n    }\n    if (!(\"stack\" in err) && hasStackAfterThrow &&\n        typeof Error.stackTraceLimit === \"number\") {\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        return function captureStackTrace(o) {\n            Error.stackTraceLimit += 6;\n            try { throw new Error(); }\n            catch(e) { o.stack = e.stack; }\n            Error.stackTraceLimit -= 6;\n        };\n    }\n\n    formatStack = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if ((typeof error === \"object\" ||\n            typeof error === \"function\") &&\n            error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    return null;\n\n})([]);\n\nif (typeof console !== \"undefined\" && typeof console.warn !== \"undefined\") {\n    printWarning = function (message) {\n        console.warn(message);\n    };\n    if (util.isNode && process.stderr.isTTY) {\n        printWarning = function(message, isSoft) {\n            var color = isSoft ? \"\\u001b[33m\" : \"\\u001b[31m\";\n            console.warn(color + message + \"\\u001b[0m\\n\");\n        };\n    } else if (!util.isNode && typeof (new Error().stack) === \"string\") {\n        printWarning = function(message, isSoft) {\n            console.warn(\"%c\" + message,\n                        isSoft ? \"color: darkorange\" : \"color: red\");\n        };\n    }\n}\n\nvar config = {\n    warnings: warnings,\n    longStackTraces: false,\n    cancellation: false,\n    monitoring: false\n};\n\nif (longStackTraces) Promise.longStackTraces();\n\nreturn {\n    longStackTraces: function() {\n        return config.longStackTraces;\n    },\n    warnings: function() {\n        return config.warnings;\n    },\n    cancellation: function() {\n        return config.cancellation;\n    },\n    monitoring: function() {\n        return config.monitoring;\n    },\n    propagateFromFunction: function() {\n        return propagateFromFunction;\n    },\n    boundValueFunction: function() {\n        return boundValueFunction;\n    },\n    checkForgottenReturns: checkForgottenReturns,\n    setBounds: setBounds,\n    warn: warn,\n    deprecated: deprecated,\n    CapturedTrace: CapturedTrace,\n    fireDomEvent: fireDomEvent,\n    fireGlobalEvent: fireGlobalEvent\n};\n};\n\n},{\"./errors\":12,\"./util\":36}],10:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nfunction returner() {\n    return this.value;\n}\nfunction thrower() {\n    throw this.reason;\n}\n\nPromise.prototype[\"return\"] =\nPromise.prototype.thenReturn = function (value) {\n    if (value instanceof Promise) value.suppressUnhandledRejections();\n    return this._then(\n        returner, undefined, undefined, {value: value}, undefined);\n};\n\nPromise.prototype[\"throw\"] =\nPromise.prototype.thenThrow = function (reason) {\n    return this._then(\n        thrower, undefined, undefined, {reason: reason}, undefined);\n};\n\nPromise.prototype.catchThrow = function (reason) {\n    if (arguments.length <= 1) {\n        return this._then(\n            undefined, thrower, undefined, {reason: reason}, undefined);\n    } else {\n        var _reason = arguments[1];\n        var handler = function() {throw _reason;};\n        return this.caught(reason, handler);\n    }\n};\n\nPromise.prototype.catchReturn = function (value) {\n    if (arguments.length <= 1) {\n        if (value instanceof Promise) value.suppressUnhandledRejections();\n        return this._then(\n            undefined, returner, undefined, {value: value}, undefined);\n    } else {\n        var _value = arguments[1];\n        if (_value instanceof Promise) _value.suppressUnhandledRejections();\n        var handler = function() {return _value;};\n        return this.caught(value, handler);\n    }\n};\n};\n\n},{}],11:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar PromiseReduce = Promise.reduce;\nvar PromiseAll = Promise.all;\n\nfunction promiseAllThis() {\n    return PromiseAll(this);\n}\n\nfunction PromiseMapSeries(promises, fn) {\n    return PromiseReduce(promises, fn, INTERNAL, INTERNAL);\n}\n\nPromise.prototype.each = function (fn) {\n    return PromiseReduce(this, fn, INTERNAL, 0)\n              ._then(promiseAllThis, undefined, undefined, this, undefined);\n};\n\nPromise.prototype.mapSeries = function (fn) {\n    return PromiseReduce(this, fn, INTERNAL, INTERNAL);\n};\n\nPromise.each = function (promises, fn) {\n    return PromiseReduce(promises, fn, INTERNAL, 0)\n              ._then(promiseAllThis, undefined, undefined, promises, undefined);\n};\n\nPromise.mapSeries = PromiseMapSeries;\n};\n\n\n},{}],12:[function(_dereq_,module,exports){\n\"use strict\";\nvar es5 = _dereq_(\"./es5\");\nvar Objectfreeze = es5.freeze;\nvar util = _dereq_(\"./util\");\nvar inherits = util.inherits;\nvar notEnumerableProp = util.notEnumerableProp;\n\nfunction subError(nameProperty, defaultMessage) {\n    function SubError(message) {\n        if (!(this instanceof SubError)) return new SubError(message);\n        notEnumerableProp(this, \"message\",\n            typeof message === \"string\" ? message : defaultMessage);\n        notEnumerableProp(this, \"name\", nameProperty);\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, this.constructor);\n        } else {\n            Error.call(this);\n        }\n    }\n    inherits(SubError, Error);\n    return SubError;\n}\n\nvar _TypeError, _RangeError;\nvar Warning = subError(\"Warning\", \"warning\");\nvar CancellationError = subError(\"CancellationError\", \"cancellation error\");\nvar TimeoutError = subError(\"TimeoutError\", \"timeout error\");\nvar AggregateError = subError(\"AggregateError\", \"aggregate error\");\ntry {\n    _TypeError = TypeError;\n    _RangeError = RangeError;\n} catch(e) {\n    _TypeError = subError(\"TypeError\", \"type error\");\n    _RangeError = subError(\"RangeError\", \"range error\");\n}\n\nvar methods = (\"join pop push shift unshift slice filter forEach some \" +\n    \"every map indexOf lastIndexOf reduce reduceRight sort reverse\").split(\" \");\n\nfor (var i = 0; i < methods.length; ++i) {\n    if (typeof Array.prototype[methods[i]] === \"function\") {\n        AggregateError.prototype[methods[i]] = Array.prototype[methods[i]];\n    }\n}\n\nes5.defineProperty(AggregateError.prototype, \"length\", {\n    value: 0,\n    configurable: false,\n    writable: true,\n    enumerable: true\n});\nAggregateError.prototype[\"isOperational\"] = true;\nvar level = 0;\nAggregateError.prototype.toString = function() {\n    var indent = Array(level * 4 + 1).join(\" \");\n    var ret = \"\\n\" + indent + \"AggregateError of:\" + \"\\n\";\n    level++;\n    indent = Array(level * 4 + 1).join(\" \");\n    for (var i = 0; i < this.length; ++i) {\n        var str = this[i] === this ? \"[Circular AggregateError]\" : this[i] + \"\";\n        var lines = str.split(\"\\n\");\n        for (var j = 0; j < lines.length; ++j) {\n            lines[j] = indent + lines[j];\n        }\n        str = lines.join(\"\\n\");\n        ret += str + \"\\n\";\n    }\n    level--;\n    return ret;\n};\n\nfunction OperationalError(message) {\n    if (!(this instanceof OperationalError))\n        return new OperationalError(message);\n    notEnumerableProp(this, \"name\", \"OperationalError\");\n    notEnumerableProp(this, \"message\", message);\n    this.cause = message;\n    this[\"isOperational\"] = true;\n\n    if (message instanceof Error) {\n        notEnumerableProp(this, \"message\", message.message);\n        notEnumerableProp(this, \"stack\", message.stack);\n    } else if (Error.captureStackTrace) {\n        Error.captureStackTrace(this, this.constructor);\n    }\n\n}\ninherits(OperationalError, Error);\n\nvar errorTypes = Error[\"__BluebirdErrorTypes__\"];\nif (!errorTypes) {\n    errorTypes = Objectfreeze({\n        CancellationError: CancellationError,\n        TimeoutError: TimeoutError,\n        OperationalError: OperationalError,\n        RejectionError: OperationalError,\n        AggregateError: AggregateError\n    });\n    es5.defineProperty(Error, \"__BluebirdErrorTypes__\", {\n        value: errorTypes,\n        writable: false,\n        enumerable: false,\n        configurable: false\n    });\n}\n\nmodule.exports = {\n    Error: Error,\n    TypeError: _TypeError,\n    RangeError: _RangeError,\n    CancellationError: errorTypes.CancellationError,\n    OperationalError: errorTypes.OperationalError,\n    TimeoutError: errorTypes.TimeoutError,\n    AggregateError: errorTypes.AggregateError,\n    Warning: Warning\n};\n\n},{\"./es5\":13,\"./util\":36}],13:[function(_dereq_,module,exports){\nvar isES5 = (function(){\n    \"use strict\";\n    return this === undefined;\n})();\n\nif (isES5) {\n    module.exports = {\n        freeze: Object.freeze,\n        defineProperty: Object.defineProperty,\n        getDescriptor: Object.getOwnPropertyDescriptor,\n        keys: Object.keys,\n        names: Object.getOwnPropertyNames,\n        getPrototypeOf: Object.getPrototypeOf,\n        isArray: Array.isArray,\n        isES5: isES5,\n        propertyIsWritable: function(obj, prop) {\n            var descriptor = Object.getOwnPropertyDescriptor(obj, prop);\n            return !!(!descriptor || descriptor.writable || descriptor.set);\n        }\n    };\n} else {\n    var has = {}.hasOwnProperty;\n    var str = {}.toString;\n    var proto = {}.constructor.prototype;\n\n    var ObjectKeys = function (o) {\n        var ret = [];\n        for (var key in o) {\n            if (has.call(o, key)) {\n                ret.push(key);\n            }\n        }\n        return ret;\n    };\n\n    var ObjectGetDescriptor = function(o, key) {\n        return {value: o[key]};\n    };\n\n    var ObjectDefineProperty = function (o, key, desc) {\n        o[key] = desc.value;\n        return o;\n    };\n\n    var ObjectFreeze = function (obj) {\n        return obj;\n    };\n\n    var ObjectGetPrototypeOf = function (obj) {\n        try {\n            return Object(obj).constructor.prototype;\n        }\n        catch (e) {\n            return proto;\n        }\n    };\n\n    var ArrayIsArray = function (obj) {\n        try {\n            return str.call(obj) === \"[object Array]\";\n        }\n        catch(e) {\n            return false;\n        }\n    };\n\n    module.exports = {\n        isArray: ArrayIsArray,\n        keys: ObjectKeys,\n        names: ObjectKeys,\n        defineProperty: ObjectDefineProperty,\n        getDescriptor: ObjectGetDescriptor,\n        freeze: ObjectFreeze,\n        getPrototypeOf: ObjectGetPrototypeOf,\n        isES5: isES5,\n        propertyIsWritable: function() {\n            return true;\n        }\n    };\n}\n\n},{}],14:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar PromiseMap = Promise.map;\n\nPromise.prototype.filter = function (fn, options) {\n    return PromiseMap(this, fn, options, INTERNAL);\n};\n\nPromise.filter = function (promises, fn, options) {\n    return PromiseMap(promises, fn, options, INTERNAL);\n};\n};\n\n},{}],15:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, tryConvertToPromise, NEXT_FILTER) {\nvar util = _dereq_(\"./util\");\nvar CancellationError = Promise.CancellationError;\nvar errorObj = util.errorObj;\nvar catchFilter = _dereq_(\"./catch_filter\")(NEXT_FILTER);\n\nfunction PassThroughHandlerContext(promise, type, handler) {\n    this.promise = promise;\n    this.type = type;\n    this.handler = handler;\n    this.called = false;\n    this.cancelPromise = null;\n}\n\nPassThroughHandlerContext.prototype.isFinallyHandler = function() {\n    return this.type === 0;\n};\n\nfunction FinallyHandlerCancelReaction(finallyHandler) {\n    this.finallyHandler = finallyHandler;\n}\n\nFinallyHandlerCancelReaction.prototype._resultCancelled = function() {\n    checkCancel(this.finallyHandler);\n};\n\nfunction checkCancel(ctx, reason) {\n    if (ctx.cancelPromise != null) {\n        if (arguments.length > 1) {\n            ctx.cancelPromise._reject(reason);\n        } else {\n            ctx.cancelPromise._cancel();\n        }\n        ctx.cancelPromise = null;\n        return true;\n    }\n    return false;\n}\n\nfunction succeed() {\n    return finallyHandler.call(this, this.promise._target()._settledValue());\n}\nfunction fail(reason) {\n    if (checkCancel(this, reason)) return;\n    errorObj.e = reason;\n    return errorObj;\n}\nfunction finallyHandler(reasonOrValue) {\n    var promise = this.promise;\n    var handler = this.handler;\n\n    if (!this.called) {\n        this.called = true;\n        var ret = this.isFinallyHandler()\n            ? handler.call(promise._boundValue())\n            : handler.call(promise._boundValue(), reasonOrValue);\n        if (ret === NEXT_FILTER) {\n            return ret;\n        } else if (ret !== undefined) {\n            promise._setReturnedNonUndefined();\n            var maybePromise = tryConvertToPromise(ret, promise);\n            if (maybePromise instanceof Promise) {\n                if (this.cancelPromise != null) {\n                    if (maybePromise._isCancelled()) {\n                        var reason =\n                            new CancellationError(\"late cancellation observer\");\n                        promise._attachExtraTrace(reason);\n                        errorObj.e = reason;\n                        return errorObj;\n                    } else if (maybePromise.isPending()) {\n                        maybePromise._attachCancellationCallback(\n                            new FinallyHandlerCancelReaction(this));\n                    }\n                }\n                return maybePromise._then(\n                    succeed, fail, undefined, this, undefined);\n            }\n        }\n    }\n\n    if (promise.isRejected()) {\n        checkCancel(this);\n        errorObj.e = reasonOrValue;\n        return errorObj;\n    } else {\n        checkCancel(this);\n        return reasonOrValue;\n    }\n}\n\nPromise.prototype._passThrough = function(handler, type, success, fail) {\n    if (typeof handler !== \"function\") return this.then();\n    return this._then(success,\n                      fail,\n                      undefined,\n                      new PassThroughHandlerContext(this, type, handler),\n                      undefined);\n};\n\nPromise.prototype.lastly =\nPromise.prototype[\"finally\"] = function (handler) {\n    return this._passThrough(handler,\n                             0,\n                             finallyHandler,\n                             finallyHandler);\n};\n\n\nPromise.prototype.tap = function (handler) {\n    return this._passThrough(handler, 1, finallyHandler);\n};\n\nPromise.prototype.tapCatch = function (handlerOrPredicate) {\n    var len = arguments.length;\n    if(len === 1) {\n        return this._passThrough(handlerOrPredicate,\n                                 1,\n                                 undefined,\n                                 finallyHandler);\n    } else {\n         var catchInstances = new Array(len - 1),\n            j = 0, i;\n        for (i = 0; i < len - 1; ++i) {\n            var item = arguments[i];\n            if (util.isObject(item)) {\n                catchInstances[j++] = item;\n            } else {\n                return Promise.reject(new TypeError(\n                    \"tapCatch statement predicate: \"\n                    + \"expecting an object but got \" + util.classString(item)\n                ));\n            }\n        }\n        catchInstances.length = j;\n        var handler = arguments[i];\n        return this._passThrough(catchFilter(catchInstances, handler, this),\n                                 1,\n                                 undefined,\n                                 finallyHandler);\n    }\n\n};\n\nreturn PassThroughHandlerContext;\n};\n\n},{\"./catch_filter\":7,\"./util\":36}],16:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          apiRejection,\n                          INTERNAL,\n                          tryConvertToPromise,\n                          Proxyable,\n                          debug) {\nvar errors = _dereq_(\"./errors\");\nvar TypeError = errors.TypeError;\nvar util = _dereq_(\"./util\");\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nvar yieldHandlers = [];\n\nfunction promiseFromYieldHandler(value, yieldHandlers, traceParent) {\n    for (var i = 0; i < yieldHandlers.length; ++i) {\n        traceParent._pushContext();\n        var result = tryCatch(yieldHandlers[i])(value);\n        traceParent._popContext();\n        if (result === errorObj) {\n            traceParent._pushContext();\n            var ret = Promise.reject(errorObj.e);\n            traceParent._popContext();\n            return ret;\n        }\n        var maybePromise = tryConvertToPromise(result, traceParent);\n        if (maybePromise instanceof Promise) return maybePromise;\n    }\n    return null;\n}\n\nfunction PromiseSpawn(generatorFunction, receiver, yieldHandler, stack) {\n    if (debug.cancellation()) {\n        var internal = new Promise(INTERNAL);\n        var _finallyPromise = this._finallyPromise = new Promise(INTERNAL);\n        this._promise = internal.lastly(function() {\n            return _finallyPromise;\n        });\n        internal._captureStackTrace();\n        internal._setOnCancel(this);\n    } else {\n        var promise = this._promise = new Promise(INTERNAL);\n        promise._captureStackTrace();\n    }\n    this._stack = stack;\n    this._generatorFunction = generatorFunction;\n    this._receiver = receiver;\n    this._generator = undefined;\n    this._yieldHandlers = typeof yieldHandler === \"function\"\n        ? [yieldHandler].concat(yieldHandlers)\n        : yieldHandlers;\n    this._yieldedPromise = null;\n    this._cancellationPhase = false;\n}\nutil.inherits(PromiseSpawn, Proxyable);\n\nPromiseSpawn.prototype._isResolved = function() {\n    return this._promise === null;\n};\n\nPromiseSpawn.prototype._cleanup = function() {\n    this._promise = this._generator = null;\n    if (debug.cancellation() && this._finallyPromise !== null) {\n        this._finallyPromise._fulfill();\n        this._finallyPromise = null;\n    }\n};\n\nPromiseSpawn.prototype._promiseCancelled = function() {\n    if (this._isResolved()) return;\n    var implementsReturn = typeof this._generator[\"return\"] !== \"undefined\";\n\n    var result;\n    if (!implementsReturn) {\n        var reason = new Promise.CancellationError(\n            \"generator .return() sentinel\");\n        Promise.coroutine.returnSentinel = reason;\n        this._promise._attachExtraTrace(reason);\n        this._promise._pushContext();\n        result = tryCatch(this._generator[\"throw\"]).call(this._generator,\n                                                         reason);\n        this._promise._popContext();\n    } else {\n        this._promise._pushContext();\n        result = tryCatch(this._generator[\"return\"]).call(this._generator,\n                                                          undefined);\n        this._promise._popContext();\n    }\n    this._cancellationPhase = true;\n    this._yieldedPromise = null;\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._promiseFulfilled = function(value) {\n    this._yieldedPromise = null;\n    this._promise._pushContext();\n    var result = tryCatch(this._generator.next).call(this._generator, value);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._promiseRejected = function(reason) {\n    this._yieldedPromise = null;\n    this._promise._attachExtraTrace(reason);\n    this._promise._pushContext();\n    var result = tryCatch(this._generator[\"throw\"])\n        .call(this._generator, reason);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._resultCancelled = function() {\n    if (this._yieldedPromise instanceof Promise) {\n        var promise = this._yieldedPromise;\n        this._yieldedPromise = null;\n        promise.cancel();\n    }\n};\n\nPromiseSpawn.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseSpawn.prototype._run = function () {\n    this._generator = this._generatorFunction.call(this._receiver);\n    this._receiver =\n        this._generatorFunction = undefined;\n    this._promiseFulfilled(undefined);\n};\n\nPromiseSpawn.prototype._continue = function (result) {\n    var promise = this._promise;\n    if (result === errorObj) {\n        this._cleanup();\n        if (this._cancellationPhase) {\n            return promise.cancel();\n        } else {\n            return promise._rejectCallback(result.e, false);\n        }\n    }\n\n    var value = result.value;\n    if (result.done === true) {\n        this._cleanup();\n        if (this._cancellationPhase) {\n            return promise.cancel();\n        } else {\n            return promise._resolveCallback(value);\n        }\n    } else {\n        var maybePromise = tryConvertToPromise(value, this._promise);\n        if (!(maybePromise instanceof Promise)) {\n            maybePromise =\n                promiseFromYieldHandler(maybePromise,\n                                        this._yieldHandlers,\n                                        this._promise);\n            if (maybePromise === null) {\n                this._promiseRejected(\n                    new TypeError(\n                        \"A value %s was yielded that could not be treated as a promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\\u000a\".replace(\"%s\", String(value)) +\n                        \"From coroutine:\\u000a\" +\n                        this._stack.split(\"\\n\").slice(1, -7).join(\"\\n\")\n                    )\n                );\n                return;\n            }\n        }\n        maybePromise = maybePromise._target();\n        var bitField = maybePromise._bitField;\n        ;\n        if (((bitField & 50397184) === 0)) {\n            this._yieldedPromise = maybePromise;\n            maybePromise._proxy(this, null);\n        } else if (((bitField & 33554432) !== 0)) {\n            Promise._async.invoke(\n                this._promiseFulfilled, this, maybePromise._value()\n            );\n        } else if (((bitField & 16777216) !== 0)) {\n            Promise._async.invoke(\n                this._promiseRejected, this, maybePromise._reason()\n            );\n        } else {\n            this._promiseCancelled();\n        }\n    }\n};\n\nPromise.coroutine = function (generatorFunction, options) {\n    if (typeof generatorFunction !== \"function\") {\n        throw new TypeError(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var yieldHandler = Object(options).yieldHandler;\n    var PromiseSpawn$ = PromiseSpawn;\n    var stack = new Error().stack;\n    return function () {\n        var generator = generatorFunction.apply(this, arguments);\n        var spawn = new PromiseSpawn$(undefined, undefined, yieldHandler,\n                                      stack);\n        var ret = spawn.promise();\n        spawn._generator = generator;\n        spawn._promiseFulfilled(undefined);\n        return ret;\n    };\n};\n\nPromise.coroutine.addYieldHandler = function(fn) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    yieldHandlers.push(fn);\n};\n\nPromise.spawn = function (generatorFunction) {\n    debug.deprecated(\"Promise.spawn()\", \"Promise.coroutine()\");\n    if (typeof generatorFunction !== \"function\") {\n        return apiRejection(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var spawn = new PromiseSpawn(generatorFunction, this);\n    var ret = spawn.promise();\n    spawn._run(Promise.spawn);\n    return ret;\n};\n};\n\n},{\"./errors\":12,\"./util\":36}],17:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, PromiseArray, tryConvertToPromise, INTERNAL, async,\n         getDomain) {\nvar util = _dereq_(\"./util\");\nvar canEvaluate = util.canEvaluate;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar reject;\n\nif (!true) {\nif (canEvaluate) {\n    var thenCallback = function(i) {\n        return new Function(\"value\", \"holder\", \"                             \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = value;                                           \\n\\\n            holder.checkFulfillment(this);                                   \\n\\\n            \".replace(/Index/g, i));\n    };\n\n    var promiseSetter = function(i) {\n        return new Function(\"promise\", \"holder\", \"                           \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = promise;                                         \\n\\\n            \".replace(/Index/g, i));\n    };\n\n    var generateHolderClass = function(total) {\n        var props = new Array(total);\n        for (var i = 0; i < props.length; ++i) {\n            props[i] = \"this.p\" + (i+1);\n        }\n        var assignment = props.join(\" = \") + \" = null;\";\n        var cancellationCode= \"var promise;\\n\" + props.map(function(prop) {\n            return \"                                                         \\n\\\n                promise = \" + prop + \";                                      \\n\\\n                if (promise instanceof Promise) {                            \\n\\\n                    promise.cancel();                                        \\n\\\n                }                                                            \\n\\\n            \";\n        }).join(\"\\n\");\n        var passedArguments = props.join(\", \");\n        var name = \"Holder$\" + total;\n\n\n        var code = \"return function(tryCatch, errorObj, Promise, async) {    \\n\\\n            'use strict';                                                    \\n\\\n            function [TheName](fn) {                                         \\n\\\n                [TheProperties]                                              \\n\\\n                this.fn = fn;                                                \\n\\\n                this.asyncNeeded = true;                                     \\n\\\n                this.now = 0;                                                \\n\\\n            }                                                                \\n\\\n                                                                             \\n\\\n            [TheName].prototype._callFunction = function(promise) {          \\n\\\n                promise._pushContext();                                      \\n\\\n                var ret = tryCatch(this.fn)([ThePassedArguments]);           \\n\\\n                promise._popContext();                                       \\n\\\n                if (ret === errorObj) {                                      \\n\\\n                    promise._rejectCallback(ret.e, false);                   \\n\\\n                } else {                                                     \\n\\\n                    promise._resolveCallback(ret);                           \\n\\\n                }                                                            \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            [TheName].prototype.checkFulfillment = function(promise) {       \\n\\\n                var now = ++this.now;                                        \\n\\\n                if (now === [TheTotal]) {                                    \\n\\\n                    if (this.asyncNeeded) {                                  \\n\\\n                        async.invoke(this._callFunction, this, promise);     \\n\\\n                    } else {                                                 \\n\\\n                        this._callFunction(promise);                         \\n\\\n                    }                                                        \\n\\\n                                                                             \\n\\\n                }                                                            \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            [TheName].prototype._resultCancelled = function() {              \\n\\\n                [CancellationCode]                                           \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            return [TheName];                                                \\n\\\n        }(tryCatch, errorObj, Promise, async);                               \\n\\\n        \";\n\n        code = code.replace(/\\[TheName\\]/g, name)\n            .replace(/\\[TheTotal\\]/g, total)\n            .replace(/\\[ThePassedArguments\\]/g, passedArguments)\n            .replace(/\\[TheProperties\\]/g, assignment)\n            .replace(/\\[CancellationCode\\]/g, cancellationCode);\n\n        return new Function(\"tryCatch\", \"errorObj\", \"Promise\", \"async\", code)\n                           (tryCatch, errorObj, Promise, async);\n    };\n\n    var holderClasses = [];\n    var thenCallbacks = [];\n    var promiseSetters = [];\n\n    for (var i = 0; i < 8; ++i) {\n        holderClasses.push(generateHolderClass(i + 1));\n        thenCallbacks.push(thenCallback(i + 1));\n        promiseSetters.push(promiseSetter(i + 1));\n    }\n\n    reject = function (reason) {\n        this._reject(reason);\n    };\n}}\n\nPromise.join = function () {\n    var last = arguments.length - 1;\n    var fn;\n    if (last > 0 && typeof arguments[last] === \"function\") {\n        fn = arguments[last];\n        if (!true) {\n            if (last <= 8 && canEvaluate) {\n                var ret = new Promise(INTERNAL);\n                ret._captureStackTrace();\n                var HolderClass = holderClasses[last - 1];\n                var holder = new HolderClass(fn);\n                var callbacks = thenCallbacks;\n\n                for (var i = 0; i < last; ++i) {\n                    var maybePromise = tryConvertToPromise(arguments[i], ret);\n                    if (maybePromise instanceof Promise) {\n                        maybePromise = maybePromise._target();\n                        var bitField = maybePromise._bitField;\n                        ;\n                        if (((bitField & 50397184) === 0)) {\n                            maybePromise._then(callbacks[i], reject,\n                                               undefined, ret, holder);\n                            promiseSetters[i](maybePromise, holder);\n                            holder.asyncNeeded = false;\n                        } else if (((bitField & 33554432) !== 0)) {\n                            callbacks[i].call(ret,\n                                              maybePromise._value(), holder);\n                        } else if (((bitField & 16777216) !== 0)) {\n                            ret._reject(maybePromise._reason());\n                        } else {\n                            ret._cancel();\n                        }\n                    } else {\n                        callbacks[i].call(ret, maybePromise, holder);\n                    }\n                }\n\n                if (!ret._isFateSealed()) {\n                    if (holder.asyncNeeded) {\n                        var domain = getDomain();\n                        if (domain !== null) {\n                            holder.fn = util.domainBind(domain, holder.fn);\n                        }\n                    }\n                    ret._setAsyncGuaranteed();\n                    ret._setOnCancel(holder);\n                }\n                return ret;\n            }\n        }\n    }\n    var args = [].slice.call(arguments);;\n    if (fn) args.pop();\n    var ret = new PromiseArray(args).promise();\n    return fn !== undefined ? ret.spread(fn) : ret;\n};\n\n};\n\n},{\"./util\":36}],18:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL,\n                          debug) {\nvar getDomain = Promise._getDomain;\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar async = Promise._async;\n\nfunction MappingPromiseArray(promises, fn, limit, _filter) {\n    this.constructor$(promises);\n    this._promise._captureStackTrace();\n    var domain = getDomain();\n    this._callback = domain === null ? fn : util.domainBind(domain, fn);\n    this._preservedValues = _filter === INTERNAL\n        ? new Array(this.length())\n        : null;\n    this._limit = limit;\n    this._inFlight = 0;\n    this._queue = [];\n    async.invoke(this._asyncInit, this, undefined);\n}\nutil.inherits(MappingPromiseArray, PromiseArray);\n\nMappingPromiseArray.prototype._asyncInit = function() {\n    this._init$(undefined, -2);\n};\n\nMappingPromiseArray.prototype._init = function () {};\n\nMappingPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var values = this._values;\n    var length = this.length();\n    var preservedValues = this._preservedValues;\n    var limit = this._limit;\n\n    if (index < 0) {\n        index = (index * -1) - 1;\n        values[index] = value;\n        if (limit >= 1) {\n            this._inFlight--;\n            this._drainQueue();\n            if (this._isResolved()) return true;\n        }\n    } else {\n        if (limit >= 1 && this._inFlight >= limit) {\n            values[index] = value;\n            this._queue.push(index);\n            return false;\n        }\n        if (preservedValues !== null) preservedValues[index] = value;\n\n        var promise = this._promise;\n        var callback = this._callback;\n        var receiver = promise._boundValue();\n        promise._pushContext();\n        var ret = tryCatch(callback).call(receiver, value, index, length);\n        var promiseCreated = promise._popContext();\n        debug.checkForgottenReturns(\n            ret,\n            promiseCreated,\n            preservedValues !== null ? \"Promise.filter\" : \"Promise.map\",\n            promise\n        );\n        if (ret === errorObj) {\n            this._reject(ret.e);\n            return true;\n        }\n\n        var maybePromise = tryConvertToPromise(ret, this._promise);\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            var bitField = maybePromise._bitField;\n            ;\n            if (((bitField & 50397184) === 0)) {\n                if (limit >= 1) this._inFlight++;\n                values[index] = maybePromise;\n                maybePromise._proxy(this, (index + 1) * -1);\n                return false;\n            } else if (((bitField & 33554432) !== 0)) {\n                ret = maybePromise._value();\n            } else if (((bitField & 16777216) !== 0)) {\n                this._reject(maybePromise._reason());\n                return true;\n            } else {\n                this._cancel();\n                return true;\n            }\n        }\n        values[index] = ret;\n    }\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= length) {\n        if (preservedValues !== null) {\n            this._filter(values, preservedValues);\n        } else {\n            this._resolve(values);\n        }\n        return true;\n    }\n    return false;\n};\n\nMappingPromiseArray.prototype._drainQueue = function () {\n    var queue = this._queue;\n    var limit = this._limit;\n    var values = this._values;\n    while (queue.length > 0 && this._inFlight < limit) {\n        if (this._isResolved()) return;\n        var index = queue.pop();\n        this._promiseFulfilled(values[index], index);\n    }\n};\n\nMappingPromiseArray.prototype._filter = function (booleans, values) {\n    var len = values.length;\n    var ret = new Array(len);\n    var j = 0;\n    for (var i = 0; i < len; ++i) {\n        if (booleans[i]) ret[j++] = values[i];\n    }\n    ret.length = j;\n    this._resolve(ret);\n};\n\nMappingPromiseArray.prototype.preservedValues = function () {\n    return this._preservedValues;\n};\n\nfunction map(promises, fn, options, _filter) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n\n    var limit = 0;\n    if (options !== undefined) {\n        if (typeof options === \"object\" && options !== null) {\n            if (typeof options.concurrency !== \"number\") {\n                return Promise.reject(\n                    new TypeError(\"'concurrency' must be a number but it is \" +\n                                    util.classString(options.concurrency)));\n            }\n            limit = options.concurrency;\n        } else {\n            return Promise.reject(new TypeError(\n                            \"options argument must be an object but it is \" +\n                             util.classString(options)));\n        }\n    }\n    limit = typeof limit === \"number\" &&\n        isFinite(limit) && limit >= 1 ? limit : 0;\n    return new MappingPromiseArray(promises, fn, limit, _filter).promise();\n}\n\nPromise.prototype.map = function (fn, options) {\n    return map(this, fn, options, null);\n};\n\nPromise.map = function (promises, fn, options, _filter) {\n    return map(promises, fn, options, _filter);\n};\n\n\n};\n\n},{\"./util\":36}],19:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, INTERNAL, tryConvertToPromise, apiRejection, debug) {\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\n\nPromise.method = function (fn) {\n    if (typeof fn !== \"function\") {\n        throw new Promise.TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    return function () {\n        var ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._pushContext();\n        var value = tryCatch(fn).apply(this, arguments);\n        var promiseCreated = ret._popContext();\n        debug.checkForgottenReturns(\n            value, promiseCreated, \"Promise.method\", ret);\n        ret._resolveFromSyncValue(value);\n        return ret;\n    };\n};\n\nPromise.attempt = Promise[\"try\"] = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._pushContext();\n    var value;\n    if (arguments.length > 1) {\n        debug.deprecated(\"calling Promise.try with more than 1 argument\");\n        var arg = arguments[1];\n        var ctx = arguments[2];\n        value = util.isArray(arg) ? tryCatch(fn).apply(ctx, arg)\n                                  : tryCatch(fn).call(ctx, arg);\n    } else {\n        value = tryCatch(fn)();\n    }\n    var promiseCreated = ret._popContext();\n    debug.checkForgottenReturns(\n        value, promiseCreated, \"Promise.try\", ret);\n    ret._resolveFromSyncValue(value);\n    return ret;\n};\n\nPromise.prototype._resolveFromSyncValue = function (value) {\n    if (value === util.errorObj) {\n        this._rejectCallback(value.e, false);\n    } else {\n        this._resolveCallback(value, true);\n    }\n};\n};\n\n},{\"./util\":36}],20:[function(_dereq_,module,exports){\n\"use strict\";\nvar util = _dereq_(\"./util\");\nvar maybeWrapAsError = util.maybeWrapAsError;\nvar errors = _dereq_(\"./errors\");\nvar OperationalError = errors.OperationalError;\nvar es5 = _dereq_(\"./es5\");\n\nfunction isUntypedError(obj) {\n    return obj instanceof Error &&\n        es5.getPrototypeOf(obj) === Error.prototype;\n}\n\nvar rErrorKey = /^(?:name|message|stack|cause)$/;\nfunction wrapAsOperationalError(obj) {\n    var ret;\n    if (isUntypedError(obj)) {\n        ret = new OperationalError(obj);\n        ret.name = obj.name;\n        ret.message = obj.message;\n        ret.stack = obj.stack;\n        var keys = es5.keys(obj);\n        for (var i = 0; i < keys.length; ++i) {\n            var key = keys[i];\n            if (!rErrorKey.test(key)) {\n                ret[key] = obj[key];\n            }\n        }\n        return ret;\n    }\n    util.markAsOriginatingFromRejection(obj);\n    return obj;\n}\n\nfunction nodebackForPromise(promise, multiArgs) {\n    return function(err, value) {\n        if (promise === null) return;\n        if (err) {\n            var wrapped = wrapAsOperationalError(maybeWrapAsError(err));\n            promise._attachExtraTrace(wrapped);\n            promise._reject(wrapped);\n        } else if (!multiArgs) {\n            promise._fulfill(value);\n        } else {\n            var args = [].slice.call(arguments, 1);;\n            promise._fulfill(args);\n        }\n        promise = null;\n    };\n}\n\nmodule.exports = nodebackForPromise;\n\n},{\"./errors\":12,\"./es5\":13,\"./util\":36}],21:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar util = _dereq_(\"./util\");\nvar async = Promise._async;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nfunction spreadAdapter(val, nodeback) {\n    var promise = this;\n    if (!util.isArray(val)) return successAdapter.call(promise, val, nodeback);\n    var ret =\n        tryCatch(nodeback).apply(promise._boundValue(), [null].concat(val));\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nfunction successAdapter(val, nodeback) {\n    var promise = this;\n    var receiver = promise._boundValue();\n    var ret = val === undefined\n        ? tryCatch(nodeback).call(receiver, null)\n        : tryCatch(nodeback).call(receiver, null, val);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\nfunction errorAdapter(reason, nodeback) {\n    var promise = this;\n    if (!reason) {\n        var newReason = new Error(reason + \"\");\n        newReason.cause = reason;\n        reason = newReason;\n    }\n    var ret = tryCatch(nodeback).call(promise._boundValue(), reason);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nPromise.prototype.asCallback = Promise.prototype.nodeify = function (nodeback,\n                                                                     options) {\n    if (typeof nodeback == \"function\") {\n        var adapter = successAdapter;\n        if (options !== undefined && Object(options).spread) {\n            adapter = spreadAdapter;\n        }\n        this._then(\n            adapter,\n            errorAdapter,\n            undefined,\n            this,\n            nodeback\n        );\n    }\n    return this;\n};\n};\n\n},{\"./util\":36}],22:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function() {\nvar makeSelfResolutionError = function () {\n    return new TypeError(\"circular promise resolution chain\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n};\nvar reflectHandler = function() {\n    return new Promise.PromiseInspection(this._target());\n};\nvar apiRejection = function(msg) {\n    return Promise.reject(new TypeError(msg));\n};\nfunction Proxyable() {}\nvar UNDEFINED_BINDING = {};\nvar util = _dereq_(\"./util\");\n\nvar getDomain;\nif (util.isNode) {\n    getDomain = function() {\n        var ret = process.domain;\n        if (ret === undefined) ret = null;\n        return ret;\n    };\n} else {\n    getDomain = function() {\n        return null;\n    };\n}\nutil.notEnumerableProp(Promise, \"_getDomain\", getDomain);\n\nvar es5 = _dereq_(\"./es5\");\nvar Async = _dereq_(\"./async\");\nvar async = new Async();\nes5.defineProperty(Promise, \"_async\", {value: async});\nvar errors = _dereq_(\"./errors\");\nvar TypeError = Promise.TypeError = errors.TypeError;\nPromise.RangeError = errors.RangeError;\nvar CancellationError = Promise.CancellationError = errors.CancellationError;\nPromise.TimeoutError = errors.TimeoutError;\nPromise.OperationalError = errors.OperationalError;\nPromise.RejectionError = errors.OperationalError;\nPromise.AggregateError = errors.AggregateError;\nvar INTERNAL = function(){};\nvar APPLY = {};\nvar NEXT_FILTER = {};\nvar tryConvertToPromise = _dereq_(\"./thenables\")(Promise, INTERNAL);\nvar PromiseArray =\n    _dereq_(\"./promise_array\")(Promise, INTERNAL,\n                               tryConvertToPromise, apiRejection, Proxyable);\nvar Context = _dereq_(\"./context\")(Promise);\n /*jshint unused:false*/\nvar createContext = Context.create;\nvar debug = _dereq_(\"./debuggability\")(Promise, Context);\nvar CapturedTrace = debug.CapturedTrace;\nvar PassThroughHandlerContext =\n    _dereq_(\"./finally\")(Promise, tryConvertToPromise, NEXT_FILTER);\nvar catchFilter = _dereq_(\"./catch_filter\")(NEXT_FILTER);\nvar nodebackForPromise = _dereq_(\"./nodeback\");\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nfunction check(self, executor) {\n    if (self == null || self.constructor !== Promise) {\n        throw new TypeError(\"the promise constructor cannot be invoked directly\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    if (typeof executor !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(executor));\n    }\n\n}\n\nfunction Promise(executor) {\n    if (executor !== INTERNAL) {\n        check(this, executor);\n    }\n    this._bitField = 0;\n    this._fulfillmentHandler0 = undefined;\n    this._rejectionHandler0 = undefined;\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._resolveFromExecutor(executor);\n    this._promiseCreated();\n    this._fireEvent(\"promiseCreated\", this);\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.caught = Promise.prototype[\"catch\"] = function (fn) {\n    var len = arguments.length;\n    if (len > 1) {\n        var catchInstances = new Array(len - 1),\n            j = 0, i;\n        for (i = 0; i < len - 1; ++i) {\n            var item = arguments[i];\n            if (util.isObject(item)) {\n                catchInstances[j++] = item;\n            } else {\n                return apiRejection(\"Catch statement predicate: \" +\n                    \"expecting an object but got \" + util.classString(item));\n            }\n        }\n        catchInstances.length = j;\n        fn = arguments[i];\n        return this.then(undefined, catchFilter(catchInstances, fn, this));\n    }\n    return this.then(undefined, fn);\n};\n\nPromise.prototype.reflect = function () {\n    return this._then(reflectHandler,\n        reflectHandler, undefined, this, undefined);\n};\n\nPromise.prototype.then = function (didFulfill, didReject) {\n    if (debug.warnings() && arguments.length > 0 &&\n        typeof didFulfill !== \"function\" &&\n        typeof didReject !== \"function\") {\n        var msg = \".then() only accepts functions but was passed: \" +\n                util.classString(didFulfill);\n        if (arguments.length > 1) {\n            msg += \", \" + util.classString(didReject);\n        }\n        this._warn(msg);\n    }\n    return this._then(didFulfill, didReject, undefined, undefined, undefined);\n};\n\nPromise.prototype.done = function (didFulfill, didReject) {\n    var promise =\n        this._then(didFulfill, didReject, undefined, undefined, undefined);\n    promise._setIsFinal();\n};\n\nPromise.prototype.spread = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    return this.all()._then(fn, undefined, undefined, APPLY, undefined);\n};\n\nPromise.prototype.toJSON = function () {\n    var ret = {\n        isFulfilled: false,\n        isRejected: false,\n        fulfillmentValue: undefined,\n        rejectionReason: undefined\n    };\n    if (this.isFulfilled()) {\n        ret.fulfillmentValue = this.value();\n        ret.isFulfilled = true;\n    } else if (this.isRejected()) {\n        ret.rejectionReason = this.reason();\n        ret.isRejected = true;\n    }\n    return ret;\n};\n\nPromise.prototype.all = function () {\n    if (arguments.length > 0) {\n        this._warn(\".all() was passed arguments but it does not take any\");\n    }\n    return new PromiseArray(this).promise();\n};\n\nPromise.prototype.error = function (fn) {\n    return this.caught(util.originatesFromRejection, fn);\n};\n\nPromise.getNewLibraryCopy = module.exports;\n\nPromise.is = function (val) {\n    return val instanceof Promise;\n};\n\nPromise.fromNode = Promise.fromCallback = function(fn) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    var multiArgs = arguments.length > 1 ? !!Object(arguments[1]).multiArgs\n                                         : false;\n    var result = tryCatch(fn)(nodebackForPromise(ret, multiArgs));\n    if (result === errorObj) {\n        ret._rejectCallback(result.e, true);\n    }\n    if (!ret._isFateSealed()) ret._setAsyncGuaranteed();\n    return ret;\n};\n\nPromise.all = function (promises) {\n    return new PromiseArray(promises).promise();\n};\n\nPromise.cast = function (obj) {\n    var ret = tryConvertToPromise(obj);\n    if (!(ret instanceof Promise)) {\n        ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._setFulfilled();\n        ret._rejectionHandler0 = obj;\n    }\n    return ret;\n};\n\nPromise.resolve = Promise.fulfilled = Promise.cast;\n\nPromise.reject = Promise.rejected = function (reason) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._rejectCallback(reason, true);\n    return ret;\n};\n\nPromise.setScheduler = function(fn) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    return async.setScheduler(fn);\n};\n\nPromise.prototype._then = function (\n    didFulfill,\n    didReject,\n    _,    receiver,\n    internalData\n) {\n    var haveInternalData = internalData !== undefined;\n    var promise = haveInternalData ? internalData : new Promise(INTERNAL);\n    var target = this._target();\n    var bitField = target._bitField;\n\n    if (!haveInternalData) {\n        promise._propagateFrom(this, 3);\n        promise._captureStackTrace();\n        if (receiver === undefined &&\n            ((this._bitField & 2097152) !== 0)) {\n            if (!((bitField & 50397184) === 0)) {\n                receiver = this._boundValue();\n            } else {\n                receiver = target === this ? undefined : this._boundTo;\n            }\n        }\n        this._fireEvent(\"promiseChained\", this, promise);\n    }\n\n    var domain = getDomain();\n    if (!((bitField & 50397184) === 0)) {\n        var handler, value, settler = target._settlePromiseCtx;\n        if (((bitField & 33554432) !== 0)) {\n            value = target._rejectionHandler0;\n            handler = didFulfill;\n        } else if (((bitField & 16777216) !== 0)) {\n            value = target._fulfillmentHandler0;\n            handler = didReject;\n            target._unsetRejectionIsUnhandled();\n        } else {\n            settler = target._settlePromiseLateCancellationObserver;\n            value = new CancellationError(\"late cancellation observer\");\n            target._attachExtraTrace(value);\n            handler = didReject;\n        }\n\n        async.invoke(settler, target, {\n            handler: domain === null ? handler\n                : (typeof handler === \"function\" &&\n                    util.domainBind(domain, handler)),\n            promise: promise,\n            receiver: receiver,\n            value: value\n        });\n    } else {\n        target._addCallbacks(didFulfill, didReject, promise, receiver, domain);\n    }\n\n    return promise;\n};\n\nPromise.prototype._length = function () {\n    return this._bitField & 65535;\n};\n\nPromise.prototype._isFateSealed = function () {\n    return (this._bitField & 117506048) !== 0;\n};\n\nPromise.prototype._isFollowing = function () {\n    return (this._bitField & 67108864) === 67108864;\n};\n\nPromise.prototype._setLength = function (len) {\n    this._bitField = (this._bitField & -65536) |\n        (len & 65535);\n};\n\nPromise.prototype._setFulfilled = function () {\n    this._bitField = this._bitField | 33554432;\n    this._fireEvent(\"promiseFulfilled\", this);\n};\n\nPromise.prototype._setRejected = function () {\n    this._bitField = this._bitField | 16777216;\n    this._fireEvent(\"promiseRejected\", this);\n};\n\nPromise.prototype._setFollowing = function () {\n    this._bitField = this._bitField | 67108864;\n    this._fireEvent(\"promiseResolved\", this);\n};\n\nPromise.prototype._setIsFinal = function () {\n    this._bitField = this._bitField | 4194304;\n};\n\nPromise.prototype._isFinal = function () {\n    return (this._bitField & 4194304) > 0;\n};\n\nPromise.prototype._unsetCancelled = function() {\n    this._bitField = this._bitField & (~65536);\n};\n\nPromise.prototype._setCancelled = function() {\n    this._bitField = this._bitField | 65536;\n    this._fireEvent(\"promiseCancelled\", this);\n};\n\nPromise.prototype._setWillBeCancelled = function() {\n    this._bitField = this._bitField | 8388608;\n};\n\nPromise.prototype._setAsyncGuaranteed = function() {\n    if (async.hasCustomScheduler()) return;\n    this._bitField = this._bitField | 134217728;\n};\n\nPromise.prototype._receiverAt = function (index) {\n    var ret = index === 0 ? this._receiver0 : this[\n            index * 4 - 4 + 3];\n    if (ret === UNDEFINED_BINDING) {\n        return undefined;\n    } else if (ret === undefined && this._isBound()) {\n        return this._boundValue();\n    }\n    return ret;\n};\n\nPromise.prototype._promiseAt = function (index) {\n    return this[\n            index * 4 - 4 + 2];\n};\n\nPromise.prototype._fulfillmentHandlerAt = function (index) {\n    return this[\n            index * 4 - 4 + 0];\n};\n\nPromise.prototype._rejectionHandlerAt = function (index) {\n    return this[\n            index * 4 - 4 + 1];\n};\n\nPromise.prototype._boundValue = function() {};\n\nPromise.prototype._migrateCallback0 = function (follower) {\n    var bitField = follower._bitField;\n    var fulfill = follower._fulfillmentHandler0;\n    var reject = follower._rejectionHandler0;\n    var promise = follower._promise0;\n    var receiver = follower._receiverAt(0);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n};\n\nPromise.prototype._migrateCallbackAt = function (follower, index) {\n    var fulfill = follower._fulfillmentHandlerAt(index);\n    var reject = follower._rejectionHandlerAt(index);\n    var promise = follower._promiseAt(index);\n    var receiver = follower._receiverAt(index);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n};\n\nPromise.prototype._addCallbacks = function (\n    fulfill,\n    reject,\n    promise,\n    receiver,\n    domain\n) {\n    var index = this._length();\n\n    if (index >= 65535 - 4) {\n        index = 0;\n        this._setLength(0);\n    }\n\n    if (index === 0) {\n        this._promise0 = promise;\n        this._receiver0 = receiver;\n        if (typeof fulfill === \"function\") {\n            this._fulfillmentHandler0 =\n                domain === null ? fulfill : util.domainBind(domain, fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this._rejectionHandler0 =\n                domain === null ? reject : util.domainBind(domain, reject);\n        }\n    } else {\n        var base = index * 4 - 4;\n        this[base + 2] = promise;\n        this[base + 3] = receiver;\n        if (typeof fulfill === \"function\") {\n            this[base + 0] =\n                domain === null ? fulfill : util.domainBind(domain, fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this[base + 1] =\n                domain === null ? reject : util.domainBind(domain, reject);\n        }\n    }\n    this._setLength(index + 1);\n    return index;\n};\n\nPromise.prototype._proxy = function (proxyable, arg) {\n    this._addCallbacks(undefined, undefined, arg, proxyable, null);\n};\n\nPromise.prototype._resolveCallback = function(value, shouldBind) {\n    if (((this._bitField & 117506048) !== 0)) return;\n    if (value === this)\n        return this._rejectCallback(makeSelfResolutionError(), false);\n    var maybePromise = tryConvertToPromise(value, this);\n    if (!(maybePromise instanceof Promise)) return this._fulfill(value);\n\n    if (shouldBind) this._propagateFrom(maybePromise, 2);\n\n    var promise = maybePromise._target();\n\n    if (promise === this) {\n        this._reject(makeSelfResolutionError());\n        return;\n    }\n\n    var bitField = promise._bitField;\n    if (((bitField & 50397184) === 0)) {\n        var len = this._length();\n        if (len > 0) promise._migrateCallback0(this);\n        for (var i = 1; i < len; ++i) {\n            promise._migrateCallbackAt(this, i);\n        }\n        this._setFollowing();\n        this._setLength(0);\n        this._setFollowee(promise);\n    } else if (((bitField & 33554432) !== 0)) {\n        this._fulfill(promise._value());\n    } else if (((bitField & 16777216) !== 0)) {\n        this._reject(promise._reason());\n    } else {\n        var reason = new CancellationError(\"late cancellation observer\");\n        promise._attachExtraTrace(reason);\n        this._reject(reason);\n    }\n};\n\nPromise.prototype._rejectCallback =\nfunction(reason, synchronous, ignoreNonErrorWarnings) {\n    var trace = util.ensureErrorObject(reason);\n    var hasStack = trace === reason;\n    if (!hasStack && !ignoreNonErrorWarnings && debug.warnings()) {\n        var message = \"a promise was rejected with a non-error: \" +\n            util.classString(reason);\n        this._warn(message, true);\n    }\n    this._attachExtraTrace(trace, synchronous ? hasStack : false);\n    this._reject(reason);\n};\n\nPromise.prototype._resolveFromExecutor = function (executor) {\n    if (executor === INTERNAL) return;\n    var promise = this;\n    this._captureStackTrace();\n    this._pushContext();\n    var synchronous = true;\n    var r = this._execute(executor, function(value) {\n        promise._resolveCallback(value);\n    }, function (reason) {\n        promise._rejectCallback(reason, synchronous);\n    });\n    synchronous = false;\n    this._popContext();\n\n    if (r !== undefined) {\n        promise._rejectCallback(r, true);\n    }\n};\n\nPromise.prototype._settlePromiseFromHandler = function (\n    handler, receiver, value, promise\n) {\n    var bitField = promise._bitField;\n    if (((bitField & 65536) !== 0)) return;\n    promise._pushContext();\n    var x;\n    if (receiver === APPLY) {\n        if (!value || typeof value.length !== \"number\") {\n            x = errorObj;\n            x.e = new TypeError(\"cannot .spread() a non-array: \" +\n                                    util.classString(value));\n        } else {\n            x = tryCatch(handler).apply(this._boundValue(), value);\n        }\n    } else {\n        x = tryCatch(handler).call(receiver, value);\n    }\n    var promiseCreated = promise._popContext();\n    bitField = promise._bitField;\n    if (((bitField & 65536) !== 0)) return;\n\n    if (x === NEXT_FILTER) {\n        promise._reject(value);\n    } else if (x === errorObj) {\n        promise._rejectCallback(x.e, false);\n    } else {\n        debug.checkForgottenReturns(x, promiseCreated, \"\",  promise, this);\n        promise._resolveCallback(x);\n    }\n};\n\nPromise.prototype._target = function() {\n    var ret = this;\n    while (ret._isFollowing()) ret = ret._followee();\n    return ret;\n};\n\nPromise.prototype._followee = function() {\n    return this._rejectionHandler0;\n};\n\nPromise.prototype._setFollowee = function(promise) {\n    this._rejectionHandler0 = promise;\n};\n\nPromise.prototype._settlePromise = function(promise, handler, receiver, value) {\n    var isPromise = promise instanceof Promise;\n    var bitField = this._bitField;\n    var asyncGuaranteed = ((bitField & 134217728) !== 0);\n    if (((bitField & 65536) !== 0)) {\n        if (isPromise) promise._invokeInternalOnCancel();\n\n        if (receiver instanceof PassThroughHandlerContext &&\n            receiver.isFinallyHandler()) {\n            receiver.cancelPromise = promise;\n            if (tryCatch(handler).call(receiver, value) === errorObj) {\n                promise._reject(errorObj.e);\n            }\n        } else if (handler === reflectHandler) {\n            promise._fulfill(reflectHandler.call(receiver));\n        } else if (receiver instanceof Proxyable) {\n            receiver._promiseCancelled(promise);\n        } else if (isPromise || promise instanceof PromiseArray) {\n            promise._cancel();\n        } else {\n            receiver.cancel();\n        }\n    } else if (typeof handler === \"function\") {\n        if (!isPromise) {\n            handler.call(receiver, value, promise);\n        } else {\n            if (asyncGuaranteed) promise._setAsyncGuaranteed();\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (receiver instanceof Proxyable) {\n        if (!receiver._isResolved()) {\n            if (((bitField & 33554432) !== 0)) {\n                receiver._promiseFulfilled(value, promise);\n            } else {\n                receiver._promiseRejected(value, promise);\n            }\n        }\n    } else if (isPromise) {\n        if (asyncGuaranteed) promise._setAsyncGuaranteed();\n        if (((bitField & 33554432) !== 0)) {\n            promise._fulfill(value);\n        } else {\n            promise._reject(value);\n        }\n    }\n};\n\nPromise.prototype._settlePromiseLateCancellationObserver = function(ctx) {\n    var handler = ctx.handler;\n    var promise = ctx.promise;\n    var receiver = ctx.receiver;\n    var value = ctx.value;\n    if (typeof handler === \"function\") {\n        if (!(promise instanceof Promise)) {\n            handler.call(receiver, value, promise);\n        } else {\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (promise instanceof Promise) {\n        promise._reject(value);\n    }\n};\n\nPromise.prototype._settlePromiseCtx = function(ctx) {\n    this._settlePromise(ctx.promise, ctx.handler, ctx.receiver, ctx.value);\n};\n\nPromise.prototype._settlePromise0 = function(handler, value, bitField) {\n    var promise = this._promise0;\n    var receiver = this._receiverAt(0);\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._settlePromise(promise, handler, receiver, value);\n};\n\nPromise.prototype._clearCallbackDataAtIndex = function(index) {\n    var base = index * 4 - 4;\n    this[base + 2] =\n    this[base + 3] =\n    this[base + 0] =\n    this[base + 1] = undefined;\n};\n\nPromise.prototype._fulfill = function (value) {\n    var bitField = this._bitField;\n    if (((bitField & 117506048) >>> 16)) return;\n    if (value === this) {\n        var err = makeSelfResolutionError();\n        this._attachExtraTrace(err);\n        return this._reject(err);\n    }\n    this._setFulfilled();\n    this._rejectionHandler0 = value;\n\n    if ((bitField & 65535) > 0) {\n        if (((bitField & 134217728) !== 0)) {\n            this._settlePromises();\n        } else {\n            async.settlePromises(this);\n        }\n    }\n};\n\nPromise.prototype._reject = function (reason) {\n    var bitField = this._bitField;\n    if (((bitField & 117506048) >>> 16)) return;\n    this._setRejected();\n    this._fulfillmentHandler0 = reason;\n\n    if (this._isFinal()) {\n        return async.fatalError(reason, util.isNode);\n    }\n\n    if ((bitField & 65535) > 0) {\n        async.settlePromises(this);\n    } else {\n        this._ensurePossibleRejectionHandled();\n    }\n};\n\nPromise.prototype._fulfillPromises = function (len, value) {\n    for (var i = 1; i < len; i++) {\n        var handler = this._fulfillmentHandlerAt(i);\n        var promise = this._promiseAt(i);\n        var receiver = this._receiverAt(i);\n        this._clearCallbackDataAtIndex(i);\n        this._settlePromise(promise, handler, receiver, value);\n    }\n};\n\nPromise.prototype._rejectPromises = function (len, reason) {\n    for (var i = 1; i < len; i++) {\n        var handler = this._rejectionHandlerAt(i);\n        var promise = this._promiseAt(i);\n        var receiver = this._receiverAt(i);\n        this._clearCallbackDataAtIndex(i);\n        this._settlePromise(promise, handler, receiver, reason);\n    }\n};\n\nPromise.prototype._settlePromises = function () {\n    var bitField = this._bitField;\n    var len = (bitField & 65535);\n\n    if (len > 0) {\n        if (((bitField & 16842752) !== 0)) {\n            var reason = this._fulfillmentHandler0;\n            this._settlePromise0(this._rejectionHandler0, reason, bitField);\n            this._rejectPromises(len, reason);\n        } else {\n            var value = this._rejectionHandler0;\n            this._settlePromise0(this._fulfillmentHandler0, value, bitField);\n            this._fulfillPromises(len, value);\n        }\n        this._setLength(0);\n    }\n    this._clearCancellationData();\n};\n\nPromise.prototype._settledValue = function() {\n    var bitField = this._bitField;\n    if (((bitField & 33554432) !== 0)) {\n        return this._rejectionHandler0;\n    } else if (((bitField & 16777216) !== 0)) {\n        return this._fulfillmentHandler0;\n    }\n};\n\nfunction deferResolve(v) {this.promise._resolveCallback(v);}\nfunction deferReject(v) {this.promise._rejectCallback(v, false);}\n\nPromise.defer = Promise.pending = function() {\n    debug.deprecated(\"Promise.defer\", \"new Promise\");\n    var promise = new Promise(INTERNAL);\n    return {\n        promise: promise,\n        resolve: deferResolve,\n        reject: deferReject\n    };\n};\n\nutil.notEnumerableProp(Promise,\n                       \"_makeSelfResolutionError\",\n                       makeSelfResolutionError);\n\n_dereq_(\"./method\")(Promise, INTERNAL, tryConvertToPromise, apiRejection,\n    debug);\n_dereq_(\"./bind\")(Promise, INTERNAL, tryConvertToPromise, debug);\n_dereq_(\"./cancel\")(Promise, PromiseArray, apiRejection, debug);\n_dereq_(\"./direct_resolve\")(Promise);\n_dereq_(\"./synchronous_inspection\")(Promise);\n_dereq_(\"./join\")(\n    Promise, PromiseArray, tryConvertToPromise, INTERNAL, async, getDomain);\nPromise.Promise = Promise;\nPromise.version = \"3.5.0\";\n_dereq_('./map.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\n_dereq_('./call_get.js')(Promise);\n_dereq_('./using.js')(Promise, apiRejection, tryConvertToPromise, createContext, INTERNAL, debug);\n_dereq_('./timers.js')(Promise, INTERNAL, debug);\n_dereq_('./generators.js')(Promise, apiRejection, INTERNAL, tryConvertToPromise, Proxyable, debug);\n_dereq_('./nodeify.js')(Promise);\n_dereq_('./promisify.js')(Promise, INTERNAL);\n_dereq_('./props.js')(Promise, PromiseArray, tryConvertToPromise, apiRejection);\n_dereq_('./race.js')(Promise, INTERNAL, tryConvertToPromise, apiRejection);\n_dereq_('./reduce.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\n_dereq_('./settle.js')(Promise, PromiseArray, debug);\n_dereq_('./some.js')(Promise, PromiseArray, apiRejection);\n_dereq_('./filter.js')(Promise, INTERNAL);\n_dereq_('./each.js')(Promise, INTERNAL);\n_dereq_('./any.js')(Promise);\n                                                         \n    util.toFastProperties(Promise);                                          \n    util.toFastProperties(Promise.prototype);                                \n    function fillTypes(value) {                                              \n        var p = new Promise(INTERNAL);                                       \n        p._fulfillmentHandler0 = value;                                      \n        p._rejectionHandler0 = value;                                        \n        p._promise0 = value;                                                 \n        p._receiver0 = value;                                                \n    }                                                                        \n    // Complete slack tracking, opt out of field-type tracking and           \n    // stabilize map                                                         \n    fillTypes({a: 1});                                                       \n    fillTypes({b: 2});                                                       \n    fillTypes({c: 3});                                                       \n    fillTypes(1);                                                            \n    fillTypes(function(){});                                                 \n    fillTypes(undefined);                                                    \n    fillTypes(false);                                                        \n    fillTypes(new Promise(INTERNAL));                                        \n    debug.setBounds(Async.firstLineError, util.lastLineError);               \n    return Promise;                                                          \n\n};\n\n},{\"./any.js\":1,\"./async\":2,\"./bind\":3,\"./call_get.js\":5,\"./cancel\":6,\"./catch_filter\":7,\"./context\":8,\"./debuggability\":9,\"./direct_resolve\":10,\"./each.js\":11,\"./errors\":12,\"./es5\":13,\"./filter.js\":14,\"./finally\":15,\"./generators.js\":16,\"./join\":17,\"./map.js\":18,\"./method\":19,\"./nodeback\":20,\"./nodeify.js\":21,\"./promise_array\":23,\"./promisify.js\":24,\"./props.js\":25,\"./race.js\":27,\"./reduce.js\":28,\"./settle.js\":30,\"./some.js\":31,\"./synchronous_inspection\":32,\"./thenables\":33,\"./timers.js\":34,\"./using.js\":35,\"./util\":36}],23:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise,\n    apiRejection, Proxyable) {\nvar util = _dereq_(\"./util\");\nvar isArray = util.isArray;\n\nfunction toResolutionValue(val) {\n    switch(val) {\n    case -2: return [];\n    case -3: return {};\n    case -6: return new Map();\n    }\n}\n\nfunction PromiseArray(values) {\n    var promise = this._promise = new Promise(INTERNAL);\n    if (values instanceof Promise) {\n        promise._propagateFrom(values, 3);\n    }\n    promise._setOnCancel(this);\n    this._values = values;\n    this._length = 0;\n    this._totalResolved = 0;\n    this._init(undefined, -2);\n}\nutil.inherits(PromiseArray, Proxyable);\n\nPromiseArray.prototype.length = function () {\n    return this._length;\n};\n\nPromiseArray.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseArray.prototype._init = function init(_, resolveValueIfEmpty) {\n    var values = tryConvertToPromise(this._values, this._promise);\n    if (values instanceof Promise) {\n        values = values._target();\n        var bitField = values._bitField;\n        ;\n        this._values = values;\n\n        if (((bitField & 50397184) === 0)) {\n            this._promise._setAsyncGuaranteed();\n            return values._then(\n                init,\n                this._reject,\n                undefined,\n                this,\n                resolveValueIfEmpty\n           );\n        } else if (((bitField & 33554432) !== 0)) {\n            values = values._value();\n        } else if (((bitField & 16777216) !== 0)) {\n            return this._reject(values._reason());\n        } else {\n            return this._cancel();\n        }\n    }\n    values = util.asArray(values);\n    if (values === null) {\n        var err = apiRejection(\n            \"expecting an array or an iterable object but got \" + util.classString(values)).reason();\n        this._promise._rejectCallback(err, false);\n        return;\n    }\n\n    if (values.length === 0) {\n        if (resolveValueIfEmpty === -5) {\n            this._resolveEmptyArray();\n        }\n        else {\n            this._resolve(toResolutionValue(resolveValueIfEmpty));\n        }\n        return;\n    }\n    this._iterate(values);\n};\n\nPromiseArray.prototype._iterate = function(values) {\n    var len = this.getActualLength(values.length);\n    this._length = len;\n    this._values = this.shouldCopyValues() ? new Array(len) : this._values;\n    var result = this._promise;\n    var isResolved = false;\n    var bitField = null;\n    for (var i = 0; i < len; ++i) {\n        var maybePromise = tryConvertToPromise(values[i], result);\n\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            bitField = maybePromise._bitField;\n        } else {\n            bitField = null;\n        }\n\n        if (isResolved) {\n            if (bitField !== null) {\n                maybePromise.suppressUnhandledRejections();\n            }\n        } else if (bitField !== null) {\n            if (((bitField & 50397184) === 0)) {\n                maybePromise._proxy(this, i);\n                this._values[i] = maybePromise;\n            } else if (((bitField & 33554432) !== 0)) {\n                isResolved = this._promiseFulfilled(maybePromise._value(), i);\n            } else if (((bitField & 16777216) !== 0)) {\n                isResolved = this._promiseRejected(maybePromise._reason(), i);\n            } else {\n                isResolved = this._promiseCancelled(i);\n            }\n        } else {\n            isResolved = this._promiseFulfilled(maybePromise, i);\n        }\n    }\n    if (!isResolved) result._setAsyncGuaranteed();\n};\n\nPromiseArray.prototype._isResolved = function () {\n    return this._values === null;\n};\n\nPromiseArray.prototype._resolve = function (value) {\n    this._values = null;\n    this._promise._fulfill(value);\n};\n\nPromiseArray.prototype._cancel = function() {\n    if (this._isResolved() || !this._promise._isCancellable()) return;\n    this._values = null;\n    this._promise._cancel();\n};\n\nPromiseArray.prototype._reject = function (reason) {\n    this._values = null;\n    this._promise._rejectCallback(reason, false);\n};\n\nPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n        return true;\n    }\n    return false;\n};\n\nPromiseArray.prototype._promiseCancelled = function() {\n    this._cancel();\n    return true;\n};\n\nPromiseArray.prototype._promiseRejected = function (reason) {\n    this._totalResolved++;\n    this._reject(reason);\n    return true;\n};\n\nPromiseArray.prototype._resultCancelled = function() {\n    if (this._isResolved()) return;\n    var values = this._values;\n    this._cancel();\n    if (values instanceof Promise) {\n        values.cancel();\n    } else {\n        for (var i = 0; i < values.length; ++i) {\n            if (values[i] instanceof Promise) {\n                values[i].cancel();\n            }\n        }\n    }\n};\n\nPromiseArray.prototype.shouldCopyValues = function () {\n    return true;\n};\n\nPromiseArray.prototype.getActualLength = function (len) {\n    return len;\n};\n\nreturn PromiseArray;\n};\n\n},{\"./util\":36}],24:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar THIS = {};\nvar util = _dereq_(\"./util\");\nvar nodebackForPromise = _dereq_(\"./nodeback\");\nvar withAppended = util.withAppended;\nvar maybeWrapAsError = util.maybeWrapAsError;\nvar canEvaluate = util.canEvaluate;\nvar TypeError = _dereq_(\"./errors\").TypeError;\nvar defaultSuffix = \"Async\";\nvar defaultPromisified = {__isPromisified__: true};\nvar noCopyProps = [\n    \"arity\",    \"length\",\n    \"name\",\n    \"arguments\",\n    \"caller\",\n    \"callee\",\n    \"prototype\",\n    \"__isPromisified__\"\n];\nvar noCopyPropsPattern = new RegExp(\"^(?:\" + noCopyProps.join(\"|\") + \")$\");\n\nvar defaultFilter = function(name) {\n    return util.isIdentifier(name) &&\n        name.charAt(0) !== \"_\" &&\n        name !== \"constructor\";\n};\n\nfunction propsFilter(key) {\n    return !noCopyPropsPattern.test(key);\n}\n\nfunction isPromisified(fn) {\n    try {\n        return fn.__isPromisified__ === true;\n    }\n    catch (e) {\n        return false;\n    }\n}\n\nfunction hasPromisified(obj, key, suffix) {\n    var val = util.getDataPropertyOrDefault(obj, key + suffix,\n                                            defaultPromisified);\n    return val ? isPromisified(val) : false;\n}\nfunction checkValid(ret, suffix, suffixRegexp) {\n    for (var i = 0; i < ret.length; i += 2) {\n        var key = ret[i];\n        if (suffixRegexp.test(key)) {\n            var keyWithoutAsyncSuffix = key.replace(suffixRegexp, \"\");\n            for (var j = 0; j < ret.length; j += 2) {\n                if (ret[j] === keyWithoutAsyncSuffix) {\n                    throw new TypeError(\"Cannot promisify an API that has normal methods with '%s'-suffix\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\"\n                        .replace(\"%s\", suffix));\n                }\n            }\n        }\n    }\n}\n\nfunction promisifiableMethods(obj, suffix, suffixRegexp, filter) {\n    var keys = util.inheritedDataKeys(obj);\n    var ret = [];\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var value = obj[key];\n        var passesDefaultFilter = filter === defaultFilter\n            ? true : defaultFilter(key, value, obj);\n        if (typeof value === \"function\" &&\n            !isPromisified(value) &&\n            !hasPromisified(obj, key, suffix) &&\n            filter(key, value, obj, passesDefaultFilter)) {\n            ret.push(key, value);\n        }\n    }\n    checkValid(ret, suffix, suffixRegexp);\n    return ret;\n}\n\nvar escapeIdentRegex = function(str) {\n    return str.replace(/([$])/, \"\\\\$\");\n};\n\nvar makeNodePromisifiedEval;\nif (!true) {\nvar switchCaseArgumentOrder = function(likelyArgumentCount) {\n    var ret = [likelyArgumentCount];\n    var min = Math.max(0, likelyArgumentCount - 1 - 3);\n    for(var i = likelyArgumentCount - 1; i >= min; --i) {\n        ret.push(i);\n    }\n    for(var i = likelyArgumentCount + 1; i <= 3; ++i) {\n        ret.push(i);\n    }\n    return ret;\n};\n\nvar argumentSequence = function(argumentCount) {\n    return util.filledRange(argumentCount, \"_arg\", \"\");\n};\n\nvar parameterDeclaration = function(parameterCount) {\n    return util.filledRange(\n        Math.max(parameterCount, 3), \"_arg\", \"\");\n};\n\nvar parameterCount = function(fn) {\n    if (typeof fn.length === \"number\") {\n        return Math.max(Math.min(fn.length, 1023 + 1), 0);\n    }\n    return 0;\n};\n\nmakeNodePromisifiedEval =\nfunction(callback, receiver, originalName, fn, _, multiArgs) {\n    var newParameterCount = Math.max(0, parameterCount(fn) - 1);\n    var argumentOrder = switchCaseArgumentOrder(newParameterCount);\n    var shouldProxyThis = typeof callback === \"string\" || receiver === THIS;\n\n    function generateCallForArgumentCount(count) {\n        var args = argumentSequence(count).join(\", \");\n        var comma = count > 0 ? \", \" : \"\";\n        var ret;\n        if (shouldProxyThis) {\n            ret = \"ret = callback.call(this, {{args}}, nodeback); break;\\n\";\n        } else {\n            ret = receiver === undefined\n                ? \"ret = callback({{args}}, nodeback); break;\\n\"\n                : \"ret = callback.call(receiver, {{args}}, nodeback); break;\\n\";\n        }\n        return ret.replace(\"{{args}}\", args).replace(\", \", comma);\n    }\n\n    function generateArgumentSwitchCase() {\n        var ret = \"\";\n        for (var i = 0; i < argumentOrder.length; ++i) {\n            ret += \"case \" + argumentOrder[i] +\":\" +\n                generateCallForArgumentCount(argumentOrder[i]);\n        }\n\n        ret += \"                                                             \\n\\\n        default:                                                             \\n\\\n            var args = new Array(len + 1);                                   \\n\\\n            var i = 0;                                                       \\n\\\n            for (var i = 0; i < len; ++i) {                                  \\n\\\n               args[i] = arguments[i];                                       \\n\\\n            }                                                                \\n\\\n            args[i] = nodeback;                                              \\n\\\n            [CodeForCall]                                                    \\n\\\n            break;                                                           \\n\\\n        \".replace(\"[CodeForCall]\", (shouldProxyThis\n                                ? \"ret = callback.apply(this, args);\\n\"\n                                : \"ret = callback.apply(receiver, args);\\n\"));\n        return ret;\n    }\n\n    var getFunctionCode = typeof callback === \"string\"\n                                ? (\"this != null ? this['\"+callback+\"'] : fn\")\n                                : \"fn\";\n    var body = \"'use strict';                                                \\n\\\n        var ret = function (Parameters) {                                    \\n\\\n            'use strict';                                                    \\n\\\n            var len = arguments.length;                                      \\n\\\n            var promise = new Promise(INTERNAL);                             \\n\\\n            promise._captureStackTrace();                                    \\n\\\n            var nodeback = nodebackForPromise(promise, \" + multiArgs + \");   \\n\\\n            var ret;                                                         \\n\\\n            var callback = tryCatch([GetFunctionCode]);                      \\n\\\n            switch(len) {                                                    \\n\\\n                [CodeForSwitchCase]                                          \\n\\\n            }                                                                \\n\\\n            if (ret === errorObj) {                                          \\n\\\n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\\n\\\n            }                                                                \\n\\\n            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \\n\\\n            return promise;                                                  \\n\\\n        };                                                                   \\n\\\n        notEnumerableProp(ret, '__isPromisified__', true);                   \\n\\\n        return ret;                                                          \\n\\\n    \".replace(\"[CodeForSwitchCase]\", generateArgumentSwitchCase())\n        .replace(\"[GetFunctionCode]\", getFunctionCode);\n    body = body.replace(\"Parameters\", parameterDeclaration(newParameterCount));\n    return new Function(\"Promise\",\n                        \"fn\",\n                        \"receiver\",\n                        \"withAppended\",\n                        \"maybeWrapAsError\",\n                        \"nodebackForPromise\",\n                        \"tryCatch\",\n                        \"errorObj\",\n                        \"notEnumerableProp\",\n                        \"INTERNAL\",\n                        body)(\n                    Promise,\n                    fn,\n                    receiver,\n                    withAppended,\n                    maybeWrapAsError,\n                    nodebackForPromise,\n                    util.tryCatch,\n                    util.errorObj,\n                    util.notEnumerableProp,\n                    INTERNAL);\n};\n}\n\nfunction makeNodePromisifiedClosure(callback, receiver, _, fn, __, multiArgs) {\n    var defaultThis = (function() {return this;})();\n    var method = callback;\n    if (typeof method === \"string\") {\n        callback = fn;\n    }\n    function promisified() {\n        var _receiver = receiver;\n        if (receiver === THIS) _receiver = this;\n        var promise = new Promise(INTERNAL);\n        promise._captureStackTrace();\n        var cb = typeof method === \"string\" && this !== defaultThis\n            ? this[method] : callback;\n        var fn = nodebackForPromise(promise, multiArgs);\n        try {\n            cb.apply(_receiver, withAppended(arguments, fn));\n        } catch(e) {\n            promise._rejectCallback(maybeWrapAsError(e), true, true);\n        }\n        if (!promise._isFateSealed()) promise._setAsyncGuaranteed();\n        return promise;\n    }\n    util.notEnumerableProp(promisified, \"__isPromisified__\", true);\n    return promisified;\n}\n\nvar makeNodePromisified = canEvaluate\n    ? makeNodePromisifiedEval\n    : makeNodePromisifiedClosure;\n\nfunction promisifyAll(obj, suffix, filter, promisifier, multiArgs) {\n    var suffixRegexp = new RegExp(escapeIdentRegex(suffix) + \"$\");\n    var methods =\n        promisifiableMethods(obj, suffix, suffixRegexp, filter);\n\n    for (var i = 0, len = methods.length; i < len; i+= 2) {\n        var key = methods[i];\n        var fn = methods[i+1];\n        var promisifiedKey = key + suffix;\n        if (promisifier === makeNodePromisified) {\n            obj[promisifiedKey] =\n                makeNodePromisified(key, THIS, key, fn, suffix, multiArgs);\n        } else {\n            var promisified = promisifier(fn, function() {\n                return makeNodePromisified(key, THIS, key,\n                                           fn, suffix, multiArgs);\n            });\n            util.notEnumerableProp(promisified, \"__isPromisified__\", true);\n            obj[promisifiedKey] = promisified;\n        }\n    }\n    util.toFastProperties(obj);\n    return obj;\n}\n\nfunction promisify(callback, receiver, multiArgs) {\n    return makeNodePromisified(callback, receiver, undefined,\n                                callback, null, multiArgs);\n}\n\nPromise.promisify = function (fn, options) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    if (isPromisified(fn)) {\n        return fn;\n    }\n    options = Object(options);\n    var receiver = options.context === undefined ? THIS : options.context;\n    var multiArgs = !!options.multiArgs;\n    var ret = promisify(fn, receiver, multiArgs);\n    util.copyDescriptors(fn, ret, propsFilter);\n    return ret;\n};\n\nPromise.promisifyAll = function (target, options) {\n    if (typeof target !== \"function\" && typeof target !== \"object\") {\n        throw new TypeError(\"the target of promisifyAll must be an object or a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    options = Object(options);\n    var multiArgs = !!options.multiArgs;\n    var suffix = options.suffix;\n    if (typeof suffix !== \"string\") suffix = defaultSuffix;\n    var filter = options.filter;\n    if (typeof filter !== \"function\") filter = defaultFilter;\n    var promisifier = options.promisifier;\n    if (typeof promisifier !== \"function\") promisifier = makeNodePromisified;\n\n    if (!util.isIdentifier(suffix)) {\n        throw new RangeError(\"suffix must be a valid identifier\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n\n    var keys = util.inheritedDataKeys(target);\n    for (var i = 0; i < keys.length; ++i) {\n        var value = target[keys[i]];\n        if (keys[i] !== \"constructor\" &&\n            util.isClass(value)) {\n            promisifyAll(value.prototype, suffix, filter, promisifier,\n                multiArgs);\n            promisifyAll(value, suffix, filter, promisifier, multiArgs);\n        }\n    }\n\n    return promisifyAll(target, suffix, filter, promisifier, multiArgs);\n};\n};\n\n\n},{\"./errors\":12,\"./nodeback\":20,\"./util\":36}],25:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(\n    Promise, PromiseArray, tryConvertToPromise, apiRejection) {\nvar util = _dereq_(\"./util\");\nvar isObject = util.isObject;\nvar es5 = _dereq_(\"./es5\");\nvar Es6Map;\nif (typeof Map === \"function\") Es6Map = Map;\n\nvar mapToEntries = (function() {\n    var index = 0;\n    var size = 0;\n\n    function extractEntry(value, key) {\n        this[index] = value;\n        this[index + size] = key;\n        index++;\n    }\n\n    return function mapToEntries(map) {\n        size = map.size;\n        index = 0;\n        var ret = new Array(map.size * 2);\n        map.forEach(extractEntry, ret);\n        return ret;\n    };\n})();\n\nvar entriesToMap = function(entries) {\n    var ret = new Es6Map();\n    var length = entries.length / 2 | 0;\n    for (var i = 0; i < length; ++i) {\n        var key = entries[length + i];\n        var value = entries[i];\n        ret.set(key, value);\n    }\n    return ret;\n};\n\nfunction PropertiesPromiseArray(obj) {\n    var isMap = false;\n    var entries;\n    if (Es6Map !== undefined && obj instanceof Es6Map) {\n        entries = mapToEntries(obj);\n        isMap = true;\n    } else {\n        var keys = es5.keys(obj);\n        var len = keys.length;\n        entries = new Array(len * 2);\n        for (var i = 0; i < len; ++i) {\n            var key = keys[i];\n            entries[i] = obj[key];\n            entries[i + len] = key;\n        }\n    }\n    this.constructor$(entries);\n    this._isMap = isMap;\n    this._init$(undefined, isMap ? -6 : -3);\n}\nutil.inherits(PropertiesPromiseArray, PromiseArray);\n\nPropertiesPromiseArray.prototype._init = function () {};\n\nPropertiesPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        var val;\n        if (this._isMap) {\n            val = entriesToMap(this._values);\n        } else {\n            val = {};\n            var keyOffset = this.length();\n            for (var i = 0, len = this.length(); i < len; ++i) {\n                val[this._values[i + keyOffset]] = this._values[i];\n            }\n        }\n        this._resolve(val);\n        return true;\n    }\n    return false;\n};\n\nPropertiesPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nPropertiesPromiseArray.prototype.getActualLength = function (len) {\n    return len >> 1;\n};\n\nfunction props(promises) {\n    var ret;\n    var castValue = tryConvertToPromise(promises);\n\n    if (!isObject(castValue)) {\n        return apiRejection(\"cannot await properties of a non-object\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    } else if (castValue instanceof Promise) {\n        ret = castValue._then(\n            Promise.props, undefined, undefined, undefined, undefined);\n    } else {\n        ret = new PropertiesPromiseArray(castValue).promise();\n    }\n\n    if (castValue instanceof Promise) {\n        ret._propagateFrom(castValue, 2);\n    }\n    return ret;\n}\n\nPromise.prototype.props = function () {\n    return props(this);\n};\n\nPromise.props = function (promises) {\n    return props(promises);\n};\n};\n\n},{\"./es5\":13,\"./util\":36}],26:[function(_dereq_,module,exports){\n\"use strict\";\nfunction arrayMove(src, srcIndex, dst, dstIndex, len) {\n    for (var j = 0; j < len; ++j) {\n        dst[j + dstIndex] = src[j + srcIndex];\n        src[j + srcIndex] = void 0;\n    }\n}\n\nfunction Queue(capacity) {\n    this._capacity = capacity;\n    this._length = 0;\n    this._front = 0;\n}\n\nQueue.prototype._willBeOverCapacity = function (size) {\n    return this._capacity < size;\n};\n\nQueue.prototype._pushOne = function (arg) {\n    var length = this.length();\n    this._checkCapacity(length + 1);\n    var i = (this._front + length) & (this._capacity - 1);\n    this[i] = arg;\n    this._length = length + 1;\n};\n\nQueue.prototype.push = function (fn, receiver, arg) {\n    var length = this.length() + 3;\n    if (this._willBeOverCapacity(length)) {\n        this._pushOne(fn);\n        this._pushOne(receiver);\n        this._pushOne(arg);\n        return;\n    }\n    var j = this._front + length - 3;\n    this._checkCapacity(length);\n    var wrapMask = this._capacity - 1;\n    this[(j + 0) & wrapMask] = fn;\n    this[(j + 1) & wrapMask] = receiver;\n    this[(j + 2) & wrapMask] = arg;\n    this._length = length;\n};\n\nQueue.prototype.shift = function () {\n    var front = this._front,\n        ret = this[front];\n\n    this[front] = undefined;\n    this._front = (front + 1) & (this._capacity - 1);\n    this._length--;\n    return ret;\n};\n\nQueue.prototype.length = function () {\n    return this._length;\n};\n\nQueue.prototype._checkCapacity = function (size) {\n    if (this._capacity < size) {\n        this._resizeTo(this._capacity << 1);\n    }\n};\n\nQueue.prototype._resizeTo = function (capacity) {\n    var oldCapacity = this._capacity;\n    this._capacity = capacity;\n    var front = this._front;\n    var length = this._length;\n    var moveItemsCount = (front + length) & (oldCapacity - 1);\n    arrayMove(this, 0, this, oldCapacity, moveItemsCount);\n};\n\nmodule.exports = Queue;\n\n},{}],27:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(\n    Promise, INTERNAL, tryConvertToPromise, apiRejection) {\nvar util = _dereq_(\"./util\");\n\nvar raceLater = function (promise) {\n    return promise.then(function(array) {\n        return race(array, promise);\n    });\n};\n\nfunction race(promises, parent) {\n    var maybePromise = tryConvertToPromise(promises);\n\n    if (maybePromise instanceof Promise) {\n        return raceLater(maybePromise);\n    } else {\n        promises = util.asArray(promises);\n        if (promises === null)\n            return apiRejection(\"expecting an array or an iterable object but got \" + util.classString(promises));\n    }\n\n    var ret = new Promise(INTERNAL);\n    if (parent !== undefined) {\n        ret._propagateFrom(parent, 3);\n    }\n    var fulfill = ret._fulfill;\n    var reject = ret._reject;\n    for (var i = 0, len = promises.length; i < len; ++i) {\n        var val = promises[i];\n\n        if (val === undefined && !(i in promises)) {\n            continue;\n        }\n\n        Promise.cast(val)._then(fulfill, reject, undefined, ret, null);\n    }\n    return ret;\n}\n\nPromise.race = function (promises) {\n    return race(promises, undefined);\n};\n\nPromise.prototype.race = function () {\n    return race(this, undefined);\n};\n\n};\n\n},{\"./util\":36}],28:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL,\n                          debug) {\nvar getDomain = Promise._getDomain;\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\n\nfunction ReductionPromiseArray(promises, fn, initialValue, _each) {\n    this.constructor$(promises);\n    var domain = getDomain();\n    this._fn = domain === null ? fn : util.domainBind(domain, fn);\n    if (initialValue !== undefined) {\n        initialValue = Promise.resolve(initialValue);\n        initialValue._attachCancellationCallback(this);\n    }\n    this._initialValue = initialValue;\n    this._currentCancellable = null;\n    if(_each === INTERNAL) {\n        this._eachValues = Array(this._length);\n    } else if (_each === 0) {\n        this._eachValues = null;\n    } else {\n        this._eachValues = undefined;\n    }\n    this._promise._captureStackTrace();\n    this._init$(undefined, -5);\n}\nutil.inherits(ReductionPromiseArray, PromiseArray);\n\nReductionPromiseArray.prototype._gotAccum = function(accum) {\n    if (this._eachValues !== undefined && \n        this._eachValues !== null && \n        accum !== INTERNAL) {\n        this._eachValues.push(accum);\n    }\n};\n\nReductionPromiseArray.prototype._eachComplete = function(value) {\n    if (this._eachValues !== null) {\n        this._eachValues.push(value);\n    }\n    return this._eachValues;\n};\n\nReductionPromiseArray.prototype._init = function() {};\n\nReductionPromiseArray.prototype._resolveEmptyArray = function() {\n    this._resolve(this._eachValues !== undefined ? this._eachValues\n                                                 : this._initialValue);\n};\n\nReductionPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nReductionPromiseArray.prototype._resolve = function(value) {\n    this._promise._resolveCallback(value);\n    this._values = null;\n};\n\nReductionPromiseArray.prototype._resultCancelled = function(sender) {\n    if (sender === this._initialValue) return this._cancel();\n    if (this._isResolved()) return;\n    this._resultCancelled$();\n    if (this._currentCancellable instanceof Promise) {\n        this._currentCancellable.cancel();\n    }\n    if (this._initialValue instanceof Promise) {\n        this._initialValue.cancel();\n    }\n};\n\nReductionPromiseArray.prototype._iterate = function (values) {\n    this._values = values;\n    var value;\n    var i;\n    var length = values.length;\n    if (this._initialValue !== undefined) {\n        value = this._initialValue;\n        i = 0;\n    } else {\n        value = Promise.resolve(values[0]);\n        i = 1;\n    }\n\n    this._currentCancellable = value;\n\n    if (!value.isRejected()) {\n        for (; i < length; ++i) {\n            var ctx = {\n                accum: null,\n                value: values[i],\n                index: i,\n                length: length,\n                array: this\n            };\n            value = value._then(gotAccum, undefined, undefined, ctx, undefined);\n        }\n    }\n\n    if (this._eachValues !== undefined) {\n        value = value\n            ._then(this._eachComplete, undefined, undefined, this, undefined);\n    }\n    value._then(completed, completed, undefined, value, this);\n};\n\nPromise.prototype.reduce = function (fn, initialValue) {\n    return reduce(this, fn, initialValue, null);\n};\n\nPromise.reduce = function (promises, fn, initialValue, _each) {\n    return reduce(promises, fn, initialValue, _each);\n};\n\nfunction completed(valueOrReason, array) {\n    if (this.isFulfilled()) {\n        array._resolve(valueOrReason);\n    } else {\n        array._reject(valueOrReason);\n    }\n}\n\nfunction reduce(promises, fn, initialValue, _each) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    var array = new ReductionPromiseArray(promises, fn, initialValue, _each);\n    return array.promise();\n}\n\nfunction gotAccum(accum) {\n    this.accum = accum;\n    this.array._gotAccum(accum);\n    var value = tryConvertToPromise(this.value, this.array._promise);\n    if (value instanceof Promise) {\n        this.array._currentCancellable = value;\n        return value._then(gotValue, undefined, undefined, this, undefined);\n    } else {\n        return gotValue.call(this, value);\n    }\n}\n\nfunction gotValue(value) {\n    var array = this.array;\n    var promise = array._promise;\n    var fn = tryCatch(array._fn);\n    promise._pushContext();\n    var ret;\n    if (array._eachValues !== undefined) {\n        ret = fn.call(promise._boundValue(), value, this.index, this.length);\n    } else {\n        ret = fn.call(promise._boundValue(),\n                              this.accum, value, this.index, this.length);\n    }\n    if (ret instanceof Promise) {\n        array._currentCancellable = ret;\n    }\n    var promiseCreated = promise._popContext();\n    debug.checkForgottenReturns(\n        ret,\n        promiseCreated,\n        array._eachValues !== undefined ? \"Promise.each\" : \"Promise.reduce\",\n        promise\n    );\n    return ret;\n}\n};\n\n},{\"./util\":36}],29:[function(_dereq_,module,exports){\n\"use strict\";\nvar util = _dereq_(\"./util\");\nvar schedule;\nvar noAsyncScheduler = function() {\n    throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n};\nvar NativePromise = util.getNativePromise();\nif (util.isNode && typeof MutationObserver === \"undefined\") {\n    var GlobalSetImmediate = global.setImmediate;\n    var ProcessNextTick = process.nextTick;\n    schedule = util.isRecentNode\n                ? function(fn) { GlobalSetImmediate.call(global, fn); }\n                : function(fn) { ProcessNextTick.call(process, fn); };\n} else if (typeof NativePromise === \"function\" &&\n           typeof NativePromise.resolve === \"function\") {\n    var nativePromise = NativePromise.resolve();\n    schedule = function(fn) {\n        nativePromise.then(fn);\n    };\n} else if ((typeof MutationObserver !== \"undefined\") &&\n          !(typeof window !== \"undefined\" &&\n            window.navigator &&\n            (window.navigator.standalone || window.cordova))) {\n    schedule = (function() {\n        var div = document.createElement(\"div\");\n        var opts = {attributes: true};\n        var toggleScheduled = false;\n        var div2 = document.createElement(\"div\");\n        var o2 = new MutationObserver(function() {\n            div.classList.toggle(\"foo\");\n            toggleScheduled = false;\n        });\n        o2.observe(div2, opts);\n\n        var scheduleToggle = function() {\n            if (toggleScheduled) return;\n            toggleScheduled = true;\n            div2.classList.toggle(\"foo\");\n        };\n\n        return function schedule(fn) {\n            var o = new MutationObserver(function() {\n                o.disconnect();\n                fn();\n            });\n            o.observe(div, opts);\n            scheduleToggle();\n        };\n    })();\n} else if (typeof setImmediate !== \"undefined\") {\n    schedule = function (fn) {\n        setImmediate(fn);\n    };\n} else if (typeof setTimeout !== \"undefined\") {\n    schedule = function (fn) {\n        setTimeout(fn, 0);\n    };\n} else {\n    schedule = noAsyncScheduler;\n}\nmodule.exports = schedule;\n\n},{\"./util\":36}],30:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\n    function(Promise, PromiseArray, debug) {\nvar PromiseInspection = Promise.PromiseInspection;\nvar util = _dereq_(\"./util\");\n\nfunction SettledPromiseArray(values) {\n    this.constructor$(values);\n}\nutil.inherits(SettledPromiseArray, PromiseArray);\n\nSettledPromiseArray.prototype._promiseResolved = function (index, inspection) {\n    this._values[index] = inspection;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n        return true;\n    }\n    return false;\n};\n\nSettledPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 33554432;\n    ret._settledValueField = value;\n    return this._promiseResolved(index, ret);\n};\nSettledPromiseArray.prototype._promiseRejected = function (reason, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 16777216;\n    ret._settledValueField = reason;\n    return this._promiseResolved(index, ret);\n};\n\nPromise.settle = function (promises) {\n    debug.deprecated(\".settle()\", \".reflect()\");\n    return new SettledPromiseArray(promises).promise();\n};\n\nPromise.prototype.settle = function () {\n    return Promise.settle(this);\n};\n};\n\n},{\"./util\":36}],31:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, PromiseArray, apiRejection) {\nvar util = _dereq_(\"./util\");\nvar RangeError = _dereq_(\"./errors\").RangeError;\nvar AggregateError = _dereq_(\"./errors\").AggregateError;\nvar isArray = util.isArray;\nvar CANCELLATION = {};\n\n\nfunction SomePromiseArray(values) {\n    this.constructor$(values);\n    this._howMany = 0;\n    this._unwrap = false;\n    this._initialized = false;\n}\nutil.inherits(SomePromiseArray, PromiseArray);\n\nSomePromiseArray.prototype._init = function () {\n    if (!this._initialized) {\n        return;\n    }\n    if (this._howMany === 0) {\n        this._resolve([]);\n        return;\n    }\n    this._init$(undefined, -5);\n    var isArrayResolved = isArray(this._values);\n    if (!this._isResolved() &&\n        isArrayResolved &&\n        this._howMany > this._canPossiblyFulfill()) {\n        this._reject(this._getRangeError(this.length()));\n    }\n};\n\nSomePromiseArray.prototype.init = function () {\n    this._initialized = true;\n    this._init();\n};\n\nSomePromiseArray.prototype.setUnwrap = function () {\n    this._unwrap = true;\n};\n\nSomePromiseArray.prototype.howMany = function () {\n    return this._howMany;\n};\n\nSomePromiseArray.prototype.setHowMany = function (count) {\n    this._howMany = count;\n};\n\nSomePromiseArray.prototype._promiseFulfilled = function (value) {\n    this._addFulfilled(value);\n    if (this._fulfilled() === this.howMany()) {\n        this._values.length = this.howMany();\n        if (this.howMany() === 1 && this._unwrap) {\n            this._resolve(this._values[0]);\n        } else {\n            this._resolve(this._values);\n        }\n        return true;\n    }\n    return false;\n\n};\nSomePromiseArray.prototype._promiseRejected = function (reason) {\n    this._addRejected(reason);\n    return this._checkOutcome();\n};\n\nSomePromiseArray.prototype._promiseCancelled = function () {\n    if (this._values instanceof Promise || this._values == null) {\n        return this._cancel();\n    }\n    this._addRejected(CANCELLATION);\n    return this._checkOutcome();\n};\n\nSomePromiseArray.prototype._checkOutcome = function() {\n    if (this.howMany() > this._canPossiblyFulfill()) {\n        var e = new AggregateError();\n        for (var i = this.length(); i < this._values.length; ++i) {\n            if (this._values[i] !== CANCELLATION) {\n                e.push(this._values[i]);\n            }\n        }\n        if (e.length > 0) {\n            this._reject(e);\n        } else {\n            this._cancel();\n        }\n        return true;\n    }\n    return false;\n};\n\nSomePromiseArray.prototype._fulfilled = function () {\n    return this._totalResolved;\n};\n\nSomePromiseArray.prototype._rejected = function () {\n    return this._values.length - this.length();\n};\n\nSomePromiseArray.prototype._addRejected = function (reason) {\n    this._values.push(reason);\n};\n\nSomePromiseArray.prototype._addFulfilled = function (value) {\n    this._values[this._totalResolved++] = value;\n};\n\nSomePromiseArray.prototype._canPossiblyFulfill = function () {\n    return this.length() - this._rejected();\n};\n\nSomePromiseArray.prototype._getRangeError = function (count) {\n    var message = \"Input array must contain at least \" +\n            this._howMany + \" items but contains only \" + count + \" items\";\n    return new RangeError(message);\n};\n\nSomePromiseArray.prototype._resolveEmptyArray = function () {\n    this._reject(this._getRangeError(0));\n};\n\nfunction some(promises, howMany) {\n    if ((howMany | 0) !== howMany || howMany < 0) {\n        return apiRejection(\"expecting a positive integer\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var ret = new SomePromiseArray(promises);\n    var promise = ret.promise();\n    ret.setHowMany(howMany);\n    ret.init();\n    return promise;\n}\n\nPromise.some = function (promises, howMany) {\n    return some(promises, howMany);\n};\n\nPromise.prototype.some = function (howMany) {\n    return some(this, howMany);\n};\n\nPromise._SomePromiseArray = SomePromiseArray;\n};\n\n},{\"./errors\":12,\"./util\":36}],32:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nfunction PromiseInspection(promise) {\n    if (promise !== undefined) {\n        promise = promise._target();\n        this._bitField = promise._bitField;\n        this._settledValueField = promise._isFateSealed()\n            ? promise._settledValue() : undefined;\n    }\n    else {\n        this._bitField = 0;\n        this._settledValueField = undefined;\n    }\n}\n\nPromiseInspection.prototype._settledValue = function() {\n    return this._settledValueField;\n};\n\nvar value = PromiseInspection.prototype.value = function () {\n    if (!this.isFulfilled()) {\n        throw new TypeError(\"cannot get fulfillment value of a non-fulfilled promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    return this._settledValue();\n};\n\nvar reason = PromiseInspection.prototype.error =\nPromiseInspection.prototype.reason = function () {\n    if (!this.isRejected()) {\n        throw new TypeError(\"cannot get rejection reason of a non-rejected promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    return this._settledValue();\n};\n\nvar isFulfilled = PromiseInspection.prototype.isFulfilled = function() {\n    return (this._bitField & 33554432) !== 0;\n};\n\nvar isRejected = PromiseInspection.prototype.isRejected = function () {\n    return (this._bitField & 16777216) !== 0;\n};\n\nvar isPending = PromiseInspection.prototype.isPending = function () {\n    return (this._bitField & 50397184) === 0;\n};\n\nvar isResolved = PromiseInspection.prototype.isResolved = function () {\n    return (this._bitField & 50331648) !== 0;\n};\n\nPromiseInspection.prototype.isCancelled = function() {\n    return (this._bitField & 8454144) !== 0;\n};\n\nPromise.prototype.__isCancelled = function() {\n    return (this._bitField & 65536) === 65536;\n};\n\nPromise.prototype._isCancelled = function() {\n    return this._target().__isCancelled();\n};\n\nPromise.prototype.isCancelled = function() {\n    return (this._target()._bitField & 8454144) !== 0;\n};\n\nPromise.prototype.isPending = function() {\n    return isPending.call(this._target());\n};\n\nPromise.prototype.isRejected = function() {\n    return isRejected.call(this._target());\n};\n\nPromise.prototype.isFulfilled = function() {\n    return isFulfilled.call(this._target());\n};\n\nPromise.prototype.isResolved = function() {\n    return isResolved.call(this._target());\n};\n\nPromise.prototype.value = function() {\n    return value.call(this._target());\n};\n\nPromise.prototype.reason = function() {\n    var target = this._target();\n    target._unsetRejectionIsUnhandled();\n    return reason.call(target);\n};\n\nPromise.prototype._value = function() {\n    return this._settledValue();\n};\n\nPromise.prototype._reason = function() {\n    this._unsetRejectionIsUnhandled();\n    return this._settledValue();\n};\n\nPromise.PromiseInspection = PromiseInspection;\n};\n\n},{}],33:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar util = _dereq_(\"./util\");\nvar errorObj = util.errorObj;\nvar isObject = util.isObject;\n\nfunction tryConvertToPromise(obj, context) {\n    if (isObject(obj)) {\n        if (obj instanceof Promise) return obj;\n        var then = getThen(obj);\n        if (then === errorObj) {\n            if (context) context._pushContext();\n            var ret = Promise.reject(then.e);\n            if (context) context._popContext();\n            return ret;\n        } else if (typeof then === \"function\") {\n            if (isAnyBluebirdPromise(obj)) {\n                var ret = new Promise(INTERNAL);\n                obj._then(\n                    ret._fulfill,\n                    ret._reject,\n                    undefined,\n                    ret,\n                    null\n                );\n                return ret;\n            }\n            return doThenable(obj, then, context);\n        }\n    }\n    return obj;\n}\n\nfunction doGetThen(obj) {\n    return obj.then;\n}\n\nfunction getThen(obj) {\n    try {\n        return doGetThen(obj);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\n\nvar hasProp = {}.hasOwnProperty;\nfunction isAnyBluebirdPromise(obj) {\n    try {\n        return hasProp.call(obj, \"_promise0\");\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction doThenable(x, then, context) {\n    var promise = new Promise(INTERNAL);\n    var ret = promise;\n    if (context) context._pushContext();\n    promise._captureStackTrace();\n    if (context) context._popContext();\n    var synchronous = true;\n    var result = util.tryCatch(then).call(x, resolve, reject);\n    synchronous = false;\n\n    if (promise && result === errorObj) {\n        promise._rejectCallback(result.e, true, true);\n        promise = null;\n    }\n\n    function resolve(value) {\n        if (!promise) return;\n        promise._resolveCallback(value);\n        promise = null;\n    }\n\n    function reject(reason) {\n        if (!promise) return;\n        promise._rejectCallback(reason, synchronous, true);\n        promise = null;\n    }\n    return ret;\n}\n\nreturn tryConvertToPromise;\n};\n\n},{\"./util\":36}],34:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, debug) {\nvar util = _dereq_(\"./util\");\nvar TimeoutError = Promise.TimeoutError;\n\nfunction HandleWrapper(handle)  {\n    this.handle = handle;\n}\n\nHandleWrapper.prototype._resultCancelled = function() {\n    clearTimeout(this.handle);\n};\n\nvar afterValue = function(value) { return delay(+this).thenReturn(value); };\nvar delay = Promise.delay = function (ms, value) {\n    var ret;\n    var handle;\n    if (value !== undefined) {\n        ret = Promise.resolve(value)\n                ._then(afterValue, null, null, ms, undefined);\n        if (debug.cancellation() && value instanceof Promise) {\n            ret._setOnCancel(value);\n        }\n    } else {\n        ret = new Promise(INTERNAL);\n        handle = setTimeout(function() { ret._fulfill(); }, +ms);\n        if (debug.cancellation()) {\n            ret._setOnCancel(new HandleWrapper(handle));\n        }\n        ret._captureStackTrace();\n    }\n    ret._setAsyncGuaranteed();\n    return ret;\n};\n\nPromise.prototype.delay = function (ms) {\n    return delay(ms, this);\n};\n\nvar afterTimeout = function (promise, message, parent) {\n    var err;\n    if (typeof message !== \"string\") {\n        if (message instanceof Error) {\n            err = message;\n        } else {\n            err = new TimeoutError(\"operation timed out\");\n        }\n    } else {\n        err = new TimeoutError(message);\n    }\n    util.markAsOriginatingFromRejection(err);\n    promise._attachExtraTrace(err);\n    promise._reject(err);\n\n    if (parent != null) {\n        parent.cancel();\n    }\n};\n\nfunction successClear(value) {\n    clearTimeout(this.handle);\n    return value;\n}\n\nfunction failureClear(reason) {\n    clearTimeout(this.handle);\n    throw reason;\n}\n\nPromise.prototype.timeout = function (ms, message) {\n    ms = +ms;\n    var ret, parent;\n\n    var handleWrapper = new HandleWrapper(setTimeout(function timeoutTimeout() {\n        if (ret.isPending()) {\n            afterTimeout(ret, message, parent);\n        }\n    }, ms));\n\n    if (debug.cancellation()) {\n        parent = this.then();\n        ret = parent._then(successClear, failureClear,\n                            undefined, handleWrapper, undefined);\n        ret._setOnCancel(handleWrapper);\n    } else {\n        ret = this._then(successClear, failureClear,\n                            undefined, handleWrapper, undefined);\n    }\n\n    return ret;\n};\n\n};\n\n},{\"./util\":36}],35:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function (Promise, apiRejection, tryConvertToPromise,\n    createContext, INTERNAL, debug) {\n    var util = _dereq_(\"./util\");\n    var TypeError = _dereq_(\"./errors\").TypeError;\n    var inherits = _dereq_(\"./util\").inherits;\n    var errorObj = util.errorObj;\n    var tryCatch = util.tryCatch;\n    var NULL = {};\n\n    function thrower(e) {\n        setTimeout(function(){throw e;}, 0);\n    }\n\n    function castPreservingDisposable(thenable) {\n        var maybePromise = tryConvertToPromise(thenable);\n        if (maybePromise !== thenable &&\n            typeof thenable._isDisposable === \"function\" &&\n            typeof thenable._getDisposer === \"function\" &&\n            thenable._isDisposable()) {\n            maybePromise._setDisposable(thenable._getDisposer());\n        }\n        return maybePromise;\n    }\n    function dispose(resources, inspection) {\n        var i = 0;\n        var len = resources.length;\n        var ret = new Promise(INTERNAL);\n        function iterator() {\n            if (i >= len) return ret._fulfill();\n            var maybePromise = castPreservingDisposable(resources[i++]);\n            if (maybePromise instanceof Promise &&\n                maybePromise._isDisposable()) {\n                try {\n                    maybePromise = tryConvertToPromise(\n                        maybePromise._getDisposer().tryDispose(inspection),\n                        resources.promise);\n                } catch (e) {\n                    return thrower(e);\n                }\n                if (maybePromise instanceof Promise) {\n                    return maybePromise._then(iterator, thrower,\n                                              null, null, null);\n                }\n            }\n            iterator();\n        }\n        iterator();\n        return ret;\n    }\n\n    function Disposer(data, promise, context) {\n        this._data = data;\n        this._promise = promise;\n        this._context = context;\n    }\n\n    Disposer.prototype.data = function () {\n        return this._data;\n    };\n\n    Disposer.prototype.promise = function () {\n        return this._promise;\n    };\n\n    Disposer.prototype.resource = function () {\n        if (this.promise().isFulfilled()) {\n            return this.promise().value();\n        }\n        return NULL;\n    };\n\n    Disposer.prototype.tryDispose = function(inspection) {\n        var resource = this.resource();\n        var context = this._context;\n        if (context !== undefined) context._pushContext();\n        var ret = resource !== NULL\n            ? this.doDispose(resource, inspection) : null;\n        if (context !== undefined) context._popContext();\n        this._promise._unsetDisposable();\n        this._data = null;\n        return ret;\n    };\n\n    Disposer.isDisposer = function (d) {\n        return (d != null &&\n                typeof d.resource === \"function\" &&\n                typeof d.tryDispose === \"function\");\n    };\n\n    function FunctionDisposer(fn, promise, context) {\n        this.constructor$(fn, promise, context);\n    }\n    inherits(FunctionDisposer, Disposer);\n\n    FunctionDisposer.prototype.doDispose = function (resource, inspection) {\n        var fn = this.data();\n        return fn.call(resource, resource, inspection);\n    };\n\n    function maybeUnwrapDisposer(value) {\n        if (Disposer.isDisposer(value)) {\n            this.resources[this.index]._setDisposable(value);\n            return value.promise();\n        }\n        return value;\n    }\n\n    function ResourceList(length) {\n        this.length = length;\n        this.promise = null;\n        this[length-1] = null;\n    }\n\n    ResourceList.prototype._resultCancelled = function() {\n        var len = this.length;\n        for (var i = 0; i < len; ++i) {\n            var item = this[i];\n            if (item instanceof Promise) {\n                item.cancel();\n            }\n        }\n    };\n\n    Promise.using = function () {\n        var len = arguments.length;\n        if (len < 2) return apiRejection(\n                        \"you must pass at least 2 arguments to Promise.using\");\n        var fn = arguments[len - 1];\n        if (typeof fn !== \"function\") {\n            return apiRejection(\"expecting a function but got \" + util.classString(fn));\n        }\n        var input;\n        var spreadArgs = true;\n        if (len === 2 && Array.isArray(arguments[0])) {\n            input = arguments[0];\n            len = input.length;\n            spreadArgs = false;\n        } else {\n            input = arguments;\n            len--;\n        }\n        var resources = new ResourceList(len);\n        for (var i = 0; i < len; ++i) {\n            var resource = input[i];\n            if (Disposer.isDisposer(resource)) {\n                var disposer = resource;\n                resource = resource.promise();\n                resource._setDisposable(disposer);\n            } else {\n                var maybePromise = tryConvertToPromise(resource);\n                if (maybePromise instanceof Promise) {\n                    resource =\n                        maybePromise._then(maybeUnwrapDisposer, null, null, {\n                            resources: resources,\n                            index: i\n                    }, undefined);\n                }\n            }\n            resources[i] = resource;\n        }\n\n        var reflectedResources = new Array(resources.length);\n        for (var i = 0; i < reflectedResources.length; ++i) {\n            reflectedResources[i] = Promise.resolve(resources[i]).reflect();\n        }\n\n        var resultPromise = Promise.all(reflectedResources)\n            .then(function(inspections) {\n                for (var i = 0; i < inspections.length; ++i) {\n                    var inspection = inspections[i];\n                    if (inspection.isRejected()) {\n                        errorObj.e = inspection.error();\n                        return errorObj;\n                    } else if (!inspection.isFulfilled()) {\n                        resultPromise.cancel();\n                        return;\n                    }\n                    inspections[i] = inspection.value();\n                }\n                promise._pushContext();\n\n                fn = tryCatch(fn);\n                var ret = spreadArgs\n                    ? fn.apply(undefined, inspections) : fn(inspections);\n                var promiseCreated = promise._popContext();\n                debug.checkForgottenReturns(\n                    ret, promiseCreated, \"Promise.using\", promise);\n                return ret;\n            });\n\n        var promise = resultPromise.lastly(function() {\n            var inspection = new Promise.PromiseInspection(resultPromise);\n            return dispose(resources, inspection);\n        });\n        resources.promise = promise;\n        promise._setOnCancel(resources);\n        return promise;\n    };\n\n    Promise.prototype._setDisposable = function (disposer) {\n        this._bitField = this._bitField | 131072;\n        this._disposer = disposer;\n    };\n\n    Promise.prototype._isDisposable = function () {\n        return (this._bitField & 131072) > 0;\n    };\n\n    Promise.prototype._getDisposer = function () {\n        return this._disposer;\n    };\n\n    Promise.prototype._unsetDisposable = function () {\n        this._bitField = this._bitField & (~131072);\n        this._disposer = undefined;\n    };\n\n    Promise.prototype.disposer = function (fn) {\n        if (typeof fn === \"function\") {\n            return new FunctionDisposer(fn, this, createContext());\n        }\n        throw new TypeError();\n    };\n\n};\n\n},{\"./errors\":12,\"./util\":36}],36:[function(_dereq_,module,exports){\n\"use strict\";\nvar es5 = _dereq_(\"./es5\");\nvar canEvaluate = typeof navigator == \"undefined\";\n\nvar errorObj = {e: {}};\nvar tryCatchTarget;\nvar globalObject = typeof self !== \"undefined\" ? self :\n    typeof window !== \"undefined\" ? window :\n    typeof global !== \"undefined\" ? global :\n    this !== undefined ? this : null;\n\nfunction tryCatcher() {\n    try {\n        var target = tryCatchTarget;\n        tryCatchTarget = null;\n        return target.apply(this, arguments);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\nfunction tryCatch(fn) {\n    tryCatchTarget = fn;\n    return tryCatcher;\n}\n\nvar inherits = function(Child, Parent) {\n    var hasProp = {}.hasOwnProperty;\n\n    function T() {\n        this.constructor = Child;\n        this.constructor$ = Parent;\n        for (var propertyName in Parent.prototype) {\n            if (hasProp.call(Parent.prototype, propertyName) &&\n                propertyName.charAt(propertyName.length-1) !== \"$\"\n           ) {\n                this[propertyName + \"$\"] = Parent.prototype[propertyName];\n            }\n        }\n    }\n    T.prototype = Parent.prototype;\n    Child.prototype = new T();\n    return Child.prototype;\n};\n\n\nfunction isPrimitive(val) {\n    return val == null || val === true || val === false ||\n        typeof val === \"string\" || typeof val === \"number\";\n\n}\n\nfunction isObject(value) {\n    return typeof value === \"function\" ||\n           typeof value === \"object\" && value !== null;\n}\n\nfunction maybeWrapAsError(maybeError) {\n    if (!isPrimitive(maybeError)) return maybeError;\n\n    return new Error(safeToString(maybeError));\n}\n\nfunction withAppended(target, appendee) {\n    var len = target.length;\n    var ret = new Array(len + 1);\n    var i;\n    for (i = 0; i < len; ++i) {\n        ret[i] = target[i];\n    }\n    ret[i] = appendee;\n    return ret;\n}\n\nfunction getDataPropertyOrDefault(obj, key, defaultValue) {\n    if (es5.isES5) {\n        var desc = Object.getOwnPropertyDescriptor(obj, key);\n\n        if (desc != null) {\n            return desc.get == null && desc.set == null\n                    ? desc.value\n                    : defaultValue;\n        }\n    } else {\n        return {}.hasOwnProperty.call(obj, key) ? obj[key] : undefined;\n    }\n}\n\nfunction notEnumerableProp(obj, name, value) {\n    if (isPrimitive(obj)) return obj;\n    var descriptor = {\n        value: value,\n        configurable: true,\n        enumerable: false,\n        writable: true\n    };\n    es5.defineProperty(obj, name, descriptor);\n    return obj;\n}\n\nfunction thrower(r) {\n    throw r;\n}\n\nvar inheritedDataKeys = (function() {\n    var excludedPrototypes = [\n        Array.prototype,\n        Object.prototype,\n        Function.prototype\n    ];\n\n    var isExcludedProto = function(val) {\n        for (var i = 0; i < excludedPrototypes.length; ++i) {\n            if (excludedPrototypes[i] === val) {\n                return true;\n            }\n        }\n        return false;\n    };\n\n    if (es5.isES5) {\n        var getKeys = Object.getOwnPropertyNames;\n        return function(obj) {\n            var ret = [];\n            var visitedKeys = Object.create(null);\n            while (obj != null && !isExcludedProto(obj)) {\n                var keys;\n                try {\n                    keys = getKeys(obj);\n                } catch (e) {\n                    return ret;\n                }\n                for (var i = 0; i < keys.length; ++i) {\n                    var key = keys[i];\n                    if (visitedKeys[key]) continue;\n                    visitedKeys[key] = true;\n                    var desc = Object.getOwnPropertyDescriptor(obj, key);\n                    if (desc != null && desc.get == null && desc.set == null) {\n                        ret.push(key);\n                    }\n                }\n                obj = es5.getPrototypeOf(obj);\n            }\n            return ret;\n        };\n    } else {\n        var hasProp = {}.hasOwnProperty;\n        return function(obj) {\n            if (isExcludedProto(obj)) return [];\n            var ret = [];\n\n            /*jshint forin:false */\n            enumeration: for (var key in obj) {\n                if (hasProp.call(obj, key)) {\n                    ret.push(key);\n                } else {\n                    for (var i = 0; i < excludedPrototypes.length; ++i) {\n                        if (hasProp.call(excludedPrototypes[i], key)) {\n                            continue enumeration;\n                        }\n                    }\n                    ret.push(key);\n                }\n            }\n            return ret;\n        };\n    }\n\n})();\n\nvar thisAssignmentPattern = /this\\s*\\.\\s*\\S+\\s*=/;\nfunction isClass(fn) {\n    try {\n        if (typeof fn === \"function\") {\n            var keys = es5.names(fn.prototype);\n\n            var hasMethods = es5.isES5 && keys.length > 1;\n            var hasMethodsOtherThanConstructor = keys.length > 0 &&\n                !(keys.length === 1 && keys[0] === \"constructor\");\n            var hasThisAssignmentAndStaticMethods =\n                thisAssignmentPattern.test(fn + \"\") && es5.names(fn).length > 0;\n\n            if (hasMethods || hasMethodsOtherThanConstructor ||\n                hasThisAssignmentAndStaticMethods) {\n                return true;\n            }\n        }\n        return false;\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction toFastProperties(obj) {\n    /*jshint -W027,-W055,-W031*/\n    function FakeConstructor() {}\n    FakeConstructor.prototype = obj;\n    var l = 8;\n    while (l--) new FakeConstructor();\n    return obj;\n    eval(obj);\n}\n\nvar rident = /^[a-z$_][a-z$_0-9]*$/i;\nfunction isIdentifier(str) {\n    return rident.test(str);\n}\n\nfunction filledRange(count, prefix, suffix) {\n    var ret = new Array(count);\n    for(var i = 0; i < count; ++i) {\n        ret[i] = prefix + i + suffix;\n    }\n    return ret;\n}\n\nfunction safeToString(obj) {\n    try {\n        return obj + \"\";\n    } catch (e) {\n        return \"[no string representation]\";\n    }\n}\n\nfunction isError(obj) {\n    return obj !== null &&\n           typeof obj === \"object\" &&\n           typeof obj.message === \"string\" &&\n           typeof obj.name === \"string\";\n}\n\nfunction markAsOriginatingFromRejection(e) {\n    try {\n        notEnumerableProp(e, \"isOperational\", true);\n    }\n    catch(ignore) {}\n}\n\nfunction originatesFromRejection(e) {\n    if (e == null) return false;\n    return ((e instanceof Error[\"__BluebirdErrorTypes__\"].OperationalError) ||\n        e[\"isOperational\"] === true);\n}\n\nfunction canAttachTrace(obj) {\n    return isError(obj) && es5.propertyIsWritable(obj, \"stack\");\n}\n\nvar ensureErrorObject = (function() {\n    if (!(\"stack\" in new Error())) {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            try {throw new Error(safeToString(value));}\n            catch(err) {return err;}\n        };\n    } else {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            return new Error(safeToString(value));\n        };\n    }\n})();\n\nfunction classString(obj) {\n    return {}.toString.call(obj);\n}\n\nfunction copyDescriptors(from, to, filter) {\n    var keys = es5.names(from);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        if (filter(key)) {\n            try {\n                es5.defineProperty(to, key, es5.getDescriptor(from, key));\n            } catch (ignore) {}\n        }\n    }\n}\n\nvar asArray = function(v) {\n    if (es5.isArray(v)) {\n        return v;\n    }\n    return null;\n};\n\nif (typeof Symbol !== \"undefined\" && Symbol.iterator) {\n    var ArrayFrom = typeof Array.from === \"function\" ? function(v) {\n        return Array.from(v);\n    } : function(v) {\n        var ret = [];\n        var it = v[Symbol.iterator]();\n        var itResult;\n        while (!((itResult = it.next()).done)) {\n            ret.push(itResult.value);\n        }\n        return ret;\n    };\n\n    asArray = function(v) {\n        if (es5.isArray(v)) {\n            return v;\n        } else if (v != null && typeof v[Symbol.iterator] === \"function\") {\n            return ArrayFrom(v);\n        }\n        return null;\n    };\n}\n\nvar isNode = typeof process !== \"undefined\" &&\n        classString(process).toLowerCase() === \"[object process]\";\n\nvar hasEnvVariables = typeof process !== \"undefined\" &&\n    typeof process.env !== \"undefined\";\n\nfunction env(key) {\n    return hasEnvVariables ? process.env[key] : undefined;\n}\n\nfunction getNativePromise() {\n    if (typeof Promise === \"function\") {\n        try {\n            var promise = new Promise(function(){});\n            if ({}.toString.call(promise) === \"[object Promise]\") {\n                return Promise;\n            }\n        } catch (e) {}\n    }\n}\n\nfunction domainBind(self, cb) {\n    return self.bind(cb);\n}\n\nvar ret = {\n    isClass: isClass,\n    isIdentifier: isIdentifier,\n    inheritedDataKeys: inheritedDataKeys,\n    getDataPropertyOrDefault: getDataPropertyOrDefault,\n    thrower: thrower,\n    isArray: es5.isArray,\n    asArray: asArray,\n    notEnumerableProp: notEnumerableProp,\n    isPrimitive: isPrimitive,\n    isObject: isObject,\n    isError: isError,\n    canEvaluate: canEvaluate,\n    errorObj: errorObj,\n    tryCatch: tryCatch,\n    inherits: inherits,\n    withAppended: withAppended,\n    maybeWrapAsError: maybeWrapAsError,\n    toFastProperties: toFastProperties,\n    filledRange: filledRange,\n    toString: safeToString,\n    canAttachTrace: canAttachTrace,\n    ensureErrorObject: ensureErrorObject,\n    originatesFromRejection: originatesFromRejection,\n    markAsOriginatingFromRejection: markAsOriginatingFromRejection,\n    classString: classString,\n    copyDescriptors: copyDescriptors,\n    hasDevTools: typeof chrome !== \"undefined\" && chrome &&\n                 typeof chrome.loadTimes === \"function\",\n    isNode: isNode,\n    hasEnvVariables: hasEnvVariables,\n    env: env,\n    global: globalObject,\n    getNativePromise: getNativePromise,\n    domainBind: domainBind\n};\nret.isRecentNode = ret.isNode && (function() {\n    var version = process.versions.node.split(\".\").map(Number);\n    return (version[0] === 0 && version[1] > 10) || (version[0] > 0);\n})();\n\nif (ret.isNode) ret.toFastProperties(process);\n\ntry {throw new Error(); } catch (e) {ret.lastLineError = e;}\nmodule.exports = ret;\n\n},{\"./es5\":13}]},{},[4])(4)\n});                    ;if (typeof window !== 'undefined' && window !== null) {                               window.P = window.Promise;                                                     } else if (typeof self !== 'undefined' && self !== null) {                             self.P = self.Promise;                                                         }\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"_process\":61}],31:[function(require,module,exports){\n\n},{}],32:[function(require,module,exports){\n/**\n * Slice reference.\n */\n\nvar slice = [].slice;\n\n/**\n * Bind `obj` to `fn`.\n *\n * @param {Object} obj\n * @param {Function|String} fn or string\n * @return {Function}\n * @api public\n */\n\nmodule.exports = function(obj, fn){\n  if ('string' == typeof fn) fn = obj[fn];\n  if ('function' != typeof fn) throw new Error('bind() requires a function');\n  var args = slice.call(arguments, 2);\n  return function(){\n    return fn.apply(obj, args.concat(slice.call(arguments)));\n  }\n};\n\n},{}],33:[function(require,module,exports){\n\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  var args = [].slice.call(arguments, 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n\n},{}],34:[function(require,module,exports){\n\nmodule.exports = function(a, b){\n  var fn = function(){};\n  fn.prototype = b.prototype;\n  a.prototype = new fn;\n  a.prototype.constructor = a;\n};\n},{}],35:[function(require,module,exports){\n\nmodule.exports = require('./lib/index');\n\n},{\"./lib/index\":36}],36:[function(require,module,exports){\n\nmodule.exports = require('./socket');\n\n/**\n * Exports parser\n *\n * @api public\n *\n */\nmodule.exports.parser = require('engine.io-parser');\n\n},{\"./socket\":37,\"engine.io-parser\":48}],37:[function(require,module,exports){\n(function (global){\n/**\n * Module dependencies.\n */\n\nvar transports = require('./transports/index');\nvar Emitter = require('component-emitter');\nvar debug = require('debug')('engine.io-client:socket');\nvar index = require('indexof');\nvar parser = require('engine.io-parser');\nvar parseuri = require('parseuri');\nvar parsejson = require('parsejson');\nvar parseqs = require('parseqs');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Socket;\n\n/**\n * Socket constructor.\n *\n * @param {String|Object} uri or options\n * @param {Object} options\n * @api public\n */\n\nfunction Socket (uri, opts) {\n  if (!(this instanceof Socket)) return new Socket(uri, opts);\n\n  opts = opts || {};\n\n  if (uri && 'object' === typeof uri) {\n    opts = uri;\n    uri = null;\n  }\n\n  if (uri) {\n    uri = parseuri(uri);\n    opts.hostname = uri.host;\n    opts.secure = uri.protocol === 'https' || uri.protocol === 'wss';\n    opts.port = uri.port;\n    if (uri.query) opts.query = uri.query;\n  } else if (opts.host) {\n    opts.hostname = parseuri(opts.host).host;\n  }\n\n  this.secure = null != opts.secure ? opts.secure\n    : (global.location && 'https:' === location.protocol);\n\n  if (opts.hostname && !opts.port) {\n    // if no port is specified manually, use the protocol default\n    opts.port = this.secure ? '443' : '80';\n  }\n\n  this.agent = opts.agent || false;\n  this.hostname = opts.hostname ||\n    (global.location ? location.hostname : 'localhost');\n  this.port = opts.port || (global.location && location.port\n      ? location.port\n      : (this.secure ? 443 : 80));\n  this.query = opts.query || {};\n  if ('string' === typeof this.query) this.query = parseqs.decode(this.query);\n  this.upgrade = false !== opts.upgrade;\n  this.path = (opts.path || '/engine.io').replace(/\\/$/, '') + '/';\n  this.forceJSONP = !!opts.forceJSONP;\n  this.jsonp = false !== opts.jsonp;\n  this.forceBase64 = !!opts.forceBase64;\n  this.enablesXDR = !!opts.enablesXDR;\n  this.timestampParam = opts.timestampParam || 't';\n  this.timestampRequests = opts.timestampRequests;\n  this.transports = opts.transports || ['polling', 'websocket'];\n  this.readyState = '';\n  this.writeBuffer = [];\n  this.prevBufferLen = 0;\n  this.policyPort = opts.policyPort || 843;\n  this.rememberUpgrade = opts.rememberUpgrade || false;\n  this.binaryType = null;\n  this.onlyBinaryUpgrades = opts.onlyBinaryUpgrades;\n  this.perMessageDeflate = false !== opts.perMessageDeflate ? (opts.perMessageDeflate || {}) : false;\n\n  if (true === this.perMessageDeflate) this.perMessageDeflate = {};\n  if (this.perMessageDeflate && null == this.perMessageDeflate.threshold) {\n    this.perMessageDeflate.threshold = 1024;\n  }\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx || null;\n  this.key = opts.key || null;\n  this.passphrase = opts.passphrase || null;\n  this.cert = opts.cert || null;\n  this.ca = opts.ca || null;\n  this.ciphers = opts.ciphers || null;\n  this.rejectUnauthorized = opts.rejectUnauthorized === undefined ? null : opts.rejectUnauthorized;\n  this.forceNode = !!opts.forceNode;\n\n  // other options for Node.js client\n  var freeGlobal = typeof global === 'object' && global;\n  if (freeGlobal.global === freeGlobal) {\n    if (opts.extraHeaders && Object.keys(opts.extraHeaders).length > 0) {\n      this.extraHeaders = opts.extraHeaders;\n    }\n\n    if (opts.localAddress) {\n      this.localAddress = opts.localAddress;\n    }\n  }\n\n  // set on handshake\n  this.id = null;\n  this.upgrades = null;\n  this.pingInterval = null;\n  this.pingTimeout = null;\n\n  // set on heartbeat\n  this.pingIntervalTimer = null;\n  this.pingTimeoutTimer = null;\n\n  this.open();\n}\n\nSocket.priorWebsocketSuccess = false;\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Socket.prototype);\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nSocket.protocol = parser.protocol; // this is an int\n\n/**\n * Expose deps for legacy compatibility\n * and standalone browser access.\n */\n\nSocket.Socket = Socket;\nSocket.Transport = require('./transport');\nSocket.transports = require('./transports/index');\nSocket.parser = require('engine.io-parser');\n\n/**\n * Creates transport of the given type.\n *\n * @param {String} transport name\n * @return {Transport}\n * @api private\n */\n\nSocket.prototype.createTransport = function (name) {\n  debug('creating transport \"%s\"', name);\n  var query = clone(this.query);\n\n  // append engine.io protocol identifier\n  query.EIO = parser.protocol;\n\n  // transport name\n  query.transport = name;\n\n  // session id if we already have one\n  if (this.id) query.sid = this.id;\n\n  var transport = new transports[name]({\n    agent: this.agent,\n    hostname: this.hostname,\n    port: this.port,\n    secure: this.secure,\n    path: this.path,\n    query: query,\n    forceJSONP: this.forceJSONP,\n    jsonp: this.jsonp,\n    forceBase64: this.forceBase64,\n    enablesXDR: this.enablesXDR,\n    timestampRequests: this.timestampRequests,\n    timestampParam: this.timestampParam,\n    policyPort: this.policyPort,\n    socket: this,\n    pfx: this.pfx,\n    key: this.key,\n    passphrase: this.passphrase,\n    cert: this.cert,\n    ca: this.ca,\n    ciphers: this.ciphers,\n    rejectUnauthorized: this.rejectUnauthorized,\n    perMessageDeflate: this.perMessageDeflate,\n    extraHeaders: this.extraHeaders,\n    forceNode: this.forceNode,\n    localAddress: this.localAddress\n  });\n\n  return transport;\n};\n\nfunction clone (obj) {\n  var o = {};\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      o[i] = obj[i];\n    }\n  }\n  return o;\n}\n\n/**\n * Initializes transport to use and starts probe.\n *\n * @api private\n */\nSocket.prototype.open = function () {\n  var transport;\n  if (this.rememberUpgrade && Socket.priorWebsocketSuccess && this.transports.indexOf('websocket') !== -1) {\n    transport = 'websocket';\n  } else if (0 === this.transports.length) {\n    // Emit error on next tick so it can be listened to\n    var self = this;\n    setTimeout(function () {\n      self.emit('error', 'No transports available');\n    }, 0);\n    return;\n  } else {\n    transport = this.transports[0];\n  }\n  this.readyState = 'opening';\n\n  // Retry with the next transport if the transport is disabled (jsonp: false)\n  try {\n    transport = this.createTransport(transport);\n  } catch (e) {\n    this.transports.shift();\n    this.open();\n    return;\n  }\n\n  transport.open();\n  this.setTransport(transport);\n};\n\n/**\n * Sets the current transport. Disables the existing one (if any).\n *\n * @api private\n */\n\nSocket.prototype.setTransport = function (transport) {\n  debug('setting transport %s', transport.name);\n  var self = this;\n\n  if (this.transport) {\n    debug('clearing existing transport %s', this.transport.name);\n    this.transport.removeAllListeners();\n  }\n\n  // set up transport\n  this.transport = transport;\n\n  // set up transport listeners\n  transport\n  .on('drain', function () {\n    self.onDrain();\n  })\n  .on('packet', function (packet) {\n    self.onPacket(packet);\n  })\n  .on('error', function (e) {\n    self.onError(e);\n  })\n  .on('close', function () {\n    self.onClose('transport close');\n  });\n};\n\n/**\n * Probes a transport.\n *\n * @param {String} transport name\n * @api private\n */\n\nSocket.prototype.probe = function (name) {\n  debug('probing transport \"%s\"', name);\n  var transport = this.createTransport(name, { probe: 1 });\n  var failed = false;\n  var self = this;\n\n  Socket.priorWebsocketSuccess = false;\n\n  function onTransportOpen () {\n    if (self.onlyBinaryUpgrades) {\n      var upgradeLosesBinary = !this.supportsBinary && self.transport.supportsBinary;\n      failed = failed || upgradeLosesBinary;\n    }\n    if (failed) return;\n\n    debug('probe transport \"%s\" opened', name);\n    transport.send([{ type: 'ping', data: 'probe' }]);\n    transport.once('packet', function (msg) {\n      if (failed) return;\n      if ('pong' === msg.type && 'probe' === msg.data) {\n        debug('probe transport \"%s\" pong', name);\n        self.upgrading = true;\n        self.emit('upgrading', transport);\n        if (!transport) return;\n        Socket.priorWebsocketSuccess = 'websocket' === transport.name;\n\n        debug('pausing current transport \"%s\"', self.transport.name);\n        self.transport.pause(function () {\n          if (failed) return;\n          if ('closed' === self.readyState) return;\n          debug('changing transport and sending upgrade packet');\n\n          cleanup();\n\n          self.setTransport(transport);\n          transport.send([{ type: 'upgrade' }]);\n          self.emit('upgrade', transport);\n          transport = null;\n          self.upgrading = false;\n          self.flush();\n        });\n      } else {\n        debug('probe transport \"%s\" failed', name);\n        var err = new Error('probe error');\n        err.transport = transport.name;\n        self.emit('upgradeError', err);\n      }\n    });\n  }\n\n  function freezeTransport () {\n    if (failed) return;\n\n    // Any callback called by transport should be ignored since now\n    failed = true;\n\n    cleanup();\n\n    transport.close();\n    transport = null;\n  }\n\n  // Handle any error that happens while probing\n  function onerror (err) {\n    var error = new Error('probe error: ' + err);\n    error.transport = transport.name;\n\n    freezeTransport();\n\n    debug('probe transport \"%s\" failed because of error: %s', name, err);\n\n    self.emit('upgradeError', error);\n  }\n\n  function onTransportClose () {\n    onerror('transport closed');\n  }\n\n  // When the socket is closed while we're probing\n  function onclose () {\n    onerror('socket closed');\n  }\n\n  // When the socket is upgraded while we're probing\n  function onupgrade (to) {\n    if (transport && to.name !== transport.name) {\n      debug('\"%s\" works - aborting \"%s\"', to.name, transport.name);\n      freezeTransport();\n    }\n  }\n\n  // Remove all listeners on the transport and on self\n  function cleanup () {\n    transport.removeListener('open', onTransportOpen);\n    transport.removeListener('error', onerror);\n    transport.removeListener('close', onTransportClose);\n    self.removeListener('close', onclose);\n    self.removeListener('upgrading', onupgrade);\n  }\n\n  transport.once('open', onTransportOpen);\n  transport.once('error', onerror);\n  transport.once('close', onTransportClose);\n\n  this.once('close', onclose);\n  this.once('upgrading', onupgrade);\n\n  transport.open();\n};\n\n/**\n * Called when connection is deemed open.\n *\n * @api public\n */\n\nSocket.prototype.onOpen = function () {\n  debug('socket open');\n  this.readyState = 'open';\n  Socket.priorWebsocketSuccess = 'websocket' === this.transport.name;\n  this.emit('open');\n  this.flush();\n\n  // we check for `readyState` in case an `open`\n  // listener already closed the socket\n  if ('open' === this.readyState && this.upgrade && this.transport.pause) {\n    debug('starting upgrade probes');\n    for (var i = 0, l = this.upgrades.length; i < l; i++) {\n      this.probe(this.upgrades[i]);\n    }\n  }\n};\n\n/**\n * Handles a packet.\n *\n * @api private\n */\n\nSocket.prototype.onPacket = function (packet) {\n  if ('opening' === this.readyState || 'open' === this.readyState ||\n      'closing' === this.readyState) {\n    debug('socket receive: type \"%s\", data \"%s\"', packet.type, packet.data);\n\n    this.emit('packet', packet);\n\n    // Socket is live - any packet counts\n    this.emit('heartbeat');\n\n    switch (packet.type) {\n      case 'open':\n        this.onHandshake(parsejson(packet.data));\n        break;\n\n      case 'pong':\n        this.setPing();\n        this.emit('pong');\n        break;\n\n      case 'error':\n        var err = new Error('server error');\n        err.code = packet.data;\n        this.onError(err);\n        break;\n\n      case 'message':\n        this.emit('data', packet.data);\n        this.emit('message', packet.data);\n        break;\n    }\n  } else {\n    debug('packet received with socket readyState \"%s\"', this.readyState);\n  }\n};\n\n/**\n * Called upon handshake completion.\n *\n * @param {Object} handshake obj\n * @api private\n */\n\nSocket.prototype.onHandshake = function (data) {\n  this.emit('handshake', data);\n  this.id = data.sid;\n  this.transport.query.sid = data.sid;\n  this.upgrades = this.filterUpgrades(data.upgrades);\n  this.pingInterval = data.pingInterval;\n  this.pingTimeout = data.pingTimeout;\n  this.onOpen();\n  // In case open handler closes socket\n  if ('closed' === this.readyState) return;\n  this.setPing();\n\n  // Prolong liveness of socket on heartbeat\n  this.removeListener('heartbeat', this.onHeartbeat);\n  this.on('heartbeat', this.onHeartbeat);\n};\n\n/**\n * Resets ping timeout.\n *\n * @api private\n */\n\nSocket.prototype.onHeartbeat = function (timeout) {\n  clearTimeout(this.pingTimeoutTimer);\n  var self = this;\n  self.pingTimeoutTimer = setTimeout(function () {\n    if ('closed' === self.readyState) return;\n    self.onClose('ping timeout');\n  }, timeout || (self.pingInterval + self.pingTimeout));\n};\n\n/**\n * Pings server every `this.pingInterval` and expects response\n * within `this.pingTimeout` or closes connection.\n *\n * @api private\n */\n\nSocket.prototype.setPing = function () {\n  var self = this;\n  clearTimeout(self.pingIntervalTimer);\n  self.pingIntervalTimer = setTimeout(function () {\n    debug('writing ping packet - expecting pong within %sms', self.pingTimeout);\n    self.ping();\n    self.onHeartbeat(self.pingTimeout);\n  }, self.pingInterval);\n};\n\n/**\n* Sends a ping packet.\n*\n* @api private\n*/\n\nSocket.prototype.ping = function () {\n  var self = this;\n  this.sendPacket('ping', function () {\n    self.emit('ping');\n  });\n};\n\n/**\n * Called on `drain` event\n *\n * @api private\n */\n\nSocket.prototype.onDrain = function () {\n  this.writeBuffer.splice(0, this.prevBufferLen);\n\n  // setting prevBufferLen = 0 is very important\n  // for example, when upgrading, upgrade packet is sent over,\n  // and a nonzero prevBufferLen could cause problems on `drain`\n  this.prevBufferLen = 0;\n\n  if (0 === this.writeBuffer.length) {\n    this.emit('drain');\n  } else {\n    this.flush();\n  }\n};\n\n/**\n * Flush write buffers.\n *\n * @api private\n */\n\nSocket.prototype.flush = function () {\n  if ('closed' !== this.readyState && this.transport.writable &&\n    !this.upgrading && this.writeBuffer.length) {\n    debug('flushing %d packets in socket', this.writeBuffer.length);\n    this.transport.send(this.writeBuffer);\n    // keep track of current length of writeBuffer\n    // splice writeBuffer and callbackBuffer on `drain`\n    this.prevBufferLen = this.writeBuffer.length;\n    this.emit('flush');\n  }\n};\n\n/**\n * Sends a message.\n *\n * @param {String} message.\n * @param {Function} callback function.\n * @param {Object} options.\n * @return {Socket} for chaining.\n * @api public\n */\n\nSocket.prototype.write =\nSocket.prototype.send = function (msg, options, fn) {\n  this.sendPacket('message', msg, options, fn);\n  return this;\n};\n\n/**\n * Sends a packet.\n *\n * @param {String} packet type.\n * @param {String} data.\n * @param {Object} options.\n * @param {Function} callback function.\n * @api private\n */\n\nSocket.prototype.sendPacket = function (type, data, options, fn) {\n  if ('function' === typeof data) {\n    fn = data;\n    data = undefined;\n  }\n\n  if ('function' === typeof options) {\n    fn = options;\n    options = null;\n  }\n\n  if ('closing' === this.readyState || 'closed' === this.readyState) {\n    return;\n  }\n\n  options = options || {};\n  options.compress = false !== options.compress;\n\n  var packet = {\n    type: type,\n    data: data,\n    options: options\n  };\n  this.emit('packetCreate', packet);\n  this.writeBuffer.push(packet);\n  if (fn) this.once('flush', fn);\n  this.flush();\n};\n\n/**\n * Closes the connection.\n *\n * @api private\n */\n\nSocket.prototype.close = function () {\n  if ('opening' === this.readyState || 'open' === this.readyState) {\n    this.readyState = 'closing';\n\n    var self = this;\n\n    if (this.writeBuffer.length) {\n      this.once('drain', function () {\n        if (this.upgrading) {\n          waitForUpgrade();\n        } else {\n          close();\n        }\n      });\n    } else if (this.upgrading) {\n      waitForUpgrade();\n    } else {\n      close();\n    }\n  }\n\n  function close () {\n    self.onClose('forced close');\n    debug('socket closing - telling transport to close');\n    self.transport.close();\n  }\n\n  function cleanupAndClose () {\n    self.removeListener('upgrade', cleanupAndClose);\n    self.removeListener('upgradeError', cleanupAndClose);\n    close();\n  }\n\n  function waitForUpgrade () {\n    // wait for upgrade to finish since we can't send packets while pausing a transport\n    self.once('upgrade', cleanupAndClose);\n    self.once('upgradeError', cleanupAndClose);\n  }\n\n  return this;\n};\n\n/**\n * Called upon transport error\n *\n * @api private\n */\n\nSocket.prototype.onError = function (err) {\n  debug('socket error %j', err);\n  Socket.priorWebsocketSuccess = false;\n  this.emit('error', err);\n  this.onClose('transport error', err);\n};\n\n/**\n * Called upon transport close.\n *\n * @api private\n */\n\nSocket.prototype.onClose = function (reason, desc) {\n  if ('opening' === this.readyState || 'open' === this.readyState || 'closing' === this.readyState) {\n    debug('socket close with reason: \"%s\"', reason);\n    var self = this;\n\n    // clear timers\n    clearTimeout(this.pingIntervalTimer);\n    clearTimeout(this.pingTimeoutTimer);\n\n    // stop event from firing again for transport\n    this.transport.removeAllListeners('close');\n\n    // ensure transport won't stay open\n    this.transport.close();\n\n    // ignore further transport communication\n    this.transport.removeAllListeners();\n\n    // set ready state\n    this.readyState = 'closed';\n\n    // clear session id\n    this.id = null;\n\n    // emit close event\n    this.emit('close', reason, desc);\n\n    // clean buffers after, so users can still\n    // grab the buffers on `close` event\n    self.writeBuffer = [];\n    self.prevBufferLen = 0;\n  }\n};\n\n/**\n * Filters upgrades, returning only those matching client transports.\n *\n * @param {Array} server upgrades\n * @api private\n *\n */\n\nSocket.prototype.filterUpgrades = function (upgrades) {\n  var filteredUpgrades = [];\n  for (var i = 0, j = upgrades.length; i < j; i++) {\n    if (~index(this.transports, upgrades[i])) filteredUpgrades.push(upgrades[i]);\n  }\n  return filteredUpgrades;\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./transport\":38,\"./transports/index\":39,\"component-emitter\":33,\"debug\":46,\"engine.io-parser\":48,\"indexof\":55,\"parsejson\":58,\"parseqs\":59,\"parseuri\":60}],38:[function(require,module,exports){\n/**\n * Module dependencies.\n */\n\nvar parser = require('engine.io-parser');\nvar Emitter = require('component-emitter');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Transport;\n\n/**\n * Transport abstract constructor.\n *\n * @param {Object} options.\n * @api private\n */\n\nfunction Transport (opts) {\n  this.path = opts.path;\n  this.hostname = opts.hostname;\n  this.port = opts.port;\n  this.secure = opts.secure;\n  this.query = opts.query;\n  this.timestampParam = opts.timestampParam;\n  this.timestampRequests = opts.timestampRequests;\n  this.readyState = '';\n  this.agent = opts.agent || false;\n  this.socket = opts.socket;\n  this.enablesXDR = opts.enablesXDR;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n  this.forceNode = opts.forceNode;\n\n  // other options for Node.js client\n  this.extraHeaders = opts.extraHeaders;\n  this.localAddress = opts.localAddress;\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Transport.prototype);\n\n/**\n * Emits an error.\n *\n * @param {String} str\n * @return {Transport} for chaining\n * @api public\n */\n\nTransport.prototype.onError = function (msg, desc) {\n  var err = new Error(msg);\n  err.type = 'TransportError';\n  err.description = desc;\n  this.emit('error', err);\n  return this;\n};\n\n/**\n * Opens the transport.\n *\n * @api public\n */\n\nTransport.prototype.open = function () {\n  if ('closed' === this.readyState || '' === this.readyState) {\n    this.readyState = 'opening';\n    this.doOpen();\n  }\n\n  return this;\n};\n\n/**\n * Closes the transport.\n *\n * @api private\n */\n\nTransport.prototype.close = function () {\n  if ('opening' === this.readyState || 'open' === this.readyState) {\n    this.doClose();\n    this.onClose();\n  }\n\n  return this;\n};\n\n/**\n * Sends multiple packets.\n *\n * @param {Array} packets\n * @api private\n */\n\nTransport.prototype.send = function (packets) {\n  if ('open' === this.readyState) {\n    this.write(packets);\n  } else {\n    throw new Error('Transport not open');\n  }\n};\n\n/**\n * Called upon open\n *\n * @api private\n */\n\nTransport.prototype.onOpen = function () {\n  this.readyState = 'open';\n  this.writable = true;\n  this.emit('open');\n};\n\n/**\n * Called with data.\n *\n * @param {String} data\n * @api private\n */\n\nTransport.prototype.onData = function (data) {\n  var packet = parser.decodePacket(data, this.socket.binaryType);\n  this.onPacket(packet);\n};\n\n/**\n * Called with a decoded packet.\n */\n\nTransport.prototype.onPacket = function (packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon close.\n *\n * @api private\n */\n\nTransport.prototype.onClose = function () {\n  this.readyState = 'closed';\n  this.emit('close');\n};\n\n},{\"component-emitter\":33,\"engine.io-parser\":48}],39:[function(require,module,exports){\n(function (global){\n/**\n * Module dependencies\n */\n\nvar XMLHttpRequest = require('xmlhttprequest-ssl');\nvar XHR = require('./polling-xhr');\nvar JSONP = require('./polling-jsonp');\nvar websocket = require('./websocket');\n\n/**\n * Export transports.\n */\n\nexports.polling = polling;\nexports.websocket = websocket;\n\n/**\n * Polling transport polymorphic constructor.\n * Decides on xhr vs jsonp based on feature detection.\n *\n * @api private\n */\n\nfunction polling (opts) {\n  var xhr;\n  var xd = false;\n  var xs = false;\n  var jsonp = false !== opts.jsonp;\n\n  if (global.location) {\n    var isSSL = 'https:' === location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    xd = opts.hostname !== location.hostname || port !== opts.port;\n    xs = opts.secure !== isSSL;\n  }\n\n  opts.xdomain = xd;\n  opts.xscheme = xs;\n  xhr = new XMLHttpRequest(opts);\n\n  if ('open' in xhr && !opts.forceJSONP) {\n    return new XHR(opts);\n  } else {\n    if (!jsonp) throw new Error('JSONP disabled');\n    return new JSONP(opts);\n  }\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./polling-jsonp\":40,\"./polling-xhr\":41,\"./websocket\":43,\"xmlhttprequest-ssl\":44}],40:[function(require,module,exports){\n(function (global){\n\n/**\n * Module requirements.\n */\n\nvar Polling = require('./polling');\nvar inherit = require('component-inherit');\n\n/**\n * Module exports.\n */\n\nmodule.exports = JSONPPolling;\n\n/**\n * Cached regular expressions.\n */\n\nvar rNewline = /\\n/g;\nvar rEscapedNewline = /\\\\n/g;\n\n/**\n * Global JSONP callbacks.\n */\n\nvar callbacks;\n\n/**\n * Noop.\n */\n\nfunction empty () { }\n\n/**\n * JSONP Polling constructor.\n *\n * @param {Object} opts.\n * @api public\n */\n\nfunction JSONPPolling (opts) {\n  Polling.call(this, opts);\n\n  this.query = this.query || {};\n\n  // define global callbacks array if not present\n  // we do this here (lazily) to avoid unneeded global pollution\n  if (!callbacks) {\n    // we need to consider multiple engines in the same page\n    if (!global.___eio) global.___eio = [];\n    callbacks = global.___eio;\n  }\n\n  // callback identifier\n  this.index = callbacks.length;\n\n  // add callback to jsonp global\n  var self = this;\n  callbacks.push(function (msg) {\n    self.onData(msg);\n  });\n\n  // append to query string\n  this.query.j = this.index;\n\n  // prevent spurious errors from being emitted when the window is unloaded\n  if (global.document && global.addEventListener) {\n    global.addEventListener('beforeunload', function () {\n      if (self.script) self.script.onerror = empty;\n    }, false);\n  }\n}\n\n/**\n * Inherits from Polling.\n */\n\ninherit(JSONPPolling, Polling);\n\n/*\n * JSONP only supports binary as base64 encoded strings\n */\n\nJSONPPolling.prototype.supportsBinary = false;\n\n/**\n * Closes the socket.\n *\n * @api private\n */\n\nJSONPPolling.prototype.doClose = function () {\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  if (this.form) {\n    this.form.parentNode.removeChild(this.form);\n    this.form = null;\n    this.iframe = null;\n  }\n\n  Polling.prototype.doClose.call(this);\n};\n\n/**\n * Starts a poll cycle.\n *\n * @api private\n */\n\nJSONPPolling.prototype.doPoll = function () {\n  var self = this;\n  var script = document.createElement('script');\n\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  script.async = true;\n  script.src = this.uri();\n  script.onerror = function (e) {\n    self.onError('jsonp poll error', e);\n  };\n\n  var insertAt = document.getElementsByTagName('script')[0];\n  if (insertAt) {\n    insertAt.parentNode.insertBefore(script, insertAt);\n  } else {\n    (document.head || document.body).appendChild(script);\n  }\n  this.script = script;\n\n  var isUAgecko = 'undefined' !== typeof navigator && /gecko/i.test(navigator.userAgent);\n\n  if (isUAgecko) {\n    setTimeout(function () {\n      var iframe = document.createElement('iframe');\n      document.body.appendChild(iframe);\n      document.body.removeChild(iframe);\n    }, 100);\n  }\n};\n\n/**\n * Writes with a hidden iframe.\n *\n * @param {String} data to send\n * @param {Function} called upon flush.\n * @api private\n */\n\nJSONPPolling.prototype.doWrite = function (data, fn) {\n  var self = this;\n\n  if (!this.form) {\n    var form = document.createElement('form');\n    var area = document.createElement('textarea');\n    var id = this.iframeId = 'eio_iframe_' + this.index;\n    var iframe;\n\n    form.className = 'socketio';\n    form.style.position = 'absolute';\n    form.style.top = '-1000px';\n    form.style.left = '-1000px';\n    form.target = id;\n    form.method = 'POST';\n    form.setAttribute('accept-charset', 'utf-8');\n    area.name = 'd';\n    form.appendChild(area);\n    document.body.appendChild(form);\n\n    this.form = form;\n    this.area = area;\n  }\n\n  this.form.action = this.uri();\n\n  function complete () {\n    initIframe();\n    fn();\n  }\n\n  function initIframe () {\n    if (self.iframe) {\n      try {\n        self.form.removeChild(self.iframe);\n      } catch (e) {\n        self.onError('jsonp polling iframe removal error', e);\n      }\n    }\n\n    try {\n      // ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\n      var html = '<iframe src=\"javascript:0\" name=\"' + self.iframeId + '\">';\n      iframe = document.createElement(html);\n    } catch (e) {\n      iframe = document.createElement('iframe');\n      iframe.name = self.iframeId;\n      iframe.src = 'javascript:0';\n    }\n\n    iframe.id = self.iframeId;\n\n    self.form.appendChild(iframe);\n    self.iframe = iframe;\n  }\n\n  initIframe();\n\n  // escape \\n to prevent it from being converted into \\r\\n by some UAs\n  // double escaping is required for escaped new lines because unescaping of new lines can be done safely on server-side\n  data = data.replace(rEscapedNewline, '\\\\\\n');\n  this.area.value = data.replace(rNewline, '\\\\n');\n\n  try {\n    this.form.submit();\n  } catch (e) {}\n\n  if (this.iframe.attachEvent) {\n    this.iframe.onreadystatechange = function () {\n      if (self.iframe.readyState === 'complete') {\n        complete();\n      }\n    };\n  } else {\n    this.iframe.onload = complete;\n  }\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./polling\":42,\"component-inherit\":34}],41:[function(require,module,exports){\n(function (global){\n/**\n * Module requirements.\n */\n\nvar XMLHttpRequest = require('xmlhttprequest-ssl');\nvar Polling = require('./polling');\nvar Emitter = require('component-emitter');\nvar inherit = require('component-inherit');\nvar debug = require('debug')('engine.io-client:polling-xhr');\n\n/**\n * Module exports.\n */\n\nmodule.exports = XHR;\nmodule.exports.Request = Request;\n\n/**\n * Empty function\n */\n\nfunction empty () {}\n\n/**\n * XHR Polling constructor.\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction XHR (opts) {\n  Polling.call(this, opts);\n  this.requestTimeout = opts.requestTimeout;\n\n  if (global.location) {\n    var isSSL = 'https:' === location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    this.xd = opts.hostname !== global.location.hostname ||\n      port !== opts.port;\n    this.xs = opts.secure !== isSSL;\n  } else {\n    this.extraHeaders = opts.extraHeaders;\n  }\n}\n\n/**\n * Inherits from Polling.\n */\n\ninherit(XHR, Polling);\n\n/**\n * XHR supports binary\n */\n\nXHR.prototype.supportsBinary = true;\n\n/**\n * Creates a request.\n *\n * @param {String} method\n * @api private\n */\n\nXHR.prototype.request = function (opts) {\n  opts = opts || {};\n  opts.uri = this.uri();\n  opts.xd = this.xd;\n  opts.xs = this.xs;\n  opts.agent = this.agent || false;\n  opts.supportsBinary = this.supportsBinary;\n  opts.enablesXDR = this.enablesXDR;\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n  opts.requestTimeout = this.requestTimeout;\n\n  // other options for Node.js client\n  opts.extraHeaders = this.extraHeaders;\n\n  return new Request(opts);\n};\n\n/**\n * Sends data.\n *\n * @param {String} data to send.\n * @param {Function} called upon flush.\n * @api private\n */\n\nXHR.prototype.doWrite = function (data, fn) {\n  var isBinary = typeof data !== 'string' && data !== undefined;\n  var req = this.request({ method: 'POST', data: data, isBinary: isBinary });\n  var self = this;\n  req.on('success', fn);\n  req.on('error', function (err) {\n    self.onError('xhr post error', err);\n  });\n  this.sendXhr = req;\n};\n\n/**\n * Starts a poll cycle.\n *\n * @api private\n */\n\nXHR.prototype.doPoll = function () {\n  debug('xhr poll');\n  var req = this.request();\n  var self = this;\n  req.on('data', function (data) {\n    self.onData(data);\n  });\n  req.on('error', function (err) {\n    self.onError('xhr poll error', err);\n  });\n  this.pollXhr = req;\n};\n\n/**\n * Request constructor\n *\n * @param {Object} options\n * @api public\n */\n\nfunction Request (opts) {\n  this.method = opts.method || 'GET';\n  this.uri = opts.uri;\n  this.xd = !!opts.xd;\n  this.xs = !!opts.xs;\n  this.async = false !== opts.async;\n  this.data = undefined !== opts.data ? opts.data : null;\n  this.agent = opts.agent;\n  this.isBinary = opts.isBinary;\n  this.supportsBinary = opts.supportsBinary;\n  this.enablesXDR = opts.enablesXDR;\n  this.requestTimeout = opts.requestTimeout;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n\n  // other options for Node.js client\n  this.extraHeaders = opts.extraHeaders;\n\n  this.create();\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Request.prototype);\n\n/**\n * Creates the XHR object and sends the request.\n *\n * @api private\n */\n\nRequest.prototype.create = function () {\n  var opts = { agent: this.agent, xdomain: this.xd, xscheme: this.xs, enablesXDR: this.enablesXDR };\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n\n  var xhr = this.xhr = new XMLHttpRequest(opts);\n  var self = this;\n\n  try {\n    debug('xhr open %s: %s', this.method, this.uri);\n    xhr.open(this.method, this.uri, this.async);\n    try {\n      if (this.extraHeaders) {\n        xhr.setDisableHeaderCheck(true);\n        for (var i in this.extraHeaders) {\n          if (this.extraHeaders.hasOwnProperty(i)) {\n            xhr.setRequestHeader(i, this.extraHeaders[i]);\n          }\n        }\n      }\n    } catch (e) {}\n    if (this.supportsBinary) {\n      // This has to be done after open because Firefox is stupid\n      // http://stackoverflow.com/questions/13216903/get-binary-data-with-xmlhttprequest-in-a-firefox-extension\n      xhr.responseType = 'arraybuffer';\n    }\n\n    if ('POST' === this.method) {\n      try {\n        if (this.isBinary) {\n          xhr.setRequestHeader('Content-type', 'application/octet-stream');\n        } else {\n          xhr.setRequestHeader('Content-type', 'text/plain;charset=UTF-8');\n        }\n      } catch (e) {}\n    }\n\n    try {\n      xhr.setRequestHeader('Accept', '*/*');\n    } catch (e) {}\n\n    // ie6 check\n    if ('withCredentials' in xhr) {\n      xhr.withCredentials = true;\n    }\n\n    if (this.requestTimeout) {\n      xhr.timeout = this.requestTimeout;\n    }\n\n    if (this.hasXDR()) {\n      xhr.onload = function () {\n        self.onLoad();\n      };\n      xhr.onerror = function () {\n        self.onError(xhr.responseText);\n      };\n    } else {\n      xhr.onreadystatechange = function () {\n        if (4 !== xhr.readyState) return;\n        if (200 === xhr.status || 1223 === xhr.status) {\n          self.onLoad();\n        } else {\n          // make sure the `error` event handler that's user-set\n          // does not throw in the same tick and gets caught here\n          setTimeout(function () {\n            self.onError(xhr.status);\n          }, 0);\n        }\n      };\n    }\n\n    debug('xhr data %s', this.data);\n    xhr.send(this.data);\n  } catch (e) {\n    // Need to defer since .create() is called directly fhrom the constructor\n    // and thus the 'error' event can only be only bound *after* this exception\n    // occurs.  Therefore, also, we cannot throw here at all.\n    setTimeout(function () {\n      self.onError(e);\n    }, 0);\n    return;\n  }\n\n  if (global.document) {\n    this.index = Request.requestsCount++;\n    Request.requests[this.index] = this;\n  }\n};\n\n/**\n * Called upon successful response.\n *\n * @api private\n */\n\nRequest.prototype.onSuccess = function () {\n  this.emit('success');\n  this.cleanup();\n};\n\n/**\n * Called if we have data.\n *\n * @api private\n */\n\nRequest.prototype.onData = function (data) {\n  this.emit('data', data);\n  this.onSuccess();\n};\n\n/**\n * Called upon error.\n *\n * @api private\n */\n\nRequest.prototype.onError = function (err) {\n  this.emit('error', err);\n  this.cleanup(true);\n};\n\n/**\n * Cleans up house.\n *\n * @api private\n */\n\nRequest.prototype.cleanup = function (fromError) {\n  if ('undefined' === typeof this.xhr || null === this.xhr) {\n    return;\n  }\n  // xmlhttprequest\n  if (this.hasXDR()) {\n    this.xhr.onload = this.xhr.onerror = empty;\n  } else {\n    this.xhr.onreadystatechange = empty;\n  }\n\n  if (fromError) {\n    try {\n      this.xhr.abort();\n    } catch (e) {}\n  }\n\n  if (global.document) {\n    delete Request.requests[this.index];\n  }\n\n  this.xhr = null;\n};\n\n/**\n * Called upon load.\n *\n * @api private\n */\n\nRequest.prototype.onLoad = function () {\n  var data;\n  try {\n    var contentType;\n    try {\n      contentType = this.xhr.getResponseHeader('Content-Type').split(';')[0];\n    } catch (e) {}\n    if (contentType === 'application/octet-stream') {\n      data = this.xhr.response || this.xhr.responseText;\n    } else {\n      if (!this.supportsBinary) {\n        data = this.xhr.responseText;\n      } else {\n        try {\n          data = String.fromCharCode.apply(null, new Uint8Array(this.xhr.response));\n        } catch (e) {\n          var ui8Arr = new Uint8Array(this.xhr.response);\n          var dataArray = [];\n          for (var idx = 0, length = ui8Arr.length; idx < length; idx++) {\n            dataArray.push(ui8Arr[idx]);\n          }\n\n          data = String.fromCharCode.apply(null, dataArray);\n        }\n      }\n    }\n  } catch (e) {\n    this.onError(e);\n  }\n  if (null != data) {\n    this.onData(data);\n  }\n};\n\n/**\n * Check if it has XDomainRequest.\n *\n * @api private\n */\n\nRequest.prototype.hasXDR = function () {\n  return 'undefined' !== typeof global.XDomainRequest && !this.xs && this.enablesXDR;\n};\n\n/**\n * Aborts the request.\n *\n * @api public\n */\n\nRequest.prototype.abort = function () {\n  this.cleanup();\n};\n\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\n\nRequest.requestsCount = 0;\nRequest.requests = {};\n\nif (global.document) {\n  if (global.attachEvent) {\n    global.attachEvent('onunload', unloadHandler);\n  } else if (global.addEventListener) {\n    global.addEventListener('beforeunload', unloadHandler, false);\n  }\n}\n\nfunction unloadHandler () {\n  for (var i in Request.requests) {\n    if (Request.requests.hasOwnProperty(i)) {\n      Request.requests[i].abort();\n    }\n  }\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./polling\":42,\"component-emitter\":33,\"component-inherit\":34,\"debug\":46,\"xmlhttprequest-ssl\":44}],42:[function(require,module,exports){\n/**\n * Module dependencies.\n */\n\nvar Transport = require('../transport');\nvar parseqs = require('parseqs');\nvar parser = require('engine.io-parser');\nvar inherit = require('component-inherit');\nvar yeast = require('yeast');\nvar debug = require('debug')('engine.io-client:polling');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Polling;\n\n/**\n * Is XHR2 supported?\n */\n\nvar hasXHR2 = (function () {\n  var XMLHttpRequest = require('xmlhttprequest-ssl');\n  var xhr = new XMLHttpRequest({ xdomain: false });\n  return null != xhr.responseType;\n})();\n\n/**\n * Polling interface.\n *\n * @param {Object} opts\n * @api private\n */\n\nfunction Polling (opts) {\n  var forceBase64 = (opts && opts.forceBase64);\n  if (!hasXHR2 || forceBase64) {\n    this.supportsBinary = false;\n  }\n  Transport.call(this, opts);\n}\n\n/**\n * Inherits from Transport.\n */\n\ninherit(Polling, Transport);\n\n/**\n * Transport name.\n */\n\nPolling.prototype.name = 'polling';\n\n/**\n * Opens the socket (triggers polling). We write a PING message to determine\n * when the transport is open.\n *\n * @api private\n */\n\nPolling.prototype.doOpen = function () {\n  this.poll();\n};\n\n/**\n * Pauses polling.\n *\n * @param {Function} callback upon buffers are flushed and transport is paused\n * @api private\n */\n\nPolling.prototype.pause = function (onPause) {\n  var self = this;\n\n  this.readyState = 'pausing';\n\n  function pause () {\n    debug('paused');\n    self.readyState = 'paused';\n    onPause();\n  }\n\n  if (this.polling || !this.writable) {\n    var total = 0;\n\n    if (this.polling) {\n      debug('we are currently polling - waiting to pause');\n      total++;\n      this.once('pollComplete', function () {\n        debug('pre-pause polling complete');\n        --total || pause();\n      });\n    }\n\n    if (!this.writable) {\n      debug('we are currently writing - waiting to pause');\n      total++;\n      this.once('drain', function () {\n        debug('pre-pause writing complete');\n        --total || pause();\n      });\n    }\n  } else {\n    pause();\n  }\n};\n\n/**\n * Starts polling cycle.\n *\n * @api public\n */\n\nPolling.prototype.poll = function () {\n  debug('polling');\n  this.polling = true;\n  this.doPoll();\n  this.emit('poll');\n};\n\n/**\n * Overloads onData to detect payloads.\n *\n * @api private\n */\n\nPolling.prototype.onData = function (data) {\n  var self = this;\n  debug('polling got data %s', data);\n  var callback = function (packet, index, total) {\n    // if its the first message we consider the transport open\n    if ('opening' === self.readyState) {\n      self.onOpen();\n    }\n\n    // if its a close packet, we close the ongoing requests\n    if ('close' === packet.type) {\n      self.onClose();\n      return false;\n    }\n\n    // otherwise bypass onData and handle the message\n    self.onPacket(packet);\n  };\n\n  // decode payload\n  parser.decodePayload(data, this.socket.binaryType, callback);\n\n  // if an event did not trigger closing\n  if ('closed' !== this.readyState) {\n    // if we got data we're not polling\n    this.polling = false;\n    this.emit('pollComplete');\n\n    if ('open' === this.readyState) {\n      this.poll();\n    } else {\n      debug('ignoring poll - transport state \"%s\"', this.readyState);\n    }\n  }\n};\n\n/**\n * For polling, send a close packet.\n *\n * @api private\n */\n\nPolling.prototype.doClose = function () {\n  var self = this;\n\n  function close () {\n    debug('writing close packet');\n    self.write([{ type: 'close' }]);\n  }\n\n  if ('open' === this.readyState) {\n    debug('transport open - closing');\n    close();\n  } else {\n    // in case we're trying to close while\n    // handshaking is in progress (GH-164)\n    debug('transport not open - deferring close');\n    this.once('open', close);\n  }\n};\n\n/**\n * Writes a packets payload.\n *\n * @param {Array} data packets\n * @param {Function} drain callback\n * @api private\n */\n\nPolling.prototype.write = function (packets) {\n  var self = this;\n  this.writable = false;\n  var callbackfn = function () {\n    self.writable = true;\n    self.emit('drain');\n  };\n\n  parser.encodePayload(packets, this.supportsBinary, function (data) {\n    self.doWrite(data, callbackfn);\n  });\n};\n\n/**\n * Generates uri for connection.\n *\n * @api private\n */\n\nPolling.prototype.uri = function () {\n  var query = this.query || {};\n  var schema = this.secure ? 'https' : 'http';\n  var port = '';\n\n  // cache busting is forced\n  if (false !== this.timestampRequests) {\n    query[this.timestampParam] = yeast();\n  }\n\n  if (!this.supportsBinary && !query.sid) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  // avoid port if default for schema\n  if (this.port && (('https' === schema && Number(this.port) !== 443) ||\n     ('http' === schema && Number(this.port) !== 80))) {\n    port = ':' + this.port;\n  }\n\n  // prepend ? to query\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  var ipv6 = this.hostname.indexOf(':') !== -1;\n  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n};\n\n},{\"../transport\":38,\"component-inherit\":34,\"debug\":46,\"engine.io-parser\":48,\"parseqs\":59,\"xmlhttprequest-ssl\":44,\"yeast\":152}],43:[function(require,module,exports){\n(function (global){\n/**\n * Module dependencies.\n */\n\nvar Transport = require('../transport');\nvar parser = require('engine.io-parser');\nvar parseqs = require('parseqs');\nvar inherit = require('component-inherit');\nvar yeast = require('yeast');\nvar debug = require('debug')('engine.io-client:websocket');\nvar BrowserWebSocket = global.WebSocket || global.MozWebSocket;\nvar NodeWebSocket;\nif (typeof window === 'undefined') {\n  try {\n    NodeWebSocket = require('ws');\n  } catch (e) { }\n}\n\n/**\n * Get either the `WebSocket` or `MozWebSocket` globals\n * in the browser or try to resolve WebSocket-compatible\n * interface exposed by `ws` for Node-like environment.\n */\n\nvar WebSocket = BrowserWebSocket;\nif (!WebSocket && typeof window === 'undefined') {\n  WebSocket = NodeWebSocket;\n}\n\n/**\n * Module exports.\n */\n\nmodule.exports = WS;\n\n/**\n * WebSocket transport constructor.\n *\n * @api {Object} connection options\n * @api public\n */\n\nfunction WS (opts) {\n  var forceBase64 = (opts && opts.forceBase64);\n  if (forceBase64) {\n    this.supportsBinary = false;\n  }\n  this.perMessageDeflate = opts.perMessageDeflate;\n  this.usingBrowserWebSocket = BrowserWebSocket && !opts.forceNode;\n  if (!this.usingBrowserWebSocket) {\n    WebSocket = NodeWebSocket;\n  }\n  Transport.call(this, opts);\n}\n\n/**\n * Inherits from Transport.\n */\n\ninherit(WS, Transport);\n\n/**\n * Transport name.\n *\n * @api public\n */\n\nWS.prototype.name = 'websocket';\n\n/*\n * WebSockets support binary\n */\n\nWS.prototype.supportsBinary = true;\n\n/**\n * Opens socket.\n *\n * @api private\n */\n\nWS.prototype.doOpen = function () {\n  if (!this.check()) {\n    // let probe timeout\n    return;\n  }\n\n  var uri = this.uri();\n  var protocols = void (0);\n  var opts = {\n    agent: this.agent,\n    perMessageDeflate: this.perMessageDeflate\n  };\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n  if (this.extraHeaders) {\n    opts.headers = this.extraHeaders;\n  }\n  if (this.localAddress) {\n    opts.localAddress = this.localAddress;\n  }\n\n  try {\n    this.ws = this.usingBrowserWebSocket ? new WebSocket(uri) : new WebSocket(uri, protocols, opts);\n  } catch (err) {\n    return this.emit('error', err);\n  }\n\n  if (this.ws.binaryType === undefined) {\n    this.supportsBinary = false;\n  }\n\n  if (this.ws.supports && this.ws.supports.binary) {\n    this.supportsBinary = true;\n    this.ws.binaryType = 'nodebuffer';\n  } else {\n    this.ws.binaryType = 'arraybuffer';\n  }\n\n  this.addEventListeners();\n};\n\n/**\n * Adds event listeners to the socket\n *\n * @api private\n */\n\nWS.prototype.addEventListeners = function () {\n  var self = this;\n\n  this.ws.onopen = function () {\n    self.onOpen();\n  };\n  this.ws.onclose = function () {\n    self.onClose();\n  };\n  this.ws.onmessage = function (ev) {\n    self.onData(ev.data);\n  };\n  this.ws.onerror = function (e) {\n    self.onError('websocket error', e);\n  };\n};\n\n/**\n * Writes data to socket.\n *\n * @param {Array} array of packets.\n * @api private\n */\n\nWS.prototype.write = function (packets) {\n  var self = this;\n  this.writable = false;\n\n  // encodePacket efficient as it uses WS framing\n  // no need for encodePayload\n  var total = packets.length;\n  for (var i = 0, l = total; i < l; i++) {\n    (function (packet) {\n      parser.encodePacket(packet, self.supportsBinary, function (data) {\n        if (!self.usingBrowserWebSocket) {\n          // always create a new object (GH-437)\n          var opts = {};\n          if (packet.options) {\n            opts.compress = packet.options.compress;\n          }\n\n          if (self.perMessageDeflate) {\n            var len = 'string' === typeof data ? global.Buffer.byteLength(data) : data.length;\n            if (len < self.perMessageDeflate.threshold) {\n              opts.compress = false;\n            }\n          }\n        }\n\n        // Sometimes the websocket has already been closed but the browser didn't\n        // have a chance of informing us about it yet, in that case send will\n        // throw an error\n        try {\n          if (self.usingBrowserWebSocket) {\n            // TypeError is thrown when passing the second argument on Safari\n            self.ws.send(data);\n          } else {\n            self.ws.send(data, opts);\n          }\n        } catch (e) {\n          debug('websocket closed before onclose event');\n        }\n\n        --total || done();\n      });\n    })(packets[i]);\n  }\n\n  function done () {\n    self.emit('flush');\n\n    // fake drain\n    // defer to next tick to allow Socket to clear writeBuffer\n    setTimeout(function () {\n      self.writable = true;\n      self.emit('drain');\n    }, 0);\n  }\n};\n\n/**\n * Called upon close\n *\n * @api private\n */\n\nWS.prototype.onClose = function () {\n  Transport.prototype.onClose.call(this);\n};\n\n/**\n * Closes socket.\n *\n * @api private\n */\n\nWS.prototype.doClose = function () {\n  if (typeof this.ws !== 'undefined') {\n    this.ws.close();\n  }\n};\n\n/**\n * Generates uri for connection.\n *\n * @api private\n */\n\nWS.prototype.uri = function () {\n  var query = this.query || {};\n  var schema = this.secure ? 'wss' : 'ws';\n  var port = '';\n\n  // avoid port if default for schema\n  if (this.port && (('wss' === schema && Number(this.port) !== 443) ||\n    ('ws' === schema && Number(this.port) !== 80))) {\n    port = ':' + this.port;\n  }\n\n  // append timestamp to URI\n  if (this.timestampRequests) {\n    query[this.timestampParam] = yeast();\n  }\n\n  // communicate binary support capabilities\n  if (!this.supportsBinary) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  // prepend ? to query\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  var ipv6 = this.hostname.indexOf(':') !== -1;\n  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n};\n\n/**\n * Feature detection for WebSocket.\n *\n * @return {Boolean} whether this transport is available.\n * @api public\n */\n\nWS.prototype.check = function () {\n  return !!WebSocket && !('__initialize' in WebSocket && this.name === WS.prototype.name);\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../transport\":38,\"component-inherit\":34,\"debug\":46,\"engine.io-parser\":48,\"parseqs\":59,\"ws\":31,\"yeast\":152}],44:[function(require,module,exports){\n(function (global){\n// browser shim for xmlhttprequest module\n\nvar hasCORS = require('has-cors');\n\nmodule.exports = function (opts) {\n  var xdomain = opts.xdomain;\n\n  // scheme must be same when usign XDomainRequest\n  // http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx\n  var xscheme = opts.xscheme;\n\n  // XDomainRequest has a flow of not sending cookie, therefore it should be disabled as a default.\n  // https://github.com/Automattic/engine.io-client/pull/217\n  var enablesXDR = opts.enablesXDR;\n\n  // XMLHttpRequest can be disabled on IE\n  try {\n    if ('undefined' !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n      return new XMLHttpRequest();\n    }\n  } catch (e) { }\n\n  // Use XDomainRequest for IE8 if enablesXDR is true\n  // because loading bar keeps flashing when using jsonp-polling\n  // https://github.com/yujiosaka/socke.io-ie8-loading-example\n  try {\n    if ('undefined' !== typeof XDomainRequest && !xscheme && enablesXDR) {\n      return new XDomainRequest();\n    }\n  } catch (e) { }\n\n  if (!xdomain) {\n    try {\n      return new global[['Active'].concat('Object').join('X')]('Microsoft.XMLHTTP');\n    } catch (e) { }\n  }\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"has-cors\":53}],45:[function(require,module,exports){\nmodule.exports = after\n\nfunction after(count, callback, err_cb) {\n    var bail = false\n    err_cb = err_cb || noop\n    proxy.count = count\n\n    return (count === 0) ? callback() : proxy\n\n    function proxy(err, result) {\n        if (proxy.count <= 0) {\n            throw new Error('after called too many times')\n        }\n        --proxy.count\n\n        // after first error, rest are passed to err_cb\n        if (err) {\n            bail = true\n            callback(err)\n            // future error callbacks will go to error handler\n            callback = err_cb\n        } else if (proxy.count === 0 && !bail) {\n            callback(null, result)\n        }\n    }\n}\n\nfunction noop() {}\n\n},{}],46:[function(require,module,exports){\n(function (process){\n\n/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && 'WebkitAppearance' in document.documentElement.style) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (window.console && (console.firebug || (console.exception && console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31);\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs() {\n  var args = arguments;\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return args;\n\n  var c = 'color: ' + this.color;\n  args = [args[0], c, 'color: inherit'].concat(Array.prototype.slice.call(args, 1));\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n  return args;\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    return exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (typeof process !== 'undefined' && 'env' in process) {\n    return process.env.DEBUG;\n  }\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage(){\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n\n}).call(this,require('_process'))\n},{\"./debug\":47,\"_process\":61}],47:[function(require,module,exports){\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = debug.debug = debug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lowercased letter, i.e. \"n\".\n */\n\nexports.formatters = {};\n\n/**\n * Previously assigned color.\n */\n\nvar prevColor = 0;\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n *\n * @return {Number}\n * @api private\n */\n\nfunction selectColor() {\n  return exports.colors[prevColor++ % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction debug(namespace) {\n\n  // define the `disabled` version\n  function disabled() {\n  }\n  disabled.enabled = false;\n\n  // define the `enabled` version\n  function enabled() {\n\n    var self = enabled;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // add the `color` if not set\n    if (null == self.useColors) self.useColors = exports.useColors();\n    if (null == self.color && self.useColors) self.color = selectColor();\n\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %o\n      args = ['%o'].concat(args);\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting\n    args = exports.formatArgs.apply(self, args);\n\n    var logFn = enabled.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n  enabled.enabled = true;\n\n  var fn = exports.enabled(namespace) ? enabled : disabled;\n\n  fn.namespace = namespace;\n\n  return fn;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  var split = (namespaces || '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/[\\\\^$+?.()|[\\]{}]/g, '\\\\$&').replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n\n},{\"ms\":57}],48:[function(require,module,exports){\n(function (global){\n/**\n * Module dependencies.\n */\n\nvar keys = require('./keys');\nvar hasBinary = require('has-binary');\nvar sliceBuffer = require('arraybuffer.slice');\nvar after = require('after');\nvar utf8 = require('wtf-8');\n\nvar base64encoder;\nif (global && global.ArrayBuffer) {\n  base64encoder = require('base64-arraybuffer');\n}\n\n/**\n * Check if we are running an android browser. That requires us to use\n * ArrayBuffer with polling transports...\n *\n * http://ghinda.net/jpeg-blob-ajax-android/\n */\n\nvar isAndroid = typeof navigator !== 'undefined' && /Android/i.test(navigator.userAgent);\n\n/**\n * Check if we are running in PhantomJS.\n * Uploading a Blob with PhantomJS does not work correctly, as reported here:\n * https://github.com/ariya/phantomjs/issues/11395\n * @type boolean\n */\nvar isPhantomJS = typeof navigator !== 'undefined' && /PhantomJS/i.test(navigator.userAgent);\n\n/**\n * When true, avoids using Blobs to encode payloads.\n * @type boolean\n */\nvar dontSendBlobs = isAndroid || isPhantomJS;\n\n/**\n * Current protocol version.\n */\n\nexports.protocol = 3;\n\n/**\n * Packet types.\n */\n\nvar packets = exports.packets = {\n    open:     0    // non-ws\n  , close:    1    // non-ws\n  , ping:     2\n  , pong:     3\n  , message:  4\n  , upgrade:  5\n  , noop:     6\n};\n\nvar packetslist = keys(packets);\n\n/**\n * Premade error packet.\n */\n\nvar err = { type: 'error', data: 'parser error' };\n\n/**\n * Create a blob api even for blob builder when vendor prefixes exist\n */\n\nvar Blob = require('blob');\n\n/**\n * Encodes a packet.\n *\n *     <packet type id> [ <data> ]\n *\n * Example:\n *\n *     5hello world\n *     3\n *     4\n *\n * Binary is encoded in an identical principle\n *\n * @api private\n */\n\nexports.encodePacket = function (packet, supportsBinary, utf8encode, callback) {\n  if ('function' == typeof supportsBinary) {\n    callback = supportsBinary;\n    supportsBinary = false;\n  }\n\n  if ('function' == typeof utf8encode) {\n    callback = utf8encode;\n    utf8encode = null;\n  }\n\n  var data = (packet.data === undefined)\n    ? undefined\n    : packet.data.buffer || packet.data;\n\n  if (global.ArrayBuffer && data instanceof ArrayBuffer) {\n    return encodeArrayBuffer(packet, supportsBinary, callback);\n  } else if (Blob && data instanceof global.Blob) {\n    return encodeBlob(packet, supportsBinary, callback);\n  }\n\n  // might be an object with { base64: true, data: dataAsBase64String }\n  if (data && data.base64) {\n    return encodeBase64Object(packet, callback);\n  }\n\n  // Sending data as a utf-8 string\n  var encoded = packets[packet.type];\n\n  // data fragment is optional\n  if (undefined !== packet.data) {\n    encoded += utf8encode ? utf8.encode(String(packet.data)) : String(packet.data);\n  }\n\n  return callback('' + encoded);\n\n};\n\nfunction encodeBase64Object(packet, callback) {\n  // packet data is an object { base64: true, data: dataAsBase64String }\n  var message = 'b' + exports.packets[packet.type] + packet.data.data;\n  return callback(message);\n}\n\n/**\n * Encode packet helpers for binary types\n */\n\nfunction encodeArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var data = packet.data;\n  var contentArray = new Uint8Array(data);\n  var resultBuffer = new Uint8Array(1 + data.byteLength);\n\n  resultBuffer[0] = packets[packet.type];\n  for (var i = 0; i < contentArray.length; i++) {\n    resultBuffer[i+1] = contentArray[i];\n  }\n\n  return callback(resultBuffer.buffer);\n}\n\nfunction encodeBlobAsArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var fr = new FileReader();\n  fr.onload = function() {\n    packet.data = fr.result;\n    exports.encodePacket(packet, supportsBinary, true, callback);\n  };\n  return fr.readAsArrayBuffer(packet.data);\n}\n\nfunction encodeBlob(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  if (dontSendBlobs) {\n    return encodeBlobAsArrayBuffer(packet, supportsBinary, callback);\n  }\n\n  var length = new Uint8Array(1);\n  length[0] = packets[packet.type];\n  var blob = new Blob([length.buffer, packet.data]);\n\n  return callback(blob);\n}\n\n/**\n * Encodes a packet with binary data in a base64 string\n *\n * @param {Object} packet, has `type` and `data`\n * @return {String} base64 encoded message\n */\n\nexports.encodeBase64Packet = function(packet, callback) {\n  var message = 'b' + exports.packets[packet.type];\n  if (Blob && packet.data instanceof global.Blob) {\n    var fr = new FileReader();\n    fr.onload = function() {\n      var b64 = fr.result.split(',')[1];\n      callback(message + b64);\n    };\n    return fr.readAsDataURL(packet.data);\n  }\n\n  var b64data;\n  try {\n    b64data = String.fromCharCode.apply(null, new Uint8Array(packet.data));\n  } catch (e) {\n    // iPhone Safari doesn't let you apply with typed arrays\n    var typed = new Uint8Array(packet.data);\n    var basic = new Array(typed.length);\n    for (var i = 0; i < typed.length; i++) {\n      basic[i] = typed[i];\n    }\n    b64data = String.fromCharCode.apply(null, basic);\n  }\n  message += global.btoa(b64data);\n  return callback(message);\n};\n\n/**\n * Decodes a packet. Changes format to Blob if requested.\n *\n * @return {Object} with `type` and `data` (if any)\n * @api private\n */\n\nexports.decodePacket = function (data, binaryType, utf8decode) {\n  if (data === undefined) {\n    return err;\n  }\n  // String data\n  if (typeof data == 'string') {\n    if (data.charAt(0) == 'b') {\n      return exports.decodeBase64Packet(data.substr(1), binaryType);\n    }\n\n    if (utf8decode) {\n      data = tryDecode(data);\n      if (data === false) {\n        return err;\n      }\n    }\n    var type = data.charAt(0);\n\n    if (Number(type) != type || !packetslist[type]) {\n      return err;\n    }\n\n    if (data.length > 1) {\n      return { type: packetslist[type], data: data.substring(1) };\n    } else {\n      return { type: packetslist[type] };\n    }\n  }\n\n  var asArray = new Uint8Array(data);\n  var type = asArray[0];\n  var rest = sliceBuffer(data, 1);\n  if (Blob && binaryType === 'blob') {\n    rest = new Blob([rest]);\n  }\n  return { type: packetslist[type], data: rest };\n};\n\nfunction tryDecode(data) {\n  try {\n    data = utf8.decode(data);\n  } catch (e) {\n    return false;\n  }\n  return data;\n}\n\n/**\n * Decodes a packet encoded in a base64 string\n *\n * @param {String} base64 encoded message\n * @return {Object} with `type` and `data` (if any)\n */\n\nexports.decodeBase64Packet = function(msg, binaryType) {\n  var type = packetslist[msg.charAt(0)];\n  if (!base64encoder) {\n    return { type: type, data: { base64: true, data: msg.substr(1) } };\n  }\n\n  var data = base64encoder.decode(msg.substr(1));\n\n  if (binaryType === 'blob' && Blob) {\n    data = new Blob([data]);\n  }\n\n  return { type: type, data: data };\n};\n\n/**\n * Encodes multiple messages (payload).\n *\n *     <length>:data\n *\n * Example:\n *\n *     11:hello world2:hi\n *\n * If any contents are binary, they will be encoded as base64 strings. Base64\n * encoded strings are marked with a b before the length specifier\n *\n * @param {Array} packets\n * @api private\n */\n\nexports.encodePayload = function (packets, supportsBinary, callback) {\n  if (typeof supportsBinary == 'function') {\n    callback = supportsBinary;\n    supportsBinary = null;\n  }\n\n  var isBinary = hasBinary(packets);\n\n  if (supportsBinary && isBinary) {\n    if (Blob && !dontSendBlobs) {\n      return exports.encodePayloadAsBlob(packets, callback);\n    }\n\n    return exports.encodePayloadAsArrayBuffer(packets, callback);\n  }\n\n  if (!packets.length) {\n    return callback('0:');\n  }\n\n  function setLengthHeader(message) {\n    return message.length + ':' + message;\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, !isBinary ? false : supportsBinary, true, function(message) {\n      doneCallback(null, setLengthHeader(message));\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(results.join(''));\n  });\n};\n\n/**\n * Async array map using after\n */\n\nfunction map(ary, each, done) {\n  var result = new Array(ary.length);\n  var next = after(ary.length, done);\n\n  var eachWithIndex = function(i, el, cb) {\n    each(el, function(error, msg) {\n      result[i] = msg;\n      cb(error, result);\n    });\n  };\n\n  for (var i = 0; i < ary.length; i++) {\n    eachWithIndex(i, ary[i], next);\n  }\n}\n\n/*\n * Decodes data when a payload is maybe expected. Possible binary contents are\n * decoded from their base64 representation\n *\n * @param {String} data, callback method\n * @api public\n */\n\nexports.decodePayload = function (data, binaryType, callback) {\n  if (typeof data != 'string') {\n    return exports.decodePayloadAsBinary(data, binaryType, callback);\n  }\n\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var packet;\n  if (data == '') {\n    // parser error - ignoring payload\n    return callback(err, 0, 1);\n  }\n\n  var length = ''\n    , n, msg;\n\n  for (var i = 0, l = data.length; i < l; i++) {\n    var chr = data.charAt(i);\n\n    if (':' != chr) {\n      length += chr;\n    } else {\n      if ('' == length || (length != (n = Number(length)))) {\n        // parser error - ignoring payload\n        return callback(err, 0, 1);\n      }\n\n      msg = data.substr(i + 1, n);\n\n      if (length != msg.length) {\n        // parser error - ignoring payload\n        return callback(err, 0, 1);\n      }\n\n      if (msg.length) {\n        packet = exports.decodePacket(msg, binaryType, true);\n\n        if (err.type == packet.type && err.data == packet.data) {\n          // parser error in individual packet - ignoring payload\n          return callback(err, 0, 1);\n        }\n\n        var ret = callback(packet, i + n, l);\n        if (false === ret) return;\n      }\n\n      // advance cursor\n      i += n;\n      length = '';\n    }\n  }\n\n  if (length != '') {\n    // parser error - ignoring payload\n    return callback(err, 0, 1);\n  }\n\n};\n\n/**\n * Encodes multiple messages (payload) as binary.\n *\n * <1 = binary, 0 = string><number from 0-9><number from 0-9>[...]<number\n * 255><data>\n *\n * Example:\n * 1 3 255 1 2 3, if the binary contents are interpreted as 8 bit integers\n *\n * @param {Array} packets\n * @return {ArrayBuffer} encoded payload\n * @api private\n */\n\nexports.encodePayloadAsArrayBuffer = function(packets, callback) {\n  if (!packets.length) {\n    return callback(new ArrayBuffer(0));\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(data) {\n      return doneCallback(null, data);\n    });\n  }\n\n  map(packets, encodeOne, function(err, encodedPackets) {\n    var totalLength = encodedPackets.reduce(function(acc, p) {\n      var len;\n      if (typeof p === 'string'){\n        len = p.length;\n      } else {\n        len = p.byteLength;\n      }\n      return acc + len.toString().length + len + 2; // string/binary identifier + separator = 2\n    }, 0);\n\n    var resultArray = new Uint8Array(totalLength);\n\n    var bufferIndex = 0;\n    encodedPackets.forEach(function(p) {\n      var isString = typeof p === 'string';\n      var ab = p;\n      if (isString) {\n        var view = new Uint8Array(p.length);\n        for (var i = 0; i < p.length; i++) {\n          view[i] = p.charCodeAt(i);\n        }\n        ab = view.buffer;\n      }\n\n      if (isString) { // not true binary\n        resultArray[bufferIndex++] = 0;\n      } else { // true binary\n        resultArray[bufferIndex++] = 1;\n      }\n\n      var lenStr = ab.byteLength.toString();\n      for (var i = 0; i < lenStr.length; i++) {\n        resultArray[bufferIndex++] = parseInt(lenStr[i]);\n      }\n      resultArray[bufferIndex++] = 255;\n\n      var view = new Uint8Array(ab);\n      for (var i = 0; i < view.length; i++) {\n        resultArray[bufferIndex++] = view[i];\n      }\n    });\n\n    return callback(resultArray.buffer);\n  });\n};\n\n/**\n * Encode as Blob\n */\n\nexports.encodePayloadAsBlob = function(packets, callback) {\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(encoded) {\n      var binaryIdentifier = new Uint8Array(1);\n      binaryIdentifier[0] = 1;\n      if (typeof encoded === 'string') {\n        var view = new Uint8Array(encoded.length);\n        for (var i = 0; i < encoded.length; i++) {\n          view[i] = encoded.charCodeAt(i);\n        }\n        encoded = view.buffer;\n        binaryIdentifier[0] = 0;\n      }\n\n      var len = (encoded instanceof ArrayBuffer)\n        ? encoded.byteLength\n        : encoded.size;\n\n      var lenStr = len.toString();\n      var lengthAry = new Uint8Array(lenStr.length + 1);\n      for (var i = 0; i < lenStr.length; i++) {\n        lengthAry[i] = parseInt(lenStr[i]);\n      }\n      lengthAry[lenStr.length] = 255;\n\n      if (Blob) {\n        var blob = new Blob([binaryIdentifier.buffer, lengthAry.buffer, encoded]);\n        doneCallback(null, blob);\n      }\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(new Blob(results));\n  });\n};\n\n/*\n * Decodes data when a payload is maybe expected. Strings are decoded by\n * interpreting each byte as a key code for entries marked to start with 0. See\n * description of encodePayloadAsBinary\n *\n * @param {ArrayBuffer} data, callback method\n * @api public\n */\n\nexports.decodePayloadAsBinary = function (data, binaryType, callback) {\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var bufferTail = data;\n  var buffers = [];\n\n  var numberTooLong = false;\n  while (bufferTail.byteLength > 0) {\n    var tailArray = new Uint8Array(bufferTail);\n    var isString = tailArray[0] === 0;\n    var msgLength = '';\n\n    for (var i = 1; ; i++) {\n      if (tailArray[i] == 255) break;\n\n      if (msgLength.length > 310) {\n        numberTooLong = true;\n        break;\n      }\n\n      msgLength += tailArray[i];\n    }\n\n    if(numberTooLong) return callback(err, 0, 1);\n\n    bufferTail = sliceBuffer(bufferTail, 2 + msgLength.length);\n    msgLength = parseInt(msgLength);\n\n    var msg = sliceBuffer(bufferTail, 0, msgLength);\n    if (isString) {\n      try {\n        msg = String.fromCharCode.apply(null, new Uint8Array(msg));\n      } catch (e) {\n        // iPhone Safari doesn't let you apply to typed arrays\n        var typed = new Uint8Array(msg);\n        msg = '';\n        for (var i = 0; i < typed.length; i++) {\n          msg += String.fromCharCode(typed[i]);\n        }\n      }\n    }\n\n    buffers.push(msg);\n    bufferTail = sliceBuffer(bufferTail, msgLength);\n  }\n\n  var total = buffers.length;\n  buffers.forEach(function(buffer, i) {\n    callback(exports.decodePacket(buffer, binaryType, true), i, total);\n  });\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./keys\":49,\"after\":45,\"arraybuffer.slice\":1,\"base64-arraybuffer\":28,\"blob\":29,\"has-binary\":51,\"wtf-8\":151}],49:[function(require,module,exports){\n\n/**\n * Gets the keys for an object.\n *\n * @return {Array} keys\n * @api private\n */\n\nmodule.exports = Object.keys || function keys (obj){\n  var arr = [];\n  var has = Object.prototype.hasOwnProperty;\n\n  for (var i in obj) {\n    if (has.call(obj, i)) {\n      arr.push(i);\n    }\n  }\n  return arr;\n};\n\n},{}],50:[function(require,module,exports){\n/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (typeof define === 'function' && define.amd) {\n    define(function() {\n        return Hammer;\n    });\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n\n},{}],51:[function(require,module,exports){\n(function (global){\n\n/*\n * Module requirements.\n */\n\nvar isArray = require('isarray');\n\n/**\n * Module exports.\n */\n\nmodule.exports = hasBinary;\n\n/**\n * Checks for binary data.\n *\n * Right now only Buffer and ArrayBuffer are supported..\n *\n * @param {Object} anything\n * @api public\n */\n\nfunction hasBinary(data) {\n\n  function _hasBinary(obj) {\n    if (!obj) return false;\n\n    if ( (global.Buffer && global.Buffer.isBuffer && global.Buffer.isBuffer(obj)) ||\n         (global.ArrayBuffer && obj instanceof ArrayBuffer) ||\n         (global.Blob && obj instanceof Blob) ||\n         (global.File && obj instanceof File)\n        ) {\n      return true;\n    }\n\n    if (isArray(obj)) {\n      for (var i = 0; i < obj.length; i++) {\n          if (_hasBinary(obj[i])) {\n              return true;\n          }\n      }\n    } else if (obj && 'object' == typeof obj) {\n      // see: https://github.com/Automattic/has-binary/pull/4\n      if (obj.toJSON && 'function' == typeof obj.toJSON) {\n        obj = obj.toJSON();\n      }\n\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && _hasBinary(obj[key])) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  return _hasBinary(data);\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"isarray\":52}],52:[function(require,module,exports){\nmodule.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\n},{}],53:[function(require,module,exports){\n\n/**\n * Module exports.\n *\n * Logic borrowed from Modernizr:\n *\n *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js\n */\n\ntry {\n  module.exports = typeof XMLHttpRequest !== 'undefined' &&\n    'withCredentials' in new XMLHttpRequest();\n} catch (err) {\n  // if XMLHttp support is disabled in IE then it will throw\n  // when trying to create\n  module.exports = false;\n}\n\n},{}],54:[function(require,module,exports){\n(function (global){\n/*!\n *  howler.js v2.0.2\n *  howlerjs.com\n *\n *  (c) 2013-2016, James Simpson of GoldFire Studios\n *  goldfirestudios.com\n *\n *  MIT License\n */\n\n(function() {\n\n  // 'use strict';\n\n  /** Global Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create the global controller. All contained methods and properties apply\n   * to all sounds that are currently playing or will be in the future.\n   */\n  var HowlerGlobal = function() {\n    this.init();\n  };\n  HowlerGlobal.prototype = {\n    /**\n     * Initialize the global Howler object.\n     * @return {Howler}\n     */\n    init: function() {\n      var self = this || Howler;\n\n      // Internal properties.\n      self._codecs = {};\n      self._howls = [];\n      self._muted = false;\n      self._volume = 1;\n      self._canPlayEvent = 'canplaythrough';\n      self._navigator = (typeof window !== 'undefined' && window.navigator) ? window.navigator : null;\n\n      // Public properties.\n      self.masterGain = null;\n      self.noAudio = false;\n      self.usingWebAudio = true;\n      self.autoSuspend = true;\n      self.ctx = null;\n\n      // Set to false to disable the auto iOS enabler.\n      self.mobileAutoEnable = true;\n\n      // Setup the various state values for global tracking.\n      self._setup();\n\n      return self;\n    },\n\n    /**\n     * Get/set the global volume for all sounds.\n     * @param  {Float} vol Volume from 0.0 to 1.0.\n     * @return {Howler/Float}     Returns self or current volume.\n     */\n    volume: function(vol) {\n      var self = this || Howler;\n      vol = parseFloat(vol);\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!self.ctx) {\n        setupAudioContext();\n      }\n\n      if (typeof vol !== 'undefined' && vol >= 0 && vol <= 1) {\n        self._volume = vol;\n\n        // Don't update any of the nodes if we are muted.\n        if (self._muted) {\n          return self;\n        }\n\n        // When using Web Audio, we just need to adjust the master gain.\n        if (self.usingWebAudio) {\n          self.masterGain.gain.value = vol;\n        }\n\n        // Loop through and change volume for all HTML5 audio nodes.\n        for (var i=0; i<self._howls.length; i++) {\n          if (!self._howls[i]._webAudio) {\n            // Get all of the sounds in this Howl group.\n            var ids = self._howls[i]._getSoundIds();\n\n            // Loop through all sounds and change the volumes.\n            for (var j=0; j<ids.length; j++) {\n              var sound = self._howls[i]._soundById(ids[j]);\n\n              if (sound && sound._node) {\n                sound._node.volume = sound._volume * vol;\n              }\n            }\n          }\n        }\n\n        return self;\n      }\n\n      return self._volume;\n    },\n\n    /**\n     * Handle muting and unmuting globally.\n     * @param  {Boolean} muted Is muted or not.\n     */\n    mute: function(muted) {\n      var self = this || Howler;\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!self.ctx) {\n        setupAudioContext();\n      }\n\n      self._muted = muted;\n\n      // With Web Audio, we just need to mute the master gain.\n      if (self.usingWebAudio) {\n        self.masterGain.gain.value = muted ? 0 : self._volume;\n      }\n\n      // Loop through and mute all HTML5 Audio nodes.\n      for (var i=0; i<self._howls.length; i++) {\n        if (!self._howls[i]._webAudio) {\n          // Get all of the sounds in this Howl group.\n          var ids = self._howls[i]._getSoundIds();\n\n          // Loop through all sounds and mark the audio node as muted.\n          for (var j=0; j<ids.length; j++) {\n            var sound = self._howls[i]._soundById(ids[j]);\n\n            if (sound && sound._node) {\n              sound._node.muted = (muted) ? true : sound._muted;\n            }\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Unload and destroy all currently loaded Howl objects.\n     * @return {Howler}\n     */\n    unload: function() {\n      var self = this || Howler;\n\n      for (var i=self._howls.length-1; i>=0; i--) {\n        self._howls[i].unload();\n      }\n\n      // Create a new AudioContext to make sure it is fully reset.\n      if (self.usingWebAudio && self.ctx && typeof self.ctx.close !== 'undefined') {\n        self.ctx.close();\n        self.ctx = null;\n        setupAudioContext();\n      }\n\n      return self;\n    },\n\n    /**\n     * Check for codec support of specific extension.\n     * @param  {String} ext Audio file extention.\n     * @return {Boolean}\n     */\n    codecs: function(ext) {\n      return (this || Howler)._codecs[ext.replace(/^x-/, '')];\n    },\n\n    /**\n     * Setup various state values for global tracking.\n     * @return {Howler}\n     */\n    _setup: function() {\n      var self = this || Howler;\n\n      // Keeps track of the suspend/resume state of the AudioContext.\n      self.state = self.ctx ? self.ctx.state || 'running' : 'running';\n\n      // Automatically begin the 30-second suspend process\n      self._autoSuspend();\n\n      // Check if audio is available.\n      if (!self.usingWebAudio) {\n        // No audio is available on this system if noAudio is set to true.\n        if (typeof Audio !== 'undefined') {\n          try {\n            var test = new Audio();\n\n            // Check if the canplaythrough event is available.\n            if (typeof test.oncanplaythrough === 'undefined') {\n              self._canPlayEvent = 'canplay';\n            }\n          } catch(e) {\n            self.noAudio = true;\n          }\n        } else {\n          self.noAudio = true;\n        }\n      }\n\n      // Test to make sure audio isn't disabled in Internet Explorer.\n      try {\n        var test = new Audio();\n        if (test.muted) {\n          self.noAudio = true;\n        }\n      } catch (e) {}\n\n      // Check for supported codecs.\n      if (!self.noAudio) {\n        self._setupCodecs();\n      }\n\n      return self;\n    },\n\n    /**\n     * Check for browser support for various codecs and cache the results.\n     * @return {Howler}\n     */\n    _setupCodecs: function() {\n      var self = this || Howler;\n      var audioTest = null;\n\n      // Must wrap in a try/catch because IE11 in server mode throws an error.\n      try {\n        audioTest = (typeof Audio !== 'undefined') ? new Audio() : null;\n      } catch (err) {\n        return self;\n      }\n\n      if (!audioTest || typeof audioTest.canPlayType !== 'function') {\n        return self;\n      }\n\n      var mpegTest = audioTest.canPlayType('audio/mpeg;').replace(/^no$/, '');\n\n      // Opera version <33 has mixed MP3 support, so we need to check for and block it.\n      var checkOpera = self._navigator && self._navigator.userAgent.match(/OPR\\/([0-6].)/g);\n      var isOldOpera = (checkOpera && parseInt(checkOpera[0].split('/')[1], 10) < 33);\n\n      self._codecs = {\n        mp3: !!(!isOldOpera && (mpegTest || audioTest.canPlayType('audio/mp3;').replace(/^no$/, ''))),\n        mpeg: !!mpegTest,\n        opus: !!audioTest.canPlayType('audio/ogg; codecs=\"opus\"').replace(/^no$/, ''),\n        ogg: !!audioTest.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/, ''),\n        oga: !!audioTest.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/, ''),\n        wav: !!audioTest.canPlayType('audio/wav; codecs=\"1\"').replace(/^no$/, ''),\n        aac: !!audioTest.canPlayType('audio/aac;').replace(/^no$/, ''),\n        caf: !!audioTest.canPlayType('audio/x-caf;').replace(/^no$/, ''),\n        m4a: !!(audioTest.canPlayType('audio/x-m4a;') || audioTest.canPlayType('audio/m4a;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n        mp4: !!(audioTest.canPlayType('audio/x-mp4;') || audioTest.canPlayType('audio/mp4;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n        weba: !!audioTest.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/, ''),\n        webm: !!audioTest.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/, ''),\n        dolby: !!audioTest.canPlayType('audio/mp4; codecs=\"ec-3\"').replace(/^no$/, ''),\n        flac: !!(audioTest.canPlayType('audio/x-flac;') || audioTest.canPlayType('audio/flac;')).replace(/^no$/, '')\n      };\n\n      return self;\n    },\n\n    /**\n     * Mobile browsers will only allow audio to be played after a user interaction.\n     * Attempt to automatically unlock audio on the first user interaction.\n     * Concept from: http://paulbakaus.com/tutorials/html5/web-audio-on-ios/\n     * @return {Howler}\n     */\n    _enableMobileAudio: function() {\n      var self = this || Howler;\n\n      // Only run this on mobile devices if audio isn't already eanbled.\n      var isMobile = /iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(self._navigator && self._navigator.userAgent);\n      var isTouch = !!(('ontouchend' in window) || (self._navigator && self._navigator.maxTouchPoints > 0) || (self._navigator && self._navigator.msMaxTouchPoints > 0));\n      if (self._mobileEnabled || !self.ctx || (!isMobile && !isTouch)) {\n        return;\n      }\n\n      self._mobileEnabled = false;\n\n      // Some mobile devices/platforms have distortion issues when opening/closing tabs and/or web views.\n      // Bugs in the browser (especially Mobile Safari) can cause the sampleRate to change from 44100 to 48000.\n      // By calling Howler.unload(), we create a new AudioContext with the correct sampleRate.\n      if (!self._mobileUnloaded && self.ctx.sampleRate !== 44100) {\n        self._mobileUnloaded = true;\n        self.unload();\n      }\n\n      // Scratch buffer for enabling iOS to dispose of web audio buffers correctly, as per:\n      // http://stackoverflow.com/questions/24119684\n      self._scratchBuffer = self.ctx.createBuffer(1, 1, 22050);\n\n      // Call this method on touch start to create and play a buffer,\n      // then check if the audio actually played to determine if\n      // audio has now been unlocked on iOS, Android, etc.\n      var unlock = function() {\n        // Create an empty buffer.\n        var source = self.ctx.createBufferSource();\n        source.buffer = self._scratchBuffer;\n        source.connect(self.ctx.destination);\n\n        // Play the empty buffer.\n        if (typeof source.start === 'undefined') {\n          source.noteOn(0);\n        } else {\n          source.start(0);\n        }\n\n        // Setup a timeout to check that we are unlocked on the next event loop.\n        source.onended = function() {\n          source.disconnect(0);\n\n          // Update the unlocked state and prevent this check from happening again.\n          self._mobileEnabled = true;\n          self.mobileAutoEnable = false;\n\n          // Remove the touch start listener.\n          document.removeEventListener('touchend', unlock, true);\n        };\n      };\n\n      // Setup a touch start listener to attempt an unlock in.\n      document.addEventListener('touchend', unlock, true);\n\n      return self;\n    },\n\n    /**\n     * Automatically suspend the Web Audio AudioContext after no sound has played for 30 seconds.\n     * This saves processing/energy and fixes various browser-specific bugs with audio getting stuck.\n     * @return {Howler}\n     */\n    _autoSuspend: function() {\n      var self = this;\n\n      if (!self.autoSuspend || !self.ctx || typeof self.ctx.suspend === 'undefined' || !Howler.usingWebAudio) {\n        return;\n      }\n\n      // Check if any sounds are playing.\n      for (var i=0; i<self._howls.length; i++) {\n        if (self._howls[i]._webAudio) {\n          for (var j=0; j<self._howls[i]._sounds.length; j++) {\n            if (!self._howls[i]._sounds[j]._paused) {\n              return self;\n            }\n          }\n        }\n      }\n\n      if (self._suspendTimer) {\n        clearTimeout(self._suspendTimer);\n      }\n\n      // If no sound has played after 30 seconds, suspend the context.\n      self._suspendTimer = setTimeout(function() {\n        if (!self.autoSuspend) {\n          return;\n        }\n\n        self._suspendTimer = null;\n        self.state = 'suspending';\n        self.ctx.suspend().then(function() {\n          self.state = 'suspended';\n\n          if (self._resumeAfterSuspend) {\n            delete self._resumeAfterSuspend;\n            self._autoResume();\n          }\n        });\n      }, 30000);\n\n      return self;\n    },\n\n    /**\n     * Automatically resume the Web Audio AudioContext when a new sound is played.\n     * @return {Howler}\n     */\n    _autoResume: function() {\n      var self = this;\n\n      if (!self.ctx || typeof self.ctx.resume === 'undefined' || !Howler.usingWebAudio) {\n        return;\n      }\n\n      if (self.state === 'running' && self._suspendTimer) {\n        clearTimeout(self._suspendTimer);\n        self._suspendTimer = null;\n      } else if (self.state === 'suspended') {\n        self.state = 'resuming';\n        self.ctx.resume().then(function() {\n          self.state = 'running';\n\n          // Emit to all Howls that the audio has resumed.\n          for (var i=0; i<self._howls.length; i++) {\n            self._howls[i]._emit('resume');\n          }\n        });\n\n        if (self._suspendTimer) {\n          clearTimeout(self._suspendTimer);\n          self._suspendTimer = null;\n        }\n      } else if (self.state === 'suspending') {\n        self._resumeAfterSuspend = true;\n      }\n\n      return self;\n    }\n  };\n\n  // Setup the global audio controller.\n  var Howler = new HowlerGlobal();\n\n  /** Group Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create an audio group controller.\n   * @param {Object} o Passed in properties for this group.\n   */\n  var Howl = function(o) {\n    var self = this;\n\n    // Throw an error if no source is provided.\n    if (!o.src || o.src.length === 0) {\n      console.error('An array of source files must be passed with any new Howl.');\n      return;\n    }\n\n    self.init(o);\n  };\n  Howl.prototype = {\n    /**\n     * Initialize a new Howl group object.\n     * @param  {Object} o Passed in properties for this group.\n     * @return {Howl}\n     */\n    init: function(o) {\n      var self = this;\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!Howler.ctx) {\n        setupAudioContext();\n      }\n\n      // Setup user-defined default properties.\n      self._autoplay = o.autoplay || false;\n      self._format = (typeof o.format !== 'string') ? o.format : [o.format];\n      self._html5 = o.html5 || false;\n      self._muted = o.mute || false;\n      self._loop = o.loop || false;\n      self._pool = o.pool || 5;\n      self._preload = (typeof o.preload === 'boolean') ? o.preload : true;\n      self._rate = o.rate || 1;\n      self._sprite = o.sprite || {};\n      self._src = (typeof o.src !== 'string') ? o.src : [o.src];\n      self._volume = o.volume !== undefined ? o.volume : 1;\n\n      // Setup all other default properties.\n      self._duration = 0;\n      self._state = 'unloaded';\n      self._sounds = [];\n      self._endTimers = {};\n      self._queue = [];\n\n      // Setup event listeners.\n      self._onend = o.onend ? [{fn: o.onend}] : [];\n      self._onfade = o.onfade ? [{fn: o.onfade}] : [];\n      self._onload = o.onload ? [{fn: o.onload}] : [];\n      self._onloaderror = o.onloaderror ? [{fn: o.onloaderror}] : [];\n      self._onpause = o.onpause ? [{fn: o.onpause}] : [];\n      self._onplay = o.onplay ? [{fn: o.onplay}] : [];\n      self._onstop = o.onstop ? [{fn: o.onstop}] : [];\n      self._onmute = o.onmute ? [{fn: o.onmute}] : [];\n      self._onvolume = o.onvolume ? [{fn: o.onvolume}] : [];\n      self._onrate = o.onrate ? [{fn: o.onrate}] : [];\n      self._onseek = o.onseek ? [{fn: o.onseek}] : [];\n      self._onresume = [];\n\n      // Web Audio or HTML5 Audio?\n      self._webAudio = Howler.usingWebAudio && !self._html5;\n\n      // Automatically try to enable audio on iOS.\n      if (typeof Howler.ctx !== 'undefined' && Howler.ctx && Howler.mobileAutoEnable) {\n        Howler._enableMobileAudio();\n      }\n\n      // Keep track of this Howl group in the global controller.\n      Howler._howls.push(self);\n\n      // If they selected autoplay, add a play event to the load queue.\n      if (self._autoplay) {\n        self._queue.push({\n          event: 'play',\n          action: function() {\n            self.play();\n          }\n        });\n      }\n\n      // Load the source file unless otherwise specified.\n      if (self._preload) {\n        self.load();\n      }\n\n      return self;\n    },\n\n    /**\n     * Load the audio file.\n     * @return {Howler}\n     */\n    load: function() {\n      var self = this;\n      var url = null;\n\n      // If no audio is available, quit immediately.\n      if (Howler.noAudio) {\n        self._emit('loaderror', null, 'No audio support.');\n        return;\n      }\n\n      // Make sure our source is in an array.\n      if (typeof self._src === 'string') {\n        self._src = [self._src];\n      }\n\n      // Loop through the sources and pick the first one that is compatible.\n      for (var i=0; i<self._src.length; i++) {\n        var ext, str;\n\n        if (self._format && self._format[i]) {\n          // If an extension was specified, use that instead.\n          ext = self._format[i];\n        } else {\n          // Make sure the source is a string.\n          str = self._src[i];\n          if (typeof str !== 'string') {\n            self._emit('loaderror', null, 'Non-string found in selected audio sources - ignoring.');\n            continue;\n          }\n\n          // Extract the file extension from the URL or base64 data URI.\n          ext = /^data:audio\\/([^;,]+);/i.exec(str);\n          if (!ext) {\n            ext = /\\.([^.]+)$/.exec(str.split('?', 1)[0]);\n          }\n\n          if (ext) {\n            ext = ext[1].toLowerCase();\n          }\n        }\n\n        // Check if this extension is available.\n        if (Howler.codecs(ext)) {\n          url = self._src[i];\n          break;\n        }\n      }\n\n      if (!url) {\n        self._emit('loaderror', null, 'No codec support for selected audio sources.');\n        return;\n      }\n\n      self._src = url;\n      self._state = 'loading';\n\n      // If the hosting page is HTTPS and the source isn't,\n      // drop down to HTML5 Audio to avoid Mixed Content errors.\n      if (window.location.protocol === 'https:' && url.slice(0, 5) === 'http:') {\n        self._html5 = true;\n        self._webAudio = false;\n      }\n\n      // Create a new sound object and add it to the pool.\n      new Sound(self);\n\n      // Load and decode the audio data for playback.\n      if (self._webAudio) {\n        loadBuffer(self);\n      }\n\n      return self;\n    },\n\n    /**\n     * Play a sound or resume previous playback.\n     * @param  {String/Number} sprite   Sprite name for sprite playback or sound id to continue previous.\n     * @param  {Boolean} internal Internal Use: true prevents event firing.\n     * @return {Number}          Sound ID.\n     */\n    play: function(sprite, internal) {\n      var self = this;\n      var id = null;\n\n      // Determine if a sprite, sound id or nothing was passed\n      if (typeof sprite === 'number') {\n        id = sprite;\n        sprite = null;\n      } else if (typeof sprite === 'string' && self._state === 'loaded' && !self._sprite[sprite]) {\n        // If the passed sprite doesn't exist, do nothing.\n        return null;\n      } else if (typeof sprite === 'undefined') {\n        // Use the default sound sprite (plays the full audio length).\n        sprite = '__default';\n\n        // Check if there is a single paused sound that isn't ended.\n        // If there is, play that sound. If not, continue as usual.\n        var num = 0;\n        for (var i=0; i<self._sounds.length; i++) {\n          if (self._sounds[i]._paused && !self._sounds[i]._ended) {\n            num++;\n            id = self._sounds[i]._id;\n          }\n        }\n\n        if (num === 1) {\n          sprite = null;\n        } else {\n          id = null;\n        }\n      }\n\n      // Get the selected node, or get one from the pool.\n      var sound = id ? self._soundById(id) : self._inactiveSound();\n\n      // If the sound doesn't exist, do nothing.\n      if (!sound) {\n        return null;\n      }\n\n      // Select the sprite definition.\n      if (id && !sprite) {\n        sprite = sound._sprite || '__default';\n      }\n\n      // If we have no sprite and the sound hasn't loaded, we must wait\n      // for the sound to load to get our audio's duration.\n      if (self._state !== 'loaded' && !self._sprite[sprite]) {\n        self._queue.push({\n          event: 'play',\n          action: function() {\n            self.play(self._soundById(sound._id) ? sound._id : undefined);\n          }\n        });\n\n        return sound._id;\n      }\n\n      // Don't play the sound if an id was passed and it is already playing.\n      if (id && !sound._paused) {\n        // Trigger the play event, in order to keep iterating through queue.\n        if (!internal) {\n          setTimeout(function() {\n            self._emit('play', sound._id);\n          }, 0);\n        }\n\n        return sound._id;\n      }\n\n      // Make sure the AudioContext isn't suspended, and resume it if it is.\n      if (self._webAudio) {\n        Howler._autoResume();\n      }\n\n      // Determine how long to play for and where to start playing.\n      var seek = Math.max(0, sound._seek > 0 ? sound._seek : self._sprite[sprite][0] / 1000);\n      var duration = Math.max(0, ((self._sprite[sprite][0] + self._sprite[sprite][1]) / 1000) - seek);\n      var timeout = (duration * 1000) / Math.abs(sound._rate);\n\n      // Update the parameters of the sound\n      sound._paused = false;\n      sound._ended = false;\n      sound._sprite = sprite;\n      sound._seek = seek;\n      sound._start = self._sprite[sprite][0] / 1000;\n      sound._stop = (self._sprite[sprite][0] + self._sprite[sprite][1]) / 1000;\n      sound._loop = !!(sound._loop || self._sprite[sprite][2]);\n\n      // Begin the actual playback.\n      var node = sound._node;\n      if (self._webAudio) {\n        // Fire this when the sound is ready to play to begin Web Audio playback.\n        var playWebAudio = function() {\n          self._refreshBuffer(sound);\n\n          // Setup the playback params.\n          var vol = (sound._muted || self._muted) ? 0 : sound._volume;\n          node.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n          sound._playStart = Howler.ctx.currentTime;\n\n          // Play the sound using the supported method.\n          if (typeof node.bufferSource.start === 'undefined') {\n            sound._loop ? node.bufferSource.noteGrainOn(0, seek, 86400) : node.bufferSource.noteGrainOn(0, seek, duration);\n          } else {\n            sound._loop ? node.bufferSource.start(0, seek, 86400) : node.bufferSource.start(0, seek, duration);\n          }\n\n          // Start a new timer if none is present.\n          if (timeout !== Infinity) {\n            self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n          }\n\n          if (!internal) {\n            setTimeout(function() {\n              self._emit('play', sound._id);\n            }, 0);\n          }\n        };\n\n        var isRunning = (Howler.state === 'running');\n        if (self._state === 'loaded' && isRunning) {\n          playWebAudio();\n        } else {\n          // Wait for the audio to load and then begin playback.\n          self.once(isRunning ? 'load' : 'resume', playWebAudio, isRunning ? sound._id : null);\n\n          // Cancel the end timer.\n          self._clearTimer(sound._id);\n        }\n      } else {\n        // Fire this when the sound is ready to play to begin HTML5 Audio playback.\n        var playHtml5 = function() {\n          node.currentTime = seek;\n          node.muted = sound._muted || self._muted || Howler._muted || node.muted;\n          node.volume = sound._volume * Howler.volume();\n          node.playbackRate = sound._rate;\n\n          setTimeout(function() {\n            node.play();\n\n            // Setup the new end timer.\n            if (timeout !== Infinity) {\n              self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n            }\n\n            if (!internal) {\n              self._emit('play', sound._id);\n            }\n          }, 0);\n        };\n\n        // Play immediately if ready, or wait for the 'canplaythrough'e vent.\n        var loadedNoReadyState = (self._state === 'loaded' && (window && window.ejecta || !node.readyState && Howler._navigator.isCocoonJS));\n        if (node.readyState === 4 || loadedNoReadyState) {\n          playHtml5();\n        } else {\n          var listener = function() {\n            // Begin playback.\n            playHtml5();\n\n            // Clear this listener.\n            node.removeEventListener(Howler._canPlayEvent, listener, false);\n          };\n          node.addEventListener(Howler._canPlayEvent, listener, false);\n\n          // Cancel the end timer.\n          self._clearTimer(sound._id);\n        }\n      }\n\n      return sound._id;\n    },\n\n    /**\n     * Pause playback and save current position.\n     * @param  {Number} id The sound ID (empty to pause all in group).\n     * @return {Howl}\n     */\n    pause: function(id) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to pause when capable.\n      if (self._state !== 'loaded') {\n        self._queue.push({\n          event: 'pause',\n          action: function() {\n            self.pause(id);\n          }\n        });\n\n        return self;\n      }\n\n      // If no id is passed, get all ID's to be paused.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Clear the end timer.\n        self._clearTimer(ids[i]);\n\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound && !sound._paused) {\n          // Reset the seek position.\n          sound._seek = self.seek(ids[i]);\n          sound._rateSeek = 0;\n          sound._paused = true;\n\n          // Stop currently running fades.\n          self._stopFade(ids[i]);\n\n          if (sound._node) {\n            if (self._webAudio) {\n              // make sure the sound has been created\n              if (!sound._node.bufferSource) {\n                return self;\n              }\n\n              if (typeof sound._node.bufferSource.stop === 'undefined') {\n                sound._node.bufferSource.noteOff(0);\n              } else {\n                sound._node.bufferSource.stop(0);\n              }\n\n              // Clean up the buffer source.\n              self._cleanBuffer(sound._node);\n            } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {\n              sound._node.pause();\n            }\n          }\n        }\n\n        // Fire the pause event, unless `true` is passed as the 2nd argument.\n        if (!arguments[1]) {\n          self._emit('pause', sound ? sound._id : null);\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Stop playback and reset to start.\n     * @param  {Number} id The sound ID (empty to stop all in group).\n     * @param  {Boolean} internal Internal Use: true prevents event firing.\n     * @return {Howl}\n     */\n    stop: function(id, internal) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to stop when capable.\n      if (self._state !== 'loaded') {\n        self._queue.push({\n          event: 'stop',\n          action: function() {\n            self.stop(id);\n          }\n        });\n\n        return self;\n      }\n\n      // If no id is passed, get all ID's to be stopped.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Clear the end timer.\n        self._clearTimer(ids[i]);\n\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound) {\n          // Reset the seek position.\n          sound._seek = sound._start || 0;\n          sound._rateSeek = 0;\n          sound._paused = true;\n          sound._ended = true;\n\n          // Stop currently running fades.\n          self._stopFade(ids[i]);\n\n          if (sound._node) {\n            if (self._webAudio) {\n              // make sure the sound has been created\n              if (!sound._node.bufferSource) {\n                if (!internal) {\n                  self._emit('stop', sound._id);\n                }\n\n                return self;\n              }\n\n              if (typeof sound._node.bufferSource.stop === 'undefined') {\n                sound._node.bufferSource.noteOff(0);\n              } else {\n                sound._node.bufferSource.stop(0);\n              }\n\n              // Clean up the buffer source.\n              self._cleanBuffer(sound._node);\n            } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {\n              sound._node.currentTime = sound._start || 0;\n              sound._node.pause();\n            }\n          }\n        }\n\n        if (sound && !internal) {\n          self._emit('stop', sound._id);\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Mute/unmute a single sound or all sounds in this Howl group.\n     * @param  {Boolean} muted Set to true to mute and false to unmute.\n     * @param  {Number} id    The sound ID to update (omit to mute/unmute all).\n     * @return {Howl}\n     */\n    mute: function(muted, id) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to mute when capable.\n      if (self._state !== 'loaded') {\n        self._queue.push({\n          event: 'mute',\n          action: function() {\n            self.mute(muted, id);\n          }\n        });\n\n        return self;\n      }\n\n      // If applying mute/unmute to all sounds, update the group's value.\n      if (typeof id === 'undefined') {\n        if (typeof muted === 'boolean') {\n          self._muted = muted;\n        } else {\n          return self._muted;\n        }\n      }\n\n      // If no id is passed, get all ID's to be muted.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound) {\n          sound._muted = muted;\n\n          if (self._webAudio && sound._node) {\n            sound._node.gain.setValueAtTime(muted ? 0 : sound._volume, Howler.ctx.currentTime);\n          } else if (sound._node) {\n            sound._node.muted = Howler._muted ? true : muted;\n          }\n\n          self._emit('mute', sound._id);\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the volume of this sound or of the Howl group. This method can optionally take 0, 1 or 2 arguments.\n     *   volume() -> Returns the group's volume value.\n     *   volume(id) -> Returns the sound id's current volume.\n     *   volume(vol) -> Sets the volume of all sounds in this Howl group.\n     *   volume(vol, id) -> Sets the volume of passed sound id.\n     * @return {Howl/Number} Returns self or current volume.\n     */\n    volume: function() {\n      var self = this;\n      var args = arguments;\n      var vol, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // Return the value of the groups' volume.\n        return self._volume;\n      } else if (args.length === 1 || args.length === 2 && typeof args[1] === 'undefined') {\n        // First check if this is an ID, and if not, assume it is a new volume.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else {\n          vol = parseFloat(args[0]);\n        }\n      } else if (args.length >= 2) {\n        vol = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // Update the volume or return the current volume.\n      var sound;\n      if (typeof vol !== 'undefined' && vol >= 0 && vol <= 1) {\n        // If the sound hasn't loaded, add it to the load queue to change volume when capable.\n        if (self._state !== 'loaded') {\n          self._queue.push({\n            event: 'volume',\n            action: function() {\n              self.volume.apply(self, args);\n            }\n          });\n\n          return self;\n        }\n\n        // Set the group volume.\n        if (typeof id === 'undefined') {\n          self._volume = vol;\n        }\n\n        // Update one or all volumes.\n        id = self._getSoundIds(id);\n        for (var i=0; i<id.length; i++) {\n          // Get the sound.\n          sound = self._soundById(id[i]);\n\n          if (sound) {\n            sound._volume = vol;\n\n            // Stop currently running fades.\n            if (!args[2]) {\n              self._stopFade(id[i]);\n            }\n\n            if (self._webAudio && sound._node && !sound._muted) {\n              sound._node.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n            } else if (sound._node && !sound._muted) {\n              sound._node.volume = vol * Howler.volume();\n            }\n\n            self._emit('volume', sound._id);\n          }\n        }\n      } else {\n        sound = id ? self._soundById(id) : self._sounds[0];\n        return sound ? sound._volume : 0;\n      }\n\n      return self;\n    },\n\n    /**\n     * Fade a currently playing sound between two volumes (if no id is passsed, all sounds will fade).\n     * @param  {Number} from The value to fade from (0.0 to 1.0).\n     * @param  {Number} to   The volume to fade to (0.0 to 1.0).\n     * @param  {Number} len  Time in milliseconds to fade.\n     * @param  {Number} id   The sound id (omit to fade all sounds).\n     * @return {Howl}\n     */\n    fade: function(from, to, len, id) {\n      var self = this;\n      var diff = Math.abs(from - to);\n      var dir = from > to ? 'out' : 'in';\n      var steps = diff / 0.01;\n      var stepLen = (steps > 0) ? len / steps : len;\n\n      // Since browsers clamp timeouts to 4ms, we need to clamp our steps to that too.\n      if (stepLen < 4) {\n        steps = Math.ceil(steps / (4 / stepLen));\n        stepLen = 4;\n      }\n\n      // If the sound hasn't loaded, add it to the load queue to fade when capable.\n      if (self._state !== 'loaded') {\n        self._queue.push({\n          event: 'fade',\n          action: function() {\n            self.fade(from, to, len, id);\n          }\n        });\n\n        return self;\n      }\n\n      // Set the volume to the start position.\n      self.volume(from, id);\n\n      // Fade the volume of one or all sounds.\n      var ids = self._getSoundIds(id);\n      for (var i=0; i<ids.length; i++) {\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        // Create a linear fade or fall back to timeouts with HTML5 Audio.\n        if (sound) {\n          // Stop the previous fade if no sprite is being used (otherwise, volume handles this).\n          if (!id) {\n            self._stopFade(ids[i]);\n          }\n\n          // If we are using Web Audio, let the native methods do the actual fade.\n          if (self._webAudio && !sound._muted) {\n            var currentTime = Howler.ctx.currentTime;\n            var end = currentTime + (len / 1000);\n            sound._volume = from;\n            sound._node.gain.setValueAtTime(from, currentTime);\n            sound._node.gain.linearRampToValueAtTime(to, end);\n          }\n\n          var vol = from;\n          sound._interval = setInterval(function(soundId, sound) {\n            // Update the volume amount, but only if the volume should change.\n            if (steps > 0) {\n              vol += (dir === 'in' ? 0.01 : -0.01);\n            }\n\n            // Make sure the volume is in the right bounds.\n            vol = Math.max(0, vol);\n            vol = Math.min(1, vol);\n\n            // Round to within 2 decimal points.\n            vol = Math.round(vol * 100) / 100;\n\n            // Change the volume.\n            if (self._webAudio) {\n              if (typeof id === 'undefined') {\n                self._volume = vol;\n              }\n\n              sound._volume = vol;\n            } else {\n              self.volume(vol, soundId, true);\n            }\n\n            // When the fade is complete, stop it and fire event.\n            if (vol === to) {\n              clearInterval(sound._interval);\n              sound._interval = null;\n              self.volume(vol, soundId);\n              self._emit('fade', soundId);\n            }\n          }.bind(self, ids[i], sound), stepLen);\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Internal method that stops the currently playing fade when\n     * a new fade starts, volume is changed or the sound is stopped.\n     * @param  {Number} id The sound id.\n     * @return {Howl}\n     */\n    _stopFade: function(id) {\n      var self = this;\n      var sound = self._soundById(id);\n\n      if (sound && sound._interval) {\n        if (self._webAudio) {\n          sound._node.gain.cancelScheduledValues(Howler.ctx.currentTime);\n        }\n\n        clearInterval(sound._interval);\n        sound._interval = null;\n        self._emit('fade', id);\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the loop parameter on a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   loop() -> Returns the group's loop value.\n     *   loop(id) -> Returns the sound id's loop value.\n     *   loop(loop) -> Sets the loop value for all sounds in this Howl group.\n     *   loop(loop, id) -> Sets the loop value of passed sound id.\n     * @return {Howl/Boolean} Returns self or current loop value.\n     */\n    loop: function() {\n      var self = this;\n      var args = arguments;\n      var loop, id, sound;\n\n      // Determine the values for loop and id.\n      if (args.length === 0) {\n        // Return the grou's loop value.\n        return self._loop;\n      } else if (args.length === 1) {\n        if (typeof args[0] === 'boolean') {\n          loop = args[0];\n          self._loop = loop;\n        } else {\n          // Return this sound's loop value.\n          sound = self._soundById(parseInt(args[0], 10));\n          return sound ? sound._loop : false;\n        }\n      } else if (args.length === 2) {\n        loop = args[0];\n        id = parseInt(args[1], 10);\n      }\n\n      // If no id is passed, get all ID's to be looped.\n      var ids = self._getSoundIds(id);\n      for (var i=0; i<ids.length; i++) {\n        sound = self._soundById(ids[i]);\n\n        if (sound) {\n          sound._loop = loop;\n          if (self._webAudio && sound._node && sound._node.bufferSource) {\n            sound._node.bufferSource.loop = loop;\n            if (loop) {\n              sound._node.bufferSource.loopStart = sound._start || 0;\n              sound._node.bufferSource.loopEnd = sound._stop;\n            }\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the playback rate of a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   rate() -> Returns the first sound node's current playback rate.\n     *   rate(id) -> Returns the sound id's current playback rate.\n     *   rate(rate) -> Sets the playback rate of all sounds in this Howl group.\n     *   rate(rate, id) -> Sets the playback rate of passed sound id.\n     * @return {Howl/Number} Returns self or the current playback rate.\n     */\n    rate: function() {\n      var self = this;\n      var args = arguments;\n      var rate, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // We will simply return the current rate of the first node.\n        id = self._sounds[0]._id;\n      } else if (args.length === 1) {\n        // First check if this is an ID, and if not, assume it is a new rate value.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else {\n          rate = parseFloat(args[0]);\n        }\n      } else if (args.length === 2) {\n        rate = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // Update the playback rate or return the current value.\n      var sound;\n      if (typeof rate === 'number') {\n        // If the sound hasn't loaded, add it to the load queue to change playback rate when capable.\n        if (self._state !== 'loaded') {\n          self._queue.push({\n            event: 'rate',\n            action: function() {\n              self.rate.apply(self, args);\n            }\n          });\n\n          return self;\n        }\n\n        // Set the group rate.\n        if (typeof id === 'undefined') {\n          self._rate = rate;\n        }\n\n        // Update one or all volumes.\n        id = self._getSoundIds(id);\n        for (var i=0; i<id.length; i++) {\n          // Get the sound.\n          sound = self._soundById(id[i]);\n\n          if (sound) {\n            // Keep track of our position when the rate changed and update the playback\n            // start position so we can properly adjust the seek position for time elapsed.\n            sound._rateSeek = self.seek(id[i]);\n            sound._playStart = self._webAudio ? Howler.ctx.currentTime : sound._playStart;\n            sound._rate = rate;\n\n            // Change the playback rate.\n            if (self._webAudio && sound._node && sound._node.bufferSource) {\n              sound._node.bufferSource.playbackRate.value = rate;\n            } else if (sound._node) {\n              sound._node.playbackRate = rate;\n            }\n\n            // Reset the timers.\n            var seek = self.seek(id[i]);\n            var duration = ((self._sprite[sound._sprite][0] + self._sprite[sound._sprite][1]) / 1000) - seek;\n            var timeout = (duration * 1000) / Math.abs(sound._rate);\n\n            // Start a new end timer if sound is already playing.\n            if (self._endTimers[id[i]] || !sound._paused) {\n              self._clearTimer(id[i]);\n              self._endTimers[id[i]] = setTimeout(self._ended.bind(self, sound), timeout);\n            }\n\n            self._emit('rate', sound._id);\n          }\n        }\n      } else {\n        sound = self._soundById(id);\n        return sound ? sound._rate : self._rate;\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the seek position of a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   seek() -> Returns the first sound node's current seek position.\n     *   seek(id) -> Returns the sound id's current seek position.\n     *   seek(seek) -> Sets the seek position of the first sound node.\n     *   seek(seek, id) -> Sets the seek position of passed sound id.\n     * @return {Howl/Number} Returns self or the current seek position.\n     */\n    seek: function() {\n      var self = this;\n      var args = arguments;\n      var seek, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // We will simply return the current position of the first node.\n        id = self._sounds[0]._id;\n      } else if (args.length === 1) {\n        // First check if this is an ID, and if not, assume it is a new seek position.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else {\n          id = self._sounds[0]._id;\n          seek = parseFloat(args[0]);\n        }\n      } else if (args.length === 2) {\n        seek = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // If there is no ID, bail out.\n      if (typeof id === 'undefined') {\n        return self;\n      }\n\n      // If the sound hasn't loaded, add it to the load queue to seek when capable.\n      if (self._state !== 'loaded') {\n        self._queue.push({\n          event: 'seek',\n          action: function() {\n            self.seek.apply(self, args);\n          }\n        });\n\n        return self;\n      }\n\n      // Get the sound.\n      var sound = self._soundById(id);\n\n      if (sound) {\n        if (typeof seek === 'number' && seek >= 0) {\n          // Pause the sound and update position for restarting playback.\n          var playing = self.playing(id);\n          if (playing) {\n            self.pause(id, true);\n          }\n\n          // Move the position of the track and cancel timer.\n          sound._seek = seek;\n          sound._ended = false;\n          self._clearTimer(id);\n\n          // Restart the playback if the sound was playing.\n          if (playing) {\n            self.play(id, true);\n          }\n\n          // Update the seek position for HTML5 Audio.\n          if (!self._webAudio && sound._node) {\n            sound._node.currentTime = seek;\n          }\n\n          self._emit('seek', id);\n        } else {\n          if (self._webAudio) {\n            var realTime = self.playing(id) ? Howler.ctx.currentTime - sound._playStart : 0;\n            var rateSeek = sound._rateSeek ? sound._rateSeek - sound._seek : 0;\n            return sound._seek + (rateSeek + realTime * Math.abs(sound._rate));\n          } else {\n            return sound._node.currentTime;\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Check if a specific sound is currently playing or not (if id is provided), or check if at least one of the sounds in the group is playing or not.\n     * @param  {Number}  id The sound id to check. If none is passed, the whole sound group is checked.\n     * @return {Boolean} True if playing and false if not.\n     */\n    playing: function(id) {\n      var self = this;\n\n      // Check the passed sound ID (if any).\n      if (typeof id === 'number') {\n        var sound = self._soundById(id);\n        return sound ? !sound._paused : false;\n      }\n\n      // Otherwise, loop through all sounds and check if any are playing.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (!self._sounds[i]._paused) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    /**\n     * Get the duration of this sound. Passing a sound id will return the sprite duration.\n     * @param  {Number} id The sound id to check. If none is passed, return full source duration.\n     * @return {Number} Audio duration in seconds.\n     */\n    duration: function(id) {\n      var self = this;\n      var duration = self._duration;\n\n      // If we pass an ID, get the sound and return the sprite length.\n      var sound = self._soundById(id);\n      if (sound) {\n        duration = self._sprite[sound._sprite][1] / 1000;\n      }\n\n      return duration;\n    },\n\n    /**\n     * Returns the current loaded state of this Howl.\n     * @return {String} 'unloaded', 'loading', 'loaded'\n     */\n    state: function() {\n      return this._state;\n    },\n\n    /**\n     * Unload and destroy the current Howl object.\n     * This will immediately stop all sound instances attached to this group.\n     */\n    unload: function() {\n      var self = this;\n\n      // Stop playing any active sounds.\n      var sounds = self._sounds;\n      for (var i=0; i<sounds.length; i++) {\n        // Stop the sound if it is currently playing.\n        if (!sounds[i]._paused) {\n          self.stop(sounds[i]._id);\n          self._emit('end', sounds[i]._id);\n        }\n\n        // Remove the source or disconnect.\n        if (!self._webAudio) {\n          // Set the source to 0-second silence to stop any downloading.\n          sounds[i]._node.src = 'data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA=';\n\n          // Remove any event listeners.\n          sounds[i]._node.removeEventListener('error', sounds[i]._errorFn, false);\n          sounds[i]._node.removeEventListener(Howler._canPlayEvent, sounds[i]._loadFn, false);\n        }\n\n        // Empty out all of the nodes.\n        delete sounds[i]._node;\n\n        // Make sure all timers are cleared out.\n        self._clearTimer(sounds[i]._id);\n\n        // Remove the references in the global Howler object.\n        var index = Howler._howls.indexOf(self);\n        if (index >= 0) {\n          Howler._howls.splice(index, 1);\n        }\n      }\n\n      // Delete this sound from the cache (if no other Howl is using it).\n      var remCache = true;\n      for (i=0; i<Howler._howls.length; i++) {\n        if (Howler._howls[i]._src === self._src) {\n          remCache = false;\n          break;\n        }\n      }\n\n      if (cache && remCache) {\n        delete cache[self._src];\n      }\n\n      // Clear global errors.\n      Howler.noAudio = false;\n\n      // Clear out `self`.\n      self._state = 'unloaded';\n      self._sounds = [];\n      self = null;\n\n      return null;\n    },\n\n    /**\n     * Listen to a custom event.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to call.\n     * @param  {Number}   id    (optional) Only listen to events for this sound.\n     * @param  {Number}   once  (INTERNAL) Marks event to fire only once.\n     * @return {Howl}\n     */\n    on: function(event, fn, id, once) {\n      var self = this;\n      var events = self['_on' + event];\n\n      if (typeof fn === 'function') {\n        events.push(once ? {id: id, fn: fn, once: once} : {id: id, fn: fn});\n      }\n\n      return self;\n    },\n\n    /**\n     * Remove a custom event. Call without parameters to remove all events.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to remove. Leave empty to remove all.\n     * @param  {Number}   id    (optional) Only remove events for this sound.\n     * @return {Howl}\n     */\n    off: function(event, fn, id) {\n      var self = this;\n      var events = self['_on' + event];\n      var i = 0;\n\n      if (fn) {\n        // Loop through event store and remove the passed function.\n        for (i=0; i<events.length; i++) {\n          if (fn === events[i].fn && id === events[i].id) {\n            events.splice(i, 1);\n            break;\n          }\n        }\n      } else if (event) {\n        // Clear out all events of this type.\n        self['_on' + event] = [];\n      } else {\n        // Clear out all events of every type.\n        var keys = Object.keys(self);\n        for (i=0; i<keys.length; i++) {\n          if ((keys[i].indexOf('_on') === 0) && Array.isArray(self[keys[i]])) {\n            self[keys[i]] = [];\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Listen to a custom event and remove it once fired.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to call.\n     * @param  {Number}   id    (optional) Only listen to events for this sound.\n     * @return {Howl}\n     */\n    once: function(event, fn, id) {\n      var self = this;\n\n      // Setup the event listener.\n      self.on(event, fn, id, 1);\n\n      return self;\n    },\n\n    /**\n     * Emit all events of a specific type and pass the sound id.\n     * @param  {String} event Event name.\n     * @param  {Number} id    Sound ID.\n     * @param  {Number} msg   Message to go with event.\n     * @return {Howl}\n     */\n    _emit: function(event, id, msg) {\n      var self = this;\n      var events = self['_on' + event];\n\n      // Loop through event store and fire all functions.\n      for (var i=events.length-1; i>=0; i--) {\n        if (!events[i].id || events[i].id === id || event === 'load') {\n          setTimeout(function(fn) {\n            fn.call(this, id, msg);\n          }.bind(self, events[i].fn), 0);\n\n          // If this event was setup with `once`, remove it.\n          if (events[i].once) {\n            self.off(event, events[i].fn, events[i].id);\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Queue of actions initiated before the sound has loaded.\n     * These will be called in sequence, with the next only firing\n     * after the previous has finished executing (even if async like play).\n     * @return {Howl}\n     */\n    _loadQueue: function() {\n      var self = this;\n\n      if (self._queue.length > 0) {\n        var task = self._queue[0];\n\n        // don't move onto the next task until this one is done\n        self.once(task.event, function() {\n          self._queue.shift();\n          self._loadQueue();\n        });\n\n        task.action();\n      }\n\n      return self;\n    },\n\n    /**\n     * Fired when playback ends at the end of the duration.\n     * @param  {Sound} sound The sound object to work with.\n     * @return {Howl}\n     */\n    _ended: function(sound) {\n      var self = this;\n      var sprite = sound._sprite;\n\n      // Should this sound loop?\n      var loop = !!(sound._loop || self._sprite[sprite][2]);\n\n      // Fire the ended event.\n      self._emit('end', sound._id);\n\n      // Restart the playback for HTML5 Audio loop.\n      if (!self._webAudio && loop) {\n        self.stop(sound._id, true).play(sound._id);\n      }\n\n      // Restart this timer if on a Web Audio loop.\n      if (self._webAudio && loop) {\n        self._emit('play', sound._id);\n        sound._seek = sound._start || 0;\n        sound._rateSeek = 0;\n        sound._playStart = Howler.ctx.currentTime;\n\n        var timeout = ((sound._stop - sound._start) * 1000) / Math.abs(sound._rate);\n        self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n      }\n\n      // Mark the node as paused.\n      if (self._webAudio && !loop) {\n        sound._paused = true;\n        sound._ended = true;\n        sound._seek = sound._start || 0;\n        sound._rateSeek = 0;\n        self._clearTimer(sound._id);\n\n        // Clean up the buffer source.\n        self._cleanBuffer(sound._node);\n\n        // Attempt to auto-suspend AudioContext if no sounds are still playing.\n        Howler._autoSuspend();\n      }\n\n      // When using a sprite, end the track.\n      if (!self._webAudio && !loop) {\n        self.stop(sound._id);\n      }\n\n      return self;\n    },\n\n    /**\n     * Clear the end timer for a sound playback.\n     * @param  {Number} id The sound ID.\n     * @return {Howl}\n     */\n    _clearTimer: function(id) {\n      var self = this;\n\n      if (self._endTimers[id]) {\n        clearTimeout(self._endTimers[id]);\n        delete self._endTimers[id];\n      }\n\n      return self;\n    },\n\n    /**\n     * Return the sound identified by this ID, or return null.\n     * @param  {Number} id Sound ID\n     * @return {Object}    Sound object or null.\n     */\n    _soundById: function(id) {\n      var self = this;\n\n      // Loop through all sounds and find the one with this ID.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (id === self._sounds[i]._id) {\n          return self._sounds[i];\n        }\n      }\n\n      return null;\n    },\n\n    /**\n     * Return an inactive sound from the pool or create a new one.\n     * @return {Sound} Sound playback object.\n     */\n    _inactiveSound: function() {\n      var self = this;\n\n      self._drain();\n\n      // Find the first inactive node to recycle.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (self._sounds[i]._ended) {\n          return self._sounds[i].reset();\n        }\n      }\n\n      // If no inactive node was found, create a new one.\n      return new Sound(self);\n    },\n\n    /**\n     * Drain excess inactive sounds from the pool.\n     */\n    _drain: function() {\n      var self = this;\n      var limit = self._pool;\n      var cnt = 0;\n      var i = 0;\n\n      // If there are less sounds than the max pool size, we are done.\n      if (self._sounds.length < limit) {\n        return;\n      }\n\n      // Count the number of inactive sounds.\n      for (i=0; i<self._sounds.length; i++) {\n        if (self._sounds[i]._ended) {\n          cnt++;\n        }\n      }\n\n      // Remove excess inactive sounds, going in reverse order.\n      for (i=self._sounds.length - 1; i>=0; i--) {\n        if (cnt <= limit) {\n          return;\n        }\n\n        if (self._sounds[i]._ended) {\n          // Disconnect the audio source when using Web Audio.\n          if (self._webAudio && self._sounds[i]._node) {\n            self._sounds[i]._node.disconnect(0);\n          }\n\n          // Remove sounds until we have the pool size.\n          self._sounds.splice(i, 1);\n          cnt--;\n        }\n      }\n    },\n\n    /**\n     * Get all ID's from the sounds pool.\n     * @param  {Number} id Only return one ID if one is passed.\n     * @return {Array}    Array of IDs.\n     */\n    _getSoundIds: function(id) {\n      var self = this;\n\n      if (typeof id === 'undefined') {\n        var ids = [];\n        for (var i=0; i<self._sounds.length; i++) {\n          ids.push(self._sounds[i]._id);\n        }\n\n        return ids;\n      } else {\n        return [id];\n      }\n    },\n\n    /**\n     * Load the sound back into the buffer source.\n     * @param  {Sound} sound The sound object to work with.\n     * @return {Howl}\n     */\n    _refreshBuffer: function(sound) {\n      var self = this;\n\n      // Setup the buffer source for playback.\n      sound._node.bufferSource = Howler.ctx.createBufferSource();\n      sound._node.bufferSource.buffer = cache[self._src];\n\n      // Connect to the correct node.\n      if (sound._panner) {\n        sound._node.bufferSource.connect(sound._panner);\n      } else {\n        sound._node.bufferSource.connect(sound._node);\n      }\n\n      // Setup looping and playback rate.\n      sound._node.bufferSource.loop = sound._loop;\n      if (sound._loop) {\n        sound._node.bufferSource.loopStart = sound._start || 0;\n        sound._node.bufferSource.loopEnd = sound._stop;\n      }\n      sound._node.bufferSource.playbackRate.value = sound._rate;\n\n      return self;\n    },\n\n    /**\n     * Prevent memory leaks by cleaning up the buffer source after playback.\n     * @param  {Object} node Sound's audio node containing the buffer source.\n     * @return {Howl}\n     */\n    _cleanBuffer: function(node) {\n      var self = this;\n\n      if (self._scratchBuffer) {\n        node.bufferSource.onended = null;\n        node.bufferSource.disconnect(0);\n        try { node.bufferSource.buffer = self._scratchBuffer; } catch(e) {}\n      }\n      node.bufferSource = null;\n\n      return self;\n    }\n  };\n\n  /** Single Sound Methods **/\n  /***************************************************************************/\n\n  /**\n   * Setup the sound object, which each node attached to a Howl group is contained in.\n   * @param {Object} howl The Howl parent group.\n   */\n  var Sound = function(howl) {\n    this._parent = howl;\n    this.init();\n  };\n  Sound.prototype = {\n    /**\n     * Initialize a new Sound object.\n     * @return {Sound}\n     */\n    init: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Setup the default parameters.\n      self._muted = parent._muted;\n      self._loop = parent._loop;\n      self._volume = parent._volume;\n      self._muted = parent._muted;\n      self._rate = parent._rate;\n      self._seek = 0;\n      self._paused = true;\n      self._ended = true;\n      self._sprite = '__default';\n\n      // Generate a unique ID for this sound.\n      self._id = Math.round(Date.now() * Math.random());\n\n      // Add itself to the parent's pool.\n      parent._sounds.push(self);\n\n      // Create the new node.\n      self.create();\n\n      return self;\n    },\n\n    /**\n     * Create and setup a new sound object, whether HTML5 Audio or Web Audio.\n     * @return {Sound}\n     */\n    create: function() {\n      var self = this;\n      var parent = self._parent;\n      var volume = (Howler._muted || self._muted || self._parent._muted) ? 0 : self._volume;\n\n      if (parent._webAudio) {\n        // Create the gain node for controlling volume (the source will connect to this).\n        self._node = (typeof Howler.ctx.createGain === 'undefined') ? Howler.ctx.createGainNode() : Howler.ctx.createGain();\n        self._node.gain.setValueAtTime(volume, Howler.ctx.currentTime);\n        self._node.paused = true;\n        self._node.connect(Howler.masterGain);\n      } else {\n        self._node = new Audio();\n\n        // Listen for errors (http://dev.w3.org/html5/spec-author-view/spec.html#mediaerror).\n        self._errorFn = self._errorListener.bind(self);\n        self._node.addEventListener('error', self._errorFn, false);\n\n        // Listen for 'canplaythrough' event to let us know the sound is ready.\n        self._loadFn = self._loadListener.bind(self);\n        self._node.addEventListener(Howler._canPlayEvent, self._loadFn, false);\n\n        // Setup the new audio node.\n        self._node.src = parent._src;\n        self._node.preload = 'auto';\n        self._node.volume = volume * Howler.volume();\n\n        // Begin loading the source.\n        self._node.load();\n      }\n\n      return self;\n    },\n\n    /**\n     * Reset the parameters of this sound to the original state (for recycle).\n     * @return {Sound}\n     */\n    reset: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Reset all of the parameters of this sound.\n      self._muted = parent._muted;\n      self._loop = parent._loop;\n      self._volume = parent._volume;\n      self._muted = parent._muted;\n      self._rate = parent._rate;\n      self._seek = 0;\n      self._rateSeek = 0;\n      self._paused = true;\n      self._ended = true;\n      self._sprite = '__default';\n\n      // Generate a new ID so that it isn't confused with the previous sound.\n      self._id = Math.round(Date.now() * Math.random());\n\n      return self;\n    },\n\n    /**\n     * HTML5 Audio error listener callback.\n     */\n    _errorListener: function() {\n      var self = this;\n\n      // Fire an error event and pass back the code.\n      self._parent._emit('loaderror', self._id, self._node.error ? self._node.error.code : 0);\n\n      // Clear the event listener.\n      self._node.removeEventListener('error', self._errorListener, false);\n    },\n\n    /**\n     * HTML5 Audio canplaythrough listener callback.\n     */\n    _loadListener: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Round up the duration to account for the lower precision in HTML5 Audio.\n      parent._duration = Math.ceil(self._node.duration * 10) / 10;\n\n      // Setup a sprite if none is defined.\n      if (Object.keys(parent._sprite).length === 0) {\n        parent._sprite = {__default: [0, parent._duration * 1000]};\n      }\n\n      if (parent._state !== 'loaded') {\n        parent._state = 'loaded';\n        parent._emit('load');\n        parent._loadQueue();\n      }\n\n      // Clear the event listener.\n      self._node.removeEventListener(Howler._canPlayEvent, self._loadFn, false);\n    }\n  };\n\n  /** Helper Methods **/\n  /***************************************************************************/\n\n  var cache = {};\n\n  /**\n   * Buffer a sound from URL, Data URI or cache and decode to audio source (Web Audio API).\n   * @param  {Howl} self\n   */\n  var loadBuffer = function(self) {\n    var url = self._src;\n\n    // Check if the buffer has already been cached and use it instead.\n    if (cache[url]) {\n      // Set the duration from the cache.\n      self._duration = cache[url].duration;\n\n      // Load the sound into this Howl.\n      loadSound(self);\n\n      return;\n    }\n\n    if (/^data:[^;]+;base64,/.test(url)) {\n      // Decode the base64 data URI without XHR, since some browsers don't support it.\n      var data = atob(url.split(',')[1]);\n      var dataView = new Uint8Array(data.length);\n      for (var i=0; i<data.length; ++i) {\n        dataView[i] = data.charCodeAt(i);\n      }\n\n      decodeAudioData(dataView.buffer, self);\n    } else {\n      // Load the buffer from the URL.\n      var xhr = new XMLHttpRequest();\n      xhr.open('GET', url, true);\n      xhr.responseType = 'arraybuffer';\n      xhr.onload = function() {\n        // Make sure we get a successful response back.\n        var code = (xhr.status + '')[0];\n        if (code !== '0' && code !== '2' && code !== '3') {\n          self._emit('loaderror', null, 'Failed loading audio file with status: ' + xhr.status + '.');\n          return;\n        }\n\n        decodeAudioData(xhr.response, self);\n      };\n      xhr.onerror = function() {\n        // If there is an error, switch to HTML5 Audio.\n        if (self._webAudio) {\n          self._html5 = true;\n          self._webAudio = false;\n          self._sounds = [];\n          delete cache[url];\n          self.load();\n        }\n      };\n      safeXhrSend(xhr);\n    }\n  };\n\n  /**\n   * Send the XHR request wrapped in a try/catch.\n   * @param  {Object} xhr XHR to send.\n   */\n  var safeXhrSend = function(xhr) {\n    try {\n      xhr.send();\n    } catch (e) {\n      xhr.onerror();\n    }\n  };\n\n  /**\n   * Decode audio data from an array buffer.\n   * @param  {ArrayBuffer} arraybuffer The audio data.\n   * @param  {Howl}        self\n   */\n  var decodeAudioData = function(arraybuffer, self) {\n    // Decode the buffer into an audio source.\n    Howler.ctx.decodeAudioData(arraybuffer, function(buffer) {\n      if (buffer && self._sounds.length > 0) {\n        cache[self._src] = buffer;\n        loadSound(self, buffer);\n      }\n    }, function() {\n      self._emit('loaderror', null, 'Decoding audio data failed.');\n    });\n  };\n\n  /**\n   * Sound is now loaded, so finish setting everything up and fire the loaded event.\n   * @param  {Howl} self\n   * @param  {Object} buffer The decoded buffer sound source.\n   */\n  var loadSound = function(self, buffer) {\n    // Set the duration.\n    if (buffer && !self._duration) {\n      self._duration = buffer.duration;\n    }\n\n    // Setup a sprite if none is defined.\n    if (Object.keys(self._sprite).length === 0) {\n      self._sprite = {__default: [0, self._duration * 1000]};\n    }\n\n    // Fire the loaded event.\n    if (self._state !== 'loaded') {\n      self._state = 'loaded';\n      self._emit('load');\n      self._loadQueue();\n    }\n  };\n\n  /**\n   * Setup the audio context when available, or switch to HTML5 Audio mode.\n   */\n  var setupAudioContext = function() {\n    // Check if we are using Web Audio and setup the AudioContext if we are.\n    try {\n      if (typeof AudioContext !== 'undefined') {\n        Howler.ctx = new AudioContext();\n      } else if (typeof webkitAudioContext !== 'undefined') {\n        Howler.ctx = new webkitAudioContext();\n      } else {\n        Howler.usingWebAudio = false;\n      }\n    } catch(e) {\n      Howler.usingWebAudio = false;\n    }\n\n    // Check if a webview is being used on iOS8 or earlier (rather than the browser).\n    // If it is, disable Web Audio as it causes crashing.\n    var iOS = (/iP(hone|od|ad)/.test(Howler._navigator && Howler._navigator.platform));\n    var appVersion = Howler._navigator && Howler._navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/);\n    var version = appVersion ? parseInt(appVersion[1], 10) : null;\n    if (iOS && version && version < 9) {\n      var safari = /safari/.test(Howler._navigator && Howler._navigator.userAgent.toLowerCase());\n      if (Howler._navigator && Howler._navigator.standalone && !safari || Howler._navigator && !Howler._navigator.standalone && !safari) {\n        Howler.usingWebAudio = false;\n      }\n    }\n\n    // Create and expose the master GainNode when using Web Audio (useful for plugins or advanced usage).\n    if (Howler.usingWebAudio) {\n      Howler.masterGain = (typeof Howler.ctx.createGain === 'undefined') ? Howler.ctx.createGainNode() : Howler.ctx.createGain();\n      Howler.masterGain.gain.value = 1;\n      Howler.masterGain.connect(Howler.ctx.destination);\n    }\n\n    // Re-run the setup on Howler.\n    Howler._setup();\n  };\n\n  // Add support for AMD (Asynchronous Module Definition) libraries such as require.js.\n  if (typeof define === 'function' && define.amd) {\n    define([], function() {\n      return {\n        Howler: Howler,\n        Howl: Howl\n      };\n    });\n  }\n\n  // Add support for CommonJS libraries such as browserify.\n  if (typeof exports !== 'undefined') {\n    exports.Howler = Howler;\n    exports.Howl = Howl;\n  }\n\n  // Define globally in case AMD is not available or unused.\n  if (typeof window !== 'undefined') {\n    window.HowlerGlobal = HowlerGlobal;\n    window.Howler = Howler;\n    window.Howl = Howl;\n    window.Sound = Sound;\n  } else if (typeof global !== 'undefined') { // Add to global in Node.js (for testing, etc).\n    global.HowlerGlobal = HowlerGlobal;\n    global.Howler = Howler;\n    global.Howl = Howl;\n    global.Sound = Sound;\n  }\n})();\n\n\n/*!\n *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.\n *  \n *  howler.js v2.0.2\n *  howlerjs.com\n *\n *  (c) 2013-2016, James Simpson of GoldFire Studios\n *  goldfirestudios.com\n *\n *  MIT License\n */\n\n(function() {\n\n  'use strict';\n\n  // Setup default properties.\n  HowlerGlobal.prototype._pos = [0, 0, 0];\n  HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0];\n  \n  /** Global Methods **/\n  /***************************************************************************/\n\n  /**\n   * Helper method to update the stereo panning position of all current Howls.\n   * Future Howls will not use this value unless explicitly set.\n   * @param  {Number} pan A value of -1.0 is all the way left and 1.0 is all the way right.\n   * @return {Howler/Number}     Self or current stereo panning value.\n   */\n  HowlerGlobal.prototype.stereo = function(pan) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Loop through all Howls and update their stereo panning.\n    for (var i=self._howls.length-1; i>=0; i--) {\n      self._howls[i].stereo(pan);\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the position of the listener in 3D cartesian space. Sounds using\n   * 3D position will be relative to the listener's position.\n   * @param  {Number} x The x-position of the listener.\n   * @param  {Number} y The y-position of the listener.\n   * @param  {Number} z The z-position of the listener.\n   * @return {Howler/Array}   Self or current listener position.\n   */\n  HowlerGlobal.prototype.pos = function(x, y, z) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? self._pos[1] : y;\n    z = (typeof z !== 'number') ? self._pos[2] : z;\n\n    if (typeof x === 'number') {\n      self._pos = [x, y, z];\n      self.ctx.listener.setPosition(self._pos[0], self._pos[1], self._pos[2]);\n    } else {\n      return self._pos;\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the direction the listener is pointing in the 3D cartesian space.\n   * A front and up vector must be provided. The front is the direction the\n   * face of the listener is pointing, and up is the direction the top of the\n   * listener is pointing. Thus, these values are expected to be at right angles\n   * from each other.\n   * @param  {Number} x   The x-orientation of the listener.\n   * @param  {Number} y   The y-orientation of the listener.\n   * @param  {Number} z   The z-orientation of the listener.\n   * @param  {Number} xUp The x-orientation of the top of the listener.\n   * @param  {Number} yUp The y-orientation of the top of the listener.\n   * @param  {Number} zUp The z-orientation of the top of the listener.\n   * @return {Howler/Array}     Returns self or the current orientation vectors.\n   */\n  HowlerGlobal.prototype.orientation = function(x, y, z, xUp, yUp, zUp) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    var or = self._orientation;\n    y = (typeof y !== 'number') ? or[1] : y;\n    z = (typeof z !== 'number') ? or[2] : z;\n    xUp = (typeof xUp !== 'number') ? or[3] : xUp;\n    yUp = (typeof yUp !== 'number') ? or[4] : yUp;\n    zUp = (typeof zUp !== 'number') ? or[5] : zUp;\n\n    if (typeof x === 'number') {\n      self._orientation = [x, y, z, xUp, yUp, zUp];\n      self.ctx.listener.setOrientation(x, y, z, xUp, yUp, zUp);\n    } else {\n      return or;\n    }\n\n    return self;\n  };\n\n  /** Group Methods **/\n  /***************************************************************************/\n\n  /**\n   * Add new properties to the core init.\n   * @param  {Function} _super Core init method.\n   * @return {Howl}\n   */\n  Howl.prototype.init = (function(_super) {\n    return function(o) {\n      var self = this;\n\n      // Setup user-defined default properties.\n      self._orientation = o.orientation || [1, 0, 0];\n      self._stereo = o.stereo || null;\n      self._pos = o.pos || null;\n      self._pannerAttr = {\n        coneInnerAngle: typeof o.coneInnerAngle !== 'undefined' ? o.coneInnerAngle : 360,\n        coneOuterAngle: typeof o.coneOuterAngle !== 'undefined' ? o.coneOuterAngle : 360,\n        coneOuterGain: typeof o.coneOuterGain !== 'undefined' ? o.coneOuterGain : 0,\n        distanceModel: typeof o.distanceModel !== 'undefined' ? o.distanceModel : 'inverse',\n        maxDistance: typeof o.maxDistance !== 'undefined' ? o.maxDistance : 10000,\n        panningModel: typeof o.panningModel !== 'undefined' ? o.panningModel : 'HRTF',\n        refDistance: typeof o.refDistance !== 'undefined' ? o.refDistance : 1,\n        rolloffFactor: typeof o.rolloffFactor !== 'undefined' ? o.rolloffFactor : 1\n      };\n\n      // Setup event listeners.\n      self._onstereo = o.onstereo ? [{fn: o.onstereo}] : [];\n      self._onpos = o.onpos ? [{fn: o.onpos}] : [];\n      self._onorientation = o.onorientation ? [{fn: o.onorientation}] : [];\n\n      // Complete initilization with howler.js core's init function.\n      return _super.call(this, o);\n    };\n  })(Howl.prototype.init);\n\n  /**\n   * Get/set the stereo panning of the audio source for this sound or all in the group.\n   * @param  {Number} pan  A value of -1.0 is all the way left and 1.0 is all the way right.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Number}    Returns self or the current stereo panning value.\n   */\n  Howl.prototype.stereo = function(pan, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change stereo pan when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'stereo',\n        action: function() {\n          self.stereo(pan, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Check for PannerStereoNode support and fallback to PannerNode if it doesn't exist.\n    var pannerType = (typeof Howler.ctx.createStereoPanner === 'undefined') ? 'spatial' : 'stereo';\n\n    // Setup the group's stereo panning if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's stereo panning if no parameters are passed.\n      if (typeof pan === 'number') {\n        self._stereo = pan;\n        self._pos = [pan, 0, 0];\n      } else {\n        return self._stereo;\n      }\n    }\n\n    // Change the streo panning of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof pan === 'number') {\n          sound._stereo = pan;\n          sound._pos = [pan, 0, 0];\n\n          if (sound._node) {\n            // If we are falling back, make sure the panningModel is equalpower.\n            sound._pannerAttr.panningModel = 'equalpower';\n\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner || !sound._panner.pan) {\n              setupPanner(sound, pannerType);\n            }\n\n            if (pannerType === 'spatial') {\n              sound._panner.setPosition(pan, 0, 0);\n            } else {\n              sound._panner.pan.value = pan;\n            }\n          }\n\n          self._emit('stereo', sound._id);\n        } else {\n          return sound._stereo;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the 3D spatial position of the audio source for this sound or\n   * all in the group. The most common usage is to set the 'x' position for\n   * left/right panning. Setting any value higher than 1.0 will begin to\n   * decrease the volume of the sound as it moves further away.\n   * @param  {Number} x  The x-position of the audio from -1000.0 to 1000.0.\n   * @param  {Number} y  The y-position of the audio from -1000.0 to 1000.0.\n   * @param  {Number} z  The z-position of the audio from -1000.0 to 1000.0.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Array}    Returns self or the current 3D spatial position: [x, y, z].\n   */\n  Howl.prototype.pos = function(x, y, z, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change position when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'pos',\n        action: function() {\n          self.pos(x, y, z, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? 0 : y;\n    z = (typeof z !== 'number') ? -0.5 : z;\n\n    // Setup the group's spatial position if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's spatial position if no parameters are passed.\n      if (typeof x === 'number') {\n        self._pos = [x, y, z];\n      } else {\n        return self._pos;\n      }\n    }\n\n    // Change the spatial position of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof x === 'number') {\n          sound._pos = [x, y, z];\n\n          if (sound._node) {\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner || sound._panner.pan) {\n              setupPanner(sound, 'spatial');\n            }\n\n            sound._panner.setPosition(x, y, z);\n          }\n\n          self._emit('pos', sound._id);\n        } else {\n          return sound._pos;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the direction the audio source is pointing in the 3D cartesian coordinate\n   * space. Depending on how direction the sound is, based on the `cone` attributes,\n   * a sound pointing away from the listener can be quiet or silent.\n   * @param  {Number} x  The x-orientation of the source.\n   * @param  {Number} y  The y-orientation of the source.\n   * @param  {Number} z  The z-orientation of the source.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Array}    Returns self or the current 3D spatial orientation: [x, y, z].\n   */\n  Howl.prototype.orientation = function(x, y, z, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change orientation when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'orientation',\n        action: function() {\n          self.orientation(x, y, z, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? self._orientation[1] : y;\n    z = (typeof z !== 'number') ? self._orientation[2] : z;\n\n    // Setup the group's spatial orientation if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's spatial orientation if no parameters are passed.\n      if (typeof x === 'number') {\n        self._orientation = [x, y, z];\n      } else {\n        return self._orientation;\n      }\n    }\n\n    // Change the spatial orientation of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof x === 'number') {\n          sound._orientation = [x, y, z];\n\n          if (sound._node) {\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner) {\n              // Make sure we have a position to setup the node with.\n              if (!sound._pos) {\n                sound._pos = self._pos || [0, 0, -0.5];\n              }\n\n              setupPanner(sound, 'spatial');\n            }\n\n            sound._panner.setOrientation(x, y, z);\n          }\n\n          self._emit('orientation', sound._id);\n        } else {\n          return sound._orientation;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the panner node's attributes for a sound or group of sounds.\n   * This method can optionall take 0, 1 or 2 arguments.\n   *   pannerAttr() -> Returns the group's values.\n   *   pannerAttr(id) -> Returns the sound id's values.\n   *   pannerAttr(o) -> Set's the values of all sounds in this Howl group.\n   *   pannerAttr(o, id) -> Set's the values of passed sound id.\n   *\n   *   Attributes:\n   *     coneInnerAngle - (360 by default) There will be no volume reduction inside this angle.\n   *     coneOuterAngle - (360 by default) The volume will be reduced to a constant value of\n   *                      `coneOuterGain` outside this angle.\n   *     coneOuterGain - (0 by default) The amount of volume reduction outside of `coneOuterAngle`.\n   *     distanceModel - ('inverse' by default) Determines algorithm to use to reduce volume as audio moves\n   *                      away from listener. Can be `linear`, `inverse` or `exponential`.\n   *     maxDistance - (10000 by default) Volume won't reduce between source/listener beyond this distance.\n   *     panningModel - ('HRTF' by default) Determines which spatialization algorithm is used to position audio.\n   *                     Can be `HRTF` or `equalpower`.\n   *     refDistance - (1 by default) A reference distance for reducing volume as the source\n   *                    moves away from the listener.\n   *     rolloffFactor - (1 by default) How quickly the volume reduces as source moves from listener.\n   * \n   * @return {Howl/Object} Returns self or current panner attributes.\n   */\n  Howl.prototype.pannerAttr = function() {\n    var self = this;\n    var args = arguments;\n    var o, id, sound;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // Determine the values based on arguments.\n    if (args.length === 0) {\n      // Return the group's panner attribute values.\n      return self._pannerAttr;\n    } else if (args.length === 1) {\n      if (typeof args[0] === 'object') {\n        o = args[0];\n\n        // Set the grou's panner attribute values.\n        if (typeof id === 'undefined') {\n          self._pannerAttr = {\n            coneInnerAngle: typeof o.coneInnerAngle !== 'undefined' ? o.coneInnerAngle : self._coneInnerAngle,\n            coneOuterAngle: typeof o.coneOuterAngle !== 'undefined' ? o.coneOuterAngle : self._coneOuterAngle,\n            coneOuterGain: typeof o.coneOuterGain !== 'undefined' ? o.coneOuterGain : self._coneOuterGain,\n            distanceModel: typeof o.distanceModel !== 'undefined' ? o.distanceModel : self._distanceModel,\n            maxDistance: typeof o.maxDistance !== 'undefined' ? o.maxDistance : self._maxDistance,\n            panningModel: typeof o.panningModel !== 'undefined' ? o.panningModel : self._panningModel,\n            refDistance: typeof o.refDistance !== 'undefined' ? o.refDistance : self._refDistance,\n            rolloffFactor: typeof o.rolloffFactor !== 'undefined' ? o.rolloffFactor : self._rolloffFactor\n          };\n        }\n      } else {\n        // Return this sound's panner attribute values.\n        sound = self._soundById(parseInt(args[0], 10));\n        return sound ? sound._pannerAttr : self._pannerAttr;\n      }\n    } else if (args.length === 2) {\n      o = args[0];\n      id = parseInt(args[1], 10);\n    }\n\n    // Update the values of the specified sounds.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      sound = self._soundById(ids[i]);\n\n      if (sound) {\n        // Merge the new values into the sound.\n        var pa = sound._pannerAttr;\n        pa = {\n          coneInnerAngle: typeof o.coneInnerAngle !== 'undefined' ? o.coneInnerAngle : pa.coneInnerAngle,\n          coneOuterAngle: typeof o.coneOuterAngle !== 'undefined' ? o.coneOuterAngle : pa.coneOuterAngle,\n          coneOuterGain: typeof o.coneOuterGain !== 'undefined' ? o.coneOuterGain : pa.coneOuterGain,\n          distanceModel: typeof o.distanceModel !== 'undefined' ? o.distanceModel : pa.distanceModel,\n          maxDistance: typeof o.maxDistance !== 'undefined' ? o.maxDistance : pa.maxDistance,\n          panningModel: typeof o.panningModel !== 'undefined' ? o.panningModel : pa.panningModel,\n          refDistance: typeof o.refDistance !== 'undefined' ? o.refDistance : pa.refDistance,\n          rolloffFactor: typeof o.rolloffFactor !== 'undefined' ? o.rolloffFactor : pa.rolloffFactor\n        };\n\n        // Update the panner values or create a new panner if none exists.\n        var panner = sound._panner;\n        if (panner) {\n          panner.coneInnerAngle = pa.coneInnerAngle;\n          panner.coneOuterAngle = pa.coneOuterAngle;\n          panner.coneOuterGain = pa.coneOuterGain;\n          panner.distanceModel = pa.distanceModel;\n          panner.maxDistance = pa.maxDistance;\n          panner.panningModel = pa.panningModel;\n          panner.refDistance = pa.refDistance;\n          panner.rolloffFactor = pa.rolloffFactor;\n        } else {\n          // Make sure we have a position to setup the node with.\n          if (!sound._pos) {\n            sound._pos = self._pos || [0, 0, -0.5];\n          }\n\n          // Create a new panner node.\n          setupPanner(sound, 'spatial');\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /** Single Sound Methods **/\n  /***************************************************************************/\n\n  /**\n   * Add new properties to the core Sound init.\n   * @param  {Function} _super Core Sound init method.\n   * @return {Sound}\n   */\n  Sound.prototype.init = (function(_super) {\n    return function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Setup user-defined default properties.\n      self._orientation = parent._orientation;\n      self._stereo = parent._stereo;\n      self._pos = parent._pos;\n      self._pannerAttr = parent._pannerAttr;\n\n      // Complete initilization with howler.js core Sound's init function.\n      _super.call(this);\n\n      // If a stereo or position was specified, set it up.\n      if (self._stereo) {\n        parent.stereo(self._stereo);\n      } else if (self._pos) {\n        parent.pos(self._pos[0], self._pos[1], self._pos[2], self._id);\n      }\n    };\n  })(Sound.prototype.init);\n\n  /**\n   * Override the Sound.reset method to clean up properties from the spatial plugin.\n   * @param  {Function} _super Sound reset method.\n   * @return {Sound}\n   */\n  Sound.prototype.reset = (function(_super) {\n    return function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Reset all spatial plugin properties on this sound.\n      self._orientation = parent._orientation;\n      self._pos = parent._pos;\n      self._pannerAttr = parent._pannerAttr;\n\n      // Complete resetting of the sound.\n      return _super.call(this);\n    };\n  })(Sound.prototype.reset);\n\n  /** Helper Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create a new panner node and save it on the sound.\n   * @param  {Sound} sound Specific sound to setup panning on.\n   * @param {String} type Type of panner to create: 'stereo' or 'spatial'.\n   */\n  var setupPanner = function(sound, type) {\n    type = type || 'spatial';\n\n    // Create the new panner node.\n    if (type === 'spatial') {\n      sound._panner = Howler.ctx.createPanner();\n      sound._panner.coneInnerAngle = sound._pannerAttr.coneInnerAngle;\n      sound._panner.coneOuterAngle = sound._pannerAttr.coneOuterAngle;\n      sound._panner.coneOuterGain = sound._pannerAttr.coneOuterGain;\n      sound._panner.distanceModel = sound._pannerAttr.distanceModel;\n      sound._panner.maxDistance = sound._pannerAttr.maxDistance;\n      sound._panner.panningModel = sound._pannerAttr.panningModel;\n      sound._panner.refDistance = sound._pannerAttr.refDistance;\n      sound._panner.rolloffFactor = sound._pannerAttr.rolloffFactor;\n      sound._panner.setPosition(sound._pos[0], sound._pos[1], sound._pos[2]);\n      sound._panner.setOrientation(sound._orientation[0], sound._orientation[1], sound._orientation[2]);\n    } else {\n      sound._panner = Howler.ctx.createStereoPanner();\n      sound._panner.pan.value = sound._stereo;\n    }\n\n    sound._panner.connect(sound._node);\n\n    // Update the connections.\n    if (!sound._paused) {\n      sound._parent.pause(sound._id, true).play(sound._id);\n    }\n  };\n})();\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],55:[function(require,module,exports){\n\nvar indexOf = [].indexOf;\n\nmodule.exports = function(arr, obj){\n  if (indexOf) return arr.indexOf(obj);\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n};\n},{}],56:[function(require,module,exports){\n(function (global){\n/*! JSON v3.3.2 | http://bestiejs.github.io/json3 | Copyright 2012-2014, Kit Cambridge | http://kit.mit-license.org */\n;(function () {\n  // Detect the `define` function exposed by asynchronous module loaders. The\n  // strict `define` check is necessary for compatibility with `r.js`.\n  var isLoader = typeof define === \"function\" && define.amd;\n\n  // A set of types used to distinguish objects from primitives.\n  var objectTypes = {\n    \"function\": true,\n    \"object\": true\n  };\n\n  // Detect the `exports` object exposed by CommonJS implementations.\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  // Use the `global` object exposed by Node (including Browserify via\n  // `insert-module-globals`), Narwhal, and Ringo as the default context,\n  // and the `window` object in browsers. Rhino exports a `global` function\n  // instead.\n  var root = objectTypes[typeof window] && window || this,\n      freeGlobal = freeExports && objectTypes[typeof module] && module && !module.nodeType && typeof global == \"object\" && global;\n\n  if (freeGlobal && (freeGlobal[\"global\"] === freeGlobal || freeGlobal[\"window\"] === freeGlobal || freeGlobal[\"self\"] === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  // Public: Initializes JSON 3 using the given `context` object, attaching the\n  // `stringify` and `parse` functions to the specified `exports` object.\n  function runInContext(context, exports) {\n    context || (context = root[\"Object\"]());\n    exports || (exports = root[\"Object\"]());\n\n    // Native constructor aliases.\n    var Number = context[\"Number\"] || root[\"Number\"],\n        String = context[\"String\"] || root[\"String\"],\n        Object = context[\"Object\"] || root[\"Object\"],\n        Date = context[\"Date\"] || root[\"Date\"],\n        SyntaxError = context[\"SyntaxError\"] || root[\"SyntaxError\"],\n        TypeError = context[\"TypeError\"] || root[\"TypeError\"],\n        Math = context[\"Math\"] || root[\"Math\"],\n        nativeJSON = context[\"JSON\"] || root[\"JSON\"];\n\n    // Delegate to the native `stringify` and `parse` implementations.\n    if (typeof nativeJSON == \"object\" && nativeJSON) {\n      exports.stringify = nativeJSON.stringify;\n      exports.parse = nativeJSON.parse;\n    }\n\n    // Convenience aliases.\n    var objectProto = Object.prototype,\n        getClass = objectProto.toString,\n        isProperty, forEach, undef;\n\n    // Test the `Date#getUTC*` methods. Based on work by @Yaffle.\n    var isExtended = new Date(-3509827334573292);\n    try {\n      // The `getUTCFullYear`, `Month`, and `Date` methods return nonsensical\n      // results for certain dates in Opera >= 10.53.\n      isExtended = isExtended.getUTCFullYear() == -109252 && isExtended.getUTCMonth() === 0 && isExtended.getUTCDate() === 1 &&\n        // Safari < 2.0.2 stores the internal millisecond time value correctly,\n        // but clips the values returned by the date methods to the range of\n        // signed 32-bit integers ([-2 ** 31, 2 ** 31 - 1]).\n        isExtended.getUTCHours() == 10 && isExtended.getUTCMinutes() == 37 && isExtended.getUTCSeconds() == 6 && isExtended.getUTCMilliseconds() == 708;\n    } catch (exception) {}\n\n    // Internal: Determines whether the native `JSON.stringify` and `parse`\n    // implementations are spec-compliant. Based on work by Ken Snyder.\n    function has(name) {\n      if (has[name] !== undef) {\n        // Return cached feature test result.\n        return has[name];\n      }\n      var isSupported;\n      if (name == \"bug-string-char-index\") {\n        // IE <= 7 doesn't support accessing string characters using square\n        // bracket notation. IE 8 only supports this for primitives.\n        isSupported = \"a\"[0] != \"a\";\n      } else if (name == \"json\") {\n        // Indicates whether both `JSON.stringify` and `JSON.parse` are\n        // supported.\n        isSupported = has(\"json-stringify\") && has(\"json-parse\");\n      } else {\n        var value, serialized = '{\"a\":[1,true,false,null,\"\\\\u0000\\\\b\\\\n\\\\f\\\\r\\\\t\"]}';\n        // Test `JSON.stringify`.\n        if (name == \"json-stringify\") {\n          var stringify = exports.stringify, stringifySupported = typeof stringify == \"function\" && isExtended;\n          if (stringifySupported) {\n            // A test function object with a custom `toJSON` method.\n            (value = function () {\n              return 1;\n            }).toJSON = value;\n            try {\n              stringifySupported =\n                // Firefox 3.1b1 and b2 serialize string, number, and boolean\n                // primitives as object literals.\n                stringify(0) === \"0\" &&\n                // FF 3.1b1, b2, and JSON 2 serialize wrapped primitives as object\n                // literals.\n                stringify(new Number()) === \"0\" &&\n                stringify(new String()) == '\"\"' &&\n                // FF 3.1b1, 2 throw an error if the value is `null`, `undefined`, or\n                // does not define a canonical JSON representation (this applies to\n                // objects with `toJSON` properties as well, *unless* they are nested\n                // within an object or array).\n                stringify(getClass) === undef &&\n                // IE 8 serializes `undefined` as `\"undefined\"`. Safari <= 5.1.7 and\n                // FF 3.1b3 pass this test.\n                stringify(undef) === undef &&\n                // Safari <= 5.1.7 and FF 3.1b3 throw `Error`s and `TypeError`s,\n                // respectively, if the value is omitted entirely.\n                stringify() === undef &&\n                // FF 3.1b1, 2 throw an error if the given value is not a number,\n                // string, array, object, Boolean, or `null` literal. This applies to\n                // objects with custom `toJSON` methods as well, unless they are nested\n                // inside object or array literals. YUI 3.0.0b1 ignores custom `toJSON`\n                // methods entirely.\n                stringify(value) === \"1\" &&\n                stringify([value]) == \"[1]\" &&\n                // Prototype <= 1.6.1 serializes `[undefined]` as `\"[]\"` instead of\n                // `\"[null]\"`.\n                stringify([undef]) == \"[null]\" &&\n                // YUI 3.0.0b1 fails to serialize `null` literals.\n                stringify(null) == \"null\" &&\n                // FF 3.1b1, 2 halts serialization if an array contains a function:\n                // `[1, true, getClass, 1]` serializes as \"[1,true,],\". FF 3.1b3\n                // elides non-JSON values from objects and arrays, unless they\n                // define custom `toJSON` methods.\n                stringify([undef, getClass, null]) == \"[null,null,null]\" &&\n                // Simple serialization test. FF 3.1b1 uses Unicode escape sequences\n                // where character escape codes are expected (e.g., `\\b` => `\\u0008`).\n                stringify({ \"a\": [value, true, false, null, \"\\x00\\b\\n\\f\\r\\t\"] }) == serialized &&\n                // FF 3.1b1 and b2 ignore the `filter` and `width` arguments.\n                stringify(null, value) === \"1\" &&\n                stringify([1, 2], null, 1) == \"[\\n 1,\\n 2\\n]\" &&\n                // JSON 2, Prototype <= 1.7, and older WebKit builds incorrectly\n                // serialize extended years.\n                stringify(new Date(-8.64e15)) == '\"-271821-04-20T00:00:00.000Z\"' &&\n                // The milliseconds are optional in ES 5, but required in 5.1.\n                stringify(new Date(8.64e15)) == '\"+275760-09-13T00:00:00.000Z\"' &&\n                // Firefox <= 11.0 incorrectly serializes years prior to 0 as negative\n                // four-digit years instead of six-digit years. Credits: @Yaffle.\n                stringify(new Date(-621987552e5)) == '\"-000001-01-01T00:00:00.000Z\"' &&\n                // Safari <= 5.1.5 and Opera >= 10.53 incorrectly serialize millisecond\n                // values less than 1000. Credits: @Yaffle.\n                stringify(new Date(-1)) == '\"1969-12-31T23:59:59.999Z\"';\n            } catch (exception) {\n              stringifySupported = false;\n            }\n          }\n          isSupported = stringifySupported;\n        }\n        // Test `JSON.parse`.\n        if (name == \"json-parse\") {\n          var parse = exports.parse;\n          if (typeof parse == \"function\") {\n            try {\n              // FF 3.1b1, b2 will throw an exception if a bare literal is provided.\n              // Conforming implementations should also coerce the initial argument to\n              // a string prior to parsing.\n              if (parse(\"0\") === 0 && !parse(false)) {\n                // Simple parsing test.\n                value = parse(serialized);\n                var parseSupported = value[\"a\"].length == 5 && value[\"a\"][0] === 1;\n                if (parseSupported) {\n                  try {\n                    // Safari <= 5.1.2 and FF 3.1b1 allow unescaped tabs in strings.\n                    parseSupported = !parse('\"\\t\"');\n                  } catch (exception) {}\n                  if (parseSupported) {\n                    try {\n                      // FF 4.0 and 4.0.1 allow leading `+` signs and leading\n                      // decimal points. FF 4.0, 4.0.1, and IE 9-10 also allow\n                      // certain octal literals.\n                      parseSupported = parse(\"01\") !== 1;\n                    } catch (exception) {}\n                  }\n                  if (parseSupported) {\n                    try {\n                      // FF 4.0, 4.0.1, and Rhino 1.7R3-R4 allow trailing decimal\n                      // points. These environments, along with FF 3.1b1 and 2,\n                      // also allow trailing commas in JSON objects and arrays.\n                      parseSupported = parse(\"1.\") !== 1;\n                    } catch (exception) {}\n                  }\n                }\n              }\n            } catch (exception) {\n              parseSupported = false;\n            }\n          }\n          isSupported = parseSupported;\n        }\n      }\n      return has[name] = !!isSupported;\n    }\n\n    if (!has(\"json\")) {\n      // Common `[[Class]]` name aliases.\n      var functionClass = \"[object Function]\",\n          dateClass = \"[object Date]\",\n          numberClass = \"[object Number]\",\n          stringClass = \"[object String]\",\n          arrayClass = \"[object Array]\",\n          booleanClass = \"[object Boolean]\";\n\n      // Detect incomplete support for accessing string characters by index.\n      var charIndexBuggy = has(\"bug-string-char-index\");\n\n      // Define additional utility methods if the `Date` methods are buggy.\n      if (!isExtended) {\n        var floor = Math.floor;\n        // A mapping between the months of the year and the number of days between\n        // January 1st and the first of the respective month.\n        var Months = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\n        // Internal: Calculates the number of days between the Unix epoch and the\n        // first day of the given month.\n        var getDay = function (year, month) {\n          return Months[month] + 365 * (year - 1970) + floor((year - 1969 + (month = +(month > 1))) / 4) - floor((year - 1901 + month) / 100) + floor((year - 1601 + month) / 400);\n        };\n      }\n\n      // Internal: Determines if a property is a direct property of the given\n      // object. Delegates to the native `Object#hasOwnProperty` method.\n      if (!(isProperty = objectProto.hasOwnProperty)) {\n        isProperty = function (property) {\n          var members = {}, constructor;\n          if ((members.__proto__ = null, members.__proto__ = {\n            // The *proto* property cannot be set multiple times in recent\n            // versions of Firefox and SeaMonkey.\n            \"toString\": 1\n          }, members).toString != getClass) {\n            // Safari <= 2.0.3 doesn't implement `Object#hasOwnProperty`, but\n            // supports the mutable *proto* property.\n            isProperty = function (property) {\n              // Capture and break the object's prototype chain (see section 8.6.2\n              // of the ES 5.1 spec). The parenthesized expression prevents an\n              // unsafe transformation by the Closure Compiler.\n              var original = this.__proto__, result = property in (this.__proto__ = null, this);\n              // Restore the original prototype chain.\n              this.__proto__ = original;\n              return result;\n            };\n          } else {\n            // Capture a reference to the top-level `Object` constructor.\n            constructor = members.constructor;\n            // Use the `constructor` property to simulate `Object#hasOwnProperty` in\n            // other environments.\n            isProperty = function (property) {\n              var parent = (this.constructor || constructor).prototype;\n              return property in this && !(property in parent && this[property] === parent[property]);\n            };\n          }\n          members = null;\n          return isProperty.call(this, property);\n        };\n      }\n\n      // Internal: Normalizes the `for...in` iteration algorithm across\n      // environments. Each enumerated key is yielded to a `callback` function.\n      forEach = function (object, callback) {\n        var size = 0, Properties, members, property;\n\n        // Tests for bugs in the current environment's `for...in` algorithm. The\n        // `valueOf` property inherits the non-enumerable flag from\n        // `Object.prototype` in older versions of IE, Netscape, and Mozilla.\n        (Properties = function () {\n          this.valueOf = 0;\n        }).prototype.valueOf = 0;\n\n        // Iterate over a new instance of the `Properties` class.\n        members = new Properties();\n        for (property in members) {\n          // Ignore all properties inherited from `Object.prototype`.\n          if (isProperty.call(members, property)) {\n            size++;\n          }\n        }\n        Properties = members = null;\n\n        // Normalize the iteration algorithm.\n        if (!size) {\n          // A list of non-enumerable properties inherited from `Object.prototype`.\n          members = [\"valueOf\", \"toString\", \"toLocaleString\", \"propertyIsEnumerable\", \"isPrototypeOf\", \"hasOwnProperty\", \"constructor\"];\n          // IE <= 8, Mozilla 1.0, and Netscape 6.2 ignore shadowed non-enumerable\n          // properties.\n          forEach = function (object, callback) {\n            var isFunction = getClass.call(object) == functionClass, property, length;\n            var hasProperty = !isFunction && typeof object.constructor != \"function\" && objectTypes[typeof object.hasOwnProperty] && object.hasOwnProperty || isProperty;\n            for (property in object) {\n              // Gecko <= 1.0 enumerates the `prototype` property of functions under\n              // certain conditions; IE does not.\n              if (!(isFunction && property == \"prototype\") && hasProperty.call(object, property)) {\n                callback(property);\n              }\n            }\n            // Manually invoke the callback for each non-enumerable property.\n            for (length = members.length; property = members[--length]; hasProperty.call(object, property) && callback(property));\n          };\n        } else if (size == 2) {\n          // Safari <= 2.0.4 enumerates shadowed properties twice.\n          forEach = function (object, callback) {\n            // Create a set of iterated properties.\n            var members = {}, isFunction = getClass.call(object) == functionClass, property;\n            for (property in object) {\n              // Store each property name to prevent double enumeration. The\n              // `prototype` property of functions is not enumerated due to cross-\n              // environment inconsistencies.\n              if (!(isFunction && property == \"prototype\") && !isProperty.call(members, property) && (members[property] = 1) && isProperty.call(object, property)) {\n                callback(property);\n              }\n            }\n          };\n        } else {\n          // No bugs detected; use the standard `for...in` algorithm.\n          forEach = function (object, callback) {\n            var isFunction = getClass.call(object) == functionClass, property, isConstructor;\n            for (property in object) {\n              if (!(isFunction && property == \"prototype\") && isProperty.call(object, property) && !(isConstructor = property === \"constructor\")) {\n                callback(property);\n              }\n            }\n            // Manually invoke the callback for the `constructor` property due to\n            // cross-environment inconsistencies.\n            if (isConstructor || isProperty.call(object, (property = \"constructor\"))) {\n              callback(property);\n            }\n          };\n        }\n        return forEach(object, callback);\n      };\n\n      // Public: Serializes a JavaScript `value` as a JSON string. The optional\n      // `filter` argument may specify either a function that alters how object and\n      // array members are serialized, or an array of strings and numbers that\n      // indicates which properties should be serialized. The optional `width`\n      // argument may be either a string or number that specifies the indentation\n      // level of the output.\n      if (!has(\"json-stringify\")) {\n        // Internal: A map of control characters and their escaped equivalents.\n        var Escapes = {\n          92: \"\\\\\\\\\",\n          34: '\\\\\"',\n          8: \"\\\\b\",\n          12: \"\\\\f\",\n          10: \"\\\\n\",\n          13: \"\\\\r\",\n          9: \"\\\\t\"\n        };\n\n        // Internal: Converts `value` into a zero-padded string such that its\n        // length is at least equal to `width`. The `width` must be <= 6.\n        var leadingZeroes = \"000000\";\n        var toPaddedString = function (width, value) {\n          // The `|| 0` expression is necessary to work around a bug in\n          // Opera <= 7.54u2 where `0 == -0`, but `String(-0) !== \"0\"`.\n          return (leadingZeroes + (value || 0)).slice(-width);\n        };\n\n        // Internal: Double-quotes a string `value`, replacing all ASCII control\n        // characters (characters with code unit values between 0 and 31) with\n        // their escaped equivalents. This is an implementation of the\n        // `Quote(value)` operation defined in ES 5.1 section 15.12.3.\n        var unicodePrefix = \"\\\\u00\";\n        var quote = function (value) {\n          var result = '\"', index = 0, length = value.length, useCharIndex = !charIndexBuggy || length > 10;\n          var symbols = useCharIndex && (charIndexBuggy ? value.split(\"\") : value);\n          for (; index < length; index++) {\n            var charCode = value.charCodeAt(index);\n            // If the character is a control character, append its Unicode or\n            // shorthand escape sequence; otherwise, append the character as-is.\n            switch (charCode) {\n              case 8: case 9: case 10: case 12: case 13: case 34: case 92:\n                result += Escapes[charCode];\n                break;\n              default:\n                if (charCode < 32) {\n                  result += unicodePrefix + toPaddedString(2, charCode.toString(16));\n                  break;\n                }\n                result += useCharIndex ? symbols[index] : value.charAt(index);\n            }\n          }\n          return result + '\"';\n        };\n\n        // Internal: Recursively serializes an object. Implements the\n        // `Str(key, holder)`, `JO(value)`, and `JA(value)` operations.\n        var serialize = function (property, object, callback, properties, whitespace, indentation, stack) {\n          var value, className, year, month, date, time, hours, minutes, seconds, milliseconds, results, element, index, length, prefix, result;\n          try {\n            // Necessary for host object support.\n            value = object[property];\n          } catch (exception) {}\n          if (typeof value == \"object\" && value) {\n            className = getClass.call(value);\n            if (className == dateClass && !isProperty.call(value, \"toJSON\")) {\n              if (value > -1 / 0 && value < 1 / 0) {\n                // Dates are serialized according to the `Date#toJSON` method\n                // specified in ES 5.1 section 15.9.5.44. See section 15.9.1.15\n                // for the ISO 8601 date time string format.\n                if (getDay) {\n                  // Manually compute the year, month, date, hours, minutes,\n                  // seconds, and milliseconds if the `getUTC*` methods are\n                  // buggy. Adapted from @Yaffle's `date-shim` project.\n                  date = floor(value / 864e5);\n                  for (year = floor(date / 365.2425) + 1970 - 1; getDay(year + 1, 0) <= date; year++);\n                  for (month = floor((date - getDay(year, 0)) / 30.42); getDay(year, month + 1) <= date; month++);\n                  date = 1 + date - getDay(year, month);\n                  // The `time` value specifies the time within the day (see ES\n                  // 5.1 section 15.9.1.2). The formula `(A % B + B) % B` is used\n                  // to compute `A modulo B`, as the `%` operator does not\n                  // correspond to the `modulo` operation for negative numbers.\n                  time = (value % 864e5 + 864e5) % 864e5;\n                  // The hours, minutes, seconds, and milliseconds are obtained by\n                  // decomposing the time within the day. See section 15.9.1.10.\n                  hours = floor(time / 36e5) % 24;\n                  minutes = floor(time / 6e4) % 60;\n                  seconds = floor(time / 1e3) % 60;\n                  milliseconds = time % 1e3;\n                } else {\n                  year = value.getUTCFullYear();\n                  month = value.getUTCMonth();\n                  date = value.getUTCDate();\n                  hours = value.getUTCHours();\n                  minutes = value.getUTCMinutes();\n                  seconds = value.getUTCSeconds();\n                  milliseconds = value.getUTCMilliseconds();\n                }\n                // Serialize extended years correctly.\n                value = (year <= 0 || year >= 1e4 ? (year < 0 ? \"-\" : \"+\") + toPaddedString(6, year < 0 ? -year : year) : toPaddedString(4, year)) +\n                  \"-\" + toPaddedString(2, month + 1) + \"-\" + toPaddedString(2, date) +\n                  // Months, dates, hours, minutes, and seconds should have two\n                  // digits; milliseconds should have three.\n                  \"T\" + toPaddedString(2, hours) + \":\" + toPaddedString(2, minutes) + \":\" + toPaddedString(2, seconds) +\n                  // Milliseconds are optional in ES 5.0, but required in 5.1.\n                  \".\" + toPaddedString(3, milliseconds) + \"Z\";\n              } else {\n                value = null;\n              }\n            } else if (typeof value.toJSON == \"function\" && ((className != numberClass && className != stringClass && className != arrayClass) || isProperty.call(value, \"toJSON\"))) {\n              // Prototype <= 1.6.1 adds non-standard `toJSON` methods to the\n              // `Number`, `String`, `Date`, and `Array` prototypes. JSON 3\n              // ignores all `toJSON` methods on these objects unless they are\n              // defined directly on an instance.\n              value = value.toJSON(property);\n            }\n          }\n          if (callback) {\n            // If a replacement function was provided, call it to obtain the value\n            // for serialization.\n            value = callback.call(object, property, value);\n          }\n          if (value === null) {\n            return \"null\";\n          }\n          className = getClass.call(value);\n          if (className == booleanClass) {\n            // Booleans are represented literally.\n            return \"\" + value;\n          } else if (className == numberClass) {\n            // JSON numbers must be finite. `Infinity` and `NaN` are serialized as\n            // `\"null\"`.\n            return value > -1 / 0 && value < 1 / 0 ? \"\" + value : \"null\";\n          } else if (className == stringClass) {\n            // Strings are double-quoted and escaped.\n            return quote(\"\" + value);\n          }\n          // Recursively serialize objects and arrays.\n          if (typeof value == \"object\") {\n            // Check for cyclic structures. This is a linear search; performance\n            // is inversely proportional to the number of unique nested objects.\n            for (length = stack.length; length--;) {\n              if (stack[length] === value) {\n                // Cyclic structures cannot be serialized by `JSON.stringify`.\n                throw TypeError();\n              }\n            }\n            // Add the object to the stack of traversed objects.\n            stack.push(value);\n            results = [];\n            // Save the current indentation level and indent one additional level.\n            prefix = indentation;\n            indentation += whitespace;\n            if (className == arrayClass) {\n              // Recursively serialize array elements.\n              for (index = 0, length = value.length; index < length; index++) {\n                element = serialize(index, value, callback, properties, whitespace, indentation, stack);\n                results.push(element === undef ? \"null\" : element);\n              }\n              result = results.length ? (whitespace ? \"[\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"]\" : (\"[\" + results.join(\",\") + \"]\")) : \"[]\";\n            } else {\n              // Recursively serialize object members. Members are selected from\n              // either a user-specified list of property names, or the object\n              // itself.\n              forEach(properties || value, function (property) {\n                var element = serialize(property, value, callback, properties, whitespace, indentation, stack);\n                if (element !== undef) {\n                  // According to ES 5.1 section 15.12.3: \"If `gap` {whitespace}\n                  // is not the empty string, let `member` {quote(property) + \":\"}\n                  // be the concatenation of `member` and the `space` character.\"\n                  // The \"`space` character\" refers to the literal space\n                  // character, not the `space` {width} argument provided to\n                  // `JSON.stringify`.\n                  results.push(quote(property) + \":\" + (whitespace ? \" \" : \"\") + element);\n                }\n              });\n              result = results.length ? (whitespace ? \"{\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"}\" : (\"{\" + results.join(\",\") + \"}\")) : \"{}\";\n            }\n            // Remove the object from the traversed object stack.\n            stack.pop();\n            return result;\n          }\n        };\n\n        // Public: `JSON.stringify`. See ES 5.1 section 15.12.3.\n        exports.stringify = function (source, filter, width) {\n          var whitespace, callback, properties, className;\n          if (objectTypes[typeof filter] && filter) {\n            if ((className = getClass.call(filter)) == functionClass) {\n              callback = filter;\n            } else if (className == arrayClass) {\n              // Convert the property names array into a makeshift set.\n              properties = {};\n              for (var index = 0, length = filter.length, value; index < length; value = filter[index++], ((className = getClass.call(value)), className == stringClass || className == numberClass) && (properties[value] = 1));\n            }\n          }\n          if (width) {\n            if ((className = getClass.call(width)) == numberClass) {\n              // Convert the `width` to an integer and create a string containing\n              // `width` number of space characters.\n              if ((width -= width % 1) > 0) {\n                for (whitespace = \"\", width > 10 && (width = 10); whitespace.length < width; whitespace += \" \");\n              }\n            } else if (className == stringClass) {\n              whitespace = width.length <= 10 ? width : width.slice(0, 10);\n            }\n          }\n          // Opera <= 7.54u2 discards the values associated with empty string keys\n          // (`\"\"`) only if they are used directly within an object member list\n          // (e.g., `!(\"\" in { \"\": 1})`).\n          return serialize(\"\", (value = {}, value[\"\"] = source, value), callback, properties, whitespace, \"\", []);\n        };\n      }\n\n      // Public: Parses a JSON source string.\n      if (!has(\"json-parse\")) {\n        var fromCharCode = String.fromCharCode;\n\n        // Internal: A map of escaped control characters and their unescaped\n        // equivalents.\n        var Unescapes = {\n          92: \"\\\\\",\n          34: '\"',\n          47: \"/\",\n          98: \"\\b\",\n          116: \"\\t\",\n          110: \"\\n\",\n          102: \"\\f\",\n          114: \"\\r\"\n        };\n\n        // Internal: Stores the parser state.\n        var Index, Source;\n\n        // Internal: Resets the parser state and throws a `SyntaxError`.\n        var abort = function () {\n          Index = Source = null;\n          throw SyntaxError();\n        };\n\n        // Internal: Returns the next token, or `\"$\"` if the parser has reached\n        // the end of the source string. A token may be a string, number, `null`\n        // literal, or Boolean literal.\n        var lex = function () {\n          var source = Source, length = source.length, value, begin, position, isSigned, charCode;\n          while (Index < length) {\n            charCode = source.charCodeAt(Index);\n            switch (charCode) {\n              case 9: case 10: case 13: case 32:\n                // Skip whitespace tokens, including tabs, carriage returns, line\n                // feeds, and space characters.\n                Index++;\n                break;\n              case 123: case 125: case 91: case 93: case 58: case 44:\n                // Parse a punctuator token (`{`, `}`, `[`, `]`, `:`, or `,`) at\n                // the current position.\n                value = charIndexBuggy ? source.charAt(Index) : source[Index];\n                Index++;\n                return value;\n              case 34:\n                // `\"` delimits a JSON string; advance to the next character and\n                // begin parsing the string. String tokens are prefixed with the\n                // sentinel `@` character to distinguish them from punctuators and\n                // end-of-string tokens.\n                for (value = \"@\", Index++; Index < length;) {\n                  charCode = source.charCodeAt(Index);\n                  if (charCode < 32) {\n                    // Unescaped ASCII control characters (those with a code unit\n                    // less than the space character) are not permitted.\n                    abort();\n                  } else if (charCode == 92) {\n                    // A reverse solidus (`\\`) marks the beginning of an escaped\n                    // control character (including `\"`, `\\`, and `/`) or Unicode\n                    // escape sequence.\n                    charCode = source.charCodeAt(++Index);\n                    switch (charCode) {\n                      case 92: case 34: case 47: case 98: case 116: case 110: case 102: case 114:\n                        // Revive escaped control characters.\n                        value += Unescapes[charCode];\n                        Index++;\n                        break;\n                      case 117:\n                        // `\\u` marks the beginning of a Unicode escape sequence.\n                        // Advance to the first character and validate the\n                        // four-digit code point.\n                        begin = ++Index;\n                        for (position = Index + 4; Index < position; Index++) {\n                          charCode = source.charCodeAt(Index);\n                          // A valid sequence comprises four hexdigits (case-\n                          // insensitive) that form a single hexadecimal value.\n                          if (!(charCode >= 48 && charCode <= 57 || charCode >= 97 && charCode <= 102 || charCode >= 65 && charCode <= 70)) {\n                            // Invalid Unicode escape sequence.\n                            abort();\n                          }\n                        }\n                        // Revive the escaped character.\n                        value += fromCharCode(\"0x\" + source.slice(begin, Index));\n                        break;\n                      default:\n                        // Invalid escape sequence.\n                        abort();\n                    }\n                  } else {\n                    if (charCode == 34) {\n                      // An unescaped double-quote character marks the end of the\n                      // string.\n                      break;\n                    }\n                    charCode = source.charCodeAt(Index);\n                    begin = Index;\n                    // Optimize for the common case where a string is valid.\n                    while (charCode >= 32 && charCode != 92 && charCode != 34) {\n                      charCode = source.charCodeAt(++Index);\n                    }\n                    // Append the string as-is.\n                    value += source.slice(begin, Index);\n                  }\n                }\n                if (source.charCodeAt(Index) == 34) {\n                  // Advance to the next character and return the revived string.\n                  Index++;\n                  return value;\n                }\n                // Unterminated string.\n                abort();\n              default:\n                // Parse numbers and literals.\n                begin = Index;\n                // Advance past the negative sign, if one is specified.\n                if (charCode == 45) {\n                  isSigned = true;\n                  charCode = source.charCodeAt(++Index);\n                }\n                // Parse an integer or floating-point value.\n                if (charCode >= 48 && charCode <= 57) {\n                  // Leading zeroes are interpreted as octal literals.\n                  if (charCode == 48 && ((charCode = source.charCodeAt(Index + 1)), charCode >= 48 && charCode <= 57)) {\n                    // Illegal octal literal.\n                    abort();\n                  }\n                  isSigned = false;\n                  // Parse the integer component.\n                  for (; Index < length && ((charCode = source.charCodeAt(Index)), charCode >= 48 && charCode <= 57); Index++);\n                  // Floats cannot contain a leading decimal point; however, this\n                  // case is already accounted for by the parser.\n                  if (source.charCodeAt(Index) == 46) {\n                    position = ++Index;\n                    // Parse the decimal component.\n                    for (; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);\n                    if (position == Index) {\n                      // Illegal trailing decimal.\n                      abort();\n                    }\n                    Index = position;\n                  }\n                  // Parse exponents. The `e` denoting the exponent is\n                  // case-insensitive.\n                  charCode = source.charCodeAt(Index);\n                  if (charCode == 101 || charCode == 69) {\n                    charCode = source.charCodeAt(++Index);\n                    // Skip past the sign following the exponent, if one is\n                    // specified.\n                    if (charCode == 43 || charCode == 45) {\n                      Index++;\n                    }\n                    // Parse the exponential component.\n                    for (position = Index; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);\n                    if (position == Index) {\n                      // Illegal empty exponent.\n                      abort();\n                    }\n                    Index = position;\n                  }\n                  // Coerce the parsed value to a JavaScript number.\n                  return +source.slice(begin, Index);\n                }\n                // A negative sign may only precede numbers.\n                if (isSigned) {\n                  abort();\n                }\n                // `true`, `false`, and `null` literals.\n                if (source.slice(Index, Index + 4) == \"true\") {\n                  Index += 4;\n                  return true;\n                } else if (source.slice(Index, Index + 5) == \"false\") {\n                  Index += 5;\n                  return false;\n                } else if (source.slice(Index, Index + 4) == \"null\") {\n                  Index += 4;\n                  return null;\n                }\n                // Unrecognized token.\n                abort();\n            }\n          }\n          // Return the sentinel `$` character if the parser has reached the end\n          // of the source string.\n          return \"$\";\n        };\n\n        // Internal: Parses a JSON `value` token.\n        var get = function (value) {\n          var results, hasMembers;\n          if (value == \"$\") {\n            // Unexpected end of input.\n            abort();\n          }\n          if (typeof value == \"string\") {\n            if ((charIndexBuggy ? value.charAt(0) : value[0]) == \"@\") {\n              // Remove the sentinel `@` character.\n              return value.slice(1);\n            }\n            // Parse object and array literals.\n            if (value == \"[\") {\n              // Parses a JSON array, returning a new JavaScript array.\n              results = [];\n              for (;; hasMembers || (hasMembers = true)) {\n                value = lex();\n                // A closing square bracket marks the end of the array literal.\n                if (value == \"]\") {\n                  break;\n                }\n                // If the array literal contains elements, the current token\n                // should be a comma separating the previous element from the\n                // next.\n                if (hasMembers) {\n                  if (value == \",\") {\n                    value = lex();\n                    if (value == \"]\") {\n                      // Unexpected trailing `,` in array literal.\n                      abort();\n                    }\n                  } else {\n                    // A `,` must separate each array element.\n                    abort();\n                  }\n                }\n                // Elisions and leading commas are not permitted.\n                if (value == \",\") {\n                  abort();\n                }\n                results.push(get(value));\n              }\n              return results;\n            } else if (value == \"{\") {\n              // Parses a JSON object, returning a new JavaScript object.\n              results = {};\n              for (;; hasMembers || (hasMembers = true)) {\n                value = lex();\n                // A closing curly brace marks the end of the object literal.\n                if (value == \"}\") {\n                  break;\n                }\n                // If the object literal contains members, the current token\n                // should be a comma separator.\n                if (hasMembers) {\n                  if (value == \",\") {\n                    value = lex();\n                    if (value == \"}\") {\n                      // Unexpected trailing `,` in object literal.\n                      abort();\n                    }\n                  } else {\n                    // A `,` must separate each object member.\n                    abort();\n                  }\n                }\n                // Leading commas are not permitted, object property names must be\n                // double-quoted strings, and a `:` must separate each property\n                // name and value.\n                if (value == \",\" || typeof value != \"string\" || (charIndexBuggy ? value.charAt(0) : value[0]) != \"@\" || lex() != \":\") {\n                  abort();\n                }\n                results[value.slice(1)] = get(lex());\n              }\n              return results;\n            }\n            // Unexpected token encountered.\n            abort();\n          }\n          return value;\n        };\n\n        // Internal: Updates a traversed object member.\n        var update = function (source, property, callback) {\n          var element = walk(source, property, callback);\n          if (element === undef) {\n            delete source[property];\n          } else {\n            source[property] = element;\n          }\n        };\n\n        // Internal: Recursively traverses a parsed JSON object, invoking the\n        // `callback` function for each value. This is an implementation of the\n        // `Walk(holder, name)` operation defined in ES 5.1 section 15.12.2.\n        var walk = function (source, property, callback) {\n          var value = source[property], length;\n          if (typeof value == \"object\" && value) {\n            // `forEach` can't be used to traverse an array in Opera <= 8.54\n            // because its `Object#hasOwnProperty` implementation returns `false`\n            // for array indices (e.g., `![1, 2, 3].hasOwnProperty(\"0\")`).\n            if (getClass.call(value) == arrayClass) {\n              for (length = value.length; length--;) {\n                update(value, length, callback);\n              }\n            } else {\n              forEach(value, function (property) {\n                update(value, property, callback);\n              });\n            }\n          }\n          return callback.call(source, property, value);\n        };\n\n        // Public: `JSON.parse`. See ES 5.1 section 15.12.2.\n        exports.parse = function (source, callback) {\n          var result, value;\n          Index = 0;\n          Source = \"\" + source;\n          result = get(lex());\n          // If a JSON string contains multiple tokens, it is invalid.\n          if (lex() != \"$\") {\n            abort();\n          }\n          // Reset the parser state.\n          Index = Source = null;\n          return callback && getClass.call(callback) == functionClass ? walk((value = {}, value[\"\"] = result, value), \"\", callback) : result;\n        };\n      }\n    }\n\n    exports[\"runInContext\"] = runInContext;\n    return exports;\n  }\n\n  if (freeExports && !isLoader) {\n    // Export for CommonJS environments.\n    runInContext(root, freeExports);\n  } else {\n    // Export for web browsers and JavaScript engines.\n    var nativeJSON = root.JSON,\n        previousJSON = root[\"JSON3\"],\n        isRestored = false;\n\n    var JSON3 = runInContext(root, (root[\"JSON3\"] = {\n      // Public: Restores the original value of the global `JSON` object and\n      // returns a reference to the `JSON3` object.\n      \"noConflict\": function () {\n        if (!isRestored) {\n          isRestored = true;\n          root.JSON = nativeJSON;\n          root[\"JSON3\"] = previousJSON;\n          nativeJSON = previousJSON = null;\n        }\n        return JSON3;\n      }\n    }));\n\n    root.JSON = {\n      \"parse\": JSON3.parse,\n      \"stringify\": JSON3.stringify\n    };\n  }\n\n  // Export for asynchronous module loaders.\n  if (isLoader) {\n    define(function () {\n      return JSON3;\n    });\n  }\n}).call(this);\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],57:[function(require,module,exports){\n/**\n * Helpers.\n */\n\nvar s = 1000\nvar m = s * 60\nvar h = m * 60\nvar d = h * 24\nvar y = d * 365.25\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} options\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {}\n  var type = typeof val\n  if (type === 'string' && val.length > 0) {\n    return parse(val)\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ?\n\t\t\tfmtLong(val) :\n\t\t\tfmtShort(val)\n  }\n  throw new Error('val is not a non-empty string or a valid number. val=' + JSON.stringify(val))\n}\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str)\n  if (str.length > 10000) {\n    return\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str)\n  if (!match) {\n    return\n  }\n  var n = parseFloat(match[1])\n  var type = (match[2] || 'ms').toLowerCase()\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n\n    default:\n      return undefined\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd'\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h'\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm'\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's'\n  }\n  return ms + 'ms'\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms'\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's'\n}\n\n},{}],58:[function(require,module,exports){\n(function (global){\n/**\r\n * JSON parse.\r\n *\r\n * @see Based on jQuery#parseJSON (MIT) and JSON2\r\n * @api private\r\n */\r\n\r\nvar rvalidchars = /^[\\],:{}\\s]*$/;\r\nvar rvalidescape = /\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g;\r\nvar rvalidtokens = /\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\r\nvar rvalidbraces = /(?:^|:|,)(?:\\s*\\[)+/g;\r\nvar rtrimLeft = /^\\s+/;\r\nvar rtrimRight = /\\s+$/;\r\n\r\nmodule.exports = function parsejson(data) {\r\n  if ('string' != typeof data || !data) {\r\n    return null;\r\n  }\r\n\r\n  data = data.replace(rtrimLeft, '').replace(rtrimRight, '');\r\n\r\n  // Attempt to parse using the native JSON parser first\r\n  if (global.JSON && JSON.parse) {\r\n    return JSON.parse(data);\r\n  }\r\n\r\n  if (rvalidchars.test(data.replace(rvalidescape, '@')\r\n      .replace(rvalidtokens, ']')\r\n      .replace(rvalidbraces, ''))) {\r\n    return (new Function('return ' + data))();\r\n  }\r\n};\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],59:[function(require,module,exports){\n/**\r\n * Compiles a querystring\r\n * Returns string representation of the object\r\n *\r\n * @param {Object}\r\n * @api private\r\n */\r\n\r\nexports.encode = function (obj) {\r\n  var str = '';\r\n\r\n  for (var i in obj) {\r\n    if (obj.hasOwnProperty(i)) {\r\n      if (str.length) str += '&';\r\n      str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\r\n    }\r\n  }\r\n\r\n  return str;\r\n};\r\n\r\n/**\r\n * Parses a simple querystring into an object\r\n *\r\n * @param {String} qs\r\n * @api private\r\n */\r\n\r\nexports.decode = function(qs){\r\n  var qry = {};\r\n  var pairs = qs.split('&');\r\n  for (var i = 0, l = pairs.length; i < l; i++) {\r\n    var pair = pairs[i].split('=');\r\n    qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\r\n  }\r\n  return qry;\r\n};\r\n\n},{}],60:[function(require,module,exports){\n/**\r\n * Parses an URI\r\n *\r\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\r\n * @api private\r\n */\r\n\r\nvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\r\n\r\nvar parts = [\r\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\r\n];\r\n\r\nmodule.exports = function parseuri(str) {\r\n    var src = str,\r\n        b = str.indexOf('['),\r\n        e = str.indexOf(']');\r\n\r\n    if (b != -1 && e != -1) {\r\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\r\n    }\r\n\r\n    var m = re.exec(str || ''),\r\n        uri = {},\r\n        i = 14;\r\n\r\n    while (i--) {\r\n        uri[parts[i]] = m[i] || '';\r\n    }\r\n\r\n    if (b != -1 && e != -1) {\r\n        uri.source = src;\r\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\r\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\r\n        uri.ipv6uri = true;\r\n    }\r\n\r\n    return uri;\r\n};\r\n\n},{}],61:[function(require,module,exports){\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],62:[function(require,module,exports){\n'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nmodule.exports = {\n    'default': 'RFC3986',\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return value;\n        }\n    },\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\n},{}],63:[function(require,module,exports){\n'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n\n},{\"./formats\":62,\"./parse\":64,\"./stringify\":65}],64:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    arrayLimit: 20,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    parameterLimit: 1000,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var parts = str.split(options.delimiter, options.parameterLimit === Infinity ? undefined : options.parameterLimit);\n\n    for (var i = 0; i < parts.length; ++i) {\n        var part = parts[i];\n        var pos = part.indexOf(']=') === -1 ? part.indexOf('=') : part.indexOf(']=') + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part);\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos));\n            val = options.decoder(part.slice(pos + 1));\n        }\n        if (has.call(obj, key)) {\n            obj[key] = [].concat(obj[key]).concat(val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function parseObjectRecursive(chain, val, options) {\n    if (!chain.length) {\n        return val;\n    }\n\n    var root = chain.shift();\n\n    var obj;\n    if (root === '[]') {\n        obj = [];\n        obj = obj.concat(parseObject(chain, val, options));\n    } else {\n        obj = options.plainObjects ? Object.create(null) : {};\n        var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n        var index = parseInt(cleanRoot, 10);\n        if (\n            !isNaN(index) &&\n            root !== cleanRoot &&\n            String(index) === cleanRoot &&\n            index >= 0 &&\n            (options.parseArrays && index <= options.arrayLimit)\n        ) {\n            obj = [];\n            obj[index] = parseObject(chain, val, options);\n        } else {\n            obj[cleanRoot] = parseObject(chain, val, options);\n        }\n    }\n\n    return obj;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var parent = /^([^[]*)/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = parent.exec(key);\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (segment[1]) {\n        // If we aren't using plain objects, optionally prefix keys\n        // that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, segment[1])) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(segment[1]);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while ((segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options);\n};\n\nmodule.exports = function (str, opts) {\n    var options = opts || {};\n\n    if (options.decoder !== null && options.decoder !== undefined && typeof options.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    options.delimiter = typeof options.delimiter === 'string' || utils.isRegExp(options.delimiter) ? options.delimiter : defaults.delimiter;\n    options.depth = typeof options.depth === 'number' ? options.depth : defaults.depth;\n    options.arrayLimit = typeof options.arrayLimit === 'number' ? options.arrayLimit : defaults.arrayLimit;\n    options.parseArrays = options.parseArrays !== false;\n    options.decoder = typeof options.decoder === 'function' ? options.decoder : defaults.decoder;\n    options.allowDots = typeof options.allowDots === 'boolean' ? options.allowDots : defaults.allowDots;\n    options.plainObjects = typeof options.plainObjects === 'boolean' ? options.plainObjects : defaults.plainObjects;\n    options.allowPrototypes = typeof options.allowPrototypes === 'boolean' ? options.allowPrototypes : defaults.allowPrototypes;\n    options.parameterLimit = typeof options.parameterLimit === 'number' ? options.parameterLimit : defaults.parameterLimit;\n    options.strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options);\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    return utils.compact(obj);\n};\n\n},{\"./utils\":66}],65:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./utils');\nvar formats = require('./formats');\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) { // eslint-disable-line func-name-matching\n        return prefix + '[]';\n    },\n    indices: function indices(prefix, key) { // eslint-disable-line func-name-matching\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) { // eslint-disable-line func-name-matching\n        return prefix;\n    }\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaults = {\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    serializeDate: function serializeDate(date) { // eslint-disable-line func-name-matching\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar stringify = function stringify( // eslint-disable-line func-name-matching\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    formatter\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (obj === null) {\n        if (strictNullHandling) {\n            return encoder ? encoder(prefix) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean' || utils.isBuffer(obj)) {\n        if (encoder) {\n            return [formatter(encoder(prefix)) + '=' + formatter(encoder(obj))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (Array.isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        if (Array.isArray(obj)) {\n            values = values.concat(stringify(\n                obj[key],\n                generateArrayPrefix(prefix, key),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter\n            ));\n        } else {\n            values = values.concat(stringify(\n                obj[key],\n                prefix + (allowDots ? '.' + key : '[' + key + ']'),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter\n            ));\n        }\n    }\n\n    return values;\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = opts || {};\n\n    if (options.encoder !== null && options.encoder !== undefined && typeof options.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var delimiter = typeof options.delimiter === 'undefined' ? defaults.delimiter : options.delimiter;\n    var strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n    var skipNulls = typeof options.skipNulls === 'boolean' ? options.skipNulls : defaults.skipNulls;\n    var encode = typeof options.encode === 'boolean' ? options.encode : defaults.encode;\n    var encoder = encode ? (typeof options.encoder === 'function' ? options.encoder : defaults.encoder) : null;\n    var sort = typeof options.sort === 'function' ? options.sort : null;\n    var allowDots = typeof options.allowDots === 'undefined' ? false : options.allowDots;\n    var serializeDate = typeof options.serializeDate === 'function' ? options.serializeDate : defaults.serializeDate;\n    if (typeof options.format === 'undefined') {\n        options.format = formats.default;\n    } else if (!Object.prototype.hasOwnProperty.call(formats.formatters, options.format)) {\n        throw new TypeError('Unknown format option provided.');\n    }\n    var formatter = formats.formatters[options.format];\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (Array.isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (options.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = options.arrayFormat;\n    } else if ('indices' in options) {\n        arrayFormat = options.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (sort) {\n        objKeys.sort(sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        keys = keys.concat(stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encoder,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            formatter\n        ));\n    }\n\n    return keys.join(delimiter);\n};\n\n},{\"./formats\":62,\"./utils\":66}],66:[function(require,module,exports){\n'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nexports.arrayToObject = function (source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nexports.merge = function (target, source, options) {\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (Array.isArray(target)) {\n            target.push(source);\n        } else if (typeof target === 'object') {\n            target[source] = true;\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (Array.isArray(target) && !Array.isArray(source)) {\n        mergeTarget = exports.arrayToObject(target, options);\n    }\n\n    if (Array.isArray(target) && Array.isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                if (target[i] && typeof target[i] === 'object') {\n                    target[i] = exports.merge(target[i], item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (Object.prototype.hasOwnProperty.call(acc, key)) {\n            acc[key] = exports.merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nexports.decode = function (str) {\n    try {\n        return decodeURIComponent(str.replace(/\\+/g, ' '));\n    } catch (e) {\n        return str;\n    }\n};\n\nexports.encode = function (str) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = typeof str === 'string' ? str : String(str);\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D || // -\n            c === 0x2E || // .\n            c === 0x5F || // _\n            c === 0x7E || // ~\n            (c >= 0x30 && c <= 0x39) || // 0-9\n            (c >= 0x41 && c <= 0x5A) || // a-z\n            (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)] + hexTable[0x80 | ((c >> 12) & 0x3F)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]; // eslint-disable-line max-len\n    }\n\n    return out;\n};\n\nexports.compact = function (obj, references) {\n    if (typeof obj !== 'object' || obj === null) {\n        return obj;\n    }\n\n    var refs = references || [];\n    var lookup = refs.indexOf(obj);\n    if (lookup !== -1) {\n        return refs[lookup];\n    }\n\n    refs.push(obj);\n\n    if (Array.isArray(obj)) {\n        var compacted = [];\n\n        for (var i = 0; i < obj.length; ++i) {\n            if (obj[i] && typeof obj[i] === 'object') {\n                compacted.push(exports.compact(obj[i], refs));\n            } else if (typeof obj[i] !== 'undefined') {\n                compacted.push(obj[i]);\n            }\n        }\n\n        return compacted;\n    }\n\n    var keys = Object.keys(obj);\n    keys.forEach(function (key) {\n        obj[key] = exports.compact(obj[key], refs);\n    });\n\n    return obj;\n};\n\nexports.isRegExp = function (obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nexports.isBuffer = function (obj) {\n    if (obj === null || typeof obj === 'undefined') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\n},{}],67:[function(require,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar url = require('./url');\nvar parser = require('socket.io-parser');\nvar Manager = require('./manager');\nvar debug = require('debug')('socket.io-client');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = lookup;\n\n/**\n * Managers cache.\n */\n\nvar cache = exports.managers = {};\n\n/**\n * Looks up an existing `Manager` for multiplexing.\n * If the user summons:\n *\n *   `io('http://localhost/a');`\n *   `io('http://localhost/b');`\n *\n * We reuse the existing instance based on same scheme/port/host,\n * and we initialize sockets for each namespace.\n *\n * @api public\n */\n\nfunction lookup (uri, opts) {\n  if (typeof uri === 'object') {\n    opts = uri;\n    uri = undefined;\n  }\n\n  opts = opts || {};\n\n  var parsed = url(uri);\n  var source = parsed.source;\n  var id = parsed.id;\n  var path = parsed.path;\n  var sameNamespace = cache[id] && path in cache[id].nsps;\n  var newConnection = opts.forceNew || opts['force new connection'] ||\n                      false === opts.multiplex || sameNamespace;\n\n  var io;\n\n  if (newConnection) {\n    debug('ignoring socket cache for %s', source);\n    io = Manager(source, opts);\n  } else {\n    if (!cache[id]) {\n      debug('new io instance for %s', source);\n      cache[id] = Manager(source, opts);\n    }\n    io = cache[id];\n  }\n  if (parsed.query && !opts.query) {\n    opts.query = parsed.query;\n  } else if (opts && 'object' === typeof opts.query) {\n    opts.query = encodeQueryString(opts.query);\n  }\n  return io.socket(parsed.path, opts);\n}\n/**\n *  Helper method to parse query objects to string.\n * @param {object} query\n * @returns {string}\n */\nfunction encodeQueryString (obj) {\n  var str = [];\n  for (var p in obj) {\n    if (obj.hasOwnProperty(p)) {\n      str.push(encodeURIComponent(p) + '=' + encodeURIComponent(obj[p]));\n    }\n  }\n  return str.join('&');\n}\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = parser.protocol;\n\n/**\n * `connect`.\n *\n * @param {String} uri\n * @api public\n */\n\nexports.connect = lookup;\n\n/**\n * Expose constructors for standalone build.\n *\n * @api public\n */\n\nexports.Manager = require('./manager');\nexports.Socket = require('./socket');\n\n},{\"./manager\":68,\"./socket\":70,\"./url\":71,\"debug\":72,\"socket.io-parser\":75}],68:[function(require,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar eio = require('engine.io-client');\nvar Socket = require('./socket');\nvar Emitter = require('component-emitter');\nvar parser = require('socket.io-parser');\nvar on = require('./on');\nvar bind = require('component-bind');\nvar debug = require('debug')('socket.io-client:manager');\nvar indexOf = require('indexof');\nvar Backoff = require('backo2');\n\n/**\n * IE6+ hasOwnProperty\n */\n\nvar has = Object.prototype.hasOwnProperty;\n\n/**\n * Module exports\n */\n\nmodule.exports = Manager;\n\n/**\n * `Manager` constructor.\n *\n * @param {String} engine instance or engine uri/opts\n * @param {Object} options\n * @api public\n */\n\nfunction Manager (uri, opts) {\n  if (!(this instanceof Manager)) return new Manager(uri, opts);\n  if (uri && ('object' === typeof uri)) {\n    opts = uri;\n    uri = undefined;\n  }\n  opts = opts || {};\n\n  opts.path = opts.path || '/socket.io';\n  this.nsps = {};\n  this.subs = [];\n  this.opts = opts;\n  this.reconnection(opts.reconnection !== false);\n  this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n  this.reconnectionDelay(opts.reconnectionDelay || 1000);\n  this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n  this.randomizationFactor(opts.randomizationFactor || 0.5);\n  this.backoff = new Backoff({\n    min: this.reconnectionDelay(),\n    max: this.reconnectionDelayMax(),\n    jitter: this.randomizationFactor()\n  });\n  this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n  this.readyState = 'closed';\n  this.uri = uri;\n  this.connecting = [];\n  this.lastPing = null;\n  this.encoding = false;\n  this.packetBuffer = [];\n  this.encoder = new parser.Encoder();\n  this.decoder = new parser.Decoder();\n  this.autoConnect = opts.autoConnect !== false;\n  if (this.autoConnect) this.open();\n}\n\n/**\n * Propagate given event to sockets and emit on `this`\n *\n * @api private\n */\n\nManager.prototype.emitAll = function () {\n  this.emit.apply(this, arguments);\n  for (var nsp in this.nsps) {\n    if (has.call(this.nsps, nsp)) {\n      this.nsps[nsp].emit.apply(this.nsps[nsp], arguments);\n    }\n  }\n};\n\n/**\n * Update `socket.id` of all sockets\n *\n * @api private\n */\n\nManager.prototype.updateSocketIds = function () {\n  for (var nsp in this.nsps) {\n    if (has.call(this.nsps, nsp)) {\n      this.nsps[nsp].id = this.engine.id;\n    }\n  }\n};\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Manager.prototype);\n\n/**\n * Sets the `reconnection` config.\n *\n * @param {Boolean} true/false if it should automatically reconnect\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnection = function (v) {\n  if (!arguments.length) return this._reconnection;\n  this._reconnection = !!v;\n  return this;\n};\n\n/**\n * Sets the reconnection attempts config.\n *\n * @param {Number} max reconnection attempts before giving up\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionAttempts = function (v) {\n  if (!arguments.length) return this._reconnectionAttempts;\n  this._reconnectionAttempts = v;\n  return this;\n};\n\n/**\n * Sets the delay between reconnections.\n *\n * @param {Number} delay\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionDelay = function (v) {\n  if (!arguments.length) return this._reconnectionDelay;\n  this._reconnectionDelay = v;\n  this.backoff && this.backoff.setMin(v);\n  return this;\n};\n\nManager.prototype.randomizationFactor = function (v) {\n  if (!arguments.length) return this._randomizationFactor;\n  this._randomizationFactor = v;\n  this.backoff && this.backoff.setJitter(v);\n  return this;\n};\n\n/**\n * Sets the maximum delay between reconnections.\n *\n * @param {Number} delay\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionDelayMax = function (v) {\n  if (!arguments.length) return this._reconnectionDelayMax;\n  this._reconnectionDelayMax = v;\n  this.backoff && this.backoff.setMax(v);\n  return this;\n};\n\n/**\n * Sets the connection timeout. `false` to disable\n *\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.timeout = function (v) {\n  if (!arguments.length) return this._timeout;\n  this._timeout = v;\n  return this;\n};\n\n/**\n * Starts trying to reconnect if reconnection is enabled and we have not\n * started reconnecting yet\n *\n * @api private\n */\n\nManager.prototype.maybeReconnectOnOpen = function () {\n  // Only try to reconnect if it's the first time we're connecting\n  if (!this.reconnecting && this._reconnection && this.backoff.attempts === 0) {\n    // keeps reconnection from firing twice for the same reconnection loop\n    this.reconnect();\n  }\n};\n\n/**\n * Sets the current transport `socket`.\n *\n * @param {Function} optional, callback\n * @return {Manager} self\n * @api public\n */\n\nManager.prototype.open =\nManager.prototype.connect = function (fn, opts) {\n  debug('readyState %s', this.readyState);\n  if (~this.readyState.indexOf('open')) return this;\n\n  debug('opening %s', this.uri);\n  this.engine = eio(this.uri, this.opts);\n  var socket = this.engine;\n  var self = this;\n  this.readyState = 'opening';\n  this.skipReconnect = false;\n\n  // emit `open`\n  var openSub = on(socket, 'open', function () {\n    self.onopen();\n    fn && fn();\n  });\n\n  // emit `connect_error`\n  var errorSub = on(socket, 'error', function (data) {\n    debug('connect_error');\n    self.cleanup();\n    self.readyState = 'closed';\n    self.emitAll('connect_error', data);\n    if (fn) {\n      var err = new Error('Connection error');\n      err.data = data;\n      fn(err);\n    } else {\n      // Only do this if there is no fn to handle the error\n      self.maybeReconnectOnOpen();\n    }\n  });\n\n  // emit `connect_timeout`\n  if (false !== this._timeout) {\n    var timeout = this._timeout;\n    debug('connect attempt will timeout after %d', timeout);\n\n    // set timer\n    var timer = setTimeout(function () {\n      debug('connect attempt timed out after %d', timeout);\n      openSub.destroy();\n      socket.close();\n      socket.emit('error', 'timeout');\n      self.emitAll('connect_timeout', timeout);\n    }, timeout);\n\n    this.subs.push({\n      destroy: function () {\n        clearTimeout(timer);\n      }\n    });\n  }\n\n  this.subs.push(openSub);\n  this.subs.push(errorSub);\n\n  return this;\n};\n\n/**\n * Called upon transport open.\n *\n * @api private\n */\n\nManager.prototype.onopen = function () {\n  debug('open');\n\n  // clear old subs\n  this.cleanup();\n\n  // mark as open\n  this.readyState = 'open';\n  this.emit('open');\n\n  // add new subs\n  var socket = this.engine;\n  this.subs.push(on(socket, 'data', bind(this, 'ondata')));\n  this.subs.push(on(socket, 'ping', bind(this, 'onping')));\n  this.subs.push(on(socket, 'pong', bind(this, 'onpong')));\n  this.subs.push(on(socket, 'error', bind(this, 'onerror')));\n  this.subs.push(on(socket, 'close', bind(this, 'onclose')));\n  this.subs.push(on(this.decoder, 'decoded', bind(this, 'ondecoded')));\n};\n\n/**\n * Called upon a ping.\n *\n * @api private\n */\n\nManager.prototype.onping = function () {\n  this.lastPing = new Date();\n  this.emitAll('ping');\n};\n\n/**\n * Called upon a packet.\n *\n * @api private\n */\n\nManager.prototype.onpong = function () {\n  this.emitAll('pong', new Date() - this.lastPing);\n};\n\n/**\n * Called with data.\n *\n * @api private\n */\n\nManager.prototype.ondata = function (data) {\n  this.decoder.add(data);\n};\n\n/**\n * Called when parser fully decodes a packet.\n *\n * @api private\n */\n\nManager.prototype.ondecoded = function (packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon socket error.\n *\n * @api private\n */\n\nManager.prototype.onerror = function (err) {\n  debug('error', err);\n  this.emitAll('error', err);\n};\n\n/**\n * Creates a new socket for the given `nsp`.\n *\n * @return {Socket}\n * @api public\n */\n\nManager.prototype.socket = function (nsp, opts) {\n  var socket = this.nsps[nsp];\n  if (!socket) {\n    socket = new Socket(this, nsp, opts);\n    this.nsps[nsp] = socket;\n    var self = this;\n    socket.on('connecting', onConnecting);\n    socket.on('connect', function () {\n      socket.id = self.engine.id;\n    });\n\n    if (this.autoConnect) {\n      // manually call here since connecting evnet is fired before listening\n      onConnecting();\n    }\n  }\n\n  function onConnecting () {\n    if (!~indexOf(self.connecting, socket)) {\n      self.connecting.push(socket);\n    }\n  }\n\n  return socket;\n};\n\n/**\n * Called upon a socket close.\n *\n * @param {Socket} socket\n */\n\nManager.prototype.destroy = function (socket) {\n  var index = indexOf(this.connecting, socket);\n  if (~index) this.connecting.splice(index, 1);\n  if (this.connecting.length) return;\n\n  this.close();\n};\n\n/**\n * Writes a packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nManager.prototype.packet = function (packet) {\n  debug('writing packet %j', packet);\n  var self = this;\n  if (packet.query && packet.type === 0) packet.nsp += '?' + packet.query;\n\n  if (!self.encoding) {\n    // encode, then write to engine with result\n    self.encoding = true;\n    this.encoder.encode(packet, function (encodedPackets) {\n      for (var i = 0; i < encodedPackets.length; i++) {\n        self.engine.write(encodedPackets[i], packet.options);\n      }\n      self.encoding = false;\n      self.processPacketQueue();\n    });\n  } else { // add packet to the queue\n    self.packetBuffer.push(packet);\n  }\n};\n\n/**\n * If packet buffer is non-empty, begins encoding the\n * next packet in line.\n *\n * @api private\n */\n\nManager.prototype.processPacketQueue = function () {\n  if (this.packetBuffer.length > 0 && !this.encoding) {\n    var pack = this.packetBuffer.shift();\n    this.packet(pack);\n  }\n};\n\n/**\n * Clean up transport subscriptions and packet buffer.\n *\n * @api private\n */\n\nManager.prototype.cleanup = function () {\n  debug('cleanup');\n\n  var subsLength = this.subs.length;\n  for (var i = 0; i < subsLength; i++) {\n    var sub = this.subs.shift();\n    sub.destroy();\n  }\n\n  this.packetBuffer = [];\n  this.encoding = false;\n  this.lastPing = null;\n\n  this.decoder.destroy();\n};\n\n/**\n * Close the current socket.\n *\n * @api private\n */\n\nManager.prototype.close =\nManager.prototype.disconnect = function () {\n  debug('disconnect');\n  this.skipReconnect = true;\n  this.reconnecting = false;\n  if ('opening' === this.readyState) {\n    // `onclose` will not fire because\n    // an open event never happened\n    this.cleanup();\n  }\n  this.backoff.reset();\n  this.readyState = 'closed';\n  if (this.engine) this.engine.close();\n};\n\n/**\n * Called upon engine close.\n *\n * @api private\n */\n\nManager.prototype.onclose = function (reason) {\n  debug('onclose');\n\n  this.cleanup();\n  this.backoff.reset();\n  this.readyState = 'closed';\n  this.emit('close', reason);\n\n  if (this._reconnection && !this.skipReconnect) {\n    this.reconnect();\n  }\n};\n\n/**\n * Attempt a reconnection.\n *\n * @api private\n */\n\nManager.prototype.reconnect = function () {\n  if (this.reconnecting || this.skipReconnect) return this;\n\n  var self = this;\n\n  if (this.backoff.attempts >= this._reconnectionAttempts) {\n    debug('reconnect failed');\n    this.backoff.reset();\n    this.emitAll('reconnect_failed');\n    this.reconnecting = false;\n  } else {\n    var delay = this.backoff.duration();\n    debug('will wait %dms before reconnect attempt', delay);\n\n    this.reconnecting = true;\n    var timer = setTimeout(function () {\n      if (self.skipReconnect) return;\n\n      debug('attempting reconnect');\n      self.emitAll('reconnect_attempt', self.backoff.attempts);\n      self.emitAll('reconnecting', self.backoff.attempts);\n\n      // check again for the case socket closed in above events\n      if (self.skipReconnect) return;\n\n      self.open(function (err) {\n        if (err) {\n          debug('reconnect attempt error');\n          self.reconnecting = false;\n          self.reconnect();\n          self.emitAll('reconnect_error', err.data);\n        } else {\n          debug('reconnect success');\n          self.onreconnect();\n        }\n      });\n    }, delay);\n\n    this.subs.push({\n      destroy: function () {\n        clearTimeout(timer);\n      }\n    });\n  }\n};\n\n/**\n * Called upon successful reconnect.\n *\n * @api private\n */\n\nManager.prototype.onreconnect = function () {\n  var attempt = this.backoff.attempts;\n  this.reconnecting = false;\n  this.backoff.reset();\n  this.updateSocketIds();\n  this.emitAll('reconnect', attempt);\n};\n\n},{\"./on\":69,\"./socket\":70,\"backo2\":27,\"component-bind\":32,\"component-emitter\":33,\"debug\":72,\"engine.io-client\":35,\"indexof\":55,\"socket.io-parser\":75}],69:[function(require,module,exports){\n\n/**\n * Module exports.\n */\n\nmodule.exports = on;\n\n/**\n * Helper for subscriptions.\n *\n * @param {Object|EventEmitter} obj with `Emitter` mixin or `EventEmitter`\n * @param {String} event name\n * @param {Function} callback\n * @api public\n */\n\nfunction on (obj, ev, fn) {\n  obj.on(ev, fn);\n  return {\n    destroy: function () {\n      obj.removeListener(ev, fn);\n    }\n  };\n}\n\n},{}],70:[function(require,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar parser = require('socket.io-parser');\nvar Emitter = require('component-emitter');\nvar toArray = require('to-array');\nvar on = require('./on');\nvar bind = require('component-bind');\nvar debug = require('debug')('socket.io-client:socket');\nvar hasBin = require('has-binary');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = Socket;\n\n/**\n * Internal events (blacklisted).\n * These events can't be emitted by the user.\n *\n * @api private\n */\n\nvar events = {\n  connect: 1,\n  connect_error: 1,\n  connect_timeout: 1,\n  connecting: 1,\n  disconnect: 1,\n  error: 1,\n  reconnect: 1,\n  reconnect_attempt: 1,\n  reconnect_failed: 1,\n  reconnect_error: 1,\n  reconnecting: 1,\n  ping: 1,\n  pong: 1\n};\n\n/**\n * Shortcut to `Emitter#emit`.\n */\n\nvar emit = Emitter.prototype.emit;\n\n/**\n * `Socket` constructor.\n *\n * @api public\n */\n\nfunction Socket (io, nsp, opts) {\n  this.io = io;\n  this.nsp = nsp;\n  this.json = this; // compat\n  this.ids = 0;\n  this.acks = {};\n  this.receiveBuffer = [];\n  this.sendBuffer = [];\n  this.connected = false;\n  this.disconnected = true;\n  if (opts && opts.query) {\n    this.query = opts.query;\n  }\n  if (this.io.autoConnect) this.open();\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Socket.prototype);\n\n/**\n * Subscribe to open, close and packet events\n *\n * @api private\n */\n\nSocket.prototype.subEvents = function () {\n  if (this.subs) return;\n\n  var io = this.io;\n  this.subs = [\n    on(io, 'open', bind(this, 'onopen')),\n    on(io, 'packet', bind(this, 'onpacket')),\n    on(io, 'close', bind(this, 'onclose'))\n  ];\n};\n\n/**\n * \"Opens\" the socket.\n *\n * @api public\n */\n\nSocket.prototype.open =\nSocket.prototype.connect = function () {\n  if (this.connected) return this;\n\n  this.subEvents();\n  this.io.open(); // ensure open\n  if ('open' === this.io.readyState) this.onopen();\n  this.emit('connecting');\n  return this;\n};\n\n/**\n * Sends a `message` event.\n *\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.send = function () {\n  var args = toArray(arguments);\n  args.unshift('message');\n  this.emit.apply(this, args);\n  return this;\n};\n\n/**\n * Override `emit`.\n * If the event is in `events`, it's emitted normally.\n *\n * @param {String} event name\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.emit = function (ev) {\n  if (events.hasOwnProperty(ev)) {\n    emit.apply(this, arguments);\n    return this;\n  }\n\n  var args = toArray(arguments);\n  var parserType = parser.EVENT; // default\n  if (hasBin(args)) { parserType = parser.BINARY_EVENT; } // binary\n  var packet = { type: parserType, data: args };\n\n  packet.options = {};\n  packet.options.compress = !this.flags || false !== this.flags.compress;\n\n  // event ack callback\n  if ('function' === typeof args[args.length - 1]) {\n    debug('emitting packet with ack id %d', this.ids);\n    this.acks[this.ids] = args.pop();\n    packet.id = this.ids++;\n  }\n\n  if (this.connected) {\n    this.packet(packet);\n  } else {\n    this.sendBuffer.push(packet);\n  }\n\n  delete this.flags;\n\n  return this;\n};\n\n/**\n * Sends a packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.packet = function (packet) {\n  packet.nsp = this.nsp;\n  this.io.packet(packet);\n};\n\n/**\n * Called upon engine `open`.\n *\n * @api private\n */\n\nSocket.prototype.onopen = function () {\n  debug('transport is open - connecting');\n\n  // write connect packet if necessary\n  if ('/' !== this.nsp) {\n    if (this.query) {\n      this.packet({type: parser.CONNECT, query: this.query});\n    } else {\n      this.packet({type: parser.CONNECT});\n    }\n  }\n};\n\n/**\n * Called upon engine `close`.\n *\n * @param {String} reason\n * @api private\n */\n\nSocket.prototype.onclose = function (reason) {\n  debug('close (%s)', reason);\n  this.connected = false;\n  this.disconnected = true;\n  delete this.id;\n  this.emit('disconnect', reason);\n};\n\n/**\n * Called with socket packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onpacket = function (packet) {\n  if (packet.nsp !== this.nsp) return;\n\n  switch (packet.type) {\n    case parser.CONNECT:\n      this.onconnect();\n      break;\n\n    case parser.EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.BINARY_EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.ACK:\n      this.onack(packet);\n      break;\n\n    case parser.BINARY_ACK:\n      this.onack(packet);\n      break;\n\n    case parser.DISCONNECT:\n      this.ondisconnect();\n      break;\n\n    case parser.ERROR:\n      this.emit('error', packet.data);\n      break;\n  }\n};\n\n/**\n * Called upon a server event.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onevent = function (packet) {\n  var args = packet.data || [];\n  debug('emitting event %j', args);\n\n  if (null != packet.id) {\n    debug('attaching ack callback to event');\n    args.push(this.ack(packet.id));\n  }\n\n  if (this.connected) {\n    emit.apply(this, args);\n  } else {\n    this.receiveBuffer.push(args);\n  }\n};\n\n/**\n * Produces an ack callback to emit with an event.\n *\n * @api private\n */\n\nSocket.prototype.ack = function (id) {\n  var self = this;\n  var sent = false;\n  return function () {\n    // prevent double callbacks\n    if (sent) return;\n    sent = true;\n    var args = toArray(arguments);\n    debug('sending ack %j', args);\n\n    var type = hasBin(args) ? parser.BINARY_ACK : parser.ACK;\n    self.packet({\n      type: type,\n      id: id,\n      data: args\n    });\n  };\n};\n\n/**\n * Called upon a server acknowlegement.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onack = function (packet) {\n  var ack = this.acks[packet.id];\n  if ('function' === typeof ack) {\n    debug('calling ack %s with %j', packet.id, packet.data);\n    ack.apply(this, packet.data);\n    delete this.acks[packet.id];\n  } else {\n    debug('bad ack %s', packet.id);\n  }\n};\n\n/**\n * Called upon server connect.\n *\n * @api private\n */\n\nSocket.prototype.onconnect = function () {\n  this.connected = true;\n  this.disconnected = false;\n  this.emit('connect');\n  this.emitBuffered();\n};\n\n/**\n * Emit buffered events (received and emitted).\n *\n * @api private\n */\n\nSocket.prototype.emitBuffered = function () {\n  var i;\n  for (i = 0; i < this.receiveBuffer.length; i++) {\n    emit.apply(this, this.receiveBuffer[i]);\n  }\n  this.receiveBuffer = [];\n\n  for (i = 0; i < this.sendBuffer.length; i++) {\n    this.packet(this.sendBuffer[i]);\n  }\n  this.sendBuffer = [];\n};\n\n/**\n * Called upon server disconnect.\n *\n * @api private\n */\n\nSocket.prototype.ondisconnect = function () {\n  debug('server disconnect (%s)', this.nsp);\n  this.destroy();\n  this.onclose('io server disconnect');\n};\n\n/**\n * Called upon forced client/server side disconnections,\n * this method ensures the manager stops tracking us and\n * that reconnections don't get triggered for this.\n *\n * @api private.\n */\n\nSocket.prototype.destroy = function () {\n  if (this.subs) {\n    // clean subscriptions to avoid reconnections\n    for (var i = 0; i < this.subs.length; i++) {\n      this.subs[i].destroy();\n    }\n    this.subs = null;\n  }\n\n  this.io.destroy(this);\n};\n\n/**\n * Disconnects the socket manually.\n *\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.close =\nSocket.prototype.disconnect = function () {\n  if (this.connected) {\n    debug('performing disconnect (%s)', this.nsp);\n    this.packet({ type: parser.DISCONNECT });\n  }\n\n  // remove socket from pool\n  this.destroy();\n\n  if (this.connected) {\n    // fire events\n    this.onclose('io client disconnect');\n  }\n  return this;\n};\n\n/**\n * Sets the compress flag.\n *\n * @param {Boolean} if `true`, compresses the sending data\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.compress = function (compress) {\n  this.flags = this.flags || {};\n  this.flags.compress = compress;\n  return this;\n};\n\n},{\"./on\":69,\"component-bind\":32,\"component-emitter\":33,\"debug\":72,\"has-binary\":51,\"socket.io-parser\":75,\"to-array\":83}],71:[function(require,module,exports){\n(function (global){\n\n/**\n * Module dependencies.\n */\n\nvar parseuri = require('parseuri');\nvar debug = require('debug')('socket.io-client:url');\n\n/**\n * Module exports.\n */\n\nmodule.exports = url;\n\n/**\n * URL parser.\n *\n * @param {String} url\n * @param {Object} An object meant to mimic window.location.\n *                 Defaults to window.location.\n * @api public\n */\n\nfunction url (uri, loc) {\n  var obj = uri;\n\n  // default to window.location\n  loc = loc || global.location;\n  if (null == uri) uri = loc.protocol + '//' + loc.host;\n\n  // relative path support\n  if ('string' === typeof uri) {\n    if ('/' === uri.charAt(0)) {\n      if ('/' === uri.charAt(1)) {\n        uri = loc.protocol + uri;\n      } else {\n        uri = loc.host + uri;\n      }\n    }\n\n    if (!/^(https?|wss?):\\/\\//.test(uri)) {\n      debug('protocol-less url %s', uri);\n      if ('undefined' !== typeof loc) {\n        uri = loc.protocol + '//' + uri;\n      } else {\n        uri = 'https://' + uri;\n      }\n    }\n\n    // parse\n    debug('parse %s', uri);\n    obj = parseuri(uri);\n  }\n\n  // make sure we treat `localhost:80` and `localhost` equally\n  if (!obj.port) {\n    if (/^(http|ws)$/.test(obj.protocol)) {\n      obj.port = '80';\n    } else if (/^(http|ws)s$/.test(obj.protocol)) {\n      obj.port = '443';\n    }\n  }\n\n  obj.path = obj.path || '/';\n\n  var ipv6 = obj.host.indexOf(':') !== -1;\n  var host = ipv6 ? '[' + obj.host + ']' : obj.host;\n\n  // define unique id\n  obj.id = obj.protocol + '://' + host + ':' + obj.port;\n  // define href\n  obj.href = obj.protocol + '://' + host + (loc && loc.port === obj.port ? '' : (':' + obj.port));\n\n  return obj;\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"debug\":72,\"parseuri\":60}],72:[function(require,module,exports){\narguments[4][46][0].apply(exports,arguments)\n},{\"./debug\":73,\"_process\":61,\"dup\":46}],73:[function(require,module,exports){\narguments[4][47][0].apply(exports,arguments)\n},{\"dup\":47,\"ms\":57}],74:[function(require,module,exports){\n(function (global){\n/*global Blob,File*/\n\n/**\n * Module requirements\n */\n\nvar isArray = require('isarray');\nvar isBuf = require('./is-buffer');\n\n/**\n * Replaces every Buffer | ArrayBuffer in packet with a numbered placeholder.\n * Anything with blobs or files should be fed through removeBlobs before coming\n * here.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @api public\n */\n\nexports.deconstructPacket = function(packet){\n  var buffers = [];\n  var packetData = packet.data;\n\n  function _deconstructPacket(data) {\n    if (!data) return data;\n\n    if (isBuf(data)) {\n      var placeholder = { _placeholder: true, num: buffers.length };\n      buffers.push(data);\n      return placeholder;\n    } else if (isArray(data)) {\n      var newData = new Array(data.length);\n      for (var i = 0; i < data.length; i++) {\n        newData[i] = _deconstructPacket(data[i]);\n      }\n      return newData;\n    } else if ('object' == typeof data && !(data instanceof Date)) {\n      var newData = {};\n      for (var key in data) {\n        newData[key] = _deconstructPacket(data[key]);\n      }\n      return newData;\n    }\n    return data;\n  }\n\n  var pack = packet;\n  pack.data = _deconstructPacket(packetData);\n  pack.attachments = buffers.length; // number of binary 'attachments'\n  return {packet: pack, buffers: buffers};\n};\n\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @api public\n */\n\nexports.reconstructPacket = function(packet, buffers) {\n  var curPlaceHolder = 0;\n\n  function _reconstructPacket(data) {\n    if (data && data._placeholder) {\n      var buf = buffers[data.num]; // appropriate buffer (should be natural order anyway)\n      return buf;\n    } else if (isArray(data)) {\n      for (var i = 0; i < data.length; i++) {\n        data[i] = _reconstructPacket(data[i]);\n      }\n      return data;\n    } else if (data && 'object' == typeof data) {\n      for (var key in data) {\n        data[key] = _reconstructPacket(data[key]);\n      }\n      return data;\n    }\n    return data;\n  }\n\n  packet.data = _reconstructPacket(packet.data);\n  packet.attachments = undefined; // no longer useful\n  return packet;\n};\n\n/**\n * Asynchronously removes Blobs or Files from data via\n * FileReader's readAsArrayBuffer method. Used before encoding\n * data as msgpack. Calls callback with the blobless data.\n *\n * @param {Object} data\n * @param {Function} callback\n * @api private\n */\n\nexports.removeBlobs = function(data, callback) {\n  function _removeBlobs(obj, curKey, containingObject) {\n    if (!obj) return obj;\n\n    // convert any blob\n    if ((global.Blob && obj instanceof Blob) ||\n        (global.File && obj instanceof File)) {\n      pendingBlobs++;\n\n      // async filereader\n      var fileReader = new FileReader();\n      fileReader.onload = function() { // this.result == arraybuffer\n        if (containingObject) {\n          containingObject[curKey] = this.result;\n        }\n        else {\n          bloblessData = this.result;\n        }\n\n        // if nothing pending its callback time\n        if(! --pendingBlobs) {\n          callback(bloblessData);\n        }\n      };\n\n      fileReader.readAsArrayBuffer(obj); // blob -> arraybuffer\n    } else if (isArray(obj)) { // handle array\n      for (var i = 0; i < obj.length; i++) {\n        _removeBlobs(obj[i], i, obj);\n      }\n    } else if (obj && 'object' == typeof obj && !isBuf(obj)) { // and object\n      for (var key in obj) {\n        _removeBlobs(obj[key], key, obj);\n      }\n    }\n  }\n\n  var pendingBlobs = 0;\n  var bloblessData = data;\n  _removeBlobs(bloblessData);\n  if (!pendingBlobs) {\n    callback(bloblessData);\n  }\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./is-buffer\":76,\"isarray\":80}],75:[function(require,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar debug = require('debug')('socket.io-parser');\nvar json = require('json3');\nvar Emitter = require('component-emitter');\nvar binary = require('./binary');\nvar isBuf = require('./is-buffer');\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = 4;\n\n/**\n * Packet types.\n *\n * @api public\n */\n\nexports.types = [\n  'CONNECT',\n  'DISCONNECT',\n  'EVENT',\n  'ACK',\n  'ERROR',\n  'BINARY_EVENT',\n  'BINARY_ACK'\n];\n\n/**\n * Packet type `connect`.\n *\n * @api public\n */\n\nexports.CONNECT = 0;\n\n/**\n * Packet type `disconnect`.\n *\n * @api public\n */\n\nexports.DISCONNECT = 1;\n\n/**\n * Packet type `event`.\n *\n * @api public\n */\n\nexports.EVENT = 2;\n\n/**\n * Packet type `ack`.\n *\n * @api public\n */\n\nexports.ACK = 3;\n\n/**\n * Packet type `error`.\n *\n * @api public\n */\n\nexports.ERROR = 4;\n\n/**\n * Packet type 'binary event'\n *\n * @api public\n */\n\nexports.BINARY_EVENT = 5;\n\n/**\n * Packet type `binary ack`. For acks with binary arguments.\n *\n * @api public\n */\n\nexports.BINARY_ACK = 6;\n\n/**\n * Encoder constructor.\n *\n * @api public\n */\n\nexports.Encoder = Encoder;\n\n/**\n * Decoder constructor.\n *\n * @api public\n */\n\nexports.Decoder = Decoder;\n\n/**\n * A socket.io Encoder instance\n *\n * @api public\n */\n\nfunction Encoder() {}\n\n/**\n * Encode a packet as a single string if non-binary, or as a\n * buffer sequence, depending on packet type.\n *\n * @param {Object} obj - packet object\n * @param {Function} callback - function to handle encodings (likely engine.write)\n * @return Calls callback with Array of encodings\n * @api public\n */\n\nEncoder.prototype.encode = function(obj, callback){\n  debug('encoding packet %j', obj);\n\n  if (exports.BINARY_EVENT == obj.type || exports.BINARY_ACK == obj.type) {\n    encodeAsBinary(obj, callback);\n  }\n  else {\n    var encoding = encodeAsString(obj);\n    callback([encoding]);\n  }\n};\n\n/**\n * Encode packet as string.\n *\n * @param {Object} packet\n * @return {String} encoded\n * @api private\n */\n\nfunction encodeAsString(obj) {\n  var str = '';\n  var nsp = false;\n\n  // first is type\n  str += obj.type;\n\n  // attachments if we have them\n  if (exports.BINARY_EVENT == obj.type || exports.BINARY_ACK == obj.type) {\n    str += obj.attachments;\n    str += '-';\n  }\n\n  // if we have a namespace other than `/`\n  // we append it followed by a comma `,`\n  if (obj.nsp && '/' != obj.nsp) {\n    nsp = true;\n    str += obj.nsp;\n  }\n\n  // immediately followed by the id\n  if (null != obj.id) {\n    if (nsp) {\n      str += ',';\n      nsp = false;\n    }\n    str += obj.id;\n  }\n\n  // json data\n  if (null != obj.data) {\n    if (nsp) str += ',';\n    str += json.stringify(obj.data);\n  }\n\n  debug('encoded %j as %s', obj, str);\n  return str;\n}\n\n/**\n * Encode packet as 'buffer sequence' by removing blobs, and\n * deconstructing packet into object with placeholders and\n * a list of buffers.\n *\n * @param {Object} packet\n * @return {Buffer} encoded\n * @api private\n */\n\nfunction encodeAsBinary(obj, callback) {\n\n  function writeEncoding(bloblessData) {\n    var deconstruction = binary.deconstructPacket(bloblessData);\n    var pack = encodeAsString(deconstruction.packet);\n    var buffers = deconstruction.buffers;\n\n    buffers.unshift(pack); // add packet info to beginning of data list\n    callback(buffers); // write all the buffers\n  }\n\n  binary.removeBlobs(obj, writeEncoding);\n}\n\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n * @api public\n */\n\nfunction Decoder() {\n  this.reconstructor = null;\n}\n\n/**\n * Mix in `Emitter` with Decoder.\n */\n\nEmitter(Decoder.prototype);\n\n/**\n * Decodes an ecoded packet string into packet JSON.\n *\n * @param {String} obj - encoded packet\n * @return {Object} packet\n * @api public\n */\n\nDecoder.prototype.add = function(obj) {\n  var packet;\n  if ('string' == typeof obj) {\n    packet = decodeString(obj);\n    if (exports.BINARY_EVENT == packet.type || exports.BINARY_ACK == packet.type) { // binary packet's json\n      this.reconstructor = new BinaryReconstructor(packet);\n\n      // no attachments, labeled binary but no binary data to follow\n      if (this.reconstructor.reconPack.attachments === 0) {\n        this.emit('decoded', packet);\n      }\n    } else { // non-binary full packet\n      this.emit('decoded', packet);\n    }\n  }\n  else if (isBuf(obj) || obj.base64) { // raw binary data\n    if (!this.reconstructor) {\n      throw new Error('got binary data when not reconstructing a packet');\n    } else {\n      packet = this.reconstructor.takeBinaryData(obj);\n      if (packet) { // received final buffer\n        this.reconstructor = null;\n        this.emit('decoded', packet);\n      }\n    }\n  }\n  else {\n    throw new Error('Unknown type: ' + obj);\n  }\n};\n\n/**\n * Decode a packet String (JSON data)\n *\n * @param {String} str\n * @return {Object} packet\n * @api private\n */\n\nfunction decodeString(str) {\n  var p = {};\n  var i = 0;\n\n  // look up type\n  p.type = Number(str.charAt(0));\n  if (null == exports.types[p.type]) return error();\n\n  // look up attachments if type binary\n  if (exports.BINARY_EVENT == p.type || exports.BINARY_ACK == p.type) {\n    var buf = '';\n    while (str.charAt(++i) != '-') {\n      buf += str.charAt(i);\n      if (i == str.length) break;\n    }\n    if (buf != Number(buf) || str.charAt(i) != '-') {\n      throw new Error('Illegal attachments');\n    }\n    p.attachments = Number(buf);\n  }\n\n  // look up namespace (if any)\n  if ('/' == str.charAt(i + 1)) {\n    p.nsp = '';\n    while (++i) {\n      var c = str.charAt(i);\n      if (',' == c) break;\n      p.nsp += c;\n      if (i == str.length) break;\n    }\n  } else {\n    p.nsp = '/';\n  }\n\n  // look up id\n  var next = str.charAt(i + 1);\n  if ('' !== next && Number(next) == next) {\n    p.id = '';\n    while (++i) {\n      var c = str.charAt(i);\n      if (null == c || Number(c) != c) {\n        --i;\n        break;\n      }\n      p.id += str.charAt(i);\n      if (i == str.length) break;\n    }\n    p.id = Number(p.id);\n  }\n\n  // look up json data\n  if (str.charAt(++i)) {\n    p = tryParse(p, str.substr(i));\n  }\n\n  debug('decoded %s as %j', str, p);\n  return p;\n}\n\nfunction tryParse(p, str) {\n  try {\n    p.data = json.parse(str);\n  } catch(e){\n    return error();\n  }\n  return p; \n};\n\n/**\n * Deallocates a parser's resources\n *\n * @api public\n */\n\nDecoder.prototype.destroy = function() {\n  if (this.reconstructor) {\n    this.reconstructor.finishedReconstruction();\n  }\n};\n\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n * @api private\n */\n\nfunction BinaryReconstructor(packet) {\n  this.reconPack = packet;\n  this.buffers = [];\n}\n\n/**\n * Method to be called when binary data received from connection\n * after a BINARY_EVENT packet.\n *\n * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n * @return {null | Object} returns null if more binary data is expected or\n *   a reconstructed packet object if all buffers have been received.\n * @api private\n */\n\nBinaryReconstructor.prototype.takeBinaryData = function(binData) {\n  this.buffers.push(binData);\n  if (this.buffers.length == this.reconPack.attachments) { // done with buffer list\n    var packet = binary.reconstructPacket(this.reconPack, this.buffers);\n    this.finishedReconstruction();\n    return packet;\n  }\n  return null;\n};\n\n/**\n * Cleans up binary packet reconstruction variables.\n *\n * @api private\n */\n\nBinaryReconstructor.prototype.finishedReconstruction = function() {\n  this.reconPack = null;\n  this.buffers = [];\n};\n\nfunction error(data){\n  return {\n    type: exports.ERROR,\n    data: 'parser error'\n  };\n}\n\n},{\"./binary\":74,\"./is-buffer\":76,\"component-emitter\":77,\"debug\":78,\"json3\":56}],76:[function(require,module,exports){\n(function (global){\n\nmodule.exports = isBuf;\n\n/**\n * Returns true if obj is a buffer or an arraybuffer.\n *\n * @api private\n */\n\nfunction isBuf(obj) {\n  return (global.Buffer && global.Buffer.isBuffer(obj)) ||\n         (global.ArrayBuffer && obj instanceof ArrayBuffer);\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],77:[function(require,module,exports){\n\n/**\n * Expose `Emitter`.\n */\n\nmodule.exports = Emitter;\n\n/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n};\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks[event] = this._callbacks[event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  var self = this;\n  this._callbacks = this._callbacks || {};\n\n  function on() {\n    self.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks[event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks[event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n  var args = [].slice.call(arguments, 1)\n    , callbacks = this._callbacks[event];\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks[event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n\n},{}],78:[function(require,module,exports){\n\n/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  return ('WebkitAppearance' in document.documentElement.style) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (window.console && (console.firebug || (console.exception && console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31);\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  return JSON.stringify(v);\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs() {\n  var args = arguments;\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return args;\n\n  var c = 'color: ' + this.color;\n  args = [args[0], c, 'color: inherit'].concat(Array.prototype.slice.call(args, 1));\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n  return args;\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage(){\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n\n},{\"./debug\":79}],79:[function(require,module,exports){\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = debug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lowercased letter, i.e. \"n\".\n */\n\nexports.formatters = {};\n\n/**\n * Previously assigned color.\n */\n\nvar prevColor = 0;\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n *\n * @return {Number}\n * @api private\n */\n\nfunction selectColor() {\n  return exports.colors[prevColor++ % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction debug(namespace) {\n\n  // define the `disabled` version\n  function disabled() {\n  }\n  disabled.enabled = false;\n\n  // define the `enabled` version\n  function enabled() {\n\n    var self = enabled;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // add the `color` if not set\n    if (null == self.useColors) self.useColors = exports.useColors();\n    if (null == self.color && self.useColors) self.color = selectColor();\n\n    var args = Array.prototype.slice.call(arguments);\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %o\n      args = ['%o'].concat(args);\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    if ('function' === typeof exports.formatArgs) {\n      args = exports.formatArgs.apply(self, args);\n    }\n    var logFn = enabled.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n  enabled.enabled = true;\n\n  var fn = exports.enabled(namespace) ? enabled : disabled;\n\n  fn.namespace = namespace;\n\n  return fn;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  var split = (namespaces || '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n\n},{\"ms\":81}],80:[function(require,module,exports){\narguments[4][52][0].apply(exports,arguments)\n},{\"dup\":52}],81:[function(require,module,exports){\n/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} options\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options){\n  options = options || {};\n  if ('string' == typeof val) return parse(val);\n  return options.long\n    ? long(val)\n    : short(val);\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = '' + str;\n  if (str.length > 10000) return;\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);\n  if (!match) return;\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction short(ms) {\n  if (ms >= d) return Math.round(ms / d) + 'd';\n  if (ms >= h) return Math.round(ms / h) + 'h';\n  if (ms >= m) return Math.round(ms / m) + 'm';\n  if (ms >= s) return Math.round(ms / s) + 's';\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction long(ms) {\n  return plural(ms, d, 'day')\n    || plural(ms, h, 'hour')\n    || plural(ms, m, 'minute')\n    || plural(ms, s, 'second')\n    || ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) return;\n  if (ms < n * 1.5) return Math.floor(ms / n) + ' ' + name;\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n\n},{}],82:[function(require,module,exports){\nmodule.exports = throttle;\n\n/**\n * Returns a new function that, when invoked, invokes `func` at most once per `wait` milliseconds.\n *\n * @param {Function} func Function to wrap.\n * @param {Number} wait Number of milliseconds that must elapse between `func` invocations.\n * @return {Function} A new function that wraps the `func` function passed in.\n */\n\nfunction throttle (func, wait) {\n  var ctx, args, rtn, timeoutID; // caching\n  var last = 0;\n\n  return function throttled () {\n    ctx = this;\n    args = arguments;\n    var delta = new Date() - last;\n    if (!timeoutID)\n      if (delta >= wait) call();\n      else timeoutID = setTimeout(call, wait - delta);\n    return rtn;\n  };\n\n  function call () {\n    timeoutID = 0;\n    last = +new Date();\n    rtn = func.apply(ctx, args);\n    ctx = null;\n    args = null;\n  }\n}\n\n},{}],83:[function(require,module,exports){\nmodule.exports = toArray\n\nfunction toArray(list, index) {\n    var array = []\n\n    index = index || 0\n\n    for (var i = index || 0; i < list.length; i++) {\n        array[i - index] = list[i]\n    }\n\n    return array\n}\n\n},{}],84:[function(require,module,exports){\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  return  bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\nmodule.exports = bytesToUuid;\n\n},{}],85:[function(require,module,exports){\n(function (global){\n// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\nvar rng;\n\nvar crypto = global.crypto || global.msCrypto; // for IE 11\nif (crypto && crypto.getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16);\n  rng = function whatwgRNG() {\n    crypto.getRandomValues(rnds8);\n    return rnds8;\n  };\n}\n\nif (!rng) {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var  rnds = new Array(16);\n  rng = function() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n\nmodule.exports = rng;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],86:[function(require,module,exports){\n// Unique ID creation requires a high quality random # generator.  We feature\n// detect to determine the best RNG source, normalizing to a function that\n// returns 128-bits of randomness, since that's what's usually required\nvar rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\n// random #'s we need to init node and clockseq\nvar _seedBytes = rng();\n\n// Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\nvar _nodeId = [\n  _seedBytes[0] | 0x01,\n  _seedBytes[1], _seedBytes[2], _seedBytes[3], _seedBytes[4], _seedBytes[5]\n];\n\n// Per 4.2.2, randomize (14 bit) clockseq\nvar _clockseq = (_seedBytes[6] << 8 | _seedBytes[7]) & 0x3fff;\n\n// Previous uuid creation time\nvar _lastMSecs = 0, _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  var node = options.node || _nodeId;\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n\n},{\"./lib/bytesToUuid\":84,\"./lib/rng\":85}],87:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _toDate = require('./lib/toDate');\n\nvar _toDate2 = _interopRequireDefault(_toDate);\n\nvar _toFloat = require('./lib/toFloat');\n\nvar _toFloat2 = _interopRequireDefault(_toFloat);\n\nvar _toInt = require('./lib/toInt');\n\nvar _toInt2 = _interopRequireDefault(_toInt);\n\nvar _toBoolean = require('./lib/toBoolean');\n\nvar _toBoolean2 = _interopRequireDefault(_toBoolean);\n\nvar _equals = require('./lib/equals');\n\nvar _equals2 = _interopRequireDefault(_equals);\n\nvar _contains = require('./lib/contains');\n\nvar _contains2 = _interopRequireDefault(_contains);\n\nvar _matches = require('./lib/matches');\n\nvar _matches2 = _interopRequireDefault(_matches);\n\nvar _isEmail = require('./lib/isEmail');\n\nvar _isEmail2 = _interopRequireDefault(_isEmail);\n\nvar _isURL = require('./lib/isURL');\n\nvar _isURL2 = _interopRequireDefault(_isURL);\n\nvar _isMACAddress = require('./lib/isMACAddress');\n\nvar _isMACAddress2 = _interopRequireDefault(_isMACAddress);\n\nvar _isIP = require('./lib/isIP');\n\nvar _isIP2 = _interopRequireDefault(_isIP);\n\nvar _isFQDN = require('./lib/isFQDN');\n\nvar _isFQDN2 = _interopRequireDefault(_isFQDN);\n\nvar _isBoolean = require('./lib/isBoolean');\n\nvar _isBoolean2 = _interopRequireDefault(_isBoolean);\n\nvar _isAlpha = require('./lib/isAlpha');\n\nvar _isAlpha2 = _interopRequireDefault(_isAlpha);\n\nvar _isAlphanumeric = require('./lib/isAlphanumeric');\n\nvar _isAlphanumeric2 = _interopRequireDefault(_isAlphanumeric);\n\nvar _isNumeric = require('./lib/isNumeric');\n\nvar _isNumeric2 = _interopRequireDefault(_isNumeric);\n\nvar _isLowercase = require('./lib/isLowercase');\n\nvar _isLowercase2 = _interopRequireDefault(_isLowercase);\n\nvar _isUppercase = require('./lib/isUppercase');\n\nvar _isUppercase2 = _interopRequireDefault(_isUppercase);\n\nvar _isAscii = require('./lib/isAscii');\n\nvar _isAscii2 = _interopRequireDefault(_isAscii);\n\nvar _isFullWidth = require('./lib/isFullWidth');\n\nvar _isFullWidth2 = _interopRequireDefault(_isFullWidth);\n\nvar _isHalfWidth = require('./lib/isHalfWidth');\n\nvar _isHalfWidth2 = _interopRequireDefault(_isHalfWidth);\n\nvar _isVariableWidth = require('./lib/isVariableWidth');\n\nvar _isVariableWidth2 = _interopRequireDefault(_isVariableWidth);\n\nvar _isMultibyte = require('./lib/isMultibyte');\n\nvar _isMultibyte2 = _interopRequireDefault(_isMultibyte);\n\nvar _isSurrogatePair = require('./lib/isSurrogatePair');\n\nvar _isSurrogatePair2 = _interopRequireDefault(_isSurrogatePair);\n\nvar _isInt = require('./lib/isInt');\n\nvar _isInt2 = _interopRequireDefault(_isInt);\n\nvar _isFloat = require('./lib/isFloat');\n\nvar _isFloat2 = _interopRequireDefault(_isFloat);\n\nvar _isDecimal = require('./lib/isDecimal');\n\nvar _isDecimal2 = _interopRequireDefault(_isDecimal);\n\nvar _isHexadecimal = require('./lib/isHexadecimal');\n\nvar _isHexadecimal2 = _interopRequireDefault(_isHexadecimal);\n\nvar _isDivisibleBy = require('./lib/isDivisibleBy');\n\nvar _isDivisibleBy2 = _interopRequireDefault(_isDivisibleBy);\n\nvar _isHexColor = require('./lib/isHexColor');\n\nvar _isHexColor2 = _interopRequireDefault(_isHexColor);\n\nvar _isMD = require('./lib/isMD5');\n\nvar _isMD2 = _interopRequireDefault(_isMD);\n\nvar _isJSON = require('./lib/isJSON');\n\nvar _isJSON2 = _interopRequireDefault(_isJSON);\n\nvar _isEmpty = require('./lib/isEmpty');\n\nvar _isEmpty2 = _interopRequireDefault(_isEmpty);\n\nvar _isLength = require('./lib/isLength');\n\nvar _isLength2 = _interopRequireDefault(_isLength);\n\nvar _isByteLength = require('./lib/isByteLength');\n\nvar _isByteLength2 = _interopRequireDefault(_isByteLength);\n\nvar _isUUID = require('./lib/isUUID');\n\nvar _isUUID2 = _interopRequireDefault(_isUUID);\n\nvar _isMongoId = require('./lib/isMongoId');\n\nvar _isMongoId2 = _interopRequireDefault(_isMongoId);\n\nvar _isAfter = require('./lib/isAfter');\n\nvar _isAfter2 = _interopRequireDefault(_isAfter);\n\nvar _isBefore = require('./lib/isBefore');\n\nvar _isBefore2 = _interopRequireDefault(_isBefore);\n\nvar _isIn = require('./lib/isIn');\n\nvar _isIn2 = _interopRequireDefault(_isIn);\n\nvar _isCreditCard = require('./lib/isCreditCard');\n\nvar _isCreditCard2 = _interopRequireDefault(_isCreditCard);\n\nvar _isISIN = require('./lib/isISIN');\n\nvar _isISIN2 = _interopRequireDefault(_isISIN);\n\nvar _isISBN = require('./lib/isISBN');\n\nvar _isISBN2 = _interopRequireDefault(_isISBN);\n\nvar _isISSN = require('./lib/isISSN');\n\nvar _isISSN2 = _interopRequireDefault(_isISSN);\n\nvar _isMobilePhone = require('./lib/isMobilePhone');\n\nvar _isMobilePhone2 = _interopRequireDefault(_isMobilePhone);\n\nvar _isCurrency = require('./lib/isCurrency');\n\nvar _isCurrency2 = _interopRequireDefault(_isCurrency);\n\nvar _isISO = require('./lib/isISO8601');\n\nvar _isISO2 = _interopRequireDefault(_isISO);\n\nvar _isBase = require('./lib/isBase64');\n\nvar _isBase2 = _interopRequireDefault(_isBase);\n\nvar _isDataURI = require('./lib/isDataURI');\n\nvar _isDataURI2 = _interopRequireDefault(_isDataURI);\n\nvar _ltrim = require('./lib/ltrim');\n\nvar _ltrim2 = _interopRequireDefault(_ltrim);\n\nvar _rtrim = require('./lib/rtrim');\n\nvar _rtrim2 = _interopRequireDefault(_rtrim);\n\nvar _trim = require('./lib/trim');\n\nvar _trim2 = _interopRequireDefault(_trim);\n\nvar _escape = require('./lib/escape');\n\nvar _escape2 = _interopRequireDefault(_escape);\n\nvar _unescape = require('./lib/unescape');\n\nvar _unescape2 = _interopRequireDefault(_unescape);\n\nvar _stripLow = require('./lib/stripLow');\n\nvar _stripLow2 = _interopRequireDefault(_stripLow);\n\nvar _whitelist = require('./lib/whitelist');\n\nvar _whitelist2 = _interopRequireDefault(_whitelist);\n\nvar _blacklist = require('./lib/blacklist');\n\nvar _blacklist2 = _interopRequireDefault(_blacklist);\n\nvar _isWhitelisted = require('./lib/isWhitelisted');\n\nvar _isWhitelisted2 = _interopRequireDefault(_isWhitelisted);\n\nvar _normalizeEmail = require('./lib/normalizeEmail');\n\nvar _normalizeEmail2 = _interopRequireDefault(_normalizeEmail);\n\nvar _toString = require('./lib/util/toString');\n\nvar _toString2 = _interopRequireDefault(_toString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar version = '7.0.0';\n\nvar validator = {\n  version: version,\n  toDate: _toDate2.default,\n  toFloat: _toFloat2.default,\n  toInt: _toInt2.default,\n  toBoolean: _toBoolean2.default,\n  equals: _equals2.default,\n  contains: _contains2.default,\n  matches: _matches2.default,\n  isEmail: _isEmail2.default,\n  isURL: _isURL2.default,\n  isMACAddress: _isMACAddress2.default,\n  isIP: _isIP2.default,\n  isFQDN: _isFQDN2.default,\n  isBoolean: _isBoolean2.default,\n  isAlpha: _isAlpha2.default,\n  isAlphanumeric: _isAlphanumeric2.default,\n  isNumeric: _isNumeric2.default,\n  isLowercase: _isLowercase2.default,\n  isUppercase: _isUppercase2.default,\n  isAscii: _isAscii2.default,\n  isFullWidth: _isFullWidth2.default,\n  isHalfWidth: _isHalfWidth2.default,\n  isVariableWidth: _isVariableWidth2.default,\n  isMultibyte: _isMultibyte2.default,\n  isSurrogatePair: _isSurrogatePair2.default,\n  isInt: _isInt2.default,\n  isFloat: _isFloat2.default,\n  isDecimal: _isDecimal2.default,\n  isHexadecimal: _isHexadecimal2.default,\n  isDivisibleBy: _isDivisibleBy2.default,\n  isHexColor: _isHexColor2.default,\n  isMD5: _isMD2.default,\n  isJSON: _isJSON2.default,\n  isEmpty: _isEmpty2.default,\n  isLength: _isLength2.default,\n  isByteLength: _isByteLength2.default,\n  isUUID: _isUUID2.default,\n  isMongoId: _isMongoId2.default,\n  isAfter: _isAfter2.default,\n  isBefore: _isBefore2.default,\n  isIn: _isIn2.default,\n  isCreditCard: _isCreditCard2.default,\n  isISIN: _isISIN2.default,\n  isISBN: _isISBN2.default,\n  isISSN: _isISSN2.default,\n  isMobilePhone: _isMobilePhone2.default,\n  isCurrency: _isCurrency2.default,\n  isISO8601: _isISO2.default,\n  isBase64: _isBase2.default,\n  isDataURI: _isDataURI2.default,\n  ltrim: _ltrim2.default,\n  rtrim: _rtrim2.default,\n  trim: _trim2.default,\n  escape: _escape2.default,\n  unescape: _unescape2.default,\n  stripLow: _stripLow2.default,\n  whitelist: _whitelist2.default,\n  blacklist: _blacklist2.default,\n  isWhitelisted: _isWhitelisted2.default,\n  normalizeEmail: _normalizeEmail2.default,\n  toString: _toString2.default\n};\n\nexports.default = validator;\nmodule.exports = exports['default'];\n},{\"./lib/blacklist\":89,\"./lib/contains\":90,\"./lib/equals\":91,\"./lib/escape\":92,\"./lib/isAfter\":93,\"./lib/isAlpha\":94,\"./lib/isAlphanumeric\":95,\"./lib/isAscii\":96,\"./lib/isBase64\":97,\"./lib/isBefore\":98,\"./lib/isBoolean\":99,\"./lib/isByteLength\":100,\"./lib/isCreditCard\":101,\"./lib/isCurrency\":102,\"./lib/isDataURI\":103,\"./lib/isDecimal\":104,\"./lib/isDivisibleBy\":105,\"./lib/isEmail\":106,\"./lib/isEmpty\":107,\"./lib/isFQDN\":108,\"./lib/isFloat\":109,\"./lib/isFullWidth\":110,\"./lib/isHalfWidth\":111,\"./lib/isHexColor\":112,\"./lib/isHexadecimal\":113,\"./lib/isIP\":114,\"./lib/isISBN\":115,\"./lib/isISIN\":116,\"./lib/isISO8601\":117,\"./lib/isISSN\":118,\"./lib/isIn\":119,\"./lib/isInt\":120,\"./lib/isJSON\":121,\"./lib/isLength\":122,\"./lib/isLowercase\":123,\"./lib/isMACAddress\":124,\"./lib/isMD5\":125,\"./lib/isMobilePhone\":126,\"./lib/isMongoId\":127,\"./lib/isMultibyte\":128,\"./lib/isNumeric\":129,\"./lib/isSurrogatePair\":130,\"./lib/isURL\":131,\"./lib/isUUID\":132,\"./lib/isUppercase\":133,\"./lib/isVariableWidth\":134,\"./lib/isWhitelisted\":135,\"./lib/ltrim\":136,\"./lib/matches\":137,\"./lib/normalizeEmail\":138,\"./lib/rtrim\":139,\"./lib/stripLow\":140,\"./lib/toBoolean\":141,\"./lib/toDate\":142,\"./lib/toFloat\":143,\"./lib/toInt\":144,\"./lib/trim\":145,\"./lib/unescape\":146,\"./lib/util/toString\":149,\"./lib/whitelist\":150}],88:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar alpha = exports.alpha = {\n  'en-US': /^[A-Z]+$/i,\n  'cs-CZ': /^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,\n  'da-DK': /^[A-ZÆØÅ]+$/i,\n  'de-DE': /^[A-ZÄÖÜß]+$/i,\n  'es-ES': /^[A-ZÁÉÍÑÓÚÜ]+$/i,\n  'fr-FR': /^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,\n  'nl-NL': /^[A-ZÉËÏÓÖÜ]+$/i,\n  'hu-HU': /^[A-ZÁÉÍÓÖŐÚÜŰ]+$/i,\n  'pl-PL': /^[A-ZĄĆĘŚŁŃÓŻŹ]+$/i,\n  'pt-PT': /^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]+$/i,\n  'ru-RU': /^[А-ЯЁ]+$/i,\n  'sr-RS@latin': /^[A-ZČĆŽŠĐ]+$/i,\n  'sr-RS': /^[А-ЯЂЈЉЊЋЏ]+$/i,\n  'tr-TR': /^[A-ZÇĞİıÖŞÜ]+$/i,\n  'uk-UA': /^[А-ЯЄIЇҐ]+$/i,\n  ar: /^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]+$/\n};\n\nvar alphanumeric = exports.alphanumeric = {\n  'en-US': /^[0-9A-Z]+$/i,\n  'cs-CZ': /^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,\n  'da-DK': /^[0-9A-ZÆØÅ]$/i,\n  'de-DE': /^[0-9A-ZÄÖÜß]+$/i,\n  'es-ES': /^[0-9A-ZÁÉÍÑÓÚÜ]+$/i,\n  'fr-FR': /^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,\n  'hu-HU': /^[0-9A-ZÁÉÍÓÖŐÚÜŰ]+$/i,\n  'nl-NL': /^[0-9A-ZÉËÏÓÖÜ]+$/i,\n  'pl-PL': /^[0-9A-ZĄĆĘŚŁŃÓŻŹ]+$/i,\n  'pt-PT': /^[0-9A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]+$/i,\n  'ru-RU': /^[0-9А-ЯЁ]+$/i,\n  'sr-RS@latin': /^[0-9A-ZČĆŽŠĐ]+$/i,\n  'sr-RS': /^[0-9А-ЯЂЈЉЊЋЏ]+$/i,\n  'tr-TR': /^[0-9A-ZÇĞİıÖŞÜ]+$/i,\n  'uk-UA': /^[0-9А-ЯЄIЇҐ]+$/i,\n  ar: /^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]+$/\n};\n\nvar englishLocales = exports.englishLocales = ['AU', 'GB', 'HK', 'IN', 'NZ', 'ZA', 'ZM'];\n\nfor (var locale, i = 0; i < englishLocales.length; i++) {\n  locale = 'en-' + englishLocales[i];\n  alpha[locale] = alpha['en-US'];\n  alphanumeric[locale] = alphanumeric['en-US'];\n}\n\nalpha['pt-BR'] = alpha['pt-PT'];\nalphanumeric['pt-BR'] = alphanumeric['pt-PT'];\n\n// Source: http://www.localeplanet.com/java/\nvar arabicLocales = exports.arabicLocales = ['AE', 'BH', 'DZ', 'EG', 'IQ', 'JO', 'KW', 'LB', 'LY', 'MA', 'QM', 'QA', 'SA', 'SD', 'SY', 'TN', 'YE'];\n\nfor (var _locale, _i = 0; _i < arabicLocales.length; _i++) {\n  _locale = 'ar-' + arabicLocales[_i];\n  alpha[_locale] = alpha.ar;\n  alphanumeric[_locale] = alphanumeric.ar;\n}\n},{}],89:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = blacklist;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction blacklist(str, chars) {\n  (0, _assertString2.default)(str);\n  return str.replace(new RegExp('[' + chars + ']+', 'g'), '');\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],90:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = contains;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _toString = require('./util/toString');\n\nvar _toString2 = _interopRequireDefault(_toString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction contains(str, elem) {\n  (0, _assertString2.default)(str);\n  return str.indexOf((0, _toString2.default)(elem)) >= 0;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147,\"./util/toString\":149}],91:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = equals;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction equals(str, comparison) {\n  (0, _assertString2.default)(str);\n  return str === comparison;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],92:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n      value: true\n});\nexports.default = escape;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction escape(str) {\n      (0, _assertString2.default)(str);\n      return str.replace(/&/g, '&amp;').replace(/\"/g, '&quot;').replace(/'/g, '&#x27;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\\//g, '&#x2F;').replace(/\\\\/g, '&#x5C;').replace(/`/g, '&#96;');\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],93:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isAfter;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _toDate = require('./toDate');\n\nvar _toDate2 = _interopRequireDefault(_toDate);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isAfter(str) {\n  var date = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : String(new Date());\n\n  (0, _assertString2.default)(str);\n  var comparison = (0, _toDate2.default)(date);\n  var original = (0, _toDate2.default)(str);\n  return !!(original && comparison && original > comparison);\n}\nmodule.exports = exports['default'];\n},{\"./toDate\":142,\"./util/assertString\":147}],94:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isAlpha;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _alpha = require('./alpha');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isAlpha(str) {\n  var locale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'en-US';\n\n  (0, _assertString2.default)(str);\n  if (locale in _alpha.alpha) {\n    return _alpha.alpha[locale].test(str);\n  }\n  throw new Error('Invalid locale \\'' + locale + '\\'');\n}\nmodule.exports = exports['default'];\n},{\"./alpha\":88,\"./util/assertString\":147}],95:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isAlphanumeric;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _alpha = require('./alpha');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isAlphanumeric(str) {\n  var locale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'en-US';\n\n  (0, _assertString2.default)(str);\n  if (locale in _alpha.alphanumeric) {\n    return _alpha.alphanumeric[locale].test(str);\n  }\n  throw new Error('Invalid locale \\'' + locale + '\\'');\n}\nmodule.exports = exports['default'];\n},{\"./alpha\":88,\"./util/assertString\":147}],96:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isAscii;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable no-control-regex */\nvar ascii = /^[\\x00-\\x7F]+$/;\n/* eslint-enable no-control-regex */\n\nfunction isAscii(str) {\n  (0, _assertString2.default)(str);\n  return ascii.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],97:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isBase64;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar notBase64 = /[^A-Z0-9+\\/=]/i;\n\nfunction isBase64(str) {\n  (0, _assertString2.default)(str);\n  var len = str.length;\n  if (!len || len % 4 !== 0 || notBase64.test(str)) {\n    return false;\n  }\n  var firstPaddingChar = str.indexOf('=');\n  return firstPaddingChar === -1 || firstPaddingChar === len - 1 || firstPaddingChar === len - 2 && str[len - 1] === '=';\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],98:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isBefore;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _toDate = require('./toDate');\n\nvar _toDate2 = _interopRequireDefault(_toDate);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isBefore(str) {\n  var date = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : String(new Date());\n\n  (0, _assertString2.default)(str);\n  var comparison = (0, _toDate2.default)(date);\n  var original = (0, _toDate2.default)(str);\n  return !!(original && comparison && original < comparison);\n}\nmodule.exports = exports['default'];\n},{\"./toDate\":142,\"./util/assertString\":147}],99:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isBoolean;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isBoolean(str) {\n  (0, _assertString2.default)(str);\n  return ['true', 'false', '1', '0'].indexOf(str) >= 0;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],100:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = isByteLength;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable prefer-rest-params */\nfunction isByteLength(str, options) {\n  (0, _assertString2.default)(str);\n  var min = void 0;\n  var max = void 0;\n  if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object') {\n    min = options.min || 0;\n    max = options.max;\n  } else {\n    // backwards compatibility: isByteLength(str, min [, max])\n    min = arguments[1];\n    max = arguments[2];\n  }\n  var len = encodeURI(str).split(/%..|./).length - 1;\n  return len >= min && (typeof max === 'undefined' || len <= max);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],101:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isCreditCard;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable max-len */\nvar creditCard = /^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\\d{3})\\d{11})|62[0-9]{14}$/;\n/* eslint-enable max-len */\n\nfunction isCreditCard(str) {\n  (0, _assertString2.default)(str);\n  var sanitized = str.replace(/[^0-9]+/g, '');\n  if (!creditCard.test(sanitized)) {\n    return false;\n  }\n  var sum = 0;\n  var digit = void 0;\n  var tmpNum = void 0;\n  var shouldDouble = void 0;\n  for (var i = sanitized.length - 1; i >= 0; i--) {\n    digit = sanitized.substring(i, i + 1);\n    tmpNum = parseInt(digit, 10);\n    if (shouldDouble) {\n      tmpNum *= 2;\n      if (tmpNum >= 10) {\n        sum += tmpNum % 10 + 1;\n      } else {\n        sum += tmpNum;\n      }\n    } else {\n      sum += tmpNum;\n    }\n    shouldDouble = !shouldDouble;\n  }\n  return !!(sum % 10 === 0 ? sanitized : false);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],102:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isCurrency;\n\nvar _merge = require('./util/merge');\n\nvar _merge2 = _interopRequireDefault(_merge);\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction currencyRegex(options) {\n  var symbol = '(\\\\' + options.symbol.replace(/\\./g, '\\\\.') + ')' + (options.require_symbol ? '' : '?'),\n      negative = '-?',\n      whole_dollar_amount_without_sep = '[1-9]\\\\d*',\n      whole_dollar_amount_with_sep = '[1-9]\\\\d{0,2}(\\\\' + options.thousands_separator + '\\\\d{3})*',\n      valid_whole_dollar_amounts = ['0', whole_dollar_amount_without_sep, whole_dollar_amount_with_sep],\n      whole_dollar_amount = '(' + valid_whole_dollar_amounts.join('|') + ')?',\n      decimal_amount = '(\\\\' + options.decimal_separator + '\\\\d{2})?';\n  var pattern = whole_dollar_amount + decimal_amount;\n\n  // default is negative sign before symbol, but there are two other options (besides parens)\n  if (options.allow_negatives && !options.parens_for_negatives) {\n    if (options.negative_sign_after_digits) {\n      pattern += negative;\n    } else if (options.negative_sign_before_digits) {\n      pattern = negative + pattern;\n    }\n  }\n\n  // South African Rand, for example, uses R 123 (space) and R-123 (no space)\n  if (options.allow_negative_sign_placeholder) {\n    pattern = '( (?!\\\\-))?' + pattern;\n  } else if (options.allow_space_after_symbol) {\n    pattern = ' ?' + pattern;\n  } else if (options.allow_space_after_digits) {\n    pattern += '( (?!$))?';\n  }\n\n  if (options.symbol_after_digits) {\n    pattern += symbol;\n  } else {\n    pattern = symbol + pattern;\n  }\n\n  if (options.allow_negatives) {\n    if (options.parens_for_negatives) {\n      pattern = '(\\\\(' + pattern + '\\\\)|' + pattern + ')';\n    } else if (!(options.negative_sign_before_digits || options.negative_sign_after_digits)) {\n      pattern = negative + pattern;\n    }\n  }\n\n  /* eslint-disable prefer-template */\n  return new RegExp('^' +\n  // ensure there's a dollar and/or decimal amount, and that\n  // it doesn't start with a space or a negative sign followed by a space\n  '(?!-? )(?=.*\\\\d)' + pattern + '$');\n  /* eslint-enable prefer-template */\n}\n\nvar default_currency_options = {\n  symbol: '$',\n  require_symbol: false,\n  allow_space_after_symbol: false,\n  symbol_after_digits: false,\n  allow_negatives: true,\n  parens_for_negatives: false,\n  negative_sign_before_digits: false,\n  negative_sign_after_digits: false,\n  allow_negative_sign_placeholder: false,\n  thousands_separator: ',',\n  decimal_separator: '.',\n  allow_space_after_digits: false\n};\n\nfunction isCurrency(str, options) {\n  (0, _assertString2.default)(str);\n  options = (0, _merge2.default)(options, default_currency_options);\n  return currencyRegex(options).test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147,\"./util/merge\":148}],103:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isDataURI;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar dataURI = /^\\s*data:([a-z]+\\/[a-z0-9\\-\\+]+(;[a-z\\-]+=[a-z0-9\\-]+)?)?(;base64)?,[a-z0-9!\\$&',\\(\\)\\*\\+,;=\\-\\._~:@\\/\\?%\\s]*\\s*$/i; // eslint-disable-line max-len\n\nfunction isDataURI(str) {\n  (0, _assertString2.default)(str);\n  return dataURI.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],104:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isDecimal;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar decimal = /^[-+]?([0-9]+|\\.[0-9]+|[0-9]+\\.[0-9]+)$/;\n\nfunction isDecimal(str) {\n  (0, _assertString2.default)(str);\n  return str !== '' && decimal.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],105:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isDivisibleBy;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _toFloat = require('./toFloat');\n\nvar _toFloat2 = _interopRequireDefault(_toFloat);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isDivisibleBy(str, num) {\n  (0, _assertString2.default)(str);\n  return (0, _toFloat2.default)(str) % parseInt(num, 10) === 0;\n}\nmodule.exports = exports['default'];\n},{\"./toFloat\":143,\"./util/assertString\":147}],106:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isEmail;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _merge = require('./util/merge');\n\nvar _merge2 = _interopRequireDefault(_merge);\n\nvar _isByteLength = require('./isByteLength');\n\nvar _isByteLength2 = _interopRequireDefault(_isByteLength);\n\nvar _isFQDN = require('./isFQDN');\n\nvar _isFQDN2 = _interopRequireDefault(_isFQDN);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar default_email_options = {\n  allow_display_name: false,\n  require_display_name: false,\n  allow_utf8_local_part: true,\n  require_tld: true\n};\n\n/* eslint-disable max-len */\n/* eslint-disable no-control-regex */\nvar displayName = /^[a-z\\d!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~\\.\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+[a-z\\d!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~\\.\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF\\s]*<(.+)>$/i;\nvar emailUserPart = /^[a-z\\d!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]+$/i;\nvar quotedEmailUser = /^([\\s\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f\\x21\\x23-\\x5b\\x5d-\\x7e]|(\\\\[\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]))*$/i;\nvar emailUserUtf8Part = /^[a-z\\d!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+$/i;\nvar quotedEmailUserUtf8 = /^([\\s\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f\\x21\\x23-\\x5b\\x5d-\\x7e\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|(\\\\[\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))*$/i;\n/* eslint-enable max-len */\n/* eslint-enable no-control-regex */\n\nfunction isEmail(str, options) {\n  (0, _assertString2.default)(str);\n  options = (0, _merge2.default)(options, default_email_options);\n\n  if (options.require_display_name || options.allow_display_name) {\n    var display_email = str.match(displayName);\n    if (display_email) {\n      str = display_email[1];\n    } else if (options.require_display_name) {\n      return false;\n    }\n  }\n\n  var parts = str.split('@');\n  var domain = parts.pop();\n  var user = parts.join('@');\n\n  var lower_domain = domain.toLowerCase();\n  if (lower_domain === 'gmail.com' || lower_domain === 'googlemail.com') {\n    user = user.replace(/\\./g, '').toLowerCase();\n  }\n\n  if (!(0, _isByteLength2.default)(user, { max: 64 }) || !(0, _isByteLength2.default)(domain, { max: 256 })) {\n    return false;\n  }\n\n  if (!(0, _isFQDN2.default)(domain, { require_tld: options.require_tld })) {\n    return false;\n  }\n\n  if (user[0] === '\"') {\n    user = user.slice(1, user.length - 1);\n    return options.allow_utf8_local_part ? quotedEmailUserUtf8.test(user) : quotedEmailUser.test(user);\n  }\n\n  var pattern = options.allow_utf8_local_part ? emailUserUtf8Part : emailUserPart;\n\n  var user_parts = user.split('.');\n  for (var i = 0; i < user_parts.length; i++) {\n    if (!pattern.test(user_parts[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\nmodule.exports = exports['default'];\n},{\"./isByteLength\":100,\"./isFQDN\":108,\"./util/assertString\":147,\"./util/merge\":148}],107:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isEmpty;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isEmpty(str) {\n  (0, _assertString2.default)(str);\n  return str.length === 0;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],108:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isFDQN;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _merge = require('./util/merge');\n\nvar _merge2 = _interopRequireDefault(_merge);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar default_fqdn_options = {\n  require_tld: true,\n  allow_underscores: false,\n  allow_trailing_dot: false\n};\n\nfunction isFDQN(str, options) {\n  (0, _assertString2.default)(str);\n  options = (0, _merge2.default)(options, default_fqdn_options);\n\n  /* Remove the optional trailing dot before checking validity */\n  if (options.allow_trailing_dot && str[str.length - 1] === '.') {\n    str = str.substring(0, str.length - 1);\n  }\n  var parts = str.split('.');\n  if (options.require_tld) {\n    var tld = parts.pop();\n    if (!parts.length || !/^([a-z\\u00a1-\\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(tld)) {\n      return false;\n    }\n  }\n  for (var part, i = 0; i < parts.length; i++) {\n    part = parts[i];\n    if (options.allow_underscores) {\n      part = part.replace(/_/g, '');\n    }\n    if (!/^[a-z\\u00a1-\\uffff0-9-]+$/i.test(part)) {\n      return false;\n    }\n    if (/[\\uff01-\\uff5e]/.test(part)) {\n      // disallow full-width chars\n      return false;\n    }\n    if (part[0] === '-' || part[part.length - 1] === '-') {\n      return false;\n    }\n  }\n  return true;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147,\"./util/merge\":148}],109:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isFloat;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar float = /^(?:[-+])?(?:[0-9]+)?(?:\\.[0-9]*)?(?:[eE][\\+\\-]?(?:[0-9]+))?$/;\n\nfunction isFloat(str, options) {\n  (0, _assertString2.default)(str);\n  options = options || {};\n  if (str === '' || str === '.') {\n    return false;\n  }\n  return float.test(str) && (!options.hasOwnProperty('min') || str >= options.min) && (!options.hasOwnProperty('max') || str <= options.max) && (!options.hasOwnProperty('lt') || str < options.lt) && (!options.hasOwnProperty('gt') || str > options.gt);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],110:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fullWidth = undefined;\nexports.default = isFullWidth;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar fullWidth = exports.fullWidth = /[^\\u0020-\\u007E\\uFF61-\\uFF9F\\uFFA0-\\uFFDC\\uFFE8-\\uFFEE0-9a-zA-Z]/;\n\nfunction isFullWidth(str) {\n  (0, _assertString2.default)(str);\n  return fullWidth.test(str);\n}\n},{\"./util/assertString\":147}],111:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.halfWidth = undefined;\nexports.default = isHalfWidth;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar halfWidth = exports.halfWidth = /[\\u0020-\\u007E\\uFF61-\\uFF9F\\uFFA0-\\uFFDC\\uFFE8-\\uFFEE0-9a-zA-Z]/;\n\nfunction isHalfWidth(str) {\n  (0, _assertString2.default)(str);\n  return halfWidth.test(str);\n}\n},{\"./util/assertString\":147}],112:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isHexColor;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar hexcolor = /^#?([0-9A-F]{3}|[0-9A-F]{6})$/i;\n\nfunction isHexColor(str) {\n  (0, _assertString2.default)(str);\n  return hexcolor.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],113:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isHexadecimal;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar hexadecimal = /^[0-9A-F]+$/i;\n\nfunction isHexadecimal(str) {\n  (0, _assertString2.default)(str);\n  return hexadecimal.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],114:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isIP;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ipv4Maybe = /^(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})$/;\nvar ipv6Block = /^[0-9A-F]{1,4}$/i;\n\nfunction isIP(str) {\n  var version = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n  (0, _assertString2.default)(str);\n  version = String(version);\n  if (!version) {\n    return isIP(str, 4) || isIP(str, 6);\n  } else if (version === '4') {\n    if (!ipv4Maybe.test(str)) {\n      return false;\n    }\n    var parts = str.split('.').sort(function (a, b) {\n      return a - b;\n    });\n    return parts[3] <= 255;\n  } else if (version === '6') {\n    var blocks = str.split(':');\n    var foundOmissionBlock = false; // marker to indicate ::\n\n    // At least some OS accept the last 32 bits of an IPv6 address\n    // (i.e. 2 of the blocks) in IPv4 notation, and RFC 3493 says\n    // that '::ffff:a.b.c.d' is valid for IPv4-mapped IPv6 addresses,\n    // and '::a.b.c.d' is deprecated, but also valid.\n    var foundIPv4TransitionBlock = isIP(blocks[blocks.length - 1], 4);\n    var expectedNumberOfBlocks = foundIPv4TransitionBlock ? 7 : 8;\n\n    if (blocks.length > expectedNumberOfBlocks) {\n      return false;\n    }\n    // initial or final ::\n    if (str === '::') {\n      return true;\n    } else if (str.substr(0, 2) === '::') {\n      blocks.shift();\n      blocks.shift();\n      foundOmissionBlock = true;\n    } else if (str.substr(str.length - 2) === '::') {\n      blocks.pop();\n      blocks.pop();\n      foundOmissionBlock = true;\n    }\n\n    for (var i = 0; i < blocks.length; ++i) {\n      // test for a :: which can not be at the string start/end\n      // since those cases have been handled above\n      if (blocks[i] === '' && i > 0 && i < blocks.length - 1) {\n        if (foundOmissionBlock) {\n          return false; // multiple :: in address\n        }\n        foundOmissionBlock = true;\n      } else if (foundIPv4TransitionBlock && i === blocks.length - 1) {\n        // it has been checked before that the last\n        // block is a valid IPv4 address\n      } else if (!ipv6Block.test(blocks[i])) {\n        return false;\n      }\n    }\n    if (foundOmissionBlock) {\n      return blocks.length >= 1;\n    }\n    return blocks.length === expectedNumberOfBlocks;\n  }\n  return false;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],115:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isISBN;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar isbn10Maybe = /^(?:[0-9]{9}X|[0-9]{10})$/;\nvar isbn13Maybe = /^(?:[0-9]{13})$/;\nvar factor = [1, 3];\n\nfunction isISBN(str) {\n  var version = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n  (0, _assertString2.default)(str);\n  version = String(version);\n  if (!version) {\n    return isISBN(str, 10) || isISBN(str, 13);\n  }\n  var sanitized = str.replace(/[\\s-]+/g, '');\n  var checksum = 0;\n  var i = void 0;\n  if (version === '10') {\n    if (!isbn10Maybe.test(sanitized)) {\n      return false;\n    }\n    for (i = 0; i < 9; i++) {\n      checksum += (i + 1) * sanitized.charAt(i);\n    }\n    if (sanitized.charAt(9) === 'X') {\n      checksum += 10 * 10;\n    } else {\n      checksum += 10 * sanitized.charAt(9);\n    }\n    if (checksum % 11 === 0) {\n      return !!sanitized;\n    }\n  } else if (version === '13') {\n    if (!isbn13Maybe.test(sanitized)) {\n      return false;\n    }\n    for (i = 0; i < 12; i++) {\n      checksum += factor[i % 2] * sanitized.charAt(i);\n    }\n    if (sanitized.charAt(12) - (10 - checksum % 10) % 10 === 0) {\n      return !!sanitized;\n    }\n  }\n  return false;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],116:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isISIN;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar isin = /^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;\n\nfunction isISIN(str) {\n  (0, _assertString2.default)(str);\n  if (!isin.test(str)) {\n    return false;\n  }\n\n  var checksumStr = str.replace(/[A-Z]/g, function (character) {\n    return parseInt(character, 36);\n  });\n\n  var sum = 0;\n  var digit = void 0;\n  var tmpNum = void 0;\n  var shouldDouble = true;\n  for (var i = checksumStr.length - 2; i >= 0; i--) {\n    digit = checksumStr.substring(i, i + 1);\n    tmpNum = parseInt(digit, 10);\n    if (shouldDouble) {\n      tmpNum *= 2;\n      if (tmpNum >= 10) {\n        sum += tmpNum + 1;\n      } else {\n        sum += tmpNum;\n      }\n    } else {\n      sum += tmpNum;\n    }\n    shouldDouble = !shouldDouble;\n  }\n\n  return parseInt(str.substr(str.length - 1), 10) === (10000 - sum) % 10;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],117:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.iso8601 = undefined;\n\nexports.default = function (str) {\n  (0, _assertString2.default)(str);\n  return iso8601.test(str);\n};\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable max-len */\n// from http://goo.gl/0ejHHW\nvar iso8601 = exports.iso8601 = /^([\\+-]?\\d{4}(?!\\d{2}\\b))((-?)((0[1-9]|1[0-2])(\\3([12]\\d|0[1-9]|3[01]))?|W([0-4]\\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\\d|[12]\\d{2}|3([0-5]\\d|6[1-6])))([T\\s]((([01]\\d|2[0-3])((:?)[0-5]\\d)?|24:?00)([\\.,]\\d+(?!:))?)?(\\17[0-5]\\d([\\.,]\\d+)?)?([zZ]|([\\+-])([01]\\d|2[0-3]):?([0-5]\\d)?)?)?)?$/;\n/* eslint-enable max-len */\n},{\"./util/assertString\":147}],118:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isISSN;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar issn = '^\\\\d{4}-?\\\\d{3}[\\\\dX]$';\n\nfunction isISSN(str) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  (0, _assertString2.default)(str);\n  var testIssn = issn;\n  testIssn = options.require_hyphen ? testIssn.replace('?', '') : testIssn;\n  testIssn = options.case_sensitive ? new RegExp(testIssn) : new RegExp(testIssn, 'i');\n  if (!testIssn.test(str)) {\n    return false;\n  }\n  var issnDigits = str.replace('-', '');\n  var position = 8;\n  var checksum = 0;\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = issnDigits[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var digit = _step.value;\n\n      var digitValue = digit.toUpperCase() === 'X' ? 10 : +digit;\n      checksum += digitValue * position;\n      --position;\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return checksum % 11 === 0;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],119:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = isIn;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _toString = require('./util/toString');\n\nvar _toString2 = _interopRequireDefault(_toString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isIn(str, options) {\n  (0, _assertString2.default)(str);\n  var i = void 0;\n  if (Object.prototype.toString.call(options) === '[object Array]') {\n    var array = [];\n    for (i in options) {\n      if ({}.hasOwnProperty.call(options, i)) {\n        array[i] = (0, _toString2.default)(options[i]);\n      }\n    }\n    return array.indexOf(str) >= 0;\n  } else if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object') {\n    return options.hasOwnProperty(str);\n  } else if (options && typeof options.indexOf === 'function') {\n    return options.indexOf(str) >= 0;\n  }\n  return false;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147,\"./util/toString\":149}],120:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isInt;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar int = /^(?:[-+]?(?:0|[1-9][0-9]*))$/;\nvar intLeadingZeroes = /^[-+]?[0-9]+$/;\n\nfunction isInt(str, options) {\n  (0, _assertString2.default)(str);\n  options = options || {};\n\n  // Get the regex to use for testing, based on whether\n  // leading zeroes are allowed or not.\n  var regex = options.hasOwnProperty('allow_leading_zeroes') && !options.allow_leading_zeroes ? int : intLeadingZeroes;\n\n  // Check min/max/lt/gt\n  var minCheckPassed = !options.hasOwnProperty('min') || str >= options.min;\n  var maxCheckPassed = !options.hasOwnProperty('max') || str <= options.max;\n  var ltCheckPassed = !options.hasOwnProperty('lt') || str < options.lt;\n  var gtCheckPassed = !options.hasOwnProperty('gt') || str > options.gt;\n\n  return regex.test(str) && minCheckPassed && maxCheckPassed && ltCheckPassed && gtCheckPassed;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],121:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = isJSON;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isJSON(str) {\n  (0, _assertString2.default)(str);\n  try {\n    var obj = JSON.parse(str);\n    return !!obj && (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object';\n  } catch (e) {/* ignore */}\n  return false;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],122:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = isLength;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable prefer-rest-params */\nfunction isLength(str, options) {\n  (0, _assertString2.default)(str);\n  var min = void 0;\n  var max = void 0;\n  if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object') {\n    min = options.min || 0;\n    max = options.max;\n  } else {\n    // backwards compatibility: isLength(str, min [, max])\n    min = arguments[1];\n    max = arguments[2];\n  }\n  var surrogatePairs = str.match(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g) || [];\n  var len = str.length - surrogatePairs.length;\n  return len >= min && (typeof max === 'undefined' || len <= max);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],123:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isLowercase;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isLowercase(str) {\n  (0, _assertString2.default)(str);\n  return str === str.toLowerCase();\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],124:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isMACAddress;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar macAddress = /^([0-9a-fA-F][0-9a-fA-F]:){5}([0-9a-fA-F][0-9a-fA-F])$/;\n\nfunction isMACAddress(str) {\n  (0, _assertString2.default)(str);\n  return macAddress.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],125:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isMD5;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar md5 = /^[a-f0-9]{32}$/;\n\nfunction isMD5(str) {\n  (0, _assertString2.default)(str);\n  return md5.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],126:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isMobilePhone;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable max-len */\nvar phones = {\n  'ar-DZ': /^(\\+?213|0)(5|6|7)\\d{8}$/,\n  'ar-SY': /^(!?(\\+?963)|0)?9\\d{8}$/,\n  'ar-SA': /^(!?(\\+?966)|0)?5\\d{8}$/,\n  'en-US': /^(\\+?1)?[2-9]\\d{2}[2-9](?!11)\\d{6}$/,\n  'cs-CZ': /^(\\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,\n  'de-DE': /^(\\+?49[ \\.\\-])?([\\(]{1}[0-9]{1,6}[\\)])?([0-9 \\.\\-\\/]{3,20})((x|ext|extension)[ ]?[0-9]{1,4})?$/,\n  'da-DK': /^(\\+?45)?(\\d{8})$/,\n  'el-GR': /^(\\+?30)?(69\\d{8})$/,\n  'en-AU': /^(\\+?61|0)4\\d{8}$/,\n  'en-GB': /^(\\+?44|0)7\\d{9}$/,\n  'en-HK': /^(\\+?852\\-?)?[569]\\d{3}\\-?\\d{4}$/,\n  'en-IN': /^(\\+?91|0)?[789]\\d{9}$/,\n  'en-NG': /^(\\+?234|0)?[789]\\d{9}$/,\n  'en-NZ': /^(\\+?64|0)2\\d{7,9}$/,\n  'en-ZA': /^(\\+?27|0)\\d{9}$/,\n  'en-ZM': /^(\\+?26)?09[567]\\d{7}$/,\n  'es-ES': /^(\\+?34)?(6\\d{1}|7[1234])\\d{7}$/,\n  'fi-FI': /^(\\+?358|0)\\s?(4(0|1|2|4|5)?|50)\\s?(\\d\\s?){4,8}\\d$/,\n  'fr-FR': /^(\\+?33|0)[67]\\d{8}$/,\n  'he-IL': /^(\\+972|0)([23489]|5[0248]|77)[1-9]\\d{6}/,\n  'hu-HU': /^(\\+?36)(20|30|70)\\d{7}$/,\n  'it-IT': /^(\\+?39)?\\s?3\\d{2} ?\\d{6,7}$/,\n  'ja-JP': /^(\\+?81|0)\\d{1,4}[ \\-]?\\d{1,4}[ \\-]?\\d{4}$/,\n  'ms-MY': /^(\\+?6?01){1}(([145]{1}(\\-|\\s)?\\d{7,8})|([236789]{1}(\\s|\\-)?\\d{7}))$/,\n  'nb-NO': /^(\\+?47)?[49]\\d{7}$/,\n  'nl-BE': /^(\\+?32|0)4?\\d{8}$/,\n  'nn-NO': /^(\\+?47)?[49]\\d{7}$/,\n  'pl-PL': /^(\\+?48)? ?[5-8]\\d ?\\d{3} ?\\d{2} ?\\d{2}$/,\n  'pt-BR': /^(\\+?55|0)\\-?[1-9]{2}\\-?[2-9]{1}\\d{3,4}\\-?\\d{4}$/,\n  'pt-PT': /^(\\+?351)?9[1236]\\d{7}$/,\n  'ro-RO': /^(\\+?4?0)\\s?7\\d{2}(\\/|\\s|\\.|\\-)?\\d{3}(\\s|\\.|\\-)?\\d{3}$/,\n  'en-PK': /^((\\+92)|(0092))-{0,1}\\d{3}-{0,1}\\d{7}$|^\\d{11}$|^\\d{4}-\\d{7}$/,\n  'ru-RU': /^(\\+?7|8)?9\\d{9}$/,\n  'sr-RS': /^(\\+3816|06)[- \\d]{5,9}$/,\n  'tr-TR': /^(\\+?90|0)?5\\d{9}$/,\n  'vi-VN': /^(\\+?84|0)?((1(2([0-9])|6([2-9])|88|99))|(9((?!5)[0-9])))([0-9]{7})$/,\n  'zh-CN': /^(\\+?0?86\\-?)?1[345789]\\d{9}$/,\n  'zh-TW': /^(\\+?886\\-?|0)?9\\d{8}$/\n};\n/* eslint-enable max-len */\n\n// aliases\nphones['en-CA'] = phones['en-US'];\nphones['fr-BE'] = phones['nl-BE'];\nphones['zh-HK'] = phones['en-HK'];\n\nfunction isMobilePhone(str, locale) {\n  (0, _assertString2.default)(str);\n  if (locale in phones) {\n    return phones[locale].test(str);\n  }\n  return false;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],127:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isMongoId;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _isHexadecimal = require('./isHexadecimal');\n\nvar _isHexadecimal2 = _interopRequireDefault(_isHexadecimal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isMongoId(str) {\n  (0, _assertString2.default)(str);\n  return (0, _isHexadecimal2.default)(str) && str.length === 24;\n}\nmodule.exports = exports['default'];\n},{\"./isHexadecimal\":113,\"./util/assertString\":147}],128:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isMultibyte;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable no-control-regex */\nvar multibyte = /[^\\x00-\\x7F]/;\n/* eslint-enable no-control-regex */\n\nfunction isMultibyte(str) {\n  (0, _assertString2.default)(str);\n  return multibyte.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],129:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isNumeric;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar numeric = /^[-+]?[0-9]+$/;\n\nfunction isNumeric(str) {\n  (0, _assertString2.default)(str);\n  return numeric.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],130:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isSurrogatePair;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar surrogatePair = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/;\n\nfunction isSurrogatePair(str) {\n  (0, _assertString2.default)(str);\n  return surrogatePair.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],131:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isURL;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _isFQDN = require('./isFQDN');\n\nvar _isFQDN2 = _interopRequireDefault(_isFQDN);\n\nvar _isIP = require('./isIP');\n\nvar _isIP2 = _interopRequireDefault(_isIP);\n\nvar _merge = require('./util/merge');\n\nvar _merge2 = _interopRequireDefault(_merge);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar default_url_options = {\n  protocols: ['http', 'https', 'ftp'],\n  require_tld: true,\n  require_protocol: false,\n  require_host: true,\n  require_valid_protocol: true,\n  allow_underscores: false,\n  allow_trailing_dot: false,\n  allow_protocol_relative_urls: false\n};\n\nvar wrapped_ipv6 = /^\\[([^\\]]+)\\](?::([0-9]+))?$/;\n\nfunction isRegExp(obj) {\n  return Object.prototype.toString.call(obj) === '[object RegExp]';\n}\n\nfunction checkHost(host, matches) {\n  for (var i = 0; i < matches.length; i++) {\n    var match = matches[i];\n    if (host === match || isRegExp(match) && match.test(host)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction isURL(url, options) {\n  (0, _assertString2.default)(url);\n  if (!url || url.length >= 2083 || /[\\s<>]/.test(url)) {\n    return false;\n  }\n  if (url.indexOf('mailto:') === 0) {\n    return false;\n  }\n  options = (0, _merge2.default)(options, default_url_options);\n  var protocol = void 0,\n      auth = void 0,\n      host = void 0,\n      hostname = void 0,\n      port = void 0,\n      port_str = void 0,\n      split = void 0,\n      ipv6 = void 0;\n\n  split = url.split('#');\n  url = split.shift();\n\n  split = url.split('?');\n  url = split.shift();\n\n  split = url.split('://');\n  if (split.length > 1) {\n    protocol = split.shift();\n    if (options.require_valid_protocol && options.protocols.indexOf(protocol) === -1) {\n      return false;\n    }\n  } else if (options.require_protocol) {\n    return false;\n  } else if (options.allow_protocol_relative_urls && url.substr(0, 2) === '//') {\n    split[0] = url.substr(2);\n  }\n  url = split.join('://');\n\n  split = url.split('/');\n  url = split.shift();\n\n  if (url === '' && !options.require_host) {\n    return true;\n  }\n\n  split = url.split('@');\n  if (split.length > 1) {\n    auth = split.shift();\n    if (auth.indexOf(':') >= 0 && auth.split(':').length > 2) {\n      return false;\n    }\n  }\n  hostname = split.join('@');\n\n  port_str = ipv6 = null;\n  var ipv6_match = hostname.match(wrapped_ipv6);\n  if (ipv6_match) {\n    host = '';\n    ipv6 = ipv6_match[1];\n    port_str = ipv6_match[2] || null;\n  } else {\n    split = hostname.split(':');\n    host = split.shift();\n    if (split.length) {\n      port_str = split.join(':');\n    }\n  }\n\n  if (port_str !== null) {\n    port = parseInt(port_str, 10);\n    if (!/^[0-9]+$/.test(port_str) || port <= 0 || port > 65535) {\n      return false;\n    }\n  }\n\n  if (!(0, _isIP2.default)(host) && !(0, _isFQDN2.default)(host, options) && (!ipv6 || !(0, _isIP2.default)(ipv6, 6)) && host !== 'localhost') {\n    return false;\n  }\n\n  host = host || ipv6;\n\n  if (options.host_whitelist && !checkHost(host, options.host_whitelist)) {\n    return false;\n  }\n  if (options.host_blacklist && checkHost(host, options.host_blacklist)) {\n    return false;\n  }\n\n  return true;\n}\nmodule.exports = exports['default'];\n},{\"./isFQDN\":108,\"./isIP\":114,\"./util/assertString\":147,\"./util/merge\":148}],132:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isUUID;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar uuid = {\n  3: /^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,\n  4: /^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,\n  5: /^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,\n  all: /^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i\n};\n\nfunction isUUID(str) {\n  var version = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'all';\n\n  (0, _assertString2.default)(str);\n  var pattern = uuid[version];\n  return pattern && pattern.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],133:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isUppercase;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isUppercase(str) {\n  (0, _assertString2.default)(str);\n  return str === str.toUpperCase();\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],134:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isVariableWidth;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _isFullWidth = require('./isFullWidth');\n\nvar _isHalfWidth = require('./isHalfWidth');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isVariableWidth(str) {\n  (0, _assertString2.default)(str);\n  return _isFullWidth.fullWidth.test(str) && _isHalfWidth.halfWidth.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./isFullWidth\":110,\"./isHalfWidth\":111,\"./util/assertString\":147}],135:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isWhitelisted;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isWhitelisted(str, chars) {\n  (0, _assertString2.default)(str);\n  for (var i = str.length - 1; i >= 0; i--) {\n    if (chars.indexOf(str[i]) === -1) {\n      return false;\n    }\n  }\n  return true;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],136:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = ltrim;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ltrim(str, chars) {\n  (0, _assertString2.default)(str);\n  var pattern = chars ? new RegExp('^[' + chars + ']+', 'g') : /^\\s+/g;\n  return str.replace(pattern, '');\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],137:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = matches;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction matches(str, pattern, modifiers) {\n  (0, _assertString2.default)(str);\n  if (Object.prototype.toString.call(pattern) !== '[object RegExp]') {\n    pattern = new RegExp(pattern, modifiers);\n  }\n  return pattern.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],138:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = normalizeEmail;\n\nvar _isEmail = require('./isEmail');\n\nvar _isEmail2 = _interopRequireDefault(_isEmail);\n\nvar _merge = require('./util/merge');\n\nvar _merge2 = _interopRequireDefault(_merge);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar default_normalize_email_options = {\n  // The following options apply to all email addresses\n  // Lowercases the local part of the email address.\n  // Please note this may violate RFC 5321 as per http://stackoverflow.com/a/9808332/192024).\n  // The domain is always lowercased, as per RFC 1035\n  all_lowercase: true,\n\n  // The following conversions are specific to GMail\n  // Lowercases the local part of the GMail address (known to be case-insensitive)\n  gmail_lowercase: true,\n  // Removes dots from the local part of the email address, as that's ignored by GMail\n  gmail_remove_dots: true,\n  // Removes the subaddress (e.g. \"+foo\") from the email address\n  gmail_remove_subaddress: true,\n  // Conversts the googlemail.com domain to gmail.com\n  gmail_convert_googlemaildotcom: true,\n\n  // The following conversions are specific to Outlook.com / Windows Live / Hotmail\n  // Lowercases the local part of the Outlook.com address (known to be case-insensitive)\n  outlookdotcom_lowercase: true,\n  // Removes the subaddress (e.g. \"+foo\") from the email address\n  outlookdotcom_remove_subaddress: true,\n\n  // The following conversions are specific to Yahoo\n  // Lowercases the local part of the Yahoo address (known to be case-insensitive)\n  yahoo_lowercase: true,\n  // Removes the subaddress (e.g. \"-foo\") from the email address\n  yahoo_remove_subaddress: true,\n\n  // The following conversions are specific to iCloud\n  // Lowercases the local part of the iCloud address (known to be case-insensitive)\n  icloud_lowercase: true,\n  // Removes the subaddress (e.g. \"+foo\") from the email address\n  icloud_remove_subaddress: true\n};\n\n// List of domains used by iCloud\nvar icloud_domains = ['icloud.com', 'me.com'];\n\n// List of domains used by Outlook.com and its predecessors\n// This list is likely incomplete.\n// Partial reference:\n// https://blogs.office.com/2013/04/17/outlook-com-gets-two-step-verification-sign-in-by-alias-and-new-international-domains/\nvar outlookdotcom_domains = ['hotmail.at', 'hotmail.be', 'hotmail.ca', 'hotmail.cl', 'hotmail.co.il', 'hotmail.co.nz', 'hotmail.co.th', 'hotmail.co.uk', 'hotmail.com', 'hotmail.com.ar', 'hotmail.com.au', 'hotmail.com.br', 'hotmail.com.gr', 'hotmail.com.mx', 'hotmail.com.pe', 'hotmail.com.tr', 'hotmail.com.vn', 'hotmail.cz', 'hotmail.de', 'hotmail.dk', 'hotmail.es', 'hotmail.fr', 'hotmail.hu', 'hotmail.id', 'hotmail.ie', 'hotmail.in', 'hotmail.it', 'hotmail.jp', 'hotmail.kr', 'hotmail.lv', 'hotmail.my', 'hotmail.ph', 'hotmail.pt', 'hotmail.sa', 'hotmail.sg', 'hotmail.sk', 'live.be', 'live.co.uk', 'live.com', 'live.com.ar', 'live.com.mx', 'live.de', 'live.es', 'live.eu', 'live.fr', 'live.it', 'live.nl', 'msn.com', 'outlook.at', 'outlook.be', 'outlook.cl', 'outlook.co.il', 'outlook.co.nz', 'outlook.co.th', 'outlook.com', 'outlook.com.ar', 'outlook.com.au', 'outlook.com.br', 'outlook.com.gr', 'outlook.com.pe', 'outlook.com.tr', 'outlook.com.vn', 'outlook.cz', 'outlook.de', 'outlook.dk', 'outlook.es', 'outlook.fr', 'outlook.hu', 'outlook.id', 'outlook.ie', 'outlook.in', 'outlook.it', 'outlook.jp', 'outlook.kr', 'outlook.lv', 'outlook.my', 'outlook.ph', 'outlook.pt', 'outlook.sa', 'outlook.sg', 'outlook.sk', 'passport.com'];\n\n// List of domains used by Yahoo Mail\n// This list is likely incomplete\nvar yahoo_domains = ['rocketmail.com', 'yahoo.ca', 'yahoo.co.uk', 'yahoo.com', 'yahoo.de', 'yahoo.fr', 'yahoo.in', 'yahoo.it', 'ymail.com'];\n\nfunction normalizeEmail(email, options) {\n  options = (0, _merge2.default)(options, default_normalize_email_options);\n\n  if (!(0, _isEmail2.default)(email)) {\n    return false;\n  }\n\n  var raw_parts = email.split('@');\n  var domain = raw_parts.pop();\n  var user = raw_parts.join('@');\n  var parts = [user, domain];\n\n  // The domain is always lowercased, as it's case-insensitive per RFC 1035\n  parts[1] = parts[1].toLowerCase();\n\n  if (parts[1] === 'gmail.com' || parts[1] === 'googlemail.com') {\n    // Address is GMail\n    if (options.gmail_remove_subaddress) {\n      parts[0] = parts[0].split('+')[0];\n    }\n    if (options.gmail_remove_dots) {\n      parts[0] = parts[0].replace(/\\./g, '');\n    }\n    if (!parts[0].length) {\n      return false;\n    }\n    if (options.all_lowercase || options.gmail_lowercase) {\n      parts[0] = parts[0].toLowerCase();\n    }\n    parts[1] = options.gmail_convert_googlemaildotcom ? 'gmail.com' : parts[1];\n  } else if (~icloud_domains.indexOf(parts[1])) {\n    // Address is iCloud\n    if (options.icloud_remove_subaddress) {\n      parts[0] = parts[0].split('+')[0];\n    }\n    if (!parts[0].length) {\n      return false;\n    }\n    if (options.all_lowercase || options.icloud_lowercase) {\n      parts[0] = parts[0].toLowerCase();\n    }\n  } else if (~outlookdotcom_domains.indexOf(parts[1])) {\n    // Address is Outlook.com\n    if (options.outlookdotcom_remove_subaddress) {\n      parts[0] = parts[0].split('+')[0];\n    }\n    if (!parts[0].length) {\n      return false;\n    }\n    if (options.all_lowercase || options.outlookdotcom_lowercase) {\n      parts[0] = parts[0].toLowerCase();\n    }\n  } else if (~yahoo_domains.indexOf(parts[1])) {\n    // Address is Yahoo\n    if (options.yahoo_remove_subaddress) {\n      var components = parts[0].split('-');\n      parts[0] = components.length > 1 ? components.slice(0, -1).join('-') : components[0];\n    }\n    if (!parts[0].length) {\n      return false;\n    }\n    if (options.all_lowercase || options.yahoo_lowercase) {\n      parts[0] = parts[0].toLowerCase();\n    }\n  } else if (options.all_lowercase) {\n    // Any other address\n    parts[0] = parts[0].toLowerCase();\n  }\n  return parts.join('@');\n}\nmodule.exports = exports['default'];\n},{\"./isEmail\":106,\"./util/merge\":148}],139:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = rtrim;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction rtrim(str, chars) {\n  (0, _assertString2.default)(str);\n  var pattern = chars ? new RegExp('[' + chars + ']') : /\\s/;\n\n  var idx = str.length - 1;\n  while (idx >= 0 && pattern.test(str[idx])) {\n    idx--;\n  }\n\n  return idx < str.length ? str.substr(0, idx + 1) : str;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],140:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = stripLow;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _blacklist = require('./blacklist');\n\nvar _blacklist2 = _interopRequireDefault(_blacklist);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction stripLow(str, keep_new_lines) {\n  (0, _assertString2.default)(str);\n  var chars = keep_new_lines ? '\\\\x00-\\\\x09\\\\x0B\\\\x0C\\\\x0E-\\\\x1F\\\\x7F' : '\\\\x00-\\\\x1F\\\\x7F';\n  return (0, _blacklist2.default)(str, chars);\n}\nmodule.exports = exports['default'];\n},{\"./blacklist\":89,\"./util/assertString\":147}],141:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = toBoolean;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction toBoolean(str, strict) {\n  (0, _assertString2.default)(str);\n  if (strict) {\n    return str === '1' || str === 'true';\n  }\n  return str !== '0' && str !== 'false' && str !== '';\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],142:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = toDate;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction toDate(date) {\n  (0, _assertString2.default)(date);\n  date = Date.parse(date);\n  return !isNaN(date) ? new Date(date) : null;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],143:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = toFloat;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction toFloat(str) {\n  (0, _assertString2.default)(str);\n  return parseFloat(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],144:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = toInt;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction toInt(str, radix) {\n  (0, _assertString2.default)(str);\n  return parseInt(str, radix || 10);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],145:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = trim;\n\nvar _rtrim = require('./rtrim');\n\nvar _rtrim2 = _interopRequireDefault(_rtrim);\n\nvar _ltrim = require('./ltrim');\n\nvar _ltrim2 = _interopRequireDefault(_ltrim);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction trim(str, chars) {\n  return (0, _rtrim2.default)((0, _ltrim2.default)(str, chars), chars);\n}\nmodule.exports = exports['default'];\n},{\"./ltrim\":136,\"./rtrim\":139}],146:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n      value: true\n});\nexports.default = unescape;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction unescape(str) {\n      (0, _assertString2.default)(str);\n      return str.replace(/&amp;/g, '&').replace(/&quot;/g, '\"').replace(/&#x27;/g, \"'\").replace(/&lt;/g, '<').replace(/&gt;/g, '>').replace(/&#x2F;/g, '/').replace(/&#96;/g, '`');\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],147:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = assertString;\nfunction assertString(input) {\n  if (typeof input !== 'string') {\n    throw new TypeError('This library (validator.js) validates strings only');\n  }\n}\nmodule.exports = exports['default'];\n},{}],148:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = merge;\nfunction merge() {\n  var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var defaults = arguments[1];\n\n  for (var key in defaults) {\n    if (typeof obj[key] === 'undefined') {\n      obj[key] = defaults[key];\n    }\n  }\n  return obj;\n}\nmodule.exports = exports['default'];\n},{}],149:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = toString;\nfunction toString(input) {\n  if ((typeof input === 'undefined' ? 'undefined' : _typeof(input)) === 'object' && input !== null) {\n    if (typeof input.toString === 'function') {\n      input = input.toString();\n    } else {\n      input = '[object Object]';\n    }\n  } else if (input === null || typeof input === 'undefined' || isNaN(input) && !input.length) {\n    input = '';\n  }\n  return String(input);\n}\nmodule.exports = exports['default'];\n},{}],150:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = whitelist;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction whitelist(str, chars) {\n  (0, _assertString2.default)(str);\n  return str.replace(new RegExp('[^' + chars + ']+', 'g'), '');\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":147}],151:[function(require,module,exports){\n(function (global){\n/*! https://mths.be/wtf8 v1.0.0 by @mathias */\n;(function(root) {\n\n\t// Detect free variables `exports`\n\tvar freeExports = typeof exports == 'object' && exports;\n\n\t// Detect free variable `module`\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\n\t// Detect free variable `global`, from Node.js or Browserified code,\n\t// and use it as `root`\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar stringFromCharCode = String.fromCharCode;\n\n\t// Taken from https://mths.be/punycode\n\tfunction ucs2decode(string) {\n\t\tvar output = [];\n\t\tvar counter = 0;\n\t\tvar length = string.length;\n\t\tvar value;\n\t\tvar extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t// Taken from https://mths.be/punycode\n\tfunction ucs2encode(array) {\n\t\tvar length = array.length;\n\t\tvar index = -1;\n\t\tvar value;\n\t\tvar output = '';\n\t\twhile (++index < length) {\n\t\t\tvalue = array[index];\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t}\n\t\treturn output;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction createByte(codePoint, shift) {\n\t\treturn stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);\n\t}\n\n\tfunction encodeCodePoint(codePoint) {\n\t\tif ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence\n\t\t\treturn stringFromCharCode(codePoint);\n\t\t}\n\t\tvar symbol = '';\n\t\tif ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);\n\t\t}\n\t\telse if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\telse if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);\n\t\t\tsymbol += createByte(codePoint, 12);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\tsymbol += stringFromCharCode((codePoint & 0x3F) | 0x80);\n\t\treturn symbol;\n\t}\n\n\tfunction wtf8encode(string) {\n\t\tvar codePoints = ucs2decode(string);\n\t\tvar length = codePoints.length;\n\t\tvar index = -1;\n\t\tvar codePoint;\n\t\tvar byteString = '';\n\t\twhile (++index < length) {\n\t\t\tcodePoint = codePoints[index];\n\t\t\tbyteString += encodeCodePoint(codePoint);\n\t\t}\n\t\treturn byteString;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction readContinuationByte() {\n\t\tif (byteIndex >= byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tvar continuationByte = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\tif ((continuationByte & 0xC0) == 0x80) {\n\t\t\treturn continuationByte & 0x3F;\n\t\t}\n\n\t\t// If we end up here, it’s not a continuation byte.\n\t\tthrow Error('Invalid continuation byte');\n\t}\n\n\tfunction decodeSymbol() {\n\t\tvar byte1;\n\t\tvar byte2;\n\t\tvar byte3;\n\t\tvar byte4;\n\t\tvar codePoint;\n\n\t\tif (byteIndex > byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tif (byteIndex == byteCount) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Read the first byte.\n\t\tbyte1 = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\t// 1-byte sequence (no continuation bytes)\n\t\tif ((byte1 & 0x80) == 0) {\n\t\t\treturn byte1;\n\t\t}\n\n\t\t// 2-byte sequence\n\t\tif ((byte1 & 0xE0) == 0xC0) {\n\t\t\tvar byte2 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x1F) << 6) | byte2;\n\t\t\tif (codePoint >= 0x80) {\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 3-byte sequence (may include unpaired surrogates)\n\t\tif ((byte1 & 0xF0) == 0xE0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x0F) << 12) | (byte2 << 6) | byte3;\n\t\t\tif (codePoint >= 0x0800) {\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 4-byte sequence\n\t\tif ((byte1 & 0xF8) == 0xF0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tbyte4 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x0F) << 0x12) | (byte2 << 0x0C) |\n\t\t\t\t(byte3 << 0x06) | byte4;\n\t\t\tif (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {\n\t\t\t\treturn codePoint;\n\t\t\t}\n\t\t}\n\n\t\tthrow Error('Invalid WTF-8 detected');\n\t}\n\n\tvar byteArray;\n\tvar byteCount;\n\tvar byteIndex;\n\tfunction wtf8decode(byteString) {\n\t\tbyteArray = ucs2decode(byteString);\n\t\tbyteCount = byteArray.length;\n\t\tbyteIndex = 0;\n\t\tvar codePoints = [];\n\t\tvar tmp;\n\t\twhile ((tmp = decodeSymbol()) !== false) {\n\t\t\tcodePoints.push(tmp);\n\t\t}\n\t\treturn ucs2encode(codePoints);\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar wtf8 = {\n\t\t'version': '1.0.0',\n\t\t'encode': wtf8encode,\n\t\t'decode': wtf8decode\n\t};\n\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine(function() {\n\t\t\treturn wtf8;\n\t\t});\n\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = wtf8;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tvar object = {};\n\t\t\tvar hasOwnProperty = object.hasOwnProperty;\n\t\t\tfor (var key in wtf8) {\n\t\t\t\thasOwnProperty.call(wtf8, key) && (freeExports[key] = wtf8[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.wtf8 = wtf8;\n\t}\n\n}(this));\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],152:[function(require,module,exports){\n'use strict';\n\nvar alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split('')\n  , length = 64\n  , map = {}\n  , seed = 0\n  , i = 0\n  , prev;\n\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nfunction encode(num) {\n  var encoded = '';\n\n  do {\n    encoded = alphabet[num % length] + encoded;\n    num = Math.floor(num / length);\n  } while (num > 0);\n\n  return encoded;\n}\n\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nfunction decode(str) {\n  var decoded = 0;\n\n  for (i = 0; i < str.length; i++) {\n    decoded = decoded * length + map[str.charAt(i)];\n  }\n\n  return decoded;\n}\n\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nfunction yeast() {\n  var now = encode(+new Date());\n\n  if (now !== prev) return seed = 0, prev = now;\n  return now +'.'+ encode(seed++);\n}\n\n//\n// Map each character to its index.\n//\nfor (; i < length; i++) map[alphabet[i]] = i;\n\n//\n// Expose the `yeast`, `encode` and `decode` functions.\n//\nyeast.encode = encode;\nyeast.decode = decode;\nmodule.exports = yeast;\n\n},{}],153:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.asyncPlayShapeAnimation = asyncPlayShapeAnimation;\nvar sound = require('./sound');\nvar color = require('./color');\n\nvar Promise = require('bluebird');\n\nfunction asyncAnimateScale(item, totalDuration) {\n  return new Promise(function (resolve, reject) {\n    try {\n      if (item.data.animating === true) {\n        resolve('shape already animating, ignoring');\n      }\n      item.data.animating = true;\n      item.stop({\n        goToEnd: true\n      });\n      item.animate([{\n        properties: {\n          scale: 1.15\n        },\n        settings: {\n          duration: totalDuration / 4,\n          easing: \"easeOut\"\n        }\n      }, {\n        properties: {\n          scale: 1\n        },\n        settings: {\n          duration: totalDuration - totalDuration / 4,\n          easing: \"easeIn\",\n          complete: function complete() {\n            item.data.animating = false;\n            resolve('asyncAnimateScale done');\n          }\n        }\n      }]);\n    } catch (e) {\n      item.stop({\n        goToEnd: true\n      });\n      reject(e);\n    }\n  });\n}\n\nfunction asyncAnimateBrightness(item, totalDuration, finalColor) {\n  return new Promise(function (resolve, reject) {\n    try {\n      if (item.data.animating === true) {\n        resolve('shape already animating, ignoring');\n      }\n      item.data.animating = true;\n      item.data.originalFillColor = item.fillColor;\n      item.stop({\n        goToEnd: true\n      });\n      item.animate([{\n        properties: {\n          fillColor: {\n            brightness: \"+0.2\"\n          }\n        },\n        settings: {\n          duration: totalDuration / 4,\n          easing: \"easeInOut\"\n        }\n      }, {\n        properties: {\n          fillColor: {\n            brightness: \"-0.2\"\n          }\n        },\n        settings: {\n          duration: totalDuration - totalDuration / 4,\n          easing: \"easeInOut\",\n          complete: function complete() {\n            item.data.animating = false;\n            item.fillColor = finalColor;\n            resolve('asyncAnimateBrightness done');\n          }\n        }\n      }]);\n    } catch (e) {\n      item.stop({\n        goToEnd: true\n      });\n      reject(e);\n    }\n  });\n}\n\nfunction asyncPlayShapeAnimation(shapeId) {\n  return new Promise(function (resolve, reject, onCancel) {\n    try {\n      var item = paper.project.getItem({\n        match: function match(el) {\n          return el.id === shapeId;\n        }\n      });\n\n      if (!!item) {\n        var group = null;\n        if (item.className === 'Group') {\n          group = item;\n        } else {\n          if (item.parent.className === 'Group') {\n            group = item.parent;\n          }\n        }\n\n        if (group !== null && group.children.length > 0 && Object.keys(group._namedChildren).length > 0) {\n          if (group.data.animating === true) {\n            resolve('group already animating, ignoring');\n          }\n          var totalDuration = sound.measureLength * 0.5;\n          var transparent = color.transparent;\n          var animationPromises = [];\n\n          var namedChildren = group._namedChildren;\n\n          animationPromises.push(asyncAnimateScale(group, totalDuration));\n          // if ('outer' in namedChildren && namedChildren.outer.length > 0) {\n          //   const outer = namedChildren.outer[0];\n          //   outer.fillColor = group.data.originalColor;\n          //   animationPromises.push(asyncAnimateBrightness(outer, totalDuration, group.data.color));\n          // }\n          //\n          // if ('loop' in namedChildren && namedChildren.loop.length > 0) {\n          //   namedChildren.loop.forEach(function(loop) {\n          //     if (!!loop.fillColor && loop.fillColor !== transparent) {\n          //       loop.fillColor = group.data.originalColor;\n          //       animationPromises.push(asyncAnimateBrightness(loop, totalDuration, group.data.color));\n          //     }\n          //   })\n          // }\n          //\n          // if ('pop' in namedChildren && namedChildren.pop.length > 0) {\n          //   namedChildren.pop.forEach(function(pop) {\n          //     animationPromises.push(asyncAnimateBrightness(pop, totalDuration, pop.fillColor));\n          //   })\n          // }\n\n          Promise.all(animationPromises).then(function () {\n            resolve('shape ' + shapeId + ' done animating');\n          }).catch(function (e) {\n            reject(e);\n          });\n        } else {\n          reject('could not find relevant group, cannot animate');\n        }\n      } else {\n        reject('could not find item with id ' + shapeId);\n      }\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n\n// function initAnimateShadowBlur() {\n//   animatePaper.extendPropHooks({\n//     \"shadowBlur\": {\n//       get: function(tween) {\n//         // console.log('get', tween);\n//         if (!tween.item.data._animatePaperVals) {\n//           tween.item.data._animatePaperVals = {};\n//         }\n//         if (typeof tween.item.data._animatePaperVals.shadowBlur === \"undefined\") {\n//             tween.item.data._animatePaperVals.shadowBlur = tween.item.shadowBlur;\n//         }\n//         // console.log('get', tween.item.shadowBlur);\n//         var output = tween.item.data._animatePaperVals.shadowBlur;\n//         return output;\n//       },\n//       set: function(tween) {\n//         // console.log('set', tween);\n//         var curBlur = tween.item.data._animatePaperVals.shadowBlur;\n//         var trueBlur = tween.now - curBlur;\n//         //\n//         tween.item.data._animatePaperVals.shadowBlur = tween.now;\n//         tween.item.shadowBlur += trueBlur;\n//         // console.log('set', tween.item.shadowBlur);\n//       },\n//     }\n//   })\n// }\n\n},{\"./color\":154,\"./sound\":162,\"bluebird\":30}],154:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getPathColorName = getPathColorName;\nexports.getColorName = getColorName;\nexports.getRandomPop = getRandomPop;\nexports.getRandomColor = getRandomColor;\nexports.getIndexedPopColor = getIndexedPopColor;\nexports.getCurrentColor = getCurrentColor;\nexports.getCurrentColorName = getCurrentColorName;\nvar config = require('./config');\n\nvar util = require('./util');\n\nvar transparent = exports.transparent = new Color(0, 0);\n\nfunction getPathColorName(path) {\n  var hexColor = path.parent.data.originalColor;\n  // let hexColor = path.strokeColor.toCSS(true); // This fails when it's a gradient\n  return getColorName(hexColor);\n}\n\nfunction getColorName(color) {\n  if (color) {\n    color = color.toUpperCase(); // make sure\n    if (color in config.palette.colorNames) {\n      return config.palette.colorNames[color];\n    } else {\n      return null;\n    }\n  } else {\n    return null;\n  }\n}\n\nfunction getRandomPop() {\n  return util.randomPick(config.palette.pops);\n}\n\nfunction getRandomColor() {\n  return util.randomPick(config.palette.colors);\n}\n\nfunction getIndexedPopColor(index) {\n  var pops = config.palette.pops;\n  return pops[index % pops.length];\n}\n\nfunction getCurrentColor() {\n  return $('.palette-color.palette-selected').data('color');\n}\n\nfunction getCurrentColorName() {\n  return getColorName(getCurrentColor());\n}\n\n},{\"./config\":155,\"./util\":167}],155:[function(require,module,exports){\n'use strict';\n\nexports.runAnimations = false;\nexports.pop = true;\nexports.canvasId = 'drawCanvas';\nexports.maxShapes = 20;\nexports.postKey = 'mellon';\nexports.minWidth = 1200;\nexports.minHeight = 600;\n\nexports.palette = {\n  colors: [\"#20171C\", \"#1E2A43\", \"#28377D\", \"#352747\", \"#CA2E26\", \"#9A2A1F\", \"#DA6C26\", \"#453121\", \"#916A47\", \"#DAAD27\", \"#7F7D31\", \"#2B5E2E\"],\n  colorNames: {\n    \"#20171C\": \"black\",\n    \"#1E2A43\": \"blue\",\n    \"#28377D\": \"blue\",\n    \"#352747\": \"blue\",\n    \"#CA2E26\": \"red\",\n    \"#9A2A1F\": \"red\",\n    \"#DA6C26\": \"orange\",\n    \"#453121\": \"brown\",\n    \"#916A47\": \"brown\",\n    \"#DAAD27\": \"orange\",\n    \"#7F7D31\": \"green\",\n    \"#2B5E2E\": \"green\"\n  },\n  gradients: {\n    '#20171C': ['#20171C', '#000000'],\n    '#1E2A43': ['#1E2A43', '#263166'],\n    '#28377D': ['#28377D', '#1E4695'],\n    '#352747': ['#352747', '#45005B'],\n    '#CA2E26': ['#CA2E26', '#9B352F'],\n    '#9A2A1F': ['#9A2A1F', '#CD3621'],\n    '#DA6C26': ['#DA6C26', '#BD4820'],\n    '#453121': ['#453121', '#281806'],\n    '#916A47': ['#916A47', '#623A22'],\n    '#DAAD27': ['#DAAD27', '#AF871D'],\n    '#7F7D31': ['#7F7D31', '#555827'],\n    '#2B5E2E': ['#2B5E2E', '#16451D']\n  },\n  pops: [\"#00ADEF\", \"#F285A5\", \"#7DC57F\", \"#F6EB16\", \"#F4EAE0\"],\n  colorSize: 20,\n  selectedColorSize: 30\n};\n\nexports.contextualTuts = [{\n  type: \"fill\",\n  copy: \"<strong>Double-tap</strong> a filled shape to <strong>unfill</strong> it. Repeat to <strong>FILL</strong> an unfilled shape.\"\n}, {\n  type: \"pinch\",\n  copy: \"<strong>Pinch</strong> shapes with <strong>two fingers</strong> to <strong>resize</strong> and <strong>move</strong> them.\"\n}];\n\n},{}],156:[function(require,module,exports){\n\"use strict\";\n\n(function (root, factory) {\n\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof module !== \"undefined\" && module.exports) {\n    module.exports = factory();\n  } else {\n    root.ShapeDetector = factory();\n  }\n})(undefined, function () {\n\n  var _nbSamplePoints;\n  var _squareSize = 250;\n  var _phi = 0.5 * (-1.0 + Math.sqrt(5.0));\n  var _angleRange = deg2Rad(45.0);\n  var _anglePrecision = deg2Rad(2.0);\n  var _halfDiagonal = Math.sqrt(_squareSize * _squareSize + _squareSize * _squareSize) * 0.5;\n  var _origin = {\n    x: 0,\n    y: 0\n  };\n\n  function deg2Rad(d) {\n\n    return d * Math.PI / 180.0;\n  };\n\n  function getDistance(a, b) {\n\n    var dx = b.x - a.x;\n    var dy = b.y - a.y;\n\n    return Math.sqrt(dx * dx + dy * dy);\n  };\n\n  function Stroke(points, name) {\n\n    this.points = points;\n    this.name = name;\n    this.processStroke();\n  };\n\n  Stroke.prototype.processStroke = function () {\n\n    this.points = this.resample();\n    this.setCentroid();\n    this.points = this.rotateBy(-this.indicativeAngle());\n    this.points = this.scaleToSquare();\n    this.setCentroid();\n    this.points = this.translateToOrigin();\n\n    return this;\n  };\n\n  Stroke.prototype.resample = function () {\n\n    var localDistance, q;\n    var interval = this.strokeLength() / (_nbSamplePoints - 1);\n    var distance = 0.0;\n    var newPoints = [this.points[0]];\n\n    for (var i = 1; i < this.points.length; i++) {\n      localDistance = getDistance(this.points[i - 1], this.points[i]);\n\n      if (distance + localDistance >= interval) {\n        q = {\n          x: this.points[i - 1].x + (interval - distance) / localDistance * (this.points[i].x - this.points[i - 1].x),\n          y: this.points[i - 1].y + (interval - distance) / localDistance * (this.points[i].y - this.points[i - 1].y)\n        };\n\n        newPoints.push(q);\n        this.points.splice(i, 0, q);\n        distance = 0.0;\n      } else {\n        distance += localDistance;\n      }\n    }\n\n    if (newPoints.length === _nbSamplePoints - 1) {\n      newPoints.push(this.points[this.points.length - 1]);\n    }\n\n    return newPoints;\n  };\n\n  Stroke.prototype.rotateBy = function (angle) {\n\n    var point;\n    var cos = Math.cos(angle);\n    var sin = Math.sin(angle);\n    var newPoints = [];\n\n    for (var i = 0; i < this.points.length; i++) {\n      point = this.points[i];\n\n      newPoints.push({\n        x: (point.x - this.c.x) * cos - (point.y - this.c.y) * sin + this.c.x,\n        y: (point.x - this.c.x) * sin + (point.y - this.c.y) * cos + this.c.y\n      });\n    }\n\n    return newPoints;\n  };\n\n  Stroke.prototype.scaleToSquare = function () {\n\n    var point;\n    var newPoints = [];\n    var box = {\n      minX: +Infinity,\n      maxX: -Infinity,\n      minY: +Infinity,\n      maxY: -Infinity\n    };\n\n    for (var i = 0; i < this.points.length; i++) {\n      point = this.points[i];\n\n      box.minX = Math.min(box.minX, point.x);\n      box.minY = Math.min(box.minY, point.y);\n      box.maxX = Math.max(box.maxX, point.x);\n      box.maxY = Math.max(box.maxY, point.y);\n    }\n\n    box.width = box.maxX - box.minX;\n    box.height = box.maxY - box.minY;\n\n    for (i = 0; i < this.points.length; i++) {\n      point = this.points[i];\n\n      newPoints.push({\n        x: point.x * (_squareSize / box.width),\n        y: point.y * (_squareSize / box.height)\n      });\n    }\n\n    return newPoints;\n  };\n\n  Stroke.prototype.translateToOrigin = function (points) {\n\n    var point;\n    var newPoints = [];\n\n    for (var i = 0; i < this.points.length; i++) {\n      point = this.points[i];\n\n      newPoints.push({\n        x: point.x + _origin.x - this.c.x,\n        y: point.y + _origin.y - this.c.y\n      });\n    }\n\n    return newPoints;\n  };\n\n  Stroke.prototype.setCentroid = function () {\n\n    var point;\n    this.c = {\n      x: 0.0,\n      y: 0.0\n    };\n\n    for (var i = 0; i < this.points.length; i++) {\n      point = this.points[i];\n\n      this.c.x += point.x;\n      this.c.y += point.y;\n    }\n\n    this.c.x /= this.points.length;\n    this.c.y /= this.points.length;\n\n    return this;\n  };\n\n  Stroke.prototype.indicativeAngle = function () {\n\n    return Math.atan2(this.c.y - this.points[0].y, this.c.x - this.points[0].x);\n  };\n\n  Stroke.prototype.strokeLength = function () {\n\n    var d = 0.0;\n\n    for (var i = 1; i < this.points.length; i++) {\n      d += getDistance(this.points[i - 1], this.points[i]);\n    }\n\n    return d;\n  };\n\n  Stroke.prototype.distanceAtBestAngle = function (pattern) {\n\n    var a = -_angleRange;\n    var b = _angleRange;\n    var x1 = _phi * a + (1.0 - _phi) * b;\n    var f1 = this.distanceAtAngle(pattern, x1);\n    var x2 = (1.0 - _phi) * a + _phi * b;\n    var f2 = this.distanceAtAngle(pattern, x2);\n\n    while (Math.abs(b - a) > _anglePrecision) {\n\n      if (f1 < f2) {\n        b = x2;\n        x2 = x1;\n        f2 = f1;\n        x1 = _phi * a + (1.0 - _phi) * b;\n        f1 = this.distanceAtAngle(pattern, x1);\n      } else {\n        a = x1;\n        x1 = x2;\n        f1 = f2;\n        x2 = (1.0 - _phi) * a + _phi * b;\n        f2 = this.distanceAtAngle(pattern, x2);\n      }\n    }\n\n    return Math.min(f1, f2);\n  };\n\n  Stroke.prototype.distanceAtAngle = function (pattern, angle) {\n\n    var strokePoints = this.rotateBy(angle);\n    var patternPoints = pattern.points;\n    var d = 0.0;\n\n    for (var i = 0; i < strokePoints.length; i++) {\n      d += getDistance(strokePoints[i], patternPoints[i]);\n    }\n\n    return d / strokePoints.length;\n  };\n\n  function ShapeDetector(patterns, options) {\n\n    options = options || {};\n    this.threshold = options.threshold || 0;\n    _nbSamplePoints = options.nbSamplePoints || 64;\n\n    this.patterns = [];\n\n    for (var i = 0; i < patterns.length; i++) {\n      this.learn(patterns[i].name, patterns[i].points);\n    }\n  }\n\n  ShapeDetector.defaultShapes = [{\n    points: [{ x: 127, y: 141 }, { x: 124, y: 140 }, { x: 120, y: 139 }, { x: 118, y: 139 }, { x: 116, y: 139 }, { x: 111, y: 140 }, { x: 109, y: 141 }, { x: 104, y: 144 }, { x: 100, y: 147 }, { x: 96, y: 152 }, { x: 93, y: 157 }, { x: 90, y: 163 }, { x: 87, y: 169 }, { x: 85, y: 175 }, { x: 83, y: 181 }, { x: 82, y: 190 }, { x: 82, y: 195 }, { x: 83, y: 200 }, { x: 84, y: 205 }, { x: 88, y: 213 }, { x: 91, y: 216 }, { x: 96, y: 219 }, { x: 103, y: 222 }, { x: 108, y: 224 }, { x: 111, y: 224 }, { x: 120, y: 224 }, { x: 133, y: 223 }, { x: 142, y: 222 }, { x: 152, y: 218 }, { x: 160, y: 214 }, { x: 167, y: 210 }, { x: 173, y: 204 }, { x: 178, y: 198 }, { x: 179, y: 196 }, { x: 182, y: 188 }, { x: 182, y: 177 }, { x: 178, y: 167 }, { x: 170, y: 150 }, { x: 163, y: 138 }, { x: 152, y: 130 }, { x: 143, y: 129 }, { x: 140, y: 131 }, { x: 129, y: 136 }, { x: 126, y: 139 }],\n    name: \"circle\"\n  }, {\n    points: [{ x: 137, y: 139 }, { x: 135, y: 141 }, { x: 133, y: 144 }, { x: 132, y: 146 }, { x: 130, y: 149 }, { x: 128, y: 151 }, { x: 126, y: 155 }, { x: 123, y: 160 }, { x: 120, y: 166 }, { x: 116, y: 171 }, { x: 112, y: 177 }, { x: 107, y: 183 }, { x: 102, y: 188 }, { x: 100, y: 191 }, { x: 95, y: 195 }, { x: 90, y: 199 }, { x: 86, y: 203 }, { x: 82, y: 206 }, { x: 80, y: 209 }, { x: 75, y: 213 }, { x: 73, y: 213 }, { x: 70, y: 216 }, { x: 67, y: 219 }, { x: 64, y: 221 }, { x: 61, y: 223 }, { x: 60, y: 225 }, { x: 62, y: 226 }, { x: 65, y: 225 }, { x: 67, y: 226 }, { x: 74, y: 226 }, { x: 77, y: 227 }, { x: 85, y: 229 }, { x: 91, y: 230 }, { x: 99, y: 231 }, { x: 108, y: 232 }, { x: 116, y: 233 }, { x: 125, y: 233 }, { x: 134, y: 234 }, { x: 145, y: 233 }, { x: 153, y: 232 }, { x: 160, y: 233 }, { x: 170, y: 234 }, { x: 177, y: 235 }, { x: 179, y: 236 }, { x: 186, y: 237 }, { x: 193, y: 238 }, { x: 198, y: 239 }, { x: 200, y: 237 }, { x: 202, y: 239 }, { x: 204, y: 238 }, { x: 206, y: 234 }, { x: 205, y: 230 }, { x: 202, y: 222 }, { x: 197, y: 216 }, { x: 192, y: 207 }, { x: 186, y: 198 }, { x: 179, y: 189 }, { x: 174, y: 183 }, { x: 170, y: 178 }, { x: 164, y: 171 }, { x: 161, y: 168 }, { x: 154, y: 160 }, { x: 148, y: 155 }, { x: 143, y: 150 }, { x: 138, y: 148 }, { x: 136, y: 148 }],\n    name: \"triangle\"\n  }, {\n    points: [{ x: 78, y: 149 }, { x: 78, y: 153 }, { x: 78, y: 157 }, { x: 78, y: 160 }, { x: 79, y: 162 }, { x: 79, y: 164 }, { x: 79, y: 167 }, { x: 79, y: 169 }, { x: 79, y: 173 }, { x: 79, y: 178 }, { x: 79, y: 183 }, { x: 80, y: 189 }, { x: 80, y: 193 }, { x: 80, y: 198 }, { x: 80, y: 202 }, { x: 81, y: 208 }, { x: 81, y: 210 }, { x: 81, y: 216 }, { x: 82, y: 222 }, { x: 82, y: 224 }, { x: 82, y: 227 }, { x: 83, y: 229 }, { x: 83, y: 231 }, { x: 85, y: 230 }, { x: 88, y: 232 }, { x: 90, y: 233 }, { x: 92, y: 232 }, { x: 94, y: 233 }, { x: 99, y: 232 }, { x: 102, y: 233 }, { x: 106, y: 233 }, { x: 109, y: 234 }, { x: 117, y: 235 }, { x: 123, y: 236 }, { x: 126, y: 236 }, { x: 135, y: 237 }, { x: 142, y: 238 }, { x: 145, y: 238 }, { x: 152, y: 238 }, { x: 154, y: 239 }, { x: 165, y: 238 }, { x: 174, y: 237 }, { x: 179, y: 236 }, { x: 186, y: 235 }, { x: 191, y: 235 }, { x: 195, y: 233 }, { x: 197, y: 233 }, { x: 200, y: 233 }, { x: 201, y: 235 }, { x: 201, y: 233 }, { x: 199, y: 231 }, { x: 198, y: 226 }, { x: 198, y: 220 }, { x: 196, y: 207 }, { x: 195, y: 195 }, { x: 195, y: 181 }, { x: 195, y: 173 }, { x: 195, y: 163 }, { x: 194, y: 155 }, { x: 192, y: 145 }, { x: 192, y: 143 }, { x: 192, y: 138 }, { x: 191, y: 135 }, { x: 191, y: 133 }, { x: 191, y: 130 }, { x: 190, y: 128 }, { x: 188, y: 129 }, { x: 186, y: 129 }, { x: 181, y: 132 }, { x: 173, y: 131 }, { x: 162, y: 131 }, { x: 151, y: 132 }, { x: 149, y: 132 }, { x: 138, y: 132 }, { x: 136, y: 132 }, { x: 122, y: 131 }, { x: 120, y: 131 }, { x: 109, y: 130 }, { x: 107, y: 130 }, { x: 90, y: 132 }, { x: 81, y: 133 }, { x: 76, y: 133 }],\n    name: \"square\"\n  }];\n\n  ShapeDetector.prototype.spot = function (points, patternName) {\n\n    if (patternName == null) {\n      patternName = '';\n    }\n\n    var distance, pattern, score;\n    var stroke = new Stroke(points);\n    var bestDistance = +Infinity;\n    var bestPattern = null;\n    var bestScore = 0;\n\n    for (var i = 0; i < this.patterns.length; i++) {\n      pattern = this.patterns[i];\n\n      if (pattern.name.indexOf(patternName) > -1) {\n        distance = stroke.distanceAtBestAngle(pattern);\n        score = 1.0 - distance / _halfDiagonal;\n\n        if (distance < bestDistance && score > this.threshold) {\n          bestDistance = distance;\n          bestPattern = pattern.name;\n          bestScore = score;\n        }\n      }\n    }\n\n    return {\n      pattern: bestPattern,\n      score: bestScore\n    };\n  };\n\n  ShapeDetector.prototype.learn = function (name, points) {\n\n    return this.patterns.push(new Stroke(points, name));\n  };\n\n  return ShapeDetector;\n});\n\n},{}],157:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resetWindow = resetWindow;\nvar throttle = require('throttleit');\n\nvar touch = require('./touch');\nvar ui = require('./ui');\nvar overlays = require('./overlays');\nvar video = require('./video');\nvar timing = require('./timing');\nvar util = require('./util');\nvar sound = require('./sound');\nvar shape = require('./shape');\nvar socket = require('./socket');\n\nfunction resetWindow() {\n  var clientId = null;\n  if (!!window.kan && !!window.kan.uuid && window.kan.uuid !== null) {\n    clientId = window.kan.uuid; // preserve if already set\n  }\n\n  window.kan = {\n    composition: [],\n    compositionInterval: null,\n    compositionTimeout: null,\n    soundTimeouts: [],\n    lastEvent: null,\n    interaction: false,\n    moves: [],\n    playing: false,\n    pinching: false,\n    pinchedGroup: null,\n    pinchedTut: null,\n    pathData: {},\n    shapePath: null,\n    prevAngle: null,\n    sides: [],\n    side: [],\n    corners: [],\n    lastScale: 1,\n    lastRotation: 0,\n    originalPosition: null,\n    tutorialCompletion: {\n      \"fill\": false,\n      \"pinch\": false\n    },\n    inactivityTimeout: null,\n    playPromptTimeout: null,\n    sharePromptTimeout: null,\n    userHasDrawnFirstShape: false,\n    firstTimePlaying: true,\n    shapesSinceTut: 0,\n    refreshCheckInterval: null,\n    sha: null,\n    scheduledOverlay: null,\n    continueCountdownInterval: null,\n    shapeSounds: null,\n    location: $('body').hasClass('gallery') ? 'gallery' : 'desktop',\n    resizeCanvasTimeout: null,\n    stopTimeouts: false,\n    uuid: clientId\n  };\n}\n\n$(window).on('load', function () {\n  function run() {\n    resetWindow();\n    util.setSha();\n    util.setUuid();\n    socket.init();\n    ui.init();\n    overlays.init();\n    timing.init();\n    shape.init();\n    sound.init().then(function () {\n      // sound.init() is async because it loads in the sound files\n      touch.init();\n    }).fail(function (e) {\n      console.error('error initting shape sounds:', e);\n      location.reload();\n    });\n  }\n\n  try {\n    run();\n  } catch (e) {\n    console.error(e);\n    // setTimeout(function() {\n    //   // wait 5 seconds then reload\n    //   location.reload();\n    // }, 5 * 1000);\n  }\n});\n\nwindow.onresize = throttle(function () {\n  clearTimeout(window.kan.resizeCanvasTimeout);\n\n  ui.verifyBrowserWidth();\n  window.kan.resizeCanvasTimeout = setTimeout(function () {\n    ui.fixCanvasSize();\n  }, timing.browserWidthCheckDelay * 2);\n}, timing.browserWidthCheckDelay);\n\n},{\"./overlays\":158,\"./shape\":159,\"./socket\":161,\"./sound\":162,\"./timing\":163,\"./touch\":164,\"./ui\":166,\"./util\":167,\"./video\":168,\"throttleit\":82}],158:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.openOverlay = openOverlay;\nexports.resetContinueCountdown = resetContinueCountdown;\nexports.cardNavNext = cardNavNext;\nexports.closeAndResetOverlays = closeAndResetOverlays;\nexports.asyncCloseOverlaysAfterDuration = asyncCloseOverlaysAfterDuration;\nexports.asyncWaitForWellFormedPhoneNumber = asyncWaitForWellFormedPhoneNumber;\nexports.init = init;\nvar config = require('./config');\n\nvar validator = require('validator');\n\nvar touch = require('./touch');\nvar video = require('./video');\nvar timing = require('./timing');\nvar tutorial = require('./tutorial');\nvar util = require('./util');\nvar ui = require('./ui');\n\nvar hammerCanvas = touch.hammerCanvas;\n\nvar $body = $('body');\nvar tapEvent = 'click tap touch';\n\nvar $cardsWrap = $body.find('.overlay.tips .card-wrap');\nvar $cardItems = $cardsWrap.find('article');\nvar cardsCount = $cardItems.length;\nvar $footer = $body.find('.overlay.tips .footer');\n\nvar $sharePhone = $body.find('#phone');\nvar $shareKeypad = $body.find('.keypad');\nvar $shareSend = $shareKeypad.find('.send');\nvar $sharePhoneWrap = $('.share-phone .output');\nvar invalidPhoneNumberClass = 'invalid-number';\n\nvar allOverlays = ['intro', 'play-prompt', 'share-prompt', 'continue', 'tips', 'share', 'share-prepare', 'share-confirmation', 'window-too-small'];\nvar overlayOpenClasses = allOverlays.map(function (overlay) {\n  return overlay + '-active';\n}).join(' ');\n\nvar overlayActiveClass = 'overlay-active';\n\nfunction openOverlay(overlayName) {\n  console.log('attempting to open overlay', overlayName);\n  if (window.kan.overlays === false) return;\n  if ($body.hasClass('window-too-small-active')) return; // don't open overlays if the window is too small\n  if (allOverlays.includes(overlayName)) {\n    if (window.kan.pinching === true || window.kan.panning === true) {\n      if (overlayName === 'continue') {\n        timing.preventInactivityTimeout();\n      } else {\n        // console.log('scheduling overlay', overlayName);\n        window.kan.scheduledOverlay = overlayName;\n      }\n      return;\n    }\n    closeAndResetOverlays();\n    tutorial.hideContextualTuts();\n    $body.addClass(overlayActiveClass);\n    $body.find('.overlay.closeable:not(.tips):not(.share-phone)').on(tapEvent, function () {\n      closeAndResetOverlays();\n    });\n\n    switch (overlayName) {\n      case 'intro':\n        openIntroOverlay();\n        break;\n      case 'play-prompt':\n        if (util.anyShapesOnCanvas()) {\n          openPlayPromptOverlay();\n        } else {\n          window.kan.playPromptTimeout = setTimeout(function () {\n            openOverlay('play-prompt');\n          }, timing.playPromptDelay / 2);\n        }\n        break;\n      case 'share-prompt':\n        openSharePromptOverlay();\n        break;\n      case 'continue':\n        openContinueOverlay();\n        break;\n      case 'tips':\n        openTipsOverlay();\n        break;\n      case 'share':\n        openShareOverlay();\n        break;\n      case 'share-prepare':\n        openSharePrepareOverlay();\n        break;\n      case 'share-confirmation':\n        openShareConfirmationOverlay();\n        break;\n      case 'window-too-small':\n        openWindowTooSmallOverlay();\n        break;\n    }\n  } else {\n    // console.log('unable to open unknown overlay', overlayName);\n  }\n}\n\nfunction openIntroOverlay() {\n  $body.addClass('intro-active');\n}\n\nfunction openPlayPromptOverlay() {\n  $body.addClass('play-prompt-active');\n}\n\nfunction openSharePromptOverlay() {\n  $body.addClass('share-prompt-active');\n}\n\nfunction resetContinueCountdown() {\n  $('.overlay.continue .countdown-num').html(parseInt(timing.continueInactivityDelay / 1000));\n  clearInterval(window.kan.continueCountdownInterval);\n}\n\nfunction openContinueOverlay() {\n  $body.addClass('continue-active');\n\n  resetContinueCountdown();\n  clearTimeout(window.kan.inactivityTimeout);\n  clearTimeout(window.kan.playPromptTimeout);\n\n  window.kan.continueCountdownInterval = setInterval(function () {\n    var $countdownNumWrap = $('.overlay.continue .countdown-num');\n    var count = parseInt($countdownNumWrap.html());\n    if (count > 1) {\n      $countdownNumWrap.html(count - 1);\n    }\n  }, 1000);\n\n  window.kan.inactivityTimeout = setTimeout(function () {\n    video.enterTutorialMode();\n    ui.selectRandomColorFromPalette();\n  }, timing.continueInactivityDelay);\n}\n\nfunction openTipsOverlay() {\n  $body.addClass('tips-active');\n  activateTipsCards();\n}\n\nfunction openShareOverlay() {\n  $body.addClass('share-active');\n}\n\nfunction openSharePrepareOverlay() {\n  $body.addClass('share-prepare-active');\n}\n\nfunction openShareConfirmationOverlay() {\n  $body.addClass('share-confirmation-active');\n}\n\nfunction openWindowTooSmallOverlay() {\n  $body.addClass('window-too-small-active');\n}\n\n// card slider navigation\nfunction cardNavNext() {\n  var $old = $body.find('.card-wrap .current');\n  var $new = $old.next().length ? $old.next() : $cardItems.first();\n  var $next = $new.next().length ? $new.next() : $cardItems.first();\n  var $third = $next.next().length ? $next.next() : $cardItems.first().next();\n  var slide = $new.index();\n  $old.removeClass().addClass('remove');\n  $new.removeClass().addClass('current');\n  $next.removeClass().addClass('next');\n  $third.removeClass().addClass('third');\n  updateCardCounter(slide + 1, cardsCount);\n  setTimeout(function () {\n    $old.removeClass();\n  }, 600);\n}\n\n// tips card interactions\nfunction cardInteractions() {\n  var timeOfLastInteraction = 0;\n\n  $body.find('.overlay.closeable').on(tapEvent, function (e) {\n    var currentTime = Date.now();\n    if (timeOfLastInteraction > currentTime - 250) {\n      return;\n    }\n    timeOfLastInteraction = currentTime;\n\n    if ($(e.target).closest('.card-wrap').length == 1) {\n      // directly on a card, navigate to the next one\n      // console.log('hi');\n      cardNavNext();\n    } else {\n      // console.log('no');\n      // outside elements, close everything and reset\n      closeAndResetOverlays();\n    }\n  });\n}\n\nfunction resetTips() {\n  $cardItems.removeClass();\n  $sharePhone.html('');\n}\n\n// close and reset tips\nfunction closeAndResetOverlays() {\n  $body.removeClass('overlay-active');\n  $body.removeClass(overlayOpenClasses);\n  $sharePhoneWrap.removeClass(invalidPhoneNumberClass);\n  resetTips();\n}\n\nfunction asyncCloseOverlaysAfterDuration(duration) {\n  return new Promise(function (resolve, reject) {\n    var closeOverlayTimeout = null;\n    try {\n      closeOverlayTimeout = setTimeout(function () {\n        closeAndResetOverlays();\n        resolve('asyncCloseOverlaysAfterDuration done');\n      }, duration);\n    } catch (e) {\n      clearTimeout(closeOverlayTimeout);\n      reject(e);\n    }\n  });\n}\n\n// deal a fresh stack of cards\nfunction activateTipsCards() {\n  var $new = $cardItems.first();\n  var $next = $new.next().length ? $new.next() : $cardItems.first();\n  var $third = $next.next().length ? $next.next() : $cardItems.first().next();\n  $cardItems.removeClass();\n  $new.removeClass().addClass('current');\n  $next.removeClass().addClass('next');\n  $third.removeClass().addClass('third');\n  updateCardCounter(1, cardsCount);\n}\n\n// counting cards\nfunction updateCardCounter(current, total) {\n  $footer.find('.current').html(current);\n  $footer.find('.next').html(total);\n}\n\nfunction asyncWaitForWellFormedPhoneNumber(s3Id) {\n  return new Promise(function (resolve, reject) {\n    // normal inactivity timeout is disabled, start an alternate one\n    var inactivityTimeout = setTimeout(function () {\n      if ($body.hasClass('share-active')) {\n        reject('timeout');\n      } else {\n        reject('share-closed');\n      }\n    }, timing.continueInactivityDelay);\n\n    $shareKeypad.on(tapEvent, function (e) {\n      clearTimeout(inactivityTimeout);\n      inactivityTimeout = setTimeout(function () {\n        if ($body.hasClass('share-active')) {\n          reject('timeout');\n        } else {\n          reject('share-closed');\n        }\n      }, timing.continueInactivityDelay);\n    });\n\n    $shareSend.on(tapEvent, function (e) {\n      var phoneNumWithHyphens = $sharePhone.text();\n      var phoneNumRaw = phoneNumWithHyphens.replace(/\\D/g, '');\n\n      if (validator.isMobilePhone(phoneNumRaw, 'en-US')) {\n        $sharePhoneWrap.removeClass(invalidPhoneNumberClass);\n        if (phoneNumRaw.length == 10) phoneNumRaw = '1' + phoneNumRaw;\n        clearTimeout(inactivityTimeout);\n        resolve({\n          phone: phoneNumRaw,\n          s3Id: s3Id\n        });\n      } else {\n        $sharePhoneWrap.addClass(invalidPhoneNumberClass);\n      }\n    });\n  });\n}\n\n// phone inputs\nfunction phoneNumberInputs() {\n  // mask the output\n  $sharePhone.mask('000-000-0000');\n  // get interactions from the keypad\n  $shareKeypad.find('.num').on(tapEvent, function (e) {\n    var phoneNumber = $sharePhone.html().toString() + $(e.target).html().toString();\n    phoneNumber = $sharePhone.masked(phoneNumber);\n    $sharePhone.html(phoneNumber);\n  });\n  // clear the display\n  $shareKeypad.find('.clear').on(tapEvent, function (e) {\n    $sharePhone.html('');\n  });\n\n  // $('body.share-active').on(tapEvent, function(e) {\n  //   if ($(e.target).closest(''))\n  // })\n}\n\n// \"randomly\" place fiddly bits on the cards\nfunction randomCardGraphics() {\n  $body.find('.card-wrap article').each(function (i, el) {\n    var numBg = 6; // 6 different bgs specified in css\n    $(el).attr('data-bg', i % numBg);\n  });\n}\n\nfunction initTips() {\n  cardInteractions();\n}\n\nfunction initShare() {\n  phoneNumberInputs();\n  randomCardGraphics();\n}\n\nfunction init() {\n  initTips();\n  initShare();\n}\n\n},{\"./config\":155,\"./timing\":163,\"./touch\":164,\"./tutorial\":165,\"./ui\":166,\"./util\":167,\"./video\":168,\"validator\":87}],159:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.startKeepaliveAnimation = startKeepaliveAnimation;\nexports.stopKeepaliveAnimation = stopKeepaliveAnimation;\nexports.destroyGroupPops = destroyGroupPops;\nexports.fillInGroupPopsById = fillInGroupPopsById;\nexports.toggleFill = toggleFill;\nexports.cleanUpGroup = cleanUpGroup;\nexports.updatePops = updatePops;\nexports.getOutlineGroup = getOutlineGroup;\nexports.getTruedShape = getTruedShape;\nexports.getCompletedPath = getCompletedPath;\nexports.getShapePrediction = getShapePrediction;\nexports.getIntegerPoint = getIntegerPoint;\nexports.stringifyPoint = stringifyPoint;\nexports.parsePoint = parsePoint;\nexports.getClosestPointFromPathData = getClosestPointFromPathData;\nexports.processShapeData = processShapeData;\nexports.findInteriorCurves = findInteriorCurves;\nexports.getExtendedPath = getExtendedPath;\nexports.getBruteExtendedPath = getBruteExtendedPath;\nexports.getTrimmedPath = getTrimmedPath;\nexports.hitTestGroupBounds = hitTestGroupBounds;\nexports.hitTestBounds = hitTestBounds;\nexports.init = init;\nvar ShapeDetector = require('./lib/shape-detector');\n\nvar config = require('./config');\n\nvar util = require('./util');\nvar color = require('./color');\n\nvar keepaliveShape = exports.keepaliveShape = void 0;\n\nvar cornerThresholdDeg = exports.cornerThresholdDeg = 30;\nvar thresholdDistMultiplier = exports.thresholdDistMultiplier = 0.1;\n\nvar detector = exports.detector = new ShapeDetector(ShapeDetector.defaultShapes);\n\nvar shapeNames = exports.shapeNames = [\"line\", \"circle\", \"square\", \"triangle\", \"other\"];\n\nvar transparent = color.transparent;\n\nfunction clearPops() {\n  var pops = util.getAllPops();\n  pops.forEach(function (pop) {\n    pop.remove();\n  });\n}\n\nvar keepaliveInterval = null;\n\n// the canvas recorder automatically trims 'still' frames, so I add a semitransparent 1px square to trick the recorder into recording :)\nfunction initKeepaliveShape() {\n  exports.keepaliveShape = keepaliveShape = Path.Rectangle({\n    point: [1, 1],\n    size: [1, 1],\n    strokeColor: new Color(0, 0.001),\n    visible: false,\n    name: 'keepalive'\n  });\n}\n\nfunction startKeepaliveAnimation() {\n  keepaliveShape.visible = true;\n  keepaliveInterval = setInterval(function () {\n    keepaliveShape.rotation += 5;\n  }, 40);\n};\n\nfunction stopKeepaliveAnimation() {\n  keepaliveShape.visible = false;\n  clearInterval(keepaliveInterval);\n}\n\nfunction destroyGroupPops(group) {\n  // console.log('destroying pops');\n  var groupPopsBefore = util.getGroupPops(group);\n  // console.log('pops to be destroyed', groupPopsBefore);\n  if (groupPopsBefore.length > 0) {\n    groupPopsBefore.forEach(function (pop) {\n      pop.remove();\n    });\n  }\n  var groupPopsAfter = util.getGroupPops(group);\n  // console.log('group pops after', groupPopsAfter);\n}\n\nfunction fillInGroupPopsById(groupId) {\n  var group = paper.project.getItem({\n    className: 'Group',\n    match: function match(el) {\n      return el.id === groupId;\n    }\n  });\n\n  if (!!group && group.children.length > 0) {\n    group.children.forEach(function (groupChild) {\n      if (groupChild.name === 'loop') {\n        toggleFill(groupChild);\n      }\n    });\n  }\n}\n\nfunction toggleFill(item) {\n  var transparent = color.transparent;\n  // console.log('hit');\n  var parent = item.parent;\n\n  // console.log('hit item', item);\n  // console.log('hit parent', parent);\n\n  if (item.data.interior) {\n    // console.log('interior');\n    item.data.transparent = !item.data.transparent;\n\n    if (item.data.transparent) {\n      // console.log('transparent');\n      item.fillColor = transparent;\n    } else {\n      // console.log('not transparent');\n      item.fillColor = parent.data.color;\n    }\n    item.strokeColor = transparent;\n\n    window.kan.moves.push({\n      type: 'fillChange',\n      id: item.id,\n      fill: parent.data.color,\n      transparent: item.data.transparent\n    });\n  } else {\n    // console.log('not interior');\n    // check if item is a pop, because then we'll fill the pop's parent\n    if (!!item.data && item.data.pop === true) {\n      if (!!item.parent) {\n        if (config.pop === true) {\n          fillInGroupPopsById(item.parent.id);\n        }\n      }\n    }\n  }\n}\n\nfunction cleanUpGroup(group) {\n  var acceptableNames = ['mask', 'outer', 'shapePath', 'loop', 'pop'];\n\n  group.children.forEach(function (groupChild) {\n    if (groupChild.className === 'CompoundPath' || groupChild.name === null || !acceptableNames.includes(groupChild.name) || !groupChild.length > 0) {\n      groupChild.remove();\n    }\n  });\n\n  // NO IDEA WHY I STILL HAVE TO DO THIS, IT SHOULD BE DELETED BY NOW\n  try {\n    if ('outer 1' in group._namedChildren) {\n      group._namedChildren['outer 1'].forEach(function (child) {\n        child.remove();\n      });\n      delete group._namedChildren['outer 1'];\n    }\n  } catch (e) {\n    // console.log('issue deleting unwanted child');\n  }\n\n  return group;\n}\n\nfunction updatePops() {\n  var freshGroups = util.getFreshGroups();\n  var popCandidates = util.getPopCandidates();\n  var allPops = util.getAllPops();\n  popCandidates.reverse();\n  // console.log('freshGroups', freshGroups);\n  // console.log('popCandidates', popCandidates);\n  // clearPops();\n\n  freshGroups.forEach(function (freshGroup, i) {\n    // if (i >= 4) return;\n    // console.log('freshGroup', freshGroup);\n\n    var freshOuter = freshGroup._namedChildren.mask[0];\n    freshOuter.bringToFront();\n    // freshOuter.visible = true;\n    // freshOuter.fillColor = 'black';\n    // freshOuter.selected = true;\n    // console.log('freshOuter', freshOuter);\n    // freshOuter.selected = true;\n    popCandidates.forEach(function (otherGroup, j) {\n      var otherGroupOuter = otherGroup._namedChildren.mask[0];\n      if (freshGroup.id !== otherGroup.id) {\n        // console.log('otherGroup', otherGroup);\n        // console.log('otherGroupOuter', otherGroupOuter);\n        // otherGroupOuter.fillColor = 'white';\n        otherGroupOuter.bringToFront();\n        var thisPop = freshOuter.intersect(otherGroupOuter);\n        if (!!thisPop && thisPop.length > 0) {\n          // const popColor = color.getIndexedPopColor(i + j);\n          var popColor = color.getRandomPop();\n          thisPop.fillColor = popColor;\n          thisPop.strokeColor = transparent;\n          thisPop.data.pop = true;\n          thisPop.name = 'pop';\n          thisPop.data.popGroup = freshGroup.id;\n          thisPop.data.intersectingGroup = otherGroup.id;\n          thisPop.visible = true;\n          thisPop.closed = true;\n          thisPop.bringToFront();\n          freshGroup.addChild(thisPop);\n        }\n\n        cleanUpGroup(freshGroup);\n\n        // figure out if this pop intersects any other pops\n        // allPops.forEach(function(otherPop, k) {\n        //   console.log('checking other pop', otherPop);\n        //   if (thisPop.id !== otherPop.id && thisPop.intersects(otherPop)) {\n        //     let popIntersection = thisPop.getIntersections(otherPop);\n        //     if (!!popIntersection && popIntersection.length > 0) {\n        //       popIntersection = new Path([popIntersection])\n        //       console.log('popIntersection', popIntersection);\n        //       // const popColor = color.getIndexedPopColor(i + j + k);\n        //       const popColor = color.getRandomPop();\n        //       popIntersection.data.pop = true;\n        //       popIntersection.fillColor = popColor\n        //       popIntersection.strokeColor = popColor;\n        //       popIntersection.visible = true;\n        //       popIntersection.closed = true;\n        //       popIntersection.bringToFront();\n        //     }\n        //   }\n        // });\n      }\n    });\n\n    freshGroup.data.fresh = false;\n  });\n}\n\nfunction getOutlineGroup(truedShape) {\n  // console.log('truedShape', truedShape);\n  var outerPath = new Path();\n  outerPath.name = 'outer';\n  outerPath.visible = true;\n\n  var middlePath = new Path();\n  middlePath.name = 'middle';\n  var sizes = [];\n  var angle = null,\n      lastAngle = null,\n      angleDelta = void 0;\n\n  var firstTop = null,\n      firstBottom = null;\n  var lastTop = null,\n      lastBottom = null;\n\n  if (!(truedShape.length > 0)) return new Group(outerPath, middlePath);\n\n  middlePath.add(truedShape.firstSegment.point);\n\n  for (var i = 0; i < truedShape.length; i += 10) {\n    while (sizes.length > 10) {\n      sizes.shift();\n    }\n\n    var size = Math.random() * 9; // This is just random variance\n    sizes.push(size);\n\n    var cumSize = 0;\n    for (var j = 0; j < sizes.length; j++) {\n      cumSize += sizes[j];\n    }\n    var avgSize = Math.max(5, (cumSize / sizes.length + size) / 2);\n\n    var point = truedShape.getPointAt(i);\n    var normal = truedShape.getNormalAt(i);\n\n    var top = new Point(point.x + normal.x * avgSize, point.y + normal.y * avgSize);\n    var bottom = new Point(point.x - normal.x * avgSize, point.y - normal.y * avgSize);\n\n    // console.log('point', point, 'normal', normal);\n    // console.log('top', top, 'bottom', bottom);\n\n    outerPath.add(top);\n    outerPath.insert(0, bottom);\n    middlePath.add(point);\n\n    lastAngle = angle;\n\n    if (i == 10) {\n      firstTop = top;\n      firstBottom = bottom;\n    } else {\n      lastTop = top;\n      lastBottom = bottom;\n    }\n  }\n\n  if (truedShape.closed === true) {\n    var centerTop = new Point((firstTop.x + lastTop.x) / 2, (firstTop.y + lastTop.y) / 2);\n    var centerBottom = new Point((firstBottom.x + lastBottom.x) / 2, (firstBottom.y + lastBottom.y) / 2);\n    var center = new Point((centerTop.x + centerBottom.x) / 2, (centerTop.y + centerBottom.y) / 2);\n\n    outerPath.add(centerTop);\n    outerPath.insert(0, centerBottom);\n    middlePath.add(center);\n\n    outerPath.add(firstTop);\n    outerPath.insert(0, firstBottom);\n    middlePath.closed = true;\n  }\n\n  outerPath.flatten(50);\n  middlePath.flatten(50);\n  outerPath.simplify();\n  middlePath.simplify();\n\n  outerPath.selected = false;\n  // middlePath.selected = true;\n  outerPath.name = 'outer';\n  middlePath.name = 'middle';\n  var returnGroup = new Group(outerPath, middlePath);\n  return returnGroup;\n}\n\nfunction getTruedShape(path) {\n  var pathClone = path.clone();\n  pathClone.visible = false;\n  // console.log('pathClone', pathClone);\n  var completedPath = getCompletedPath(pathClone);\n  // completedPath.reduce();\n\n  // true the path!\n  var truedPath = completedPath;\n  // console.log('truedPath', truedPath);\n\n  truedPath.strokeWidth = pathClone.strokeWidth;\n\n  pathClone.remove();\n  return truedPath;\n}\n\n// extend or trim path if the ends are close\nfunction getCompletedPath(path) {\n  var pathClone = path.clone();\n  pathClone.visible = false;\n  pathClone.reduce();\n  pathClone.simplify();\n\n  var intersections = pathClone.getIntersections();\n\n  if (intersections.length > 0) {\n    // trim path if ends are close\n    var trimmedPath = getTrimmedPath(pathClone);\n\n    pathClone.remove();\n\n    return trimmedPath;\n  } else {\n    // extend path to see if an intersection is near\n    var extendedPath = getExtendedPath(pathClone);\n    var _intersections = extendedPath.getIntersections();\n\n    // pathClone.remove();\n\n    if (_intersections.length > 0) {\n      // trim extra extended path\n      var _trimmedPath = getTrimmedPath(extendedPath);\n      extendedPath.remove();\n      return _trimmedPath;\n    } else {\n      // extended path does not intersect, return the original path\n      extendedPath.replaceWith(getBruteExtendedPath(pathClone));\n      if (extendedPath !== null) {\n        var _intersections2 = extendedPath.getIntersections();\n\n        if (_intersections2.length > 0) {\n          var _trimmedPath2 = getTrimmedPath(extendedPath);\n          extendedPath.remove();\n          return _trimmedPath2;\n        }\n\n        if (!!extendedPath && extendedPath.length > 0) {\n          extendedPath.remove();\n        }\n      }\n\n      pathClone.visible = true;\n      return pathClone;\n    }\n  }\n}\n\nfunction getShapePrediction(path) {\n  var prediction = {};\n\n  var shapeJSON = path.exportJSON();\n  var shapeData = processShapeData(shapeJSON);\n  // console.log(JSON.stringify(shapeData));\n  var shapePrediction = detector.spot(shapeData);\n\n  if (shapePrediction.score === 0) {\n    // algorithm doesn't like vertical lines for some reason\n    // if the certainty is 0 it's probably a line\n    prediction.pattern = \"line\";\n    prediction.score = 0.9;\n  } else {\n    if (shapePrediction.score > 0.5) {\n      prediction.pattern = shapePrediction.pattern;\n    } else {\n      prediction.pattern = \"other\";\n    }\n    prediction.score = shapePrediction.score;\n  }\n\n  if (path.closed === true) {\n    var closedShapes = ['triangle', 'square', 'circle'];\n    if (closedShapes.includes(prediction.pattern) === false) {\n      // closed shape should be one of the above, make a random pick\n      prediction.pattern = util.randomPick(closedShapes);\n    } else if (prediction.score < 0.65 && prediction.pattern !== 'circle') {\n      // for some reason triangles and squares are often confused. if the confidence is low enough, they're probably swapped\n      if (prediction.pattern === 'square') {\n        prediction.pattern = 'triangle';\n      } else if (prediction.pattern === 'triangle') {\n        prediction.pattern = 'square';\n      }\n    }\n  } else if (path.intersects(path) === true) {\n    prediction.pattern = 'other';\n    // const intersectingShapes = ['triangle', 'square', 'circle', 'other'];\n    // if (intersectingShapes.includes(prediction.pattern) === false) {\n    //   prediction.pattern = util.randomPick(intersectingShapes);\n    // }\n  } else {\n    prediction.pattern = 'line'; // lines are the only shape that is not closed and does not intersect\n  }\n\n  // console.log('shape prediction', prediction);\n\n  return prediction;\n}\n\n// floors the coordinates of a point\nfunction getIntegerPoint(point) {\n  return new Point(Math.floor(point.x), Math.floor(point.y));\n}\n\nfunction stringifyPoint(point) {\n  return Math.floor(point.x) + ',' + Math.floor(point.y);\n}\n\nfunction parsePoint(pointStr) {\n  var split = pointStr.split(',').map(function (num) {\n    return Math.floor(num);\n  });\n\n  if (split.length >= 2) {\n    return new Point(split[0], split[1]);\n  }\n\n  return null;\n}\n\nfunction getClosestPointFromPathData(point, pathData) {\n  var leastDistance = void 0,\n      closestPoint = void 0;\n\n  Base.each(pathData, function (datum, i) {\n    var distance = point.getDistance(datum.point);\n    if (!leastDistance || distance < leastDistance) {\n      leastDistance = distance;\n      closestPoint = datum.point;\n    }\n  });\n\n  return closestPoint || point;\n}\n\nfunction processShapeData(json) {\n  var returnShape = [];\n  var jsonObj = JSON.parse(json)[1]; // zero index is stringified type (e.g. \"Path\")\n\n  if ('segments' in jsonObj) {\n    var segments = jsonObj.segments;\n    Base.each(segments, function (segment, i) {\n      if (segment.length === 3) {\n        var positionInfo = segment[0]; // indexes 1 and 2 are superfluous matrix details\n        returnShape.push({\n          x: positionInfo[0],\n          y: positionInfo[1]\n        });\n      } else {\n        returnShape.push({\n          x: segment[0],\n          y: segment[1]\n        });\n      };\n    });\n  }\n  return returnShape;\n}\n\nfunction findInteriorCurves(path) {\n  var transparent = color.transparent;\n\n  var interiorCurves = [];\n\n  var pathClone = path.clone();\n  var intersections = pathClone.getIntersections();\n  // console.log('intersections', intersections);\n\n  if (intersections.length > 0) {\n    var dividedPath = pathClone.resolveCrossings();\n    // console.log('dividedPath', dividedPath);\n\n    if (dividedPath.className === 'CompoundPath') {\n      dividedPath.children.forEach(function (child) {\n        // console.log('child', child);\n        if (child.length > 0 && child.closed) {\n          var enclosedLoop = child;\n          if (pathClone.closed) {\n            enclosedLoop.fillColor = pathClone.strokeColor;\n            enclosedLoop.data.transparent = false;\n          } else {\n            enclosedLoop.fillColor = transparent;\n            enclosedLoop.data.transparent = true;\n          }\n          enclosedLoop.data.interior = true;\n          enclosedLoop.visible = true;\n          enclosedLoop.closed = true;\n          enclosedLoop.strokeColor = transparent;\n          interiorCurves.push(enclosedLoop);\n        }\n\n        // child.remove();\n      });\n    } else {\n      if (pathClone.closed) {\n        var enclosedLoop = pathClone.clone();\n        enclosedLoop.visible = true;\n        enclosedLoop.fillColor = pathClone.strokeColor;\n        enclosedLoop.strokeColor = transparent;\n        enclosedLoop.data.interior = true;\n        enclosedLoop.data.transparent = false;\n        interiorCurves.push(enclosedLoop);\n      }\n    }\n  } else {\n    if (pathClone.closed) {\n      var _enclosedLoop = pathClone.clone();\n      _enclosedLoop.visible = true;\n      _enclosedLoop.fillColor = pathClone.strokeColor;\n      _enclosedLoop.strokeColor = transparent;\n      _enclosedLoop.data.interior = true;\n      _enclosedLoop.data.transparent = false;\n      interiorCurves.push(_enclosedLoop);\n    }\n  }\n\n  return interiorCurves;\n}\n\nfunction getExtendedPath(path) {\n  var bruteForce = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var extendedPath = path.clone();\n  extendedPath.visible = false;\n\n  var thresholdDist = thresholdDistMultiplier * extendedPath.length;\n\n  var firstSegment = extendedPath.firstSegment;\n  var nextSegment = firstSegment.next;\n  var startAngle = Math.atan2(nextSegment.point.y - firstSegment.point.y, nextSegment.point.x - firstSegment.point.x); // rad\n  var inverseStartAngle = startAngle + Math.PI;\n  var extendedStartPoint = new Point(firstSegment.point.x + Math.cos(inverseStartAngle) * thresholdDist / 2, firstSegment.point.y + Math.sin(inverseStartAngle) * thresholdDist / 2);\n  extendedPath.insert(0, extendedStartPoint);\n\n  var lastSegment = extendedPath.lastSegment;\n  var penSegment = lastSegment.previous; // penultimate\n  var endAngle = Math.atan2(lastSegment.point.y - penSegment.point.y, lastSegment.point.x - penSegment.point.x); // rad\n  var extendedEndPoint = new Point(lastSegment.point.x + Math.cos(endAngle) * thresholdDist / 2, lastSegment.point.y + Math.sin(endAngle) * thresholdDist / 2);\n  extendedPath.add(extendedEndPoint);\n\n  // extendedPath.visible = true;\n\n  return extendedPath;\n}\n\nfunction getBruteExtendedPath(path) {\n  var extendedPath = path.clone();\n  extendedPath.visible = false;\n\n  var thresholdDist = thresholdDistMultiplier * extendedPath.length;\n  var firstPoint = extendedPath.firstSegment.point;\n  var lastPoint = extendedPath.lastSegment.point;\n\n  if (firstPoint.getDistance(lastPoint) < thresholdDist) {\n    extendedPath.insert(0, lastPoint);\n    extendedPath.add(firstPoint);\n    extendedPath.closed = true;\n    extendedPath.unite();\n    var crossings = extendedPath.resolveCrossings();\n    if (!!crossings && !!crossings.children && crossings.children.length > 0) {\n      (function () {\n        var maxArea = 0,\n            maxChild = null;\n        crossings.children.forEach(function (child) {\n          if (child.area > maxArea) {\n            maxChild = child;\n            maxArea = child.area;\n          }\n        });\n\n        extendedPath = maxChild;\n      })();\n    }\n  }\n\n  return extendedPath;\n}\n\nfunction getTrimmedPath(path) {\n  var pathClone = path.clone();\n  pathClone.visible = false;\n\n  var firstPoint = pathClone.firstSegment.point;\n  var lastPoint = pathClone.lastSegment.point;\n  var thresholdDist = thresholdDistMultiplier * pathClone.length;\n\n  var intersections = pathClone.getIntersections();\n  intersections.forEach(function (intersection, i) {\n    if (intersection.offset === 0) {\n      intersections.splice(i, 1);\n    }\n  });\n\n  // console.log('intersections', intersections);\n\n  if (intersections.length == 1) {\n    for (var i = 0; i < intersections.length; i++) {\n      var intersectionPoint = intersections[i].point;\n\n      // if the average of the distance between the first and last points and the intersection point is within the threshold, trim\n      if (firstPoint.getDistance(intersectionPoint) + lastPoint.getDistance(intersectionPoint) < 2 * thresholdDist) {\n        // console.log('trimming path');\n        var dividedPath = pathClone.clone(); // resolve crossings seems to modify the path it was passed, so make an extra clone to be safe\n        dividedPath.visible = false;\n        var pathCrossings = dividedPath.resolveCrossings();\n\n        if (pathCrossings.className === 'CompoundPath' && pathCrossings.children.length > 0) {\n          for (var j = 0; j < pathCrossings.children.length; j++) {\n            var child = pathCrossings.children[j];\n            if (child.closed) {\n              // child.selected = true;\n              dividedPath = dividedPath.subtract(child);\n            }\n          }\n        }\n\n        // dividedPath.selected = true;\n\n        var trimmedPath = pathClone.subtract(dividedPath);\n        if (trimmedPath.length === 0) return pathClone;\n        if (trimmedPath.className === 'CompoundPath' && trimmedPath.children.length > 0) {\n          var _ret2 = function () {\n            var closedChildren = [];\n            trimmedPath.children.forEach(function (child, i) {\n              if (child.length > 0 && child.closed) {\n                var childClone = child.clone();\n                childClone.visible = false;\n                closedChildren.push(childClone);\n              }\n            });\n\n            if (closedChildren.length > 0) {\n              if (closedChildren.length > 1) {\n                // for some reason there are more than one closed children, merge them\n                var accumulator = closedChildren[0];\n\n                for (var _j = 1; _j < closedChildren.length; _j++) {\n                  accumulator = accumulator.unite(closedChildren[_j]);\n                }\n\n                if (accumulator.length > 0 && accumulator.className === 'Path') {\n                  // console.log('trimmed accumulator', accumulator);\n                  var newPath = new Path();\n                  newPath.copyContent(accumulator);\n                  newPath.copyAttributes(pathClone);\n                  accumulator.remove();\n                  pathClone.remove();\n                  dividedPath.remove();\n                  trimmedPath.remove();\n                  return {\n                    v: newPath\n                  };\n                }\n              }\n\n              pathClone.remove();\n              dividedPath.remove();\n              trimmedPath.remove();\n              // console.log('trimmed closedChildren[0]', closedChildren[0]);\n              return {\n                v: closedChildren[0]\n              };\n            }\n          }();\n\n          if ((typeof _ret2 === 'undefined' ? 'undefined' : _typeof(_ret2)) === \"object\") return _ret2.v;\n        }\n\n        // console.log('trimmed path return', trimmedPath);\n        // console.log('path clone', pathClone);\n        // console.log('dividedPath', dividedPath);\n        pathClone.remove();\n        dividedPath.remove();\n        return trimmedPath;\n      }\n    }\n\n    // no close intersection were found so nothing can be trimmed\n    return pathClone;\n  } else {\n    return path;\n  }\n}\n\nfunction hitTestGroupBounds(point) {\n  var groups = util.getVisibleGroups();\n  return hitTestBounds(point, groups);\n}\n\nfunction hitTestBounds(point, children) {\n  if (!point) return null;\n\n  for (var i = children.length - 1; i >= 0; i--) {\n    var child = children[i];\n    var bounds = child.strokeBounds;\n    if (point.isInside(child.strokeBounds)) {\n      return child;\n    }\n  }\n\n  return null;\n}\n\nfunction init() {\n  initKeepaliveShape();\n}\n\n},{\"./color\":154,\"./config\":155,\"./lib/shape-detector\":156,\"./util\":167}],160:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nexports.asyncRecord = asyncRecord;\nexports.asyncAddCompositionToDb = asyncAddCompositionToDb;\nexports.handleSharePressed = handleSharePressed;\nvar config = require('./config');\n\nvar Promise = require('bluebird');\nvar axios = require('axios');\nvar qs = require('qs');\n\nvar ui = require('./ui');\nvar timing = require('./timing');\nvar overlays = require('./overlays');\nvar sound = require('./sound');\nvar video = require('./video');\nvar util = require('./util');\n\nvar socket = require('./socket').socket;\n\nvar drawCanvas = document.getElementById(config.canvasId);\n\nfunction asyncStopAudioRecordingAndExportBlob(recorder) {\n  return new Promise(function (resolve, reject) {\n    try {\n      recorder.stop();\n      recorder.exportWAV(function (blob) {\n        resolve(blob);\n      });\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n\nfunction asyncStopVideoRecordingAndExportBlob(recorder) {\n  return new Promise(function (resolve, reject) {\n    try {\n      recorder.stopRecording(function () {\n        var blob = recorder.getBlob();\n        resolve(blob);\n      });\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n\nfunction asyncRecord() {\n  return new Promise(function (resolve, reject) {\n    try {\n      (function () {\n        var audioRecorder = new Recorder(Howler.masterGain, {\n          workerPath: '/js/lib/recorderWorker.js'\n        });\n        var canvasRecorder = RecordRTC(drawCanvas, {\n          type: 'canvas'\n        });\n\n        Howler.mute(false);\n        canvasRecorder.startRecording();\n        audioRecorder.record();\n\n        sound.asyncPlayCompositionOnce().then(function () {\n          return Promise.all([asyncStopAudioRecordingAndExportBlob(audioRecorder), asyncStopVideoRecordingAndExportBlob(canvasRecorder)]).then(function (values) {\n            var _values = _slicedToArray(values, 2),\n                audioBlob = _values[0],\n                videoBlob = _values[1];\n            // console.log('audioBlob', audioBlob);\n            // console.log('videoBlob', videoBlob);\n\n            // console.log('sending files');\n\n            var formData = new FormData();\n            formData.append('audio', audioBlob);\n            formData.append('video', videoBlob);\n            formData.append('uuid', window.kan.uuid);\n\n            axios.post('/process', formData).then(function (resp) {\n              var s3Id = resp.data;\n              // fire share modal\n              resolve(s3Id);\n              // window.location.href = `/process?id=${videoId}`;\n            }).catch(function (e) {\n              // there was an error uploading!\n              console.error(e);\n              reject(e);\n            });\n          }).catch(function (e) {\n            console.error(e);\n            reject(e);\n          });\n        }).error(function (e) {\n          return Promise.all([asyncStopAudioRecordingAndExportBlob(audioRecorder), asyncStopVideoRecordingAndExportBlob(canvasRecorder)]).then(function (values) {\n            // console.log(values)\n          }).catch(function (e) {\n            // console.error(e);\n          }).finally(function () {\n            reject(e);\n          });\n        });\n      })();\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n\nfunction asyncAddCompositionToDb(data) {\n  return new Promise(function (resolve, reject) {\n    try {\n      var s3Id = data.s3Id;\n      var phone = data.phone;\n      var queryString = qs.stringify({\n        s3Id: s3Id,\n        phone: phone,\n        postKey: config.postKey,\n        location: 'gallery'\n      });\n\n      return axios.post('/composition/new?' + queryString).then(function () {\n        resolve('composition successfully posted');\n      }).catch(function (e) {\n        reject(e);\n      });\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n\nfunction asyncAddDesktopCompositionToDb(s3Id) {\n  return new Promise(function (resolve, reject) {\n    try {\n      var queryString = qs.stringify({\n        s3Id: s3Id,\n        postKey: config.postKey,\n        location: 'desktop'\n      });\n\n      return axios.post('/composition/new?' + queryString).then(function () {\n        resolve('composition successfully posted');\n      }).catch(function (e) {\n        reject(e);\n      });\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n\nfunction asyncWaitForDesktopCompositionToFinishProcessing() {\n  return new Promise(function (resolve, reject) {\n    try {\n      socket.on(\"new_msg\", function (data) {\n        console.log('data!', data);\n        resolve(data.msg);\n      });\n\n      setTimeout(function () {\n        reject();\n      }, 5 * 60 * 1000); // reject after 5 minutes\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n\nfunction handleSharePressed() {\n  clearTimeout(window.kan.sharePromptTimeout);\n  clearTimeout(window.kan.playPromptTimeout);\n\n  if (util.anyShapesOnCanvas() !== true) {\n    // console.log('nope');\n    return;\n  }\n\n  ga('send', 'event', 'share', 'modalFired');\n\n  if (window.kan.location === 'gallery') {\n    handleGallerySharePressed();\n  } else {\n    handleDesktopSharePressed();\n  }\n}\n\nfunction handleGallerySharePressed() {\n  overlays.openOverlay('share-prepare');\n  // clearInterval(window.kan.inactivityTimeout);\n  ui.enterShareMode();\n  overlays.asyncCloseOverlaysAfterDuration(1000 * 1).then(function () {\n    return asyncRecord();\n  }).then(function (s3Id) {\n    // console.log('recording done');\n    ui.exitShareMode();\n    overlays.openOverlay('share');\n    return overlays.asyncWaitForWellFormedPhoneNumber(s3Id);\n  }).then(function (resp) {\n    // console.log('received well formed phone number');\n    return asyncAddCompositionToDb(resp);\n  }).then(function () {\n    // close overlay\n    overlays.openOverlay('share-confirmation');\n    ga('send', 'event', 'share', 'mobileLinkSent');\n    setTimeout(function () {\n      video.enterTutorialMode();\n    }, 1000 * 4);\n    // console.log('close overlay, done!');\n  }).catch(function (e) {\n    ui.exitShareMode(); // make sure\n    if (e === 'timeout') {\n      console.log('error in share mode, going into tutorial');\n      video.enterTutorialMode();\n    } else {\n      // continue, share modal did not time out, reject silently\n      console.log('error in share mode,', e);\n    }\n  });\n}\n\nfunction handleDesktopSharePressed() {\n  ui.showDesktopSharePrepNotice();\n  ui.enterShareMode();\n  timing.clearTimeouts();\n  var s3Id = null;\n  asyncRecord().then(function (id) {\n    s3Id = id;\n    return asyncAddDesktopCompositionToDb(s3Id);\n    // console.log('recording done');\n  }).then(function () {\n    return asyncWaitForDesktopCompositionToFinishProcessing();\n  }).then(function () {\n    // redirect to composition\n    ga('send', 'event', 'share', 'desktopCompositionRedirect');\n    window.location.href = 'https://www.color-composer.net/composition/' + s3Id;\n  }).catch(function (e) {\n    ui.exitShareMode(); // make sure\n    if (e === 'timeout') {\n      console.log('error in share mode, going into tutorial');\n      video.enterTutorialMode();\n    } else {\n      // continue, share modal did not time out, reject silently\n      console.log('error in share mode,', e);\n    }\n  });\n}\n\n},{\"./config\":155,\"./overlays\":158,\"./socket\":161,\"./sound\":162,\"./timing\":163,\"./ui\":166,\"./util\":167,\"./video\":168,\"axios\":2,\"bluebird\":30,\"qs\":63}],161:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.init = init;\nvar io = require('socket.io-client');\nvar socket = exports.socket = io();\n\nfunction init() {\n  socket.emit('join', { uuid: window.kan.uuid });\n}\n\n},{\"socket.io-client\":67}],162:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.init = init;\nexports.reinitShapeSounds = reinitShapeSounds;\nexports.getShapeSoundObj = getShapeSoundObj;\nexports.startPlaying = startPlaying;\nexports.stopPlaying = stopPlaying;\nexports.asyncInitShapeSounds = asyncInitShapeSounds;\nexports.formatShapeSoundData = formatShapeSoundData;\nexports.quantizeLength = quantizeLength;\nexports.quantizePosition = quantizePosition;\nexports.asyncPlayShape = asyncPlayShape;\nexports.asyncPlayShapeSound = asyncPlayShapeSound;\nexports.removeShapeFromComposition = removeShapeFromComposition;\nexports.clearSoundTimeouts = clearSoundTimeouts;\nexports.startComposition = startComposition;\nexports.asyncPlayCompositionMultipleTimes = asyncPlayCompositionMultipleTimes;\nexports.asyncPlayCompositionOnce = asyncPlayCompositionOnce;\nexports.stopComposition = stopComposition;\nexports.getTrimmedCompositionObj = getTrimmedCompositionObj;\nrequire('howler');\nvar Promise = require(\"bluebird\");\n\nvar ui = require('./ui');\nvar shape = require('./shape');\nvar color = require('./color');\nvar overlays = require('./overlays');\nvar tutorial = require('./tutorial');\nvar animation = require('./animation');\nvar util = require('./util');\n\nvar $body = $('body');\n\nvar measures = 4;\nvar bpm = 120;\nvar beatLength = 60 / bpm * 1000; // ms\nvar measureLength = exports.measureLength = beatLength * 4;\nvar compositionLength = exports.compositionLength = measureLength * measures;\n\nvar playingClass = exports.playingClass = 'playing';\nvar playEnabledClass = exports.playEnabledClass = 'play-enabled';\n\nfunction init() {\n  Howler.autoSuspend = false; // don't dump sounds from cache after inactivity (causes some issues in kiosk mode)\n  return asyncInitShapeSounds();\n}\n\nfunction reinitShapeSounds() {\n  return asyncInitShapeSounds();\n}\n\nfunction getShapeSoundObj(path) {\n  var viewWidth = paper.view.viewSize.width;\n  var viewHeight = paper.view.viewSize.height;\n  var shapeSounds = window.kan.shapeSounds || initShapeSounds();\n  // alert(JSON.stringify(window.kan.shapeSounds));\n  // console.log(JSON.stringify(window.kan.shapeSounds));\n\n  var shapePrediction = shape.getShapePrediction(path);\n  var colorName = color.getPathColorName(path);\n  if (colorName === null) colorName = 'black'; // just in case\n\n  var quantizedSoundStartTime = quantizeLength(path.bounds.x / viewWidth * compositionLength); // ms\n  var quantizedSoundDuration = quantizeLength(path.bounds.width / viewWidth * compositionLength); // ms\n\n  var soundObj = {};\n  soundObj.sound = shapeSounds[shapePrediction.pattern];\n  soundObj.startTime = quantizedSoundStartTime;\n  soundObj.duration = quantizedSoundDuration;\n  soundObj.pathId = path.id;\n  soundObj.spriteName = colorName;\n  soundObj.groupId = path.parent.id;\n  soundObj.play = function () {\n    return new Promise(function (resolve, reject) {\n      soundObj.sound.play(soundObj.spriteName);\n      soundObj.sound.on('end', function () {\n        resolve('Group ' + soundObj.groupId + ' done playing sound');\n      });\n      soundObj.sound.on('loaderror', function () {\n        reject('Group ' + soundObj.groupId + ' failed to load sound');\n      });\n    });\n  };\n\n  return soundObj;\n}\n\nfunction startPlaying() {\n  // console.log('first time', window.kan.firstTimePlaying);\n  if ($body.hasClass(playEnabledClass)) {\n    $body.addClass(playingClass);\n\n    Howler.mute(false);\n\n    window.kan.playing = true;\n\n    if (window.kan.firstTimePlaying === true) {\n      window.kan.firstTimePlaying = false;\n      startComposition(window.kan.composition, false);\n    } else {\n      startComposition(window.kan.composition, true);\n    }\n  } else {\n    window.kan.playing = false;\n    $body.removeClass(playingClass);\n  }\n}\n\nfunction stopPlaying() {\n  var mute = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  if (!!mute) {\n    Howler.mute(true);\n  }\n\n  window.kan.playing = false;\n  $body.removeClass(playingClass);\n\n  stopComposition();\n}\n\nfunction asyncGetShapeSoundFromShapeName(shapeName) {\n  var shapeSoundJSONPath = './audio/shapes/' + shapeName + '/' + shapeName + '.json';\n  return $.getJSON(shapeSoundJSONPath).then(function (resp) {\n    var shapeSoundData = formatShapeSoundData(shapeName, resp);\n    var sound = new Howl(shapeSoundData);\n    return {\n      shapeName: shapeName,\n      sound: sound\n    };\n  });\n}\n\nfunction asyncInitShapeSounds() {\n  var returnSounds = {};\n  var extensions = ['ogg', 'm4a', 'mp3', 'ac3'];\n\n  var shapeNames = shape.shapeNames;\n  var promises = [];\n  Base.each(shapeNames, function (shapeName) {\n    promises.push(asyncGetShapeSoundFromShapeName(shapeName));\n  });\n\n  return $.when.apply($, promises).done(function () {\n    var returnSounds = {};\n    for (var i = 0; i < arguments.length; i++) {\n      var arg = arguments[i];\n      returnSounds[arg.shapeName] = arg.sound;\n    }\n\n    window.kan.shapeSounds = returnSounds;\n    return returnSounds;\n  });\n}\n\nfunction formatShapeSoundData(shapeName, data) {\n  var returnData = {};\n\n  returnData.src = data.urls.map(function (url) {\n    return './audio/shapes/' + shapeName + '/' + url;\n  });\n  returnData.sprite = data.sprite;\n  returnData.html5 = false;\n  returnData.loop = false;\n\n  return returnData;\n}\n\nfunction quantizeLength(duration) {\n  var smallestDuration = 60 / bpm;\n  var returnDuration = Math.floor(duration / smallestDuration) * smallestDuration;\n\n  if (returnDuration > 0) {\n    return returnDuration;\n  } else {\n    // always return something greater than zero\n    return smallestDuration;\n  }\n}\n\nfunction quantizePosition(position, viewWidth) {\n  var smallestInterval = viewWidth / (4 * measures);\n  return returnPosition = Math.floor(position / smallestInterval) * smallestInterval;\n}\n\nfunction asyncPlayShape(shapeSoundObj) {\n  return new Promise(function (resolve, reject) {\n    Promise.all([asyncPlayShapeSound(shapeSoundObj), animation.asyncPlayShapeAnimation(shapeSoundObj.groupId)]).then(function () {\n      resolve('Group ' + shapeSoundObj.groupId + ' fully done playing');\n    }).error(function (e) {\n      reject('Group ' + shapeSoundObj.groupId + ' errored while playing: ' + e);\n    });\n  });\n}\n\nfunction asyncPlayShapeSound(shapeSoundObj) {\n  return new Promise(function (resolve, reject) {\n    try {\n      // console.log('playing: ', shapeSoundObj.sound, shapeSoundObj.spriteName, shapeSoundObj.startTime);\n      shapeSoundObj.play().then(function (res) {\n        resolve(res);\n      }).catch(function (e) {\n        reject(e);\n      });\n    } catch (e) {\n      reject('Error playing shapeSoundObj sound: ' + e);\n    }\n  });\n}\n\nfunction removeShapeFromComposition(shapeGroup) {\n  var _loop = function _loop(i) {\n    var sound = window.kan.composition[i];\n\n    if ('groupId' in sound) {\n      if (sound.groupId === shapeGroup.id) {\n        window.kan.composition.splice(i, 1);\n        return {\n          v: void 0\n        };\n      }\n    } else if ('pathId' in sound) {\n      var item = getItems({\n        match: function match(el) {\n          return el.id === sound.pathId;\n        }\n      });\n      if (item.length > 0) {\n        if (!!item.parent && item.parent.className === 'Group' && item.parent.id === shapeGroup.id) {\n          window.kan.composition.splice(i, 1);\n          return {\n            v: void 0\n          };\n        }\n      }\n    }\n  };\n\n  for (var i = 0; i < window.kan.composition.length; i++) {\n    var _ret = _loop(i);\n\n    if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n  }\n}\n\nfunction clearSoundTimeouts() {\n  if (window.kan.soundTimeouts.length > 0) {\n    window.kan.soundTimeouts.forEach(function (soundTimeout) {\n      clearTimeout(soundTimeout);\n    });\n  }\n\n  window.kan.soundTimeouts = [];\n}\n\nfunction startComposition(composition) {\n  var loop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  stopComposition();\n  tutorial.hideContextualTuts();\n\n  clearTimeout(window.kan.playPromptTimeout);\n\n  var iterations = 0;\n  playCompositionFirstTime();\n\n  function playCompositionFirstTime() {\n    clearSoundTimeouts();\n    // console.log('playing composition first time');\n    var trimmedCompositionObj = getTrimmedCompositionObj(composition);\n\n    Base.each(trimmedCompositionObj.composition, function (shapeSoundObj, i) {\n      var soundTimeout = setTimeout(function () {\n        if (!window.kan.playing) {\n          // console.log('not playing, returning');\n          return;\n        }\n\n        if (shapeSoundObj.spriteName === null) {\n          // console.log('%cshapeSoundObj is null', 'color:red', shapeSoundObj);\n          return;\n        }\n\n        asyncPlayShape(shapeSoundObj).then(function (res) {\n          // console.log(res);\n        }).error(function (e) {\n          // console.log('Error playing shapeSoundObj', e);\n        });\n      }, shapeSoundObj.startTime);\n      window.kan.soundTimeouts.push(soundTimeout);\n    });\n\n    iterations++;\n    window.kan.compositionTimeout = setTimeout(repeatComposition, compositionLength - trimmedCompositionObj.startTime);\n  }\n\n  function playCompositionOnce() {\n    clearSoundTimeouts();\n    // console.log('repeat');\n    Base.each(composition, function (shapeSoundObj, i) {\n      var soundTimeout = setTimeout(function () {\n        if (!window.kan.playing) {\n          // console.log('not playing, returing');\n          return;\n        }\n\n        // console.log('playing: ', shapeSoundObj.sound, shapeSoundObj.spriteName, shapeSoundObj.startTime);\n        asyncPlayShape(shapeSoundObj).then(function (res) {\n          // console.log(res);\n        }).error(function (e) {\n          // console.log('Error playing shapeSoundObj', e);\n        });\n      }, shapeSoundObj.startTime);\n      window.kan.soundTimeouts.push(soundTimeout);\n    });\n    iterations++;\n  }\n\n  function repeatComposition() {\n    if (loop === true) {\n      playCompositionOnce();\n      window.kan.compositionInterval = setInterval(playCompositionOnce, compositionLength);\n    } else {\n      if (iterations < 2) {\n        playCompositionOnce();\n        setTimeout(repeatComposition, compositionLength);\n      } else {\n        stopPlaying();\n        overlays.openOverlay('share-prompt');\n      }\n    }\n  }\n}\n\nfunction asyncPlayCompositionMultipleTimes() {\n  var repeats = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n\n  return new Promise(function (resolve, reject) {\n    var promisedRepeats = [];\n\n    for (var i = 0; i < repeats; i++) {\n      promisedRepeats.push(asyncPlayCompositionOnce());\n    }\n\n    Promise.each(promisedRepeats, function () {\n      // console.log('repeat');\n    }).then(function () {\n      resolve('Repeats done');\n    }).error(function (e) {\n      reject(e);\n    });\n  });\n}\n\nfunction asyncPlayCompositionOnce() {\n  return new Promise(function (resolve, reject) {\n    var composition = window.kan.composition;\n    var startTime = new Date().getTime();\n    clearSoundTimeouts();\n\n    var shapePromises = [];\n\n    shape.startKeepaliveAnimation();\n\n    Base.each(composition, function (shape, i) {\n      shapePromises.push(asyncPlayShapeWithDelay(shape));\n    });\n\n    Promise.all(shapePromises).then(function (res) {\n      var endTime = new Date().getTime();\n      var playTime = endTime - startTime;\n\n      // wait for composition to be fully done before repeating (play is naturally truncated when the last shape finishes playing)\n      if (playTime < compositionLength) {\n        return Promise.delay(compositionLength - playTime).then(function () {\n          shape.stopKeepaliveAnimation();\n          resolve('Composition fully done, after a wait');\n        });\n      } else {\n        shape.stopKeepaliveAnimation();\n        resolve('Composition fully done, with no wait');\n      }\n    }).error(function (e) {\n      shape.stopKeepaliveAnimation();\n      reject(e);\n    });\n  });\n}\n\nfunction asyncPlayShapeWithDelay(shape) {\n  return new Promise(function (resolve, reject) {\n    var soundTimeout = setTimeout(function () {\n      // console.log('playing: ', shape.sound, shape.spriteName, shape.startTime);\n      asyncPlayShape(shape).then(function (res) {\n        resolve(res);\n      }).error(function (e) {\n        reject('Error playing shape with delay: ' + e);\n      });\n    }, shape.startTime);\n    window.kan.soundTimeouts.push(soundTimeout);\n  });\n}\n\nfunction stopComposition() {\n  clearInterval(window.kan.compositionInterval);\n  clearTimeout(window.kan.compositionTimeout);\n  clearSoundTimeouts();\n}\n\nfunction getTrimmedCompositionObj(composition) {\n  var firstTime = 0;\n  var trimmedComposition = [];\n  var startTime = getCompositionStartTime(composition);\n\n  composition.forEach(function (sound) {\n    var modifiedSound = util.shallowCopy(sound);\n    modifiedSound.startTime = sound.startTime - startTime;\n    if (modifiedSound.startTime < 0) modifiedSound.startTime = 0; // this shouldn't happen\n    trimmedComposition.push(modifiedSound);\n  });\n\n  return {\n    composition: trimmedComposition,\n    startTime: startTime\n  };\n}\n\nfunction getCompositionStartTime(composition) {\n  var startTime = compositionLength;\n\n  composition.forEach(function (sound) {\n    // console.log(sound);\n    // console.log(sound.startTime)\n    if ('startTime' in sound && sound.startTime < startTime) {\n      startTime = sound.startTime;\n    }\n  });\n\n  // console.log('start time', startTime);\n\n  if (startTime !== compositionLength) {\n    return startTime;\n  } else {\n    return 0;\n  }\n}\n\n},{\"./animation\":153,\"./color\":154,\"./overlays\":158,\"./shape\":159,\"./tutorial\":165,\"./ui\":166,\"./util\":167,\"bluebird\":30,\"howler\":54}],163:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.init = init;\nexports.preventInactivityTimeout = preventInactivityTimeout;\nexports.clearTimeouts = clearTimeouts;\nvar overlays = require('./overlays');\nvar video = require('./video');\nvar util = require('./util');\n\nvar $body = $('body');\n\nvar drawInactivityDelay = exports.drawInactivityDelay = 40 * 1000; // ms\nvar continueInactivityDelay = exports.continueInactivityDelay = 30 * 1000; // ms\nvar playPromptDelay = exports.playPromptDelay = 60 * 1000; // ms;\nvar inputDelay = exports.inputDelay = 100; // ms\nvar refreshCheckDelay = exports.refreshCheckDelay = 60 * 1000; // ms\nvar overlayDelay = exports.overlayDelay = 1000; // ms\nvar browserWidthCheckDelay = exports.browserWidthCheckDelay = 250; // ms\n\nfunction init() {\n  if (window.location.hash.length > 0 && window.location.hash == '#dev') {\n    window.kan.overlays = false;\n    video.pauseVideo();\n    video.exitTutorialMode();\n  } else {\n    var location = void 0;\n    if (window.location.hash.length > 0 && window.location.hash == '#gallery') {\n      location = 'gallery';\n    } else {\n      location = 'home';\n    }\n    ga('set', 'dimension1', location);\n    video.enterTutorialMode();\n  }\n}\n\nfunction preventInactivityTimeout() {\n  if (window.kan.stopTimeouts !== true) {\n    console.log('prevent timeout: ' + util.getTime());\n\n    clearTimeout(window.kan.inactivityTimeout);\n    clearInterval(window.kan.continueCountdownInterval);\n\n    window.kan.inactivityTimeout = setTimeout(function () {\n      overlays.openOverlay('continue');\n    }, drawInactivityDelay);\n  }\n}\n\nfunction clearTimeouts() {\n  console.log('clearing timeouts');\n  window.kan.stopTimeouts = true;\n  clearTimeout(window.kan.inactivityTimeout);\n  clearTimeout(window.kan.sharePromptTimeout);\n  clearInterval(window.kan.continueCountdownInterval);\n  clearTimeout(window.kan.playPromptTimeout);\n}\n\n},{\"./overlays\":158,\"./util\":167,\"./video\":168}],164:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.init = init;\nexports.enableAllEvents = enableAllEvents;\nexports.disableAllEvents = disableAllEvents;\nrequire('hammerjs');\n\nvar config = require('./config');\nvar sound = require('./sound');\nvar color = require('./color');\nvar shape = require('./shape');\nvar util = require('./util');\nvar tutorial = require('./tutorial');\nvar timing = require('./timing');\nvar overlays = require('./overlays');\nvar ui = require('./ui');\nvar animation = require('./animation');\n\nvar $body = $('body');\n\nvar hitOptions = {\n  segments: false,\n  stroke: true,\n  fill: true,\n  tolerance: 5\n};\n\nvar minShapeSize = 100;\nvar maxShapeLength = 5000;\nvar maxScaleFactor = 0.8;\n\nvar outerPath = void 0;\nvar sizes = [];\nvar size = void 0;\nvar cumSize = void 0;\nvar prevPoint = void 0;\n\nvar hammerTips = exports.hammerTips = void 0;\nvar hammerCanvas = exports.hammerCanvas = void 0;\n\nfunction init() {\n  exports.hammerTips = hammerTips = new Hammer.Manager(ui.tipsOverlay);\n  hammerTips.add(new Hammer.Swipe({ direction: Hammer.DIRECTION_ALL }));\n  hammerTips.on('swipe', overlays.cardNavNext);\n\n  exports.hammerCanvas = hammerCanvas = new Hammer.Manager(ui.drawCanvas);\n  hammerCanvas.add(new Hammer.Tap({ event: 'doubletap', taps: 2, interval: 400, time: 150, posThreshold: 50 }));\n  hammerCanvas.add(new Hammer.Tap({ event: 'singletap' }));\n  hammerCanvas.add(new Hammer.Pan({ direction: Hammer.DIRECTION_ALL }));\n  hammerCanvas.add(new Hammer.Pinch());\n\n  hammerCanvas.get('doubletap').recognizeWith('singletap');\n  // hammerCanvas.get('singletap').requireFailure('doubletap');\n  hammerCanvas.get('pan').requireFailure('pinch');\n  hammerCanvas.get('pinch').requireFailure('pan');\n\n  // hammerCanvas.on('singletap', singleTap);\n  hammerCanvas.on('doubletap', doubleTap);\n\n  hammerCanvas.on('panstart', panStart);\n  hammerCanvas.on('panmove', panMove);\n  hammerCanvas.on('panend', panEnd);\n  // hammerCanvas.on('pancancel', panCancel);\n\n  hammerCanvas.on('pinchstart', pinchStart);\n  hammerCanvas.on('pinchmove', pinchMove);\n  hammerCanvas.on('pinchend', pinchEnd);\n  // hammerCanvas.on('pinchcancel', pinchCancel);\n}\n\nfunction enableAllEvents() {\n  var enable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  enableTapEvents(enable);\n  enablePanAndPinchEvents(enable);\n}\n\nfunction disableAllEvents() {\n  enableAllEvents(false);\n}\n\nfunction enablePanAndPinchEvents() {\n  var enable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  enable = enable === true;\n  enablePanEvents(enable);\n  enablePinchEvents(enable);\n}\n\nfunction enableTapEvents() {\n  var enable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  enable = enable === true;\n  hammerCanvas.get('singletap').set({ enable: enable });\n  hammerCanvas.get('doubletap').set({ enable: enable });\n}\n\nfunction disableTapEvents() {\n  enableTapEvents(false);\n}\n\nfunction enablePanEvents() {\n  var enable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  enable = enable === true;\n\n  hammerCanvas.get('pan').set({ enable: enable });\n  // hammerCanvas.get('panstart').set({enable: enable});\n  // hammerCanvas.get('panmove').set({enable: enable});\n  // hammerCanvas.get('panend').set({enable: enable});\n}\n\nfunction disablePanEvents() {\n  enablePanEvents(false);\n}\n\nfunction enablePinchEvents() {\n  var enable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  enable = enable === true;\n\n  hammerCanvas.get('pinch').set({ enable: enable });\n  // hammerCanvas.get('pinchstart').set({enable: enable});\n  // hammerCanvas.get('pinchmove').set({enable: enable});\n  // hammerCanvas.get('pinchend').set({enable: enable});\n}\n\nfunction disablePinchEvents() {\n  enablePinchEvents(false);\n}\n\nfunction singleTap(event) {\n  var pointer = ui.getNormalizedEventCenter(event);\n  var point = new Point(pointer.x, pointer.y);\n  var hitResult = paper.project.hitTest(point, hitOptions);\n\n  if (hitResult) {\n    var item = hitResult.item;\n    // item.selected = !item.selected;\n    // console.log(item);\n  }\n}\n\nfunction doubleTap(event) {\n  event.preventDefault();\n\n  // console.log('doubletap');\n\n  var pointer = ui.getNormalizedEventCenter(event);\n  var point = new Point(pointer.x, pointer.y);\n  var hitResult = paper.project.hitTest(point, hitOptions);\n\n  if (!eventTargetIsOnCanvas(event)) return;\n\n  sound.stopPlaying();\n\n  if (hitResult) {\n    shape.toggleFill(hitResult.item);\n    tutorial.hideContextualTutByName('fill');\n  } else {\n    window.kan.pinchedGroup = null;\n    // console.log('hit no item');\n  }\n}\n\nfunction panStart(event) {\n  // console.log(event);\n  // console.log('panstart');\n  // paper.project.activeLayer.removeChildren(); // REMOVE\n  // event.preventDefault();\n  var currentColor = color.getCurrentColor();\n  timing.preventInactivityTimeout();\n\n  if (!eventTargetIsOnCanvas(event)) {\n    window.kan.panning = false;\n    // check if tips modal is up\n    if ($body.hasClass('overlay-active tips-active')) {\n      // if so, go to next tip card\n      overlays.cardNavNext();\n    }\n    event.srcEvent.stopPropagation();\n    return;\n  }\n\n  window.kan.panning = true;\n\n  hammerCanvas.off('panstart');\n  // hammerCanvas.get('pan').set({enable: false});\n  disablePinchEvents();\n  disableTapEvents();\n\n  // ignore other touch inputs\n  // if (window.kan.pinching) return;\n  // if (!(event.changedPointers && event.changedPointers.length > 0)) return;\n  // if (event.changedPointers.length > 1) {\n  //   console.log('event.changedPointers > 1');\n  // }\n\n  sound.stopPlaying();\n\n  window.kan.prevAngle = Math.atan2(event.velocityY, event.velocityX);\n\n  var pointer = ui.getNormalizedEventCenter(event);\n  var point = new Point(pointer.x, pointer.y);\n\n  outerPath = new Path();\n  outerPath.fillColor = currentColor;\n  // outerPath.fillColor = new Color(0, 0.5);\n\n  sizes = [];\n\n  var shapePath = new Path({\n    strokeColor: currentColor,\n    name: 'shapePath',\n    strokeWidth: 5,\n    visible: false,\n    strokeCap: 'round'\n  });\n\n  shapePath.add(point);\n\n  window.kan.pathData[shape.stringifyPoint(point)] = {\n    point: point,\n    first: true\n  };\n\n  window.kan.shapePath = shapePath;\n}\n\nfunction panMove(event) {\n  // console.log('panmove');\n  // event.preventDefault();\n  if (!eventTargetIsOnCanvas(event)) {\n    event.srcEvent.stopPropagation();\n    return;\n  }\n  if (window.kan.panning !== true) return;\n\n  // don't let the user draw past the max length\n  if (window.kan.shapePath.length <= maxShapeLength) {\n    var pointer = ui.getNormalizedEventCenter(event);\n    var point = new Point(pointer.x, pointer.y);\n\n    var angle = Math.atan2(event.velocityY, event.velocityX);\n    var prevAngle = window.kan.prevAngle;\n    var angleDelta = util.angleDelta(angle, prevAngle);\n    window.kan.prevAngle = angle;\n\n    while (sizes.length > 10) {\n      sizes.shift();\n    }\n    if (sizes.length > 0) {\n      var dist = prevPoint.getDistance(point);\n\n      // These are based on acceleration\n      size = Math.random() * 10; // This is just random variance\n\n      cumSize = 0;\n      for (var j = 0; j < sizes.length; j++) {\n        cumSize += sizes[j];\n      }\n      // const avgSize = ((cumSize / sizes.length) + size) / 2;\n      var avgSize = Math.max(5, (cumSize / sizes.length + size) / 2);\n\n      var halfPointX = (point.x + prevPoint.x) / 2;\n      var halfPointY = (point.y + prevPoint.y) / 2;\n      var halfPoint = new Point(halfPointX, halfPointY);\n\n      var topX = halfPoint.x + Math.cos(angle - Math.PI / 2) * avgSize;\n      var topY = halfPoint.y + Math.sin(angle - Math.PI / 2) * avgSize;\n      var top = new Point(topX, topY);\n\n      var bottomX = halfPoint.x + Math.cos(angle + Math.PI / 2) * avgSize;\n      var bottomY = halfPoint.y + Math.sin(angle + Math.PI / 2) * avgSize;\n      var bottom = new Point(bottomX, bottomY);\n\n      outerPath.add(top);\n      outerPath.insert(0, bottom);\n      outerPath.smooth();\n    } else {\n      size = 5;\n    }\n\n    sizes.push(size);\n    prevPoint = point;\n\n    window.kan.pathData[shape.stringifyPoint(point)] = {\n      point: point,\n      speed: Math.abs(event.overallVelocity),\n      angle: angle\n    };\n\n    window.kan.shapePath.add(point);\n  } else {\n    window.kan.shapePath.data.tooLong = true;\n  }\n\n  paper.view.draw();\n}\n\nfunction panEnd(event) {\n  // console.log('panend');\n  // event.preventDefault();\n  if (!eventTargetIsOnCanvas(event)) {\n    event.srcEvent.stopPropagation();\n    return;\n  }\n  if (window.kan.panning !== true) return;\n\n  var pointer = ui.getNormalizedEventCenter(event);\n  var point = new Point(pointer.x, pointer.y);\n\n  var currentColor = color.getCurrentColor();\n  var transparent = color.transparent;\n\n  var move = { type: 'newGroup' };\n\n  var shapePath = window.kan.shapePath;\n\n  if (shapePath.length <= maxShapeLength) {\n    shapePath.add(point);\n  }\n  outerPath.visible = false;\n\n  if (shapePath.length < minShapeSize || shapePath.data && shapePath.data.tooLong === true) {\n    // console.log('path is too short');\n    shapePath.remove();\n    hammerCanvas.on('panstart', panStart);\n    enablePanAndPinchEvents();\n    enableTapEvents();\n    window.kan.panning = false;\n    return;\n  }\n\n  var visibleGroups = util.getVisibleGroups();\n  if (visibleGroups.length >= config.maxShapes) {\n    // too many shapes on canvas, remove first shape\n    // TODO: place on moves stack so that they can be restored with an undo\n    var firstGroup = visibleGroups[0];\n    shape.destroyGroupPops(firstGroup);\n    sound.removeShapeFromComposition(firstGroup);\n    move.removedGroup = firstGroup;\n    // firstGroup.remove();\n    firstGroup.visible = false;\n  }\n\n  window.kan.pathData[shape.stringifyPoint(point)] = {\n    point: point,\n    last: true\n  };\n\n  var group = new Group();\n\n  var truedShape = shape.getTruedShape(shapePath);\n\n  // group.data.color = truedShape.strokeColor;\n\n  var shapeSize = truedShape.strokeBounds;\n  var centerPoint = new Point(shapeSize.width / 2, shapeSize.height / 2);\n  var angle = util.rad(Math.random() * 360);\n  var gradientSize = (shapeSize.width + shapeSize.height) / 4;\n  var originX = centerPoint.x + Math.cos(angle - Math.PI / 2) * gradientSize;\n  var originY = centerPoint.y + Math.sin(angle - Math.PI / 2) * gradientSize;\n  var destinationX = centerPoint.x + Math.cos(angle + Math.PI / 2) * gradientSize;\n  var destinationY = centerPoint.y + Math.sin(angle + Math.PI / 2) * gradientSize;\n\n  var origin = new Point(originX + shapeSize.x, originY + shapeSize.y);\n  var destination = new Point(destinationX + shapeSize.x, destinationY + shapeSize.y);\n  // group.addChild(new Path.Circle({\n  //   center: origin,\n  //   radius: 5,\n  //   fillColor: 'red',\n  // }));\n  // group.addChild(new Path.Circle({\n  //   center: destination,\n  //   radius: 5,\n  //   fillColor: 'green',\n  // }));\n  group.data.originalColor = currentColor;\n  group.data.color = {\n    gradient: {\n      stops: config.palette.gradients[currentColor]\n    },\n    origin: origin,\n    destination: destination\n  };\n  group.data.scale = 1; // init variable to track scale changes\n  group.data.rotation = 0; // init variable to track rotation changes\n  group.data.fresh = true;\n\n  shapePath.remove();\n  truedShape.visible = false;\n  truedShape.strokeColor = transparent;\n  window.kan.shapePath = truedShape;\n  truedShape.name = 'shapePath';\n\n  if (!(truedShape.length > 0)) {\n    truedShape.remove();\n    group.remove();\n    window.kan.panning = false;\n    return;\n  }\n\n  group.addChild(truedShape);\n\n  var shapeSoundObj = sound.getShapeSoundObj(truedShape);\n  window.kan.composition.push(shapeSoundObj);\n\n  truedShape.visible = false;\n  var outlineGroup = shape.getOutlineGroup(truedShape);\n  var outline = outlineGroup._namedChildren.outer[0].clone();\n  outline.name = 'outer';\n  outline.fillColor = currentColor;\n  outline.fillColor = group.data.color;\n\n  var outlineCenter = outlineGroup._namedChildren.middle[0].clone();\n  outlineCenter.strokeColor = group.data.color;\n  outlineCenter.visible = false;\n  group.addChild(outline);\n  outline.sendToBack();\n\n  outlineGroup.remove();\n\n  var shapeMask = outline.clone();\n  shapeMask.fillColor = outline.fillColor;\n  shapeMask.strokeColor = transparent;\n  shapeMask.closed = true;\n\n  var enclosedLoops = shape.findInteriorCurves(outlineCenter);\n  // console.log('enclosedLoops', enclosedLoops);\n  if (enclosedLoops.length > 0 || truedShape.closed === true) {\n    group.data.line = false;\n  } else {\n    group.data.line = true;\n  }\n\n  enclosedLoops.forEach(function (loop) {\n    shapeMask.unite(loop);\n    shapeMask.sendToBack();\n    loop.name = 'loop';\n    loop.data.loop = true;\n    loop.visible = true;\n    group.addChild(loop);\n    loop.bringToFront();\n  });\n\n  shapeMask.unite();\n  var crossings = shapeMask.resolveCrossings();\n  if (!!crossings && !!crossings.children && crossings.children.length > 0) {\n    (function () {\n      var maxArea = 0,\n          maxChild = null;\n      crossings.children.forEach(function (child) {\n        if (child.area > maxArea) {\n          maxChild = child;\n          maxArea = child.area;\n        }\n      });\n\n      shapeMask = maxChild;\n    })();\n  }\n\n  outlineCenter.remove();\n  shapeMask.visible = false;\n  shapeMask.name = 'mask';\n  shapeMask.data.mask = true;\n  group.addChild(shapeMask);\n  shapeMask.sendToBack();\n\n  shape.cleanUpGroup(group);\n  group.shadowColor = group.data.originalColor;\n  group.shadowBlur = 0;\n\n  move.id = group.id;\n  window.kan.moves.push(move);\n\n  ui.unditherButtonsByName(['new', 'undo', 'play-stop', 'share']);\n  $body.addClass(sound.playEnabledClass);\n\n  if (window.kan.userHasDrawnFirstShape !== true) {\n    // first shape!\n    // set play prompt timeout\n    window.kan.playPromptTimeout = setTimeout(function () {\n      overlays.openOverlay('play-prompt');\n    }, timing.playPromptDelay);\n\n    window.kan.userHasDrawnFirstShape = true;\n  }\n\n  if (config.runAnimations) {\n    var scaleFactor = 0.9;\n    group.animate([{\n      properties: {\n        scale: scaleFactor\n      },\n      settings: {\n        duration: 100,\n        easing: \"easeOut\"\n      }\n    }, {\n      properties: {\n        scale: 1 / scaleFactor\n      },\n      settings: {\n        duration: 100,\n        easing: \"easeIn\"\n      }\n    }]);\n  }\n\n  if (!tutorial.allTutsCompleted()) {\n    var tutorialCompletion = window.kan.tutorialCompletion;\n    var tutName = null;\n\n    // console.log('window.kan.shapesSinceTut', window.kan.shapesSinceTut);\n\n    if (!tutorialCompletion['fill'] && truedShape.closed) {\n      tutName = 'fill';\n    } else if (!tutorialCompletion['pinch'] && window.kan.shapesSinceTut === tutorial.shapeLimit) {\n      tutName = 'pinch';\n    }\n\n    if (tutName !== null) {\n      // console.log(`${tutName} tutorial`);\n      tutorial.addContextualTut(tutName);\n      window.kan.tutorialCompletion[tutName] = true;\n      group.data.tut = tutName;\n      group.data.hasTut = true;\n    }\n  }\n\n  if (window.kan.shapesSinceTut >= tutorial.shapeLimit) {\n    tutorial.hideContextualTuts();\n    window.kan.shapesSinceTut = 0;\n  } else {\n    window.kan.shapesSinceTut++;\n  }\n\n  if (window.kan.scheduledOverlay !== null) {\n    (function () {\n      var scheduledOverlay = window.kan.scheduledOverlay;\n      window.kan.scheduledOverlay = null;\n      setTimeout(function () {\n        overlays.openOverlay(scheduledOverlay);\n      }, timing.overlayDelay);\n    })();\n  }\n\n  sound.asyncPlayShapeSound(shapeSoundObj);\n\n  // console.log('pan done');\n  hammerCanvas.set({ enable: false });\n  setTimeout(function () {\n    hammerCanvas.set({ enable: true });\n    console.log('touch enabled');\n    hammerCanvas.on('panstart', panStart);\n    enablePanAndPinchEvents();\n    enableTapEvents();\n\n    window.kan.panning = false;\n  }, timing.inputDelay);\n\n  if (config.pop === true) {\n    shape.updatePops();\n  }\n}\n\nfunction panCancel(event) {\n  // console.log('pancancel');\n  event.srcEvent.stopPropagation();\n  // event.preventDefault();\n\n  hammerCanvas.set({ enable: true });\n  hammerCanvas.on('panstart', panStart);\n  enablePanAndPinchEvents();\n  enableTapEvents();\n  window.kan.panning = false;\n}\n\nfunction pinchStart(event) {\n  // console.log('pinchstart');\n  timing.preventInactivityTimeout();\n  window.kan.interacting = true;\n  window.kan.pinching = true;\n  // event.preventDefault();\n\n  // hammerCanvas.get('pinchstart').set({enable: false});\n  hammerCanvas.off('pinchstart');\n  disablePanEvents();\n  disableTapEvents();\n\n  if (!eventTargetIsOnCanvas(event)) return;\n\n  sound.stopPlaying();\n\n  var pointer = ui.getNormalizedEventCenter(event);\n  var point = new Point(pointer.x, pointer.y);\n  var hitResult = shape.hitTestGroupBounds(point);\n\n  if (hitResult) {\n    if (!!hitResult && hitResult.data.hasTut) {\n      tutorial.hideContextualTuts();\n    }\n    window.kan.pinching = true;\n    window.kan.pinchedGroup = hitResult;\n    window.kan.lastScale = 1;\n    window.kan.lastRotation = event.rotation;\n\n    window.kan.originalPosition = hitResult.position;\n    window.kan.originalRotation = hitResult.data.rotation;\n    window.kan.originalScale = hitResult.data.scale;\n    hitResult.data.thrown = false;\n\n    if (config.pop === true) {\n      shape.destroyGroupPops(hitResult);\n    }\n\n    hitResult.bringToFront();\n\n    if (hitResult.data.tut && hitResult.data.tut.length > 0) {\n      var $tut = $('.tut[data-tut-type=\\'' + hitResult.data.tut + '\\']');\n      if ($tut) {\n        window.kan.pinchedTut = $tut;\n      } else {\n        window.kan.pinchedTut = null;\n      }\n    } else {\n      window.kan.pinchedTut = null;\n    }\n\n    // if (config.runAnimations) {\n    //   hitResult.animate({\n    //     properties: {\n    //       scale: 1.25\n    //     },\n    //     settings: {\n    //       duration: 100,\n    //       easing: \"easeOut\",\n    //     }\n    //   });\n    // }\n  } else {\n    window.kan.pinchedGroup = null;\n    window.kan.pinchedTut = null;\n    // console.log('hit no item');\n  }\n}\n\nfunction pinchMove(event) {\n  // console.log('pinchMove');\n  // event.preventDefault();\n\n  var viewWidth = paper.view.viewSize.width;\n  var viewHeight = paper.view.viewSize.height;\n  var pinchedGroup = window.kan.pinchedGroup;\n  var $pinchedTut = window.kan.pinchedTut;\n\n  if (!!pinchedGroup) {\n    var currentScale = event.scale;\n    var scaleDelta = void 0;\n\n    tutorial.hideContextualTutByName('pinch');\n\n    if (pinchedGroup.bounds.width < minShapeSize || pinchedGroup.bounds.height < minShapeSize) {\n      // only allow a shape to scale down if it is larger than the minimum size\n      scaleDelta = 1.1;\n    } else if (pinchedGroup.bounds.width >= paper.view.viewSize.width || pinchedGroup.bounds.height >= paper.view.viewSize.height) {\n      // only allow shape to scale up if it fits in the viewport\n      scaleDelta = 0.9;\n    } else {\n      scaleDelta = currentScale / window.kan.lastScale;\n    }\n\n    window.kan.lastScale = currentScale;\n\n    var currentRotation = event.rotation;\n    var rotationDelta = currentRotation - window.kan.lastRotation;\n    window.kan.lastRotation = currentRotation;\n\n    // console.log(`scaling by ${scaleDelta}`);\n    // console.log(`rotating by ${rotationDelta}`);\n\n    var centerPoint = ui.getNormalizedEventCenter(event);\n    pinchedGroup.position = centerPoint;\n    if (!!$pinchedTut) {\n      tutorial.moveContextualTut($pinchedTut, centerPoint);\n    }\n\n    if (scaleDelta !== 1) {\n      pinchedGroup.scale(scaleDelta);\n\n      // check if scaling went awry, cannot be too big or too small\n      // hypotenuse must fit within view bounds\n      var hypot = util.hypot(pinchedGroup.bounds.width, pinchedGroup.bounds.height);\n      var viewHypot = util.hypot(paper.view.viewSize.width, paper.view.viewSize.height);\n      if (hypot >= viewHypot) {\n        // shape is too big, bring it back down to size\n        scaleDelta = viewHypot * maxScaleFactor / hypot;\n        pinchedGroup.scale(scaleDelta);\n      } else if (hypot <= minShapeSize) {\n        scaleDelta = minShapeSize / hypot;\n        pinchedGroup.scale(scaleDelta);\n      }\n    }\n    pinchedGroup.rotate(rotationDelta);\n\n    pinchedGroup.data.scale *= scaleDelta;\n    pinchedGroup.data.rotation += rotationDelta;\n  }\n}\n\nfunction pinchEnd(event) {\n  // event.preventDefault();\n\n  window.kan.lastEvent = event;\n  var pinchedGroup = window.kan.pinchedGroup;\n  var $pinchedTut = window.kan.pinchedTut;\n  var originalPosition = window.kan.originalPosition;\n  var originalRotation = window.kan.originalRotation;\n  var originalScale = window.kan.originalScale;\n\n  if (!!pinchedGroup) {\n    pinchedGroup.data.fresh = true;\n    var move = {\n      id: pinchedGroup.id,\n      type: 'transform'\n    };\n    if (pinchedGroup.position != originalPosition) {\n      move.position = originalPosition;\n    }\n\n    if (pinchedGroup.data.rotation != originalRotation) {\n      move.rotation = originalRotation - pinchedGroup.data.rotation;\n    }\n\n    if (pinchedGroup.data.scale != originalScale) {\n      move.scale = originalScale / pinchedGroup.data.scale;\n    }\n\n    if (pinchedGroup.children.length > 0 && pinchedGroup._namedChildren.shapePath && pinchedGroup._namedChildren.shapePath.length > 0) {\n      // update shapePath sound object if possible\n      sound.removeShapeFromComposition(pinchedGroup); // sound is now wrong\n\n      var shapePath = pinchedGroup._namedChildren.shapePath[0];\n      var shapeSoundObj = sound.getShapeSoundObj(shapePath);\n      window.kan.composition.push(shapeSoundObj);\n    }\n\n    window.kan.moves.push(move);\n\n    if (Math.abs(event.velocity) > 1) {\n\n      // hide any connected tuts\n      if (!!$pinchedTut) {\n        tutorial.hideContextualTut($pinchedTut);\n      }\n      // dispose of group offscreen\n      if (config.pop === true) {\n        shape.destroyGroupPops(pinchedGroup);\n        pinchedGroup.data.fresh = false;\n      }\n\n      pinchedGroup.data.thrown = true;\n      throwPinchedGroup();\n    }\n\n    // if (config.runAnimations) {\n    //   pinchedGroup.animate({\n    //     properties: {\n    //       scale: 0.8\n    //     },\n    //     settings: {\n    //       duration: 100,\n    //       easing: \"easeOut\",\n    //     }\n    //   });\n    // }\n  } else {\n    window.kan.pinchedGroup = null;\n  }\n\n  // if an overlay was interrupted, open it up now\n  if (window.kan.scheduledOverlay !== null) {\n    (function () {\n      var scheduledOverlay = window.kan.scheduledOverlay;\n      window.kan.scheduledOverlay = null;\n      setTimeout(function () {\n        overlays.openOverlay(scheduledOverlay);\n      }, timing.overlayDelay);\n    })();\n  }\n\n  window.kan.pinching = false;\n\n  if (config.pop === true) {\n    shape.updatePops();\n  }\n\n  // console.log('pinch done');\n  // hammerCanvas.set({ enable: false });\n  setTimeout(function () {\n    // console.log('touch enabled');\n    hammerCanvas.on('pinchstart', pinchStart);\n    enablePanAndPinchEvents();\n    enableTapEvents();\n    // hammerCanvas.set({ enable: true });\n    // hammerCanvas.on('pinchstart', pinchStart);\n    // enablePanAndPinchEvents();\n    // enableTapEvents();\n    // window.kan.pinching = false;\n    // window.kan.pinchedGroup = null;\n  }, timing.inputDelay);\n}\n\nfunction pinchCancel(event) {\n  // console.log(event);\n  event.srcEvent.stopPropagation();\n  // console.log('pinchcancel');\n  // event.preventDefault();\n\n  hammerCanvas.set({ enable: true });\n  hammerCanvas.on('pinchstart', pinchStart);\n  enablePanAndPinchEvents();\n  enableTapEvents();\n\n  window.kan.pinching = false;\n}\n\nfunction throwPinchedGroup() {\n\n  var velocityMultiplier = 25;\n  var lastEvent = window.kan.lastEvent;\n  var viewWidth = paper.view.viewSize.width;\n  var viewHeight = paper.view.viewSize.height;\n  var pinchedGroup = window.kan.pinchedGroup;\n\n  if (pinchedGroup === null || pinchedGroup.data && pinchedGroup.data.thrown === false) return;\n  if (pinchedGroup.position.x <= 0 - pinchedGroup.bounds.width || pinchedGroup.position.x >= viewWidth + pinchedGroup.bounds.width || pinchedGroup.position.y <= 0 - pinchedGroup.bounds.height || pinchedGroup.position.y >= viewHeight + pinchedGroup.bounds.height) {\n    pinchedGroup.data.offScreen = true;\n    pinchedGroup.visible = false;\n    sound.removeShapeFromComposition(pinchedGroup);\n    window.kan.pinchedGroup = null;\n    return;\n  }\n  requestAnimationFrame(throwPinchedGroup);\n  var newX = pinchedGroup.position.x + lastEvent.velocityX * velocityMultiplier;\n  var newY = pinchedGroup.position.y + lastEvent.velocityY * velocityMultiplier;\n  var newPos = new Point(newX, newY);\n  pinchedGroup.position = newPos;\n}\n\nfunction eventTargetIsOnCanvas(event) {\n  if (!event) return false;\n  if (event.target != ui.drawCanvas) return false;\n  return true;\n}\n\n},{\"./animation\":153,\"./color\":154,\"./config\":155,\"./overlays\":158,\"./shape\":159,\"./sound\":162,\"./timing\":163,\"./tutorial\":165,\"./ui\":166,\"./util\":167,\"hammerjs\":50}],165:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getTutByName = getTutByName;\nexports.allTutsCompleted = allTutsCompleted;\nexports.addContextualTut = addContextualTut;\nexports.hideContextualTut = hideContextualTut;\nexports.hideContextualTutByName = hideContextualTutByName;\nexports.hideContextualTuts = hideContextualTuts;\nexports.resetContextualTuts = resetContextualTuts;\nexports.moveContextualTut = moveContextualTut;\nexports.getTutPositionFromCenter = getTutPositionFromCenter;\nvar config = require('./config');\n\nvar shapeLimit = exports.shapeLimit = 2;\n\nvar contextualTuts = config.contextualTuts;\nvar tutArrowHeight = 16;\n\nfunction getTutByName(tutName) {\n  for (var i = 0; i < contextualTuts.length; i++) {\n    var tutObj = contextualTuts[i];\n\n    if (tutObj.type === tutName) {\n      return tutObj.copy;\n    }\n  }\n\n  return null;\n}\n\nfunction allTutsCompleted() {\n  var tutorialCompletionObj = window.kan.tutorialCompletion;\n  var completion = true;\n\n  Object.keys(tutorialCompletionObj).forEach(function (key, val) {\n    completion = completion && tutorialCompletionObj[key];\n  });\n\n  return completion === true;\n}\n\nfunction addContextualTut(tutName) {\n  if (tutName === 'pinch' && window.kan.location !== 'gallery') return; // if we're on desktop, don't show the pinch tut\n\n  if (!!window.kan.shapePath && window.kan.shapePath.length > 0) {\n    hideContextualTuts();\n    window.kan.shapesSinceTut = 0;\n\n    var shapePath = window.kan.shapePath;\n    var shapeCenter = shapePath.bounds.center;\n\n    var tutCopy = getTutByName(tutName);\n\n    if (tutCopy !== null) {\n      var $tut = $('.tut[data-tut-type=\\'' + tutName + '\\']');\n      if ($tut.length > 0) {\n        var tutPos = getTutPositionFromCenter($tut, shapeCenter);\n        $tut.css({ top: tutPos.y + 'px', left: tutPos.x + 'px', visibility: 'visible' });\n        $tut.addClass('animated bounceIn');\n      }\n    }\n  }\n}\n\nfunction hideContextualTut($tut) {\n  $tut.css({ visibility: 'hidden' });\n}\n\nfunction hideContextualTutByName(tutName) {\n  var $tut = $('.tut[data-tut-type=\\'' + tutName + '\\']');\n  hideContextualTut($tut);\n}\n\nfunction hideContextualTuts() {\n  var $tuts = $('.contextual-tuts .tut');\n  $tuts.css({ visibility: 'hidden' });\n}\n\nfunction resetContextualTuts() {\n  hideContextualTuts();\n  window.kan.tutorialCompletion = {\n    \"fill\": false,\n    \"pinch\": false\n  };\n}\n\nfunction moveContextualTut($tut, centerPoint) {\n  var tutPos = getTutPositionFromCenter($tut, centerPoint);\n  $tut.css({ top: tutPos.y + 'px', left: tutPos.x + 'px' });\n}\n\nfunction getTutPositionFromCenter($tut, centerPoint) {\n  var tutWidth = $tut.outerWidth();\n  var tutHeight = $tut.outerHeight();\n  var leftPos = centerPoint.x - tutWidth / 2;\n  var topPos = centerPoint.y - tutHeight - tutArrowHeight;\n  return new Point(leftPos, topPos);\n}\n\n},{\"./config\":155}],166:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.init = init;\nexports.getNormalizedEventCenter = getNormalizedEventCenter;\nexports.verifyBrowserWidth = verifyBrowserWidth;\nexports.fixCanvasSize = fixCanvasSize;\nexports.ditherButtonsByName = ditherButtonsByName;\nexports.unditherButtonsByName = unditherButtonsByName;\nexports.ditherButtonByName = ditherButtonByName;\nexports.unditherButtonByName = unditherButtonByName;\nexports.enterShareMode = enterShareMode;\nexports.exitShareMode = exitShareMode;\nexports.selectRandomColorFromPalette = selectRandomColorFromPalette;\nexports.resetCanvas = resetCanvas;\nexports.showDesktopSharePrepNotice = showDesktopSharePrepNotice;\nvar config = require('./config');\nrequire('howler');\n\nvar sound = require('./sound');\nvar tutorial = require('./tutorial');\nvar overlays = require('./overlays');\nvar util = require('./util');\nvar color = require('./color');\nvar shape = require('./shape');\nvar share = require('./share');\nvar touch = require('./touch');\n\nvar $body = $('body');\nvar tapEvent = 'click tap touch';\n\nvar playingClass = sound.playingClass;\nvar playEnabledClass = sound.playEnabledClass;\n\nvar $newButton = $('.controls .new');\nvar $undoButton = $('.controls .undo');\nvar $playButton = $('.controls .play-stop');\nvar $shareButton = $('.controls .share');\nvar $tipsButton = $('.controls .tips');\n\nvar $controlPanel = $('.control-panel');\nvar $desktopPrepNotice = $('.prep-notice-wrap');\n\nvar $drawCanvas = exports.$drawCanvas = $('#' + config.canvasId);\nvar drawCanvas = exports.drawCanvas = $drawCanvas.eq(0)[0];\nvar canvasTop = exports.canvasTop = 0;\nvar canvasLeft = exports.canvasLeft = 0;\n\nvar tipsOverlay = exports.tipsOverlay = $('.overlay.tips')[0];\n\nvar ditheredClass = 'dithered';\nvar shareModeClass = 'share-mode';\n\nfunction init() {\n  fixCanvasSize();\n  verifyBrowserWidth();\n  setupPaper();\n  initLogoRefresh();\n  initColorPalette();\n  initNewButton();\n  initUndoButton();\n  initPlayButton();\n  initTipsButton();\n  initShareButton();\n  initContextualTuts();\n  resetCanvas();\n}\n\nfunction getNormalizedEventCenter(event) {\n  var bb = event.target.getBoundingClientRect();\n  return new Point(event.center.x - bb.left, event.center.y - bb.top);\n}\n\nfunction verifyBrowserWidth() {\n  console.log('verifyBrowserWidth');\n  var scaleFactor = 0.9;\n  var canvasWidth = $(window).width() * scaleFactor;\n  var canvasHeight = $(window).height() * scaleFactor;\n\n  if (canvasWidth < config.minWidth || canvasHeight < config.minHeight) {\n    showExpandBrowserMessage();\n  } else {\n    hideExpandBrowserMessage();\n  }\n}\n\nfunction showExpandBrowserMessage() {\n  overlays.openOverlay('window-too-small');\n}\n\nfunction hideExpandBrowserMessage() {\n  overlays.closeAndResetOverlays();\n}\n\nfunction fixCanvasSize() {\n  console.log('fixCanvasSize');\n  var $frame = $('.framed-content').eq(0);\n  var containerWidth = $frame.width();\n  var containerHeight = containerWidth / 2 + 130;\n\n  if (window.kan.location === 'gallery') {\n    $drawCanvas.width('100%');\n    $drawCanvas.height('calc(100vh - 13rem)');\n  } else {\n    $drawCanvas.width(containerWidth / 10 + 'rem');\n    $drawCanvas.height(containerHeight / 10 + 'rem');\n  }\n\n  var offset = $drawCanvas.offset();\n  exports.canvasTop = canvasTop = offset.top;\n  exports.canvasLeft = canvasLeft = offset.left;\n}\n\nfunction setupPaper() {\n  paper.setup(drawCanvas);\n}\n\nfunction ditherAllButtons() {\n  $('.controls > *').addClass(ditheredClass);\n}\n\nfunction unditherAllButtons() {\n  $('.controls .' + ditheredClass).removeClass(ditheredClass);\n}\n\nfunction ditherButtonsByName(buttonNames) {\n  var undither = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  if (buttonNames.length > 0) {\n    if ($.isArray(buttonNames)) {\n      buttonNames.forEach(function (name) {\n        return ditherButtonByName(name, undither);\n      });\n    } else {\n      ditherButtonByName(buttonNames, undither);\n    }\n  }\n}\n\nfunction unditherButtonsByName(buttonNames) {\n  ditherButtonsByName(buttonNames, true);\n}\n\nfunction ditherButtonByName(buttonName) {\n  var undither = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var $button = $('.controls .' + buttonName);\n  // console.log($button);\n  if ($button.length > 0) {\n    if (undither !== true) {\n      $button.addClass(ditheredClass);\n    } else {\n      $button.removeClass(ditheredClass);\n    }\n  }\n}\n\nfunction unditherButtonByName(buttonName) {\n  ditherButtonByName(buttonName, true);\n}\n\nfunction unditherButtonsByName(buttonNames) {\n  ditherButtonsByName(buttonNames, true);\n}\n\nfunction enterShareMode() {\n  sound.stopPlaying(true);\n  ditherAllButtons();\n  clearTimeout(window.kan.playPromptTimeout);\n  touch.disableAllEvents();\n}\n\nfunction exitShareMode() {\n  unditherAllButtons();\n  Howler.mute(false);\n  touch.enableAllEvents();\n}\n\nfunction newPressed() {\n  // console.log('new pressed');\n  window.kan.composition = [];\n  paper.project.activeLayer.removeChildren();\n  tutorial.hideContextualTuts();\n  ditherButtonsByName(['undo', 'new', 'play-stop', 'share']);\n  sound.stopPlaying();\n  // window.kan.userHasDrawnFirstShape = false;\n  // tutorial.resetContextualTuts();\n}\n\nfunction undoPressed() {\n  sound.stopPlaying();\n  tutorial.hideContextualTuts();\n\n  var transparent = color.transparent;\n  // console.log('undo pressed');\n  if (!(window.kan.moves.length > 0)) {\n    // console.log('no moves yet');\n    window.kan.userHasDrawnFirstShape = false;\n    return;\n  }\n\n  var lastMove = window.kan.moves.pop();\n  var item = project.getItem({\n    id: lastMove.id\n  });\n\n  if (item) {\n    item.visible = true; // make sure\n    switch (lastMove.type) {\n      case 'newGroup':\n        // console.log('removing group');\n        sound.removeShapeFromComposition(item);\n        util.clearGroupPops(item);\n        item.remove();\n\n        if ('removedGroup' in lastMove) {\n          // bring back removed group\n          lastMove.removedGroup.visible = true;\n          lastMove.removedGroup.data.fresh = true;\n          shape.updatePops();\n        }\n\n        var numGroups = util.getNumVisibleGroups();\n        // console.log('numGroups', numGroups);\n\n        if (numGroups <= 0) {\n          ditherButtonsByName(['undo', 'new', 'play-stop', 'share']);\n          $body.removeClass(sound.playEnabledClass);\n        } else {\n          unditherButtonsByName(['undo', 'new', 'play-stop', 'share']);\n          $body.addClass(sound.playEnabledClass);\n        }\n\n        break;\n      case 'fillChange':\n        if (lastMove.transparent) {\n          item.fillColor = lastMove.fill;\n        } else {\n          item.fillColor = transparent;\n        }\n        item.strokeColor = transparent;\n      case 'transform':\n        item.data.fresh = true;\n        if (!!lastMove.position) {\n          item.position = lastMove.position;\n          if (item.data && item.data.tut && item.data.tut.length > 0) {\n            // item has connected contextual tut, move it to the right place\n            var $tut = $('.tut[data-tut-type=\\'' + tutName + '\\']');\n            tutorial.moveContextualTut($tut, lastMove.position);\n          }\n        }\n        if (!!lastMove.rotation) {\n          item.rotation = lastMove.rotation;\n        }\n        if (!!lastMove.scale) {\n          item.scale(lastMove.scale);\n        }\n        if (config.pop === true) {\n          shape.updatePops();\n        }\n        break;\n      default:\n      // console.log('unknown case');\n    }\n  } else {\n      // console.log('could not find matching item');\n    }\n}\n\nfunction playPressed() {\n  // console.log('play pressed');\n  // sound.stopComposition();\n  // overlays.closeAndResetOverlays();\n  // tutorial.hideContextualTuts();\n  var playing = window.kan.playing;\n  // console.log(playing, util.getNumGroups() > 2, !playing && util.getNumGroups() > 2, $body);\n\n  clearTimeout(window.kan.playPromptTimeout);\n  if (!playing && util.getNumVisibleGroups() > 2) {\n    // console.log('starting playing');\n    sound.startPlaying();\n  } else {\n    // console.log('stopping playing');\n    sound.stopPlaying(true);\n  }\n}\n\nfunction tipsPressed() {\n  sound.stopPlaying();\n  overlays.openOverlay('tips');\n}\n\nfunction initLogoRefresh() {\n  $('.main-logo').on(tapEvent, function () {\n    location.reload();\n  });\n}\n\nfunction selectRandomColorFromPalette() {\n  var randomColorHex = color.getRandomColor();\n  var $svg = $('svg.palette-color[data-color=\\'' + randomColorHex + '\\']');\n\n  if (!!$svg && $svg.length > 0) {\n    selectColorFromPaletteUsingSvgElement($svg);\n  }\n}\n\nfunction selectColorFromPaletteUsingSvgElement($svg) {\n  var paletteColorSize = 20;\n  var paletteSelectedColorSize = 30;\n  var paletteSelectedClass = 'palette-selected';\n\n  if (!$svg.hasClass(paletteSelectedClass)) {\n    $('.' + paletteSelectedClass).removeClass(paletteSelectedClass).attr('width', paletteColorSize).attr('height', paletteColorSize).find('rect').attr('rx', 0).attr('ry', 0);\n\n    $svg.addClass(paletteSelectedClass).attr('width', paletteSelectedColorSize).attr('height', paletteSelectedColorSize).find('rect').attr('rx', paletteSelectedColorSize / 2).attr('ry', paletteSelectedColorSize / 2);\n  }\n}\n\nfunction initColorPalette() {\n  var $paletteWrap = $('ul.palette-colors');\n  var $paletteColors = $paletteWrap.find('li');\n\n  // hook up click\n  $paletteColors.on('click tap touch', function () {\n    if (!$body.hasClass(playingClass)) {\n      var $svg = $(this).find('svg.palette-color');\n      selectColorFromPaletteUsingSvgElement($svg);\n    };\n  });\n}\n\nfunction initNewButton() {\n  $('.main-controls .new').on(tapEvent, function () {\n    if (!$body.hasClass(playingClass)) {\n      newPressed();\n    }\n  });\n}\n\nfunction initUndoButton() {\n  $('.main-controls .undo').on(tapEvent, function () {\n    if (!$body.hasClass(playingClass)) {\n      undoPressed();\n    }\n  });\n}\n\nfunction initPlayButton() {\n  overlays.closeAndResetOverlays();\n  $('.main-controls .play-stop .play').on(tapEvent, sound.startPlaying);\n  $('.main-controls .play-stop .stop').on(tapEvent, sound.stopPlaying);\n}\n\nfunction initTipsButton() {\n  $('.controls .tips').on(tapEvent, function () {\n    if (!$body.hasClass(playingClass)) {\n      tipsPressed();\n    }\n  });\n}\n\nfunction initShareButton() {\n  $('.controls .share').on(tapEvent, share.handleSharePressed);\n}\n\nfunction initContextualTuts() {\n  var $tuts = $('.contextual-tuts .tut');\n  $tuts.on(tapEvent, function () {\n    $(this).css({ visibility: 'hidden' });\n  });\n}\n\nfunction resetCanvas() {\n  paper.project.clear();\n\n  // add random background\n  paper.project.activeLayer.name = 'background';\n  var numCanvasses = 10;\n  var randomCanvasIndex = Math.round(Math.random() * (numCanvasses - 1)) + 1; // [1, numCanvasses]\n  var canvasBg = new Raster('canvas-' + randomCanvasIndex);\n  canvasBg.name = 'canvasBg';\n  canvasBg.position = paper.view.center;\n\n  // add canvas layer\n  var scaleFactorHorizontal = paper.view.viewSize.width / canvasBg.size.width;\n  var scaleFactorVertical = paper.view.viewSize.height / canvasBg.size.height;\n  canvasBg.scale(Math.max(scaleFactorHorizontal, scaleFactorVertical));\n  var layer = new Layer(); // init new layer that all other shapes will be drawn upon\n  paper.project.activeLayer.name = 'canvas';\n}\n\nfunction showDesktopSharePrepNotice() {\n  $controlPanel.hide();\n  $desktopPrepNotice.show();\n}\n\n},{\"./color\":154,\"./config\":155,\"./overlays\":158,\"./shape\":159,\"./share\":160,\"./sound\":162,\"./touch\":164,\"./tutorial\":165,\"./util\":167,\"howler\":54}],167:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.rad = rad;\nexports.deg = deg;\nexports.hypot = hypot;\nexports.angleDelta = angleDelta;\nexports.delta = delta;\nexports.getTime = getTime;\nexports.getNumVisibleGroups = getNumVisibleGroups;\nexports.getVisibleGroups = getVisibleGroups;\nexports.getAllGroups = getAllGroups;\nexports.anyShapesOnCanvas = anyShapesOnCanvas;\nexports.getNumGroups = getNumGroups;\nexports.getFreshGroups = getFreshGroups;\nexports.getAllPops = getAllPops;\nexports.clearGroupPops = clearGroupPops;\nexports.getGroupPops = getGroupPops;\nexports.getPopCandidates = getPopCandidates;\nexports.setSha = setSha;\nexports.setUuid = setUuid;\nexports.shallowCopy = shallowCopy;\nexports.randomPick = randomPick;\nvar uuid = require('uuid/v1'); // v1 UUID (time-based)\n\nvar config = require('./config');\n\n// Converts from degrees to radians.\nfunction rad(degrees) {\n  return degrees * Math.PI / 180;\n};\n\n// Converts from radians to degrees.\nfunction deg(radians) {\n  return radians * 180 / Math.PI;\n};\n\nfunction hypot(a, b) {\n  return Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2)); // pythagorean!\n}\n\n// returns absolute value of the delta of two angles in radians\nfunction angleDelta(x, y) {\n  return Math.abs(Math.atan2(Math.sin(y - x), Math.cos(y - x)));;\n}\n\n// distance between two points\nfunction delta(p1, p2) {\n  return Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2)); // pythagorean!\n}\n\nfunction getTime() {\n  return new Date().toLocaleTimeString();\n}\n\nfunction getNumVisibleGroups() {\n  var groups = getVisibleGroups();\n  return groups.length;\n}\n\nfunction getVisibleGroups() {\n  return paper.project.getItems({\n    className: 'Group',\n    match: function match(el) {\n      return el.visible === true;\n    }\n  });\n}\n\nfunction getAllGroups() {\n  return paper.project.getItems({\n    className: 'Group'\n  });\n}\n\nfunction anyShapesOnCanvas() {\n  var groups = getVisibleGroups();\n  return groups.length > 0;\n}\n\nfunction getNumGroups() {\n  var groups = getVisibleGroups();\n  // console.log('numgroups', groups.length);\n  return groups.length;\n}\n\nfunction getFreshGroups() {\n  return paper.project.getItems({\n    className: 'Group',\n    match: function match(el) {\n      return el.data && el.data.line === false && el.data.fresh === true;\n    }\n  });\n}\n\nfunction getAllPops() {\n  return paper.project.getItems({\n    match: function match(el) {\n      return el.data && el.data.pop === true;\n    }\n  });\n}\n\nfunction clearGroupPops(group) {\n  var pops = getGroupPops(group);\n  pops.forEach(function (pop) {\n    return pop.remove();\n  });\n}\n\nfunction getGroupPops(group) {\n  // console.log('group pop group', group.id, group);\n  var returnPops = [];\n\n  if (group.children.length > 0) {\n    var groupPops = group.getItems({\n      match: function match(el) {\n        return el.data && el.data.pop === true;\n      }\n    });\n    returnPops = returnPops.concat(groupPops);\n  }\n\n  var intersectingPops = paper.project.getItems({\n    match: function match(el) {\n      return el.data && el.data.pop === true && el.data.intersectingGroup === group.id;\n    }\n  });\n\n  if (intersectingPops.length > 0) {\n    returnPops = returnPops.concat(intersectingPops);\n  }\n\n  return returnPops;\n}\n\nfunction getPopCandidates() {\n  return paper.project.getItems({\n    className: 'Group',\n    match: function match(el) {\n      return el.data && el.data.line === false && el.visible === true;\n    }\n  });\n}\n\nfunction setSha() {\n  $.get('/hash').done(function (res) {\n    console.log('current hash:', res);\n    window.kan.hash = res;\n  }).fail(function (e) {\n    console.error('error getting hash:', e);\n  });\n}\n\nfunction setUuid() {\n  var foo = uuid();\n  console.log('setting uuid', foo);\n  window.kan.uuid = foo;\n  console.log('window.kan.uuid', window.kan.uuid);\n}\n\n// http://blog.soulserv.net/understanding-object-cloning-in-javascript-part-i/\nfunction shallowCopy(original) {\n  // First create an empty object with\n  // same prototype of our original source\n  var clone = Object.create(Object.getPrototypeOf(original));\n\n  var i,\n      keys = Object.getOwnPropertyNames(original);\n\n  for (i = 0; i < keys.length; i++) {\n    // copy each property into the clone\n    Object.defineProperty(clone, keys[i], Object.getOwnPropertyDescriptor(original, keys[i]));\n  }\n\n  return clone;\n}\n\nfunction randomPick(array) {\n  if (!!array && array.length > 0) {\n    return array[Math.floor(Math.random() * array.length)];\n  }\n\n  return null;\n}\n\n},{\"./config\":155,\"uuid/v1\":86}],168:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.enterTutorialMode = enterTutorialMode;\nexports.exitTutorialMode = exitTutorialMode;\nexports.pauseVideo = pauseVideo;\nexports.playVideo = playVideo;\nvar config = require('./config');\n\nvar main = require('./main');\nvar overlays = require('./overlays');\nvar timing = require('./timing');\nvar ui = require('./ui');\nvar sound = require('./sound');\n\nvar $body = $('body');\nvar tapEvent = 'click tap touch';\n\nvar videoPlayingClass = exports.videoPlayingClass = 'video-playing';\n\nvar $videoWrapper = $body.find('#video-wrap');\nvar $video = $videoWrapper.find('video');\n\nfunction enterTutorialMode() {\n  ga('send', {\n    hitType: 'pageView',\n    page: 'tutorial',\n    title: 'Color Composer'\n  });\n  console.log('entering tutorial mode');\n  playVideo();\n  $body.addClass(videoPlayingClass);\n  clearTimeout(window.kan.inactivityTimeout);\n  clearInterval(window.kan.continueCountdownInterval);\n  $body.off(tapEvent, timing.preventInactivityTimeout);\n  $body.on(tapEvent, exitTutorialMode);\n  main.resetWindow();\n  ui.resetCanvas();\n  window.kan.refreshCheckInterval = setInterval(function () {\n    $.get('/hash').done(function (res) {\n      if (res !== window.kan.hash) {\n        console.log('different hash, reloading');\n        location.reload();\n      }\n    }).fail(function (e) {\n      console.error('error getting hash:', e);\n    });\n  }, timing.refreshCheckDelay);\n}\n\nfunction exitTutorialMode() {\n  ga('send', {\n    hitType: 'pageView',\n    page: 'draw',\n    title: 'Color Composer'\n  });\n  console.log('exiting tutorial mode');\n  sound.reinitShapeSounds().then(function () {\n    clearInterval(window.kan.refreshCheckInterval);\n    Howler.mute(false);\n    pauseVideo();\n    $body.off(tapEvent, exitTutorialMode);\n    $body.on(tapEvent, timing.preventInactivityTimeout);\n    $body.removeClass(videoPlayingClass);\n    clearTimeout(window.kan.inactivityTimeout);\n    clearInterval(window.kan.continueCountdownInterval);\n\n    ui.verifyBrowserWidth();\n\n    if ($body.hasClass('window-too-small-active') !== true) {\n      overlays.openOverlay('intro');\n    }\n\n    window.kan.inactivityTimeout = setTimeout(function () {\n      overlays.openOverlay('continue');\n    }, timing.continueInactivityDelay);\n  }).fail(function (e) {\n    console.error('error initting shape sounds:', e);\n    location.reload();\n  });\n}\n\nfunction pauseVideo() {\n  $video.get(0).pause();\n}\n\nfunction playVideo() {\n  $video.get(0).play();\n}\n\n},{\"./config\":155,\"./main\":157,\"./overlays\":158,\"./sound\":162,\"./timing\":163,\"./ui\":166}]},{},[157]);\n"]}