{"version":3,"sources":["main.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","./lib/axios","2","process","utils","settle","buildURL","parseHeaders","isURLSameOrigin","createError","btoa","window","bind","config","Promise","resolve","reject","requestData","data","requestHeaders","headers","isFormData","request","XMLHttpRequest","loadEvent","xDomain","env","NODE_ENV","XDomainRequest","url","onprogress","ontimeout","auth","username","password","Authorization","open","method","toUpperCase","params","paramsSerializer","timeout","readyState","status","responseURL","indexOf","responseHeaders","getAllResponseHeaders","responseData","responseType","response","responseText","statusText","onerror","isStandardBrowserEnv","cookies","xsrfValue","withCredentials","xsrfCookieName","read","undefined","xsrfHeaderName","forEach","val","key","toLowerCase","setRequestHeader","onDownloadProgress","addEventListener","onUploadProgress","upload","cancelToken","promise","then","cancel","abort","send","this","../core/createError","./../core/settle","./../helpers/btoa","./../helpers/buildURL","./../helpers/cookies","./../helpers/isURLSameOrigin","./../helpers/parseHeaders","./../utils","_process","3","createInstance","defaultConfig","context","Axios","instance","prototype","extend","defaults","axios","create","instanceConfig","merge","Cancel","CancelToken","isCancel","all","promises","spread","default","./cancel/Cancel","./cancel/CancelToken","./cancel/isCancel","./core/Axios","./defaults","./helpers/bind","./helpers/spread","./utils","4","message","toString","__CANCEL__","5","executor","TypeError","resolvePromise","token","reason","throwIfRequested","source","c","./Cancel","6","value","7","interceptors","InterceptorManager","dispatchRequest","isAbsoluteURL","combineURLs","arguments","baseURL","chain","interceptor","unshift","fulfilled","rejected","push","shift","./../defaults","./../helpers/combineURLs","./../helpers/isAbsoluteURL","./InterceptorManager","./dispatchRequest","8","handlers","use","eject","id","fn","h","9","enhanceError","error","./enhanceError","10","throwIfCancellationRequested","transformData","transformRequest","common","adapter","transformResponse","../cancel/isCancel","../defaults","./transformData","11","12","validateStatus","./createError","13","fns","14","setContentTypeIfUnset","isUndefined","getDefaultAdapter","normalizeHeaderName","PROTECTION_PREFIX","DEFAULT_CONTENT_TYPE","Content-Type","isArrayBuffer","isStream","isFile","isBlob","isArrayBufferView","buffer","isURLSearchParams","isObject","JSON","stringify","replace","parse","maxContentLength","Accept","./adapters/http","./adapters/xhr","./helpers/normalizeHeaderName","15","thisArg","args","Array","apply","16","E","input","block","charCode","str","String","output","idx","map","chars","charAt","charCodeAt","name","17","encode","encodeURIComponent","serializedParams","parts","isArray","v","isDate","toISOString","join","18","relativeURL","19","write","expires","path","domain","secure","cookie","isNumber","Date","toGMTString","isString","document","match","RegExp","decodeURIComponent","remove","now","20","test","21","resolveURL","href","msie","urlParsingNode","setAttribute","protocol","host","search","hash","hostname","port","pathname","originURL","navigator","userAgent","createElement","location","requestURL","parsed","22","normalizedName","../utils","23","split","line","trim","substr","24","callback","arr","25","FormData","result","ArrayBuffer","isView","isFunction","pipe","URLSearchParams","obj","Object","hasOwnProperty","assignValue","b","26","global","define","amd","self","_dereq_","any","ret","SomePromiseArray","setHowMany","setUnwrap","init","_SomePromiseArray","Async","_customScheduler","_isTickUsed","_lateQueue","Queue","_normalQueue","_haveDrainedQueues","_trampolineEnabled","drainQueues","_drainQueues","_schedule","schedule","AsyncInvokeLater","receiver","arg","_queueTick","AsyncInvoke","AsyncSettlePromises","_pushOne","firstLineError","util","setScheduler","prev","hasCustomScheduler","enableTrampoline","disableTrampolineIfNecessary","hasDevTools","haveItemsQueued","fatalError","isNode","stderr","stack","exit","throwLater","setTimeout","invokeLater","invoke","settlePromises","_settlePromises","_drainQueue","queue","_reset","./queue","./schedule","./util","INTERNAL","tryConvertToPromise","debug","calledBind","rejectThis","_","_reject","targetRejected","promiseRejectionQueued","bindingPromise","_then","bindingResolved","_bitField","_resolveCallback","target","bindingRejected","_propagateFrom","propagateFromFunction","_boundValue","boundValueFunction","maybePromise","_target","_setBoundTo","_setOnCancel","_boundTo","_isBound","noConflict","bluebird","old","./promise","cr","callerCache","getterCache","ensureMethod","methodName","classString","caller","pop","namedGetter","indexedGetter","index","Math","max","getGetter","canEvaluate","isIdentifier","slice","get","propertyName","getter","isIndex","maybeGetter","PromiseArray","apiRejection","tryCatch","errorObj","async","_async","cancellation","_warn","child","_isCancellable","_cancelBy","_isFollowing","_followee","_cancelBranched","parent","_cancellationParent","_setWillBeCancelled","_branchHasCancelled","_branchesRemainingToCancel","_enoughBranchesHaveCancelled","canceller","_invokeOnCancel","_cancel","_setCancelled","_cancelPromises","_length","_unsetOnCancel","_onCancelField","isPending","_isCancelled","isCancellable","isCancelled","_doInvokeOnCancel","onCancelCallback","internalOnly","_attachExtraTrace","_resultCancelled","_onCancel","_invokeInternalOnCancel","NEXT_FILTER","catchFilter","instances","cb","boundTo","predicateLoop","item","matchesPredicate","keys","getKeys","j","./es5","Context","_trace","CapturedTrace","peekContext","createContext","longStackTraces","lastIndex","contextStack","_promiseCreated","_pushContext","_popContext","_peekContext","trace","deactivateLongStackTraces","activateLongStackTraces","Promise_pushContext","Promise_popContext","Promise_PeekContext","Promise_peekContext","Promise_promiseCreated","ctx","generatePromiseLifecycleEventObject","defaultFireEvent","cancellationExecute","onCancel","_attachCancellationCallback","cancellationAttachCancellationCallback","previousOnCancel","cancellationOnCancel","cancellationSetOnCancel","cancellationClearCancellationData","cancellationPropagateFrom","flags","branchesRemainingToCancel","bindingPropagateFrom","isFulfilled","longStackTracesCaptureStackTrace","longStackTracesAttachExtraTrace","ignoreSelf","canAttachTrace","_parent","attachExtraTrace","__stackCleaned__","parseStackAndMessage","notEnumerableProp","checkForgottenReturns","returnValue","promiseCreated","wForgottenReturn","_returnedNonUndefined","handlerLine","creatorLine","traceLines","cleanStack","nodeFramePattern","lineMatches","parseLinePattern","firstUserLine","msg","deprecated","replacement","warn","shouldUseOwnTrace","warnings","warning","Warning","activeFireEvent","formatAndLogError","reconstructStack","stacks","removeDuplicateOrEmptyJumps","splice","removeCommonRoots","current","currentLastIndex","currentLastLine","commonRootMeetPoint","isTraceLine","stackFramePattern","isInternalFrame","shouldIgnore","indentStackFrames","stackFramesAsArray","title","isSoft","console","formatStack","printWarning","log","fireRejectionEvent","localHandler","localEventFired","formatNonError","ruselessToString","newStr","snip","maxChars","longStackTracesIsSupported","captureStackTrace","parseLineInfo","matches","parseLineInfoRegex","fileName","parseInt","setBounds","lastLineError","firstFileName","lastFileName","firstStackLines","lastStackLines","firstIndex","bluebirdFramePattern","info","_promisesCreated","uncycle","unhandledRejectionHandled","possiblyUnhandledRejection","getDomain","_getDomain","debugging","suppressUnhandledRejections","_ensurePossibleRejectionHandled","_setRejectionIsUnhandled","_notifyUnhandledRejection","_notifyUnhandledRejectionIsHandled","_setReturnedNonUndefined","_isRejectionUnhandled","_settledValue","_setUnhandledRejectionIsNotified","_unsetUnhandledRejectionIsNotified","_isUnhandledRejectionNotified","_unsetRejectionIsUnhandled","onPossiblyUnhandledRejection","domainBind","onUnhandledRejectionHandled","disableLongStackTraces","Promise_captureStackTrace","_captureStackTrace","Promise_attachExtraTrace","hasLongStackTraces","fireDomEvent","CustomEvent","event","dispatchEvent","domEvent","detail","cancelable","Event","createEvent","initCustomEvent","fireGlobalEvent","emit","eventToObjectGenerator","promiseFulfilled","promiseRejected","promiseResolved","promiseCancelled","promiseChained","unhandledRejection","rejectionHandled","globalEventFired","domEventFired","opts","warningsOption","_clearCancellationData","_execute","monitoring","_fireEvent","handler","inherits","nodes","stackToIndex","node","currentStack","cycleEdgeNode","currentChildLength","v8stackFramePattern","v8stackFormatter","stackTraceLimit","ignoreUntil","err","hasStackAfterThrow","isTTY","color","./errors","returner","thrower","thenReturn","thenThrow","catchThrow","_reason","caught","catchReturn","_value","promiseAllThis","PromiseAll","PromiseMapSeries","PromiseReduce","reduce","each","mapSeries","subError","nameProperty","defaultMessage","SubError","constructor","OperationalError","cause","_TypeError","_RangeError","es5","Objectfreeze","freeze","CancellationError","TimeoutError","AggregateError","RangeError","methods","defineProperty","configurable","writable","enumerable","level","indent","lines","errorTypes","RejectionError","isES5","getDescriptor","getOwnPropertyDescriptor","names","getOwnPropertyNames","getPrototypeOf","propertyIsWritable","prop","descriptor","set","has","proto","ObjectKeys","ObjectGetDescriptor","ObjectDefineProperty","desc","ObjectFreeze","ObjectGetPrototypeOf","ArrayIsArray","PromiseMap","filter","options","PassThroughHandlerContext","type","called","cancelPromise","FinallyHandlerCancelReaction","finallyHandler","checkCancel","succeed","fail","reasonOrValue","isFinallyHandler","isRejected","_passThrough","success","lastly","tap","tapCatch","handlerOrPredicate","len","catchInstances","./catch_filter","Proxyable","promiseFromYieldHandler","yieldHandlers","traceParent","PromiseSpawn","generatorFunction","yieldHandler","internal","_finallyPromise","_promise","_stack","_generatorFunction","_receiver","_generator","_yieldHandlers","concat","_yieldedPromise","_cancellationPhase","errors","_isResolved","_cleanup","_fulfill","_promiseCancelled","implementsReturn","coroutine","returnSentinel","_continue","_promiseFulfilled","next","_promiseRejected","_run","_rejectCallback","done","bitField","_proxy","PromiseSpawn$","generator","spawn","addYieldHandler","last","MappingPromiseArray","limit","_filter","constructor$","_callback","_preservedValues","_limit","_inFlight","_queue","_asyncInit","concurrency","isFinite","_init$","_init","values","_values","preservedValues","totalResolved","_totalResolved","_resolve","booleans","_resolveFromSyncValue","attempt","isUntypedError","wrapAsOperationalError","rErrorKey","markAsOriginatingFromRejection","nodebackForPromise","multiArgs","wrapped","maybeWrapAsError","spreadAdapter","nodeback","successAdapter","errorAdapter","newReason","asCallback","nodeify","check","_fulfillmentHandler0","_rejectionHandler0","_promise0","_receiver0","_resolveFromExecutor","deferResolve","deferReject","fillTypes","p","makeSelfResolutionError","reflectHandler","PromiseInspection","UNDEFINED_BINDING","APPLY","reflect","didFulfill","didReject","_setIsFinal","toJSON","fulfillmentValue","rejectionReason","originatesFromRejection","getNewLibraryCopy","is","fromNode","fromCallback","_isFateSealed","_setAsyncGuaranteed","cast","_setFulfilled","internalData","haveInternalData","settler","_settlePromiseCtx","_settlePromiseLateCancellationObserver","_addCallbacks","_setLength","_setRejected","_setFollowing","_isFinal","_unsetCancelled","_receiverAt","_promiseAt","_fulfillmentHandlerAt","_rejectionHandlerAt","_migrateCallback0","follower","fulfill","_migrateCallbackAt","base","proxyable","shouldBind","_setFollowee","synchronous","ignoreNonErrorWarnings","ensureErrorObject","hasStack","_settlePromiseFromHandler","x","_settlePromise","isPromise","asyncGuaranteed","_settlePromise0","_clearCallbackDataAtIndex","_fulfillPromises","_rejectPromises","defer","pending","version","toFastProperties","./any.js","./async","./bind","./call_get.js","./cancel","./context","./debuggability","./direct_resolve","./each.js","./filter.js","./finally","./generators.js","./join","./map.js","./method","./nodeback","./nodeify.js","./promise_array","./promisify.js","./props.js","./race.js","./reduce.js","./settle.js","./some.js","./synchronous_inspection","./thenables","./timers.js","./using.js","toResolutionValue","Map","resolveValueIfEmpty","asArray","_resolveEmptyArray","_iterate","getActualLength","shouldCopyValues","isResolved","propsFilter","noCopyPropsPattern","isPromisified","__isPromisified__","hasPromisified","suffix","getDataPropertyOrDefault","defaultPromisified","checkValid","suffixRegexp","keyWithoutAsyncSuffix","promisifiableMethods","inheritedDataKeys","passesDefaultFilter","defaultFilter","makeNodePromisifiedClosure","__","promisified","THIS","defaultThis","withAppended","promisifyAll","promisifier","escapeIdentRegex","promisifiedKey","makeNodePromisified","promisify","makeNodePromisifiedEval","defaultSuffix","noCopyProps","copyDescriptors","isClass","PropertiesPromiseArray","entries","isMap","Es6Map","mapToEntries","_isMap","props","castValue","extractEntry","size","entriesToMap","keyOffset","arrayMove","src","srcIndex","dst","dstIndex","capacity","_capacity","_front","_willBeOverCapacity","_checkCapacity","wrapMask","front","_resizeTo","oldCapacity","moveItemsCount","27","race","raceLater","array","28","ReductionPromiseArray","initialValue","_each","_fn","_initialValue","_currentCancellable","_eachValues","completed","valueOrReason","gotAccum","accum","_gotAccum","gotValue","_eachComplete","sender","_resultCancelled$","29","noAsyncScheduler","NativePromise","getNativePromise","MutationObserver","GlobalSetImmediate","setImmediate","ProcessNextTick","nextTick","isRecentNode","nativePromise","standalone","cordova","div","attributes","toggleScheduled","div2","o2","classList","toggle","observe","scheduleToggle","disconnect","30","SettledPromiseArray","_promiseResolved","inspection","_settledValueField","31","_howMany","_unwrap","_initialized","some","howMany","CANCELLATION","isArrayResolved","_canPossiblyFulfill","_getRangeError","count","_addFulfilled","_fulfilled","_addRejected","_checkOutcome","_rejected","32","__isCancelled","33","getThen","isAnyBluebirdPromise","doThenable","doGetThen","hasProp","34","HandleWrapper","handle","successClear","clearTimeout","failureClear","afterValue","delay","ms","afterTimeout","handleWrapper","35","castPreservingDisposable","thenable","_isDisposable","_getDisposer","_setDisposable","dispose","resources","iterator","tryDispose","Disposer","_data","_context","FunctionDisposer","maybeUnwrapDisposer","isDisposer","ResourceList","NULL","resource","doDispose","_unsetDisposable","d","using","spreadArgs","disposer","reflectedResources","resultPromise","inspections","_disposer","36","tryCatcher","tryCatchTarget","isPrimitive","maybeError","safeToString","appendee","defaultValue","hasMethods","hasMethodsOtherThanConstructor","hasThisAssignmentAndStaticMethods","thisAssignmentPattern","FakeConstructor","rident","filledRange","prefix","isError","ignore","from","to","hasEnvVariables","globalObject","Child","Parent","T","excludedPrototypes","Function","isExcludedProto","visitedKeys","enumeration","Symbol","ArrayFrom","itResult","it","chrome","loadTimes","versions","Number","P","exportName","setTimeoutContext","bindFn","invokeArrayArg","deprecate","deprecationMessage","inherit","properties","childP","baseP","_super","assign","boolOrFn","TYPE_FUNCTION","ifUndefined","val1","val2","addEventListeners","types","splitStr","removeEventListeners","removeEventListener","hasParent","parentNode","inStr","find","inArray","findByKey","toArray","uniqueArray","sort","results","prefixed","property","camelProp","VENDOR_PREFIXES","uniqueId","_uniqueId","getWindowForElement","element","doc","ownerDocument","defaultView","parentWindow","Input","manager","inputTarget","domHandler","ev","enable","createInputInstance","Type","inputClass","SUPPORT_POINTER_EVENTS","PointerEventInput","SUPPORT_ONLY_TOUCH","TouchInput","SUPPORT_TOUCH","TouchMouseInput","MouseInput","inputHandler","eventType","pointersLen","pointers","changedPointersLen","changedPointers","isFirst","INPUT_START","isFinal","INPUT_END","INPUT_CANCEL","session","computeInputData","recognize","prevInput","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","center","getCenter","timeStamp","deltaTime","angle","getAngle","distance","getDistance","computeDeltaXY","offsetDirection","getDirection","deltaX","deltaY","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","y","abs","scale","getScale","rotation","getRotation","maxPointers","computeIntervalInputData","srcEvent","offset","offsetDelta","prevDelta","velocity","velocityX","velocityY","direction","lastInterval","COMPUTE_INTERVAL","clientX","round","clientY","DIRECTION_NONE","DIRECTION_LEFT","DIRECTION_RIGHT","DIRECTION_UP","DIRECTION_DOWN","p1","p2","PROPS_XY","sqrt","atan2","PI","start","end","PROPS_CLIENT_XY","evEl","MOUSE_ELEMENT_EVENTS","evWin","MOUSE_WINDOW_EVENTS","pressed","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","store","pointerEvents","SingleTouchInput","evTarget","SINGLE_TOUCH_TARGET_EVENTS","SINGLE_TOUCH_WINDOW_EVENTS","started","normalizeSingleTouches","touches","changed","changedTouches","TOUCH_TARGET_EVENTS","targetIds","getTouches","allTouches","INPUT_MOVE","identifier","targetTouches","changedTargetTouches","touch","mouse","primaryTouch","lastTouches","recordTouches","eventData","setLastTouch","lastTouch","lts","removeLastTouch","DEDUP_TIMEOUT","isSyntheticEvent","dx","dy","DEDUP_DISTANCE","TouchAction","cleanTouchActions","actions","TOUCH_ACTION_NONE","hasPanX","TOUCH_ACTION_PAN_X","hasPanY","TOUCH_ACTION_PAN_Y","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_AUTO","getTouchActionProps","NATIVE_TOUCH_ACTION","touchMap","cssSupports","CSS","supports","Recognizer","state","STATE_POSSIBLE","simultaneous","requireFail","stateStr","STATE_CANCELLED","STATE_ENDED","STATE_CHANGED","STATE_BEGAN","directionStr","getRecognizerByNameIfManager","otherRecognizer","recognizer","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","Hammer","recognizers","preset","Manager","oldCssProps","touchAction","toggleCssProps","add","recognizeWith","requireFailure","style","cssProps","triggerDomEvent","gestureEvent","initEvent","gesture","TEST_ELEMENT","nextKey","dest","MOBILE_REGEX","INPUT_TYPE_TOUCH","INPUT_TYPE_PEN","INPUT_TYPE_MOUSE","INPUT_TYPE_KINECT","DIRECTION_HORIZONTAL","DIRECTION_VERTICAL","DIRECTION_ALL","destroy","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","button","which","pointerType","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","MSPointerEvent","PointerEvent","removePointer","eventTypeNormalized","isTouch","storeIndex","pointerId","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","TOUCH_INPUT_MAP","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","PREFIXED_TOUCH_ACTION","TOUCH_ACTION_COMPUTE","TOUCH_ACTION_MAP","compute","update","getTouchAction","preventDefaults","prevented","preventDefault","hasNone","isTapPointer","isTapMovement","isTapTouchTime","preventSrc","STATE_RECOGNIZED","STATE_FAILED","dropRecognizeWith","dropRequireFailure","hasRequireFailures","canRecognizeWith","additionalEvent","tryEmit","canEmit","inputDataClone","reset","attrTest","optionPointers","isRecognized","isValid","threshold","directionTest","hasMoved","inOut","time","validPointers","validMovement","validTime","taps","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","VERSION","domEvents","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","STOP","FORCED_STOP","stop","force","stopped","curRecognizer","existing","on","events","off","Tap","Pan","Swipe","Pinch","Rotate","Press","freeGlobal","HowlerGlobal","Howler","_codecs","_howls","_muted","_volume","_canPlayEvent","_navigator","masterGain","noAudio","usingWebAudio","autoSuspend","mobileAutoEnable","_setup","volume","vol","parseFloat","setupAudioContext","gain","_webAudio","ids","_getSoundIds","sound","_soundById","_node","mute","muted","unload","close","codecs","ext","_autoSuspend","Audio","oncanplaythrough","_setupCodecs","audioTest","canPlayType","mpegTest","checkOpera","isOldOpera","mp3","mpeg","opus","ogg","oga","wav","aac","caf","m4a","mp4","weba","webm","dolby","flac","_enableMobileAudio","isMobile","maxTouchPoints","msMaxTouchPoints","_mobileEnabled","_mobileUnloaded","sampleRate","_scratchBuffer","createBuffer","unlock","createBufferSource","connect","destination","noteOn","onended","suspend","_sounds","_paused","_suspendTimer","_resumeAfterSuspend","_autoResume","resume","_emit","Howl","_autoplay","autoplay","_format","format","_html5","html5","_loop","loop","_pool","pool","_preload","preload","_rate","rate","_sprite","sprite","_src","_duration","_state","_endTimers","_onend","onend","_onfade","onfade","_onload","onload","_onloaderror","onloaderror","_onpause","onpause","_onplay","onplay","_onstop","onstop","_onmute","onmute","_onvolume","onvolume","_onrate","onrate","_onseek","onseek","_onresume","action","play","load","exec","Sound","loadBuffer","num","_ended","_id","_inactiveSound","seek","_seek","duration","_start","_stop","playWebAudio","_refreshBuffer","setValueAtTime","currentTime","_playStart","bufferSource","noteGrainOn","Infinity","isRunning","once","_clearTimer","playHtml5","playbackRate","loadedNoReadyState","ejecta","isCocoonJS","listener","pause","_rateSeek","_stopFade","noteOff","_cleanBuffer","isNaN","fade","diff","dir","steps","stepLen","ceil","linearRampToValueAtTime","_interval","setInterval","soundId","min","clearInterval","cancelScheduledValues","loopStart","loopEnd","realTime","playing","rateSeek","sounds","_errorFn","_loadFn","remCache","cache","_loadQueue","task","_drain","cnt","_panner","howl","random","createGain","createGainNode","paused","_errorListener","_loadListener","__default","loadSound","atob","dataView","Uint8Array","decodeAudioData","xhr","safeXhrSend","arraybuffer","AudioContext","webkitAudioContext","iOS","platform","appVersion","safari","_pos","_orientation","stereo","pan","pos","z","setPosition","orientation","xUp","yUp","zUp","or","setOrientation","_stereo","_pannerAttr","coneInnerAngle","coneOuterAngle","coneOuterGain","distanceModel","maxDistance","panningModel","refDistance","rolloffFactor","_onstereo","onstereo","_onpos","onpos","_onorientation","onorientation","pannerType","createStereoPanner","setupPanner","pannerAttr","_coneInnerAngle","_coneOuterAngle","_coneOuterGain","_distanceModel","_maxDistance","_panningModel","_refDistance","_rolloffFactor","pa","panner","createPanner","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","runClearTimeout","marker","cachedClearTimeout","cleanUpNextTick","draining","currentQueue","queueIndex","drainQueue","run","Item","noop","browser","argv","addListener","removeListener","removeAllListeners","binding","cwd","chdir","umask","percentTwenties","formatters","RFC1738","RFC3986","formats","./formats","./parse","./stringify","allowDots","allowPrototypes","arrayLimit","decoder","decode","delimiter","depth","parameterLimit","plainObjects","strictNullHandling","parseValues","part","parseObject","root","cleanRoot","parseArrays","parseKeys","givenKey","segment","isRegExp","tempObj","newObj","compact","arrayPrefixGenerators","brackets","indices","repeat","toISO","encoder","serializeDate","date","skipNulls","object","generateArrayPrefix","formatter","isBuffer","objKeys","arrayFormat","hexTable","arrayToObject","mergeTarget","acc","string","out","references","refs","lookup","compacted","_interopRequireDefault","__esModule","_toDate","_toDate2","_toFloat","_toFloat2","_toInt","_toInt2","_toBoolean","_toBoolean2","_equals","_equals2","_contains","_contains2","_matches","_matches2","_isEmail","_isEmail2","_isURL","_isURL2","_isMACAddress","_isMACAddress2","_isIP","_isIP2","_isFQDN","_isFQDN2","_isBoolean","_isBoolean2","_isAlpha","_isAlpha2","_isAlphanumeric","_isAlphanumeric2","_isNumeric","_isNumeric2","_isLowercase","_isLowercase2","_isUppercase","_isUppercase2","_isAscii","_isAscii2","_isFullWidth","_isFullWidth2","_isHalfWidth","_isHalfWidth2","_isVariableWidth","_isVariableWidth2","_isMultibyte","_isMultibyte2","_isSurrogatePair","_isSurrogatePair2","_isInt","_isInt2","_isFloat","_isFloat2","_isDecimal","_isDecimal2","_isHexadecimal","_isHexadecimal2","_isDivisibleBy","_isDivisibleBy2","_isHexColor","_isHexColor2","_isMD","_isMD2","_isJSON","_isJSON2","_isEmpty","_isEmpty2","_isLength","_isLength2","_isByteLength","_isByteLength2","_isUUID","_isUUID2","_isMongoId","_isMongoId2","_isAfter","_isAfter2","_isBefore","_isBefore2","_isIn","_isIn2","_isCreditCard","_isCreditCard2","_isISIN","_isISIN2","_isISBN","_isISBN2","_isISSN","_isISSN2","_isMobilePhone","_isMobilePhone2","_isCurrency","_isCurrency2","_isISO","_isISO2","_isBase","_isBase2","_isDataURI","_isDataURI2","_ltrim","_ltrim2","_rtrim","_rtrim2","_trim","_trim2","_escape","_escape2","_unescape","_unescape2","_stripLow","_stripLow2","_whitelist","_whitelist2","_blacklist","_blacklist2","_isWhitelisted","_isWhitelisted2","_normalizeEmail","_normalizeEmail2","_toString","_toString2","validator","toDate","toFloat","toInt","toBoolean","equals","contains","isEmail","isURL","isMACAddress","isIP","isFQDN","isBoolean","isAlpha","isAlphanumeric","isNumeric","isLowercase","isUppercase","isAscii","isFullWidth","isHalfWidth","isVariableWidth","isMultibyte","isSurrogatePair","isInt","isFloat","isDecimal","isHexadecimal","isDivisibleBy","isHexColor","isMD5","isJSON","isEmpty","isLength","isByteLength","isUUID","isMongoId","isAfter","isBefore","isIn","isCreditCard","isISIN","isISBN","isISSN","isMobilePhone","isCurrency","isISO8601","isBase64","isDataURI","ltrim","rtrim","escape","unescape","stripLow","whitelist","blacklist","isWhitelisted","normalizeEmail","./lib/blacklist","./lib/contains","./lib/equals","./lib/escape","./lib/isAfter","./lib/isAlpha","./lib/isAlphanumeric","./lib/isAscii","./lib/isBase64","./lib/isBefore","./lib/isBoolean","./lib/isByteLength","./lib/isCreditCard","./lib/isCurrency","./lib/isDataURI","./lib/isDecimal","./lib/isDivisibleBy","./lib/isEmail","./lib/isEmpty","./lib/isFQDN","./lib/isFloat","./lib/isFullWidth","./lib/isHalfWidth","./lib/isHexColor","./lib/isHexadecimal","./lib/isIP","./lib/isISBN","./lib/isISIN","./lib/isISO8601","./lib/isISSN","./lib/isIn","./lib/isInt","./lib/isJSON","./lib/isLength","./lib/isLowercase","./lib/isMACAddress","./lib/isMD5","./lib/isMobilePhone","./lib/isMongoId","./lib/isMultibyte","./lib/isNumeric","./lib/isSurrogatePair","./lib/isURL","./lib/isUUID","./lib/isUppercase","./lib/isVariableWidth","./lib/isWhitelisted","./lib/ltrim","./lib/matches","./lib/normalizeEmail","./lib/rtrim","./lib/stripLow","./lib/toBoolean","./lib/toDate","./lib/toFloat","./lib/toInt","./lib/trim","./lib/unescape","./lib/util/toString","./lib/whitelist","locale","alpha","en-US","cs-CZ","da-DK","de-DE","es-ES","fr-FR","nl-NL","hu-HU","pl-PL","pt-PT","ru-RU","sr-RS@latin","sr-RS","tr-TR","uk-UA","ar","alphanumeric","englishLocales","_locale","arabicLocales","_i","37","_assertString2","_assertString","./util/assertString","38","elem","./util/toString","39","comparison","40","41","original","./toDate","42","_alpha","./alpha","43","44","ascii","45","notBase64","firstPaddingChar","46","47","48","_typeof","encodeURI","49","sanitized","creditCard","sum","digit","tmpNum","shouldDouble","substring","50","currencyRegex","symbol","require_symbol","negative","whole_dollar_amount_without_sep","whole_dollar_amount_with_sep","thousands_separator","valid_whole_dollar_amounts","whole_dollar_amount","decimal_amount","decimal_separator","pattern","allow_negatives","parens_for_negatives","negative_sign_after_digits","negative_sign_before_digits","allow_negative_sign_placeholder","allow_space_after_symbol","allow_space_after_digits","symbol_after_digits","_merge2","default_currency_options","_merge","./util/merge","51","dataURI","52","decimal","53","./toFloat","54","default_email_options","require_display_name","allow_display_name","display_email","displayName","user","lower_domain","require_tld","allow_utf8_local_part","quotedEmailUserUtf8","quotedEmailUser","emailUserUtf8Part","emailUserPart","user_parts","./isByteLength","./isFQDN","55","56","isFDQN","default_fqdn_options","allow_trailing_dot","tld","allow_underscores","57","float","lt","gt","58","fullWidth","59","halfWidth","60","hexcolor","61","hexadecimal","62","ipv4Maybe","blocks","foundOmissionBlock","foundIPv4TransitionBlock","expectedNumberOfBlocks","ipv6Block","63","checksum","isbn10Maybe","isbn13Maybe","factor","64","isin","checksumStr","character","65","iso8601","66","testIssn","issn","require_hyphen","case_sensitive","issnDigits","position","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","digitValue","return","67","68","regex","allow_leading_zeroes","int","intLeadingZeroes","minCheckPassed","maxCheckPassed","ltCheckPassed","gtCheckPassed","69","70","surrogatePairs","71","72","macAddress","73","md5","74","phones","ar-DZ","ar-SY","ar-SA","el-GR","en-AU","en-GB","en-HK","en-IN","en-NG","en-NZ","en-ZA","en-ZM","fi-FI","he-IL","it-IT","ja-JP","ms-MY","nb-NO","nl-BE","nn-NO","pt-BR","ro-RO","en-PK","vi-VN","zh-CN","zh-TW","75","./isHexadecimal","76","multibyte","77","numeric","78","surrogatePair","79","checkHost","default_url_options","port_str","ipv6","require_valid_protocol","protocols","require_protocol","allow_protocol_relative_urls","require_host","ipv6_match","wrapped_ipv6","host_whitelist","host_blacklist","./isIP","80","uuid","81","82","./isFullWidth","./isHalfWidth","83","84","85","modifiers","86","email","default_normalize_email_options","raw_parts","gmail_remove_subaddress","gmail_remove_dots","all_lowercase","gmail_lowercase","gmail_convert_googlemaildotcom","icloud_domains","icloud_remove_subaddress","icloud_lowercase","outlookdotcom_domains","outlookdotcom_remove_subaddress","outlookdotcom_lowercase","yahoo_domains","yahoo_remove_subaddress","components","yahoo_lowercase","./isEmail","87","88","keep_new_lines","./blacklist","89","strict","90","91","92","radix","93","./ltrim","./rtrim","94","95","assertString","96","97","98","99","runAnimations","canvasId","maxShapes","postKey","palette","colors","colorNames","#20171C","#1E2A43","#28377D","#352747","#CA2E26","#9A2A1F","#DA6C26","#453121","#916A47","#DAAD27","#7F7D31","#2B5E2E","gradients","pops","colorSize","selectedColorSize","contextualTuts","copy","100","getPathColorName","hexColor","originalColor","getColorName","getRandomPop","floor","getIndexedPopColor","transparent","Color","./client-config","101","factory","ShapeDetector","deg2Rad","Stroke","points","processStroke","patterns","_nbSamplePoints","nbSamplePoints","learn","_squareSize","_phi","_angleRange","_anglePrecision","_halfDiagonal","_origin","resample","setCentroid","rotateBy","indicativeAngle","scaleToSquare","translateToOrigin","localDistance","q","strokeLength","newPoints","point","cos","sin","box","minX","maxX","minY","maxY","width","height","distanceAtBestAngle","x1","f1","distanceAtAngle","x2","f2","strokePoints","patternPoints","defaultShapes","spot","patternName","score","stroke","bestDistance","bestPattern","bestScore","102","resetWindow","kan","currentColor","composition","compositionInterval","compositionTimeout","soundTimeouts","lastEvent","interaction","moves","pinching","pinchedGroup","pinchedTut","pathData","shapePath","prevAngle","sides","side","corners","lastScale","lastRotation","originalPosition","tutorialCompletion","fill","pinch","swipe","inactivityTimeout","playPromptTimeout","userHasDrawnFirstShape","firstTimePlaying","shapesSinceTut","refreshCheckInterval","sha","scheduledOverlay","continueCountdownInterval","shapeSounds","ui","overlays","timing","shape","$","setSha","reload","./overlays","./shape","./sound","./timing","./touch","./ui","./video","103","openOverlay","overlayName","allOverlays","includes","panning","preventInactivityTimeout","closeAndResetOverlays","tutorial","hideContextualTuts","$body","addClass","overlayActiveClass","tapEvent","openIntroOverlay","anyShapesOnCanvas","openPlayPromptOverlay","playPromptDelay","openSharePromptOverlay","openContinueOverlay","openTipsOverlay","openShareOverlay","openSharePrepareOverlay","openShareConfirmationOverlay","resetContinueCountdown","html","continueInactivityDelay","$countdownNumWrap","video","enterTutorialMode","activateTipsCards","cardNavNext","$old","$new","$cardItems","first","$next","$third","slide","removeClass","updateCardCounter","cardsCount","cardInteractions","timeOfLastInteraction","closest","resetTips","$sharePhone","overlayOpenClasses","asyncCloseOverlaysAfterDuration","closeOverlayTimeout","total","$footer","asyncWaitForWellFormedPhoneNumber","s3Id","$shareKeypad","phoneNumWithHyphens","text","phoneNumRaw","phone","phoneNumberInputs","mask","phoneNumber","masked","randomCardGraphics","el","numBg","attr","initTips","initShare","hammerCanvas","$cardsWrap","overlay","./tutorial","104","initKeepaliveShape","keepaliveShape","Path","Rectangle","strokeColor","visible","startKeepaliveAnimation","keepaliveInterval","stopKeepaliveAnimation","destroyGroupPops","group","groupPopsBefore","getGroupPops","fillInGroupPopsById","groupId","paper","project","getItem","className","children","groupChild","toggleFill","interior","fillColor","cleanUpGroup","acceptableNames","updatePops","freshGroups","getFreshGroups","popCandidates","getPopCandidates","getAllPops","reverse","freshGroup","freshOuter","_namedChildren","bringToFront","otherGroup","otherGroupOuter","thisPop","intersect","popColor","popGroup","intersectingGroup","closed","addChild","fresh","getOutlineGroup","truedShape","outerPath","middlePath","sizes","lastAngle","firstTop","firstBottom","lastTop","lastBottom","Group","firstSegment","cumSize","avgSize","getPointAt","normal","getNormalAt","top","Point","bottom","insert","centerTop","centerBottom","flatten","simplify","selected","returnGroup","getTruedShape","pathClone","clone","completedPath","getCompletedPath","truedPath","strokeWidth","intersections","getIntersections","trimmedPath","getTrimmedPath","extendedPath","getExtendedPath","_intersections","_trimmedPath","replaceWith","getBruteExtendedPath","_intersections2","_trimmedPath2","getShapePrediction","prediction","shapeJSON","exportJSON","shapeData","processShapeData","shapePrediction","detector","closedShapes","randomPick","intersects","getIntegerPoint","stringifyPoint","parsePoint","pointStr","getClosestPointFromPathData","leastDistance","closestPoint","Base","datum","json","returnShape","jsonObj","segments","positionInfo","findInteriorCurves","interiorCurves","dividedPath","resolveCrossings","enclosedLoop","_enclosedLoop","thresholdDist","thresholdDistMultiplier","nextSegment","startAngle","inverseStartAngle","extendedStartPoint","lastSegment","penSegment","previous","endAngle","extendedEndPoint","firstPoint","lastPoint","unite","crossings","maxArea","maxChild","area","intersection","intersectionPoint","pathCrossings","subtract","_ret2","closedChildren","childClone","accumulator","_j","newPath","copyContent","copyAttributes","hitTestGroupBounds","groups","getVisibleGroups","hitTestBounds","strokeBounds","isInside","cornerThresholdDeg","shapeNames","./color","./lib/shape-detector","105","asyncStopAudioRecordingAndExportBlob","recorder","exportWAV","blob","asyncStopVideoRecordingAndExportBlob","stopRecording","getBlob","asyncRecord","audioRecorder","Recorder","workerPath","canvasRecorder","RecordRTC","drawCanvas","startRecording","record","asyncPlayCompositionOnce","_slicedToArray","audioBlob","videoBlob","formData","append","post","resp","catch","finally","asyncAddCompositionToDb","queryString","qs","handleSharePressed","enterShareMode","exitShareMode","sliceIterator","_arr","_n","_d","_e","_s","getElementById","106","asyncInitShapeSounds","reinitShapeSounds","getShapeSoundObj","viewWidth","view","viewSize","initShapeSounds","colorName","quantizedSoundStartTime","quantizeLength","bounds","compositionLength","quantizedSoundDuration","soundObj","startTime","pathId","spriteName","startPlaying","hasClass","playEnabledClass","playingClass","startComposition","stopPlaying","stopComposition","asyncGetShapeSoundFromShapeName","shapeName","shapeSoundJSONPath","getJSON","shapeSoundData","formatShapeSoundData","when","returnSounds","returnData","urls","smallestDuration","bpm","returnDuration","quantizePosition","smallestInterval","measures","returnPosition","asyncPlayShape","asyncPlayShapeSound","asyncPlayShapeAnimation","res","animating","totalDuration","measureLength","animate","rotate","settings","easing","complete","removeShapeFromComposition","shapeGroup","getItems","clearSoundTimeouts","soundTimeout","playCompositionFirstTime","trimmedCompositionObj","getTrimmedCompositionObj","iterations","repeatComposition","playCompositionOnce","asyncPlayCompositionMultipleTimes","repeats","promisedRepeats","getTime","shapePromises","asyncPlayShapeWithDelay","endTime","playTime","trimmedComposition","getCompositionStartTime","modifiedSound","shallowCopy","beatLength","howler","107","pauseVideo","exitTutorialMode","drawInactivityDelay","inputDelay","refreshCheckDelay","overlayDelay","108","hammerTips","tipsOverlay","doubleTap","panStart","panMove","panEnd","pinchStart","pinchMove","pinchEnd","enableAllEvents","enableTapEvents","enablePanAndPinchEvents","disableAllEvents","enablePanEvents","enablePinchEvents","disableTapEvents","disablePanEvents","disablePinchEvents","pointer","hitResult","hitTest","hitOptions","eventTargetIsOnCanvas","hideContextualTutByName","stopPropagation","strokeCap","maxShapeLength","angleDelta","prevPoint","halfPointX","halfPointY","halfPoint","topX","topY","bottomX","bottomY","smooth","speed","tooLong","draw","move","minShapeSize","visibleGroups","firstGroup","removedGroup","shapeSize","centerPoint","rad","gradientSize","originX","originY","destinationX","destinationY","origin","gradient","stops","shapeSoundObj","outlineGroup","outline","outer","outlineCenter","middle","sendToBack","shapeMask","enclosedLoops","unditherButtonsByName","scaleFactor","allTutsCompleted","tutName","addContextualTut","tut","interacting","originalRotation","originalScale","thrown","$tut","$pinchedTut","currentScale","scaleDelta","currentRotation","rotationDelta","moveContextualTut","hypot","viewHypot","maxScaleFactor","hideContextualTut","throwPinchedGroup","velocityMultiplier","viewHeight","offScreen","requestAnimationFrame","newX","newY","newPos","tolerance","hammerjs","109","getTutByName","tutObj","tutorialCompletionObj","completion","shapeCenter","tutCopy","tutPos","getTutPositionFromCenter","css","left","visibility","$tuts","resetContextualTuts","tutWidth","outerWidth","tutHeight","outerHeight","leftPos","topPos","tutArrowHeight","110","initLogoRefresh","initColorPalette","initNewButton","initUndoButton","initPlayButton","initTipsButton","initShareButton","initContextualTuts","resetCanvas","ditherAllButtons","ditheredClass","unditherAllButtons","ditherButtonsByName","buttonNames","undither","ditherButtonByName","buttonName","$button","unditherButtonByName","newPressed","activeLayer","removeChildren","undoPressed","lastMove","clearGroupPops","numGroups","getNumGroups","tipsPressed","$paletteWrap","$paletteColors","paletteColorSize","paletteSelectedColorSize","paletteSelectedClass","$svg","share","clear","numCanvasses","randomCanvasIndex","canvasBg","Raster","scaleFactorHorizontal","scaleFactorVertical","Layer","./share","111","degrees","deg","radians","pow","delta","toLocaleTimeString","getNumVisibleGroups","getAllGroups","returnPops","groupPops","intersectingPops","112","playVideo","videoPlayingClass","main","$video","$videoWrapper","./main"],"mappings":"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AKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAClmCz+B,KAAM,SAEN6lE,SAAWz9C,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IA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AAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAC9hDz+B,KAAM,aAEN6lE,SAAWz9C,EAAG,EAAGqW,EAAG,IAAOrW,EAAG,EAAGqW,EAAG,KAAQrW,EAAG,GAAIqW,EAAG,KAAQrW,EAAG,GAAIqW,EAAG,IACxEz+B,KAAM,WAEN6lE,SAAWz9C,EAAG,EAAGqW,EAAG,IAAOrW,EAAG,EAAGqW,EAAG,MAASrW,EAAG,GAAIqW,EAAG,MAASrW,EAAG,GAAIqW,EAAG,IAC1Ez+B,KAAM,WAEN6lE,SAAWz9C,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MACl5Dz+B,KAAM,WAEN6lE,SAAWz9C,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,KAAQrW,EAAK,GAAIqW,EAAK,KAAQrW,EAAK,GAAIqW,EAAK,KAAQrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,KAAQrW,EAAK,IAAKqW,EAAK,KAAQrW,EAAK,IAAKqW,EAAK,KAAQrW,EAAK,IAAKqW,EAAK,KAAQrW,EAAK,IAAKqW,EAAK,KAAQrW,EAAK,IAAKqW,EAAK,KAAQrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MACvez+B,KAAM,UAEN6lE,SAAWz9C,EAAK,GAAIqW,EAAK,KAAQrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,KAAQrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,KACrNz+B,KAAM,UAEN6lE,SAAWz9C,EAAK,GAAIqW,EAAK,KAAQrW,EAAK,GAAIqW,EAAK,KAAQrW,EAAK,IAAKqW,EAAK,KAAQrW,EAAK,IAAKqW,EAAK,KAAQrW,EAAK,GAAIqW,EAAK,KAAQrW,EAAK,GAAIqW,EAAK,MACzIz+B,KAAM,UAEN6lE,SAAWz9C,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAC1vCz+B,KAAM,UAEN6lE,SAAWz9C,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MACjhDz+B,KAAM,UAEN6lE,SAAWz9C,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,GAAIqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,MAASrW,EAAK,IAAKqW,EAAK,M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","file":"../main.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nmodule.exports = require('./lib/axios');\n},{\"./lib/axios\":3}],2:[function(require,module,exports){\n(function (process){\n'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildURL = require('./../helpers/buildURL');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\nvar btoa = (typeof window !== 'undefined' && window.btoa && window.btoa.bind(window)) || require('./../helpers/btoa');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n    var loadEvent = 'onreadystatechange';\n    var xDomain = false;\n\n    // For IE 8/9 CORS support\n    // Only supports POST and GET calls and doesn't returns the response headers.\n    // DON'T do this for testing b/c XMLHttpRequest is mocked, not XDomainRequest.\n    if (process.env.NODE_ENV !== 'test' &&\n        typeof window !== 'undefined' &&\n        window.XDomainRequest && !('withCredentials' in request) &&\n        !isURLSameOrigin(config.url)) {\n      request = new window.XDomainRequest();\n      loadEvent = 'onload';\n      xDomain = true;\n      request.onprogress = function handleProgress() {};\n      request.ontimeout = function handleTimeout() {};\n    }\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request[loadEvent] = function handleLoad() {\n      if (!request || (request.readyState !== 4 && !xDomain)) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        // IE sends 1223 instead of 204 (https://github.com/mzabriskie/axios/issues/201)\n        status: request.status === 1223 ? 204 : request.status,\n        statusText: request.status === 1223 ? 'No Content' : request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED'));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = require('./../helpers/cookies');\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ?\n          cookies.read(config.xsrfCookieName) :\n          undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (config.withCredentials) {\n      request.withCredentials = true;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        if (request.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n\n}).call(this,require('_process'))\n\n},{\"../core/createError\":9,\"./../core/settle\":12,\"./../helpers/btoa\":16,\"./../helpers/buildURL\":17,\"./../helpers/cookies\":19,\"./../helpers/isURLSameOrigin\":21,\"./../helpers/parseHeaders\":23,\"./../utils\":25,\"_process\":29}],3:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(utils.merge(defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n\n},{\"./cancel/Cancel\":4,\"./cancel/CancelToken\":5,\"./cancel/isCancel\":6,\"./core/Axios\":7,\"./defaults\":14,\"./helpers/bind\":15,\"./helpers/spread\":24,\"./utils\":25}],4:[function(require,module,exports){\n'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n\n},{}],5:[function(require,module,exports){\n'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n\n},{\"./Cancel\":4}],6:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n\n},{}],7:[function(require,module,exports){\n'use strict';\n\nvar defaults = require('./../defaults');\nvar utils = require('./../utils');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar isAbsoluteURL = require('./../helpers/isAbsoluteURL');\nvar combineURLs = require('./../helpers/combineURLs');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = utils.merge({\n      url: arguments[0]\n    }, arguments[1]);\n  }\n\n  config = utils.merge(defaults, this.defaults, { method: 'get' }, config);\n\n  // Support baseURL config\n  if (config.baseURL && !isAbsoluteURL(config.url)) {\n    config.url = combineURLs(config.baseURL, config.url);\n  }\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n\n},{\"./../defaults\":14,\"./../helpers/combineURLs\":18,\"./../helpers/isAbsoluteURL\":20,\"./../utils\":25,\"./InterceptorManager\":8,\"./dispatchRequest\":10}],8:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n\n},{\"./../utils\":25}],9:[function(require,module,exports){\n'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n @ @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, response);\n};\n\n},{\"./enhanceError\":11}],10:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers || {}\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n\n},{\"../cancel/isCancel\":6,\"../defaults\":14,\"./../utils\":25,\"./transformData\":13}],11:[function(require,module,exports){\n'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n @ @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n  error.response = response;\n  return error;\n};\n\n},{}],12:[function(require,module,exports){\n'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  // Note: status is not exposed by XDomainRequest\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response\n    ));\n  }\n};\n\n},{\"./createError\":9}],13:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n\n},{\"./../utils\":25}],14:[function(require,module,exports){\n(function (process){\n'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar PROTECTION_PREFIX = /^\\)\\]\\}',?\\n/;\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      data = data.replace(PROTECTION_PREFIX, '');\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMehtodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n\n}).call(this,require('_process'))\n\n},{\"./adapters/http\":2,\"./adapters/xhr\":2,\"./helpers/normalizeHeaderName\":22,\"./utils\":25,\"_process\":29}],15:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n\n},{}],16:[function(require,module,exports){\n'use strict';\n\n// btoa polyfill for IE<10 courtesy https://github.com/davidchambers/Base64.js\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction E() {\n  this.message = 'String contains an invalid character';\n}\nE.prototype = new Error;\nE.prototype.code = 5;\nE.prototype.name = 'InvalidCharacterError';\n\nfunction btoa(input) {\n  var str = String(input);\n  var output = '';\n  for (\n    // initialize result and counter\n    var block, charCode, idx = 0, map = chars;\n    // if the next str index does not exist:\n    //   change the mapping table to \"=\"\n    //   check if d has no fractional digits\n    str.charAt(idx | 0) || (map = '=', idx % 1);\n    // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n    output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n  ) {\n    charCode = str.charCodeAt(idx += 3 / 4);\n    if (charCode > 0xFF) {\n      throw new E();\n    }\n    block = block << 8 | charCode;\n  }\n  return output;\n}\n\nmodule.exports = btoa;\n\n},{}],17:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      }\n\n      if (!utils.isArray(val)) {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n\n},{\"./../utils\":25}],18:[function(require,module,exports){\n'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '');\n};\n\n},{}],19:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n  (function standardBrowserEnv() {\n    return {\n      write: function write(name, value, expires, path, domain, secure) {\n        var cookie = [];\n        cookie.push(name + '=' + encodeURIComponent(value));\n\n        if (utils.isNumber(expires)) {\n          cookie.push('expires=' + new Date(expires).toGMTString());\n        }\n\n        if (utils.isString(path)) {\n          cookie.push('path=' + path);\n        }\n\n        if (utils.isString(domain)) {\n          cookie.push('domain=' + domain);\n        }\n\n        if (secure === true) {\n          cookie.push('secure');\n        }\n\n        document.cookie = cookie.join('; ');\n      },\n\n      read: function read(name) {\n        var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n        return (match ? decodeURIComponent(match[3]) : null);\n      },\n\n      remove: function remove(name) {\n        this.write(name, '', Date.now() - 86400000);\n      }\n    };\n  })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return {\n      write: function write() {},\n      read: function read() { return null; },\n      remove: function remove() {}\n    };\n  })()\n);\n\n},{\"./../utils\":25}],20:[function(require,module,exports){\n'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n\n},{}],21:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    var msie = /(msie|trident)/i.test(navigator.userAgent);\n    var urlParsingNode = document.createElement('a');\n    var originURL;\n\n    /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      var href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n                  urlParsingNode.pathname :\n                  '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })()\n);\n\n},{\"./../utils\":25}],22:[function(require,module,exports){\n'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n\n},{\"../utils\":25}],23:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n\n},{\"./../utils\":25}],24:[function(require,module,exports){\n'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n\n},{}],25:[function(require,module,exports){\n'use strict';\n\nvar bind = require('./helpers/bind');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  typeof document.createElement -> undefined\n */\nfunction isStandardBrowserEnv() {\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined' &&\n    typeof document.createElement === 'function'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object' && !isArray(obj)) {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim\n};\n\n},{\"./helpers/bind\":15}],26:[function(require,module,exports){\n(function (process,global){\n/* @preserve\n * The MIT License (MIT)\n * \n * Copyright (c) 2013-2017 Petka Antonov\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n * \n */\n/**\n * bluebird build version 3.5.0\n * Features enabled: core, race, call_get, generators, map, nodeify, promisify, props, reduce, settle, some, using, timers, filter, any, each\n*/\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var f;\"undefined\"!=typeof window?f=window:\"undefined\"!=typeof global?f=global:\"undefined\"!=typeof self&&(f=self),f.Promise=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof _dereq_==\"function\"&&_dereq_;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof _dereq_==\"function\"&&_dereq_;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar SomePromiseArray = Promise._SomePromiseArray;\nfunction any(promises) {\n    var ret = new SomePromiseArray(promises);\n    var promise = ret.promise();\n    ret.setHowMany(1);\n    ret.setUnwrap();\n    ret.init();\n    return promise;\n}\n\nPromise.any = function (promises) {\n    return any(promises);\n};\n\nPromise.prototype.any = function () {\n    return any(this);\n};\n\n};\n\n},{}],2:[function(_dereq_,module,exports){\n\"use strict\";\nvar firstLineError;\ntry {throw new Error(); } catch (e) {firstLineError = e;}\nvar schedule = _dereq_(\"./schedule\");\nvar Queue = _dereq_(\"./queue\");\nvar util = _dereq_(\"./util\");\n\nfunction Async() {\n    this._customScheduler = false;\n    this._isTickUsed = false;\n    this._lateQueue = new Queue(16);\n    this._normalQueue = new Queue(16);\n    this._haveDrainedQueues = false;\n    this._trampolineEnabled = true;\n    var self = this;\n    this.drainQueues = function () {\n        self._drainQueues();\n    };\n    this._schedule = schedule;\n}\n\nAsync.prototype.setScheduler = function(fn) {\n    var prev = this._schedule;\n    this._schedule = fn;\n    this._customScheduler = true;\n    return prev;\n};\n\nAsync.prototype.hasCustomScheduler = function() {\n    return this._customScheduler;\n};\n\nAsync.prototype.enableTrampoline = function() {\n    this._trampolineEnabled = true;\n};\n\nAsync.prototype.disableTrampolineIfNecessary = function() {\n    if (util.hasDevTools) {\n        this._trampolineEnabled = false;\n    }\n};\n\nAsync.prototype.haveItemsQueued = function () {\n    return this._isTickUsed || this._haveDrainedQueues;\n};\n\n\nAsync.prototype.fatalError = function(e, isNode) {\n    if (isNode) {\n        process.stderr.write(\"Fatal \" + (e instanceof Error ? e.stack : e) +\n            \"\\n\");\n        process.exit(2);\n    } else {\n        this.throwLater(e);\n    }\n};\n\nAsync.prototype.throwLater = function(fn, arg) {\n    if (arguments.length === 1) {\n        arg = fn;\n        fn = function () { throw arg; };\n    }\n    if (typeof setTimeout !== \"undefined\") {\n        setTimeout(function() {\n            fn(arg);\n        }, 0);\n    } else try {\n        this._schedule(function() {\n            fn(arg);\n        });\n    } catch (e) {\n        throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n};\n\nfunction AsyncInvokeLater(fn, receiver, arg) {\n    this._lateQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncInvoke(fn, receiver, arg) {\n    this._normalQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncSettlePromises(promise) {\n    this._normalQueue._pushOne(promise);\n    this._queueTick();\n}\n\nif (!util.hasDevTools) {\n    Async.prototype.invokeLater = AsyncInvokeLater;\n    Async.prototype.invoke = AsyncInvoke;\n    Async.prototype.settlePromises = AsyncSettlePromises;\n} else {\n    Async.prototype.invokeLater = function (fn, receiver, arg) {\n        if (this._trampolineEnabled) {\n            AsyncInvokeLater.call(this, fn, receiver, arg);\n        } else {\n            this._schedule(function() {\n                setTimeout(function() {\n                    fn.call(receiver, arg);\n                }, 100);\n            });\n        }\n    };\n\n    Async.prototype.invoke = function (fn, receiver, arg) {\n        if (this._trampolineEnabled) {\n            AsyncInvoke.call(this, fn, receiver, arg);\n        } else {\n            this._schedule(function() {\n                fn.call(receiver, arg);\n            });\n        }\n    };\n\n    Async.prototype.settlePromises = function(promise) {\n        if (this._trampolineEnabled) {\n            AsyncSettlePromises.call(this, promise);\n        } else {\n            this._schedule(function() {\n                promise._settlePromises();\n            });\n        }\n    };\n}\n\nAsync.prototype._drainQueue = function(queue) {\n    while (queue.length() > 0) {\n        var fn = queue.shift();\n        if (typeof fn !== \"function\") {\n            fn._settlePromises();\n            continue;\n        }\n        var receiver = queue.shift();\n        var arg = queue.shift();\n        fn.call(receiver, arg);\n    }\n};\n\nAsync.prototype._drainQueues = function () {\n    this._drainQueue(this._normalQueue);\n    this._reset();\n    this._haveDrainedQueues = true;\n    this._drainQueue(this._lateQueue);\n};\n\nAsync.prototype._queueTick = function () {\n    if (!this._isTickUsed) {\n        this._isTickUsed = true;\n        this._schedule(this.drainQueues);\n    }\n};\n\nAsync.prototype._reset = function () {\n    this._isTickUsed = false;\n};\n\nmodule.exports = Async;\nmodule.exports.firstLineError = firstLineError;\n\n},{\"./queue\":26,\"./schedule\":29,\"./util\":36}],3:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise, debug) {\nvar calledBind = false;\nvar rejectThis = function(_, e) {\n    this._reject(e);\n};\n\nvar targetRejected = function(e, context) {\n    context.promiseRejectionQueued = true;\n    context.bindingPromise._then(rejectThis, rejectThis, null, this, e);\n};\n\nvar bindingResolved = function(thisArg, context) {\n    if (((this._bitField & 50397184) === 0)) {\n        this._resolveCallback(context.target);\n    }\n};\n\nvar bindingRejected = function(e, context) {\n    if (!context.promiseRejectionQueued) this._reject(e);\n};\n\nPromise.prototype.bind = function (thisArg) {\n    if (!calledBind) {\n        calledBind = true;\n        Promise.prototype._propagateFrom = debug.propagateFromFunction();\n        Promise.prototype._boundValue = debug.boundValueFunction();\n    }\n    var maybePromise = tryConvertToPromise(thisArg);\n    var ret = new Promise(INTERNAL);\n    ret._propagateFrom(this, 1);\n    var target = this._target();\n    ret._setBoundTo(maybePromise);\n    if (maybePromise instanceof Promise) {\n        var context = {\n            promiseRejectionQueued: false,\n            promise: ret,\n            target: target,\n            bindingPromise: maybePromise\n        };\n        target._then(INTERNAL, targetRejected, undefined, ret, context);\n        maybePromise._then(\n            bindingResolved, bindingRejected, undefined, ret, context);\n        ret._setOnCancel(maybePromise);\n    } else {\n        ret._resolveCallback(target);\n    }\n    return ret;\n};\n\nPromise.prototype._setBoundTo = function (obj) {\n    if (obj !== undefined) {\n        this._bitField = this._bitField | 2097152;\n        this._boundTo = obj;\n    } else {\n        this._bitField = this._bitField & (~2097152);\n    }\n};\n\nPromise.prototype._isBound = function () {\n    return (this._bitField & 2097152) === 2097152;\n};\n\nPromise.bind = function (thisArg, value) {\n    return Promise.resolve(value).bind(thisArg);\n};\n};\n\n},{}],4:[function(_dereq_,module,exports){\n\"use strict\";\nvar old;\nif (typeof Promise !== \"undefined\") old = Promise;\nfunction noConflict() {\n    try { if (Promise === bluebird) Promise = old; }\n    catch (e) {}\n    return bluebird;\n}\nvar bluebird = _dereq_(\"./promise\")();\nbluebird.noConflict = noConflict;\nmodule.exports = bluebird;\n\n},{\"./promise\":22}],5:[function(_dereq_,module,exports){\n\"use strict\";\nvar cr = Object.create;\nif (cr) {\n    var callerCache = cr(null);\n    var getterCache = cr(null);\n    callerCache[\" size\"] = getterCache[\" size\"] = 0;\n}\n\nmodule.exports = function(Promise) {\nvar util = _dereq_(\"./util\");\nvar canEvaluate = util.canEvaluate;\nvar isIdentifier = util.isIdentifier;\n\nvar getMethodCaller;\nvar getGetter;\nif (!true) {\nvar makeMethodCaller = function (methodName) {\n    return new Function(\"ensureMethod\", \"                                    \\n\\\n        return function(obj) {                                               \\n\\\n            'use strict'                                                     \\n\\\n            var len = this.length;                                           \\n\\\n            ensureMethod(obj, 'methodName');                                 \\n\\\n            switch(len) {                                                    \\n\\\n                case 1: return obj.methodName(this[0]);                      \\n\\\n                case 2: return obj.methodName(this[0], this[1]);             \\n\\\n                case 3: return obj.methodName(this[0], this[1], this[2]);    \\n\\\n                case 0: return obj.methodName();                             \\n\\\n                default:                                                     \\n\\\n                    return obj.methodName.apply(obj, this);                  \\n\\\n            }                                                                \\n\\\n        };                                                                   \\n\\\n        \".replace(/methodName/g, methodName))(ensureMethod);\n};\n\nvar makeGetter = function (propertyName) {\n    return new Function(\"obj\", \"                                             \\n\\\n        'use strict';                                                        \\n\\\n        return obj.propertyName;                                             \\n\\\n        \".replace(\"propertyName\", propertyName));\n};\n\nvar getCompiled = function(name, compiler, cache) {\n    var ret = cache[name];\n    if (typeof ret !== \"function\") {\n        if (!isIdentifier(name)) {\n            return null;\n        }\n        ret = compiler(name);\n        cache[name] = ret;\n        cache[\" size\"]++;\n        if (cache[\" size\"] > 512) {\n            var keys = Object.keys(cache);\n            for (var i = 0; i < 256; ++i) delete cache[keys[i]];\n            cache[\" size\"] = keys.length - 256;\n        }\n    }\n    return ret;\n};\n\ngetMethodCaller = function(name) {\n    return getCompiled(name, makeMethodCaller, callerCache);\n};\n\ngetGetter = function(name) {\n    return getCompiled(name, makeGetter, getterCache);\n};\n}\n\nfunction ensureMethod(obj, methodName) {\n    var fn;\n    if (obj != null) fn = obj[methodName];\n    if (typeof fn !== \"function\") {\n        var message = \"Object \" + util.classString(obj) + \" has no method '\" +\n            util.toString(methodName) + \"'\";\n        throw new Promise.TypeError(message);\n    }\n    return fn;\n}\n\nfunction caller(obj) {\n    var methodName = this.pop();\n    var fn = ensureMethod(obj, methodName);\n    return fn.apply(obj, this);\n}\nPromise.prototype.call = function (methodName) {\n    var args = [].slice.call(arguments, 1);;\n    if (!true) {\n        if (canEvaluate) {\n            var maybeCaller = getMethodCaller(methodName);\n            if (maybeCaller !== null) {\n                return this._then(\n                    maybeCaller, undefined, undefined, args, undefined);\n            }\n        }\n    }\n    args.push(methodName);\n    return this._then(caller, undefined, undefined, args, undefined);\n};\n\nfunction namedGetter(obj) {\n    return obj[this];\n}\nfunction indexedGetter(obj) {\n    var index = +this;\n    if (index < 0) index = Math.max(0, index + obj.length);\n    return obj[index];\n}\nPromise.prototype.get = function (propertyName) {\n    var isIndex = (typeof propertyName === \"number\");\n    var getter;\n    if (!isIndex) {\n        if (canEvaluate) {\n            var maybeGetter = getGetter(propertyName);\n            getter = maybeGetter !== null ? maybeGetter : namedGetter;\n        } else {\n            getter = namedGetter;\n        }\n    } else {\n        getter = indexedGetter;\n    }\n    return this._then(getter, undefined, undefined, propertyName, undefined);\n};\n};\n\n},{\"./util\":36}],6:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, PromiseArray, apiRejection, debug) {\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar async = Promise._async;\n\nPromise.prototype[\"break\"] = Promise.prototype.cancel = function() {\n    if (!debug.cancellation()) return this._warn(\"cancellation is disabled\");\n\n    var promise = this;\n    var child = promise;\n    while (promise._isCancellable()) {\n        if (!promise._cancelBy(child)) {\n            if (child._isFollowing()) {\n                child._followee().cancel();\n            } else {\n                child._cancelBranched();\n            }\n            break;\n        }\n\n        var parent = promise._cancellationParent;\n        if (parent == null || !parent._isCancellable()) {\n            if (promise._isFollowing()) {\n                promise._followee().cancel();\n            } else {\n                promise._cancelBranched();\n            }\n            break;\n        } else {\n            if (promise._isFollowing()) promise._followee().cancel();\n            promise._setWillBeCancelled();\n            child = promise;\n            promise = parent;\n        }\n    }\n};\n\nPromise.prototype._branchHasCancelled = function() {\n    this._branchesRemainingToCancel--;\n};\n\nPromise.prototype._enoughBranchesHaveCancelled = function() {\n    return this._branchesRemainingToCancel === undefined ||\n           this._branchesRemainingToCancel <= 0;\n};\n\nPromise.prototype._cancelBy = function(canceller) {\n    if (canceller === this) {\n        this._branchesRemainingToCancel = 0;\n        this._invokeOnCancel();\n        return true;\n    } else {\n        this._branchHasCancelled();\n        if (this._enoughBranchesHaveCancelled()) {\n            this._invokeOnCancel();\n            return true;\n        }\n    }\n    return false;\n};\n\nPromise.prototype._cancelBranched = function() {\n    if (this._enoughBranchesHaveCancelled()) {\n        this._cancel();\n    }\n};\n\nPromise.prototype._cancel = function() {\n    if (!this._isCancellable()) return;\n    this._setCancelled();\n    async.invoke(this._cancelPromises, this, undefined);\n};\n\nPromise.prototype._cancelPromises = function() {\n    if (this._length() > 0) this._settlePromises();\n};\n\nPromise.prototype._unsetOnCancel = function() {\n    this._onCancelField = undefined;\n};\n\nPromise.prototype._isCancellable = function() {\n    return this.isPending() && !this._isCancelled();\n};\n\nPromise.prototype.isCancellable = function() {\n    return this.isPending() && !this.isCancelled();\n};\n\nPromise.prototype._doInvokeOnCancel = function(onCancelCallback, internalOnly) {\n    if (util.isArray(onCancelCallback)) {\n        for (var i = 0; i < onCancelCallback.length; ++i) {\n            this._doInvokeOnCancel(onCancelCallback[i], internalOnly);\n        }\n    } else if (onCancelCallback !== undefined) {\n        if (typeof onCancelCallback === \"function\") {\n            if (!internalOnly) {\n                var e = tryCatch(onCancelCallback).call(this._boundValue());\n                if (e === errorObj) {\n                    this._attachExtraTrace(e.e);\n                    async.throwLater(e.e);\n                }\n            }\n        } else {\n            onCancelCallback._resultCancelled(this);\n        }\n    }\n};\n\nPromise.prototype._invokeOnCancel = function() {\n    var onCancelCallback = this._onCancel();\n    this._unsetOnCancel();\n    async.invoke(this._doInvokeOnCancel, this, onCancelCallback);\n};\n\nPromise.prototype._invokeInternalOnCancel = function() {\n    if (this._isCancellable()) {\n        this._doInvokeOnCancel(this._onCancel(), true);\n        this._unsetOnCancel();\n    }\n};\n\nPromise.prototype._resultCancelled = function() {\n    this.cancel();\n};\n\n};\n\n},{\"./util\":36}],7:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(NEXT_FILTER) {\nvar util = _dereq_(\"./util\");\nvar getKeys = _dereq_(\"./es5\").keys;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nfunction catchFilter(instances, cb, promise) {\n    return function(e) {\n        var boundTo = promise._boundValue();\n        predicateLoop: for (var i = 0; i < instances.length; ++i) {\n            var item = instances[i];\n\n            if (item === Error ||\n                (item != null && item.prototype instanceof Error)) {\n                if (e instanceof item) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (typeof item === \"function\") {\n                var matchesPredicate = tryCatch(item).call(boundTo, e);\n                if (matchesPredicate === errorObj) {\n                    return matchesPredicate;\n                } else if (matchesPredicate) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (util.isObject(e)) {\n                var keys = getKeys(item);\n                for (var j = 0; j < keys.length; ++j) {\n                    var key = keys[j];\n                    if (item[key] != e[key]) {\n                        continue predicateLoop;\n                    }\n                }\n                return tryCatch(cb).call(boundTo, e);\n            }\n        }\n        return NEXT_FILTER;\n    };\n}\n\nreturn catchFilter;\n};\n\n},{\"./es5\":13,\"./util\":36}],8:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar longStackTraces = false;\nvar contextStack = [];\n\nPromise.prototype._promiseCreated = function() {};\nPromise.prototype._pushContext = function() {};\nPromise.prototype._popContext = function() {return null;};\nPromise._peekContext = Promise.prototype._peekContext = function() {};\n\nfunction Context() {\n    this._trace = new Context.CapturedTrace(peekContext());\n}\nContext.prototype._pushContext = function () {\n    if (this._trace !== undefined) {\n        this._trace._promiseCreated = null;\n        contextStack.push(this._trace);\n    }\n};\n\nContext.prototype._popContext = function () {\n    if (this._trace !== undefined) {\n        var trace = contextStack.pop();\n        var ret = trace._promiseCreated;\n        trace._promiseCreated = null;\n        return ret;\n    }\n    return null;\n};\n\nfunction createContext() {\n    if (longStackTraces) return new Context();\n}\n\nfunction peekContext() {\n    var lastIndex = contextStack.length - 1;\n    if (lastIndex >= 0) {\n        return contextStack[lastIndex];\n    }\n    return undefined;\n}\nContext.CapturedTrace = null;\nContext.create = createContext;\nContext.deactivateLongStackTraces = function() {};\nContext.activateLongStackTraces = function() {\n    var Promise_pushContext = Promise.prototype._pushContext;\n    var Promise_popContext = Promise.prototype._popContext;\n    var Promise_PeekContext = Promise._peekContext;\n    var Promise_peekContext = Promise.prototype._peekContext;\n    var Promise_promiseCreated = Promise.prototype._promiseCreated;\n    Context.deactivateLongStackTraces = function() {\n        Promise.prototype._pushContext = Promise_pushContext;\n        Promise.prototype._popContext = Promise_popContext;\n        Promise._peekContext = Promise_PeekContext;\n        Promise.prototype._peekContext = Promise_peekContext;\n        Promise.prototype._promiseCreated = Promise_promiseCreated;\n        longStackTraces = false;\n    };\n    longStackTraces = true;\n    Promise.prototype._pushContext = Context.prototype._pushContext;\n    Promise.prototype._popContext = Context.prototype._popContext;\n    Promise._peekContext = Promise.prototype._peekContext = peekContext;\n    Promise.prototype._promiseCreated = function() {\n        var ctx = this._peekContext();\n        if (ctx && ctx._promiseCreated == null) ctx._promiseCreated = this;\n    };\n};\nreturn Context;\n};\n\n},{}],9:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, Context) {\nvar getDomain = Promise._getDomain;\nvar async = Promise._async;\nvar Warning = _dereq_(\"./errors\").Warning;\nvar util = _dereq_(\"./util\");\nvar canAttachTrace = util.canAttachTrace;\nvar unhandledRejectionHandled;\nvar possiblyUnhandledRejection;\nvar bluebirdFramePattern =\n    /[\\\\\\/]bluebird[\\\\\\/]js[\\\\\\/](release|debug|instrumented)/;\nvar nodeFramePattern = /\\((?:timers\\.js):\\d+:\\d+\\)/;\nvar parseLinePattern = /[\\/<\\(](.+?):(\\d+):(\\d+)\\)?\\s*$/;\nvar stackFramePattern = null;\nvar formatStack = null;\nvar indentStackFrames = false;\nvar printWarning;\nvar debugging = !!(util.env(\"BLUEBIRD_DEBUG\") != 0 &&\n                        (true ||\n                         util.env(\"BLUEBIRD_DEBUG\") ||\n                         util.env(\"NODE_ENV\") === \"development\"));\n\nvar warnings = !!(util.env(\"BLUEBIRD_WARNINGS\") != 0 &&\n    (debugging || util.env(\"BLUEBIRD_WARNINGS\")));\n\nvar longStackTraces = !!(util.env(\"BLUEBIRD_LONG_STACK_TRACES\") != 0 &&\n    (debugging || util.env(\"BLUEBIRD_LONG_STACK_TRACES\")));\n\nvar wForgottenReturn = util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\") != 0 &&\n    (warnings || !!util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\"));\n\nPromise.prototype.suppressUnhandledRejections = function() {\n    var target = this._target();\n    target._bitField = ((target._bitField & (~1048576)) |\n                      524288);\n};\n\nPromise.prototype._ensurePossibleRejectionHandled = function () {\n    if ((this._bitField & 524288) !== 0) return;\n    this._setRejectionIsUnhandled();\n    async.invokeLater(this._notifyUnhandledRejection, this, undefined);\n};\n\nPromise.prototype._notifyUnhandledRejectionIsHandled = function () {\n    fireRejectionEvent(\"rejectionHandled\",\n                                  unhandledRejectionHandled, undefined, this);\n};\n\nPromise.prototype._setReturnedNonUndefined = function() {\n    this._bitField = this._bitField | 268435456;\n};\n\nPromise.prototype._returnedNonUndefined = function() {\n    return (this._bitField & 268435456) !== 0;\n};\n\nPromise.prototype._notifyUnhandledRejection = function () {\n    if (this._isRejectionUnhandled()) {\n        var reason = this._settledValue();\n        this._setUnhandledRejectionIsNotified();\n        fireRejectionEvent(\"unhandledRejection\",\n                                      possiblyUnhandledRejection, reason, this);\n    }\n};\n\nPromise.prototype._setUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField | 262144;\n};\n\nPromise.prototype._unsetUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField & (~262144);\n};\n\nPromise.prototype._isUnhandledRejectionNotified = function () {\n    return (this._bitField & 262144) > 0;\n};\n\nPromise.prototype._setRejectionIsUnhandled = function () {\n    this._bitField = this._bitField | 1048576;\n};\n\nPromise.prototype._unsetRejectionIsUnhandled = function () {\n    this._bitField = this._bitField & (~1048576);\n    if (this._isUnhandledRejectionNotified()) {\n        this._unsetUnhandledRejectionIsNotified();\n        this._notifyUnhandledRejectionIsHandled();\n    }\n};\n\nPromise.prototype._isRejectionUnhandled = function () {\n    return (this._bitField & 1048576) > 0;\n};\n\nPromise.prototype._warn = function(message, shouldUseOwnTrace, promise) {\n    return warn(message, shouldUseOwnTrace, promise || this);\n};\n\nPromise.onPossiblyUnhandledRejection = function (fn) {\n    var domain = getDomain();\n    possiblyUnhandledRejection =\n        typeof fn === \"function\" ? (domain === null ?\n                                            fn : util.domainBind(domain, fn))\n                                 : undefined;\n};\n\nPromise.onUnhandledRejectionHandled = function (fn) {\n    var domain = getDomain();\n    unhandledRejectionHandled =\n        typeof fn === \"function\" ? (domain === null ?\n                                            fn : util.domainBind(domain, fn))\n                                 : undefined;\n};\n\nvar disableLongStackTraces = function() {};\nPromise.longStackTraces = function () {\n    if (async.haveItemsQueued() && !config.longStackTraces) {\n        throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    if (!config.longStackTraces && longStackTracesIsSupported()) {\n        var Promise_captureStackTrace = Promise.prototype._captureStackTrace;\n        var Promise_attachExtraTrace = Promise.prototype._attachExtraTrace;\n        config.longStackTraces = true;\n        disableLongStackTraces = function() {\n            if (async.haveItemsQueued() && !config.longStackTraces) {\n                throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n            }\n            Promise.prototype._captureStackTrace = Promise_captureStackTrace;\n            Promise.prototype._attachExtraTrace = Promise_attachExtraTrace;\n            Context.deactivateLongStackTraces();\n            async.enableTrampoline();\n            config.longStackTraces = false;\n        };\n        Promise.prototype._captureStackTrace = longStackTracesCaptureStackTrace;\n        Promise.prototype._attachExtraTrace = longStackTracesAttachExtraTrace;\n        Context.activateLongStackTraces();\n        async.disableTrampolineIfNecessary();\n    }\n};\n\nPromise.hasLongStackTraces = function () {\n    return config.longStackTraces && longStackTracesIsSupported();\n};\n\nvar fireDomEvent = (function() {\n    try {\n        if (typeof CustomEvent === \"function\") {\n            var event = new CustomEvent(\"CustomEvent\");\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = new CustomEvent(name.toLowerCase(), {\n                    detail: event,\n                    cancelable: true\n                });\n                return !util.global.dispatchEvent(domEvent);\n            };\n        } else if (typeof Event === \"function\") {\n            var event = new Event(\"CustomEvent\");\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = new Event(name.toLowerCase(), {\n                    cancelable: true\n                });\n                domEvent.detail = event;\n                return !util.global.dispatchEvent(domEvent);\n            };\n        } else {\n            var event = document.createEvent(\"CustomEvent\");\n            event.initCustomEvent(\"testingtheevent\", false, true, {});\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = document.createEvent(\"CustomEvent\");\n                domEvent.initCustomEvent(name.toLowerCase(), false, true,\n                    event);\n                return !util.global.dispatchEvent(domEvent);\n            };\n        }\n    } catch (e) {}\n    return function() {\n        return false;\n    };\n})();\n\nvar fireGlobalEvent = (function() {\n    if (util.isNode) {\n        return function() {\n            return process.emit.apply(process, arguments);\n        };\n    } else {\n        if (!util.global) {\n            return function() {\n                return false;\n            };\n        }\n        return function(name) {\n            var methodName = \"on\" + name.toLowerCase();\n            var method = util.global[methodName];\n            if (!method) return false;\n            method.apply(util.global, [].slice.call(arguments, 1));\n            return true;\n        };\n    }\n})();\n\nfunction generatePromiseLifecycleEventObject(name, promise) {\n    return {promise: promise};\n}\n\nvar eventToObjectGenerator = {\n    promiseCreated: generatePromiseLifecycleEventObject,\n    promiseFulfilled: generatePromiseLifecycleEventObject,\n    promiseRejected: generatePromiseLifecycleEventObject,\n    promiseResolved: generatePromiseLifecycleEventObject,\n    promiseCancelled: generatePromiseLifecycleEventObject,\n    promiseChained: function(name, promise, child) {\n        return {promise: promise, child: child};\n    },\n    warning: function(name, warning) {\n        return {warning: warning};\n    },\n    unhandledRejection: function (name, reason, promise) {\n        return {reason: reason, promise: promise};\n    },\n    rejectionHandled: generatePromiseLifecycleEventObject\n};\n\nvar activeFireEvent = function (name) {\n    var globalEventFired = false;\n    try {\n        globalEventFired = fireGlobalEvent.apply(null, arguments);\n    } catch (e) {\n        async.throwLater(e);\n        globalEventFired = true;\n    }\n\n    var domEventFired = false;\n    try {\n        domEventFired = fireDomEvent(name,\n                    eventToObjectGenerator[name].apply(null, arguments));\n    } catch (e) {\n        async.throwLater(e);\n        domEventFired = true;\n    }\n\n    return domEventFired || globalEventFired;\n};\n\nPromise.config = function(opts) {\n    opts = Object(opts);\n    if (\"longStackTraces\" in opts) {\n        if (opts.longStackTraces) {\n            Promise.longStackTraces();\n        } else if (!opts.longStackTraces && Promise.hasLongStackTraces()) {\n            disableLongStackTraces();\n        }\n    }\n    if (\"warnings\" in opts) {\n        var warningsOption = opts.warnings;\n        config.warnings = !!warningsOption;\n        wForgottenReturn = config.warnings;\n\n        if (util.isObject(warningsOption)) {\n            if (\"wForgottenReturn\" in warningsOption) {\n                wForgottenReturn = !!warningsOption.wForgottenReturn;\n            }\n        }\n    }\n    if (\"cancellation\" in opts && opts.cancellation && !config.cancellation) {\n        if (async.haveItemsQueued()) {\n            throw new Error(\n                \"cannot enable cancellation after promises are in use\");\n        }\n        Promise.prototype._clearCancellationData =\n            cancellationClearCancellationData;\n        Promise.prototype._propagateFrom = cancellationPropagateFrom;\n        Promise.prototype._onCancel = cancellationOnCancel;\n        Promise.prototype._setOnCancel = cancellationSetOnCancel;\n        Promise.prototype._attachCancellationCallback =\n            cancellationAttachCancellationCallback;\n        Promise.prototype._execute = cancellationExecute;\n        propagateFromFunction = cancellationPropagateFrom;\n        config.cancellation = true;\n    }\n    if (\"monitoring\" in opts) {\n        if (opts.monitoring && !config.monitoring) {\n            config.monitoring = true;\n            Promise.prototype._fireEvent = activeFireEvent;\n        } else if (!opts.monitoring && config.monitoring) {\n            config.monitoring = false;\n            Promise.prototype._fireEvent = defaultFireEvent;\n        }\n    }\n    return Promise;\n};\n\nfunction defaultFireEvent() { return false; }\n\nPromise.prototype._fireEvent = defaultFireEvent;\nPromise.prototype._execute = function(executor, resolve, reject) {\n    try {\n        executor(resolve, reject);\n    } catch (e) {\n        return e;\n    }\n};\nPromise.prototype._onCancel = function () {};\nPromise.prototype._setOnCancel = function (handler) { ; };\nPromise.prototype._attachCancellationCallback = function(onCancel) {\n    ;\n};\nPromise.prototype._captureStackTrace = function () {};\nPromise.prototype._attachExtraTrace = function () {};\nPromise.prototype._clearCancellationData = function() {};\nPromise.prototype._propagateFrom = function (parent, flags) {\n    ;\n    ;\n};\n\nfunction cancellationExecute(executor, resolve, reject) {\n    var promise = this;\n    try {\n        executor(resolve, reject, function(onCancel) {\n            if (typeof onCancel !== \"function\") {\n                throw new TypeError(\"onCancel must be a function, got: \" +\n                                    util.toString(onCancel));\n            }\n            promise._attachCancellationCallback(onCancel);\n        });\n    } catch (e) {\n        return e;\n    }\n}\n\nfunction cancellationAttachCancellationCallback(onCancel) {\n    if (!this._isCancellable()) return this;\n\n    var previousOnCancel = this._onCancel();\n    if (previousOnCancel !== undefined) {\n        if (util.isArray(previousOnCancel)) {\n            previousOnCancel.push(onCancel);\n        } else {\n            this._setOnCancel([previousOnCancel, onCancel]);\n        }\n    } else {\n        this._setOnCancel(onCancel);\n    }\n}\n\nfunction cancellationOnCancel() {\n    return this._onCancelField;\n}\n\nfunction cancellationSetOnCancel(onCancel) {\n    this._onCancelField = onCancel;\n}\n\nfunction cancellationClearCancellationData() {\n    this._cancellationParent = undefined;\n    this._onCancelField = undefined;\n}\n\nfunction cancellationPropagateFrom(parent, flags) {\n    if ((flags & 1) !== 0) {\n        this._cancellationParent = parent;\n        var branchesRemainingToCancel = parent._branchesRemainingToCancel;\n        if (branchesRemainingToCancel === undefined) {\n            branchesRemainingToCancel = 0;\n        }\n        parent._branchesRemainingToCancel = branchesRemainingToCancel + 1;\n    }\n    if ((flags & 2) !== 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n}\n\nfunction bindingPropagateFrom(parent, flags) {\n    if ((flags & 2) !== 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n}\nvar propagateFromFunction = bindingPropagateFrom;\n\nfunction boundValueFunction() {\n    var ret = this._boundTo;\n    if (ret !== undefined) {\n        if (ret instanceof Promise) {\n            if (ret.isFulfilled()) {\n                return ret.value();\n            } else {\n                return undefined;\n            }\n        }\n    }\n    return ret;\n}\n\nfunction longStackTracesCaptureStackTrace() {\n    this._trace = new CapturedTrace(this._peekContext());\n}\n\nfunction longStackTracesAttachExtraTrace(error, ignoreSelf) {\n    if (canAttachTrace(error)) {\n        var trace = this._trace;\n        if (trace !== undefined) {\n            if (ignoreSelf) trace = trace._parent;\n        }\n        if (trace !== undefined) {\n            trace.attachExtraTrace(error);\n        } else if (!error.__stackCleaned__) {\n            var parsed = parseStackAndMessage(error);\n            util.notEnumerableProp(error, \"stack\",\n                parsed.message + \"\\n\" + parsed.stack.join(\"\\n\"));\n            util.notEnumerableProp(error, \"__stackCleaned__\", true);\n        }\n    }\n}\n\nfunction checkForgottenReturns(returnValue, promiseCreated, name, promise,\n                               parent) {\n    if (returnValue === undefined && promiseCreated !== null &&\n        wForgottenReturn) {\n        if (parent !== undefined && parent._returnedNonUndefined()) return;\n        if ((promise._bitField & 65535) === 0) return;\n\n        if (name) name = name + \" \";\n        var handlerLine = \"\";\n        var creatorLine = \"\";\n        if (promiseCreated._trace) {\n            var traceLines = promiseCreated._trace.stack.split(\"\\n\");\n            var stack = cleanStack(traceLines);\n            for (var i = stack.length - 1; i >= 0; --i) {\n                var line = stack[i];\n                if (!nodeFramePattern.test(line)) {\n                    var lineMatches = line.match(parseLinePattern);\n                    if (lineMatches) {\n                        handlerLine  = \"at \" + lineMatches[1] +\n                            \":\" + lineMatches[2] + \":\" + lineMatches[3] + \" \";\n                    }\n                    break;\n                }\n            }\n\n            if (stack.length > 0) {\n                var firstUserLine = stack[0];\n                for (var i = 0; i < traceLines.length; ++i) {\n\n                    if (traceLines[i] === firstUserLine) {\n                        if (i > 0) {\n                            creatorLine = \"\\n\" + traceLines[i - 1];\n                        }\n                        break;\n                    }\n                }\n\n            }\n        }\n        var msg = \"a promise was created in a \" + name +\n            \"handler \" + handlerLine + \"but was not returned from it, \" +\n            \"see http://goo.gl/rRqMUw\" +\n            creatorLine;\n        promise._warn(msg, true, promiseCreated);\n    }\n}\n\nfunction deprecated(name, replacement) {\n    var message = name +\n        \" is deprecated and will be removed in a future version.\";\n    if (replacement) message += \" Use \" + replacement + \" instead.\";\n    return warn(message);\n}\n\nfunction warn(message, shouldUseOwnTrace, promise) {\n    if (!config.warnings) return;\n    var warning = new Warning(message);\n    var ctx;\n    if (shouldUseOwnTrace) {\n        promise._attachExtraTrace(warning);\n    } else if (config.longStackTraces && (ctx = Promise._peekContext())) {\n        ctx.attachExtraTrace(warning);\n    } else {\n        var parsed = parseStackAndMessage(warning);\n        warning.stack = parsed.message + \"\\n\" + parsed.stack.join(\"\\n\");\n    }\n\n    if (!activeFireEvent(\"warning\", warning)) {\n        formatAndLogError(warning, \"\", true);\n    }\n}\n\nfunction reconstructStack(message, stacks) {\n    for (var i = 0; i < stacks.length - 1; ++i) {\n        stacks[i].push(\"From previous event:\");\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    if (i < stacks.length) {\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    return message + \"\\n\" + stacks.join(\"\\n\");\n}\n\nfunction removeDuplicateOrEmptyJumps(stacks) {\n    for (var i = 0; i < stacks.length; ++i) {\n        if (stacks[i].length === 0 ||\n            ((i + 1 < stacks.length) && stacks[i][0] === stacks[i+1][0])) {\n            stacks.splice(i, 1);\n            i--;\n        }\n    }\n}\n\nfunction removeCommonRoots(stacks) {\n    var current = stacks[0];\n    for (var i = 1; i < stacks.length; ++i) {\n        var prev = stacks[i];\n        var currentLastIndex = current.length - 1;\n        var currentLastLine = current[currentLastIndex];\n        var commonRootMeetPoint = -1;\n\n        for (var j = prev.length - 1; j >= 0; --j) {\n            if (prev[j] === currentLastLine) {\n                commonRootMeetPoint = j;\n                break;\n            }\n        }\n\n        for (var j = commonRootMeetPoint; j >= 0; --j) {\n            var line = prev[j];\n            if (current[currentLastIndex] === line) {\n                current.pop();\n                currentLastIndex--;\n            } else {\n                break;\n            }\n        }\n        current = prev;\n    }\n}\n\nfunction cleanStack(stack) {\n    var ret = [];\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        var isTraceLine = \"    (No stack trace)\" === line ||\n            stackFramePattern.test(line);\n        var isInternalFrame = isTraceLine && shouldIgnore(line);\n        if (isTraceLine && !isInternalFrame) {\n            if (indentStackFrames && line.charAt(0) !== \" \") {\n                line = \"    \" + line;\n            }\n            ret.push(line);\n        }\n    }\n    return ret;\n}\n\nfunction stackFramesAsArray(error) {\n    var stack = error.stack.replace(/\\s+$/g, \"\").split(\"\\n\");\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        if (\"    (No stack trace)\" === line || stackFramePattern.test(line)) {\n            break;\n        }\n    }\n    if (i > 0 && error.name != \"SyntaxError\") {\n        stack = stack.slice(i);\n    }\n    return stack;\n}\n\nfunction parseStackAndMessage(error) {\n    var stack = error.stack;\n    var message = error.toString();\n    stack = typeof stack === \"string\" && stack.length > 0\n                ? stackFramesAsArray(error) : [\"    (No stack trace)\"];\n    return {\n        message: message,\n        stack: error.name == \"SyntaxError\" ? stack : cleanStack(stack)\n    };\n}\n\nfunction formatAndLogError(error, title, isSoft) {\n    if (typeof console !== \"undefined\") {\n        var message;\n        if (util.isObject(error)) {\n            var stack = error.stack;\n            message = title + formatStack(stack, error);\n        } else {\n            message = title + String(error);\n        }\n        if (typeof printWarning === \"function\") {\n            printWarning(message, isSoft);\n        } else if (typeof console.log === \"function\" ||\n            typeof console.log === \"object\") {\n            console.log(message);\n        }\n    }\n}\n\nfunction fireRejectionEvent(name, localHandler, reason, promise) {\n    var localEventFired = false;\n    try {\n        if (typeof localHandler === \"function\") {\n            localEventFired = true;\n            if (name === \"rejectionHandled\") {\n                localHandler(promise);\n            } else {\n                localHandler(reason, promise);\n            }\n        }\n    } catch (e) {\n        async.throwLater(e);\n    }\n\n    if (name === \"unhandledRejection\") {\n        if (!activeFireEvent(name, reason, promise) && !localEventFired) {\n            formatAndLogError(reason, \"Unhandled rejection \");\n        }\n    } else {\n        activeFireEvent(name, promise);\n    }\n}\n\nfunction formatNonError(obj) {\n    var str;\n    if (typeof obj === \"function\") {\n        str = \"[function \" +\n            (obj.name || \"anonymous\") +\n            \"]\";\n    } else {\n        str = obj && typeof obj.toString === \"function\"\n            ? obj.toString() : util.toString(obj);\n        var ruselessToString = /\\[object [a-zA-Z0-9$_]+\\]/;\n        if (ruselessToString.test(str)) {\n            try {\n                var newStr = JSON.stringify(obj);\n                str = newStr;\n            }\n            catch(e) {\n\n            }\n        }\n        if (str.length === 0) {\n            str = \"(empty array)\";\n        }\n    }\n    return (\"(<\" + snip(str) + \">, no stack trace)\");\n}\n\nfunction snip(str) {\n    var maxChars = 41;\n    if (str.length < maxChars) {\n        return str;\n    }\n    return str.substr(0, maxChars - 3) + \"...\";\n}\n\nfunction longStackTracesIsSupported() {\n    return typeof captureStackTrace === \"function\";\n}\n\nvar shouldIgnore = function() { return false; };\nvar parseLineInfoRegex = /[\\/<\\(]([^:\\/]+):(\\d+):(?:\\d+)\\)?\\s*$/;\nfunction parseLineInfo(line) {\n    var matches = line.match(parseLineInfoRegex);\n    if (matches) {\n        return {\n            fileName: matches[1],\n            line: parseInt(matches[2], 10)\n        };\n    }\n}\n\nfunction setBounds(firstLineError, lastLineError) {\n    if (!longStackTracesIsSupported()) return;\n    var firstStackLines = firstLineError.stack.split(\"\\n\");\n    var lastStackLines = lastLineError.stack.split(\"\\n\");\n    var firstIndex = -1;\n    var lastIndex = -1;\n    var firstFileName;\n    var lastFileName;\n    for (var i = 0; i < firstStackLines.length; ++i) {\n        var result = parseLineInfo(firstStackLines[i]);\n        if (result) {\n            firstFileName = result.fileName;\n            firstIndex = result.line;\n            break;\n        }\n    }\n    for (var i = 0; i < lastStackLines.length; ++i) {\n        var result = parseLineInfo(lastStackLines[i]);\n        if (result) {\n            lastFileName = result.fileName;\n            lastIndex = result.line;\n            break;\n        }\n    }\n    if (firstIndex < 0 || lastIndex < 0 || !firstFileName || !lastFileName ||\n        firstFileName !== lastFileName || firstIndex >= lastIndex) {\n        return;\n    }\n\n    shouldIgnore = function(line) {\n        if (bluebirdFramePattern.test(line)) return true;\n        var info = parseLineInfo(line);\n        if (info) {\n            if (info.fileName === firstFileName &&\n                (firstIndex <= info.line && info.line <= lastIndex)) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\n\nfunction CapturedTrace(parent) {\n    this._parent = parent;\n    this._promisesCreated = 0;\n    var length = this._length = 1 + (parent === undefined ? 0 : parent._length);\n    captureStackTrace(this, CapturedTrace);\n    if (length > 32) this.uncycle();\n}\nutil.inherits(CapturedTrace, Error);\nContext.CapturedTrace = CapturedTrace;\n\nCapturedTrace.prototype.uncycle = function() {\n    var length = this._length;\n    if (length < 2) return;\n    var nodes = [];\n    var stackToIndex = {};\n\n    for (var i = 0, node = this; node !== undefined; ++i) {\n        nodes.push(node);\n        node = node._parent;\n    }\n    length = this._length = i;\n    for (var i = length - 1; i >= 0; --i) {\n        var stack = nodes[i].stack;\n        if (stackToIndex[stack] === undefined) {\n            stackToIndex[stack] = i;\n        }\n    }\n    for (var i = 0; i < length; ++i) {\n        var currentStack = nodes[i].stack;\n        var index = stackToIndex[currentStack];\n        if (index !== undefined && index !== i) {\n            if (index > 0) {\n                nodes[index - 1]._parent = undefined;\n                nodes[index - 1]._length = 1;\n            }\n            nodes[i]._parent = undefined;\n            nodes[i]._length = 1;\n            var cycleEdgeNode = i > 0 ? nodes[i - 1] : this;\n\n            if (index < length - 1) {\n                cycleEdgeNode._parent = nodes[index + 1];\n                cycleEdgeNode._parent.uncycle();\n                cycleEdgeNode._length =\n                    cycleEdgeNode._parent._length + 1;\n            } else {\n                cycleEdgeNode._parent = undefined;\n                cycleEdgeNode._length = 1;\n            }\n            var currentChildLength = cycleEdgeNode._length + 1;\n            for (var j = i - 2; j >= 0; --j) {\n                nodes[j]._length = currentChildLength;\n                currentChildLength++;\n            }\n            return;\n        }\n    }\n};\n\nCapturedTrace.prototype.attachExtraTrace = function(error) {\n    if (error.__stackCleaned__) return;\n    this.uncycle();\n    var parsed = parseStackAndMessage(error);\n    var message = parsed.message;\n    var stacks = [parsed.stack];\n\n    var trace = this;\n    while (trace !== undefined) {\n        stacks.push(cleanStack(trace.stack.split(\"\\n\")));\n        trace = trace._parent;\n    }\n    removeCommonRoots(stacks);\n    removeDuplicateOrEmptyJumps(stacks);\n    util.notEnumerableProp(error, \"stack\", reconstructStack(message, stacks));\n    util.notEnumerableProp(error, \"__stackCleaned__\", true);\n};\n\nvar captureStackTrace = (function stackDetection() {\n    var v8stackFramePattern = /^\\s*at\\s*/;\n    var v8stackFormatter = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if (error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    if (typeof Error.stackTraceLimit === \"number\" &&\n        typeof Error.captureStackTrace === \"function\") {\n        Error.stackTraceLimit += 6;\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        var captureStackTrace = Error.captureStackTrace;\n\n        shouldIgnore = function(line) {\n            return bluebirdFramePattern.test(line);\n        };\n        return function(receiver, ignoreUntil) {\n            Error.stackTraceLimit += 6;\n            captureStackTrace(receiver, ignoreUntil);\n            Error.stackTraceLimit -= 6;\n        };\n    }\n    var err = new Error();\n\n    if (typeof err.stack === \"string\" &&\n        err.stack.split(\"\\n\")[0].indexOf(\"stackDetection@\") >= 0) {\n        stackFramePattern = /@/;\n        formatStack = v8stackFormatter;\n        indentStackFrames = true;\n        return function captureStackTrace(o) {\n            o.stack = new Error().stack;\n        };\n    }\n\n    var hasStackAfterThrow;\n    try { throw new Error(); }\n    catch(e) {\n        hasStackAfterThrow = (\"stack\" in e);\n    }\n    if (!(\"stack\" in err) && hasStackAfterThrow &&\n        typeof Error.stackTraceLimit === \"number\") {\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        return function captureStackTrace(o) {\n            Error.stackTraceLimit += 6;\n            try { throw new Error(); }\n            catch(e) { o.stack = e.stack; }\n            Error.stackTraceLimit -= 6;\n        };\n    }\n\n    formatStack = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if ((typeof error === \"object\" ||\n            typeof error === \"function\") &&\n            error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    return null;\n\n})([]);\n\nif (typeof console !== \"undefined\" && typeof console.warn !== \"undefined\") {\n    printWarning = function (message) {\n        console.warn(message);\n    };\n    if (util.isNode && process.stderr.isTTY) {\n        printWarning = function(message, isSoft) {\n            var color = isSoft ? \"\\u001b[33m\" : \"\\u001b[31m\";\n            console.warn(color + message + \"\\u001b[0m\\n\");\n        };\n    } else if (!util.isNode && typeof (new Error().stack) === \"string\") {\n        printWarning = function(message, isSoft) {\n            console.warn(\"%c\" + message,\n                        isSoft ? \"color: darkorange\" : \"color: red\");\n        };\n    }\n}\n\nvar config = {\n    warnings: warnings,\n    longStackTraces: false,\n    cancellation: false,\n    monitoring: false\n};\n\nif (longStackTraces) Promise.longStackTraces();\n\nreturn {\n    longStackTraces: function() {\n        return config.longStackTraces;\n    },\n    warnings: function() {\n        return config.warnings;\n    },\n    cancellation: function() {\n        return config.cancellation;\n    },\n    monitoring: function() {\n        return config.monitoring;\n    },\n    propagateFromFunction: function() {\n        return propagateFromFunction;\n    },\n    boundValueFunction: function() {\n        return boundValueFunction;\n    },\n    checkForgottenReturns: checkForgottenReturns,\n    setBounds: setBounds,\n    warn: warn,\n    deprecated: deprecated,\n    CapturedTrace: CapturedTrace,\n    fireDomEvent: fireDomEvent,\n    fireGlobalEvent: fireGlobalEvent\n};\n};\n\n},{\"./errors\":12,\"./util\":36}],10:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nfunction returner() {\n    return this.value;\n}\nfunction thrower() {\n    throw this.reason;\n}\n\nPromise.prototype[\"return\"] =\nPromise.prototype.thenReturn = function (value) {\n    if (value instanceof Promise) value.suppressUnhandledRejections();\n    return this._then(\n        returner, undefined, undefined, {value: value}, undefined);\n};\n\nPromise.prototype[\"throw\"] =\nPromise.prototype.thenThrow = function (reason) {\n    return this._then(\n        thrower, undefined, undefined, {reason: reason}, undefined);\n};\n\nPromise.prototype.catchThrow = function (reason) {\n    if (arguments.length <= 1) {\n        return this._then(\n            undefined, thrower, undefined, {reason: reason}, undefined);\n    } else {\n        var _reason = arguments[1];\n        var handler = function() {throw _reason;};\n        return this.caught(reason, handler);\n    }\n};\n\nPromise.prototype.catchReturn = function (value) {\n    if (arguments.length <= 1) {\n        if (value instanceof Promise) value.suppressUnhandledRejections();\n        return this._then(\n            undefined, returner, undefined, {value: value}, undefined);\n    } else {\n        var _value = arguments[1];\n        if (_value instanceof Promise) _value.suppressUnhandledRejections();\n        var handler = function() {return _value;};\n        return this.caught(value, handler);\n    }\n};\n};\n\n},{}],11:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar PromiseReduce = Promise.reduce;\nvar PromiseAll = Promise.all;\n\nfunction promiseAllThis() {\n    return PromiseAll(this);\n}\n\nfunction PromiseMapSeries(promises, fn) {\n    return PromiseReduce(promises, fn, INTERNAL, INTERNAL);\n}\n\nPromise.prototype.each = function (fn) {\n    return PromiseReduce(this, fn, INTERNAL, 0)\n              ._then(promiseAllThis, undefined, undefined, this, undefined);\n};\n\nPromise.prototype.mapSeries = function (fn) {\n    return PromiseReduce(this, fn, INTERNAL, INTERNAL);\n};\n\nPromise.each = function (promises, fn) {\n    return PromiseReduce(promises, fn, INTERNAL, 0)\n              ._then(promiseAllThis, undefined, undefined, promises, undefined);\n};\n\nPromise.mapSeries = PromiseMapSeries;\n};\n\n\n},{}],12:[function(_dereq_,module,exports){\n\"use strict\";\nvar es5 = _dereq_(\"./es5\");\nvar Objectfreeze = es5.freeze;\nvar util = _dereq_(\"./util\");\nvar inherits = util.inherits;\nvar notEnumerableProp = util.notEnumerableProp;\n\nfunction subError(nameProperty, defaultMessage) {\n    function SubError(message) {\n        if (!(this instanceof SubError)) return new SubError(message);\n        notEnumerableProp(this, \"message\",\n            typeof message === \"string\" ? message : defaultMessage);\n        notEnumerableProp(this, \"name\", nameProperty);\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, this.constructor);\n        } else {\n            Error.call(this);\n        }\n    }\n    inherits(SubError, Error);\n    return SubError;\n}\n\nvar _TypeError, _RangeError;\nvar Warning = subError(\"Warning\", \"warning\");\nvar CancellationError = subError(\"CancellationError\", \"cancellation error\");\nvar TimeoutError = subError(\"TimeoutError\", \"timeout error\");\nvar AggregateError = subError(\"AggregateError\", \"aggregate error\");\ntry {\n    _TypeError = TypeError;\n    _RangeError = RangeError;\n} catch(e) {\n    _TypeError = subError(\"TypeError\", \"type error\");\n    _RangeError = subError(\"RangeError\", \"range error\");\n}\n\nvar methods = (\"join pop push shift unshift slice filter forEach some \" +\n    \"every map indexOf lastIndexOf reduce reduceRight sort reverse\").split(\" \");\n\nfor (var i = 0; i < methods.length; ++i) {\n    if (typeof Array.prototype[methods[i]] === \"function\") {\n        AggregateError.prototype[methods[i]] = Array.prototype[methods[i]];\n    }\n}\n\nes5.defineProperty(AggregateError.prototype, \"length\", {\n    value: 0,\n    configurable: false,\n    writable: true,\n    enumerable: true\n});\nAggregateError.prototype[\"isOperational\"] = true;\nvar level = 0;\nAggregateError.prototype.toString = function() {\n    var indent = Array(level * 4 + 1).join(\" \");\n    var ret = \"\\n\" + indent + \"AggregateError of:\" + \"\\n\";\n    level++;\n    indent = Array(level * 4 + 1).join(\" \");\n    for (var i = 0; i < this.length; ++i) {\n        var str = this[i] === this ? \"[Circular AggregateError]\" : this[i] + \"\";\n        var lines = str.split(\"\\n\");\n        for (var j = 0; j < lines.length; ++j) {\n            lines[j] = indent + lines[j];\n        }\n        str = lines.join(\"\\n\");\n        ret += str + \"\\n\";\n    }\n    level--;\n    return ret;\n};\n\nfunction OperationalError(message) {\n    if (!(this instanceof OperationalError))\n        return new OperationalError(message);\n    notEnumerableProp(this, \"name\", \"OperationalError\");\n    notEnumerableProp(this, \"message\", message);\n    this.cause = message;\n    this[\"isOperational\"] = true;\n\n    if (message instanceof Error) {\n        notEnumerableProp(this, \"message\", message.message);\n        notEnumerableProp(this, \"stack\", message.stack);\n    } else if (Error.captureStackTrace) {\n        Error.captureStackTrace(this, this.constructor);\n    }\n\n}\ninherits(OperationalError, Error);\n\nvar errorTypes = Error[\"__BluebirdErrorTypes__\"];\nif (!errorTypes) {\n    errorTypes = Objectfreeze({\n        CancellationError: CancellationError,\n        TimeoutError: TimeoutError,\n        OperationalError: OperationalError,\n        RejectionError: OperationalError,\n        AggregateError: AggregateError\n    });\n    es5.defineProperty(Error, \"__BluebirdErrorTypes__\", {\n        value: errorTypes,\n        writable: false,\n        enumerable: false,\n        configurable: false\n    });\n}\n\nmodule.exports = {\n    Error: Error,\n    TypeError: _TypeError,\n    RangeError: _RangeError,\n    CancellationError: errorTypes.CancellationError,\n    OperationalError: errorTypes.OperationalError,\n    TimeoutError: errorTypes.TimeoutError,\n    AggregateError: errorTypes.AggregateError,\n    Warning: Warning\n};\n\n},{\"./es5\":13,\"./util\":36}],13:[function(_dereq_,module,exports){\nvar isES5 = (function(){\n    \"use strict\";\n    return this === undefined;\n})();\n\nif (isES5) {\n    module.exports = {\n        freeze: Object.freeze,\n        defineProperty: Object.defineProperty,\n        getDescriptor: Object.getOwnPropertyDescriptor,\n        keys: Object.keys,\n        names: Object.getOwnPropertyNames,\n        getPrototypeOf: Object.getPrototypeOf,\n        isArray: Array.isArray,\n        isES5: isES5,\n        propertyIsWritable: function(obj, prop) {\n            var descriptor = Object.getOwnPropertyDescriptor(obj, prop);\n            return !!(!descriptor || descriptor.writable || descriptor.set);\n        }\n    };\n} else {\n    var has = {}.hasOwnProperty;\n    var str = {}.toString;\n    var proto = {}.constructor.prototype;\n\n    var ObjectKeys = function (o) {\n        var ret = [];\n        for (var key in o) {\n            if (has.call(o, key)) {\n                ret.push(key);\n            }\n        }\n        return ret;\n    };\n\n    var ObjectGetDescriptor = function(o, key) {\n        return {value: o[key]};\n    };\n\n    var ObjectDefineProperty = function (o, key, desc) {\n        o[key] = desc.value;\n        return o;\n    };\n\n    var ObjectFreeze = function (obj) {\n        return obj;\n    };\n\n    var ObjectGetPrototypeOf = function (obj) {\n        try {\n            return Object(obj).constructor.prototype;\n        }\n        catch (e) {\n            return proto;\n        }\n    };\n\n    var ArrayIsArray = function (obj) {\n        try {\n            return str.call(obj) === \"[object Array]\";\n        }\n        catch(e) {\n            return false;\n        }\n    };\n\n    module.exports = {\n        isArray: ArrayIsArray,\n        keys: ObjectKeys,\n        names: ObjectKeys,\n        defineProperty: ObjectDefineProperty,\n        getDescriptor: ObjectGetDescriptor,\n        freeze: ObjectFreeze,\n        getPrototypeOf: ObjectGetPrototypeOf,\n        isES5: isES5,\n        propertyIsWritable: function() {\n            return true;\n        }\n    };\n}\n\n},{}],14:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar PromiseMap = Promise.map;\n\nPromise.prototype.filter = function (fn, options) {\n    return PromiseMap(this, fn, options, INTERNAL);\n};\n\nPromise.filter = function (promises, fn, options) {\n    return PromiseMap(promises, fn, options, INTERNAL);\n};\n};\n\n},{}],15:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, tryConvertToPromise, NEXT_FILTER) {\nvar util = _dereq_(\"./util\");\nvar CancellationError = Promise.CancellationError;\nvar errorObj = util.errorObj;\nvar catchFilter = _dereq_(\"./catch_filter\")(NEXT_FILTER);\n\nfunction PassThroughHandlerContext(promise, type, handler) {\n    this.promise = promise;\n    this.type = type;\n    this.handler = handler;\n    this.called = false;\n    this.cancelPromise = null;\n}\n\nPassThroughHandlerContext.prototype.isFinallyHandler = function() {\n    return this.type === 0;\n};\n\nfunction FinallyHandlerCancelReaction(finallyHandler) {\n    this.finallyHandler = finallyHandler;\n}\n\nFinallyHandlerCancelReaction.prototype._resultCancelled = function() {\n    checkCancel(this.finallyHandler);\n};\n\nfunction checkCancel(ctx, reason) {\n    if (ctx.cancelPromise != null) {\n        if (arguments.length > 1) {\n            ctx.cancelPromise._reject(reason);\n        } else {\n            ctx.cancelPromise._cancel();\n        }\n        ctx.cancelPromise = null;\n        return true;\n    }\n    return false;\n}\n\nfunction succeed() {\n    return finallyHandler.call(this, this.promise._target()._settledValue());\n}\nfunction fail(reason) {\n    if (checkCancel(this, reason)) return;\n    errorObj.e = reason;\n    return errorObj;\n}\nfunction finallyHandler(reasonOrValue) {\n    var promise = this.promise;\n    var handler = this.handler;\n\n    if (!this.called) {\n        this.called = true;\n        var ret = this.isFinallyHandler()\n            ? handler.call(promise._boundValue())\n            : handler.call(promise._boundValue(), reasonOrValue);\n        if (ret === NEXT_FILTER) {\n            return ret;\n        } else if (ret !== undefined) {\n            promise._setReturnedNonUndefined();\n            var maybePromise = tryConvertToPromise(ret, promise);\n            if (maybePromise instanceof Promise) {\n                if (this.cancelPromise != null) {\n                    if (maybePromise._isCancelled()) {\n                        var reason =\n                            new CancellationError(\"late cancellation observer\");\n                        promise._attachExtraTrace(reason);\n                        errorObj.e = reason;\n                        return errorObj;\n                    } else if (maybePromise.isPending()) {\n                        maybePromise._attachCancellationCallback(\n                            new FinallyHandlerCancelReaction(this));\n                    }\n                }\n                return maybePromise._then(\n                    succeed, fail, undefined, this, undefined);\n            }\n        }\n    }\n\n    if (promise.isRejected()) {\n        checkCancel(this);\n        errorObj.e = reasonOrValue;\n        return errorObj;\n    } else {\n        checkCancel(this);\n        return reasonOrValue;\n    }\n}\n\nPromise.prototype._passThrough = function(handler, type, success, fail) {\n    if (typeof handler !== \"function\") return this.then();\n    return this._then(success,\n                      fail,\n                      undefined,\n                      new PassThroughHandlerContext(this, type, handler),\n                      undefined);\n};\n\nPromise.prototype.lastly =\nPromise.prototype[\"finally\"] = function (handler) {\n    return this._passThrough(handler,\n                             0,\n                             finallyHandler,\n                             finallyHandler);\n};\n\n\nPromise.prototype.tap = function (handler) {\n    return this._passThrough(handler, 1, finallyHandler);\n};\n\nPromise.prototype.tapCatch = function (handlerOrPredicate) {\n    var len = arguments.length;\n    if(len === 1) {\n        return this._passThrough(handlerOrPredicate,\n                                 1,\n                                 undefined,\n                                 finallyHandler);\n    } else {\n         var catchInstances = new Array(len - 1),\n            j = 0, i;\n        for (i = 0; i < len - 1; ++i) {\n            var item = arguments[i];\n            if (util.isObject(item)) {\n                catchInstances[j++] = item;\n            } else {\n                return Promise.reject(new TypeError(\n                    \"tapCatch statement predicate: \"\n                    + \"expecting an object but got \" + util.classString(item)\n                ));\n            }\n        }\n        catchInstances.length = j;\n        var handler = arguments[i];\n        return this._passThrough(catchFilter(catchInstances, handler, this),\n                                 1,\n                                 undefined,\n                                 finallyHandler);\n    }\n\n};\n\nreturn PassThroughHandlerContext;\n};\n\n},{\"./catch_filter\":7,\"./util\":36}],16:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          apiRejection,\n                          INTERNAL,\n                          tryConvertToPromise,\n                          Proxyable,\n                          debug) {\nvar errors = _dereq_(\"./errors\");\nvar TypeError = errors.TypeError;\nvar util = _dereq_(\"./util\");\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nvar yieldHandlers = [];\n\nfunction promiseFromYieldHandler(value, yieldHandlers, traceParent) {\n    for (var i = 0; i < yieldHandlers.length; ++i) {\n        traceParent._pushContext();\n        var result = tryCatch(yieldHandlers[i])(value);\n        traceParent._popContext();\n        if (result === errorObj) {\n            traceParent._pushContext();\n            var ret = Promise.reject(errorObj.e);\n            traceParent._popContext();\n            return ret;\n        }\n        var maybePromise = tryConvertToPromise(result, traceParent);\n        if (maybePromise instanceof Promise) return maybePromise;\n    }\n    return null;\n}\n\nfunction PromiseSpawn(generatorFunction, receiver, yieldHandler, stack) {\n    if (debug.cancellation()) {\n        var internal = new Promise(INTERNAL);\n        var _finallyPromise = this._finallyPromise = new Promise(INTERNAL);\n        this._promise = internal.lastly(function() {\n            return _finallyPromise;\n        });\n        internal._captureStackTrace();\n        internal._setOnCancel(this);\n    } else {\n        var promise = this._promise = new Promise(INTERNAL);\n        promise._captureStackTrace();\n    }\n    this._stack = stack;\n    this._generatorFunction = generatorFunction;\n    this._receiver = receiver;\n    this._generator = undefined;\n    this._yieldHandlers = typeof yieldHandler === \"function\"\n        ? [yieldHandler].concat(yieldHandlers)\n        : yieldHandlers;\n    this._yieldedPromise = null;\n    this._cancellationPhase = false;\n}\nutil.inherits(PromiseSpawn, Proxyable);\n\nPromiseSpawn.prototype._isResolved = function() {\n    return this._promise === null;\n};\n\nPromiseSpawn.prototype._cleanup = function() {\n    this._promise = this._generator = null;\n    if (debug.cancellation() && this._finallyPromise !== null) {\n        this._finallyPromise._fulfill();\n        this._finallyPromise = null;\n    }\n};\n\nPromiseSpawn.prototype._promiseCancelled = function() {\n    if (this._isResolved()) return;\n    var implementsReturn = typeof this._generator[\"return\"] !== \"undefined\";\n\n    var result;\n    if (!implementsReturn) {\n        var reason = new Promise.CancellationError(\n            \"generator .return() sentinel\");\n        Promise.coroutine.returnSentinel = reason;\n        this._promise._attachExtraTrace(reason);\n        this._promise._pushContext();\n        result = tryCatch(this._generator[\"throw\"]).call(this._generator,\n                                                         reason);\n        this._promise._popContext();\n    } else {\n        this._promise._pushContext();\n        result = tryCatch(this._generator[\"return\"]).call(this._generator,\n                                                          undefined);\n        this._promise._popContext();\n    }\n    this._cancellationPhase = true;\n    this._yieldedPromise = null;\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._promiseFulfilled = function(value) {\n    this._yieldedPromise = null;\n    this._promise._pushContext();\n    var result = tryCatch(this._generator.next).call(this._generator, value);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._promiseRejected = function(reason) {\n    this._yieldedPromise = null;\n    this._promise._attachExtraTrace(reason);\n    this._promise._pushContext();\n    var result = tryCatch(this._generator[\"throw\"])\n        .call(this._generator, reason);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._resultCancelled = function() {\n    if (this._yieldedPromise instanceof Promise) {\n        var promise = this._yieldedPromise;\n        this._yieldedPromise = null;\n        promise.cancel();\n    }\n};\n\nPromiseSpawn.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseSpawn.prototype._run = function () {\n    this._generator = this._generatorFunction.call(this._receiver);\n    this._receiver =\n        this._generatorFunction = undefined;\n    this._promiseFulfilled(undefined);\n};\n\nPromiseSpawn.prototype._continue = function (result) {\n    var promise = this._promise;\n    if (result === errorObj) {\n        this._cleanup();\n        if (this._cancellationPhase) {\n            return promise.cancel();\n        } else {\n            return promise._rejectCallback(result.e, false);\n        }\n    }\n\n    var value = result.value;\n    if (result.done === true) {\n        this._cleanup();\n        if (this._cancellationPhase) {\n            return promise.cancel();\n        } else {\n            return promise._resolveCallback(value);\n        }\n    } else {\n        var maybePromise = tryConvertToPromise(value, this._promise);\n        if (!(maybePromise instanceof Promise)) {\n            maybePromise =\n                promiseFromYieldHandler(maybePromise,\n                                        this._yieldHandlers,\n                                        this._promise);\n            if (maybePromise === null) {\n                this._promiseRejected(\n                    new TypeError(\n                        \"A value %s was yielded that could not be treated as a promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\\u000a\".replace(\"%s\", String(value)) +\n                        \"From coroutine:\\u000a\" +\n                        this._stack.split(\"\\n\").slice(1, -7).join(\"\\n\")\n                    )\n                );\n                return;\n            }\n        }\n        maybePromise = maybePromise._target();\n        var bitField = maybePromise._bitField;\n        ;\n        if (((bitField & 50397184) === 0)) {\n            this._yieldedPromise = maybePromise;\n            maybePromise._proxy(this, null);\n        } else if (((bitField & 33554432) !== 0)) {\n            Promise._async.invoke(\n                this._promiseFulfilled, this, maybePromise._value()\n            );\n        } else if (((bitField & 16777216) !== 0)) {\n            Promise._async.invoke(\n                this._promiseRejected, this, maybePromise._reason()\n            );\n        } else {\n            this._promiseCancelled();\n        }\n    }\n};\n\nPromise.coroutine = function (generatorFunction, options) {\n    if (typeof generatorFunction !== \"function\") {\n        throw new TypeError(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var yieldHandler = Object(options).yieldHandler;\n    var PromiseSpawn$ = PromiseSpawn;\n    var stack = new Error().stack;\n    return function () {\n        var generator = generatorFunction.apply(this, arguments);\n        var spawn = new PromiseSpawn$(undefined, undefined, yieldHandler,\n                                      stack);\n        var ret = spawn.promise();\n        spawn._generator = generator;\n        spawn._promiseFulfilled(undefined);\n        return ret;\n    };\n};\n\nPromise.coroutine.addYieldHandler = function(fn) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    yieldHandlers.push(fn);\n};\n\nPromise.spawn = function (generatorFunction) {\n    debug.deprecated(\"Promise.spawn()\", \"Promise.coroutine()\");\n    if (typeof generatorFunction !== \"function\") {\n        return apiRejection(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var spawn = new PromiseSpawn(generatorFunction, this);\n    var ret = spawn.promise();\n    spawn._run(Promise.spawn);\n    return ret;\n};\n};\n\n},{\"./errors\":12,\"./util\":36}],17:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, PromiseArray, tryConvertToPromise, INTERNAL, async,\n         getDomain) {\nvar util = _dereq_(\"./util\");\nvar canEvaluate = util.canEvaluate;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar reject;\n\nif (!true) {\nif (canEvaluate) {\n    var thenCallback = function(i) {\n        return new Function(\"value\", \"holder\", \"                             \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = value;                                           \\n\\\n            holder.checkFulfillment(this);                                   \\n\\\n            \".replace(/Index/g, i));\n    };\n\n    var promiseSetter = function(i) {\n        return new Function(\"promise\", \"holder\", \"                           \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = promise;                                         \\n\\\n            \".replace(/Index/g, i));\n    };\n\n    var generateHolderClass = function(total) {\n        var props = new Array(total);\n        for (var i = 0; i < props.length; ++i) {\n            props[i] = \"this.p\" + (i+1);\n        }\n        var assignment = props.join(\" = \") + \" = null;\";\n        var cancellationCode= \"var promise;\\n\" + props.map(function(prop) {\n            return \"                                                         \\n\\\n                promise = \" + prop + \";                                      \\n\\\n                if (promise instanceof Promise) {                            \\n\\\n                    promise.cancel();                                        \\n\\\n                }                                                            \\n\\\n            \";\n        }).join(\"\\n\");\n        var passedArguments = props.join(\", \");\n        var name = \"Holder$\" + total;\n\n\n        var code = \"return function(tryCatch, errorObj, Promise, async) {    \\n\\\n            'use strict';                                                    \\n\\\n            function [TheName](fn) {                                         \\n\\\n                [TheProperties]                                              \\n\\\n                this.fn = fn;                                                \\n\\\n                this.asyncNeeded = true;                                     \\n\\\n                this.now = 0;                                                \\n\\\n            }                                                                \\n\\\n                                                                             \\n\\\n            [TheName].prototype._callFunction = function(promise) {          \\n\\\n                promise._pushContext();                                      \\n\\\n                var ret = tryCatch(this.fn)([ThePassedArguments]);           \\n\\\n                promise._popContext();                                       \\n\\\n                if (ret === errorObj) {                                      \\n\\\n                    promise._rejectCallback(ret.e, false);                   \\n\\\n                } else {                                                     \\n\\\n                    promise._resolveCallback(ret);                           \\n\\\n                }                                                            \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            [TheName].prototype.checkFulfillment = function(promise) {       \\n\\\n                var now = ++this.now;                                        \\n\\\n                if (now === [TheTotal]) {                                    \\n\\\n                    if (this.asyncNeeded) {                                  \\n\\\n                        async.invoke(this._callFunction, this, promise);     \\n\\\n                    } else {                                                 \\n\\\n                        this._callFunction(promise);                         \\n\\\n                    }                                                        \\n\\\n                                                                             \\n\\\n                }                                                            \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            [TheName].prototype._resultCancelled = function() {              \\n\\\n                [CancellationCode]                                           \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            return [TheName];                                                \\n\\\n        }(tryCatch, errorObj, Promise, async);                               \\n\\\n        \";\n\n        code = code.replace(/\\[TheName\\]/g, name)\n            .replace(/\\[TheTotal\\]/g, total)\n            .replace(/\\[ThePassedArguments\\]/g, passedArguments)\n            .replace(/\\[TheProperties\\]/g, assignment)\n            .replace(/\\[CancellationCode\\]/g, cancellationCode);\n\n        return new Function(\"tryCatch\", \"errorObj\", \"Promise\", \"async\", code)\n                           (tryCatch, errorObj, Promise, async);\n    };\n\n    var holderClasses = [];\n    var thenCallbacks = [];\n    var promiseSetters = [];\n\n    for (var i = 0; i < 8; ++i) {\n        holderClasses.push(generateHolderClass(i + 1));\n        thenCallbacks.push(thenCallback(i + 1));\n        promiseSetters.push(promiseSetter(i + 1));\n    }\n\n    reject = function (reason) {\n        this._reject(reason);\n    };\n}}\n\nPromise.join = function () {\n    var last = arguments.length - 1;\n    var fn;\n    if (last > 0 && typeof arguments[last] === \"function\") {\n        fn = arguments[last];\n        if (!true) {\n            if (last <= 8 && canEvaluate) {\n                var ret = new Promise(INTERNAL);\n                ret._captureStackTrace();\n                var HolderClass = holderClasses[last - 1];\n                var holder = new HolderClass(fn);\n                var callbacks = thenCallbacks;\n\n                for (var i = 0; i < last; ++i) {\n                    var maybePromise = tryConvertToPromise(arguments[i], ret);\n                    if (maybePromise instanceof Promise) {\n                        maybePromise = maybePromise._target();\n                        var bitField = maybePromise._bitField;\n                        ;\n                        if (((bitField & 50397184) === 0)) {\n                            maybePromise._then(callbacks[i], reject,\n                                               undefined, ret, holder);\n                            promiseSetters[i](maybePromise, holder);\n                            holder.asyncNeeded = false;\n                        } else if (((bitField & 33554432) !== 0)) {\n                            callbacks[i].call(ret,\n                                              maybePromise._value(), holder);\n                        } else if (((bitField & 16777216) !== 0)) {\n                            ret._reject(maybePromise._reason());\n                        } else {\n                            ret._cancel();\n                        }\n                    } else {\n                        callbacks[i].call(ret, maybePromise, holder);\n                    }\n                }\n\n                if (!ret._isFateSealed()) {\n                    if (holder.asyncNeeded) {\n                        var domain = getDomain();\n                        if (domain !== null) {\n                            holder.fn = util.domainBind(domain, holder.fn);\n                        }\n                    }\n                    ret._setAsyncGuaranteed();\n                    ret._setOnCancel(holder);\n                }\n                return ret;\n            }\n        }\n    }\n    var args = [].slice.call(arguments);;\n    if (fn) args.pop();\n    var ret = new PromiseArray(args).promise();\n    return fn !== undefined ? ret.spread(fn) : ret;\n};\n\n};\n\n},{\"./util\":36}],18:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL,\n                          debug) {\nvar getDomain = Promise._getDomain;\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar async = Promise._async;\n\nfunction MappingPromiseArray(promises, fn, limit, _filter) {\n    this.constructor$(promises);\n    this._promise._captureStackTrace();\n    var domain = getDomain();\n    this._callback = domain === null ? fn : util.domainBind(domain, fn);\n    this._preservedValues = _filter === INTERNAL\n        ? new Array(this.length())\n        : null;\n    this._limit = limit;\n    this._inFlight = 0;\n    this._queue = [];\n    async.invoke(this._asyncInit, this, undefined);\n}\nutil.inherits(MappingPromiseArray, PromiseArray);\n\nMappingPromiseArray.prototype._asyncInit = function() {\n    this._init$(undefined, -2);\n};\n\nMappingPromiseArray.prototype._init = function () {};\n\nMappingPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var values = this._values;\n    var length = this.length();\n    var preservedValues = this._preservedValues;\n    var limit = this._limit;\n\n    if (index < 0) {\n        index = (index * -1) - 1;\n        values[index] = value;\n        if (limit >= 1) {\n            this._inFlight--;\n            this._drainQueue();\n            if (this._isResolved()) return true;\n        }\n    } else {\n        if (limit >= 1 && this._inFlight >= limit) {\n            values[index] = value;\n            this._queue.push(index);\n            return false;\n        }\n        if (preservedValues !== null) preservedValues[index] = value;\n\n        var promise = this._promise;\n        var callback = this._callback;\n        var receiver = promise._boundValue();\n        promise._pushContext();\n        var ret = tryCatch(callback).call(receiver, value, index, length);\n        var promiseCreated = promise._popContext();\n        debug.checkForgottenReturns(\n            ret,\n            promiseCreated,\n            preservedValues !== null ? \"Promise.filter\" : \"Promise.map\",\n            promise\n        );\n        if (ret === errorObj) {\n            this._reject(ret.e);\n            return true;\n        }\n\n        var maybePromise = tryConvertToPromise(ret, this._promise);\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            var bitField = maybePromise._bitField;\n            ;\n            if (((bitField & 50397184) === 0)) {\n                if (limit >= 1) this._inFlight++;\n                values[index] = maybePromise;\n                maybePromise._proxy(this, (index + 1) * -1);\n                return false;\n            } else if (((bitField & 33554432) !== 0)) {\n                ret = maybePromise._value();\n            } else if (((bitField & 16777216) !== 0)) {\n                this._reject(maybePromise._reason());\n                return true;\n            } else {\n                this._cancel();\n                return true;\n            }\n        }\n        values[index] = ret;\n    }\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= length) {\n        if (preservedValues !== null) {\n            this._filter(values, preservedValues);\n        } else {\n            this._resolve(values);\n        }\n        return true;\n    }\n    return false;\n};\n\nMappingPromiseArray.prototype._drainQueue = function () {\n    var queue = this._queue;\n    var limit = this._limit;\n    var values = this._values;\n    while (queue.length > 0 && this._inFlight < limit) {\n        if (this._isResolved()) return;\n        var index = queue.pop();\n        this._promiseFulfilled(values[index], index);\n    }\n};\n\nMappingPromiseArray.prototype._filter = function (booleans, values) {\n    var len = values.length;\n    var ret = new Array(len);\n    var j = 0;\n    for (var i = 0; i < len; ++i) {\n        if (booleans[i]) ret[j++] = values[i];\n    }\n    ret.length = j;\n    this._resolve(ret);\n};\n\nMappingPromiseArray.prototype.preservedValues = function () {\n    return this._preservedValues;\n};\n\nfunction map(promises, fn, options, _filter) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n\n    var limit = 0;\n    if (options !== undefined) {\n        if (typeof options === \"object\" && options !== null) {\n            if (typeof options.concurrency !== \"number\") {\n                return Promise.reject(\n                    new TypeError(\"'concurrency' must be a number but it is \" +\n                                    util.classString(options.concurrency)));\n            }\n            limit = options.concurrency;\n        } else {\n            return Promise.reject(new TypeError(\n                            \"options argument must be an object but it is \" +\n                             util.classString(options)));\n        }\n    }\n    limit = typeof limit === \"number\" &&\n        isFinite(limit) && limit >= 1 ? limit : 0;\n    return new MappingPromiseArray(promises, fn, limit, _filter).promise();\n}\n\nPromise.prototype.map = function (fn, options) {\n    return map(this, fn, options, null);\n};\n\nPromise.map = function (promises, fn, options, _filter) {\n    return map(promises, fn, options, _filter);\n};\n\n\n};\n\n},{\"./util\":36}],19:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, INTERNAL, tryConvertToPromise, apiRejection, debug) {\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\n\nPromise.method = function (fn) {\n    if (typeof fn !== \"function\") {\n        throw new Promise.TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    return function () {\n        var ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._pushContext();\n        var value = tryCatch(fn).apply(this, arguments);\n        var promiseCreated = ret._popContext();\n        debug.checkForgottenReturns(\n            value, promiseCreated, \"Promise.method\", ret);\n        ret._resolveFromSyncValue(value);\n        return ret;\n    };\n};\n\nPromise.attempt = Promise[\"try\"] = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._pushContext();\n    var value;\n    if (arguments.length > 1) {\n        debug.deprecated(\"calling Promise.try with more than 1 argument\");\n        var arg = arguments[1];\n        var ctx = arguments[2];\n        value = util.isArray(arg) ? tryCatch(fn).apply(ctx, arg)\n                                  : tryCatch(fn).call(ctx, arg);\n    } else {\n        value = tryCatch(fn)();\n    }\n    var promiseCreated = ret._popContext();\n    debug.checkForgottenReturns(\n        value, promiseCreated, \"Promise.try\", ret);\n    ret._resolveFromSyncValue(value);\n    return ret;\n};\n\nPromise.prototype._resolveFromSyncValue = function (value) {\n    if (value === util.errorObj) {\n        this._rejectCallback(value.e, false);\n    } else {\n        this._resolveCallback(value, true);\n    }\n};\n};\n\n},{\"./util\":36}],20:[function(_dereq_,module,exports){\n\"use strict\";\nvar util = _dereq_(\"./util\");\nvar maybeWrapAsError = util.maybeWrapAsError;\nvar errors = _dereq_(\"./errors\");\nvar OperationalError = errors.OperationalError;\nvar es5 = _dereq_(\"./es5\");\n\nfunction isUntypedError(obj) {\n    return obj instanceof Error &&\n        es5.getPrototypeOf(obj) === Error.prototype;\n}\n\nvar rErrorKey = /^(?:name|message|stack|cause)$/;\nfunction wrapAsOperationalError(obj) {\n    var ret;\n    if (isUntypedError(obj)) {\n        ret = new OperationalError(obj);\n        ret.name = obj.name;\n        ret.message = obj.message;\n        ret.stack = obj.stack;\n        var keys = es5.keys(obj);\n        for (var i = 0; i < keys.length; ++i) {\n            var key = keys[i];\n            if (!rErrorKey.test(key)) {\n                ret[key] = obj[key];\n            }\n        }\n        return ret;\n    }\n    util.markAsOriginatingFromRejection(obj);\n    return obj;\n}\n\nfunction nodebackForPromise(promise, multiArgs) {\n    return function(err, value) {\n        if (promise === null) return;\n        if (err) {\n            var wrapped = wrapAsOperationalError(maybeWrapAsError(err));\n            promise._attachExtraTrace(wrapped);\n            promise._reject(wrapped);\n        } else if (!multiArgs) {\n            promise._fulfill(value);\n        } else {\n            var args = [].slice.call(arguments, 1);;\n            promise._fulfill(args);\n        }\n        promise = null;\n    };\n}\n\nmodule.exports = nodebackForPromise;\n\n},{\"./errors\":12,\"./es5\":13,\"./util\":36}],21:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar util = _dereq_(\"./util\");\nvar async = Promise._async;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nfunction spreadAdapter(val, nodeback) {\n    var promise = this;\n    if (!util.isArray(val)) return successAdapter.call(promise, val, nodeback);\n    var ret =\n        tryCatch(nodeback).apply(promise._boundValue(), [null].concat(val));\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nfunction successAdapter(val, nodeback) {\n    var promise = this;\n    var receiver = promise._boundValue();\n    var ret = val === undefined\n        ? tryCatch(nodeback).call(receiver, null)\n        : tryCatch(nodeback).call(receiver, null, val);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\nfunction errorAdapter(reason, nodeback) {\n    var promise = this;\n    if (!reason) {\n        var newReason = new Error(reason + \"\");\n        newReason.cause = reason;\n        reason = newReason;\n    }\n    var ret = tryCatch(nodeback).call(promise._boundValue(), reason);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nPromise.prototype.asCallback = Promise.prototype.nodeify = function (nodeback,\n                                                                     options) {\n    if (typeof nodeback == \"function\") {\n        var adapter = successAdapter;\n        if (options !== undefined && Object(options).spread) {\n            adapter = spreadAdapter;\n        }\n        this._then(\n            adapter,\n            errorAdapter,\n            undefined,\n            this,\n            nodeback\n        );\n    }\n    return this;\n};\n};\n\n},{\"./util\":36}],22:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function() {\nvar makeSelfResolutionError = function () {\n    return new TypeError(\"circular promise resolution chain\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n};\nvar reflectHandler = function() {\n    return new Promise.PromiseInspection(this._target());\n};\nvar apiRejection = function(msg) {\n    return Promise.reject(new TypeError(msg));\n};\nfunction Proxyable() {}\nvar UNDEFINED_BINDING = {};\nvar util = _dereq_(\"./util\");\n\nvar getDomain;\nif (util.isNode) {\n    getDomain = function() {\n        var ret = process.domain;\n        if (ret === undefined) ret = null;\n        return ret;\n    };\n} else {\n    getDomain = function() {\n        return null;\n    };\n}\nutil.notEnumerableProp(Promise, \"_getDomain\", getDomain);\n\nvar es5 = _dereq_(\"./es5\");\nvar Async = _dereq_(\"./async\");\nvar async = new Async();\nes5.defineProperty(Promise, \"_async\", {value: async});\nvar errors = _dereq_(\"./errors\");\nvar TypeError = Promise.TypeError = errors.TypeError;\nPromise.RangeError = errors.RangeError;\nvar CancellationError = Promise.CancellationError = errors.CancellationError;\nPromise.TimeoutError = errors.TimeoutError;\nPromise.OperationalError = errors.OperationalError;\nPromise.RejectionError = errors.OperationalError;\nPromise.AggregateError = errors.AggregateError;\nvar INTERNAL = function(){};\nvar APPLY = {};\nvar NEXT_FILTER = {};\nvar tryConvertToPromise = _dereq_(\"./thenables\")(Promise, INTERNAL);\nvar PromiseArray =\n    _dereq_(\"./promise_array\")(Promise, INTERNAL,\n                               tryConvertToPromise, apiRejection, Proxyable);\nvar Context = _dereq_(\"./context\")(Promise);\n /*jshint unused:false*/\nvar createContext = Context.create;\nvar debug = _dereq_(\"./debuggability\")(Promise, Context);\nvar CapturedTrace = debug.CapturedTrace;\nvar PassThroughHandlerContext =\n    _dereq_(\"./finally\")(Promise, tryConvertToPromise, NEXT_FILTER);\nvar catchFilter = _dereq_(\"./catch_filter\")(NEXT_FILTER);\nvar nodebackForPromise = _dereq_(\"./nodeback\");\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nfunction check(self, executor) {\n    if (self == null || self.constructor !== Promise) {\n        throw new TypeError(\"the promise constructor cannot be invoked directly\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    if (typeof executor !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(executor));\n    }\n\n}\n\nfunction Promise(executor) {\n    if (executor !== INTERNAL) {\n        check(this, executor);\n    }\n    this._bitField = 0;\n    this._fulfillmentHandler0 = undefined;\n    this._rejectionHandler0 = undefined;\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._resolveFromExecutor(executor);\n    this._promiseCreated();\n    this._fireEvent(\"promiseCreated\", this);\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.caught = Promise.prototype[\"catch\"] = function (fn) {\n    var len = arguments.length;\n    if (len > 1) {\n        var catchInstances = new Array(len - 1),\n            j = 0, i;\n        for (i = 0; i < len - 1; ++i) {\n            var item = arguments[i];\n            if (util.isObject(item)) {\n                catchInstances[j++] = item;\n            } else {\n                return apiRejection(\"Catch statement predicate: \" +\n                    \"expecting an object but got \" + util.classString(item));\n            }\n        }\n        catchInstances.length = j;\n        fn = arguments[i];\n        return this.then(undefined, catchFilter(catchInstances, fn, this));\n    }\n    return this.then(undefined, fn);\n};\n\nPromise.prototype.reflect = function () {\n    return this._then(reflectHandler,\n        reflectHandler, undefined, this, undefined);\n};\n\nPromise.prototype.then = function (didFulfill, didReject) {\n    if (debug.warnings() && arguments.length > 0 &&\n        typeof didFulfill !== \"function\" &&\n        typeof didReject !== \"function\") {\n        var msg = \".then() only accepts functions but was passed: \" +\n                util.classString(didFulfill);\n        if (arguments.length > 1) {\n            msg += \", \" + util.classString(didReject);\n        }\n        this._warn(msg);\n    }\n    return this._then(didFulfill, didReject, undefined, undefined, undefined);\n};\n\nPromise.prototype.done = function (didFulfill, didReject) {\n    var promise =\n        this._then(didFulfill, didReject, undefined, undefined, undefined);\n    promise._setIsFinal();\n};\n\nPromise.prototype.spread = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    return this.all()._then(fn, undefined, undefined, APPLY, undefined);\n};\n\nPromise.prototype.toJSON = function () {\n    var ret = {\n        isFulfilled: false,\n        isRejected: false,\n        fulfillmentValue: undefined,\n        rejectionReason: undefined\n    };\n    if (this.isFulfilled()) {\n        ret.fulfillmentValue = this.value();\n        ret.isFulfilled = true;\n    } else if (this.isRejected()) {\n        ret.rejectionReason = this.reason();\n        ret.isRejected = true;\n    }\n    return ret;\n};\n\nPromise.prototype.all = function () {\n    if (arguments.length > 0) {\n        this._warn(\".all() was passed arguments but it does not take any\");\n    }\n    return new PromiseArray(this).promise();\n};\n\nPromise.prototype.error = function (fn) {\n    return this.caught(util.originatesFromRejection, fn);\n};\n\nPromise.getNewLibraryCopy = module.exports;\n\nPromise.is = function (val) {\n    return val instanceof Promise;\n};\n\nPromise.fromNode = Promise.fromCallback = function(fn) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    var multiArgs = arguments.length > 1 ? !!Object(arguments[1]).multiArgs\n                                         : false;\n    var result = tryCatch(fn)(nodebackForPromise(ret, multiArgs));\n    if (result === errorObj) {\n        ret._rejectCallback(result.e, true);\n    }\n    if (!ret._isFateSealed()) ret._setAsyncGuaranteed();\n    return ret;\n};\n\nPromise.all = function (promises) {\n    return new PromiseArray(promises).promise();\n};\n\nPromise.cast = function (obj) {\n    var ret = tryConvertToPromise(obj);\n    if (!(ret instanceof Promise)) {\n        ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._setFulfilled();\n        ret._rejectionHandler0 = obj;\n    }\n    return ret;\n};\n\nPromise.resolve = Promise.fulfilled = Promise.cast;\n\nPromise.reject = Promise.rejected = function (reason) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._rejectCallback(reason, true);\n    return ret;\n};\n\nPromise.setScheduler = function(fn) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    return async.setScheduler(fn);\n};\n\nPromise.prototype._then = function (\n    didFulfill,\n    didReject,\n    _,    receiver,\n    internalData\n) {\n    var haveInternalData = internalData !== undefined;\n    var promise = haveInternalData ? internalData : new Promise(INTERNAL);\n    var target = this._target();\n    var bitField = target._bitField;\n\n    if (!haveInternalData) {\n        promise._propagateFrom(this, 3);\n        promise._captureStackTrace();\n        if (receiver === undefined &&\n            ((this._bitField & 2097152) !== 0)) {\n            if (!((bitField & 50397184) === 0)) {\n                receiver = this._boundValue();\n            } else {\n                receiver = target === this ? undefined : this._boundTo;\n            }\n        }\n        this._fireEvent(\"promiseChained\", this, promise);\n    }\n\n    var domain = getDomain();\n    if (!((bitField & 50397184) === 0)) {\n        var handler, value, settler = target._settlePromiseCtx;\n        if (((bitField & 33554432) !== 0)) {\n            value = target._rejectionHandler0;\n            handler = didFulfill;\n        } else if (((bitField & 16777216) !== 0)) {\n            value = target._fulfillmentHandler0;\n            handler = didReject;\n            target._unsetRejectionIsUnhandled();\n        } else {\n            settler = target._settlePromiseLateCancellationObserver;\n            value = new CancellationError(\"late cancellation observer\");\n            target._attachExtraTrace(value);\n            handler = didReject;\n        }\n\n        async.invoke(settler, target, {\n            handler: domain === null ? handler\n                : (typeof handler === \"function\" &&\n                    util.domainBind(domain, handler)),\n            promise: promise,\n            receiver: receiver,\n            value: value\n        });\n    } else {\n        target._addCallbacks(didFulfill, didReject, promise, receiver, domain);\n    }\n\n    return promise;\n};\n\nPromise.prototype._length = function () {\n    return this._bitField & 65535;\n};\n\nPromise.prototype._isFateSealed = function () {\n    return (this._bitField & 117506048) !== 0;\n};\n\nPromise.prototype._isFollowing = function () {\n    return (this._bitField & 67108864) === 67108864;\n};\n\nPromise.prototype._setLength = function (len) {\n    this._bitField = (this._bitField & -65536) |\n        (len & 65535);\n};\n\nPromise.prototype._setFulfilled = function () {\n    this._bitField = this._bitField | 33554432;\n    this._fireEvent(\"promiseFulfilled\", this);\n};\n\nPromise.prototype._setRejected = function () {\n    this._bitField = this._bitField | 16777216;\n    this._fireEvent(\"promiseRejected\", this);\n};\n\nPromise.prototype._setFollowing = function () {\n    this._bitField = this._bitField | 67108864;\n    this._fireEvent(\"promiseResolved\", this);\n};\n\nPromise.prototype._setIsFinal = function () {\n    this._bitField = this._bitField | 4194304;\n};\n\nPromise.prototype._isFinal = function () {\n    return (this._bitField & 4194304) > 0;\n};\n\nPromise.prototype._unsetCancelled = function() {\n    this._bitField = this._bitField & (~65536);\n};\n\nPromise.prototype._setCancelled = function() {\n    this._bitField = this._bitField | 65536;\n    this._fireEvent(\"promiseCancelled\", this);\n};\n\nPromise.prototype._setWillBeCancelled = function() {\n    this._bitField = this._bitField | 8388608;\n};\n\nPromise.prototype._setAsyncGuaranteed = function() {\n    if (async.hasCustomScheduler()) return;\n    this._bitField = this._bitField | 134217728;\n};\n\nPromise.prototype._receiverAt = function (index) {\n    var ret = index === 0 ? this._receiver0 : this[\n            index * 4 - 4 + 3];\n    if (ret === UNDEFINED_BINDING) {\n        return undefined;\n    } else if (ret === undefined && this._isBound()) {\n        return this._boundValue();\n    }\n    return ret;\n};\n\nPromise.prototype._promiseAt = function (index) {\n    return this[\n            index * 4 - 4 + 2];\n};\n\nPromise.prototype._fulfillmentHandlerAt = function (index) {\n    return this[\n            index * 4 - 4 + 0];\n};\n\nPromise.prototype._rejectionHandlerAt = function (index) {\n    return this[\n            index * 4 - 4 + 1];\n};\n\nPromise.prototype._boundValue = function() {};\n\nPromise.prototype._migrateCallback0 = function (follower) {\n    var bitField = follower._bitField;\n    var fulfill = follower._fulfillmentHandler0;\n    var reject = follower._rejectionHandler0;\n    var promise = follower._promise0;\n    var receiver = follower._receiverAt(0);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n};\n\nPromise.prototype._migrateCallbackAt = function (follower, index) {\n    var fulfill = follower._fulfillmentHandlerAt(index);\n    var reject = follower._rejectionHandlerAt(index);\n    var promise = follower._promiseAt(index);\n    var receiver = follower._receiverAt(index);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n};\n\nPromise.prototype._addCallbacks = function (\n    fulfill,\n    reject,\n    promise,\n    receiver,\n    domain\n) {\n    var index = this._length();\n\n    if (index >= 65535 - 4) {\n        index = 0;\n        this._setLength(0);\n    }\n\n    if (index === 0) {\n        this._promise0 = promise;\n        this._receiver0 = receiver;\n        if (typeof fulfill === \"function\") {\n            this._fulfillmentHandler0 =\n                domain === null ? fulfill : util.domainBind(domain, fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this._rejectionHandler0 =\n                domain === null ? reject : util.domainBind(domain, reject);\n        }\n    } else {\n        var base = index * 4 - 4;\n        this[base + 2] = promise;\n        this[base + 3] = receiver;\n        if (typeof fulfill === \"function\") {\n            this[base + 0] =\n                domain === null ? fulfill : util.domainBind(domain, fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this[base + 1] =\n                domain === null ? reject : util.domainBind(domain, reject);\n        }\n    }\n    this._setLength(index + 1);\n    return index;\n};\n\nPromise.prototype._proxy = function (proxyable, arg) {\n    this._addCallbacks(undefined, undefined, arg, proxyable, null);\n};\n\nPromise.prototype._resolveCallback = function(value, shouldBind) {\n    if (((this._bitField & 117506048) !== 0)) return;\n    if (value === this)\n        return this._rejectCallback(makeSelfResolutionError(), false);\n    var maybePromise = tryConvertToPromise(value, this);\n    if (!(maybePromise instanceof Promise)) return this._fulfill(value);\n\n    if (shouldBind) this._propagateFrom(maybePromise, 2);\n\n    var promise = maybePromise._target();\n\n    if (promise === this) {\n        this._reject(makeSelfResolutionError());\n        return;\n    }\n\n    var bitField = promise._bitField;\n    if (((bitField & 50397184) === 0)) {\n        var len = this._length();\n        if (len > 0) promise._migrateCallback0(this);\n        for (var i = 1; i < len; ++i) {\n            promise._migrateCallbackAt(this, i);\n        }\n        this._setFollowing();\n        this._setLength(0);\n        this._setFollowee(promise);\n    } else if (((bitField & 33554432) !== 0)) {\n        this._fulfill(promise._value());\n    } else if (((bitField & 16777216) !== 0)) {\n        this._reject(promise._reason());\n    } else {\n        var reason = new CancellationError(\"late cancellation observer\");\n        promise._attachExtraTrace(reason);\n        this._reject(reason);\n    }\n};\n\nPromise.prototype._rejectCallback =\nfunction(reason, synchronous, ignoreNonErrorWarnings) {\n    var trace = util.ensureErrorObject(reason);\n    var hasStack = trace === reason;\n    if (!hasStack && !ignoreNonErrorWarnings && debug.warnings()) {\n        var message = \"a promise was rejected with a non-error: \" +\n            util.classString(reason);\n        this._warn(message, true);\n    }\n    this._attachExtraTrace(trace, synchronous ? hasStack : false);\n    this._reject(reason);\n};\n\nPromise.prototype._resolveFromExecutor = function (executor) {\n    if (executor === INTERNAL) return;\n    var promise = this;\n    this._captureStackTrace();\n    this._pushContext();\n    var synchronous = true;\n    var r = this._execute(executor, function(value) {\n        promise._resolveCallback(value);\n    }, function (reason) {\n        promise._rejectCallback(reason, synchronous);\n    });\n    synchronous = false;\n    this._popContext();\n\n    if (r !== undefined) {\n        promise._rejectCallback(r, true);\n    }\n};\n\nPromise.prototype._settlePromiseFromHandler = function (\n    handler, receiver, value, promise\n) {\n    var bitField = promise._bitField;\n    if (((bitField & 65536) !== 0)) return;\n    promise._pushContext();\n    var x;\n    if (receiver === APPLY) {\n        if (!value || typeof value.length !== \"number\") {\n            x = errorObj;\n            x.e = new TypeError(\"cannot .spread() a non-array: \" +\n                                    util.classString(value));\n        } else {\n            x = tryCatch(handler).apply(this._boundValue(), value);\n        }\n    } else {\n        x = tryCatch(handler).call(receiver, value);\n    }\n    var promiseCreated = promise._popContext();\n    bitField = promise._bitField;\n    if (((bitField & 65536) !== 0)) return;\n\n    if (x === NEXT_FILTER) {\n        promise._reject(value);\n    } else if (x === errorObj) {\n        promise._rejectCallback(x.e, false);\n    } else {\n        debug.checkForgottenReturns(x, promiseCreated, \"\",  promise, this);\n        promise._resolveCallback(x);\n    }\n};\n\nPromise.prototype._target = function() {\n    var ret = this;\n    while (ret._isFollowing()) ret = ret._followee();\n    return ret;\n};\n\nPromise.prototype._followee = function() {\n    return this._rejectionHandler0;\n};\n\nPromise.prototype._setFollowee = function(promise) {\n    this._rejectionHandler0 = promise;\n};\n\nPromise.prototype._settlePromise = function(promise, handler, receiver, value) {\n    var isPromise = promise instanceof Promise;\n    var bitField = this._bitField;\n    var asyncGuaranteed = ((bitField & 134217728) !== 0);\n    if (((bitField & 65536) !== 0)) {\n        if (isPromise) promise._invokeInternalOnCancel();\n\n        if (receiver instanceof PassThroughHandlerContext &&\n            receiver.isFinallyHandler()) {\n            receiver.cancelPromise = promise;\n            if (tryCatch(handler).call(receiver, value) === errorObj) {\n                promise._reject(errorObj.e);\n            }\n        } else if (handler === reflectHandler) {\n            promise._fulfill(reflectHandler.call(receiver));\n        } else if (receiver instanceof Proxyable) {\n            receiver._promiseCancelled(promise);\n        } else if (isPromise || promise instanceof PromiseArray) {\n            promise._cancel();\n        } else {\n            receiver.cancel();\n        }\n    } else if (typeof handler === \"function\") {\n        if (!isPromise) {\n            handler.call(receiver, value, promise);\n        } else {\n            if (asyncGuaranteed) promise._setAsyncGuaranteed();\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (receiver instanceof Proxyable) {\n        if (!receiver._isResolved()) {\n            if (((bitField & 33554432) !== 0)) {\n                receiver._promiseFulfilled(value, promise);\n            } else {\n                receiver._promiseRejected(value, promise);\n            }\n        }\n    } else if (isPromise) {\n        if (asyncGuaranteed) promise._setAsyncGuaranteed();\n        if (((bitField & 33554432) !== 0)) {\n            promise._fulfill(value);\n        } else {\n            promise._reject(value);\n        }\n    }\n};\n\nPromise.prototype._settlePromiseLateCancellationObserver = function(ctx) {\n    var handler = ctx.handler;\n    var promise = ctx.promise;\n    var receiver = ctx.receiver;\n    var value = ctx.value;\n    if (typeof handler === \"function\") {\n        if (!(promise instanceof Promise)) {\n            handler.call(receiver, value, promise);\n        } else {\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (promise instanceof Promise) {\n        promise._reject(value);\n    }\n};\n\nPromise.prototype._settlePromiseCtx = function(ctx) {\n    this._settlePromise(ctx.promise, ctx.handler, ctx.receiver, ctx.value);\n};\n\nPromise.prototype._settlePromise0 = function(handler, value, bitField) {\n    var promise = this._promise0;\n    var receiver = this._receiverAt(0);\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._settlePromise(promise, handler, receiver, value);\n};\n\nPromise.prototype._clearCallbackDataAtIndex = function(index) {\n    var base = index * 4 - 4;\n    this[base + 2] =\n    this[base + 3] =\n    this[base + 0] =\n    this[base + 1] = undefined;\n};\n\nPromise.prototype._fulfill = function (value) {\n    var bitField = this._bitField;\n    if (((bitField & 117506048) >>> 16)) return;\n    if (value === this) {\n        var err = makeSelfResolutionError();\n        this._attachExtraTrace(err);\n        return this._reject(err);\n    }\n    this._setFulfilled();\n    this._rejectionHandler0 = value;\n\n    if ((bitField & 65535) > 0) {\n        if (((bitField & 134217728) !== 0)) {\n            this._settlePromises();\n        } else {\n            async.settlePromises(this);\n        }\n    }\n};\n\nPromise.prototype._reject = function (reason) {\n    var bitField = this._bitField;\n    if (((bitField & 117506048) >>> 16)) return;\n    this._setRejected();\n    this._fulfillmentHandler0 = reason;\n\n    if (this._isFinal()) {\n        return async.fatalError(reason, util.isNode);\n    }\n\n    if ((bitField & 65535) > 0) {\n        async.settlePromises(this);\n    } else {\n        this._ensurePossibleRejectionHandled();\n    }\n};\n\nPromise.prototype._fulfillPromises = function (len, value) {\n    for (var i = 1; i < len; i++) {\n        var handler = this._fulfillmentHandlerAt(i);\n        var promise = this._promiseAt(i);\n        var receiver = this._receiverAt(i);\n        this._clearCallbackDataAtIndex(i);\n        this._settlePromise(promise, handler, receiver, value);\n    }\n};\n\nPromise.prototype._rejectPromises = function (len, reason) {\n    for (var i = 1; i < len; i++) {\n        var handler = this._rejectionHandlerAt(i);\n        var promise = this._promiseAt(i);\n        var receiver = this._receiverAt(i);\n        this._clearCallbackDataAtIndex(i);\n        this._settlePromise(promise, handler, receiver, reason);\n    }\n};\n\nPromise.prototype._settlePromises = function () {\n    var bitField = this._bitField;\n    var len = (bitField & 65535);\n\n    if (len > 0) {\n        if (((bitField & 16842752) !== 0)) {\n            var reason = this._fulfillmentHandler0;\n            this._settlePromise0(this._rejectionHandler0, reason, bitField);\n            this._rejectPromises(len, reason);\n        } else {\n            var value = this._rejectionHandler0;\n            this._settlePromise0(this._fulfillmentHandler0, value, bitField);\n            this._fulfillPromises(len, value);\n        }\n        this._setLength(0);\n    }\n    this._clearCancellationData();\n};\n\nPromise.prototype._settledValue = function() {\n    var bitField = this._bitField;\n    if (((bitField & 33554432) !== 0)) {\n        return this._rejectionHandler0;\n    } else if (((bitField & 16777216) !== 0)) {\n        return this._fulfillmentHandler0;\n    }\n};\n\nfunction deferResolve(v) {this.promise._resolveCallback(v);}\nfunction deferReject(v) {this.promise._rejectCallback(v, false);}\n\nPromise.defer = Promise.pending = function() {\n    debug.deprecated(\"Promise.defer\", \"new Promise\");\n    var promise = new Promise(INTERNAL);\n    return {\n        promise: promise,\n        resolve: deferResolve,\n        reject: deferReject\n    };\n};\n\nutil.notEnumerableProp(Promise,\n                       \"_makeSelfResolutionError\",\n                       makeSelfResolutionError);\n\n_dereq_(\"./method\")(Promise, INTERNAL, tryConvertToPromise, apiRejection,\n    debug);\n_dereq_(\"./bind\")(Promise, INTERNAL, tryConvertToPromise, debug);\n_dereq_(\"./cancel\")(Promise, PromiseArray, apiRejection, debug);\n_dereq_(\"./direct_resolve\")(Promise);\n_dereq_(\"./synchronous_inspection\")(Promise);\n_dereq_(\"./join\")(\n    Promise, PromiseArray, tryConvertToPromise, INTERNAL, async, getDomain);\nPromise.Promise = Promise;\nPromise.version = \"3.5.0\";\n_dereq_('./map.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\n_dereq_('./call_get.js')(Promise);\n_dereq_('./using.js')(Promise, apiRejection, tryConvertToPromise, createContext, INTERNAL, debug);\n_dereq_('./timers.js')(Promise, INTERNAL, debug);\n_dereq_('./generators.js')(Promise, apiRejection, INTERNAL, tryConvertToPromise, Proxyable, debug);\n_dereq_('./nodeify.js')(Promise);\n_dereq_('./promisify.js')(Promise, INTERNAL);\n_dereq_('./props.js')(Promise, PromiseArray, tryConvertToPromise, apiRejection);\n_dereq_('./race.js')(Promise, INTERNAL, tryConvertToPromise, apiRejection);\n_dereq_('./reduce.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\n_dereq_('./settle.js')(Promise, PromiseArray, debug);\n_dereq_('./some.js')(Promise, PromiseArray, apiRejection);\n_dereq_('./filter.js')(Promise, INTERNAL);\n_dereq_('./each.js')(Promise, INTERNAL);\n_dereq_('./any.js')(Promise);\n                                                         \n    util.toFastProperties(Promise);                                          \n    util.toFastProperties(Promise.prototype);                                \n    function fillTypes(value) {                                              \n        var p = new Promise(INTERNAL);                                       \n        p._fulfillmentHandler0 = value;                                      \n        p._rejectionHandler0 = value;                                        \n        p._promise0 = value;                                                 \n        p._receiver0 = value;                                                \n    }                                                                        \n    // Complete slack tracking, opt out of field-type tracking and           \n    // stabilize map                                                         \n    fillTypes({a: 1});                                                       \n    fillTypes({b: 2});                                                       \n    fillTypes({c: 3});                                                       \n    fillTypes(1);                                                            \n    fillTypes(function(){});                                                 \n    fillTypes(undefined);                                                    \n    fillTypes(false);                                                        \n    fillTypes(new Promise(INTERNAL));                                        \n    debug.setBounds(Async.firstLineError, util.lastLineError);               \n    return Promise;                                                          \n\n};\n\n},{\"./any.js\":1,\"./async\":2,\"./bind\":3,\"./call_get.js\":5,\"./cancel\":6,\"./catch_filter\":7,\"./context\":8,\"./debuggability\":9,\"./direct_resolve\":10,\"./each.js\":11,\"./errors\":12,\"./es5\":13,\"./filter.js\":14,\"./finally\":15,\"./generators.js\":16,\"./join\":17,\"./map.js\":18,\"./method\":19,\"./nodeback\":20,\"./nodeify.js\":21,\"./promise_array\":23,\"./promisify.js\":24,\"./props.js\":25,\"./race.js\":27,\"./reduce.js\":28,\"./settle.js\":30,\"./some.js\":31,\"./synchronous_inspection\":32,\"./thenables\":33,\"./timers.js\":34,\"./using.js\":35,\"./util\":36}],23:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise,\n    apiRejection, Proxyable) {\nvar util = _dereq_(\"./util\");\nvar isArray = util.isArray;\n\nfunction toResolutionValue(val) {\n    switch(val) {\n    case -2: return [];\n    case -3: return {};\n    case -6: return new Map();\n    }\n}\n\nfunction PromiseArray(values) {\n    var promise = this._promise = new Promise(INTERNAL);\n    if (values instanceof Promise) {\n        promise._propagateFrom(values, 3);\n    }\n    promise._setOnCancel(this);\n    this._values = values;\n    this._length = 0;\n    this._totalResolved = 0;\n    this._init(undefined, -2);\n}\nutil.inherits(PromiseArray, Proxyable);\n\nPromiseArray.prototype.length = function () {\n    return this._length;\n};\n\nPromiseArray.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseArray.prototype._init = function init(_, resolveValueIfEmpty) {\n    var values = tryConvertToPromise(this._values, this._promise);\n    if (values instanceof Promise) {\n        values = values._target();\n        var bitField = values._bitField;\n        ;\n        this._values = values;\n\n        if (((bitField & 50397184) === 0)) {\n            this._promise._setAsyncGuaranteed();\n            return values._then(\n                init,\n                this._reject,\n                undefined,\n                this,\n                resolveValueIfEmpty\n           );\n        } else if (((bitField & 33554432) !== 0)) {\n            values = values._value();\n        } else if (((bitField & 16777216) !== 0)) {\n            return this._reject(values._reason());\n        } else {\n            return this._cancel();\n        }\n    }\n    values = util.asArray(values);\n    if (values === null) {\n        var err = apiRejection(\n            \"expecting an array or an iterable object but got \" + util.classString(values)).reason();\n        this._promise._rejectCallback(err, false);\n        return;\n    }\n\n    if (values.length === 0) {\n        if (resolveValueIfEmpty === -5) {\n            this._resolveEmptyArray();\n        }\n        else {\n            this._resolve(toResolutionValue(resolveValueIfEmpty));\n        }\n        return;\n    }\n    this._iterate(values);\n};\n\nPromiseArray.prototype._iterate = function(values) {\n    var len = this.getActualLength(values.length);\n    this._length = len;\n    this._values = this.shouldCopyValues() ? new Array(len) : this._values;\n    var result = this._promise;\n    var isResolved = false;\n    var bitField = null;\n    for (var i = 0; i < len; ++i) {\n        var maybePromise = tryConvertToPromise(values[i], result);\n\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            bitField = maybePromise._bitField;\n        } else {\n            bitField = null;\n        }\n\n        if (isResolved) {\n            if (bitField !== null) {\n                maybePromise.suppressUnhandledRejections();\n            }\n        } else if (bitField !== null) {\n            if (((bitField & 50397184) === 0)) {\n                maybePromise._proxy(this, i);\n                this._values[i] = maybePromise;\n            } else if (((bitField & 33554432) !== 0)) {\n                isResolved = this._promiseFulfilled(maybePromise._value(), i);\n            } else if (((bitField & 16777216) !== 0)) {\n                isResolved = this._promiseRejected(maybePromise._reason(), i);\n            } else {\n                isResolved = this._promiseCancelled(i);\n            }\n        } else {\n            isResolved = this._promiseFulfilled(maybePromise, i);\n        }\n    }\n    if (!isResolved) result._setAsyncGuaranteed();\n};\n\nPromiseArray.prototype._isResolved = function () {\n    return this._values === null;\n};\n\nPromiseArray.prototype._resolve = function (value) {\n    this._values = null;\n    this._promise._fulfill(value);\n};\n\nPromiseArray.prototype._cancel = function() {\n    if (this._isResolved() || !this._promise._isCancellable()) return;\n    this._values = null;\n    this._promise._cancel();\n};\n\nPromiseArray.prototype._reject = function (reason) {\n    this._values = null;\n    this._promise._rejectCallback(reason, false);\n};\n\nPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n        return true;\n    }\n    return false;\n};\n\nPromiseArray.prototype._promiseCancelled = function() {\n    this._cancel();\n    return true;\n};\n\nPromiseArray.prototype._promiseRejected = function (reason) {\n    this._totalResolved++;\n    this._reject(reason);\n    return true;\n};\n\nPromiseArray.prototype._resultCancelled = function() {\n    if (this._isResolved()) return;\n    var values = this._values;\n    this._cancel();\n    if (values instanceof Promise) {\n        values.cancel();\n    } else {\n        for (var i = 0; i < values.length; ++i) {\n            if (values[i] instanceof Promise) {\n                values[i].cancel();\n            }\n        }\n    }\n};\n\nPromiseArray.prototype.shouldCopyValues = function () {\n    return true;\n};\n\nPromiseArray.prototype.getActualLength = function (len) {\n    return len;\n};\n\nreturn PromiseArray;\n};\n\n},{\"./util\":36}],24:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar THIS = {};\nvar util = _dereq_(\"./util\");\nvar nodebackForPromise = _dereq_(\"./nodeback\");\nvar withAppended = util.withAppended;\nvar maybeWrapAsError = util.maybeWrapAsError;\nvar canEvaluate = util.canEvaluate;\nvar TypeError = _dereq_(\"./errors\").TypeError;\nvar defaultSuffix = \"Async\";\nvar defaultPromisified = {__isPromisified__: true};\nvar noCopyProps = [\n    \"arity\",    \"length\",\n    \"name\",\n    \"arguments\",\n    \"caller\",\n    \"callee\",\n    \"prototype\",\n    \"__isPromisified__\"\n];\nvar noCopyPropsPattern = new RegExp(\"^(?:\" + noCopyProps.join(\"|\") + \")$\");\n\nvar defaultFilter = function(name) {\n    return util.isIdentifier(name) &&\n        name.charAt(0) !== \"_\" &&\n        name !== \"constructor\";\n};\n\nfunction propsFilter(key) {\n    return !noCopyPropsPattern.test(key);\n}\n\nfunction isPromisified(fn) {\n    try {\n        return fn.__isPromisified__ === true;\n    }\n    catch (e) {\n        return false;\n    }\n}\n\nfunction hasPromisified(obj, key, suffix) {\n    var val = util.getDataPropertyOrDefault(obj, key + suffix,\n                                            defaultPromisified);\n    return val ? isPromisified(val) : false;\n}\nfunction checkValid(ret, suffix, suffixRegexp) {\n    for (var i = 0; i < ret.length; i += 2) {\n        var key = ret[i];\n        if (suffixRegexp.test(key)) {\n            var keyWithoutAsyncSuffix = key.replace(suffixRegexp, \"\");\n            for (var j = 0; j < ret.length; j += 2) {\n                if (ret[j] === keyWithoutAsyncSuffix) {\n                    throw new TypeError(\"Cannot promisify an API that has normal methods with '%s'-suffix\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\"\n                        .replace(\"%s\", suffix));\n                }\n            }\n        }\n    }\n}\n\nfunction promisifiableMethods(obj, suffix, suffixRegexp, filter) {\n    var keys = util.inheritedDataKeys(obj);\n    var ret = [];\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var value = obj[key];\n        var passesDefaultFilter = filter === defaultFilter\n            ? true : defaultFilter(key, value, obj);\n        if (typeof value === \"function\" &&\n            !isPromisified(value) &&\n            !hasPromisified(obj, key, suffix) &&\n            filter(key, value, obj, passesDefaultFilter)) {\n            ret.push(key, value);\n        }\n    }\n    checkValid(ret, suffix, suffixRegexp);\n    return ret;\n}\n\nvar escapeIdentRegex = function(str) {\n    return str.replace(/([$])/, \"\\\\$\");\n};\n\nvar makeNodePromisifiedEval;\nif (!true) {\nvar switchCaseArgumentOrder = function(likelyArgumentCount) {\n    var ret = [likelyArgumentCount];\n    var min = Math.max(0, likelyArgumentCount - 1 - 3);\n    for(var i = likelyArgumentCount - 1; i >= min; --i) {\n        ret.push(i);\n    }\n    for(var i = likelyArgumentCount + 1; i <= 3; ++i) {\n        ret.push(i);\n    }\n    return ret;\n};\n\nvar argumentSequence = function(argumentCount) {\n    return util.filledRange(argumentCount, \"_arg\", \"\");\n};\n\nvar parameterDeclaration = function(parameterCount) {\n    return util.filledRange(\n        Math.max(parameterCount, 3), \"_arg\", \"\");\n};\n\nvar parameterCount = function(fn) {\n    if (typeof fn.length === \"number\") {\n        return Math.max(Math.min(fn.length, 1023 + 1), 0);\n    }\n    return 0;\n};\n\nmakeNodePromisifiedEval =\nfunction(callback, receiver, originalName, fn, _, multiArgs) {\n    var newParameterCount = Math.max(0, parameterCount(fn) - 1);\n    var argumentOrder = switchCaseArgumentOrder(newParameterCount);\n    var shouldProxyThis = typeof callback === \"string\" || receiver === THIS;\n\n    function generateCallForArgumentCount(count) {\n        var args = argumentSequence(count).join(\", \");\n        var comma = count > 0 ? \", \" : \"\";\n        var ret;\n        if (shouldProxyThis) {\n            ret = \"ret = callback.call(this, {{args}}, nodeback); break;\\n\";\n        } else {\n            ret = receiver === undefined\n                ? \"ret = callback({{args}}, nodeback); break;\\n\"\n                : \"ret = callback.call(receiver, {{args}}, nodeback); break;\\n\";\n        }\n        return ret.replace(\"{{args}}\", args).replace(\", \", comma);\n    }\n\n    function generateArgumentSwitchCase() {\n        var ret = \"\";\n        for (var i = 0; i < argumentOrder.length; ++i) {\n            ret += \"case \" + argumentOrder[i] +\":\" +\n                generateCallForArgumentCount(argumentOrder[i]);\n        }\n\n        ret += \"                                                             \\n\\\n        default:                                                             \\n\\\n            var args = new Array(len + 1);                                   \\n\\\n            var i = 0;                                                       \\n\\\n            for (var i = 0; i < len; ++i) {                                  \\n\\\n               args[i] = arguments[i];                                       \\n\\\n            }                                                                \\n\\\n            args[i] = nodeback;                                              \\n\\\n            [CodeForCall]                                                    \\n\\\n            break;                                                           \\n\\\n        \".replace(\"[CodeForCall]\", (shouldProxyThis\n                                ? \"ret = callback.apply(this, args);\\n\"\n                                : \"ret = callback.apply(receiver, args);\\n\"));\n        return ret;\n    }\n\n    var getFunctionCode = typeof callback === \"string\"\n                                ? (\"this != null ? this['\"+callback+\"'] : fn\")\n                                : \"fn\";\n    var body = \"'use strict';                                                \\n\\\n        var ret = function (Parameters) {                                    \\n\\\n            'use strict';                                                    \\n\\\n            var len = arguments.length;                                      \\n\\\n            var promise = new Promise(INTERNAL);                             \\n\\\n            promise._captureStackTrace();                                    \\n\\\n            var nodeback = nodebackForPromise(promise, \" + multiArgs + \");   \\n\\\n            var ret;                                                         \\n\\\n            var callback = tryCatch([GetFunctionCode]);                      \\n\\\n            switch(len) {                                                    \\n\\\n                [CodeForSwitchCase]                                          \\n\\\n            }                                                                \\n\\\n            if (ret === errorObj) {                                          \\n\\\n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\\n\\\n            }                                                                \\n\\\n            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \\n\\\n            return promise;                                                  \\n\\\n        };                                                                   \\n\\\n        notEnumerableProp(ret, '__isPromisified__', true);                   \\n\\\n        return ret;                                                          \\n\\\n    \".replace(\"[CodeForSwitchCase]\", generateArgumentSwitchCase())\n        .replace(\"[GetFunctionCode]\", getFunctionCode);\n    body = body.replace(\"Parameters\", parameterDeclaration(newParameterCount));\n    return new Function(\"Promise\",\n                        \"fn\",\n                        \"receiver\",\n                        \"withAppended\",\n                        \"maybeWrapAsError\",\n                        \"nodebackForPromise\",\n                        \"tryCatch\",\n                        \"errorObj\",\n                        \"notEnumerableProp\",\n                        \"INTERNAL\",\n                        body)(\n                    Promise,\n                    fn,\n                    receiver,\n                    withAppended,\n                    maybeWrapAsError,\n                    nodebackForPromise,\n                    util.tryCatch,\n                    util.errorObj,\n                    util.notEnumerableProp,\n                    INTERNAL);\n};\n}\n\nfunction makeNodePromisifiedClosure(callback, receiver, _, fn, __, multiArgs) {\n    var defaultThis = (function() {return this;})();\n    var method = callback;\n    if (typeof method === \"string\") {\n        callback = fn;\n    }\n    function promisified() {\n        var _receiver = receiver;\n        if (receiver === THIS) _receiver = this;\n        var promise = new Promise(INTERNAL);\n        promise._captureStackTrace();\n        var cb = typeof method === \"string\" && this !== defaultThis\n            ? this[method] : callback;\n        var fn = nodebackForPromise(promise, multiArgs);\n        try {\n            cb.apply(_receiver, withAppended(arguments, fn));\n        } catch(e) {\n            promise._rejectCallback(maybeWrapAsError(e), true, true);\n        }\n        if (!promise._isFateSealed()) promise._setAsyncGuaranteed();\n        return promise;\n    }\n    util.notEnumerableProp(promisified, \"__isPromisified__\", true);\n    return promisified;\n}\n\nvar makeNodePromisified = canEvaluate\n    ? makeNodePromisifiedEval\n    : makeNodePromisifiedClosure;\n\nfunction promisifyAll(obj, suffix, filter, promisifier, multiArgs) {\n    var suffixRegexp = new RegExp(escapeIdentRegex(suffix) + \"$\");\n    var methods =\n        promisifiableMethods(obj, suffix, suffixRegexp, filter);\n\n    for (var i = 0, len = methods.length; i < len; i+= 2) {\n        var key = methods[i];\n        var fn = methods[i+1];\n        var promisifiedKey = key + suffix;\n        if (promisifier === makeNodePromisified) {\n            obj[promisifiedKey] =\n                makeNodePromisified(key, THIS, key, fn, suffix, multiArgs);\n        } else {\n            var promisified = promisifier(fn, function() {\n                return makeNodePromisified(key, THIS, key,\n                                           fn, suffix, multiArgs);\n            });\n            util.notEnumerableProp(promisified, \"__isPromisified__\", true);\n            obj[promisifiedKey] = promisified;\n        }\n    }\n    util.toFastProperties(obj);\n    return obj;\n}\n\nfunction promisify(callback, receiver, multiArgs) {\n    return makeNodePromisified(callback, receiver, undefined,\n                                callback, null, multiArgs);\n}\n\nPromise.promisify = function (fn, options) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    if (isPromisified(fn)) {\n        return fn;\n    }\n    options = Object(options);\n    var receiver = options.context === undefined ? THIS : options.context;\n    var multiArgs = !!options.multiArgs;\n    var ret = promisify(fn, receiver, multiArgs);\n    util.copyDescriptors(fn, ret, propsFilter);\n    return ret;\n};\n\nPromise.promisifyAll = function (target, options) {\n    if (typeof target !== \"function\" && typeof target !== \"object\") {\n        throw new TypeError(\"the target of promisifyAll must be an object or a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    options = Object(options);\n    var multiArgs = !!options.multiArgs;\n    var suffix = options.suffix;\n    if (typeof suffix !== \"string\") suffix = defaultSuffix;\n    var filter = options.filter;\n    if (typeof filter !== \"function\") filter = defaultFilter;\n    var promisifier = options.promisifier;\n    if (typeof promisifier !== \"function\") promisifier = makeNodePromisified;\n\n    if (!util.isIdentifier(suffix)) {\n        throw new RangeError(\"suffix must be a valid identifier\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n\n    var keys = util.inheritedDataKeys(target);\n    for (var i = 0; i < keys.length; ++i) {\n        var value = target[keys[i]];\n        if (keys[i] !== \"constructor\" &&\n            util.isClass(value)) {\n            promisifyAll(value.prototype, suffix, filter, promisifier,\n                multiArgs);\n            promisifyAll(value, suffix, filter, promisifier, multiArgs);\n        }\n    }\n\n    return promisifyAll(target, suffix, filter, promisifier, multiArgs);\n};\n};\n\n\n},{\"./errors\":12,\"./nodeback\":20,\"./util\":36}],25:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(\n    Promise, PromiseArray, tryConvertToPromise, apiRejection) {\nvar util = _dereq_(\"./util\");\nvar isObject = util.isObject;\nvar es5 = _dereq_(\"./es5\");\nvar Es6Map;\nif (typeof Map === \"function\") Es6Map = Map;\n\nvar mapToEntries = (function() {\n    var index = 0;\n    var size = 0;\n\n    function extractEntry(value, key) {\n        this[index] = value;\n        this[index + size] = key;\n        index++;\n    }\n\n    return function mapToEntries(map) {\n        size = map.size;\n        index = 0;\n        var ret = new Array(map.size * 2);\n        map.forEach(extractEntry, ret);\n        return ret;\n    };\n})();\n\nvar entriesToMap = function(entries) {\n    var ret = new Es6Map();\n    var length = entries.length / 2 | 0;\n    for (var i = 0; i < length; ++i) {\n        var key = entries[length + i];\n        var value = entries[i];\n        ret.set(key, value);\n    }\n    return ret;\n};\n\nfunction PropertiesPromiseArray(obj) {\n    var isMap = false;\n    var entries;\n    if (Es6Map !== undefined && obj instanceof Es6Map) {\n        entries = mapToEntries(obj);\n        isMap = true;\n    } else {\n        var keys = es5.keys(obj);\n        var len = keys.length;\n        entries = new Array(len * 2);\n        for (var i = 0; i < len; ++i) {\n            var key = keys[i];\n            entries[i] = obj[key];\n            entries[i + len] = key;\n        }\n    }\n    this.constructor$(entries);\n    this._isMap = isMap;\n    this._init$(undefined, isMap ? -6 : -3);\n}\nutil.inherits(PropertiesPromiseArray, PromiseArray);\n\nPropertiesPromiseArray.prototype._init = function () {};\n\nPropertiesPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        var val;\n        if (this._isMap) {\n            val = entriesToMap(this._values);\n        } else {\n            val = {};\n            var keyOffset = this.length();\n            for (var i = 0, len = this.length(); i < len; ++i) {\n                val[this._values[i + keyOffset]] = this._values[i];\n            }\n        }\n        this._resolve(val);\n        return true;\n    }\n    return false;\n};\n\nPropertiesPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nPropertiesPromiseArray.prototype.getActualLength = function (len) {\n    return len >> 1;\n};\n\nfunction props(promises) {\n    var ret;\n    var castValue = tryConvertToPromise(promises);\n\n    if (!isObject(castValue)) {\n        return apiRejection(\"cannot await properties of a non-object\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    } else if (castValue instanceof Promise) {\n        ret = castValue._then(\n            Promise.props, undefined, undefined, undefined, undefined);\n    } else {\n        ret = new PropertiesPromiseArray(castValue).promise();\n    }\n\n    if (castValue instanceof Promise) {\n        ret._propagateFrom(castValue, 2);\n    }\n    return ret;\n}\n\nPromise.prototype.props = function () {\n    return props(this);\n};\n\nPromise.props = function (promises) {\n    return props(promises);\n};\n};\n\n},{\"./es5\":13,\"./util\":36}],26:[function(_dereq_,module,exports){\n\"use strict\";\nfunction arrayMove(src, srcIndex, dst, dstIndex, len) {\n    for (var j = 0; j < len; ++j) {\n        dst[j + dstIndex] = src[j + srcIndex];\n        src[j + srcIndex] = void 0;\n    }\n}\n\nfunction Queue(capacity) {\n    this._capacity = capacity;\n    this._length = 0;\n    this._front = 0;\n}\n\nQueue.prototype._willBeOverCapacity = function (size) {\n    return this._capacity < size;\n};\n\nQueue.prototype._pushOne = function (arg) {\n    var length = this.length();\n    this._checkCapacity(length + 1);\n    var i = (this._front + length) & (this._capacity - 1);\n    this[i] = arg;\n    this._length = length + 1;\n};\n\nQueue.prototype.push = function (fn, receiver, arg) {\n    var length = this.length() + 3;\n    if (this._willBeOverCapacity(length)) {\n        this._pushOne(fn);\n        this._pushOne(receiver);\n        this._pushOne(arg);\n        return;\n    }\n    var j = this._front + length - 3;\n    this._checkCapacity(length);\n    var wrapMask = this._capacity - 1;\n    this[(j + 0) & wrapMask] = fn;\n    this[(j + 1) & wrapMask] = receiver;\n    this[(j + 2) & wrapMask] = arg;\n    this._length = length;\n};\n\nQueue.prototype.shift = function () {\n    var front = this._front,\n        ret = this[front];\n\n    this[front] = undefined;\n    this._front = (front + 1) & (this._capacity - 1);\n    this._length--;\n    return ret;\n};\n\nQueue.prototype.length = function () {\n    return this._length;\n};\n\nQueue.prototype._checkCapacity = function (size) {\n    if (this._capacity < size) {\n        this._resizeTo(this._capacity << 1);\n    }\n};\n\nQueue.prototype._resizeTo = function (capacity) {\n    var oldCapacity = this._capacity;\n    this._capacity = capacity;\n    var front = this._front;\n    var length = this._length;\n    var moveItemsCount = (front + length) & (oldCapacity - 1);\n    arrayMove(this, 0, this, oldCapacity, moveItemsCount);\n};\n\nmodule.exports = Queue;\n\n},{}],27:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(\n    Promise, INTERNAL, tryConvertToPromise, apiRejection) {\nvar util = _dereq_(\"./util\");\n\nvar raceLater = function (promise) {\n    return promise.then(function(array) {\n        return race(array, promise);\n    });\n};\n\nfunction race(promises, parent) {\n    var maybePromise = tryConvertToPromise(promises);\n\n    if (maybePromise instanceof Promise) {\n        return raceLater(maybePromise);\n    } else {\n        promises = util.asArray(promises);\n        if (promises === null)\n            return apiRejection(\"expecting an array or an iterable object but got \" + util.classString(promises));\n    }\n\n    var ret = new Promise(INTERNAL);\n    if (parent !== undefined) {\n        ret._propagateFrom(parent, 3);\n    }\n    var fulfill = ret._fulfill;\n    var reject = ret._reject;\n    for (var i = 0, len = promises.length; i < len; ++i) {\n        var val = promises[i];\n\n        if (val === undefined && !(i in promises)) {\n            continue;\n        }\n\n        Promise.cast(val)._then(fulfill, reject, undefined, ret, null);\n    }\n    return ret;\n}\n\nPromise.race = function (promises) {\n    return race(promises, undefined);\n};\n\nPromise.prototype.race = function () {\n    return race(this, undefined);\n};\n\n};\n\n},{\"./util\":36}],28:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL,\n                          debug) {\nvar getDomain = Promise._getDomain;\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\n\nfunction ReductionPromiseArray(promises, fn, initialValue, _each) {\n    this.constructor$(promises);\n    var domain = getDomain();\n    this._fn = domain === null ? fn : util.domainBind(domain, fn);\n    if (initialValue !== undefined) {\n        initialValue = Promise.resolve(initialValue);\n        initialValue._attachCancellationCallback(this);\n    }\n    this._initialValue = initialValue;\n    this._currentCancellable = null;\n    if(_each === INTERNAL) {\n        this._eachValues = Array(this._length);\n    } else if (_each === 0) {\n        this._eachValues = null;\n    } else {\n        this._eachValues = undefined;\n    }\n    this._promise._captureStackTrace();\n    this._init$(undefined, -5);\n}\nutil.inherits(ReductionPromiseArray, PromiseArray);\n\nReductionPromiseArray.prototype._gotAccum = function(accum) {\n    if (this._eachValues !== undefined && \n        this._eachValues !== null && \n        accum !== INTERNAL) {\n        this._eachValues.push(accum);\n    }\n};\n\nReductionPromiseArray.prototype._eachComplete = function(value) {\n    if (this._eachValues !== null) {\n        this._eachValues.push(value);\n    }\n    return this._eachValues;\n};\n\nReductionPromiseArray.prototype._init = function() {};\n\nReductionPromiseArray.prototype._resolveEmptyArray = function() {\n    this._resolve(this._eachValues !== undefined ? this._eachValues\n                                                 : this._initialValue);\n};\n\nReductionPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nReductionPromiseArray.prototype._resolve = function(value) {\n    this._promise._resolveCallback(value);\n    this._values = null;\n};\n\nReductionPromiseArray.prototype._resultCancelled = function(sender) {\n    if (sender === this._initialValue) return this._cancel();\n    if (this._isResolved()) return;\n    this._resultCancelled$();\n    if (this._currentCancellable instanceof Promise) {\n        this._currentCancellable.cancel();\n    }\n    if (this._initialValue instanceof Promise) {\n        this._initialValue.cancel();\n    }\n};\n\nReductionPromiseArray.prototype._iterate = function (values) {\n    this._values = values;\n    var value;\n    var i;\n    var length = values.length;\n    if (this._initialValue !== undefined) {\n        value = this._initialValue;\n        i = 0;\n    } else {\n        value = Promise.resolve(values[0]);\n        i = 1;\n    }\n\n    this._currentCancellable = value;\n\n    if (!value.isRejected()) {\n        for (; i < length; ++i) {\n            var ctx = {\n                accum: null,\n                value: values[i],\n                index: i,\n                length: length,\n                array: this\n            };\n            value = value._then(gotAccum, undefined, undefined, ctx, undefined);\n        }\n    }\n\n    if (this._eachValues !== undefined) {\n        value = value\n            ._then(this._eachComplete, undefined, undefined, this, undefined);\n    }\n    value._then(completed, completed, undefined, value, this);\n};\n\nPromise.prototype.reduce = function (fn, initialValue) {\n    return reduce(this, fn, initialValue, null);\n};\n\nPromise.reduce = function (promises, fn, initialValue, _each) {\n    return reduce(promises, fn, initialValue, _each);\n};\n\nfunction completed(valueOrReason, array) {\n    if (this.isFulfilled()) {\n        array._resolve(valueOrReason);\n    } else {\n        array._reject(valueOrReason);\n    }\n}\n\nfunction reduce(promises, fn, initialValue, _each) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    var array = new ReductionPromiseArray(promises, fn, initialValue, _each);\n    return array.promise();\n}\n\nfunction gotAccum(accum) {\n    this.accum = accum;\n    this.array._gotAccum(accum);\n    var value = tryConvertToPromise(this.value, this.array._promise);\n    if (value instanceof Promise) {\n        this.array._currentCancellable = value;\n        return value._then(gotValue, undefined, undefined, this, undefined);\n    } else {\n        return gotValue.call(this, value);\n    }\n}\n\nfunction gotValue(value) {\n    var array = this.array;\n    var promise = array._promise;\n    var fn = tryCatch(array._fn);\n    promise._pushContext();\n    var ret;\n    if (array._eachValues !== undefined) {\n        ret = fn.call(promise._boundValue(), value, this.index, this.length);\n    } else {\n        ret = fn.call(promise._boundValue(),\n                              this.accum, value, this.index, this.length);\n    }\n    if (ret instanceof Promise) {\n        array._currentCancellable = ret;\n    }\n    var promiseCreated = promise._popContext();\n    debug.checkForgottenReturns(\n        ret,\n        promiseCreated,\n        array._eachValues !== undefined ? \"Promise.each\" : \"Promise.reduce\",\n        promise\n    );\n    return ret;\n}\n};\n\n},{\"./util\":36}],29:[function(_dereq_,module,exports){\n\"use strict\";\nvar util = _dereq_(\"./util\");\nvar schedule;\nvar noAsyncScheduler = function() {\n    throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n};\nvar NativePromise = util.getNativePromise();\nif (util.isNode && typeof MutationObserver === \"undefined\") {\n    var GlobalSetImmediate = global.setImmediate;\n    var ProcessNextTick = process.nextTick;\n    schedule = util.isRecentNode\n                ? function(fn) { GlobalSetImmediate.call(global, fn); }\n                : function(fn) { ProcessNextTick.call(process, fn); };\n} else if (typeof NativePromise === \"function\" &&\n           typeof NativePromise.resolve === \"function\") {\n    var nativePromise = NativePromise.resolve();\n    schedule = function(fn) {\n        nativePromise.then(fn);\n    };\n} else if ((typeof MutationObserver !== \"undefined\") &&\n          !(typeof window !== \"undefined\" &&\n            window.navigator &&\n            (window.navigator.standalone || window.cordova))) {\n    schedule = (function() {\n        var div = document.createElement(\"div\");\n        var opts = {attributes: true};\n        var toggleScheduled = false;\n        var div2 = document.createElement(\"div\");\n        var o2 = new MutationObserver(function() {\n            div.classList.toggle(\"foo\");\n            toggleScheduled = false;\n        });\n        o2.observe(div2, opts);\n\n        var scheduleToggle = function() {\n            if (toggleScheduled) return;\n            toggleScheduled = true;\n            div2.classList.toggle(\"foo\");\n        };\n\n        return function schedule(fn) {\n            var o = new MutationObserver(function() {\n                o.disconnect();\n                fn();\n            });\n            o.observe(div, opts);\n            scheduleToggle();\n        };\n    })();\n} else if (typeof setImmediate !== \"undefined\") {\n    schedule = function (fn) {\n        setImmediate(fn);\n    };\n} else if (typeof setTimeout !== \"undefined\") {\n    schedule = function (fn) {\n        setTimeout(fn, 0);\n    };\n} else {\n    schedule = noAsyncScheduler;\n}\nmodule.exports = schedule;\n\n},{\"./util\":36}],30:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\n    function(Promise, PromiseArray, debug) {\nvar PromiseInspection = Promise.PromiseInspection;\nvar util = _dereq_(\"./util\");\n\nfunction SettledPromiseArray(values) {\n    this.constructor$(values);\n}\nutil.inherits(SettledPromiseArray, PromiseArray);\n\nSettledPromiseArray.prototype._promiseResolved = function (index, inspection) {\n    this._values[index] = inspection;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n        return true;\n    }\n    return false;\n};\n\nSettledPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 33554432;\n    ret._settledValueField = value;\n    return this._promiseResolved(index, ret);\n};\nSettledPromiseArray.prototype._promiseRejected = function (reason, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 16777216;\n    ret._settledValueField = reason;\n    return this._promiseResolved(index, ret);\n};\n\nPromise.settle = function (promises) {\n    debug.deprecated(\".settle()\", \".reflect()\");\n    return new SettledPromiseArray(promises).promise();\n};\n\nPromise.prototype.settle = function () {\n    return Promise.settle(this);\n};\n};\n\n},{\"./util\":36}],31:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, PromiseArray, apiRejection) {\nvar util = _dereq_(\"./util\");\nvar RangeError = _dereq_(\"./errors\").RangeError;\nvar AggregateError = _dereq_(\"./errors\").AggregateError;\nvar isArray = util.isArray;\nvar CANCELLATION = {};\n\n\nfunction SomePromiseArray(values) {\n    this.constructor$(values);\n    this._howMany = 0;\n    this._unwrap = false;\n    this._initialized = false;\n}\nutil.inherits(SomePromiseArray, PromiseArray);\n\nSomePromiseArray.prototype._init = function () {\n    if (!this._initialized) {\n        return;\n    }\n    if (this._howMany === 0) {\n        this._resolve([]);\n        return;\n    }\n    this._init$(undefined, -5);\n    var isArrayResolved = isArray(this._values);\n    if (!this._isResolved() &&\n        isArrayResolved &&\n        this._howMany > this._canPossiblyFulfill()) {\n        this._reject(this._getRangeError(this.length()));\n    }\n};\n\nSomePromiseArray.prototype.init = function () {\n    this._initialized = true;\n    this._init();\n};\n\nSomePromiseArray.prototype.setUnwrap = function () {\n    this._unwrap = true;\n};\n\nSomePromiseArray.prototype.howMany = function () {\n    return this._howMany;\n};\n\nSomePromiseArray.prototype.setHowMany = function (count) {\n    this._howMany = count;\n};\n\nSomePromiseArray.prototype._promiseFulfilled = function (value) {\n    this._addFulfilled(value);\n    if (this._fulfilled() === this.howMany()) {\n        this._values.length = this.howMany();\n        if (this.howMany() === 1 && this._unwrap) {\n            this._resolve(this._values[0]);\n        } else {\n            this._resolve(this._values);\n        }\n        return true;\n    }\n    return false;\n\n};\nSomePromiseArray.prototype._promiseRejected = function (reason) {\n    this._addRejected(reason);\n    return this._checkOutcome();\n};\n\nSomePromiseArray.prototype._promiseCancelled = function () {\n    if (this._values instanceof Promise || this._values == null) {\n        return this._cancel();\n    }\n    this._addRejected(CANCELLATION);\n    return this._checkOutcome();\n};\n\nSomePromiseArray.prototype._checkOutcome = function() {\n    if (this.howMany() > this._canPossiblyFulfill()) {\n        var e = new AggregateError();\n        for (var i = this.length(); i < this._values.length; ++i) {\n            if (this._values[i] !== CANCELLATION) {\n                e.push(this._values[i]);\n            }\n        }\n        if (e.length > 0) {\n            this._reject(e);\n        } else {\n            this._cancel();\n        }\n        return true;\n    }\n    return false;\n};\n\nSomePromiseArray.prototype._fulfilled = function () {\n    return this._totalResolved;\n};\n\nSomePromiseArray.prototype._rejected = function () {\n    return this._values.length - this.length();\n};\n\nSomePromiseArray.prototype._addRejected = function (reason) {\n    this._values.push(reason);\n};\n\nSomePromiseArray.prototype._addFulfilled = function (value) {\n    this._values[this._totalResolved++] = value;\n};\n\nSomePromiseArray.prototype._canPossiblyFulfill = function () {\n    return this.length() - this._rejected();\n};\n\nSomePromiseArray.prototype._getRangeError = function (count) {\n    var message = \"Input array must contain at least \" +\n            this._howMany + \" items but contains only \" + count + \" items\";\n    return new RangeError(message);\n};\n\nSomePromiseArray.prototype._resolveEmptyArray = function () {\n    this._reject(this._getRangeError(0));\n};\n\nfunction some(promises, howMany) {\n    if ((howMany | 0) !== howMany || howMany < 0) {\n        return apiRejection(\"expecting a positive integer\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var ret = new SomePromiseArray(promises);\n    var promise = ret.promise();\n    ret.setHowMany(howMany);\n    ret.init();\n    return promise;\n}\n\nPromise.some = function (promises, howMany) {\n    return some(promises, howMany);\n};\n\nPromise.prototype.some = function (howMany) {\n    return some(this, howMany);\n};\n\nPromise._SomePromiseArray = SomePromiseArray;\n};\n\n},{\"./errors\":12,\"./util\":36}],32:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nfunction PromiseInspection(promise) {\n    if (promise !== undefined) {\n        promise = promise._target();\n        this._bitField = promise._bitField;\n        this._settledValueField = promise._isFateSealed()\n            ? promise._settledValue() : undefined;\n    }\n    else {\n        this._bitField = 0;\n        this._settledValueField = undefined;\n    }\n}\n\nPromiseInspection.prototype._settledValue = function() {\n    return this._settledValueField;\n};\n\nvar value = PromiseInspection.prototype.value = function () {\n    if (!this.isFulfilled()) {\n        throw new TypeError(\"cannot get fulfillment value of a non-fulfilled promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    return this._settledValue();\n};\n\nvar reason = PromiseInspection.prototype.error =\nPromiseInspection.prototype.reason = function () {\n    if (!this.isRejected()) {\n        throw new TypeError(\"cannot get rejection reason of a non-rejected promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    return this._settledValue();\n};\n\nvar isFulfilled = PromiseInspection.prototype.isFulfilled = function() {\n    return (this._bitField & 33554432) !== 0;\n};\n\nvar isRejected = PromiseInspection.prototype.isRejected = function () {\n    return (this._bitField & 16777216) !== 0;\n};\n\nvar isPending = PromiseInspection.prototype.isPending = function () {\n    return (this._bitField & 50397184) === 0;\n};\n\nvar isResolved = PromiseInspection.prototype.isResolved = function () {\n    return (this._bitField & 50331648) !== 0;\n};\n\nPromiseInspection.prototype.isCancelled = function() {\n    return (this._bitField & 8454144) !== 0;\n};\n\nPromise.prototype.__isCancelled = function() {\n    return (this._bitField & 65536) === 65536;\n};\n\nPromise.prototype._isCancelled = function() {\n    return this._target().__isCancelled();\n};\n\nPromise.prototype.isCancelled = function() {\n    return (this._target()._bitField & 8454144) !== 0;\n};\n\nPromise.prototype.isPending = function() {\n    return isPending.call(this._target());\n};\n\nPromise.prototype.isRejected = function() {\n    return isRejected.call(this._target());\n};\n\nPromise.prototype.isFulfilled = function() {\n    return isFulfilled.call(this._target());\n};\n\nPromise.prototype.isResolved = function() {\n    return isResolved.call(this._target());\n};\n\nPromise.prototype.value = function() {\n    return value.call(this._target());\n};\n\nPromise.prototype.reason = function() {\n    var target = this._target();\n    target._unsetRejectionIsUnhandled();\n    return reason.call(target);\n};\n\nPromise.prototype._value = function() {\n    return this._settledValue();\n};\n\nPromise.prototype._reason = function() {\n    this._unsetRejectionIsUnhandled();\n    return this._settledValue();\n};\n\nPromise.PromiseInspection = PromiseInspection;\n};\n\n},{}],33:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar util = _dereq_(\"./util\");\nvar errorObj = util.errorObj;\nvar isObject = util.isObject;\n\nfunction tryConvertToPromise(obj, context) {\n    if (isObject(obj)) {\n        if (obj instanceof Promise) return obj;\n        var then = getThen(obj);\n        if (then === errorObj) {\n            if (context) context._pushContext();\n            var ret = Promise.reject(then.e);\n            if (context) context._popContext();\n            return ret;\n        } else if (typeof then === \"function\") {\n            if (isAnyBluebirdPromise(obj)) {\n                var ret = new Promise(INTERNAL);\n                obj._then(\n                    ret._fulfill,\n                    ret._reject,\n                    undefined,\n                    ret,\n                    null\n                );\n                return ret;\n            }\n            return doThenable(obj, then, context);\n        }\n    }\n    return obj;\n}\n\nfunction doGetThen(obj) {\n    return obj.then;\n}\n\nfunction getThen(obj) {\n    try {\n        return doGetThen(obj);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\n\nvar hasProp = {}.hasOwnProperty;\nfunction isAnyBluebirdPromise(obj) {\n    try {\n        return hasProp.call(obj, \"_promise0\");\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction doThenable(x, then, context) {\n    var promise = new Promise(INTERNAL);\n    var ret = promise;\n    if (context) context._pushContext();\n    promise._captureStackTrace();\n    if (context) context._popContext();\n    var synchronous = true;\n    var result = util.tryCatch(then).call(x, resolve, reject);\n    synchronous = false;\n\n    if (promise && result === errorObj) {\n        promise._rejectCallback(result.e, true, true);\n        promise = null;\n    }\n\n    function resolve(value) {\n        if (!promise) return;\n        promise._resolveCallback(value);\n        promise = null;\n    }\n\n    function reject(reason) {\n        if (!promise) return;\n        promise._rejectCallback(reason, synchronous, true);\n        promise = null;\n    }\n    return ret;\n}\n\nreturn tryConvertToPromise;\n};\n\n},{\"./util\":36}],34:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, debug) {\nvar util = _dereq_(\"./util\");\nvar TimeoutError = Promise.TimeoutError;\n\nfunction HandleWrapper(handle)  {\n    this.handle = handle;\n}\n\nHandleWrapper.prototype._resultCancelled = function() {\n    clearTimeout(this.handle);\n};\n\nvar afterValue = function(value) { return delay(+this).thenReturn(value); };\nvar delay = Promise.delay = function (ms, value) {\n    var ret;\n    var handle;\n    if (value !== undefined) {\n        ret = Promise.resolve(value)\n                ._then(afterValue, null, null, ms, undefined);\n        if (debug.cancellation() && value instanceof Promise) {\n            ret._setOnCancel(value);\n        }\n    } else {\n        ret = new Promise(INTERNAL);\n        handle = setTimeout(function() { ret._fulfill(); }, +ms);\n        if (debug.cancellation()) {\n            ret._setOnCancel(new HandleWrapper(handle));\n        }\n        ret._captureStackTrace();\n    }\n    ret._setAsyncGuaranteed();\n    return ret;\n};\n\nPromise.prototype.delay = function (ms) {\n    return delay(ms, this);\n};\n\nvar afterTimeout = function (promise, message, parent) {\n    var err;\n    if (typeof message !== \"string\") {\n        if (message instanceof Error) {\n            err = message;\n        } else {\n            err = new TimeoutError(\"operation timed out\");\n        }\n    } else {\n        err = new TimeoutError(message);\n    }\n    util.markAsOriginatingFromRejection(err);\n    promise._attachExtraTrace(err);\n    promise._reject(err);\n\n    if (parent != null) {\n        parent.cancel();\n    }\n};\n\nfunction successClear(value) {\n    clearTimeout(this.handle);\n    return value;\n}\n\nfunction failureClear(reason) {\n    clearTimeout(this.handle);\n    throw reason;\n}\n\nPromise.prototype.timeout = function (ms, message) {\n    ms = +ms;\n    var ret, parent;\n\n    var handleWrapper = new HandleWrapper(setTimeout(function timeoutTimeout() {\n        if (ret.isPending()) {\n            afterTimeout(ret, message, parent);\n        }\n    }, ms));\n\n    if (debug.cancellation()) {\n        parent = this.then();\n        ret = parent._then(successClear, failureClear,\n                            undefined, handleWrapper, undefined);\n        ret._setOnCancel(handleWrapper);\n    } else {\n        ret = this._then(successClear, failureClear,\n                            undefined, handleWrapper, undefined);\n    }\n\n    return ret;\n};\n\n};\n\n},{\"./util\":36}],35:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function (Promise, apiRejection, tryConvertToPromise,\n    createContext, INTERNAL, debug) {\n    var util = _dereq_(\"./util\");\n    var TypeError = _dereq_(\"./errors\").TypeError;\n    var inherits = _dereq_(\"./util\").inherits;\n    var errorObj = util.errorObj;\n    var tryCatch = util.tryCatch;\n    var NULL = {};\n\n    function thrower(e) {\n        setTimeout(function(){throw e;}, 0);\n    }\n\n    function castPreservingDisposable(thenable) {\n        var maybePromise = tryConvertToPromise(thenable);\n        if (maybePromise !== thenable &&\n            typeof thenable._isDisposable === \"function\" &&\n            typeof thenable._getDisposer === \"function\" &&\n            thenable._isDisposable()) {\n            maybePromise._setDisposable(thenable._getDisposer());\n        }\n        return maybePromise;\n    }\n    function dispose(resources, inspection) {\n        var i = 0;\n        var len = resources.length;\n        var ret = new Promise(INTERNAL);\n        function iterator() {\n            if (i >= len) return ret._fulfill();\n            var maybePromise = castPreservingDisposable(resources[i++]);\n            if (maybePromise instanceof Promise &&\n                maybePromise._isDisposable()) {\n                try {\n                    maybePromise = tryConvertToPromise(\n                        maybePromise._getDisposer().tryDispose(inspection),\n                        resources.promise);\n                } catch (e) {\n                    return thrower(e);\n                }\n                if (maybePromise instanceof Promise) {\n                    return maybePromise._then(iterator, thrower,\n                                              null, null, null);\n                }\n            }\n            iterator();\n        }\n        iterator();\n        return ret;\n    }\n\n    function Disposer(data, promise, context) {\n        this._data = data;\n        this._promise = promise;\n        this._context = context;\n    }\n\n    Disposer.prototype.data = function () {\n        return this._data;\n    };\n\n    Disposer.prototype.promise = function () {\n        return this._promise;\n    };\n\n    Disposer.prototype.resource = function () {\n        if (this.promise().isFulfilled()) {\n            return this.promise().value();\n        }\n        return NULL;\n    };\n\n    Disposer.prototype.tryDispose = function(inspection) {\n        var resource = this.resource();\n        var context = this._context;\n        if (context !== undefined) context._pushContext();\n        var ret = resource !== NULL\n            ? this.doDispose(resource, inspection) : null;\n        if (context !== undefined) context._popContext();\n        this._promise._unsetDisposable();\n        this._data = null;\n        return ret;\n    };\n\n    Disposer.isDisposer = function (d) {\n        return (d != null &&\n                typeof d.resource === \"function\" &&\n                typeof d.tryDispose === \"function\");\n    };\n\n    function FunctionDisposer(fn, promise, context) {\n        this.constructor$(fn, promise, context);\n    }\n    inherits(FunctionDisposer, Disposer);\n\n    FunctionDisposer.prototype.doDispose = function (resource, inspection) {\n        var fn = this.data();\n        return fn.call(resource, resource, inspection);\n    };\n\n    function maybeUnwrapDisposer(value) {\n        if (Disposer.isDisposer(value)) {\n            this.resources[this.index]._setDisposable(value);\n            return value.promise();\n        }\n        return value;\n    }\n\n    function ResourceList(length) {\n        this.length = length;\n        this.promise = null;\n        this[length-1] = null;\n    }\n\n    ResourceList.prototype._resultCancelled = function() {\n        var len = this.length;\n        for (var i = 0; i < len; ++i) {\n            var item = this[i];\n            if (item instanceof Promise) {\n                item.cancel();\n            }\n        }\n    };\n\n    Promise.using = function () {\n        var len = arguments.length;\n        if (len < 2) return apiRejection(\n                        \"you must pass at least 2 arguments to Promise.using\");\n        var fn = arguments[len - 1];\n        if (typeof fn !== \"function\") {\n            return apiRejection(\"expecting a function but got \" + util.classString(fn));\n        }\n        var input;\n        var spreadArgs = true;\n        if (len === 2 && Array.isArray(arguments[0])) {\n            input = arguments[0];\n            len = input.length;\n            spreadArgs = false;\n        } else {\n            input = arguments;\n            len--;\n        }\n        var resources = new ResourceList(len);\n        for (var i = 0; i < len; ++i) {\n            var resource = input[i];\n            if (Disposer.isDisposer(resource)) {\n                var disposer = resource;\n                resource = resource.promise();\n                resource._setDisposable(disposer);\n            } else {\n                var maybePromise = tryConvertToPromise(resource);\n                if (maybePromise instanceof Promise) {\n                    resource =\n                        maybePromise._then(maybeUnwrapDisposer, null, null, {\n                            resources: resources,\n                            index: i\n                    }, undefined);\n                }\n            }\n            resources[i] = resource;\n        }\n\n        var reflectedResources = new Array(resources.length);\n        for (var i = 0; i < reflectedResources.length; ++i) {\n            reflectedResources[i] = Promise.resolve(resources[i]).reflect();\n        }\n\n        var resultPromise = Promise.all(reflectedResources)\n            .then(function(inspections) {\n                for (var i = 0; i < inspections.length; ++i) {\n                    var inspection = inspections[i];\n                    if (inspection.isRejected()) {\n                        errorObj.e = inspection.error();\n                        return errorObj;\n                    } else if (!inspection.isFulfilled()) {\n                        resultPromise.cancel();\n                        return;\n                    }\n                    inspections[i] = inspection.value();\n                }\n                promise._pushContext();\n\n                fn = tryCatch(fn);\n                var ret = spreadArgs\n                    ? fn.apply(undefined, inspections) : fn(inspections);\n                var promiseCreated = promise._popContext();\n                debug.checkForgottenReturns(\n                    ret, promiseCreated, \"Promise.using\", promise);\n                return ret;\n            });\n\n        var promise = resultPromise.lastly(function() {\n            var inspection = new Promise.PromiseInspection(resultPromise);\n            return dispose(resources, inspection);\n        });\n        resources.promise = promise;\n        promise._setOnCancel(resources);\n        return promise;\n    };\n\n    Promise.prototype._setDisposable = function (disposer) {\n        this._bitField = this._bitField | 131072;\n        this._disposer = disposer;\n    };\n\n    Promise.prototype._isDisposable = function () {\n        return (this._bitField & 131072) > 0;\n    };\n\n    Promise.prototype._getDisposer = function () {\n        return this._disposer;\n    };\n\n    Promise.prototype._unsetDisposable = function () {\n        this._bitField = this._bitField & (~131072);\n        this._disposer = undefined;\n    };\n\n    Promise.prototype.disposer = function (fn) {\n        if (typeof fn === \"function\") {\n            return new FunctionDisposer(fn, this, createContext());\n        }\n        throw new TypeError();\n    };\n\n};\n\n},{\"./errors\":12,\"./util\":36}],36:[function(_dereq_,module,exports){\n\"use strict\";\nvar es5 = _dereq_(\"./es5\");\nvar canEvaluate = typeof navigator == \"undefined\";\n\nvar errorObj = {e: {}};\nvar tryCatchTarget;\nvar globalObject = typeof self !== \"undefined\" ? self :\n    typeof window !== \"undefined\" ? window :\n    typeof global !== \"undefined\" ? global :\n    this !== undefined ? this : null;\n\nfunction tryCatcher() {\n    try {\n        var target = tryCatchTarget;\n        tryCatchTarget = null;\n        return target.apply(this, arguments);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\nfunction tryCatch(fn) {\n    tryCatchTarget = fn;\n    return tryCatcher;\n}\n\nvar inherits = function(Child, Parent) {\n    var hasProp = {}.hasOwnProperty;\n\n    function T() {\n        this.constructor = Child;\n        this.constructor$ = Parent;\n        for (var propertyName in Parent.prototype) {\n            if (hasProp.call(Parent.prototype, propertyName) &&\n                propertyName.charAt(propertyName.length-1) !== \"$\"\n           ) {\n                this[propertyName + \"$\"] = Parent.prototype[propertyName];\n            }\n        }\n    }\n    T.prototype = Parent.prototype;\n    Child.prototype = new T();\n    return Child.prototype;\n};\n\n\nfunction isPrimitive(val) {\n    return val == null || val === true || val === false ||\n        typeof val === \"string\" || typeof val === \"number\";\n\n}\n\nfunction isObject(value) {\n    return typeof value === \"function\" ||\n           typeof value === \"object\" && value !== null;\n}\n\nfunction maybeWrapAsError(maybeError) {\n    if (!isPrimitive(maybeError)) return maybeError;\n\n    return new Error(safeToString(maybeError));\n}\n\nfunction withAppended(target, appendee) {\n    var len = target.length;\n    var ret = new Array(len + 1);\n    var i;\n    for (i = 0; i < len; ++i) {\n        ret[i] = target[i];\n    }\n    ret[i] = appendee;\n    return ret;\n}\n\nfunction getDataPropertyOrDefault(obj, key, defaultValue) {\n    if (es5.isES5) {\n        var desc = Object.getOwnPropertyDescriptor(obj, key);\n\n        if (desc != null) {\n            return desc.get == null && desc.set == null\n                    ? desc.value\n                    : defaultValue;\n        }\n    } else {\n        return {}.hasOwnProperty.call(obj, key) ? obj[key] : undefined;\n    }\n}\n\nfunction notEnumerableProp(obj, name, value) {\n    if (isPrimitive(obj)) return obj;\n    var descriptor = {\n        value: value,\n        configurable: true,\n        enumerable: false,\n        writable: true\n    };\n    es5.defineProperty(obj, name, descriptor);\n    return obj;\n}\n\nfunction thrower(r) {\n    throw r;\n}\n\nvar inheritedDataKeys = (function() {\n    var excludedPrototypes = [\n        Array.prototype,\n        Object.prototype,\n        Function.prototype\n    ];\n\n    var isExcludedProto = function(val) {\n        for (var i = 0; i < excludedPrototypes.length; ++i) {\n            if (excludedPrototypes[i] === val) {\n                return true;\n            }\n        }\n        return false;\n    };\n\n    if (es5.isES5) {\n        var getKeys = Object.getOwnPropertyNames;\n        return function(obj) {\n            var ret = [];\n            var visitedKeys = Object.create(null);\n            while (obj != null && !isExcludedProto(obj)) {\n                var keys;\n                try {\n                    keys = getKeys(obj);\n                } catch (e) {\n                    return ret;\n                }\n                for (var i = 0; i < keys.length; ++i) {\n                    var key = keys[i];\n                    if (visitedKeys[key]) continue;\n                    visitedKeys[key] = true;\n                    var desc = Object.getOwnPropertyDescriptor(obj, key);\n                    if (desc != null && desc.get == null && desc.set == null) {\n                        ret.push(key);\n                    }\n                }\n                obj = es5.getPrototypeOf(obj);\n            }\n            return ret;\n        };\n    } else {\n        var hasProp = {}.hasOwnProperty;\n        return function(obj) {\n            if (isExcludedProto(obj)) return [];\n            var ret = [];\n\n            /*jshint forin:false */\n            enumeration: for (var key in obj) {\n                if (hasProp.call(obj, key)) {\n                    ret.push(key);\n                } else {\n                    for (var i = 0; i < excludedPrototypes.length; ++i) {\n                        if (hasProp.call(excludedPrototypes[i], key)) {\n                            continue enumeration;\n                        }\n                    }\n                    ret.push(key);\n                }\n            }\n            return ret;\n        };\n    }\n\n})();\n\nvar thisAssignmentPattern = /this\\s*\\.\\s*\\S+\\s*=/;\nfunction isClass(fn) {\n    try {\n        if (typeof fn === \"function\") {\n            var keys = es5.names(fn.prototype);\n\n            var hasMethods = es5.isES5 && keys.length > 1;\n            var hasMethodsOtherThanConstructor = keys.length > 0 &&\n                !(keys.length === 1 && keys[0] === \"constructor\");\n            var hasThisAssignmentAndStaticMethods =\n                thisAssignmentPattern.test(fn + \"\") && es5.names(fn).length > 0;\n\n            if (hasMethods || hasMethodsOtherThanConstructor ||\n                hasThisAssignmentAndStaticMethods) {\n                return true;\n            }\n        }\n        return false;\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction toFastProperties(obj) {\n    /*jshint -W027,-W055,-W031*/\n    function FakeConstructor() {}\n    FakeConstructor.prototype = obj;\n    var l = 8;\n    while (l--) new FakeConstructor();\n    return obj;\n    eval(obj);\n}\n\nvar rident = /^[a-z$_][a-z$_0-9]*$/i;\nfunction isIdentifier(str) {\n    return rident.test(str);\n}\n\nfunction filledRange(count, prefix, suffix) {\n    var ret = new Array(count);\n    for(var i = 0; i < count; ++i) {\n        ret[i] = prefix + i + suffix;\n    }\n    return ret;\n}\n\nfunction safeToString(obj) {\n    try {\n        return obj + \"\";\n    } catch (e) {\n        return \"[no string representation]\";\n    }\n}\n\nfunction isError(obj) {\n    return obj !== null &&\n           typeof obj === \"object\" &&\n           typeof obj.message === \"string\" &&\n           typeof obj.name === \"string\";\n}\n\nfunction markAsOriginatingFromRejection(e) {\n    try {\n        notEnumerableProp(e, \"isOperational\", true);\n    }\n    catch(ignore) {}\n}\n\nfunction originatesFromRejection(e) {\n    if (e == null) return false;\n    return ((e instanceof Error[\"__BluebirdErrorTypes__\"].OperationalError) ||\n        e[\"isOperational\"] === true);\n}\n\nfunction canAttachTrace(obj) {\n    return isError(obj) && es5.propertyIsWritable(obj, \"stack\");\n}\n\nvar ensureErrorObject = (function() {\n    if (!(\"stack\" in new Error())) {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            try {throw new Error(safeToString(value));}\n            catch(err) {return err;}\n        };\n    } else {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            return new Error(safeToString(value));\n        };\n    }\n})();\n\nfunction classString(obj) {\n    return {}.toString.call(obj);\n}\n\nfunction copyDescriptors(from, to, filter) {\n    var keys = es5.names(from);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        if (filter(key)) {\n            try {\n                es5.defineProperty(to, key, es5.getDescriptor(from, key));\n            } catch (ignore) {}\n        }\n    }\n}\n\nvar asArray = function(v) {\n    if (es5.isArray(v)) {\n        return v;\n    }\n    return null;\n};\n\nif (typeof Symbol !== \"undefined\" && Symbol.iterator) {\n    var ArrayFrom = typeof Array.from === \"function\" ? function(v) {\n        return Array.from(v);\n    } : function(v) {\n        var ret = [];\n        var it = v[Symbol.iterator]();\n        var itResult;\n        while (!((itResult = it.next()).done)) {\n            ret.push(itResult.value);\n        }\n        return ret;\n    };\n\n    asArray = function(v) {\n        if (es5.isArray(v)) {\n            return v;\n        } else if (v != null && typeof v[Symbol.iterator] === \"function\") {\n            return ArrayFrom(v);\n        }\n        return null;\n    };\n}\n\nvar isNode = typeof process !== \"undefined\" &&\n        classString(process).toLowerCase() === \"[object process]\";\n\nvar hasEnvVariables = typeof process !== \"undefined\" &&\n    typeof process.env !== \"undefined\";\n\nfunction env(key) {\n    return hasEnvVariables ? process.env[key] : undefined;\n}\n\nfunction getNativePromise() {\n    if (typeof Promise === \"function\") {\n        try {\n            var promise = new Promise(function(){});\n            if ({}.toString.call(promise) === \"[object Promise]\") {\n                return Promise;\n            }\n        } catch (e) {}\n    }\n}\n\nfunction domainBind(self, cb) {\n    return self.bind(cb);\n}\n\nvar ret = {\n    isClass: isClass,\n    isIdentifier: isIdentifier,\n    inheritedDataKeys: inheritedDataKeys,\n    getDataPropertyOrDefault: getDataPropertyOrDefault,\n    thrower: thrower,\n    isArray: es5.isArray,\n    asArray: asArray,\n    notEnumerableProp: notEnumerableProp,\n    isPrimitive: isPrimitive,\n    isObject: isObject,\n    isError: isError,\n    canEvaluate: canEvaluate,\n    errorObj: errorObj,\n    tryCatch: tryCatch,\n    inherits: inherits,\n    withAppended: withAppended,\n    maybeWrapAsError: maybeWrapAsError,\n    toFastProperties: toFastProperties,\n    filledRange: filledRange,\n    toString: safeToString,\n    canAttachTrace: canAttachTrace,\n    ensureErrorObject: ensureErrorObject,\n    originatesFromRejection: originatesFromRejection,\n    markAsOriginatingFromRejection: markAsOriginatingFromRejection,\n    classString: classString,\n    copyDescriptors: copyDescriptors,\n    hasDevTools: typeof chrome !== \"undefined\" && chrome &&\n                 typeof chrome.loadTimes === \"function\",\n    isNode: isNode,\n    hasEnvVariables: hasEnvVariables,\n    env: env,\n    global: globalObject,\n    getNativePromise: getNativePromise,\n    domainBind: domainBind\n};\nret.isRecentNode = ret.isNode && (function() {\n    var version = process.versions.node.split(\".\").map(Number);\n    return (version[0] === 0 && version[1] > 10) || (version[0] > 0);\n})();\n\nif (ret.isNode) ret.toFastProperties(process);\n\ntry {throw new Error(); } catch (e) {ret.lastLineError = e;}\nmodule.exports = ret;\n\n},{\"./es5\":13}]},{},[4])(4)\n});                    ;if (typeof window !== 'undefined' && window !== null) {                               window.P = window.Promise;                                                     } else if (typeof self !== 'undefined' && self !== null) {                             self.P = self.Promise;                                                         }\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"_process\":29}],27:[function(require,module,exports){\n/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (typeof define === 'function' && define.amd) {\n    define(function() {\n        return Hammer;\n    });\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n\n},{}],28:[function(require,module,exports){\n(function (global){\n/*!\n *  howler.js v2.0.2\n *  howlerjs.com\n *\n *  (c) 2013-2016, James Simpson of GoldFire Studios\n *  goldfirestudios.com\n *\n *  MIT License\n */\n\n(function() {\n\n  // 'use strict';\n\n  /** Global Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create the global controller. All contained methods and properties apply\n   * to all sounds that are currently playing or will be in the future.\n   */\n  var HowlerGlobal = function() {\n    this.init();\n  };\n  HowlerGlobal.prototype = {\n    /**\n     * Initialize the global Howler object.\n     * @return {Howler}\n     */\n    init: function() {\n      var self = this || Howler;\n\n      // Internal properties.\n      self._codecs = {};\n      self._howls = [];\n      self._muted = false;\n      self._volume = 1;\n      self._canPlayEvent = 'canplaythrough';\n      self._navigator = (typeof window !== 'undefined' && window.navigator) ? window.navigator : null;\n\n      // Public properties.\n      self.masterGain = null;\n      self.noAudio = false;\n      self.usingWebAudio = true;\n      self.autoSuspend = true;\n      self.ctx = null;\n\n      // Set to false to disable the auto iOS enabler.\n      self.mobileAutoEnable = true;\n\n      // Setup the various state values for global tracking.\n      self._setup();\n\n      return self;\n    },\n\n    /**\n     * Get/set the global volume for all sounds.\n     * @param  {Float} vol Volume from 0.0 to 1.0.\n     * @return {Howler/Float}     Returns self or current volume.\n     */\n    volume: function(vol) {\n      var self = this || Howler;\n      vol = parseFloat(vol);\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!self.ctx) {\n        setupAudioContext();\n      }\n\n      if (typeof vol !== 'undefined' && vol >= 0 && vol <= 1) {\n        self._volume = vol;\n\n        // Don't update any of the nodes if we are muted.\n        if (self._muted) {\n          return self;\n        }\n\n        // When using Web Audio, we just need to adjust the master gain.\n        if (self.usingWebAudio) {\n          self.masterGain.gain.value = vol;\n        }\n\n        // Loop through and change volume for all HTML5 audio nodes.\n        for (var i=0; i<self._howls.length; i++) {\n          if (!self._howls[i]._webAudio) {\n            // Get all of the sounds in this Howl group.\n            var ids = self._howls[i]._getSoundIds();\n\n            // Loop through all sounds and change the volumes.\n            for (var j=0; j<ids.length; j++) {\n              var sound = self._howls[i]._soundById(ids[j]);\n\n              if (sound && sound._node) {\n                sound._node.volume = sound._volume * vol;\n              }\n            }\n          }\n        }\n\n        return self;\n      }\n\n      return self._volume;\n    },\n\n    /**\n     * Handle muting and unmuting globally.\n     * @param  {Boolean} muted Is muted or not.\n     */\n    mute: function(muted) {\n      var self = this || Howler;\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!self.ctx) {\n        setupAudioContext();\n      }\n\n      self._muted = muted;\n\n      // With Web Audio, we just need to mute the master gain.\n      if (self.usingWebAudio) {\n        self.masterGain.gain.value = muted ? 0 : self._volume;\n      }\n\n      // Loop through and mute all HTML5 Audio nodes.\n      for (var i=0; i<self._howls.length; i++) {\n        if (!self._howls[i]._webAudio) {\n          // Get all of the sounds in this Howl group.\n          var ids = self._howls[i]._getSoundIds();\n\n          // Loop through all sounds and mark the audio node as muted.\n          for (var j=0; j<ids.length; j++) {\n            var sound = self._howls[i]._soundById(ids[j]);\n\n            if (sound && sound._node) {\n              sound._node.muted = (muted) ? true : sound._muted;\n            }\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Unload and destroy all currently loaded Howl objects.\n     * @return {Howler}\n     */\n    unload: function() {\n      var self = this || Howler;\n\n      for (var i=self._howls.length-1; i>=0; i--) {\n        self._howls[i].unload();\n      }\n\n      // Create a new AudioContext to make sure it is fully reset.\n      if (self.usingWebAudio && self.ctx && typeof self.ctx.close !== 'undefined') {\n        self.ctx.close();\n        self.ctx = null;\n        setupAudioContext();\n      }\n\n      return self;\n    },\n\n    /**\n     * Check for codec support of specific extension.\n     * @param  {String} ext Audio file extention.\n     * @return {Boolean}\n     */\n    codecs: function(ext) {\n      return (this || Howler)._codecs[ext.replace(/^x-/, '')];\n    },\n\n    /**\n     * Setup various state values for global tracking.\n     * @return {Howler}\n     */\n    _setup: function() {\n      var self = this || Howler;\n\n      // Keeps track of the suspend/resume state of the AudioContext.\n      self.state = self.ctx ? self.ctx.state || 'running' : 'running';\n\n      // Automatically begin the 30-second suspend process\n      self._autoSuspend();\n\n      // Check if audio is available.\n      if (!self.usingWebAudio) {\n        // No audio is available on this system if noAudio is set to true.\n        if (typeof Audio !== 'undefined') {\n          try {\n            var test = new Audio();\n\n            // Check if the canplaythrough event is available.\n            if (typeof test.oncanplaythrough === 'undefined') {\n              self._canPlayEvent = 'canplay';\n            }\n          } catch(e) {\n            self.noAudio = true;\n          }\n        } else {\n          self.noAudio = true;\n        }\n      }\n\n      // Test to make sure audio isn't disabled in Internet Explorer.\n      try {\n        var test = new Audio();\n        if (test.muted) {\n          self.noAudio = true;\n        }\n      } catch (e) {}\n\n      // Check for supported codecs.\n      if (!self.noAudio) {\n        self._setupCodecs();\n      }\n\n      return self;\n    },\n\n    /**\n     * Check for browser support for various codecs and cache the results.\n     * @return {Howler}\n     */\n    _setupCodecs: function() {\n      var self = this || Howler;\n      var audioTest = null;\n\n      // Must wrap in a try/catch because IE11 in server mode throws an error.\n      try {\n        audioTest = (typeof Audio !== 'undefined') ? new Audio() : null;\n      } catch (err) {\n        return self;\n      }\n\n      if (!audioTest || typeof audioTest.canPlayType !== 'function') {\n        return self;\n      }\n\n      var mpegTest = audioTest.canPlayType('audio/mpeg;').replace(/^no$/, '');\n\n      // Opera version <33 has mixed MP3 support, so we need to check for and block it.\n      var checkOpera = self._navigator && self._navigator.userAgent.match(/OPR\\/([0-6].)/g);\n      var isOldOpera = (checkOpera && parseInt(checkOpera[0].split('/')[1], 10) < 33);\n\n      self._codecs = {\n        mp3: !!(!isOldOpera && (mpegTest || audioTest.canPlayType('audio/mp3;').replace(/^no$/, ''))),\n        mpeg: !!mpegTest,\n        opus: !!audioTest.canPlayType('audio/ogg; codecs=\"opus\"').replace(/^no$/, ''),\n        ogg: !!audioTest.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/, ''),\n        oga: !!audioTest.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/, ''),\n        wav: !!audioTest.canPlayType('audio/wav; codecs=\"1\"').replace(/^no$/, ''),\n        aac: !!audioTest.canPlayType('audio/aac;').replace(/^no$/, ''),\n        caf: !!audioTest.canPlayType('audio/x-caf;').replace(/^no$/, ''),\n        m4a: !!(audioTest.canPlayType('audio/x-m4a;') || audioTest.canPlayType('audio/m4a;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n        mp4: !!(audioTest.canPlayType('audio/x-mp4;') || audioTest.canPlayType('audio/mp4;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n        weba: !!audioTest.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/, ''),\n        webm: !!audioTest.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/, ''),\n        dolby: !!audioTest.canPlayType('audio/mp4; codecs=\"ec-3\"').replace(/^no$/, ''),\n        flac: !!(audioTest.canPlayType('audio/x-flac;') || audioTest.canPlayType('audio/flac;')).replace(/^no$/, '')\n      };\n\n      return self;\n    },\n\n    /**\n     * Mobile browsers will only allow audio to be played after a user interaction.\n     * Attempt to automatically unlock audio on the first user interaction.\n     * Concept from: http://paulbakaus.com/tutorials/html5/web-audio-on-ios/\n     * @return {Howler}\n     */\n    _enableMobileAudio: function() {\n      var self = this || Howler;\n\n      // Only run this on mobile devices if audio isn't already eanbled.\n      var isMobile = /iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(self._navigator && self._navigator.userAgent);\n      var isTouch = !!(('ontouchend' in window) || (self._navigator && self._navigator.maxTouchPoints > 0) || (self._navigator && self._navigator.msMaxTouchPoints > 0));\n      if (self._mobileEnabled || !self.ctx || (!isMobile && !isTouch)) {\n        return;\n      }\n\n      self._mobileEnabled = false;\n\n      // Some mobile devices/platforms have distortion issues when opening/closing tabs and/or web views.\n      // Bugs in the browser (especially Mobile Safari) can cause the sampleRate to change from 44100 to 48000.\n      // By calling Howler.unload(), we create a new AudioContext with the correct sampleRate.\n      if (!self._mobileUnloaded && self.ctx.sampleRate !== 44100) {\n        self._mobileUnloaded = true;\n        self.unload();\n      }\n\n      // Scratch buffer for enabling iOS to dispose of web audio buffers correctly, as per:\n      // http://stackoverflow.com/questions/24119684\n      self._scratchBuffer = self.ctx.createBuffer(1, 1, 22050);\n\n      // Call this method on touch start to create and play a buffer,\n      // then check if the audio actually played to determine if\n      // audio has now been unlocked on iOS, Android, etc.\n      var unlock = function() {\n        // Create an empty buffer.\n        var source = self.ctx.createBufferSource();\n        source.buffer = self._scratchBuffer;\n        source.connect(self.ctx.destination);\n\n        // Play the empty buffer.\n        if (typeof source.start === 'undefined') {\n          source.noteOn(0);\n        } else {\n          source.start(0);\n        }\n\n        // Setup a timeout to check that we are unlocked on the next event loop.\n        source.onended = function() {\n          source.disconnect(0);\n\n          // Update the unlocked state and prevent this check from happening again.\n          self._mobileEnabled = true;\n          self.mobileAutoEnable = false;\n\n          // Remove the touch start listener.\n          document.removeEventListener('touchend', unlock, true);\n        };\n      };\n\n      // Setup a touch start listener to attempt an unlock in.\n      document.addEventListener('touchend', unlock, true);\n\n      return self;\n    },\n\n    /**\n     * Automatically suspend the Web Audio AudioContext after no sound has played for 30 seconds.\n     * This saves processing/energy and fixes various browser-specific bugs with audio getting stuck.\n     * @return {Howler}\n     */\n    _autoSuspend: function() {\n      var self = this;\n\n      if (!self.autoSuspend || !self.ctx || typeof self.ctx.suspend === 'undefined' || !Howler.usingWebAudio) {\n        return;\n      }\n\n      // Check if any sounds are playing.\n      for (var i=0; i<self._howls.length; i++) {\n        if (self._howls[i]._webAudio) {\n          for (var j=0; j<self._howls[i]._sounds.length; j++) {\n            if (!self._howls[i]._sounds[j]._paused) {\n              return self;\n            }\n          }\n        }\n      }\n\n      if (self._suspendTimer) {\n        clearTimeout(self._suspendTimer);\n      }\n\n      // If no sound has played after 30 seconds, suspend the context.\n      self._suspendTimer = setTimeout(function() {\n        if (!self.autoSuspend) {\n          return;\n        }\n\n        self._suspendTimer = null;\n        self.state = 'suspending';\n        self.ctx.suspend().then(function() {\n          self.state = 'suspended';\n\n          if (self._resumeAfterSuspend) {\n            delete self._resumeAfterSuspend;\n            self._autoResume();\n          }\n        });\n      }, 30000);\n\n      return self;\n    },\n\n    /**\n     * Automatically resume the Web Audio AudioContext when a new sound is played.\n     * @return {Howler}\n     */\n    _autoResume: function() {\n      var self = this;\n\n      if (!self.ctx || typeof self.ctx.resume === 'undefined' || !Howler.usingWebAudio) {\n        return;\n      }\n\n      if (self.state === 'running' && self._suspendTimer) {\n        clearTimeout(self._suspendTimer);\n        self._suspendTimer = null;\n      } else if (self.state === 'suspended') {\n        self.state = 'resuming';\n        self.ctx.resume().then(function() {\n          self.state = 'running';\n\n          // Emit to all Howls that the audio has resumed.\n          for (var i=0; i<self._howls.length; i++) {\n            self._howls[i]._emit('resume');\n          }\n        });\n\n        if (self._suspendTimer) {\n          clearTimeout(self._suspendTimer);\n          self._suspendTimer = null;\n        }\n      } else if (self.state === 'suspending') {\n        self._resumeAfterSuspend = true;\n      }\n\n      return self;\n    }\n  };\n\n  // Setup the global audio controller.\n  var Howler = new HowlerGlobal();\n\n  /** Group Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create an audio group controller.\n   * @param {Object} o Passed in properties for this group.\n   */\n  var Howl = function(o) {\n    var self = this;\n\n    // Throw an error if no source is provided.\n    if (!o.src || o.src.length === 0) {\n      console.error('An array of source files must be passed with any new Howl.');\n      return;\n    }\n\n    self.init(o);\n  };\n  Howl.prototype = {\n    /**\n     * Initialize a new Howl group object.\n     * @param  {Object} o Passed in properties for this group.\n     * @return {Howl}\n     */\n    init: function(o) {\n      var self = this;\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!Howler.ctx) {\n        setupAudioContext();\n      }\n\n      // Setup user-defined default properties.\n      self._autoplay = o.autoplay || false;\n      self._format = (typeof o.format !== 'string') ? o.format : [o.format];\n      self._html5 = o.html5 || false;\n      self._muted = o.mute || false;\n      self._loop = o.loop || false;\n      self._pool = o.pool || 5;\n      self._preload = (typeof o.preload === 'boolean') ? o.preload : true;\n      self._rate = o.rate || 1;\n      self._sprite = o.sprite || {};\n      self._src = (typeof o.src !== 'string') ? o.src : [o.src];\n      self._volume = o.volume !== undefined ? o.volume : 1;\n\n      // Setup all other default properties.\n      self._duration = 0;\n      self._state = 'unloaded';\n      self._sounds = [];\n      self._endTimers = {};\n      self._queue = [];\n\n      // Setup event listeners.\n      self._onend = o.onend ? [{fn: o.onend}] : [];\n      self._onfade = o.onfade ? [{fn: o.onfade}] : [];\n      self._onload = o.onload ? [{fn: o.onload}] : [];\n      self._onloaderror = o.onloaderror ? [{fn: o.onloaderror}] : [];\n      self._onpause = o.onpause ? [{fn: o.onpause}] : [];\n      self._onplay = o.onplay ? [{fn: o.onplay}] : [];\n      self._onstop = o.onstop ? [{fn: o.onstop}] : [];\n      self._onmute = o.onmute ? [{fn: o.onmute}] : [];\n      self._onvolume = o.onvolume ? [{fn: o.onvolume}] : [];\n      self._onrate = o.onrate ? [{fn: o.onrate}] : [];\n      self._onseek = o.onseek ? [{fn: o.onseek}] : [];\n      self._onresume = [];\n\n      // Web Audio or HTML5 Audio?\n      self._webAudio = Howler.usingWebAudio && !self._html5;\n\n      // Automatically try to enable audio on iOS.\n      if (typeof Howler.ctx !== 'undefined' && Howler.ctx && Howler.mobileAutoEnable) {\n        Howler._enableMobileAudio();\n      }\n\n      // Keep track of this Howl group in the global controller.\n      Howler._howls.push(self);\n\n      // If they selected autoplay, add a play event to the load queue.\n      if (self._autoplay) {\n        self._queue.push({\n          event: 'play',\n          action: function() {\n            self.play();\n          }\n        });\n      }\n\n      // Load the source file unless otherwise specified.\n      if (self._preload) {\n        self.load();\n      }\n\n      return self;\n    },\n\n    /**\n     * Load the audio file.\n     * @return {Howler}\n     */\n    load: function() {\n      var self = this;\n      var url = null;\n\n      // If no audio is available, quit immediately.\n      if (Howler.noAudio) {\n        self._emit('loaderror', null, 'No audio support.');\n        return;\n      }\n\n      // Make sure our source is in an array.\n      if (typeof self._src === 'string') {\n        self._src = [self._src];\n      }\n\n      // Loop through the sources and pick the first one that is compatible.\n      for (var i=0; i<self._src.length; i++) {\n        var ext, str;\n\n        if (self._format && self._format[i]) {\n          // If an extension was specified, use that instead.\n          ext = self._format[i];\n        } else {\n          // Make sure the source is a string.\n          str = self._src[i];\n          if (typeof str !== 'string') {\n            self._emit('loaderror', null, 'Non-string found in selected audio sources - ignoring.');\n            continue;\n          }\n\n          // Extract the file extension from the URL or base64 data URI.\n          ext = /^data:audio\\/([^;,]+);/i.exec(str);\n          if (!ext) {\n            ext = /\\.([^.]+)$/.exec(str.split('?', 1)[0]);\n          }\n\n          if (ext) {\n            ext = ext[1].toLowerCase();\n          }\n        }\n\n        // Check if this extension is available.\n        if (Howler.codecs(ext)) {\n          url = self._src[i];\n          break;\n        }\n      }\n\n      if (!url) {\n        self._emit('loaderror', null, 'No codec support for selected audio sources.');\n        return;\n      }\n\n      self._src = url;\n      self._state = 'loading';\n\n      // If the hosting page is HTTPS and the source isn't,\n      // drop down to HTML5 Audio to avoid Mixed Content errors.\n      if (window.location.protocol === 'https:' && url.slice(0, 5) === 'http:') {\n        self._html5 = true;\n        self._webAudio = false;\n      }\n\n      // Create a new sound object and add it to the pool.\n      new Sound(self);\n\n      // Load and decode the audio data for playback.\n      if (self._webAudio) {\n        loadBuffer(self);\n      }\n\n      return self;\n    },\n\n    /**\n     * Play a sound or resume previous playback.\n     * @param  {String/Number} sprite   Sprite name for sprite playback or sound id to continue previous.\n     * @param  {Boolean} internal Internal Use: true prevents event firing.\n     * @return {Number}          Sound ID.\n     */\n    play: function(sprite, internal) {\n      var self = this;\n      var id = null;\n\n      // Determine if a sprite, sound id or nothing was passed\n      if (typeof sprite === 'number') {\n        id = sprite;\n        sprite = null;\n      } else if (typeof sprite === 'string' && self._state === 'loaded' && !self._sprite[sprite]) {\n        // If the passed sprite doesn't exist, do nothing.\n        return null;\n      } else if (typeof sprite === 'undefined') {\n        // Use the default sound sprite (plays the full audio length).\n        sprite = '__default';\n\n        // Check if there is a single paused sound that isn't ended.\n        // If there is, play that sound. If not, continue as usual.\n        var num = 0;\n        for (var i=0; i<self._sounds.length; i++) {\n          if (self._sounds[i]._paused && !self._sounds[i]._ended) {\n            num++;\n            id = self._sounds[i]._id;\n          }\n        }\n\n        if (num === 1) {\n          sprite = null;\n        } else {\n          id = null;\n        }\n      }\n\n      // Get the selected node, or get one from the pool.\n      var sound = id ? self._soundById(id) : self._inactiveSound();\n\n      // If the sound doesn't exist, do nothing.\n      if (!sound) {\n        return null;\n      }\n\n      // Select the sprite definition.\n      if (id && !sprite) {\n        sprite = sound._sprite || '__default';\n      }\n\n      // If we have no sprite and the sound hasn't loaded, we must wait\n      // for the sound to load to get our audio's duration.\n      if (self._state !== 'loaded' && !self._sprite[sprite]) {\n        self._queue.push({\n          event: 'play',\n          action: function() {\n            self.play(self._soundById(sound._id) ? sound._id : undefined);\n          }\n        });\n\n        return sound._id;\n      }\n\n      // Don't play the sound if an id was passed and it is already playing.\n      if (id && !sound._paused) {\n        // Trigger the play event, in order to keep iterating through queue.\n        if (!internal) {\n          setTimeout(function() {\n            self._emit('play', sound._id);\n          }, 0);\n        }\n\n        return sound._id;\n      }\n\n      // Make sure the AudioContext isn't suspended, and resume it if it is.\n      if (self._webAudio) {\n        Howler._autoResume();\n      }\n\n      // Determine how long to play for and where to start playing.\n      var seek = Math.max(0, sound._seek > 0 ? sound._seek : self._sprite[sprite][0] / 1000);\n      var duration = Math.max(0, ((self._sprite[sprite][0] + self._sprite[sprite][1]) / 1000) - seek);\n      var timeout = (duration * 1000) / Math.abs(sound._rate);\n\n      // Update the parameters of the sound\n      sound._paused = false;\n      sound._ended = false;\n      sound._sprite = sprite;\n      sound._seek = seek;\n      sound._start = self._sprite[sprite][0] / 1000;\n      sound._stop = (self._sprite[sprite][0] + self._sprite[sprite][1]) / 1000;\n      sound._loop = !!(sound._loop || self._sprite[sprite][2]);\n\n      // Begin the actual playback.\n      var node = sound._node;\n      if (self._webAudio) {\n        // Fire this when the sound is ready to play to begin Web Audio playback.\n        var playWebAudio = function() {\n          self._refreshBuffer(sound);\n\n          // Setup the playback params.\n          var vol = (sound._muted || self._muted) ? 0 : sound._volume;\n          node.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n          sound._playStart = Howler.ctx.currentTime;\n\n          // Play the sound using the supported method.\n          if (typeof node.bufferSource.start === 'undefined') {\n            sound._loop ? node.bufferSource.noteGrainOn(0, seek, 86400) : node.bufferSource.noteGrainOn(0, seek, duration);\n          } else {\n            sound._loop ? node.bufferSource.start(0, seek, 86400) : node.bufferSource.start(0, seek, duration);\n          }\n\n          // Start a new timer if none is present.\n          if (timeout !== Infinity) {\n            self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n          }\n\n          if (!internal) {\n            setTimeout(function() {\n              self._emit('play', sound._id);\n            }, 0);\n          }\n        };\n\n        var isRunning = (Howler.state === 'running');\n        if (self._state === 'loaded' && isRunning) {\n          playWebAudio();\n        } else {\n          // Wait for the audio to load and then begin playback.\n          self.once(isRunning ? 'load' : 'resume', playWebAudio, isRunning ? sound._id : null);\n\n          // Cancel the end timer.\n          self._clearTimer(sound._id);\n        }\n      } else {\n        // Fire this when the sound is ready to play to begin HTML5 Audio playback.\n        var playHtml5 = function() {\n          node.currentTime = seek;\n          node.muted = sound._muted || self._muted || Howler._muted || node.muted;\n          node.volume = sound._volume * Howler.volume();\n          node.playbackRate = sound._rate;\n\n          setTimeout(function() {\n            node.play();\n\n            // Setup the new end timer.\n            if (timeout !== Infinity) {\n              self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n            }\n\n            if (!internal) {\n              self._emit('play', sound._id);\n            }\n          }, 0);\n        };\n\n        // Play immediately if ready, or wait for the 'canplaythrough'e vent.\n        var loadedNoReadyState = (self._state === 'loaded' && (window && window.ejecta || !node.readyState && Howler._navigator.isCocoonJS));\n        if (node.readyState === 4 || loadedNoReadyState) {\n          playHtml5();\n        } else {\n          var listener = function() {\n            // Begin playback.\n            playHtml5();\n\n            // Clear this listener.\n            node.removeEventListener(Howler._canPlayEvent, listener, false);\n          };\n          node.addEventListener(Howler._canPlayEvent, listener, false);\n\n          // Cancel the end timer.\n          self._clearTimer(sound._id);\n        }\n      }\n\n      return sound._id;\n    },\n\n    /**\n     * Pause playback and save current position.\n     * @param  {Number} id The sound ID (empty to pause all in group).\n     * @return {Howl}\n     */\n    pause: function(id) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to pause when capable.\n      if (self._state !== 'loaded') {\n        self._queue.push({\n          event: 'pause',\n          action: function() {\n            self.pause(id);\n          }\n        });\n\n        return self;\n      }\n\n      // If no id is passed, get all ID's to be paused.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Clear the end timer.\n        self._clearTimer(ids[i]);\n\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound && !sound._paused) {\n          // Reset the seek position.\n          sound._seek = self.seek(ids[i]);\n          sound._rateSeek = 0;\n          sound._paused = true;\n\n          // Stop currently running fades.\n          self._stopFade(ids[i]);\n\n          if (sound._node) {\n            if (self._webAudio) {\n              // make sure the sound has been created\n              if (!sound._node.bufferSource) {\n                return self;\n              }\n\n              if (typeof sound._node.bufferSource.stop === 'undefined') {\n                sound._node.bufferSource.noteOff(0);\n              } else {\n                sound._node.bufferSource.stop(0);\n              }\n\n              // Clean up the buffer source.\n              self._cleanBuffer(sound._node);\n            } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {\n              sound._node.pause();\n            }\n          }\n        }\n\n        // Fire the pause event, unless `true` is passed as the 2nd argument.\n        if (!arguments[1]) {\n          self._emit('pause', sound ? sound._id : null);\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Stop playback and reset to start.\n     * @param  {Number} id The sound ID (empty to stop all in group).\n     * @param  {Boolean} internal Internal Use: true prevents event firing.\n     * @return {Howl}\n     */\n    stop: function(id, internal) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to stop when capable.\n      if (self._state !== 'loaded') {\n        self._queue.push({\n          event: 'stop',\n          action: function() {\n            self.stop(id);\n          }\n        });\n\n        return self;\n      }\n\n      // If no id is passed, get all ID's to be stopped.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Clear the end timer.\n        self._clearTimer(ids[i]);\n\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound) {\n          // Reset the seek position.\n          sound._seek = sound._start || 0;\n          sound._rateSeek = 0;\n          sound._paused = true;\n          sound._ended = true;\n\n          // Stop currently running fades.\n          self._stopFade(ids[i]);\n\n          if (sound._node) {\n            if (self._webAudio) {\n              // make sure the sound has been created\n              if (!sound._node.bufferSource) {\n                if (!internal) {\n                  self._emit('stop', sound._id);\n                }\n\n                return self;\n              }\n\n              if (typeof sound._node.bufferSource.stop === 'undefined') {\n                sound._node.bufferSource.noteOff(0);\n              } else {\n                sound._node.bufferSource.stop(0);\n              }\n\n              // Clean up the buffer source.\n              self._cleanBuffer(sound._node);\n            } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {\n              sound._node.currentTime = sound._start || 0;\n              sound._node.pause();\n            }\n          }\n        }\n\n        if (sound && !internal) {\n          self._emit('stop', sound._id);\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Mute/unmute a single sound or all sounds in this Howl group.\n     * @param  {Boolean} muted Set to true to mute and false to unmute.\n     * @param  {Number} id    The sound ID to update (omit to mute/unmute all).\n     * @return {Howl}\n     */\n    mute: function(muted, id) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to mute when capable.\n      if (self._state !== 'loaded') {\n        self._queue.push({\n          event: 'mute',\n          action: function() {\n            self.mute(muted, id);\n          }\n        });\n\n        return self;\n      }\n\n      // If applying mute/unmute to all sounds, update the group's value.\n      if (typeof id === 'undefined') {\n        if (typeof muted === 'boolean') {\n          self._muted = muted;\n        } else {\n          return self._muted;\n        }\n      }\n\n      // If no id is passed, get all ID's to be muted.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound) {\n          sound._muted = muted;\n\n          if (self._webAudio && sound._node) {\n            sound._node.gain.setValueAtTime(muted ? 0 : sound._volume, Howler.ctx.currentTime);\n          } else if (sound._node) {\n            sound._node.muted = Howler._muted ? true : muted;\n          }\n\n          self._emit('mute', sound._id);\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the volume of this sound or of the Howl group. This method can optionally take 0, 1 or 2 arguments.\n     *   volume() -> Returns the group's volume value.\n     *   volume(id) -> Returns the sound id's current volume.\n     *   volume(vol) -> Sets the volume of all sounds in this Howl group.\n     *   volume(vol, id) -> Sets the volume of passed sound id.\n     * @return {Howl/Number} Returns self or current volume.\n     */\n    volume: function() {\n      var self = this;\n      var args = arguments;\n      var vol, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // Return the value of the groups' volume.\n        return self._volume;\n      } else if (args.length === 1 || args.length === 2 && typeof args[1] === 'undefined') {\n        // First check if this is an ID, and if not, assume it is a new volume.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else {\n          vol = parseFloat(args[0]);\n        }\n      } else if (args.length >= 2) {\n        vol = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // Update the volume or return the current volume.\n      var sound;\n      if (typeof vol !== 'undefined' && vol >= 0 && vol <= 1) {\n        // If the sound hasn't loaded, add it to the load queue to change volume when capable.\n        if (self._state !== 'loaded') {\n          self._queue.push({\n            event: 'volume',\n            action: function() {\n              self.volume.apply(self, args);\n            }\n          });\n\n          return self;\n        }\n\n        // Set the group volume.\n        if (typeof id === 'undefined') {\n          self._volume = vol;\n        }\n\n        // Update one or all volumes.\n        id = self._getSoundIds(id);\n        for (var i=0; i<id.length; i++) {\n          // Get the sound.\n          sound = self._soundById(id[i]);\n\n          if (sound) {\n            sound._volume = vol;\n\n            // Stop currently running fades.\n            if (!args[2]) {\n              self._stopFade(id[i]);\n            }\n\n            if (self._webAudio && sound._node && !sound._muted) {\n              sound._node.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n            } else if (sound._node && !sound._muted) {\n              sound._node.volume = vol * Howler.volume();\n            }\n\n            self._emit('volume', sound._id);\n          }\n        }\n      } else {\n        sound = id ? self._soundById(id) : self._sounds[0];\n        return sound ? sound._volume : 0;\n      }\n\n      return self;\n    },\n\n    /**\n     * Fade a currently playing sound between two volumes (if no id is passsed, all sounds will fade).\n     * @param  {Number} from The value to fade from (0.0 to 1.0).\n     * @param  {Number} to   The volume to fade to (0.0 to 1.0).\n     * @param  {Number} len  Time in milliseconds to fade.\n     * @param  {Number} id   The sound id (omit to fade all sounds).\n     * @return {Howl}\n     */\n    fade: function(from, to, len, id) {\n      var self = this;\n      var diff = Math.abs(from - to);\n      var dir = from > to ? 'out' : 'in';\n      var steps = diff / 0.01;\n      var stepLen = (steps > 0) ? len / steps : len;\n\n      // Since browsers clamp timeouts to 4ms, we need to clamp our steps to that too.\n      if (stepLen < 4) {\n        steps = Math.ceil(steps / (4 / stepLen));\n        stepLen = 4;\n      }\n\n      // If the sound hasn't loaded, add it to the load queue to fade when capable.\n      if (self._state !== 'loaded') {\n        self._queue.push({\n          event: 'fade',\n          action: function() {\n            self.fade(from, to, len, id);\n          }\n        });\n\n        return self;\n      }\n\n      // Set the volume to the start position.\n      self.volume(from, id);\n\n      // Fade the volume of one or all sounds.\n      var ids = self._getSoundIds(id);\n      for (var i=0; i<ids.length; i++) {\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        // Create a linear fade or fall back to timeouts with HTML5 Audio.\n        if (sound) {\n          // Stop the previous fade if no sprite is being used (otherwise, volume handles this).\n          if (!id) {\n            self._stopFade(ids[i]);\n          }\n\n          // If we are using Web Audio, let the native methods do the actual fade.\n          if (self._webAudio && !sound._muted) {\n            var currentTime = Howler.ctx.currentTime;\n            var end = currentTime + (len / 1000);\n            sound._volume = from;\n            sound._node.gain.setValueAtTime(from, currentTime);\n            sound._node.gain.linearRampToValueAtTime(to, end);\n          }\n\n          var vol = from;\n          sound._interval = setInterval(function(soundId, sound) {\n            // Update the volume amount, but only if the volume should change.\n            if (steps > 0) {\n              vol += (dir === 'in' ? 0.01 : -0.01);\n            }\n\n            // Make sure the volume is in the right bounds.\n            vol = Math.max(0, vol);\n            vol = Math.min(1, vol);\n\n            // Round to within 2 decimal points.\n            vol = Math.round(vol * 100) / 100;\n\n            // Change the volume.\n            if (self._webAudio) {\n              if (typeof id === 'undefined') {\n                self._volume = vol;\n              }\n\n              sound._volume = vol;\n            } else {\n              self.volume(vol, soundId, true);\n            }\n\n            // When the fade is complete, stop it and fire event.\n            if (vol === to) {\n              clearInterval(sound._interval);\n              sound._interval = null;\n              self.volume(vol, soundId);\n              self._emit('fade', soundId);\n            }\n          }.bind(self, ids[i], sound), stepLen);\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Internal method that stops the currently playing fade when\n     * a new fade starts, volume is changed or the sound is stopped.\n     * @param  {Number} id The sound id.\n     * @return {Howl}\n     */\n    _stopFade: function(id) {\n      var self = this;\n      var sound = self._soundById(id);\n\n      if (sound && sound._interval) {\n        if (self._webAudio) {\n          sound._node.gain.cancelScheduledValues(Howler.ctx.currentTime);\n        }\n\n        clearInterval(sound._interval);\n        sound._interval = null;\n        self._emit('fade', id);\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the loop parameter on a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   loop() -> Returns the group's loop value.\n     *   loop(id) -> Returns the sound id's loop value.\n     *   loop(loop) -> Sets the loop value for all sounds in this Howl group.\n     *   loop(loop, id) -> Sets the loop value of passed sound id.\n     * @return {Howl/Boolean} Returns self or current loop value.\n     */\n    loop: function() {\n      var self = this;\n      var args = arguments;\n      var loop, id, sound;\n\n      // Determine the values for loop and id.\n      if (args.length === 0) {\n        // Return the grou's loop value.\n        return self._loop;\n      } else if (args.length === 1) {\n        if (typeof args[0] === 'boolean') {\n          loop = args[0];\n          self._loop = loop;\n        } else {\n          // Return this sound's loop value.\n          sound = self._soundById(parseInt(args[0], 10));\n          return sound ? sound._loop : false;\n        }\n      } else if (args.length === 2) {\n        loop = args[0];\n        id = parseInt(args[1], 10);\n      }\n\n      // If no id is passed, get all ID's to be looped.\n      var ids = self._getSoundIds(id);\n      for (var i=0; i<ids.length; i++) {\n        sound = self._soundById(ids[i]);\n\n        if (sound) {\n          sound._loop = loop;\n          if (self._webAudio && sound._node && sound._node.bufferSource) {\n            sound._node.bufferSource.loop = loop;\n            if (loop) {\n              sound._node.bufferSource.loopStart = sound._start || 0;\n              sound._node.bufferSource.loopEnd = sound._stop;\n            }\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the playback rate of a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   rate() -> Returns the first sound node's current playback rate.\n     *   rate(id) -> Returns the sound id's current playback rate.\n     *   rate(rate) -> Sets the playback rate of all sounds in this Howl group.\n     *   rate(rate, id) -> Sets the playback rate of passed sound id.\n     * @return {Howl/Number} Returns self or the current playback rate.\n     */\n    rate: function() {\n      var self = this;\n      var args = arguments;\n      var rate, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // We will simply return the current rate of the first node.\n        id = self._sounds[0]._id;\n      } else if (args.length === 1) {\n        // First check if this is an ID, and if not, assume it is a new rate value.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else {\n          rate = parseFloat(args[0]);\n        }\n      } else if (args.length === 2) {\n        rate = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // Update the playback rate or return the current value.\n      var sound;\n      if (typeof rate === 'number') {\n        // If the sound hasn't loaded, add it to the load queue to change playback rate when capable.\n        if (self._state !== 'loaded') {\n          self._queue.push({\n            event: 'rate',\n            action: function() {\n              self.rate.apply(self, args);\n            }\n          });\n\n          return self;\n        }\n\n        // Set the group rate.\n        if (typeof id === 'undefined') {\n          self._rate = rate;\n        }\n\n        // Update one or all volumes.\n        id = self._getSoundIds(id);\n        for (var i=0; i<id.length; i++) {\n          // Get the sound.\n          sound = self._soundById(id[i]);\n\n          if (sound) {\n            // Keep track of our position when the rate changed and update the playback\n            // start position so we can properly adjust the seek position for time elapsed.\n            sound._rateSeek = self.seek(id[i]);\n            sound._playStart = self._webAudio ? Howler.ctx.currentTime : sound._playStart;\n            sound._rate = rate;\n\n            // Change the playback rate.\n            if (self._webAudio && sound._node && sound._node.bufferSource) {\n              sound._node.bufferSource.playbackRate.value = rate;\n            } else if (sound._node) {\n              sound._node.playbackRate = rate;\n            }\n\n            // Reset the timers.\n            var seek = self.seek(id[i]);\n            var duration = ((self._sprite[sound._sprite][0] + self._sprite[sound._sprite][1]) / 1000) - seek;\n            var timeout = (duration * 1000) / Math.abs(sound._rate);\n\n            // Start a new end timer if sound is already playing.\n            if (self._endTimers[id[i]] || !sound._paused) {\n              self._clearTimer(id[i]);\n              self._endTimers[id[i]] = setTimeout(self._ended.bind(self, sound), timeout);\n            }\n\n            self._emit('rate', sound._id);\n          }\n        }\n      } else {\n        sound = self._soundById(id);\n        return sound ? sound._rate : self._rate;\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the seek position of a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   seek() -> Returns the first sound node's current seek position.\n     *   seek(id) -> Returns the sound id's current seek position.\n     *   seek(seek) -> Sets the seek position of the first sound node.\n     *   seek(seek, id) -> Sets the seek position of passed sound id.\n     * @return {Howl/Number} Returns self or the current seek position.\n     */\n    seek: function() {\n      var self = this;\n      var args = arguments;\n      var seek, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // We will simply return the current position of the first node.\n        id = self._sounds[0]._id;\n      } else if (args.length === 1) {\n        // First check if this is an ID, and if not, assume it is a new seek position.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else {\n          id = self._sounds[0]._id;\n          seek = parseFloat(args[0]);\n        }\n      } else if (args.length === 2) {\n        seek = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // If there is no ID, bail out.\n      if (typeof id === 'undefined') {\n        return self;\n      }\n\n      // If the sound hasn't loaded, add it to the load queue to seek when capable.\n      if (self._state !== 'loaded') {\n        self._queue.push({\n          event: 'seek',\n          action: function() {\n            self.seek.apply(self, args);\n          }\n        });\n\n        return self;\n      }\n\n      // Get the sound.\n      var sound = self._soundById(id);\n\n      if (sound) {\n        if (typeof seek === 'number' && seek >= 0) {\n          // Pause the sound and update position for restarting playback.\n          var playing = self.playing(id);\n          if (playing) {\n            self.pause(id, true);\n          }\n\n          // Move the position of the track and cancel timer.\n          sound._seek = seek;\n          sound._ended = false;\n          self._clearTimer(id);\n\n          // Restart the playback if the sound was playing.\n          if (playing) {\n            self.play(id, true);\n          }\n\n          // Update the seek position for HTML5 Audio.\n          if (!self._webAudio && sound._node) {\n            sound._node.currentTime = seek;\n          }\n\n          self._emit('seek', id);\n        } else {\n          if (self._webAudio) {\n            var realTime = self.playing(id) ? Howler.ctx.currentTime - sound._playStart : 0;\n            var rateSeek = sound._rateSeek ? sound._rateSeek - sound._seek : 0;\n            return sound._seek + (rateSeek + realTime * Math.abs(sound._rate));\n          } else {\n            return sound._node.currentTime;\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Check if a specific sound is currently playing or not (if id is provided), or check if at least one of the sounds in the group is playing or not.\n     * @param  {Number}  id The sound id to check. If none is passed, the whole sound group is checked.\n     * @return {Boolean} True if playing and false if not.\n     */\n    playing: function(id) {\n      var self = this;\n\n      // Check the passed sound ID (if any).\n      if (typeof id === 'number') {\n        var sound = self._soundById(id);\n        return sound ? !sound._paused : false;\n      }\n\n      // Otherwise, loop through all sounds and check if any are playing.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (!self._sounds[i]._paused) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    /**\n     * Get the duration of this sound. Passing a sound id will return the sprite duration.\n     * @param  {Number} id The sound id to check. If none is passed, return full source duration.\n     * @return {Number} Audio duration in seconds.\n     */\n    duration: function(id) {\n      var self = this;\n      var duration = self._duration;\n\n      // If we pass an ID, get the sound and return the sprite length.\n      var sound = self._soundById(id);\n      if (sound) {\n        duration = self._sprite[sound._sprite][1] / 1000;\n      }\n\n      return duration;\n    },\n\n    /**\n     * Returns the current loaded state of this Howl.\n     * @return {String} 'unloaded', 'loading', 'loaded'\n     */\n    state: function() {\n      return this._state;\n    },\n\n    /**\n     * Unload and destroy the current Howl object.\n     * This will immediately stop all sound instances attached to this group.\n     */\n    unload: function() {\n      var self = this;\n\n      // Stop playing any active sounds.\n      var sounds = self._sounds;\n      for (var i=0; i<sounds.length; i++) {\n        // Stop the sound if it is currently playing.\n        if (!sounds[i]._paused) {\n          self.stop(sounds[i]._id);\n          self._emit('end', sounds[i]._id);\n        }\n\n        // Remove the source or disconnect.\n        if (!self._webAudio) {\n          // Set the source to 0-second silence to stop any downloading.\n          sounds[i]._node.src = 'data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA=';\n\n          // Remove any event listeners.\n          sounds[i]._node.removeEventListener('error', sounds[i]._errorFn, false);\n          sounds[i]._node.removeEventListener(Howler._canPlayEvent, sounds[i]._loadFn, false);\n        }\n\n        // Empty out all of the nodes.\n        delete sounds[i]._node;\n\n        // Make sure all timers are cleared out.\n        self._clearTimer(sounds[i]._id);\n\n        // Remove the references in the global Howler object.\n        var index = Howler._howls.indexOf(self);\n        if (index >= 0) {\n          Howler._howls.splice(index, 1);\n        }\n      }\n\n      // Delete this sound from the cache (if no other Howl is using it).\n      var remCache = true;\n      for (i=0; i<Howler._howls.length; i++) {\n        if (Howler._howls[i]._src === self._src) {\n          remCache = false;\n          break;\n        }\n      }\n\n      if (cache && remCache) {\n        delete cache[self._src];\n      }\n\n      // Clear global errors.\n      Howler.noAudio = false;\n\n      // Clear out `self`.\n      self._state = 'unloaded';\n      self._sounds = [];\n      self = null;\n\n      return null;\n    },\n\n    /**\n     * Listen to a custom event.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to call.\n     * @param  {Number}   id    (optional) Only listen to events for this sound.\n     * @param  {Number}   once  (INTERNAL) Marks event to fire only once.\n     * @return {Howl}\n     */\n    on: function(event, fn, id, once) {\n      var self = this;\n      var events = self['_on' + event];\n\n      if (typeof fn === 'function') {\n        events.push(once ? {id: id, fn: fn, once: once} : {id: id, fn: fn});\n      }\n\n      return self;\n    },\n\n    /**\n     * Remove a custom event. Call without parameters to remove all events.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to remove. Leave empty to remove all.\n     * @param  {Number}   id    (optional) Only remove events for this sound.\n     * @return {Howl}\n     */\n    off: function(event, fn, id) {\n      var self = this;\n      var events = self['_on' + event];\n      var i = 0;\n\n      if (fn) {\n        // Loop through event store and remove the passed function.\n        for (i=0; i<events.length; i++) {\n          if (fn === events[i].fn && id === events[i].id) {\n            events.splice(i, 1);\n            break;\n          }\n        }\n      } else if (event) {\n        // Clear out all events of this type.\n        self['_on' + event] = [];\n      } else {\n        // Clear out all events of every type.\n        var keys = Object.keys(self);\n        for (i=0; i<keys.length; i++) {\n          if ((keys[i].indexOf('_on') === 0) && Array.isArray(self[keys[i]])) {\n            self[keys[i]] = [];\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Listen to a custom event and remove it once fired.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to call.\n     * @param  {Number}   id    (optional) Only listen to events for this sound.\n     * @return {Howl}\n     */\n    once: function(event, fn, id) {\n      var self = this;\n\n      // Setup the event listener.\n      self.on(event, fn, id, 1);\n\n      return self;\n    },\n\n    /**\n     * Emit all events of a specific type and pass the sound id.\n     * @param  {String} event Event name.\n     * @param  {Number} id    Sound ID.\n     * @param  {Number} msg   Message to go with event.\n     * @return {Howl}\n     */\n    _emit: function(event, id, msg) {\n      var self = this;\n      var events = self['_on' + event];\n\n      // Loop through event store and fire all functions.\n      for (var i=events.length-1; i>=0; i--) {\n        if (!events[i].id || events[i].id === id || event === 'load') {\n          setTimeout(function(fn) {\n            fn.call(this, id, msg);\n          }.bind(self, events[i].fn), 0);\n\n          // If this event was setup with `once`, remove it.\n          if (events[i].once) {\n            self.off(event, events[i].fn, events[i].id);\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Queue of actions initiated before the sound has loaded.\n     * These will be called in sequence, with the next only firing\n     * after the previous has finished executing (even if async like play).\n     * @return {Howl}\n     */\n    _loadQueue: function() {\n      var self = this;\n\n      if (self._queue.length > 0) {\n        var task = self._queue[0];\n\n        // don't move onto the next task until this one is done\n        self.once(task.event, function() {\n          self._queue.shift();\n          self._loadQueue();\n        });\n\n        task.action();\n      }\n\n      return self;\n    },\n\n    /**\n     * Fired when playback ends at the end of the duration.\n     * @param  {Sound} sound The sound object to work with.\n     * @return {Howl}\n     */\n    _ended: function(sound) {\n      var self = this;\n      var sprite = sound._sprite;\n\n      // Should this sound loop?\n      var loop = !!(sound._loop || self._sprite[sprite][2]);\n\n      // Fire the ended event.\n      self._emit('end', sound._id);\n\n      // Restart the playback for HTML5 Audio loop.\n      if (!self._webAudio && loop) {\n        self.stop(sound._id, true).play(sound._id);\n      }\n\n      // Restart this timer if on a Web Audio loop.\n      if (self._webAudio && loop) {\n        self._emit('play', sound._id);\n        sound._seek = sound._start || 0;\n        sound._rateSeek = 0;\n        sound._playStart = Howler.ctx.currentTime;\n\n        var timeout = ((sound._stop - sound._start) * 1000) / Math.abs(sound._rate);\n        self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n      }\n\n      // Mark the node as paused.\n      if (self._webAudio && !loop) {\n        sound._paused = true;\n        sound._ended = true;\n        sound._seek = sound._start || 0;\n        sound._rateSeek = 0;\n        self._clearTimer(sound._id);\n\n        // Clean up the buffer source.\n        self._cleanBuffer(sound._node);\n\n        // Attempt to auto-suspend AudioContext if no sounds are still playing.\n        Howler._autoSuspend();\n      }\n\n      // When using a sprite, end the track.\n      if (!self._webAudio && !loop) {\n        self.stop(sound._id);\n      }\n\n      return self;\n    },\n\n    /**\n     * Clear the end timer for a sound playback.\n     * @param  {Number} id The sound ID.\n     * @return {Howl}\n     */\n    _clearTimer: function(id) {\n      var self = this;\n\n      if (self._endTimers[id]) {\n        clearTimeout(self._endTimers[id]);\n        delete self._endTimers[id];\n      }\n\n      return self;\n    },\n\n    /**\n     * Return the sound identified by this ID, or return null.\n     * @param  {Number} id Sound ID\n     * @return {Object}    Sound object or null.\n     */\n    _soundById: function(id) {\n      var self = this;\n\n      // Loop through all sounds and find the one with this ID.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (id === self._sounds[i]._id) {\n          return self._sounds[i];\n        }\n      }\n\n      return null;\n    },\n\n    /**\n     * Return an inactive sound from the pool or create a new one.\n     * @return {Sound} Sound playback object.\n     */\n    _inactiveSound: function() {\n      var self = this;\n\n      self._drain();\n\n      // Find the first inactive node to recycle.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (self._sounds[i]._ended) {\n          return self._sounds[i].reset();\n        }\n      }\n\n      // If no inactive node was found, create a new one.\n      return new Sound(self);\n    },\n\n    /**\n     * Drain excess inactive sounds from the pool.\n     */\n    _drain: function() {\n      var self = this;\n      var limit = self._pool;\n      var cnt = 0;\n      var i = 0;\n\n      // If there are less sounds than the max pool size, we are done.\n      if (self._sounds.length < limit) {\n        return;\n      }\n\n      // Count the number of inactive sounds.\n      for (i=0; i<self._sounds.length; i++) {\n        if (self._sounds[i]._ended) {\n          cnt++;\n        }\n      }\n\n      // Remove excess inactive sounds, going in reverse order.\n      for (i=self._sounds.length - 1; i>=0; i--) {\n        if (cnt <= limit) {\n          return;\n        }\n\n        if (self._sounds[i]._ended) {\n          // Disconnect the audio source when using Web Audio.\n          if (self._webAudio && self._sounds[i]._node) {\n            self._sounds[i]._node.disconnect(0);\n          }\n\n          // Remove sounds until we have the pool size.\n          self._sounds.splice(i, 1);\n          cnt--;\n        }\n      }\n    },\n\n    /**\n     * Get all ID's from the sounds pool.\n     * @param  {Number} id Only return one ID if one is passed.\n     * @return {Array}    Array of IDs.\n     */\n    _getSoundIds: function(id) {\n      var self = this;\n\n      if (typeof id === 'undefined') {\n        var ids = [];\n        for (var i=0; i<self._sounds.length; i++) {\n          ids.push(self._sounds[i]._id);\n        }\n\n        return ids;\n      } else {\n        return [id];\n      }\n    },\n\n    /**\n     * Load the sound back into the buffer source.\n     * @param  {Sound} sound The sound object to work with.\n     * @return {Howl}\n     */\n    _refreshBuffer: function(sound) {\n      var self = this;\n\n      // Setup the buffer source for playback.\n      sound._node.bufferSource = Howler.ctx.createBufferSource();\n      sound._node.bufferSource.buffer = cache[self._src];\n\n      // Connect to the correct node.\n      if (sound._panner) {\n        sound._node.bufferSource.connect(sound._panner);\n      } else {\n        sound._node.bufferSource.connect(sound._node);\n      }\n\n      // Setup looping and playback rate.\n      sound._node.bufferSource.loop = sound._loop;\n      if (sound._loop) {\n        sound._node.bufferSource.loopStart = sound._start || 0;\n        sound._node.bufferSource.loopEnd = sound._stop;\n      }\n      sound._node.bufferSource.playbackRate.value = sound._rate;\n\n      return self;\n    },\n\n    /**\n     * Prevent memory leaks by cleaning up the buffer source after playback.\n     * @param  {Object} node Sound's audio node containing the buffer source.\n     * @return {Howl}\n     */\n    _cleanBuffer: function(node) {\n      var self = this;\n\n      if (self._scratchBuffer) {\n        node.bufferSource.onended = null;\n        node.bufferSource.disconnect(0);\n        try { node.bufferSource.buffer = self._scratchBuffer; } catch(e) {}\n      }\n      node.bufferSource = null;\n\n      return self;\n    }\n  };\n\n  /** Single Sound Methods **/\n  /***************************************************************************/\n\n  /**\n   * Setup the sound object, which each node attached to a Howl group is contained in.\n   * @param {Object} howl The Howl parent group.\n   */\n  var Sound = function(howl) {\n    this._parent = howl;\n    this.init();\n  };\n  Sound.prototype = {\n    /**\n     * Initialize a new Sound object.\n     * @return {Sound}\n     */\n    init: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Setup the default parameters.\n      self._muted = parent._muted;\n      self._loop = parent._loop;\n      self._volume = parent._volume;\n      self._muted = parent._muted;\n      self._rate = parent._rate;\n      self._seek = 0;\n      self._paused = true;\n      self._ended = true;\n      self._sprite = '__default';\n\n      // Generate a unique ID for this sound.\n      self._id = Math.round(Date.now() * Math.random());\n\n      // Add itself to the parent's pool.\n      parent._sounds.push(self);\n\n      // Create the new node.\n      self.create();\n\n      return self;\n    },\n\n    /**\n     * Create and setup a new sound object, whether HTML5 Audio or Web Audio.\n     * @return {Sound}\n     */\n    create: function() {\n      var self = this;\n      var parent = self._parent;\n      var volume = (Howler._muted || self._muted || self._parent._muted) ? 0 : self._volume;\n\n      if (parent._webAudio) {\n        // Create the gain node for controlling volume (the source will connect to this).\n        self._node = (typeof Howler.ctx.createGain === 'undefined') ? Howler.ctx.createGainNode() : Howler.ctx.createGain();\n        self._node.gain.setValueAtTime(volume, Howler.ctx.currentTime);\n        self._node.paused = true;\n        self._node.connect(Howler.masterGain);\n      } else {\n        self._node = new Audio();\n\n        // Listen for errors (http://dev.w3.org/html5/spec-author-view/spec.html#mediaerror).\n        self._errorFn = self._errorListener.bind(self);\n        self._node.addEventListener('error', self._errorFn, false);\n\n        // Listen for 'canplaythrough' event to let us know the sound is ready.\n        self._loadFn = self._loadListener.bind(self);\n        self._node.addEventListener(Howler._canPlayEvent, self._loadFn, false);\n\n        // Setup the new audio node.\n        self._node.src = parent._src;\n        self._node.preload = 'auto';\n        self._node.volume = volume * Howler.volume();\n\n        // Begin loading the source.\n        self._node.load();\n      }\n\n      return self;\n    },\n\n    /**\n     * Reset the parameters of this sound to the original state (for recycle).\n     * @return {Sound}\n     */\n    reset: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Reset all of the parameters of this sound.\n      self._muted = parent._muted;\n      self._loop = parent._loop;\n      self._volume = parent._volume;\n      self._muted = parent._muted;\n      self._rate = parent._rate;\n      self._seek = 0;\n      self._rateSeek = 0;\n      self._paused = true;\n      self._ended = true;\n      self._sprite = '__default';\n\n      // Generate a new ID so that it isn't confused with the previous sound.\n      self._id = Math.round(Date.now() * Math.random());\n\n      return self;\n    },\n\n    /**\n     * HTML5 Audio error listener callback.\n     */\n    _errorListener: function() {\n      var self = this;\n\n      // Fire an error event and pass back the code.\n      self._parent._emit('loaderror', self._id, self._node.error ? self._node.error.code : 0);\n\n      // Clear the event listener.\n      self._node.removeEventListener('error', self._errorListener, false);\n    },\n\n    /**\n     * HTML5 Audio canplaythrough listener callback.\n     */\n    _loadListener: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Round up the duration to account for the lower precision in HTML5 Audio.\n      parent._duration = Math.ceil(self._node.duration * 10) / 10;\n\n      // Setup a sprite if none is defined.\n      if (Object.keys(parent._sprite).length === 0) {\n        parent._sprite = {__default: [0, parent._duration * 1000]};\n      }\n\n      if (parent._state !== 'loaded') {\n        parent._state = 'loaded';\n        parent._emit('load');\n        parent._loadQueue();\n      }\n\n      // Clear the event listener.\n      self._node.removeEventListener(Howler._canPlayEvent, self._loadFn, false);\n    }\n  };\n\n  /** Helper Methods **/\n  /***************************************************************************/\n\n  var cache = {};\n\n  /**\n   * Buffer a sound from URL, Data URI or cache and decode to audio source (Web Audio API).\n   * @param  {Howl} self\n   */\n  var loadBuffer = function(self) {\n    var url = self._src;\n\n    // Check if the buffer has already been cached and use it instead.\n    if (cache[url]) {\n      // Set the duration from the cache.\n      self._duration = cache[url].duration;\n\n      // Load the sound into this Howl.\n      loadSound(self);\n\n      return;\n    }\n\n    if (/^data:[^;]+;base64,/.test(url)) {\n      // Decode the base64 data URI without XHR, since some browsers don't support it.\n      var data = atob(url.split(',')[1]);\n      var dataView = new Uint8Array(data.length);\n      for (var i=0; i<data.length; ++i) {\n        dataView[i] = data.charCodeAt(i);\n      }\n\n      decodeAudioData(dataView.buffer, self);\n    } else {\n      // Load the buffer from the URL.\n      var xhr = new XMLHttpRequest();\n      xhr.open('GET', url, true);\n      xhr.responseType = 'arraybuffer';\n      xhr.onload = function() {\n        // Make sure we get a successful response back.\n        var code = (xhr.status + '')[0];\n        if (code !== '0' && code !== '2' && code !== '3') {\n          self._emit('loaderror', null, 'Failed loading audio file with status: ' + xhr.status + '.');\n          return;\n        }\n\n        decodeAudioData(xhr.response, self);\n      };\n      xhr.onerror = function() {\n        // If there is an error, switch to HTML5 Audio.\n        if (self._webAudio) {\n          self._html5 = true;\n          self._webAudio = false;\n          self._sounds = [];\n          delete cache[url];\n          self.load();\n        }\n      };\n      safeXhrSend(xhr);\n    }\n  };\n\n  /**\n   * Send the XHR request wrapped in a try/catch.\n   * @param  {Object} xhr XHR to send.\n   */\n  var safeXhrSend = function(xhr) {\n    try {\n      xhr.send();\n    } catch (e) {\n      xhr.onerror();\n    }\n  };\n\n  /**\n   * Decode audio data from an array buffer.\n   * @param  {ArrayBuffer} arraybuffer The audio data.\n   * @param  {Howl}        self\n   */\n  var decodeAudioData = function(arraybuffer, self) {\n    // Decode the buffer into an audio source.\n    Howler.ctx.decodeAudioData(arraybuffer, function(buffer) {\n      if (buffer && self._sounds.length > 0) {\n        cache[self._src] = buffer;\n        loadSound(self, buffer);\n      }\n    }, function() {\n      self._emit('loaderror', null, 'Decoding audio data failed.');\n    });\n  };\n\n  /**\n   * Sound is now loaded, so finish setting everything up and fire the loaded event.\n   * @param  {Howl} self\n   * @param  {Object} buffer The decoded buffer sound source.\n   */\n  var loadSound = function(self, buffer) {\n    // Set the duration.\n    if (buffer && !self._duration) {\n      self._duration = buffer.duration;\n    }\n\n    // Setup a sprite if none is defined.\n    if (Object.keys(self._sprite).length === 0) {\n      self._sprite = {__default: [0, self._duration * 1000]};\n    }\n\n    // Fire the loaded event.\n    if (self._state !== 'loaded') {\n      self._state = 'loaded';\n      self._emit('load');\n      self._loadQueue();\n    }\n  };\n\n  /**\n   * Setup the audio context when available, or switch to HTML5 Audio mode.\n   */\n  var setupAudioContext = function() {\n    // Check if we are using Web Audio and setup the AudioContext if we are.\n    try {\n      if (typeof AudioContext !== 'undefined') {\n        Howler.ctx = new AudioContext();\n      } else if (typeof webkitAudioContext !== 'undefined') {\n        Howler.ctx = new webkitAudioContext();\n      } else {\n        Howler.usingWebAudio = false;\n      }\n    } catch(e) {\n      Howler.usingWebAudio = false;\n    }\n\n    // Check if a webview is being used on iOS8 or earlier (rather than the browser).\n    // If it is, disable Web Audio as it causes crashing.\n    var iOS = (/iP(hone|od|ad)/.test(Howler._navigator && Howler._navigator.platform));\n    var appVersion = Howler._navigator && Howler._navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/);\n    var version = appVersion ? parseInt(appVersion[1], 10) : null;\n    if (iOS && version && version < 9) {\n      var safari = /safari/.test(Howler._navigator && Howler._navigator.userAgent.toLowerCase());\n      if (Howler._navigator && Howler._navigator.standalone && !safari || Howler._navigator && !Howler._navigator.standalone && !safari) {\n        Howler.usingWebAudio = false;\n      }\n    }\n\n    // Create and expose the master GainNode when using Web Audio (useful for plugins or advanced usage).\n    if (Howler.usingWebAudio) {\n      Howler.masterGain = (typeof Howler.ctx.createGain === 'undefined') ? Howler.ctx.createGainNode() : Howler.ctx.createGain();\n      Howler.masterGain.gain.value = 1;\n      Howler.masterGain.connect(Howler.ctx.destination);\n    }\n\n    // Re-run the setup on Howler.\n    Howler._setup();\n  };\n\n  // Add support for AMD (Asynchronous Module Definition) libraries such as require.js.\n  if (typeof define === 'function' && define.amd) {\n    define([], function() {\n      return {\n        Howler: Howler,\n        Howl: Howl\n      };\n    });\n  }\n\n  // Add support for CommonJS libraries such as browserify.\n  if (typeof exports !== 'undefined') {\n    exports.Howler = Howler;\n    exports.Howl = Howl;\n  }\n\n  // Define globally in case AMD is not available or unused.\n  if (typeof window !== 'undefined') {\n    window.HowlerGlobal = HowlerGlobal;\n    window.Howler = Howler;\n    window.Howl = Howl;\n    window.Sound = Sound;\n  } else if (typeof global !== 'undefined') { // Add to global in Node.js (for testing, etc).\n    global.HowlerGlobal = HowlerGlobal;\n    global.Howler = Howler;\n    global.Howl = Howl;\n    global.Sound = Sound;\n  }\n})();\n\n\n/*!\n *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.\n *  \n *  howler.js v2.0.2\n *  howlerjs.com\n *\n *  (c) 2013-2016, James Simpson of GoldFire Studios\n *  goldfirestudios.com\n *\n *  MIT License\n */\n\n(function() {\n\n  'use strict';\n\n  // Setup default properties.\n  HowlerGlobal.prototype._pos = [0, 0, 0];\n  HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0];\n  \n  /** Global Methods **/\n  /***************************************************************************/\n\n  /**\n   * Helper method to update the stereo panning position of all current Howls.\n   * Future Howls will not use this value unless explicitly set.\n   * @param  {Number} pan A value of -1.0 is all the way left and 1.0 is all the way right.\n   * @return {Howler/Number}     Self or current stereo panning value.\n   */\n  HowlerGlobal.prototype.stereo = function(pan) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Loop through all Howls and update their stereo panning.\n    for (var i=self._howls.length-1; i>=0; i--) {\n      self._howls[i].stereo(pan);\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the position of the listener in 3D cartesian space. Sounds using\n   * 3D position will be relative to the listener's position.\n   * @param  {Number} x The x-position of the listener.\n   * @param  {Number} y The y-position of the listener.\n   * @param  {Number} z The z-position of the listener.\n   * @return {Howler/Array}   Self or current listener position.\n   */\n  HowlerGlobal.prototype.pos = function(x, y, z) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? self._pos[1] : y;\n    z = (typeof z !== 'number') ? self._pos[2] : z;\n\n    if (typeof x === 'number') {\n      self._pos = [x, y, z];\n      self.ctx.listener.setPosition(self._pos[0], self._pos[1], self._pos[2]);\n    } else {\n      return self._pos;\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the direction the listener is pointing in the 3D cartesian space.\n   * A front and up vector must be provided. The front is the direction the\n   * face of the listener is pointing, and up is the direction the top of the\n   * listener is pointing. Thus, these values are expected to be at right angles\n   * from each other.\n   * @param  {Number} x   The x-orientation of the listener.\n   * @param  {Number} y   The y-orientation of the listener.\n   * @param  {Number} z   The z-orientation of the listener.\n   * @param  {Number} xUp The x-orientation of the top of the listener.\n   * @param  {Number} yUp The y-orientation of the top of the listener.\n   * @param  {Number} zUp The z-orientation of the top of the listener.\n   * @return {Howler/Array}     Returns self or the current orientation vectors.\n   */\n  HowlerGlobal.prototype.orientation = function(x, y, z, xUp, yUp, zUp) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    var or = self._orientation;\n    y = (typeof y !== 'number') ? or[1] : y;\n    z = (typeof z !== 'number') ? or[2] : z;\n    xUp = (typeof xUp !== 'number') ? or[3] : xUp;\n    yUp = (typeof yUp !== 'number') ? or[4] : yUp;\n    zUp = (typeof zUp !== 'number') ? or[5] : zUp;\n\n    if (typeof x === 'number') {\n      self._orientation = [x, y, z, xUp, yUp, zUp];\n      self.ctx.listener.setOrientation(x, y, z, xUp, yUp, zUp);\n    } else {\n      return or;\n    }\n\n    return self;\n  };\n\n  /** Group Methods **/\n  /***************************************************************************/\n\n  /**\n   * Add new properties to the core init.\n   * @param  {Function} _super Core init method.\n   * @return {Howl}\n   */\n  Howl.prototype.init = (function(_super) {\n    return function(o) {\n      var self = this;\n\n      // Setup user-defined default properties.\n      self._orientation = o.orientation || [1, 0, 0];\n      self._stereo = o.stereo || null;\n      self._pos = o.pos || null;\n      self._pannerAttr = {\n        coneInnerAngle: typeof o.coneInnerAngle !== 'undefined' ? o.coneInnerAngle : 360,\n        coneOuterAngle: typeof o.coneOuterAngle !== 'undefined' ? o.coneOuterAngle : 360,\n        coneOuterGain: typeof o.coneOuterGain !== 'undefined' ? o.coneOuterGain : 0,\n        distanceModel: typeof o.distanceModel !== 'undefined' ? o.distanceModel : 'inverse',\n        maxDistance: typeof o.maxDistance !== 'undefined' ? o.maxDistance : 10000,\n        panningModel: typeof o.panningModel !== 'undefined' ? o.panningModel : 'HRTF',\n        refDistance: typeof o.refDistance !== 'undefined' ? o.refDistance : 1,\n        rolloffFactor: typeof o.rolloffFactor !== 'undefined' ? o.rolloffFactor : 1\n      };\n\n      // Setup event listeners.\n      self._onstereo = o.onstereo ? [{fn: o.onstereo}] : [];\n      self._onpos = o.onpos ? [{fn: o.onpos}] : [];\n      self._onorientation = o.onorientation ? [{fn: o.onorientation}] : [];\n\n      // Complete initilization with howler.js core's init function.\n      return _super.call(this, o);\n    };\n  })(Howl.prototype.init);\n\n  /**\n   * Get/set the stereo panning of the audio source for this sound or all in the group.\n   * @param  {Number} pan  A value of -1.0 is all the way left and 1.0 is all the way right.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Number}    Returns self or the current stereo panning value.\n   */\n  Howl.prototype.stereo = function(pan, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change stereo pan when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'stereo',\n        action: function() {\n          self.stereo(pan, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Check for PannerStereoNode support and fallback to PannerNode if it doesn't exist.\n    var pannerType = (typeof Howler.ctx.createStereoPanner === 'undefined') ? 'spatial' : 'stereo';\n\n    // Setup the group's stereo panning if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's stereo panning if no parameters are passed.\n      if (typeof pan === 'number') {\n        self._stereo = pan;\n        self._pos = [pan, 0, 0];\n      } else {\n        return self._stereo;\n      }\n    }\n\n    // Change the streo panning of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof pan === 'number') {\n          sound._stereo = pan;\n          sound._pos = [pan, 0, 0];\n\n          if (sound._node) {\n            // If we are falling back, make sure the panningModel is equalpower.\n            sound._pannerAttr.panningModel = 'equalpower';\n\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner || !sound._panner.pan) {\n              setupPanner(sound, pannerType);\n            }\n\n            if (pannerType === 'spatial') {\n              sound._panner.setPosition(pan, 0, 0);\n            } else {\n              sound._panner.pan.value = pan;\n            }\n          }\n\n          self._emit('stereo', sound._id);\n        } else {\n          return sound._stereo;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the 3D spatial position of the audio source for this sound or\n   * all in the group. The most common usage is to set the 'x' position for\n   * left/right panning. Setting any value higher than 1.0 will begin to\n   * decrease the volume of the sound as it moves further away.\n   * @param  {Number} x  The x-position of the audio from -1000.0 to 1000.0.\n   * @param  {Number} y  The y-position of the audio from -1000.0 to 1000.0.\n   * @param  {Number} z  The z-position of the audio from -1000.0 to 1000.0.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Array}    Returns self or the current 3D spatial position: [x, y, z].\n   */\n  Howl.prototype.pos = function(x, y, z, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change position when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'pos',\n        action: function() {\n          self.pos(x, y, z, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? 0 : y;\n    z = (typeof z !== 'number') ? -0.5 : z;\n\n    // Setup the group's spatial position if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's spatial position if no parameters are passed.\n      if (typeof x === 'number') {\n        self._pos = [x, y, z];\n      } else {\n        return self._pos;\n      }\n    }\n\n    // Change the spatial position of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof x === 'number') {\n          sound._pos = [x, y, z];\n\n          if (sound._node) {\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner || sound._panner.pan) {\n              setupPanner(sound, 'spatial');\n            }\n\n            sound._panner.setPosition(x, y, z);\n          }\n\n          self._emit('pos', sound._id);\n        } else {\n          return sound._pos;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the direction the audio source is pointing in the 3D cartesian coordinate\n   * space. Depending on how direction the sound is, based on the `cone` attributes,\n   * a sound pointing away from the listener can be quiet or silent.\n   * @param  {Number} x  The x-orientation of the source.\n   * @param  {Number} y  The y-orientation of the source.\n   * @param  {Number} z  The z-orientation of the source.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Array}    Returns self or the current 3D spatial orientation: [x, y, z].\n   */\n  Howl.prototype.orientation = function(x, y, z, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change orientation when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'orientation',\n        action: function() {\n          self.orientation(x, y, z, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? self._orientation[1] : y;\n    z = (typeof z !== 'number') ? self._orientation[2] : z;\n\n    // Setup the group's spatial orientation if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's spatial orientation if no parameters are passed.\n      if (typeof x === 'number') {\n        self._orientation = [x, y, z];\n      } else {\n        return self._orientation;\n      }\n    }\n\n    // Change the spatial orientation of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof x === 'number') {\n          sound._orientation = [x, y, z];\n\n          if (sound._node) {\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner) {\n              // Make sure we have a position to setup the node with.\n              if (!sound._pos) {\n                sound._pos = self._pos || [0, 0, -0.5];\n              }\n\n              setupPanner(sound, 'spatial');\n            }\n\n            sound._panner.setOrientation(x, y, z);\n          }\n\n          self._emit('orientation', sound._id);\n        } else {\n          return sound._orientation;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the panner node's attributes for a sound or group of sounds.\n   * This method can optionall take 0, 1 or 2 arguments.\n   *   pannerAttr() -> Returns the group's values.\n   *   pannerAttr(id) -> Returns the sound id's values.\n   *   pannerAttr(o) -> Set's the values of all sounds in this Howl group.\n   *   pannerAttr(o, id) -> Set's the values of passed sound id.\n   *\n   *   Attributes:\n   *     coneInnerAngle - (360 by default) There will be no volume reduction inside this angle.\n   *     coneOuterAngle - (360 by default) The volume will be reduced to a constant value of\n   *                      `coneOuterGain` outside this angle.\n   *     coneOuterGain - (0 by default) The amount of volume reduction outside of `coneOuterAngle`.\n   *     distanceModel - ('inverse' by default) Determines algorithm to use to reduce volume as audio moves\n   *                      away from listener. Can be `linear`, `inverse` or `exponential`.\n   *     maxDistance - (10000 by default) Volume won't reduce between source/listener beyond this distance.\n   *     panningModel - ('HRTF' by default) Determines which spatialization algorithm is used to position audio.\n   *                     Can be `HRTF` or `equalpower`.\n   *     refDistance - (1 by default) A reference distance for reducing volume as the source\n   *                    moves away from the listener.\n   *     rolloffFactor - (1 by default) How quickly the volume reduces as source moves from listener.\n   * \n   * @return {Howl/Object} Returns self or current panner attributes.\n   */\n  Howl.prototype.pannerAttr = function() {\n    var self = this;\n    var args = arguments;\n    var o, id, sound;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // Determine the values based on arguments.\n    if (args.length === 0) {\n      // Return the group's panner attribute values.\n      return self._pannerAttr;\n    } else if (args.length === 1) {\n      if (typeof args[0] === 'object') {\n        o = args[0];\n\n        // Set the grou's panner attribute values.\n        if (typeof id === 'undefined') {\n          self._pannerAttr = {\n            coneInnerAngle: typeof o.coneInnerAngle !== 'undefined' ? o.coneInnerAngle : self._coneInnerAngle,\n            coneOuterAngle: typeof o.coneOuterAngle !== 'undefined' ? o.coneOuterAngle : self._coneOuterAngle,\n            coneOuterGain: typeof o.coneOuterGain !== 'undefined' ? o.coneOuterGain : self._coneOuterGain,\n            distanceModel: typeof o.distanceModel !== 'undefined' ? o.distanceModel : self._distanceModel,\n            maxDistance: typeof o.maxDistance !== 'undefined' ? o.maxDistance : self._maxDistance,\n            panningModel: typeof o.panningModel !== 'undefined' ? o.panningModel : self._panningModel,\n            refDistance: typeof o.refDistance !== 'undefined' ? o.refDistance : self._refDistance,\n            rolloffFactor: typeof o.rolloffFactor !== 'undefined' ? o.rolloffFactor : self._rolloffFactor\n          };\n        }\n      } else {\n        // Return this sound's panner attribute values.\n        sound = self._soundById(parseInt(args[0], 10));\n        return sound ? sound._pannerAttr : self._pannerAttr;\n      }\n    } else if (args.length === 2) {\n      o = args[0];\n      id = parseInt(args[1], 10);\n    }\n\n    // Update the values of the specified sounds.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      sound = self._soundById(ids[i]);\n\n      if (sound) {\n        // Merge the new values into the sound.\n        var pa = sound._pannerAttr;\n        pa = {\n          coneInnerAngle: typeof o.coneInnerAngle !== 'undefined' ? o.coneInnerAngle : pa.coneInnerAngle,\n          coneOuterAngle: typeof o.coneOuterAngle !== 'undefined' ? o.coneOuterAngle : pa.coneOuterAngle,\n          coneOuterGain: typeof o.coneOuterGain !== 'undefined' ? o.coneOuterGain : pa.coneOuterGain,\n          distanceModel: typeof o.distanceModel !== 'undefined' ? o.distanceModel : pa.distanceModel,\n          maxDistance: typeof o.maxDistance !== 'undefined' ? o.maxDistance : pa.maxDistance,\n          panningModel: typeof o.panningModel !== 'undefined' ? o.panningModel : pa.panningModel,\n          refDistance: typeof o.refDistance !== 'undefined' ? o.refDistance : pa.refDistance,\n          rolloffFactor: typeof o.rolloffFactor !== 'undefined' ? o.rolloffFactor : pa.rolloffFactor\n        };\n\n        // Update the panner values or create a new panner if none exists.\n        var panner = sound._panner;\n        if (panner) {\n          panner.coneInnerAngle = pa.coneInnerAngle;\n          panner.coneOuterAngle = pa.coneOuterAngle;\n          panner.coneOuterGain = pa.coneOuterGain;\n          panner.distanceModel = pa.distanceModel;\n          panner.maxDistance = pa.maxDistance;\n          panner.panningModel = pa.panningModel;\n          panner.refDistance = pa.refDistance;\n          panner.rolloffFactor = pa.rolloffFactor;\n        } else {\n          // Make sure we have a position to setup the node with.\n          if (!sound._pos) {\n            sound._pos = self._pos || [0, 0, -0.5];\n          }\n\n          // Create a new panner node.\n          setupPanner(sound, 'spatial');\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /** Single Sound Methods **/\n  /***************************************************************************/\n\n  /**\n   * Add new properties to the core Sound init.\n   * @param  {Function} _super Core Sound init method.\n   * @return {Sound}\n   */\n  Sound.prototype.init = (function(_super) {\n    return function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Setup user-defined default properties.\n      self._orientation = parent._orientation;\n      self._stereo = parent._stereo;\n      self._pos = parent._pos;\n      self._pannerAttr = parent._pannerAttr;\n\n      // Complete initilization with howler.js core Sound's init function.\n      _super.call(this);\n\n      // If a stereo or position was specified, set it up.\n      if (self._stereo) {\n        parent.stereo(self._stereo);\n      } else if (self._pos) {\n        parent.pos(self._pos[0], self._pos[1], self._pos[2], self._id);\n      }\n    };\n  })(Sound.prototype.init);\n\n  /**\n   * Override the Sound.reset method to clean up properties from the spatial plugin.\n   * @param  {Function} _super Sound reset method.\n   * @return {Sound}\n   */\n  Sound.prototype.reset = (function(_super) {\n    return function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Reset all spatial plugin properties on this sound.\n      self._orientation = parent._orientation;\n      self._pos = parent._pos;\n      self._pannerAttr = parent._pannerAttr;\n\n      // Complete resetting of the sound.\n      return _super.call(this);\n    };\n  })(Sound.prototype.reset);\n\n  /** Helper Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create a new panner node and save it on the sound.\n   * @param  {Sound} sound Specific sound to setup panning on.\n   * @param {String} type Type of panner to create: 'stereo' or 'spatial'.\n   */\n  var setupPanner = function(sound, type) {\n    type = type || 'spatial';\n\n    // Create the new panner node.\n    if (type === 'spatial') {\n      sound._panner = Howler.ctx.createPanner();\n      sound._panner.coneInnerAngle = sound._pannerAttr.coneInnerAngle;\n      sound._panner.coneOuterAngle = sound._pannerAttr.coneOuterAngle;\n      sound._panner.coneOuterGain = sound._pannerAttr.coneOuterGain;\n      sound._panner.distanceModel = sound._pannerAttr.distanceModel;\n      sound._panner.maxDistance = sound._pannerAttr.maxDistance;\n      sound._panner.panningModel = sound._pannerAttr.panningModel;\n      sound._panner.refDistance = sound._pannerAttr.refDistance;\n      sound._panner.rolloffFactor = sound._pannerAttr.rolloffFactor;\n      sound._panner.setPosition(sound._pos[0], sound._pos[1], sound._pos[2]);\n      sound._panner.setOrientation(sound._orientation[0], sound._orientation[1], sound._orientation[2]);\n    } else {\n      sound._panner = Howler.ctx.createStereoPanner();\n      sound._panner.pan.value = sound._stereo;\n    }\n\n    sound._panner.connect(sound._node);\n\n    // Update the connections.\n    if (!sound._paused) {\n      sound._parent.pause(sound._id, true).play(sound._id);\n    }\n  };\n})();\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],29:[function(require,module,exports){\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],30:[function(require,module,exports){\n'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nmodule.exports = {\n    'default': 'RFC3986',\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return value;\n        }\n    },\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\n},{}],31:[function(require,module,exports){\n'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n\n},{\"./formats\":30,\"./parse\":32,\"./stringify\":33}],32:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    arrayLimit: 20,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    parameterLimit: 1000,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var parts = str.split(options.delimiter, options.parameterLimit === Infinity ? undefined : options.parameterLimit);\n\n    for (var i = 0; i < parts.length; ++i) {\n        var part = parts[i];\n        var pos = part.indexOf(']=') === -1 ? part.indexOf('=') : part.indexOf(']=') + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part);\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos));\n            val = options.decoder(part.slice(pos + 1));\n        }\n        if (has.call(obj, key)) {\n            obj[key] = [].concat(obj[key]).concat(val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function parseObjectRecursive(chain, val, options) {\n    if (!chain.length) {\n        return val;\n    }\n\n    var root = chain.shift();\n\n    var obj;\n    if (root === '[]') {\n        obj = [];\n        obj = obj.concat(parseObject(chain, val, options));\n    } else {\n        obj = options.plainObjects ? Object.create(null) : {};\n        var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n        var index = parseInt(cleanRoot, 10);\n        if (\n            !isNaN(index) &&\n            root !== cleanRoot &&\n            String(index) === cleanRoot &&\n            index >= 0 &&\n            (options.parseArrays && index <= options.arrayLimit)\n        ) {\n            obj = [];\n            obj[index] = parseObject(chain, val, options);\n        } else {\n            obj[cleanRoot] = parseObject(chain, val, options);\n        }\n    }\n\n    return obj;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var parent = /^([^[]*)/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = parent.exec(key);\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (segment[1]) {\n        // If we aren't using plain objects, optionally prefix keys\n        // that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, segment[1])) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(segment[1]);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while ((segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options);\n};\n\nmodule.exports = function (str, opts) {\n    var options = opts || {};\n\n    if (options.decoder !== null && options.decoder !== undefined && typeof options.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    options.delimiter = typeof options.delimiter === 'string' || utils.isRegExp(options.delimiter) ? options.delimiter : defaults.delimiter;\n    options.depth = typeof options.depth === 'number' ? options.depth : defaults.depth;\n    options.arrayLimit = typeof options.arrayLimit === 'number' ? options.arrayLimit : defaults.arrayLimit;\n    options.parseArrays = options.parseArrays !== false;\n    options.decoder = typeof options.decoder === 'function' ? options.decoder : defaults.decoder;\n    options.allowDots = typeof options.allowDots === 'boolean' ? options.allowDots : defaults.allowDots;\n    options.plainObjects = typeof options.plainObjects === 'boolean' ? options.plainObjects : defaults.plainObjects;\n    options.allowPrototypes = typeof options.allowPrototypes === 'boolean' ? options.allowPrototypes : defaults.allowPrototypes;\n    options.parameterLimit = typeof options.parameterLimit === 'number' ? options.parameterLimit : defaults.parameterLimit;\n    options.strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options);\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    return utils.compact(obj);\n};\n\n},{\"./utils\":34}],33:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./utils');\nvar formats = require('./formats');\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) { // eslint-disable-line func-name-matching\n        return prefix + '[]';\n    },\n    indices: function indices(prefix, key) { // eslint-disable-line func-name-matching\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) { // eslint-disable-line func-name-matching\n        return prefix;\n    }\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaults = {\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    serializeDate: function serializeDate(date) { // eslint-disable-line func-name-matching\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar stringify = function stringify( // eslint-disable-line func-name-matching\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    formatter\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (obj === null) {\n        if (strictNullHandling) {\n            return encoder ? encoder(prefix) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean' || utils.isBuffer(obj)) {\n        if (encoder) {\n            return [formatter(encoder(prefix)) + '=' + formatter(encoder(obj))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (Array.isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        if (Array.isArray(obj)) {\n            values = values.concat(stringify(\n                obj[key],\n                generateArrayPrefix(prefix, key),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter\n            ));\n        } else {\n            values = values.concat(stringify(\n                obj[key],\n                prefix + (allowDots ? '.' + key : '[' + key + ']'),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter\n            ));\n        }\n    }\n\n    return values;\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = opts || {};\n\n    if (options.encoder !== null && options.encoder !== undefined && typeof options.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var delimiter = typeof options.delimiter === 'undefined' ? defaults.delimiter : options.delimiter;\n    var strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n    var skipNulls = typeof options.skipNulls === 'boolean' ? options.skipNulls : defaults.skipNulls;\n    var encode = typeof options.encode === 'boolean' ? options.encode : defaults.encode;\n    var encoder = encode ? (typeof options.encoder === 'function' ? options.encoder : defaults.encoder) : null;\n    var sort = typeof options.sort === 'function' ? options.sort : null;\n    var allowDots = typeof options.allowDots === 'undefined' ? false : options.allowDots;\n    var serializeDate = typeof options.serializeDate === 'function' ? options.serializeDate : defaults.serializeDate;\n    if (typeof options.format === 'undefined') {\n        options.format = formats.default;\n    } else if (!Object.prototype.hasOwnProperty.call(formats.formatters, options.format)) {\n        throw new TypeError('Unknown format option provided.');\n    }\n    var formatter = formats.formatters[options.format];\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (Array.isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (options.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = options.arrayFormat;\n    } else if ('indices' in options) {\n        arrayFormat = options.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (sort) {\n        objKeys.sort(sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        keys = keys.concat(stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encoder,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            formatter\n        ));\n    }\n\n    return keys.join(delimiter);\n};\n\n},{\"./formats\":30,\"./utils\":34}],34:[function(require,module,exports){\n'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nexports.arrayToObject = function (source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nexports.merge = function (target, source, options) {\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (Array.isArray(target)) {\n            target.push(source);\n        } else if (typeof target === 'object') {\n            target[source] = true;\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (Array.isArray(target) && !Array.isArray(source)) {\n        mergeTarget = exports.arrayToObject(target, options);\n    }\n\n    if (Array.isArray(target) && Array.isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                if (target[i] && typeof target[i] === 'object') {\n                    target[i] = exports.merge(target[i], item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (Object.prototype.hasOwnProperty.call(acc, key)) {\n            acc[key] = exports.merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nexports.decode = function (str) {\n    try {\n        return decodeURIComponent(str.replace(/\\+/g, ' '));\n    } catch (e) {\n        return str;\n    }\n};\n\nexports.encode = function (str) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = typeof str === 'string' ? str : String(str);\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D || // -\n            c === 0x2E || // .\n            c === 0x5F || // _\n            c === 0x7E || // ~\n            (c >= 0x30 && c <= 0x39) || // 0-9\n            (c >= 0x41 && c <= 0x5A) || // a-z\n            (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)] + hexTable[0x80 | ((c >> 12) & 0x3F)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]; // eslint-disable-line max-len\n    }\n\n    return out;\n};\n\nexports.compact = function (obj, references) {\n    if (typeof obj !== 'object' || obj === null) {\n        return obj;\n    }\n\n    var refs = references || [];\n    var lookup = refs.indexOf(obj);\n    if (lookup !== -1) {\n        return refs[lookup];\n    }\n\n    refs.push(obj);\n\n    if (Array.isArray(obj)) {\n        var compacted = [];\n\n        for (var i = 0; i < obj.length; ++i) {\n            if (obj[i] && typeof obj[i] === 'object') {\n                compacted.push(exports.compact(obj[i], refs));\n            } else if (typeof obj[i] !== 'undefined') {\n                compacted.push(obj[i]);\n            }\n        }\n\n        return compacted;\n    }\n\n    var keys = Object.keys(obj);\n    keys.forEach(function (key) {\n        obj[key] = exports.compact(obj[key], refs);\n    });\n\n    return obj;\n};\n\nexports.isRegExp = function (obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nexports.isBuffer = function (obj) {\n    if (obj === null || typeof obj === 'undefined') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\n},{}],35:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _toDate = require('./lib/toDate');\n\nvar _toDate2 = _interopRequireDefault(_toDate);\n\nvar _toFloat = require('./lib/toFloat');\n\nvar _toFloat2 = _interopRequireDefault(_toFloat);\n\nvar _toInt = require('./lib/toInt');\n\nvar _toInt2 = _interopRequireDefault(_toInt);\n\nvar _toBoolean = require('./lib/toBoolean');\n\nvar _toBoolean2 = _interopRequireDefault(_toBoolean);\n\nvar _equals = require('./lib/equals');\n\nvar _equals2 = _interopRequireDefault(_equals);\n\nvar _contains = require('./lib/contains');\n\nvar _contains2 = _interopRequireDefault(_contains);\n\nvar _matches = require('./lib/matches');\n\nvar _matches2 = _interopRequireDefault(_matches);\n\nvar _isEmail = require('./lib/isEmail');\n\nvar _isEmail2 = _interopRequireDefault(_isEmail);\n\nvar _isURL = require('./lib/isURL');\n\nvar _isURL2 = _interopRequireDefault(_isURL);\n\nvar _isMACAddress = require('./lib/isMACAddress');\n\nvar _isMACAddress2 = _interopRequireDefault(_isMACAddress);\n\nvar _isIP = require('./lib/isIP');\n\nvar _isIP2 = _interopRequireDefault(_isIP);\n\nvar _isFQDN = require('./lib/isFQDN');\n\nvar _isFQDN2 = _interopRequireDefault(_isFQDN);\n\nvar _isBoolean = require('./lib/isBoolean');\n\nvar _isBoolean2 = _interopRequireDefault(_isBoolean);\n\nvar _isAlpha = require('./lib/isAlpha');\n\nvar _isAlpha2 = _interopRequireDefault(_isAlpha);\n\nvar _isAlphanumeric = require('./lib/isAlphanumeric');\n\nvar _isAlphanumeric2 = _interopRequireDefault(_isAlphanumeric);\n\nvar _isNumeric = require('./lib/isNumeric');\n\nvar _isNumeric2 = _interopRequireDefault(_isNumeric);\n\nvar _isLowercase = require('./lib/isLowercase');\n\nvar _isLowercase2 = _interopRequireDefault(_isLowercase);\n\nvar _isUppercase = require('./lib/isUppercase');\n\nvar _isUppercase2 = _interopRequireDefault(_isUppercase);\n\nvar _isAscii = require('./lib/isAscii');\n\nvar _isAscii2 = _interopRequireDefault(_isAscii);\n\nvar _isFullWidth = require('./lib/isFullWidth');\n\nvar _isFullWidth2 = _interopRequireDefault(_isFullWidth);\n\nvar _isHalfWidth = require('./lib/isHalfWidth');\n\nvar _isHalfWidth2 = _interopRequireDefault(_isHalfWidth);\n\nvar _isVariableWidth = require('./lib/isVariableWidth');\n\nvar _isVariableWidth2 = _interopRequireDefault(_isVariableWidth);\n\nvar _isMultibyte = require('./lib/isMultibyte');\n\nvar _isMultibyte2 = _interopRequireDefault(_isMultibyte);\n\nvar _isSurrogatePair = require('./lib/isSurrogatePair');\n\nvar _isSurrogatePair2 = _interopRequireDefault(_isSurrogatePair);\n\nvar _isInt = require('./lib/isInt');\n\nvar _isInt2 = _interopRequireDefault(_isInt);\n\nvar _isFloat = require('./lib/isFloat');\n\nvar _isFloat2 = _interopRequireDefault(_isFloat);\n\nvar _isDecimal = require('./lib/isDecimal');\n\nvar _isDecimal2 = _interopRequireDefault(_isDecimal);\n\nvar _isHexadecimal = require('./lib/isHexadecimal');\n\nvar _isHexadecimal2 = _interopRequireDefault(_isHexadecimal);\n\nvar _isDivisibleBy = require('./lib/isDivisibleBy');\n\nvar _isDivisibleBy2 = _interopRequireDefault(_isDivisibleBy);\n\nvar _isHexColor = require('./lib/isHexColor');\n\nvar _isHexColor2 = _interopRequireDefault(_isHexColor);\n\nvar _isMD = require('./lib/isMD5');\n\nvar _isMD2 = _interopRequireDefault(_isMD);\n\nvar _isJSON = require('./lib/isJSON');\n\nvar _isJSON2 = _interopRequireDefault(_isJSON);\n\nvar _isEmpty = require('./lib/isEmpty');\n\nvar _isEmpty2 = _interopRequireDefault(_isEmpty);\n\nvar _isLength = require('./lib/isLength');\n\nvar _isLength2 = _interopRequireDefault(_isLength);\n\nvar _isByteLength = require('./lib/isByteLength');\n\nvar _isByteLength2 = _interopRequireDefault(_isByteLength);\n\nvar _isUUID = require('./lib/isUUID');\n\nvar _isUUID2 = _interopRequireDefault(_isUUID);\n\nvar _isMongoId = require('./lib/isMongoId');\n\nvar _isMongoId2 = _interopRequireDefault(_isMongoId);\n\nvar _isAfter = require('./lib/isAfter');\n\nvar _isAfter2 = _interopRequireDefault(_isAfter);\n\nvar _isBefore = require('./lib/isBefore');\n\nvar _isBefore2 = _interopRequireDefault(_isBefore);\n\nvar _isIn = require('./lib/isIn');\n\nvar _isIn2 = _interopRequireDefault(_isIn);\n\nvar _isCreditCard = require('./lib/isCreditCard');\n\nvar _isCreditCard2 = _interopRequireDefault(_isCreditCard);\n\nvar _isISIN = require('./lib/isISIN');\n\nvar _isISIN2 = _interopRequireDefault(_isISIN);\n\nvar _isISBN = require('./lib/isISBN');\n\nvar _isISBN2 = _interopRequireDefault(_isISBN);\n\nvar _isISSN = require('./lib/isISSN');\n\nvar _isISSN2 = _interopRequireDefault(_isISSN);\n\nvar _isMobilePhone = require('./lib/isMobilePhone');\n\nvar _isMobilePhone2 = _interopRequireDefault(_isMobilePhone);\n\nvar _isCurrency = require('./lib/isCurrency');\n\nvar _isCurrency2 = _interopRequireDefault(_isCurrency);\n\nvar _isISO = require('./lib/isISO8601');\n\nvar _isISO2 = _interopRequireDefault(_isISO);\n\nvar _isBase = require('./lib/isBase64');\n\nvar _isBase2 = _interopRequireDefault(_isBase);\n\nvar _isDataURI = require('./lib/isDataURI');\n\nvar _isDataURI2 = _interopRequireDefault(_isDataURI);\n\nvar _ltrim = require('./lib/ltrim');\n\nvar _ltrim2 = _interopRequireDefault(_ltrim);\n\nvar _rtrim = require('./lib/rtrim');\n\nvar _rtrim2 = _interopRequireDefault(_rtrim);\n\nvar _trim = require('./lib/trim');\n\nvar _trim2 = _interopRequireDefault(_trim);\n\nvar _escape = require('./lib/escape');\n\nvar _escape2 = _interopRequireDefault(_escape);\n\nvar _unescape = require('./lib/unescape');\n\nvar _unescape2 = _interopRequireDefault(_unescape);\n\nvar _stripLow = require('./lib/stripLow');\n\nvar _stripLow2 = _interopRequireDefault(_stripLow);\n\nvar _whitelist = require('./lib/whitelist');\n\nvar _whitelist2 = _interopRequireDefault(_whitelist);\n\nvar _blacklist = require('./lib/blacklist');\n\nvar _blacklist2 = _interopRequireDefault(_blacklist);\n\nvar _isWhitelisted = require('./lib/isWhitelisted');\n\nvar _isWhitelisted2 = _interopRequireDefault(_isWhitelisted);\n\nvar _normalizeEmail = require('./lib/normalizeEmail');\n\nvar _normalizeEmail2 = _interopRequireDefault(_normalizeEmail);\n\nvar _toString = require('./lib/util/toString');\n\nvar _toString2 = _interopRequireDefault(_toString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar version = '7.0.0';\n\nvar validator = {\n  version: version,\n  toDate: _toDate2.default,\n  toFloat: _toFloat2.default,\n  toInt: _toInt2.default,\n  toBoolean: _toBoolean2.default,\n  equals: _equals2.default,\n  contains: _contains2.default,\n  matches: _matches2.default,\n  isEmail: _isEmail2.default,\n  isURL: _isURL2.default,\n  isMACAddress: _isMACAddress2.default,\n  isIP: _isIP2.default,\n  isFQDN: _isFQDN2.default,\n  isBoolean: _isBoolean2.default,\n  isAlpha: _isAlpha2.default,\n  isAlphanumeric: _isAlphanumeric2.default,\n  isNumeric: _isNumeric2.default,\n  isLowercase: _isLowercase2.default,\n  isUppercase: _isUppercase2.default,\n  isAscii: _isAscii2.default,\n  isFullWidth: _isFullWidth2.default,\n  isHalfWidth: _isHalfWidth2.default,\n  isVariableWidth: _isVariableWidth2.default,\n  isMultibyte: _isMultibyte2.default,\n  isSurrogatePair: _isSurrogatePair2.default,\n  isInt: _isInt2.default,\n  isFloat: _isFloat2.default,\n  isDecimal: _isDecimal2.default,\n  isHexadecimal: _isHexadecimal2.default,\n  isDivisibleBy: _isDivisibleBy2.default,\n  isHexColor: _isHexColor2.default,\n  isMD5: _isMD2.default,\n  isJSON: _isJSON2.default,\n  isEmpty: _isEmpty2.default,\n  isLength: _isLength2.default,\n  isByteLength: _isByteLength2.default,\n  isUUID: _isUUID2.default,\n  isMongoId: _isMongoId2.default,\n  isAfter: _isAfter2.default,\n  isBefore: _isBefore2.default,\n  isIn: _isIn2.default,\n  isCreditCard: _isCreditCard2.default,\n  isISIN: _isISIN2.default,\n  isISBN: _isISBN2.default,\n  isISSN: _isISSN2.default,\n  isMobilePhone: _isMobilePhone2.default,\n  isCurrency: _isCurrency2.default,\n  isISO8601: _isISO2.default,\n  isBase64: _isBase2.default,\n  isDataURI: _isDataURI2.default,\n  ltrim: _ltrim2.default,\n  rtrim: _rtrim2.default,\n  trim: _trim2.default,\n  escape: _escape2.default,\n  unescape: _unescape2.default,\n  stripLow: _stripLow2.default,\n  whitelist: _whitelist2.default,\n  blacklist: _blacklist2.default,\n  isWhitelisted: _isWhitelisted2.default,\n  normalizeEmail: _normalizeEmail2.default,\n  toString: _toString2.default\n};\n\nexports.default = validator;\nmodule.exports = exports['default'];\n},{\"./lib/blacklist\":37,\"./lib/contains\":38,\"./lib/equals\":39,\"./lib/escape\":40,\"./lib/isAfter\":41,\"./lib/isAlpha\":42,\"./lib/isAlphanumeric\":43,\"./lib/isAscii\":44,\"./lib/isBase64\":45,\"./lib/isBefore\":46,\"./lib/isBoolean\":47,\"./lib/isByteLength\":48,\"./lib/isCreditCard\":49,\"./lib/isCurrency\":50,\"./lib/isDataURI\":51,\"./lib/isDecimal\":52,\"./lib/isDivisibleBy\":53,\"./lib/isEmail\":54,\"./lib/isEmpty\":55,\"./lib/isFQDN\":56,\"./lib/isFloat\":57,\"./lib/isFullWidth\":58,\"./lib/isHalfWidth\":59,\"./lib/isHexColor\":60,\"./lib/isHexadecimal\":61,\"./lib/isIP\":62,\"./lib/isISBN\":63,\"./lib/isISIN\":64,\"./lib/isISO8601\":65,\"./lib/isISSN\":66,\"./lib/isIn\":67,\"./lib/isInt\":68,\"./lib/isJSON\":69,\"./lib/isLength\":70,\"./lib/isLowercase\":71,\"./lib/isMACAddress\":72,\"./lib/isMD5\":73,\"./lib/isMobilePhone\":74,\"./lib/isMongoId\":75,\"./lib/isMultibyte\":76,\"./lib/isNumeric\":77,\"./lib/isSurrogatePair\":78,\"./lib/isURL\":79,\"./lib/isUUID\":80,\"./lib/isUppercase\":81,\"./lib/isVariableWidth\":82,\"./lib/isWhitelisted\":83,\"./lib/ltrim\":84,\"./lib/matches\":85,\"./lib/normalizeEmail\":86,\"./lib/rtrim\":87,\"./lib/stripLow\":88,\"./lib/toBoolean\":89,\"./lib/toDate\":90,\"./lib/toFloat\":91,\"./lib/toInt\":92,\"./lib/trim\":93,\"./lib/unescape\":94,\"./lib/util/toString\":97,\"./lib/whitelist\":98}],36:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar alpha = exports.alpha = {\n  'en-US': /^[A-Z]+$/i,\n  'cs-CZ': /^[A-Z]+$/i,\n  'da-DK': /^[A-Z]+$/i,\n  'de-DE': /^[A-Z]+$/i,\n  'es-ES': /^[A-Z]+$/i,\n  'fr-FR': /^[A-Z]+$/i,\n  'nl-NL': /^[A-Z]+$/i,\n  'hu-HU': /^[A-Z]+$/i,\n  'pl-PL': /^[A-Z]+$/i,\n  'pt-PT': /^[A-Z]+$/i,\n  'ru-RU': /^[-]+$/i,\n  'sr-RS@latin': /^[A-Z]+$/i,\n  'sr-RS': /^[-]+$/i,\n  'tr-TR': /^[A-Z]+$/i,\n  'uk-UA': /^[-I]+$/i,\n  ar: /^[]+$/\n};\n\nvar alphanumeric = exports.alphanumeric = {\n  'en-US': /^[0-9A-Z]+$/i,\n  'cs-CZ': /^[0-9A-Z]+$/i,\n  'da-DK': /^[0-9A-Z]$/i,\n  'de-DE': /^[0-9A-Z]+$/i,\n  'es-ES': /^[0-9A-Z]+$/i,\n  'fr-FR': /^[0-9A-Z]+$/i,\n  'hu-HU': /^[0-9A-Z]+$/i,\n  'nl-NL': /^[0-9A-Z]+$/i,\n  'pl-PL': /^[0-9A-Z]+$/i,\n  'pt-PT': /^[0-9A-Z]+$/i,\n  'ru-RU': /^[0-9-]+$/i,\n  'sr-RS@latin': /^[0-9A-Z]+$/i,\n  'sr-RS': /^[0-9-]+$/i,\n  'tr-TR': /^[0-9A-Z]+$/i,\n  'uk-UA': /^[0-9-I]+$/i,\n  ar: /^[0-9]+$/\n};\n\nvar englishLocales = exports.englishLocales = ['AU', 'GB', 'HK', 'IN', 'NZ', 'ZA', 'ZM'];\n\nfor (var locale, i = 0; i < englishLocales.length; i++) {\n  locale = 'en-' + englishLocales[i];\n  alpha[locale] = alpha['en-US'];\n  alphanumeric[locale] = alphanumeric['en-US'];\n}\n\nalpha['pt-BR'] = alpha['pt-PT'];\nalphanumeric['pt-BR'] = alphanumeric['pt-PT'];\n\n// Source: http://www.localeplanet.com/java/\nvar arabicLocales = exports.arabicLocales = ['AE', 'BH', 'DZ', 'EG', 'IQ', 'JO', 'KW', 'LB', 'LY', 'MA', 'QM', 'QA', 'SA', 'SD', 'SY', 'TN', 'YE'];\n\nfor (var _locale, _i = 0; _i < arabicLocales.length; _i++) {\n  _locale = 'ar-' + arabicLocales[_i];\n  alpha[_locale] = alpha.ar;\n  alphanumeric[_locale] = alphanumeric.ar;\n}\n},{}],37:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = blacklist;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction blacklist(str, chars) {\n  (0, _assertString2.default)(str);\n  return str.replace(new RegExp('[' + chars + ']+', 'g'), '');\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],38:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = contains;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _toString = require('./util/toString');\n\nvar _toString2 = _interopRequireDefault(_toString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction contains(str, elem) {\n  (0, _assertString2.default)(str);\n  return str.indexOf((0, _toString2.default)(elem)) >= 0;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95,\"./util/toString\":97}],39:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = equals;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction equals(str, comparison) {\n  (0, _assertString2.default)(str);\n  return str === comparison;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],40:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n      value: true\n});\nexports.default = escape;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction escape(str) {\n      (0, _assertString2.default)(str);\n      return str.replace(/&/g, '&amp;').replace(/\"/g, '&quot;').replace(/'/g, '&#x27;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\\//g, '&#x2F;').replace(/\\\\/g, '&#x5C;').replace(/`/g, '&#96;');\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],41:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isAfter;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _toDate = require('./toDate');\n\nvar _toDate2 = _interopRequireDefault(_toDate);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isAfter(str) {\n  var date = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : String(new Date());\n\n  (0, _assertString2.default)(str);\n  var comparison = (0, _toDate2.default)(date);\n  var original = (0, _toDate2.default)(str);\n  return !!(original && comparison && original > comparison);\n}\nmodule.exports = exports['default'];\n},{\"./toDate\":90,\"./util/assertString\":95}],42:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isAlpha;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _alpha = require('./alpha');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isAlpha(str) {\n  var locale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'en-US';\n\n  (0, _assertString2.default)(str);\n  if (locale in _alpha.alpha) {\n    return _alpha.alpha[locale].test(str);\n  }\n  throw new Error('Invalid locale \\'' + locale + '\\'');\n}\nmodule.exports = exports['default'];\n},{\"./alpha\":36,\"./util/assertString\":95}],43:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isAlphanumeric;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _alpha = require('./alpha');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isAlphanumeric(str) {\n  var locale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'en-US';\n\n  (0, _assertString2.default)(str);\n  if (locale in _alpha.alphanumeric) {\n    return _alpha.alphanumeric[locale].test(str);\n  }\n  throw new Error('Invalid locale \\'' + locale + '\\'');\n}\nmodule.exports = exports['default'];\n},{\"./alpha\":36,\"./util/assertString\":95}],44:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isAscii;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable no-control-regex */\nvar ascii = /^[\\x00-\\x7F]+$/;\n/* eslint-enable no-control-regex */\n\nfunction isAscii(str) {\n  (0, _assertString2.default)(str);\n  return ascii.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],45:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isBase64;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar notBase64 = /[^A-Z0-9+\\/=]/i;\n\nfunction isBase64(str) {\n  (0, _assertString2.default)(str);\n  var len = str.length;\n  if (!len || len % 4 !== 0 || notBase64.test(str)) {\n    return false;\n  }\n  var firstPaddingChar = str.indexOf('=');\n  return firstPaddingChar === -1 || firstPaddingChar === len - 1 || firstPaddingChar === len - 2 && str[len - 1] === '=';\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],46:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isBefore;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _toDate = require('./toDate');\n\nvar _toDate2 = _interopRequireDefault(_toDate);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isBefore(str) {\n  var date = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : String(new Date());\n\n  (0, _assertString2.default)(str);\n  var comparison = (0, _toDate2.default)(date);\n  var original = (0, _toDate2.default)(str);\n  return !!(original && comparison && original < comparison);\n}\nmodule.exports = exports['default'];\n},{\"./toDate\":90,\"./util/assertString\":95}],47:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isBoolean;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isBoolean(str) {\n  (0, _assertString2.default)(str);\n  return ['true', 'false', '1', '0'].indexOf(str) >= 0;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],48:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = isByteLength;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable prefer-rest-params */\nfunction isByteLength(str, options) {\n  (0, _assertString2.default)(str);\n  var min = void 0;\n  var max = void 0;\n  if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object') {\n    min = options.min || 0;\n    max = options.max;\n  } else {\n    // backwards compatibility: isByteLength(str, min [, max])\n    min = arguments[1];\n    max = arguments[2];\n  }\n  var len = encodeURI(str).split(/%..|./).length - 1;\n  return len >= min && (typeof max === 'undefined' || len <= max);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],49:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isCreditCard;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable max-len */\nvar creditCard = /^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\\d{3})\\d{11})|62[0-9]{14}$/;\n/* eslint-enable max-len */\n\nfunction isCreditCard(str) {\n  (0, _assertString2.default)(str);\n  var sanitized = str.replace(/[^0-9]+/g, '');\n  if (!creditCard.test(sanitized)) {\n    return false;\n  }\n  var sum = 0;\n  var digit = void 0;\n  var tmpNum = void 0;\n  var shouldDouble = void 0;\n  for (var i = sanitized.length - 1; i >= 0; i--) {\n    digit = sanitized.substring(i, i + 1);\n    tmpNum = parseInt(digit, 10);\n    if (shouldDouble) {\n      tmpNum *= 2;\n      if (tmpNum >= 10) {\n        sum += tmpNum % 10 + 1;\n      } else {\n        sum += tmpNum;\n      }\n    } else {\n      sum += tmpNum;\n    }\n    shouldDouble = !shouldDouble;\n  }\n  return !!(sum % 10 === 0 ? sanitized : false);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],50:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isCurrency;\n\nvar _merge = require('./util/merge');\n\nvar _merge2 = _interopRequireDefault(_merge);\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction currencyRegex(options) {\n  var symbol = '(\\\\' + options.symbol.replace(/\\./g, '\\\\.') + ')' + (options.require_symbol ? '' : '?'),\n      negative = '-?',\n      whole_dollar_amount_without_sep = '[1-9]\\\\d*',\n      whole_dollar_amount_with_sep = '[1-9]\\\\d{0,2}(\\\\' + options.thousands_separator + '\\\\d{3})*',\n      valid_whole_dollar_amounts = ['0', whole_dollar_amount_without_sep, whole_dollar_amount_with_sep],\n      whole_dollar_amount = '(' + valid_whole_dollar_amounts.join('|') + ')?',\n      decimal_amount = '(\\\\' + options.decimal_separator + '\\\\d{2})?';\n  var pattern = whole_dollar_amount + decimal_amount;\n\n  // default is negative sign before symbol, but there are two other options (besides parens)\n  if (options.allow_negatives && !options.parens_for_negatives) {\n    if (options.negative_sign_after_digits) {\n      pattern += negative;\n    } else if (options.negative_sign_before_digits) {\n      pattern = negative + pattern;\n    }\n  }\n\n  // South African Rand, for example, uses R 123 (space) and R-123 (no space)\n  if (options.allow_negative_sign_placeholder) {\n    pattern = '( (?!\\\\-))?' + pattern;\n  } else if (options.allow_space_after_symbol) {\n    pattern = ' ?' + pattern;\n  } else if (options.allow_space_after_digits) {\n    pattern += '( (?!$))?';\n  }\n\n  if (options.symbol_after_digits) {\n    pattern += symbol;\n  } else {\n    pattern = symbol + pattern;\n  }\n\n  if (options.allow_negatives) {\n    if (options.parens_for_negatives) {\n      pattern = '(\\\\(' + pattern + '\\\\)|' + pattern + ')';\n    } else if (!(options.negative_sign_before_digits || options.negative_sign_after_digits)) {\n      pattern = negative + pattern;\n    }\n  }\n\n  /* eslint-disable prefer-template */\n  return new RegExp('^' +\n  // ensure there's a dollar and/or decimal amount, and that\n  // it doesn't start with a space or a negative sign followed by a space\n  '(?!-? )(?=.*\\\\d)' + pattern + '$');\n  /* eslint-enable prefer-template */\n}\n\nvar default_currency_options = {\n  symbol: '$',\n  require_symbol: false,\n  allow_space_after_symbol: false,\n  symbol_after_digits: false,\n  allow_negatives: true,\n  parens_for_negatives: false,\n  negative_sign_before_digits: false,\n  negative_sign_after_digits: false,\n  allow_negative_sign_placeholder: false,\n  thousands_separator: ',',\n  decimal_separator: '.',\n  allow_space_after_digits: false\n};\n\nfunction isCurrency(str, options) {\n  (0, _assertString2.default)(str);\n  options = (0, _merge2.default)(options, default_currency_options);\n  return currencyRegex(options).test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95,\"./util/merge\":96}],51:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isDataURI;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar dataURI = /^\\s*data:([a-z]+\\/[a-z0-9\\-\\+]+(;[a-z\\-]+=[a-z0-9\\-]+)?)?(;base64)?,[a-z0-9!\\$&',\\(\\)\\*\\+,;=\\-\\._~:@\\/\\?%\\s]*\\s*$/i; // eslint-disable-line max-len\n\nfunction isDataURI(str) {\n  (0, _assertString2.default)(str);\n  return dataURI.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],52:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isDecimal;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar decimal = /^[-+]?([0-9]+|\\.[0-9]+|[0-9]+\\.[0-9]+)$/;\n\nfunction isDecimal(str) {\n  (0, _assertString2.default)(str);\n  return str !== '' && decimal.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],53:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isDivisibleBy;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _toFloat = require('./toFloat');\n\nvar _toFloat2 = _interopRequireDefault(_toFloat);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isDivisibleBy(str, num) {\n  (0, _assertString2.default)(str);\n  return (0, _toFloat2.default)(str) % parseInt(num, 10) === 0;\n}\nmodule.exports = exports['default'];\n},{\"./toFloat\":91,\"./util/assertString\":95}],54:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isEmail;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _merge = require('./util/merge');\n\nvar _merge2 = _interopRequireDefault(_merge);\n\nvar _isByteLength = require('./isByteLength');\n\nvar _isByteLength2 = _interopRequireDefault(_isByteLength);\n\nvar _isFQDN = require('./isFQDN');\n\nvar _isFQDN2 = _interopRequireDefault(_isFQDN);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar default_email_options = {\n  allow_display_name: false,\n  require_display_name: false,\n  allow_utf8_local_part: true,\n  require_tld: true\n};\n\n/* eslint-disable max-len */\n/* eslint-disable no-control-regex */\nvar displayName = /^[a-z\\d!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~\\.\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+[a-z\\d!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~\\.\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF\\s]*<(.+)>$/i;\nvar emailUserPart = /^[a-z\\d!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]+$/i;\nvar quotedEmailUser = /^([\\s\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f\\x21\\x23-\\x5b\\x5d-\\x7e]|(\\\\[\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]))*$/i;\nvar emailUserUtf8Part = /^[a-z\\d!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+$/i;\nvar quotedEmailUserUtf8 = /^([\\s\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f\\x21\\x23-\\x5b\\x5d-\\x7e\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|(\\\\[\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))*$/i;\n/* eslint-enable max-len */\n/* eslint-enable no-control-regex */\n\nfunction isEmail(str, options) {\n  (0, _assertString2.default)(str);\n  options = (0, _merge2.default)(options, default_email_options);\n\n  if (options.require_display_name || options.allow_display_name) {\n    var display_email = str.match(displayName);\n    if (display_email) {\n      str = display_email[1];\n    } else if (options.require_display_name) {\n      return false;\n    }\n  }\n\n  var parts = str.split('@');\n  var domain = parts.pop();\n  var user = parts.join('@');\n\n  var lower_domain = domain.toLowerCase();\n  if (lower_domain === 'gmail.com' || lower_domain === 'googlemail.com') {\n    user = user.replace(/\\./g, '').toLowerCase();\n  }\n\n  if (!(0, _isByteLength2.default)(user, { max: 64 }) || !(0, _isByteLength2.default)(domain, { max: 256 })) {\n    return false;\n  }\n\n  if (!(0, _isFQDN2.default)(domain, { require_tld: options.require_tld })) {\n    return false;\n  }\n\n  if (user[0] === '\"') {\n    user = user.slice(1, user.length - 1);\n    return options.allow_utf8_local_part ? quotedEmailUserUtf8.test(user) : quotedEmailUser.test(user);\n  }\n\n  var pattern = options.allow_utf8_local_part ? emailUserUtf8Part : emailUserPart;\n\n  var user_parts = user.split('.');\n  for (var i = 0; i < user_parts.length; i++) {\n    if (!pattern.test(user_parts[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\nmodule.exports = exports['default'];\n},{\"./isByteLength\":48,\"./isFQDN\":56,\"./util/assertString\":95,\"./util/merge\":96}],55:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isEmpty;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isEmpty(str) {\n  (0, _assertString2.default)(str);\n  return str.length === 0;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],56:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isFDQN;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _merge = require('./util/merge');\n\nvar _merge2 = _interopRequireDefault(_merge);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar default_fqdn_options = {\n  require_tld: true,\n  allow_underscores: false,\n  allow_trailing_dot: false\n};\n\nfunction isFDQN(str, options) {\n  (0, _assertString2.default)(str);\n  options = (0, _merge2.default)(options, default_fqdn_options);\n\n  /* Remove the optional trailing dot before checking validity */\n  if (options.allow_trailing_dot && str[str.length - 1] === '.') {\n    str = str.substring(0, str.length - 1);\n  }\n  var parts = str.split('.');\n  if (options.require_tld) {\n    var tld = parts.pop();\n    if (!parts.length || !/^([a-z\\u00a1-\\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(tld)) {\n      return false;\n    }\n  }\n  for (var part, i = 0; i < parts.length; i++) {\n    part = parts[i];\n    if (options.allow_underscores) {\n      part = part.replace(/_/g, '');\n    }\n    if (!/^[a-z\\u00a1-\\uffff0-9-]+$/i.test(part)) {\n      return false;\n    }\n    if (/[\\uff01-\\uff5e]/.test(part)) {\n      // disallow full-width chars\n      return false;\n    }\n    if (part[0] === '-' || part[part.length - 1] === '-') {\n      return false;\n    }\n  }\n  return true;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95,\"./util/merge\":96}],57:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isFloat;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar float = /^(?:[-+])?(?:[0-9]+)?(?:\\.[0-9]*)?(?:[eE][\\+\\-]?(?:[0-9]+))?$/;\n\nfunction isFloat(str, options) {\n  (0, _assertString2.default)(str);\n  options = options || {};\n  if (str === '' || str === '.') {\n    return false;\n  }\n  return float.test(str) && (!options.hasOwnProperty('min') || str >= options.min) && (!options.hasOwnProperty('max') || str <= options.max) && (!options.hasOwnProperty('lt') || str < options.lt) && (!options.hasOwnProperty('gt') || str > options.gt);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],58:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fullWidth = undefined;\nexports.default = isFullWidth;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar fullWidth = exports.fullWidth = /[^\\u0020-\\u007E\\uFF61-\\uFF9F\\uFFA0-\\uFFDC\\uFFE8-\\uFFEE0-9a-zA-Z]/;\n\nfunction isFullWidth(str) {\n  (0, _assertString2.default)(str);\n  return fullWidth.test(str);\n}\n},{\"./util/assertString\":95}],59:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.halfWidth = undefined;\nexports.default = isHalfWidth;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar halfWidth = exports.halfWidth = /[\\u0020-\\u007E\\uFF61-\\uFF9F\\uFFA0-\\uFFDC\\uFFE8-\\uFFEE0-9a-zA-Z]/;\n\nfunction isHalfWidth(str) {\n  (0, _assertString2.default)(str);\n  return halfWidth.test(str);\n}\n},{\"./util/assertString\":95}],60:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isHexColor;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar hexcolor = /^#?([0-9A-F]{3}|[0-9A-F]{6})$/i;\n\nfunction isHexColor(str) {\n  (0, _assertString2.default)(str);\n  return hexcolor.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],61:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isHexadecimal;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar hexadecimal = /^[0-9A-F]+$/i;\n\nfunction isHexadecimal(str) {\n  (0, _assertString2.default)(str);\n  return hexadecimal.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],62:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isIP;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ipv4Maybe = /^(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})$/;\nvar ipv6Block = /^[0-9A-F]{1,4}$/i;\n\nfunction isIP(str) {\n  var version = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n  (0, _assertString2.default)(str);\n  version = String(version);\n  if (!version) {\n    return isIP(str, 4) || isIP(str, 6);\n  } else if (version === '4') {\n    if (!ipv4Maybe.test(str)) {\n      return false;\n    }\n    var parts = str.split('.').sort(function (a, b) {\n      return a - b;\n    });\n    return parts[3] <= 255;\n  } else if (version === '6') {\n    var blocks = str.split(':');\n    var foundOmissionBlock = false; // marker to indicate ::\n\n    // At least some OS accept the last 32 bits of an IPv6 address\n    // (i.e. 2 of the blocks) in IPv4 notation, and RFC 3493 says\n    // that '::ffff:a.b.c.d' is valid for IPv4-mapped IPv6 addresses,\n    // and '::a.b.c.d' is deprecated, but also valid.\n    var foundIPv4TransitionBlock = isIP(blocks[blocks.length - 1], 4);\n    var expectedNumberOfBlocks = foundIPv4TransitionBlock ? 7 : 8;\n\n    if (blocks.length > expectedNumberOfBlocks) {\n      return false;\n    }\n    // initial or final ::\n    if (str === '::') {\n      return true;\n    } else if (str.substr(0, 2) === '::') {\n      blocks.shift();\n      blocks.shift();\n      foundOmissionBlock = true;\n    } else if (str.substr(str.length - 2) === '::') {\n      blocks.pop();\n      blocks.pop();\n      foundOmissionBlock = true;\n    }\n\n    for (var i = 0; i < blocks.length; ++i) {\n      // test for a :: which can not be at the string start/end\n      // since those cases have been handled above\n      if (blocks[i] === '' && i > 0 && i < blocks.length - 1) {\n        if (foundOmissionBlock) {\n          return false; // multiple :: in address\n        }\n        foundOmissionBlock = true;\n      } else if (foundIPv4TransitionBlock && i === blocks.length - 1) {\n        // it has been checked before that the last\n        // block is a valid IPv4 address\n      } else if (!ipv6Block.test(blocks[i])) {\n        return false;\n      }\n    }\n    if (foundOmissionBlock) {\n      return blocks.length >= 1;\n    }\n    return blocks.length === expectedNumberOfBlocks;\n  }\n  return false;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],63:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isISBN;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar isbn10Maybe = /^(?:[0-9]{9}X|[0-9]{10})$/;\nvar isbn13Maybe = /^(?:[0-9]{13})$/;\nvar factor = [1, 3];\n\nfunction isISBN(str) {\n  var version = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n  (0, _assertString2.default)(str);\n  version = String(version);\n  if (!version) {\n    return isISBN(str, 10) || isISBN(str, 13);\n  }\n  var sanitized = str.replace(/[\\s-]+/g, '');\n  var checksum = 0;\n  var i = void 0;\n  if (version === '10') {\n    if (!isbn10Maybe.test(sanitized)) {\n      return false;\n    }\n    for (i = 0; i < 9; i++) {\n      checksum += (i + 1) * sanitized.charAt(i);\n    }\n    if (sanitized.charAt(9) === 'X') {\n      checksum += 10 * 10;\n    } else {\n      checksum += 10 * sanitized.charAt(9);\n    }\n    if (checksum % 11 === 0) {\n      return !!sanitized;\n    }\n  } else if (version === '13') {\n    if (!isbn13Maybe.test(sanitized)) {\n      return false;\n    }\n    for (i = 0; i < 12; i++) {\n      checksum += factor[i % 2] * sanitized.charAt(i);\n    }\n    if (sanitized.charAt(12) - (10 - checksum % 10) % 10 === 0) {\n      return !!sanitized;\n    }\n  }\n  return false;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],64:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isISIN;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar isin = /^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;\n\nfunction isISIN(str) {\n  (0, _assertString2.default)(str);\n  if (!isin.test(str)) {\n    return false;\n  }\n\n  var checksumStr = str.replace(/[A-Z]/g, function (character) {\n    return parseInt(character, 36);\n  });\n\n  var sum = 0;\n  var digit = void 0;\n  var tmpNum = void 0;\n  var shouldDouble = true;\n  for (var i = checksumStr.length - 2; i >= 0; i--) {\n    digit = checksumStr.substring(i, i + 1);\n    tmpNum = parseInt(digit, 10);\n    if (shouldDouble) {\n      tmpNum *= 2;\n      if (tmpNum >= 10) {\n        sum += tmpNum + 1;\n      } else {\n        sum += tmpNum;\n      }\n    } else {\n      sum += tmpNum;\n    }\n    shouldDouble = !shouldDouble;\n  }\n\n  return parseInt(str.substr(str.length - 1), 10) === (10000 - sum) % 10;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],65:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.iso8601 = undefined;\n\nexports.default = function (str) {\n  (0, _assertString2.default)(str);\n  return iso8601.test(str);\n};\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable max-len */\n// from http://goo.gl/0ejHHW\nvar iso8601 = exports.iso8601 = /^([\\+-]?\\d{4}(?!\\d{2}\\b))((-?)((0[1-9]|1[0-2])(\\3([12]\\d|0[1-9]|3[01]))?|W([0-4]\\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\\d|[12]\\d{2}|3([0-5]\\d|6[1-6])))([T\\s]((([01]\\d|2[0-3])((:?)[0-5]\\d)?|24:?00)([\\.,]\\d+(?!:))?)?(\\17[0-5]\\d([\\.,]\\d+)?)?([zZ]|([\\+-])([01]\\d|2[0-3]):?([0-5]\\d)?)?)?)?$/;\n/* eslint-enable max-len */\n},{\"./util/assertString\":95}],66:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isISSN;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar issn = '^\\\\d{4}-?\\\\d{3}[\\\\dX]$';\n\nfunction isISSN(str) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  (0, _assertString2.default)(str);\n  var testIssn = issn;\n  testIssn = options.require_hyphen ? testIssn.replace('?', '') : testIssn;\n  testIssn = options.case_sensitive ? new RegExp(testIssn) : new RegExp(testIssn, 'i');\n  if (!testIssn.test(str)) {\n    return false;\n  }\n  var issnDigits = str.replace('-', '');\n  var position = 8;\n  var checksum = 0;\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = issnDigits[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var digit = _step.value;\n\n      var digitValue = digit.toUpperCase() === 'X' ? 10 : +digit;\n      checksum += digitValue * position;\n      --position;\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return checksum % 11 === 0;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],67:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = isIn;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _toString = require('./util/toString');\n\nvar _toString2 = _interopRequireDefault(_toString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isIn(str, options) {\n  (0, _assertString2.default)(str);\n  var i = void 0;\n  if (Object.prototype.toString.call(options) === '[object Array]') {\n    var array = [];\n    for (i in options) {\n      if ({}.hasOwnProperty.call(options, i)) {\n        array[i] = (0, _toString2.default)(options[i]);\n      }\n    }\n    return array.indexOf(str) >= 0;\n  } else if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object') {\n    return options.hasOwnProperty(str);\n  } else if (options && typeof options.indexOf === 'function') {\n    return options.indexOf(str) >= 0;\n  }\n  return false;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95,\"./util/toString\":97}],68:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isInt;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar int = /^(?:[-+]?(?:0|[1-9][0-9]*))$/;\nvar intLeadingZeroes = /^[-+]?[0-9]+$/;\n\nfunction isInt(str, options) {\n  (0, _assertString2.default)(str);\n  options = options || {};\n\n  // Get the regex to use for testing, based on whether\n  // leading zeroes are allowed or not.\n  var regex = options.hasOwnProperty('allow_leading_zeroes') && !options.allow_leading_zeroes ? int : intLeadingZeroes;\n\n  // Check min/max/lt/gt\n  var minCheckPassed = !options.hasOwnProperty('min') || str >= options.min;\n  var maxCheckPassed = !options.hasOwnProperty('max') || str <= options.max;\n  var ltCheckPassed = !options.hasOwnProperty('lt') || str < options.lt;\n  var gtCheckPassed = !options.hasOwnProperty('gt') || str > options.gt;\n\n  return regex.test(str) && minCheckPassed && maxCheckPassed && ltCheckPassed && gtCheckPassed;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],69:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = isJSON;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isJSON(str) {\n  (0, _assertString2.default)(str);\n  try {\n    var obj = JSON.parse(str);\n    return !!obj && (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object';\n  } catch (e) {/* ignore */}\n  return false;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],70:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = isLength;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable prefer-rest-params */\nfunction isLength(str, options) {\n  (0, _assertString2.default)(str);\n  var min = void 0;\n  var max = void 0;\n  if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object') {\n    min = options.min || 0;\n    max = options.max;\n  } else {\n    // backwards compatibility: isLength(str, min [, max])\n    min = arguments[1];\n    max = arguments[2];\n  }\n  var surrogatePairs = str.match(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g) || [];\n  var len = str.length - surrogatePairs.length;\n  return len >= min && (typeof max === 'undefined' || len <= max);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],71:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isLowercase;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isLowercase(str) {\n  (0, _assertString2.default)(str);\n  return str === str.toLowerCase();\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],72:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isMACAddress;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar macAddress = /^([0-9a-fA-F][0-9a-fA-F]:){5}([0-9a-fA-F][0-9a-fA-F])$/;\n\nfunction isMACAddress(str) {\n  (0, _assertString2.default)(str);\n  return macAddress.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],73:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isMD5;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar md5 = /^[a-f0-9]{32}$/;\n\nfunction isMD5(str) {\n  (0, _assertString2.default)(str);\n  return md5.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],74:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isMobilePhone;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable max-len */\nvar phones = {\n  'ar-DZ': /^(\\+?213|0)(5|6|7)\\d{8}$/,\n  'ar-SY': /^(!?(\\+?963)|0)?9\\d{8}$/,\n  'ar-SA': /^(!?(\\+?966)|0)?5\\d{8}$/,\n  'en-US': /^(\\+?1)?[2-9]\\d{2}[2-9](?!11)\\d{6}$/,\n  'cs-CZ': /^(\\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,\n  'de-DE': /^(\\+?49[ \\.\\-])?([\\(]{1}[0-9]{1,6}[\\)])?([0-9 \\.\\-\\/]{3,20})((x|ext|extension)[ ]?[0-9]{1,4})?$/,\n  'da-DK': /^(\\+?45)?(\\d{8})$/,\n  'el-GR': /^(\\+?30)?(69\\d{8})$/,\n  'en-AU': /^(\\+?61|0)4\\d{8}$/,\n  'en-GB': /^(\\+?44|0)7\\d{9}$/,\n  'en-HK': /^(\\+?852\\-?)?[569]\\d{3}\\-?\\d{4}$/,\n  'en-IN': /^(\\+?91|0)?[789]\\d{9}$/,\n  'en-NG': /^(\\+?234|0)?[789]\\d{9}$/,\n  'en-NZ': /^(\\+?64|0)2\\d{7,9}$/,\n  'en-ZA': /^(\\+?27|0)\\d{9}$/,\n  'en-ZM': /^(\\+?26)?09[567]\\d{7}$/,\n  'es-ES': /^(\\+?34)?(6\\d{1}|7[1234])\\d{7}$/,\n  'fi-FI': /^(\\+?358|0)\\s?(4(0|1|2|4|5)?|50)\\s?(\\d\\s?){4,8}\\d$/,\n  'fr-FR': /^(\\+?33|0)[67]\\d{8}$/,\n  'he-IL': /^(\\+972|0)([23489]|5[0248]|77)[1-9]\\d{6}/,\n  'hu-HU': /^(\\+?36)(20|30|70)\\d{7}$/,\n  'it-IT': /^(\\+?39)?\\s?3\\d{2} ?\\d{6,7}$/,\n  'ja-JP': /^(\\+?81|0)\\d{1,4}[ \\-]?\\d{1,4}[ \\-]?\\d{4}$/,\n  'ms-MY': /^(\\+?6?01){1}(([145]{1}(\\-|\\s)?\\d{7,8})|([236789]{1}(\\s|\\-)?\\d{7}))$/,\n  'nb-NO': /^(\\+?47)?[49]\\d{7}$/,\n  'nl-BE': /^(\\+?32|0)4?\\d{8}$/,\n  'nn-NO': /^(\\+?47)?[49]\\d{7}$/,\n  'pl-PL': /^(\\+?48)? ?[5-8]\\d ?\\d{3} ?\\d{2} ?\\d{2}$/,\n  'pt-BR': /^(\\+?55|0)\\-?[1-9]{2}\\-?[2-9]{1}\\d{3,4}\\-?\\d{4}$/,\n  'pt-PT': /^(\\+?351)?9[1236]\\d{7}$/,\n  'ro-RO': /^(\\+?4?0)\\s?7\\d{2}(\\/|\\s|\\.|\\-)?\\d{3}(\\s|\\.|\\-)?\\d{3}$/,\n  'en-PK': /^((\\+92)|(0092))-{0,1}\\d{3}-{0,1}\\d{7}$|^\\d{11}$|^\\d{4}-\\d{7}$/,\n  'ru-RU': /^(\\+?7|8)?9\\d{9}$/,\n  'sr-RS': /^(\\+3816|06)[- \\d]{5,9}$/,\n  'tr-TR': /^(\\+?90|0)?5\\d{9}$/,\n  'vi-VN': /^(\\+?84|0)?((1(2([0-9])|6([2-9])|88|99))|(9((?!5)[0-9])))([0-9]{7})$/,\n  'zh-CN': /^(\\+?0?86\\-?)?1[345789]\\d{9}$/,\n  'zh-TW': /^(\\+?886\\-?|0)?9\\d{8}$/\n};\n/* eslint-enable max-len */\n\n// aliases\nphones['en-CA'] = phones['en-US'];\nphones['fr-BE'] = phones['nl-BE'];\nphones['zh-HK'] = phones['en-HK'];\n\nfunction isMobilePhone(str, locale) {\n  (0, _assertString2.default)(str);\n  if (locale in phones) {\n    return phones[locale].test(str);\n  }\n  return false;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],75:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isMongoId;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _isHexadecimal = require('./isHexadecimal');\n\nvar _isHexadecimal2 = _interopRequireDefault(_isHexadecimal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isMongoId(str) {\n  (0, _assertString2.default)(str);\n  return (0, _isHexadecimal2.default)(str) && str.length === 24;\n}\nmodule.exports = exports['default'];\n},{\"./isHexadecimal\":61,\"./util/assertString\":95}],76:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isMultibyte;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable no-control-regex */\nvar multibyte = /[^\\x00-\\x7F]/;\n/* eslint-enable no-control-regex */\n\nfunction isMultibyte(str) {\n  (0, _assertString2.default)(str);\n  return multibyte.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],77:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isNumeric;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar numeric = /^[-+]?[0-9]+$/;\n\nfunction isNumeric(str) {\n  (0, _assertString2.default)(str);\n  return numeric.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],78:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isSurrogatePair;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar surrogatePair = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/;\n\nfunction isSurrogatePair(str) {\n  (0, _assertString2.default)(str);\n  return surrogatePair.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],79:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isURL;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _isFQDN = require('./isFQDN');\n\nvar _isFQDN2 = _interopRequireDefault(_isFQDN);\n\nvar _isIP = require('./isIP');\n\nvar _isIP2 = _interopRequireDefault(_isIP);\n\nvar _merge = require('./util/merge');\n\nvar _merge2 = _interopRequireDefault(_merge);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar default_url_options = {\n  protocols: ['http', 'https', 'ftp'],\n  require_tld: true,\n  require_protocol: false,\n  require_host: true,\n  require_valid_protocol: true,\n  allow_underscores: false,\n  allow_trailing_dot: false,\n  allow_protocol_relative_urls: false\n};\n\nvar wrapped_ipv6 = /^\\[([^\\]]+)\\](?::([0-9]+))?$/;\n\nfunction isRegExp(obj) {\n  return Object.prototype.toString.call(obj) === '[object RegExp]';\n}\n\nfunction checkHost(host, matches) {\n  for (var i = 0; i < matches.length; i++) {\n    var match = matches[i];\n    if (host === match || isRegExp(match) && match.test(host)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction isURL(url, options) {\n  (0, _assertString2.default)(url);\n  if (!url || url.length >= 2083 || /[\\s<>]/.test(url)) {\n    return false;\n  }\n  if (url.indexOf('mailto:') === 0) {\n    return false;\n  }\n  options = (0, _merge2.default)(options, default_url_options);\n  var protocol = void 0,\n      auth = void 0,\n      host = void 0,\n      hostname = void 0,\n      port = void 0,\n      port_str = void 0,\n      split = void 0,\n      ipv6 = void 0;\n\n  split = url.split('#');\n  url = split.shift();\n\n  split = url.split('?');\n  url = split.shift();\n\n  split = url.split('://');\n  if (split.length > 1) {\n    protocol = split.shift();\n    if (options.require_valid_protocol && options.protocols.indexOf(protocol) === -1) {\n      return false;\n    }\n  } else if (options.require_protocol) {\n    return false;\n  } else if (options.allow_protocol_relative_urls && url.substr(0, 2) === '//') {\n    split[0] = url.substr(2);\n  }\n  url = split.join('://');\n\n  split = url.split('/');\n  url = split.shift();\n\n  if (url === '' && !options.require_host) {\n    return true;\n  }\n\n  split = url.split('@');\n  if (split.length > 1) {\n    auth = split.shift();\n    if (auth.indexOf(':') >= 0 && auth.split(':').length > 2) {\n      return false;\n    }\n  }\n  hostname = split.join('@');\n\n  port_str = ipv6 = null;\n  var ipv6_match = hostname.match(wrapped_ipv6);\n  if (ipv6_match) {\n    host = '';\n    ipv6 = ipv6_match[1];\n    port_str = ipv6_match[2] || null;\n  } else {\n    split = hostname.split(':');\n    host = split.shift();\n    if (split.length) {\n      port_str = split.join(':');\n    }\n  }\n\n  if (port_str !== null) {\n    port = parseInt(port_str, 10);\n    if (!/^[0-9]+$/.test(port_str) || port <= 0 || port > 65535) {\n      return false;\n    }\n  }\n\n  if (!(0, _isIP2.default)(host) && !(0, _isFQDN2.default)(host, options) && (!ipv6 || !(0, _isIP2.default)(ipv6, 6)) && host !== 'localhost') {\n    return false;\n  }\n\n  host = host || ipv6;\n\n  if (options.host_whitelist && !checkHost(host, options.host_whitelist)) {\n    return false;\n  }\n  if (options.host_blacklist && checkHost(host, options.host_blacklist)) {\n    return false;\n  }\n\n  return true;\n}\nmodule.exports = exports['default'];\n},{\"./isFQDN\":56,\"./isIP\":62,\"./util/assertString\":95,\"./util/merge\":96}],80:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isUUID;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar uuid = {\n  3: /^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,\n  4: /^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,\n  5: /^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,\n  all: /^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i\n};\n\nfunction isUUID(str) {\n  var version = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'all';\n\n  (0, _assertString2.default)(str);\n  var pattern = uuid[version];\n  return pattern && pattern.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],81:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isUppercase;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isUppercase(str) {\n  (0, _assertString2.default)(str);\n  return str === str.toUpperCase();\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],82:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isVariableWidth;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _isFullWidth = require('./isFullWidth');\n\nvar _isHalfWidth = require('./isHalfWidth');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isVariableWidth(str) {\n  (0, _assertString2.default)(str);\n  return _isFullWidth.fullWidth.test(str) && _isHalfWidth.halfWidth.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./isFullWidth\":58,\"./isHalfWidth\":59,\"./util/assertString\":95}],83:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isWhitelisted;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isWhitelisted(str, chars) {\n  (0, _assertString2.default)(str);\n  for (var i = str.length - 1; i >= 0; i--) {\n    if (chars.indexOf(str[i]) === -1) {\n      return false;\n    }\n  }\n  return true;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],84:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = ltrim;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ltrim(str, chars) {\n  (0, _assertString2.default)(str);\n  var pattern = chars ? new RegExp('^[' + chars + ']+', 'g') : /^\\s+/g;\n  return str.replace(pattern, '');\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],85:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = matches;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction matches(str, pattern, modifiers) {\n  (0, _assertString2.default)(str);\n  if (Object.prototype.toString.call(pattern) !== '[object RegExp]') {\n    pattern = new RegExp(pattern, modifiers);\n  }\n  return pattern.test(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],86:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = normalizeEmail;\n\nvar _isEmail = require('./isEmail');\n\nvar _isEmail2 = _interopRequireDefault(_isEmail);\n\nvar _merge = require('./util/merge');\n\nvar _merge2 = _interopRequireDefault(_merge);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar default_normalize_email_options = {\n  // The following options apply to all email addresses\n  // Lowercases the local part of the email address.\n  // Please note this may violate RFC 5321 as per http://stackoverflow.com/a/9808332/192024).\n  // The domain is always lowercased, as per RFC 1035\n  all_lowercase: true,\n\n  // The following conversions are specific to GMail\n  // Lowercases the local part of the GMail address (known to be case-insensitive)\n  gmail_lowercase: true,\n  // Removes dots from the local part of the email address, as that's ignored by GMail\n  gmail_remove_dots: true,\n  // Removes the subaddress (e.g. \"+foo\") from the email address\n  gmail_remove_subaddress: true,\n  // Conversts the googlemail.com domain to gmail.com\n  gmail_convert_googlemaildotcom: true,\n\n  // The following conversions are specific to Outlook.com / Windows Live / Hotmail\n  // Lowercases the local part of the Outlook.com address (known to be case-insensitive)\n  outlookdotcom_lowercase: true,\n  // Removes the subaddress (e.g. \"+foo\") from the email address\n  outlookdotcom_remove_subaddress: true,\n\n  // The following conversions are specific to Yahoo\n  // Lowercases the local part of the Yahoo address (known to be case-insensitive)\n  yahoo_lowercase: true,\n  // Removes the subaddress (e.g. \"-foo\") from the email address\n  yahoo_remove_subaddress: true,\n\n  // The following conversions are specific to iCloud\n  // Lowercases the local part of the iCloud address (known to be case-insensitive)\n  icloud_lowercase: true,\n  // Removes the subaddress (e.g. \"+foo\") from the email address\n  icloud_remove_subaddress: true\n};\n\n// List of domains used by iCloud\nvar icloud_domains = ['icloud.com', 'me.com'];\n\n// List of domains used by Outlook.com and its predecessors\n// This list is likely incomplete.\n// Partial reference:\n// https://blogs.office.com/2013/04/17/outlook-com-gets-two-step-verification-sign-in-by-alias-and-new-international-domains/\nvar outlookdotcom_domains = ['hotmail.at', 'hotmail.be', 'hotmail.ca', 'hotmail.cl', 'hotmail.co.il', 'hotmail.co.nz', 'hotmail.co.th', 'hotmail.co.uk', 'hotmail.com', 'hotmail.com.ar', 'hotmail.com.au', 'hotmail.com.br', 'hotmail.com.gr', 'hotmail.com.mx', 'hotmail.com.pe', 'hotmail.com.tr', 'hotmail.com.vn', 'hotmail.cz', 'hotmail.de', 'hotmail.dk', 'hotmail.es', 'hotmail.fr', 'hotmail.hu', 'hotmail.id', 'hotmail.ie', 'hotmail.in', 'hotmail.it', 'hotmail.jp', 'hotmail.kr', 'hotmail.lv', 'hotmail.my', 'hotmail.ph', 'hotmail.pt', 'hotmail.sa', 'hotmail.sg', 'hotmail.sk', 'live.be', 'live.co.uk', 'live.com', 'live.com.ar', 'live.com.mx', 'live.de', 'live.es', 'live.eu', 'live.fr', 'live.it', 'live.nl', 'msn.com', 'outlook.at', 'outlook.be', 'outlook.cl', 'outlook.co.il', 'outlook.co.nz', 'outlook.co.th', 'outlook.com', 'outlook.com.ar', 'outlook.com.au', 'outlook.com.br', 'outlook.com.gr', 'outlook.com.pe', 'outlook.com.tr', 'outlook.com.vn', 'outlook.cz', 'outlook.de', 'outlook.dk', 'outlook.es', 'outlook.fr', 'outlook.hu', 'outlook.id', 'outlook.ie', 'outlook.in', 'outlook.it', 'outlook.jp', 'outlook.kr', 'outlook.lv', 'outlook.my', 'outlook.ph', 'outlook.pt', 'outlook.sa', 'outlook.sg', 'outlook.sk', 'passport.com'];\n\n// List of domains used by Yahoo Mail\n// This list is likely incomplete\nvar yahoo_domains = ['rocketmail.com', 'yahoo.ca', 'yahoo.co.uk', 'yahoo.com', 'yahoo.de', 'yahoo.fr', 'yahoo.in', 'yahoo.it', 'ymail.com'];\n\nfunction normalizeEmail(email, options) {\n  options = (0, _merge2.default)(options, default_normalize_email_options);\n\n  if (!(0, _isEmail2.default)(email)) {\n    return false;\n  }\n\n  var raw_parts = email.split('@');\n  var domain = raw_parts.pop();\n  var user = raw_parts.join('@');\n  var parts = [user, domain];\n\n  // The domain is always lowercased, as it's case-insensitive per RFC 1035\n  parts[1] = parts[1].toLowerCase();\n\n  if (parts[1] === 'gmail.com' || parts[1] === 'googlemail.com') {\n    // Address is GMail\n    if (options.gmail_remove_subaddress) {\n      parts[0] = parts[0].split('+')[0];\n    }\n    if (options.gmail_remove_dots) {\n      parts[0] = parts[0].replace(/\\./g, '');\n    }\n    if (!parts[0].length) {\n      return false;\n    }\n    if (options.all_lowercase || options.gmail_lowercase) {\n      parts[0] = parts[0].toLowerCase();\n    }\n    parts[1] = options.gmail_convert_googlemaildotcom ? 'gmail.com' : parts[1];\n  } else if (~icloud_domains.indexOf(parts[1])) {\n    // Address is iCloud\n    if (options.icloud_remove_subaddress) {\n      parts[0] = parts[0].split('+')[0];\n    }\n    if (!parts[0].length) {\n      return false;\n    }\n    if (options.all_lowercase || options.icloud_lowercase) {\n      parts[0] = parts[0].toLowerCase();\n    }\n  } else if (~outlookdotcom_domains.indexOf(parts[1])) {\n    // Address is Outlook.com\n    if (options.outlookdotcom_remove_subaddress) {\n      parts[0] = parts[0].split('+')[0];\n    }\n    if (!parts[0].length) {\n      return false;\n    }\n    if (options.all_lowercase || options.outlookdotcom_lowercase) {\n      parts[0] = parts[0].toLowerCase();\n    }\n  } else if (~yahoo_domains.indexOf(parts[1])) {\n    // Address is Yahoo\n    if (options.yahoo_remove_subaddress) {\n      var components = parts[0].split('-');\n      parts[0] = components.length > 1 ? components.slice(0, -1).join('-') : components[0];\n    }\n    if (!parts[0].length) {\n      return false;\n    }\n    if (options.all_lowercase || options.yahoo_lowercase) {\n      parts[0] = parts[0].toLowerCase();\n    }\n  } else if (options.all_lowercase) {\n    // Any other address\n    parts[0] = parts[0].toLowerCase();\n  }\n  return parts.join('@');\n}\nmodule.exports = exports['default'];\n},{\"./isEmail\":54,\"./util/merge\":96}],87:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = rtrim;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction rtrim(str, chars) {\n  (0, _assertString2.default)(str);\n  var pattern = chars ? new RegExp('[' + chars + ']') : /\\s/;\n\n  var idx = str.length - 1;\n  while (idx >= 0 && pattern.test(str[idx])) {\n    idx--;\n  }\n\n  return idx < str.length ? str.substr(0, idx + 1) : str;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],88:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = stripLow;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _blacklist = require('./blacklist');\n\nvar _blacklist2 = _interopRequireDefault(_blacklist);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction stripLow(str, keep_new_lines) {\n  (0, _assertString2.default)(str);\n  var chars = keep_new_lines ? '\\\\x00-\\\\x09\\\\x0B\\\\x0C\\\\x0E-\\\\x1F\\\\x7F' : '\\\\x00-\\\\x1F\\\\x7F';\n  return (0, _blacklist2.default)(str, chars);\n}\nmodule.exports = exports['default'];\n},{\"./blacklist\":37,\"./util/assertString\":95}],89:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = toBoolean;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction toBoolean(str, strict) {\n  (0, _assertString2.default)(str);\n  if (strict) {\n    return str === '1' || str === 'true';\n  }\n  return str !== '0' && str !== 'false' && str !== '';\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],90:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = toDate;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction toDate(date) {\n  (0, _assertString2.default)(date);\n  date = Date.parse(date);\n  return !isNaN(date) ? new Date(date) : null;\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],91:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = toFloat;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction toFloat(str) {\n  (0, _assertString2.default)(str);\n  return parseFloat(str);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],92:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = toInt;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction toInt(str, radix) {\n  (0, _assertString2.default)(str);\n  return parseInt(str, radix || 10);\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],93:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = trim;\n\nvar _rtrim = require('./rtrim');\n\nvar _rtrim2 = _interopRequireDefault(_rtrim);\n\nvar _ltrim = require('./ltrim');\n\nvar _ltrim2 = _interopRequireDefault(_ltrim);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction trim(str, chars) {\n  return (0, _rtrim2.default)((0, _ltrim2.default)(str, chars), chars);\n}\nmodule.exports = exports['default'];\n},{\"./ltrim\":84,\"./rtrim\":87}],94:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n      value: true\n});\nexports.default = unescape;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction unescape(str) {\n      (0, _assertString2.default)(str);\n      return str.replace(/&amp;/g, '&').replace(/&quot;/g, '\"').replace(/&#x27;/g, \"'\").replace(/&lt;/g, '<').replace(/&gt;/g, '>').replace(/&#x2F;/g, '/').replace(/&#96;/g, '`');\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],95:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = assertString;\nfunction assertString(input) {\n  if (typeof input !== 'string') {\n    throw new TypeError('This library (validator.js) validates strings only');\n  }\n}\nmodule.exports = exports['default'];\n},{}],96:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = merge;\nfunction merge() {\n  var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var defaults = arguments[1];\n\n  for (var key in defaults) {\n    if (typeof obj[key] === 'undefined') {\n      obj[key] = defaults[key];\n    }\n  }\n  return obj;\n}\nmodule.exports = exports['default'];\n},{}],97:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = toString;\nfunction toString(input) {\n  if ((typeof input === 'undefined' ? 'undefined' : _typeof(input)) === 'object' && input !== null) {\n    if (typeof input.toString === 'function') {\n      input = input.toString();\n    } else {\n      input = '[object Object]';\n    }\n  } else if (input === null || typeof input === 'undefined' || isNaN(input) && !input.length) {\n    input = '';\n  }\n  return String(input);\n}\nmodule.exports = exports['default'];\n},{}],98:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = whitelist;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction whitelist(str, chars) {\n  (0, _assertString2.default)(str);\n  return str.replace(new RegExp('[^' + chars + ']+', 'g'), '');\n}\nmodule.exports = exports['default'];\n},{\"./util/assertString\":95}],99:[function(require,module,exports){\n'use strict';\n\nexports.runAnimations = false;\nexports.pop = true;\nexports.canvasId = 'canvas';\nexports.maxShapes = 20;\nexports.postKey = 'mellon';\n\nexports.palette = {\n  colors: [\"#20171C\", \"#1E2A43\", \"#28377D\", \"#352747\", \"#CA2E26\", \"#9A2A1F\", \"#DA6C26\", \"#453121\", \"#916A47\", \"#DAAD27\", \"#7F7D31\", \"#2B5E2E\"],\n  colorNames: {\n    \"#20171C\": \"black\",\n    \"#1E2A43\": \"blue\",\n    \"#28377D\": \"blue\",\n    \"#352747\": \"blue\",\n    \"#CA2E26\": \"red\",\n    \"#9A2A1F\": \"red\",\n    \"#DA6C26\": \"orange\",\n    \"#453121\": \"brown\",\n    \"#916A47\": \"brown\",\n    \"#DAAD27\": \"orange\",\n    \"#7F7D31\": \"green\",\n    \"#2B5E2E\": \"green\"\n  },\n  gradients: {\n    '#20171C': ['#20171C', '#000000'],\n    '#1E2A43': ['#1E2A43', '#263166'],\n    '#28377D': ['#28377D', '#1E4695'],\n    '#352747': ['#352747', '#45005B'],\n    '#CA2E26': ['#CA2E26', '#9B352F'],\n    '#9A2A1F': ['#9A2A1F', '#CD3621'],\n    '#DA6C26': ['#DA6C26', '#BD4820'],\n    '#453121': ['#453121', '#281806'],\n    '#916A47': ['#916A47', '#623A22'],\n    '#DAAD27': ['#DAAD27', '#AF871D'],\n    '#7F7D31': ['#7F7D31', '#555827'],\n    '#2B5E2E': ['#2B5E2E', '#16451D']\n  },\n  pops: [\"#00ADEF\", \"#F285A5\", \"#7DC57F\", \"#F6EB16\", \"#F4EAE0\"],\n  colorSize: 20,\n  selectedColorSize: 30\n};\n\nexports.contextualTuts = [{\n  type: \"fill\",\n  copy: \"<strong>Double-tap</strong> a filled shape to <strong>UNFILL</strong> it. Repeat to <strong>FILL</strong> an unfilled shape.\"\n}, {\n  type: \"pinch\",\n  copy: \"<strong>Pinch</strong> shapes with <strong>TWO FINGERS</strong> to <strong>resize</strong> and <strong>move</strong> them.\"\n}, {\n  type: \"swipe\",\n  copy: \"To <strong>remove</strong> shapes, <strong>pinch</strong> with <strong>two fingers</strong> then <strong>swipe</strong> or hit <strong>undo</strong>.\"\n}];\n\n},{}],100:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getPathColorName = getPathColorName;\nexports.getColorName = getColorName;\nexports.getRandomPop = getRandomPop;\nexports.getIndexedPopColor = getIndexedPopColor;\nvar config = require('./client-config');\n\nvar transparent = exports.transparent = new Color(0, 0);\n\nfunction getPathColorName(path) {\n  var hexColor = path.parent.data.originalColor;\n  // let hexColor = path.strokeColor.toCSS(true); // This fails when it's a gradient\n  return getColorName(hexColor);\n}\n\nfunction getColorName(color) {\n  if (color) {\n    color = color.toUpperCase(); // make sure\n    if (color in config.palette.colorNames) {\n      return config.palette.colorNames[color];\n    } else {\n      return null;\n    }\n  } else {\n    return null;\n  }\n}\n\nfunction getRandomPop() {\n  var pops = config.palette.pops;\n  return pops[Math.floor(Math.random() * pops.length)];\n}\n\nfunction getIndexedPopColor(index) {\n  var pops = config.palette.pops;\n  return pops[index % pops.length];\n}\n\n},{\"./client-config\":99}],101:[function(require,module,exports){\n\"use strict\";\n\n(function (root, factory) {\n\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof module !== \"undefined\" && module.exports) {\n    module.exports = factory();\n  } else {\n    root.ShapeDetector = factory();\n  }\n})(undefined, function () {\n\n  var _nbSamplePoints;\n  var _squareSize = 250;\n  var _phi = 0.5 * (-1.0 + Math.sqrt(5.0));\n  var _angleRange = deg2Rad(45.0);\n  var _anglePrecision = deg2Rad(2.0);\n  var _halfDiagonal = Math.sqrt(_squareSize * _squareSize + _squareSize * _squareSize) * 0.5;\n  var _origin = {\n    x: 0,\n    y: 0\n  };\n\n  function deg2Rad(d) {\n\n    return d * Math.PI / 180.0;\n  };\n\n  function getDistance(a, b) {\n\n    var dx = b.x - a.x;\n    var dy = b.y - a.y;\n\n    return Math.sqrt(dx * dx + dy * dy);\n  };\n\n  function Stroke(points, name) {\n\n    this.points = points;\n    this.name = name;\n    this.processStroke();\n  };\n\n  Stroke.prototype.processStroke = function () {\n\n    this.points = this.resample();\n    this.setCentroid();\n    this.points = this.rotateBy(-this.indicativeAngle());\n    this.points = this.scaleToSquare();\n    this.setCentroid();\n    this.points = this.translateToOrigin();\n\n    return this;\n  };\n\n  Stroke.prototype.resample = function () {\n\n    var localDistance, q;\n    var interval = this.strokeLength() / (_nbSamplePoints - 1);\n    var distance = 0.0;\n    var newPoints = [this.points[0]];\n\n    for (var i = 1; i < this.points.length; i++) {\n      localDistance = getDistance(this.points[i - 1], this.points[i]);\n\n      if (distance + localDistance >= interval) {\n        q = {\n          x: this.points[i - 1].x + (interval - distance) / localDistance * (this.points[i].x - this.points[i - 1].x),\n          y: this.points[i - 1].y + (interval - distance) / localDistance * (this.points[i].y - this.points[i - 1].y)\n        };\n\n        newPoints.push(q);\n        this.points.splice(i, 0, q);\n        distance = 0.0;\n      } else {\n        distance += localDistance;\n      }\n    }\n\n    if (newPoints.length === _nbSamplePoints - 1) {\n      newPoints.push(this.points[this.points.length - 1]);\n    }\n\n    return newPoints;\n  };\n\n  Stroke.prototype.rotateBy = function (angle) {\n\n    var point;\n    var cos = Math.cos(angle);\n    var sin = Math.sin(angle);\n    var newPoints = [];\n\n    for (var i = 0; i < this.points.length; i++) {\n      point = this.points[i];\n\n      newPoints.push({\n        x: (point.x - this.c.x) * cos - (point.y - this.c.y) * sin + this.c.x,\n        y: (point.x - this.c.x) * sin + (point.y - this.c.y) * cos + this.c.y\n      });\n    }\n\n    return newPoints;\n  };\n\n  Stroke.prototype.scaleToSquare = function () {\n\n    var point;\n    var newPoints = [];\n    var box = {\n      minX: +Infinity,\n      maxX: -Infinity,\n      minY: +Infinity,\n      maxY: -Infinity\n    };\n\n    for (var i = 0; i < this.points.length; i++) {\n      point = this.points[i];\n\n      box.minX = Math.min(box.minX, point.x);\n      box.minY = Math.min(box.minY, point.y);\n      box.maxX = Math.max(box.maxX, point.x);\n      box.maxY = Math.max(box.maxY, point.y);\n    }\n\n    box.width = box.maxX - box.minX;\n    box.height = box.maxY - box.minY;\n\n    for (i = 0; i < this.points.length; i++) {\n      point = this.points[i];\n\n      newPoints.push({\n        x: point.x * (_squareSize / box.width),\n        y: point.y * (_squareSize / box.height)\n      });\n    }\n\n    return newPoints;\n  };\n\n  Stroke.prototype.translateToOrigin = function (points) {\n\n    var point;\n    var newPoints = [];\n\n    for (var i = 0; i < this.points.length; i++) {\n      point = this.points[i];\n\n      newPoints.push({\n        x: point.x + _origin.x - this.c.x,\n        y: point.y + _origin.y - this.c.y\n      });\n    }\n\n    return newPoints;\n  };\n\n  Stroke.prototype.setCentroid = function () {\n\n    var point;\n    this.c = {\n      x: 0.0,\n      y: 0.0\n    };\n\n    for (var i = 0; i < this.points.length; i++) {\n      point = this.points[i];\n\n      this.c.x += point.x;\n      this.c.y += point.y;\n    }\n\n    this.c.x /= this.points.length;\n    this.c.y /= this.points.length;\n\n    return this;\n  };\n\n  Stroke.prototype.indicativeAngle = function () {\n\n    return Math.atan2(this.c.y - this.points[0].y, this.c.x - this.points[0].x);\n  };\n\n  Stroke.prototype.strokeLength = function () {\n\n    var d = 0.0;\n\n    for (var i = 1; i < this.points.length; i++) {\n      d += getDistance(this.points[i - 1], this.points[i]);\n    }\n\n    return d;\n  };\n\n  Stroke.prototype.distanceAtBestAngle = function (pattern) {\n\n    var a = -_angleRange;\n    var b = _angleRange;\n    var x1 = _phi * a + (1.0 - _phi) * b;\n    var f1 = this.distanceAtAngle(pattern, x1);\n    var x2 = (1.0 - _phi) * a + _phi * b;\n    var f2 = this.distanceAtAngle(pattern, x2);\n\n    while (Math.abs(b - a) > _anglePrecision) {\n\n      if (f1 < f2) {\n        b = x2;\n        x2 = x1;\n        f2 = f1;\n        x1 = _phi * a + (1.0 - _phi) * b;\n        f1 = this.distanceAtAngle(pattern, x1);\n      } else {\n        a = x1;\n        x1 = x2;\n        f1 = f2;\n        x2 = (1.0 - _phi) * a + _phi * b;\n        f2 = this.distanceAtAngle(pattern, x2);\n      }\n    }\n\n    return Math.min(f1, f2);\n  };\n\n  Stroke.prototype.distanceAtAngle = function (pattern, angle) {\n\n    var strokePoints = this.rotateBy(angle);\n    var patternPoints = pattern.points;\n    var d = 0.0;\n\n    for (var i = 0; i < strokePoints.length; i++) {\n      d += getDistance(strokePoints[i], patternPoints[i]);\n    }\n\n    return d / strokePoints.length;\n  };\n\n  function ShapeDetector(patterns, options) {\n\n    options = options || {};\n    this.threshold = options.threshold || 0;\n    _nbSamplePoints = options.nbSamplePoints || 64;\n\n    this.patterns = [];\n\n    for (var i = 0; i < patterns.length; i++) {\n      this.learn(patterns[i].name, patterns[i].points);\n    }\n  }\n\n  ShapeDetector.defaultShapes = [{\n    points: [{ x: 0, y: 50 }, { x: 100, y: 50 }],\n    name: \"line\"\n  }, {\n    points: [{ x: 50, y: 0 }, { x: 50, y: 100 }],\n    name: \"line\"\n  }, {\n    points: [{ x: 0, y: 0 }, { x: 100, y: 100 }],\n    name: \"line\"\n  }, {\n    points: [{ \"x\": 89, \"y\": 164 }, { \"x\": 90, \"y\": 162 }, { \"x\": 92, \"y\": 162 }, { \"x\": 94, \"y\": 164 }, { \"x\": 95, \"y\": 166 }, { \"x\": 96, \"y\": 169 }, { \"x\": 97, \"y\": 171 }, { \"x\": 99, \"y\": 175 }, { \"x\": 101, \"y\": 178 }, { \"x\": 103, \"y\": 182 }, { \"x\": 106, \"y\": 189 }, { \"x\": 108, \"y\": 194 }, { \"x\": 111, \"y\": 199 }, { \"x\": 114, \"y\": 204 }, { \"x\": 117, \"y\": 209 }, { \"x\": 119, \"y\": 214 }, { \"x\": 122, \"y\": 218 }, { \"x\": 124, \"y\": 222 }, { \"x\": 126, \"y\": 225 }, { \"x\": 128, \"y\": 228 }, { \"x\": 130, \"y\": 229 }, { \"x\": 133, \"y\": 233 }, { \"x\": 134, \"y\": 236 }, { \"x\": 136, \"y\": 239 }, { \"x\": 138, \"y\": 240 }, { \"x\": 139, \"y\": 242 }, { \"x\": 140, \"y\": 244 }, { \"x\": 142, \"y\": 242 }, { \"x\": 142, \"y\": 240 }, { \"x\": 142, \"y\": 237 }, { \"x\": 143, \"y\": 235 }, { \"x\": 143, \"y\": 233 }, { \"x\": 145, \"y\": 229 }, { \"x\": 146, \"y\": 226 }, { \"x\": 148, \"y\": 217 }, { \"x\": 149, \"y\": 208 }, { \"x\": 149, \"y\": 205 }, { \"x\": 151, \"y\": 196 }, { \"x\": 151, \"y\": 193 }, { \"x\": 153, \"y\": 182 }, { \"x\": 155, \"y\": 172 }, { \"x\": 157, \"y\": 165 }, { \"x\": 159, \"y\": 160 }, { \"x\": 162, \"y\": 155 }, { \"x\": 164, \"y\": 150 }, { \"x\": 165, \"y\": 148 }, { \"x\": 166, \"y\": 146 }],\n    name: \"line\"\n  }, {\n    points: [{ \"x\": 91, \"y\": 185 }, { \"x\": 93, \"y\": 185 }, { \"x\": 95, \"y\": 185 }, { \"x\": 97, \"y\": 185 }, { \"x\": 100, \"y\": 188 }, { \"x\": 102, \"y\": 189 }, { \"x\": 104, \"y\": 190 }, { \"x\": 106, \"y\": 193 }, { \"x\": 108, \"y\": 195 }, { \"x\": 110, \"y\": 198 }, { \"x\": 112, \"y\": 201 }, { \"x\": 114, \"y\": 204 }, { \"x\": 115, \"y\": 207 }, { \"x\": 117, \"y\": 210 }, { \"x\": 118, \"y\": 212 }, { \"x\": 120, \"y\": 214 }, { \"x\": 121, \"y\": 217 }, { \"x\": 122, \"y\": 219 }, { \"x\": 123, \"y\": 222 }, { \"x\": 124, \"y\": 224 }, { \"x\": 126, \"y\": 226 }, { \"x\": 127, \"y\": 229 }, { \"x\": 129, \"y\": 231 }, { \"x\": 130, \"y\": 233 }, { \"x\": 129, \"y\": 231 }, { \"x\": 129, \"y\": 228 }, { \"x\": 129, \"y\": 226 }, { \"x\": 129, \"y\": 224 }, { \"x\": 129, \"y\": 221 }, { \"x\": 129, \"y\": 218 }, { \"x\": 129, \"y\": 212 }, { \"x\": 129, \"y\": 208 }, { \"x\": 130, \"y\": 198 }, { \"x\": 132, \"y\": 189 }, { \"x\": 134, \"y\": 182 }, { \"x\": 137, \"y\": 173 }, { \"x\": 143, \"y\": 164 }, { \"x\": 147, \"y\": 157 }, { \"x\": 151, \"y\": 151 }, { \"x\": 155, \"y\": 144 }, { \"x\": 161, \"y\": 137 }, { \"x\": 165, \"y\": 131 }, { \"x\": 171, \"y\": 122 }, { \"x\": 174, \"y\": 118 }, { \"x\": 176, \"y\": 114 }, { \"x\": 177, \"y\": 112 }, { \"x\": 177, \"y\": 114 }, { \"x\": 175, \"y\": 116 }, { \"x\": 173, \"y\": 118 }],\n    name: \"line\"\n  }, {\n    points: [{ \"x\": 113, \"y\": 68 }, { \"x\": 86, \"y\": 79 }, { \"x\": 63, \"y\": 131 }, { \"x\": 78, \"y\": 147 }, { \"x\": 156, \"y\": 149 }, { \"x\": 195, \"y\": 100 }, { \"x\": 189, \"y\": 79 }, { \"x\": 125.73497, \"y\": 62.81168 }],\n    name: \"circle\"\n  }, {\n    points: [{ \"x\": 98, \"y\": 67 }, { \"x\": 77, \"y\": 85 }, { \"x\": 77, \"y\": 162 }, { \"x\": 179, \"y\": 156 }, { \"x\": 197, \"y\": 123 }, { \"x\": 167, \"y\": 63 }, { \"x\": 141, \"y\": 61 }, { \"x\": 110, \"y\": 59 }, { \"x\": 106.51192, \"y\": 59.70407 }],\n    name: \"circle\"\n  }, {\n    points: [{ \"x\": 60, \"y\": 47 }, { \"x\": 43, \"y\": 96 }, { \"x\": 52, \"y\": 206 }, { \"x\": 63, \"y\": 246 }, { \"x\": 118, \"y\": 296 }, { \"x\": 144, \"y\": 246 }, { \"x\": 141, \"y\": 147 }, { \"x\": 133, \"y\": 129 }, { \"x\": 113, \"y\": 80 }, { \"x\": 60.42738, \"y\": 45.76813 }],\n    name: \"circle\"\n  }, {\n    points: [{ \"x\": 127, \"y\": 141 }, { \"x\": 124, \"y\": 140 }, { \"x\": 120, \"y\": 139 }, { \"x\": 118, \"y\": 139 }, { \"x\": 116, \"y\": 139 }, { \"x\": 111, \"y\": 140 }, { \"x\": 109, \"y\": 141 }, { \"x\": 104, \"y\": 144 }, { \"x\": 100, \"y\": 147 }, { \"x\": 96, \"y\": 152 }, { \"x\": 93, \"y\": 157 }, { \"x\": 90, \"y\": 163 }, { \"x\": 87, \"y\": 169 }, { \"x\": 85, \"y\": 175 }, { \"x\": 83, \"y\": 181 }, { \"x\": 82, \"y\": 190 }, { \"x\": 82, \"y\": 195 }, { \"x\": 83, \"y\": 200 }, { \"x\": 84, \"y\": 205 }, { \"x\": 88, \"y\": 213 }, { \"x\": 91, \"y\": 216 }, { \"x\": 96, \"y\": 219 }, { \"x\": 103, \"y\": 222 }, { \"x\": 108, \"y\": 224 }, { \"x\": 111, \"y\": 224 }, { \"x\": 120, \"y\": 224 }, { \"x\": 133, \"y\": 223 }, { \"x\": 142, \"y\": 222 }, { \"x\": 152, \"y\": 218 }, { \"x\": 160, \"y\": 214 }, { \"x\": 167, \"y\": 210 }, { \"x\": 173, \"y\": 204 }, { \"x\": 178, \"y\": 198 }, { \"x\": 179, \"y\": 196 }, { \"x\": 182, \"y\": 188 }, { \"x\": 182, \"y\": 177 }, { \"x\": 178, \"y\": 167 }, { \"x\": 170, \"y\": 150 }, { \"x\": 163, \"y\": 138 }, { \"x\": 152, \"y\": 130 }, { \"x\": 143, \"y\": 129 }, { \"x\": 140, \"y\": 131 }, { \"x\": 129, \"y\": 136 }, { \"x\": 126, \"y\": 139 }],\n    name: \"circle\"\n  }, {\n    points: [{ \"x\": 516, \"y\": 284 }, { \"x\": 496, \"y\": 319 }, { \"x\": 496, \"y\": 329 }, { \"x\": 513, \"y\": 329 }, { \"x\": 550, \"y\": 324 }, { \"x\": 696, \"y\": 305 }, { \"x\": 737, \"y\": 298 }, { \"x\": 746, \"y\": 292 }, { \"x\": 734, \"y\": 278 }, { \"x\": 709, \"y\": 252 }, { \"x\": 664, \"y\": 193 }],\n    name: \"triangle\"\n  }, {\n    points: [{ \"x\": 179, \"y\": 159 }, { \"x\": 152, \"y\": 290 }, { \"x\": 143, \"y\": 336 }, { \"x\": 142, \"y\": 355 }, { \"x\": 160, \"y\": 348 }, { \"x\": 208, \"y\": 337 }, { \"x\": 241, \"y\": 330 }, { \"x\": 256, \"y\": 328 }, { \"x\": 254, \"y\": 315 }, { \"x\": 238, \"y\": 277 }, { \"x\": 210, \"y\": 200 }, { \"x\": 182.94356, \"y\": 110.45656 }],\n    name: \"triangle\"\n  }, {\n    points: [{ \"x\": 105, \"y\": 335 }, { \"x\": 115, \"y\": 362 }, { \"x\": 128, \"y\": 338 }, { \"x\": 163, \"y\": 271 }, { \"x\": 241, \"y\": 135 }, { \"x\": 261, \"y\": 104 }, { \"x\": 267, \"y\": 98 }, { \"x\": 261, \"y\": 102 }, { \"x\": 236, \"y\": 119 }, { \"x\": 151, \"y\": 195 }, { \"x\": 108, \"y\": 235 }, { \"x\": 83, \"y\": 267 }, { \"x\": 79.92616, \"y\": 270.93451 }],\n    name: \"triangle\"\n  }, {\n    points: [{ \"x\": 137, \"y\": 139 }, { \"x\": 135, \"y\": 141 }, { \"x\": 133, \"y\": 144 }, { \"x\": 132, \"y\": 146 }, { \"x\": 130, \"y\": 149 }, { \"x\": 128, \"y\": 151 }, { \"x\": 126, \"y\": 155 }, { \"x\": 123, \"y\": 160 }, { \"x\": 120, \"y\": 166 }, { \"x\": 116, \"y\": 171 }, { \"x\": 112, \"y\": 177 }, { \"x\": 107, \"y\": 183 }, { \"x\": 102, \"y\": 188 }, { \"x\": 100, \"y\": 191 }, { \"x\": 95, \"y\": 195 }, { \"x\": 90, \"y\": 199 }, { \"x\": 86, \"y\": 203 }, { \"x\": 82, \"y\": 206 }, { \"x\": 80, \"y\": 209 }, { \"x\": 75, \"y\": 213 }, { \"x\": 73, \"y\": 213 }, { \"x\": 70, \"y\": 216 }, { \"x\": 67, \"y\": 219 }, { \"x\": 64, \"y\": 221 }, { \"x\": 61, \"y\": 223 }, { \"x\": 60, \"y\": 225 }, { \"x\": 62, \"y\": 226 }, { \"x\": 65, \"y\": 225 }, { \"x\": 67, \"y\": 226 }, { \"x\": 74, \"y\": 226 }, { \"x\": 77, \"y\": 227 }, { \"x\": 85, \"y\": 229 }, { \"x\": 91, \"y\": 230 }, { \"x\": 99, \"y\": 231 }, { \"x\": 108, \"y\": 232 }, { \"x\": 116, \"y\": 233 }, { \"x\": 125, \"y\": 233 }, { \"x\": 134, \"y\": 234 }, { \"x\": 145, \"y\": 233 }, { \"x\": 153, \"y\": 232 }, { \"x\": 160, \"y\": 233 }, { \"x\": 170, \"y\": 234 }, { \"x\": 177, \"y\": 235 }, { \"x\": 179, \"y\": 236 }, { \"x\": 186, \"y\": 237 }, { \"x\": 193, \"y\": 238 }, { \"x\": 198, \"y\": 239 }, { \"x\": 200, \"y\": 237 }, { \"x\": 202, \"y\": 239 }, { \"x\": 204, \"y\": 238 }, { \"x\": 206, \"y\": 234 }, { \"x\": 205, \"y\": 230 }, { \"x\": 202, \"y\": 222 }, { \"x\": 197, \"y\": 216 }, { \"x\": 192, \"y\": 207 }, { \"x\": 186, \"y\": 198 }, { \"x\": 179, \"y\": 189 }, { \"x\": 174, \"y\": 183 }, { \"x\": 170, \"y\": 178 }, { \"x\": 164, \"y\": 171 }, { \"x\": 161, \"y\": 168 }, { \"x\": 154, \"y\": 160 }, { \"x\": 148, \"y\": 155 }, { \"x\": 143, \"y\": 150 }, { \"x\": 138, \"y\": 148 }, { \"x\": 136, \"y\": 148 }],\n    name: \"triangle\"\n  }, {\n    points: [{ x: 0, y: 0 }, { x: 0, y: 50 }, { x: 50, y: 50 }, { x: 50, y: 0 }],\n    name: \"square\"\n  }, {\n    points: [{ x: 0, y: 0 }, { x: 0, y: 100 }, { x: 50, y: 100 }, { x: 50, y: 0 }],\n    name: \"square\"\n  }, {\n    points: [{ \"x\": 78, \"y\": 149 }, { \"x\": 78, \"y\": 153 }, { \"x\": 78, \"y\": 157 }, { \"x\": 78, \"y\": 160 }, { \"x\": 79, \"y\": 162 }, { \"x\": 79, \"y\": 164 }, { \"x\": 79, \"y\": 167 }, { \"x\": 79, \"y\": 169 }, { \"x\": 79, \"y\": 173 }, { \"x\": 79, \"y\": 178 }, { \"x\": 79, \"y\": 183 }, { \"x\": 80, \"y\": 189 }, { \"x\": 80, \"y\": 193 }, { \"x\": 80, \"y\": 198 }, { \"x\": 80, \"y\": 202 }, { \"x\": 81, \"y\": 208 }, { \"x\": 81, \"y\": 210 }, { \"x\": 81, \"y\": 216 }, { \"x\": 82, \"y\": 222 }, { \"x\": 82, \"y\": 224 }, { \"x\": 82, \"y\": 227 }, { \"x\": 83, \"y\": 229 }, { \"x\": 83, \"y\": 231 }, { \"x\": 85, \"y\": 230 }, { \"x\": 88, \"y\": 232 }, { \"x\": 90, \"y\": 233 }, { \"x\": 92, \"y\": 232 }, { \"x\": 94, \"y\": 233 }, { \"x\": 99, \"y\": 232 }, { \"x\": 102, \"y\": 233 }, { \"x\": 106, \"y\": 233 }, { \"x\": 109, \"y\": 234 }, { \"x\": 117, \"y\": 235 }, { \"x\": 123, \"y\": 236 }, { \"x\": 126, \"y\": 236 }, { \"x\": 135, \"y\": 237 }, { \"x\": 142, \"y\": 238 }, { \"x\": 145, \"y\": 238 }, { \"x\": 152, \"y\": 238 }, { \"x\": 154, \"y\": 239 }, { \"x\": 165, \"y\": 238 }, { \"x\": 174, \"y\": 237 }, { \"x\": 179, \"y\": 236 }, { \"x\": 186, \"y\": 235 }, { \"x\": 191, \"y\": 235 }, { \"x\": 195, \"y\": 233 }, { \"x\": 197, \"y\": 233 }, { \"x\": 200, \"y\": 233 }, { \"x\": 201, \"y\": 235 }, { \"x\": 201, \"y\": 233 }, { \"x\": 199, \"y\": 231 }, { \"x\": 198, \"y\": 226 }, { \"x\": 198, \"y\": 220 }, { \"x\": 196, \"y\": 207 }, { \"x\": 195, \"y\": 195 }, { \"x\": 195, \"y\": 181 }, { \"x\": 195, \"y\": 173 }, { \"x\": 195, \"y\": 163 }, { \"x\": 194, \"y\": 155 }, { \"x\": 192, \"y\": 145 }, { \"x\": 192, \"y\": 143 }, { \"x\": 192, \"y\": 138 }, { \"x\": 191, \"y\": 135 }, { \"x\": 191, \"y\": 133 }, { \"x\": 191, \"y\": 130 }, { \"x\": 190, \"y\": 128 }, { \"x\": 188, \"y\": 129 }, { \"x\": 186, \"y\": 129 }, { \"x\": 181, \"y\": 132 }, { \"x\": 173, \"y\": 131 }, { \"x\": 162, \"y\": 131 }, { \"x\": 151, \"y\": 132 }, { \"x\": 149, \"y\": 132 }, { \"x\": 138, \"y\": 132 }, { \"x\": 136, \"y\": 132 }, { \"x\": 122, \"y\": 131 }, { \"x\": 120, \"y\": 131 }, { \"x\": 109, \"y\": 130 }, { \"x\": 107, \"y\": 130 }, { \"x\": 90, \"y\": 132 }, { \"x\": 81, \"y\": 133 }, { \"x\": 76, \"y\": 133 }],\n    name: \"square\"\n  }, {\n    points: [{ \"x\": 67, \"y\": 172 }, { \"x\": 80, \"y\": 85 }, { \"x\": 83, \"y\": 58 }, { \"x\": 83, \"y\": 54 }, { \"x\": 136, \"y\": 110 }, { \"x\": 157, \"y\": 136 }, { \"x\": 162, \"y\": 140 }, { \"x\": 166, \"y\": 143 }, { \"x\": 80, \"y\": 124 }, { \"x\": 45, \"y\": 116 }, { \"x\": 37, \"y\": 114 }, { \"x\": 31, \"y\": 113 }, { \"x\": 52, \"y\": 106 }, { \"x\": 101, \"y\": 86 }, { \"x\": 131, \"y\": 75 }, { \"x\": 157, \"y\": 63 }, { \"x\": 163, \"y\": 62 }, { \"x\": 158, \"y\": 64 }, { \"x\": 153, \"y\": 73 }, { \"x\": 128, \"y\": 103 }, { \"x\": 71, \"y\": 170 }],\n    name: \"other\"\n  }, {\n    points: [{ \"x\": 30, \"y\": 69 }, { \"x\": 116, \"y\": 118 }, { \"x\": 90, \"y\": 164 }, { \"x\": 75, \"y\": 117 }, { \"x\": 157, \"y\": 83 }, { \"x\": 182, \"y\": 140 }, { \"x\": 155, \"y\": 163 }, { \"x\": 144, \"y\": 119 }, { \"x\": 221, \"y\": 54 }],\n    name: \"other\"\n  }, {\n    points: [{ \"x\": 87, \"y\": 76 }, { \"x\": 62, \"y\": 73 }, { \"x\": 100, \"y\": 98 }, { \"x\": 107, \"y\": 57 }, { \"x\": 61, \"y\": 38 }, { \"x\": 73, \"y\": 137 }],\n    name: \"other\"\n  }, {\n    points: [{ \"x\": 123, \"y\": 129 }, { \"x\": 123, \"y\": 131 }, { \"x\": 124, \"y\": 133 }, { \"x\": 125, \"y\": 136 }, { \"x\": 127, \"y\": 140 }, { \"x\": 129, \"y\": 142 }, { \"x\": 133, \"y\": 148 }, { \"x\": 137, \"y\": 154 }, { \"x\": 143, \"y\": 158 }, { \"x\": 145, \"y\": 161 }, { \"x\": 148, \"y\": 164 }, { \"x\": 153, \"y\": 170 }, { \"x\": 158, \"y\": 176 }, { \"x\": 160, \"y\": 178 }, { \"x\": 164, \"y\": 183 }, { \"x\": 168, \"y\": 188 }, { \"x\": 171, \"y\": 191 }, { \"x\": 175, \"y\": 196 }, { \"x\": 178, \"y\": 200 }, { \"x\": 180, \"y\": 202 }, { \"x\": 181, \"y\": 205 }, { \"x\": 184, \"y\": 208 }, { \"x\": 186, \"y\": 210 }, { \"x\": 187, \"y\": 213 }, { \"x\": 188, \"y\": 215 }, { \"x\": 186, \"y\": 212 }, { \"x\": 183, \"y\": 211 }, { \"x\": 177, \"y\": 208 }, { \"x\": 169, \"y\": 206 }, { \"x\": 162, \"y\": 205 }, { \"x\": 154, \"y\": 207 }, { \"x\": 145, \"y\": 209 }, { \"x\": 137, \"y\": 210 }, { \"x\": 129, \"y\": 214 }, { \"x\": 122, \"y\": 217 }, { \"x\": 118, \"y\": 218 }, { \"x\": 111, \"y\": 221 }, { \"x\": 109, \"y\": 222 }, { \"x\": 110, \"y\": 219 }, { \"x\": 112, \"y\": 217 }, { \"x\": 118, \"y\": 209 }, { \"x\": 120, \"y\": 207 }, { \"x\": 128, \"y\": 196 }, { \"x\": 135, \"y\": 187 }, { \"x\": 138, \"y\": 183 }, { \"x\": 148, \"y\": 167 }, { \"x\": 157, \"y\": 153 }, { \"x\": 163, \"y\": 145 }, { \"x\": 165, \"y\": 142 }, { \"x\": 172, \"y\": 133 }, { \"x\": 177, \"y\": 127 }, { \"x\": 179, \"y\": 127 }, { \"x\": 180, \"y\": 125 }],\n    name: \"other\"\n  }, {\n    points: [{ \"x\": 81, \"y\": 219 }, { \"x\": 84, \"y\": 218 }, { \"x\": 86, \"y\": 220 }, { \"x\": 88, \"y\": 220 }, { \"x\": 90, \"y\": 220 }, { \"x\": 92, \"y\": 219 }, { \"x\": 95, \"y\": 220 }, { \"x\": 97, \"y\": 219 }, { \"x\": 99, \"y\": 220 }, { \"x\": 102, \"y\": 218 }, { \"x\": 105, \"y\": 217 }, { \"x\": 107, \"y\": 216 }, { \"x\": 110, \"y\": 216 }, { \"x\": 113, \"y\": 214 }, { \"x\": 116, \"y\": 212 }, { \"x\": 118, \"y\": 210 }, { \"x\": 121, \"y\": 208 }, { \"x\": 124, \"y\": 205 }, { \"x\": 126, \"y\": 202 }, { \"x\": 129, \"y\": 199 }, { \"x\": 132, \"y\": 196 }, { \"x\": 136, \"y\": 191 }, { \"x\": 139, \"y\": 187 }, { \"x\": 142, \"y\": 182 }, { \"x\": 144, \"y\": 179 }, { \"x\": 146, \"y\": 174 }, { \"x\": 148, \"y\": 170 }, { \"x\": 149, \"y\": 168 }, { \"x\": 151, \"y\": 162 }, { \"x\": 152, \"y\": 160 }, { \"x\": 152, \"y\": 157 }, { \"x\": 152, \"y\": 155 }, { \"x\": 152, \"y\": 151 }, { \"x\": 152, \"y\": 149 }, { \"x\": 152, \"y\": 146 }, { \"x\": 149, \"y\": 142 }, { \"x\": 148, \"y\": 139 }, { \"x\": 145, \"y\": 137 }, { \"x\": 141, \"y\": 135 }, { \"x\": 139, \"y\": 135 }, { \"x\": 134, \"y\": 136 }, { \"x\": 130, \"y\": 140 }, { \"x\": 128, \"y\": 142 }, { \"x\": 126, \"y\": 145 }, { \"x\": 122, \"y\": 150 }, { \"x\": 119, \"y\": 158 }, { \"x\": 117, \"y\": 163 }, { \"x\": 115, \"y\": 170 }, { \"x\": 114, \"y\": 175 }, { \"x\": 117, \"y\": 184 }, { \"x\": 120, \"y\": 190 }, { \"x\": 125, \"y\": 199 }, { \"x\": 129, \"y\": 203 }, { \"x\": 133, \"y\": 208 }, { \"x\": 138, \"y\": 213 }, { \"x\": 145, \"y\": 215 }, { \"x\": 155, \"y\": 218 }, { \"x\": 164, \"y\": 219 }, { \"x\": 166, \"y\": 219 }, { \"x\": 177, \"y\": 219 }, { \"x\": 182, \"y\": 218 }, { \"x\": 192, \"y\": 216 }, { \"x\": 196, \"y\": 213 }, { \"x\": 199, \"y\": 212 }, { \"x\": 201, \"y\": 211 }],\n    name: \"other\"\n  }, {\n    points: [{ \"x\": 75, \"y\": 250 }, { \"x\": 75, \"y\": 247 }, { \"x\": 77, \"y\": 244 }, { \"x\": 78, \"y\": 242 }, { \"x\": 79, \"y\": 239 }, { \"x\": 80, \"y\": 237 }, { \"x\": 82, \"y\": 234 }, { \"x\": 82, \"y\": 232 }, { \"x\": 84, \"y\": 229 }, { \"x\": 85, \"y\": 225 }, { \"x\": 87, \"y\": 222 }, { \"x\": 88, \"y\": 219 }, { \"x\": 89, \"y\": 216 }, { \"x\": 91, \"y\": 212 }, { \"x\": 92, \"y\": 208 }, { \"x\": 94, \"y\": 204 }, { \"x\": 95, \"y\": 201 }, { \"x\": 96, \"y\": 196 }, { \"x\": 97, \"y\": 194 }, { \"x\": 98, \"y\": 191 }, { \"x\": 100, \"y\": 185 }, { \"x\": 102, \"y\": 178 }, { \"x\": 104, \"y\": 173 }, { \"x\": 104, \"y\": 171 }, { \"x\": 105, \"y\": 164 }, { \"x\": 106, \"y\": 158 }, { \"x\": 107, \"y\": 156 }, { \"x\": 107, \"y\": 152 }, { \"x\": 108, \"y\": 145 }, { \"x\": 109, \"y\": 141 }, { \"x\": 110, \"y\": 139 }, { \"x\": 112, \"y\": 133 }, { \"x\": 113, \"y\": 131 }, { \"x\": 116, \"y\": 127 }, { \"x\": 117, \"y\": 125 }, { \"x\": 119, \"y\": 122 }, { \"x\": 121, \"y\": 121 }, { \"x\": 123, \"y\": 120 }, { \"x\": 125, \"y\": 122 }, { \"x\": 125, \"y\": 125 }, { \"x\": 127, \"y\": 130 }, { \"x\": 128, \"y\": 133 }, { \"x\": 131, \"y\": 143 }, { \"x\": 136, \"y\": 153 }, { \"x\": 140, \"y\": 163 }, { \"x\": 144, \"y\": 172 }, { \"x\": 145, \"y\": 175 }, { \"x\": 151, \"y\": 189 }, { \"x\": 156, \"y\": 201 }, { \"x\": 161, \"y\": 213 }, { \"x\": 166, \"y\": 225 }, { \"x\": 169, \"y\": 233 }, { \"x\": 171, \"y\": 236 }, { \"x\": 174, \"y\": 243 }, { \"x\": 177, \"y\": 247 }, { \"x\": 178, \"y\": 249 }, { \"x\": 179, \"y\": 251 }, { \"x\": 180, \"y\": 253 }, { \"x\": 180, \"y\": 255 }, { \"x\": 179, \"y\": 257 }, { \"x\": 177, \"y\": 257 }, { \"x\": 174, \"y\": 255 }, { \"x\": 169, \"y\": 250 }, { \"x\": 164, \"y\": 247 }, { \"x\": 160, \"y\": 245 }, { \"x\": 149, \"y\": 238 }, { \"x\": 138, \"y\": 230 }, { \"x\": 127, \"y\": 221 }, { \"x\": 124, \"y\": 220 }, { \"x\": 112, \"y\": 212 }, { \"x\": 110, \"y\": 210 }, { \"x\": 96, \"y\": 201 }, { \"x\": 84, \"y\": 195 }, { \"x\": 74, \"y\": 190 }, { \"x\": 64, \"y\": 182 }, { \"x\": 55, \"y\": 175 }, { \"x\": 51, \"y\": 172 }, { \"x\": 49, \"y\": 170 }, { \"x\": 51, \"y\": 169 }, { \"x\": 56, \"y\": 169 }, { \"x\": 66, \"y\": 169 }, { \"x\": 78, \"y\": 168 }, { \"x\": 92, \"y\": 166 }, { \"x\": 107, \"y\": 164 }, { \"x\": 123, \"y\": 161 }, { \"x\": 140, \"y\": 162 }, { \"x\": 156, \"y\": 162 }, { \"x\": 171, \"y\": 160 }, { \"x\": 173, \"y\": 160 }, { \"x\": 186, \"y\": 160 }, { \"x\": 195, \"y\": 160 }, { \"x\": 198, \"y\": 161 }, { \"x\": 203, \"y\": 163 }, { \"x\": 208, \"y\": 163 }, { \"x\": 206, \"y\": 164 }, { \"x\": 200, \"y\": 167 }, { \"x\": 187, \"y\": 172 }, { \"x\": 174, \"y\": 179 }, { \"x\": 172, \"y\": 181 }, { \"x\": 153, \"y\": 192 }, { \"x\": 137, \"y\": 201 }, { \"x\": 123, \"y\": 211 }, { \"x\": 112, \"y\": 220 }, { \"x\": 99, \"y\": 229 }, { \"x\": 90, \"y\": 237 }, { \"x\": 80, \"y\": 244 }, { \"x\": 73, \"y\": 250 }, { \"x\": 69, \"y\": 254 }, { \"x\": 69, \"y\": 252 }],\n    name: \"other\"\n  }];\n\n  ShapeDetector.prototype.spot = function (points, patternName) {\n\n    if (patternName == null) {\n      patternName = '';\n    }\n\n    var distance, pattern, score;\n    var stroke = new Stroke(points);\n    var bestDistance = +Infinity;\n    var bestPattern = null;\n    var bestScore = 0;\n\n    for (var i = 0; i < this.patterns.length; i++) {\n      pattern = this.patterns[i];\n\n      if (pattern.name.indexOf(patternName) > -1) {\n        distance = stroke.distanceAtBestAngle(pattern);\n        score = 1.0 - distance / _halfDiagonal;\n\n        if (distance < bestDistance && score > this.threshold) {\n          bestDistance = distance;\n          bestPattern = pattern.name;\n          bestScore = score;\n        }\n      }\n    }\n\n    return {\n      pattern: bestPattern,\n      score: bestScore\n    };\n  };\n\n  ShapeDetector.prototype.learn = function (name, points) {\n\n    return this.patterns.push(new Stroke(points, name));\n  };\n\n  return ShapeDetector;\n});\n\n},{}],102:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resetWindow = resetWindow;\nvar touch = require('./touch');\nvar ui = require('./ui');\nvar overlays = require('./overlays');\nvar video = require('./video');\nvar timing = require('./timing');\nvar util = require('./util');\nvar sound = require('./sound');\nvar shape = require('./shape');\n\nfunction resetWindow() {\n  window.kan = {\n    currentColor: '#2B5E2E',\n    composition: [],\n    compositionInterval: null,\n    compositionTimeout: null,\n    soundTimeouts: [],\n    lastEvent: null,\n    interaction: false,\n    moves: [],\n    playing: false,\n    pinching: false,\n    pinchedGroup: null,\n    pinchedTut: null,\n    pathData: {},\n    shapePath: null,\n    prevAngle: null,\n    sides: [],\n    side: [],\n    corners: [],\n    lastScale: 1,\n    lastRotation: 0,\n    originalPosition: null,\n    tutorialCompletion: {\n      \"fill\": false,\n      \"pinch\": false,\n      \"swipe\": false\n    },\n    inactivityTimeout: null,\n    playPromptTimeout: null,\n    userHasDrawnFirstShape: false,\n    firstTimePlaying: true,\n    shapesSinceTut: 0,\n    refreshCheckInterval: null,\n    sha: null,\n    scheduledOverlay: null,\n    continueCountdownInterval: null,\n    shapeSounds: null\n  };\n}\n\n$(window).on('load', function () {\n  function run() {\n    resetWindow();\n    util.setSha();\n    ui.init();\n    overlays.init();\n    timing.init();\n    shape.init();\n    sound.init().then(function () {\n      // sound.init() is async because it loads in the sound files\n      touch.init();\n    }).fail(function (e) {\n      console.error('error initting shape sounds:', e);\n      location.reload();\n    });\n  }\n\n  try {\n    run();\n  } catch (e) {\n    console.error(e);\n    setTimeout(function () {\n      // wait 5 seconds then reload\n      location.reload();\n    }, 5 * 1000);\n  }\n});\n\n},{\"./overlays\":103,\"./shape\":104,\"./sound\":106,\"./timing\":107,\"./touch\":108,\"./ui\":110,\"./util\":111,\"./video\":112}],103:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.openOverlay = openOverlay;\nexports.resetContinueCountdown = resetContinueCountdown;\nexports.cardNavNext = cardNavNext;\nexports.closeAndResetOverlays = closeAndResetOverlays;\nexports.asyncCloseOverlaysAfterDuration = asyncCloseOverlaysAfterDuration;\nexports.asyncWaitForWellFormedPhoneNumber = asyncWaitForWellFormedPhoneNumber;\nexports.init = init;\nvar config = require('./client-config');\n\nvar validator = require('validator');\n\nvar touch = require('./touch');\nvar video = require('./video');\nvar timing = require('./timing');\nvar tutorial = require('./tutorial');\nvar util = require('./util');\n\nvar hammerCanvas = touch.hammerCanvas;\n\nvar $body = $('body');\nvar tapEvent = 'click tap touch';\n\nvar $cardsWrap = $body.find('.overlay.tips .card-wrap');\nvar $cardItems = $cardsWrap.find('article');\nvar cardsCount = $cardItems.length;\nvar $footer = $body.find('.overlay.tips .footer');\n\nvar $sharePhone = $body.find('#phone');\nvar $shareKeypad = $body.find('.keypad');\n\nvar allOverlays = ['intro', 'play-prompt', 'share-prompt', 'continue', 'tips', 'share', 'share-prepare', 'share-confirmation'];\nvar overlayOpenClasses = allOverlays.map(function (overlay) {\n  return overlay + '-active';\n}).join(' ');\n\nvar overlayActiveClass = 'overlay-active';\n\nfunction openOverlay(overlayName) {\n  // console.log('attempting to open overlay', overlayName);\n  if (window.kan.overlays === false) return;\n  if (allOverlays.includes(overlayName)) {\n    if (window.kan.pinching === true || window.kan.panning === true) {\n      if (overlayName === 'continue') {\n        timing.preventInactivityTimeout();\n      } else {\n        // console.log('scheduling overlay', overlayName);\n        window.kan.scheduledOverlay = overlayName;\n      }\n      return;\n    }\n    closeAndResetOverlays();\n    tutorial.hideContextualTuts();\n    $body.addClass(overlayActiveClass);\n    $body.find('.overlay.closeable:not(.tips):not(.share-phone)').on(tapEvent, function () {\n      closeAndResetOverlays();\n    });\n\n    switch (overlayName) {\n      case 'intro':\n        openIntroOverlay();\n        break;\n      case 'play-prompt':\n        if (util.anyShapesOnCanvas()) {\n          openPlayPromptOverlay();\n        } else {\n          window.kan.playPromptTimeout = setTimeout(function () {\n            openOverlay('play-prompt');\n          }, timing.playPromptDelay / 2);\n        }\n        break;\n      case 'share-prompt':\n        openSharePromptOverlay();\n        break;\n      case 'continue':\n        openContinueOverlay();\n        break;\n      case 'tips':\n        openTipsOverlay();\n        break;\n      case 'share':\n        openShareOverlay();\n        break;\n      case 'share-prepare':\n        openSharePrepareOverlay();\n        break;\n      case 'share-confirmation':\n        openShareConfirmationOverlay();\n        break;\n    }\n  } else {\n    // console.log('unable to open unknown overlay', overlayName);\n  }\n}\n\nfunction openIntroOverlay() {\n  $body.addClass('intro-active');\n}\n\nfunction openPlayPromptOverlay() {\n  $body.addClass('play-prompt-active');\n}\n\nfunction openSharePromptOverlay() {\n  $body.addClass('share-prompt-active');\n}\n\nfunction resetContinueCountdown() {\n  $('.overlay.continue .countdown-num').html(parseInt(timing.continueInactivityDelay / 1000));\n  clearInterval(window.kan.continueCountdownInterval);\n}\n\nfunction openContinueOverlay() {\n  $body.addClass('continue-active');\n\n  resetContinueCountdown();\n  clearTimeout(window.kan.inactivityTimeout);\n  clearTimeout(window.kan.playPromptTimeout);\n\n  window.kan.continueCountdownInterval = setInterval(function () {\n    var $countdownNumWrap = $('.overlay.continue .countdown-num');\n    var count = parseInt($countdownNumWrap.html());\n    if (count > 1) {\n      $countdownNumWrap.html(count - 1);\n    }\n  }, 1000);\n\n  window.kan.inactivityTimeout = setTimeout(function () {\n    video.enterTutorialMode();\n  }, timing.continueInactivityDelay);\n}\n\nfunction openTipsOverlay() {\n  $body.addClass('tips-active');\n  activateTipsCards();\n}\n\nfunction openShareOverlay() {\n  $body.addClass('share-active');\n}\n\nfunction openSharePrepareOverlay() {\n  $body.addClass('share-prepare-active');\n}\n\nfunction openShareConfirmationOverlay() {\n  $body.addClass('share-confirmation-active');\n}\n\n// card slider navigation\nfunction cardNavNext() {\n  var $old = $body.find('.card-wrap .current');\n  var $new = $old.next().length ? $old.next() : $cardItems.first();\n  var $next = $new.next().length ? $new.next() : $cardItems.first();\n  var $third = $next.next().length ? $next.next() : $cardItems.first().next();\n  var slide = $new.index();\n  $old.removeClass().addClass('remove');\n  $new.removeClass().addClass('current');\n  $next.removeClass().addClass('next');\n  $third.removeClass().addClass('third');\n  updateCardCounter(slide + 1, cardsCount);\n  setTimeout(function () {\n    $old.removeClass();\n  }, 600);\n}\n\n// tips card interactions\nfunction cardInteractions() {\n  var timeOfLastInteraction = 0;\n\n  $body.find('.overlay.closeable').on(tapEvent, function (e) {\n    var currentTime = Date.now();\n    if (timeOfLastInteraction > currentTime - 250) {\n      return;\n    }\n    timeOfLastInteraction = currentTime;\n\n    if ($(e.target).closest('.card-wrap').length == 1) {\n      // directly on a card, navigate to the next one\n      console.log('hi');\n      // cardNavNext();\n    } else {\n      console.log('no');\n      // outside elements, close everything and reset\n      closeAndResetOverlays();\n    }\n  });\n}\n\nfunction resetTips() {\n  $cardItems.removeClass();\n  $sharePhone.html('');\n}\n\n// close and reset tips\nfunction closeAndResetOverlays() {\n  $body.removeClass('overlay-active');\n  $body.removeClass(overlayOpenClasses);\n  resetTips();\n}\n\nfunction asyncCloseOverlaysAfterDuration(duration) {\n  return new Promise(function (resolve, reject) {\n    var closeOverlayTimeout = null;\n    try {\n      closeOverlayTimeout = setTimeout(function () {\n        closeAndResetOverlays();\n        resolve('asyncCloseOverlaysAfterDuration done');\n      }, duration);\n    } catch (e) {\n      clearTimeout(closeOverlayTimeout);\n      reject(e);\n    }\n  });\n}\n\n// deal a fresh stack of cards\nfunction activateTipsCards() {\n  var $new = $cardItems.first();\n  var $next = $new.next().length ? $new.next() : $cardItems.first();\n  var $third = $next.next().length ? $next.next() : $cardItems.first().next();\n  $cardItems.removeClass();\n  $new.removeClass().addClass('current');\n  $next.removeClass().addClass('next');\n  $third.removeClass().addClass('third');\n  updateCardCounter(1, cardsCount);\n}\n\n// counting cards\nfunction updateCardCounter(current, total) {\n  $footer.find('.current').html(current);\n  $footer.find('.next').html(total);\n}\n\nfunction asyncWaitForWellFormedPhoneNumber(s3Id) {\n  return new Promise(function (resolve, reject) {\n    // normal inactivity timeout is disabled, start an alternate one\n    var inactivityTimeout = setTimeout(function () {\n      reject('timeout');\n    }, timing.continueInactivityDelay / 2);\n\n    $shareKeypad.find('.send').on(tapEvent, function (e) {\n      var phoneNumWithHyphens = $sharePhone.text();\n      var phoneNumRaw = phoneNumWithHyphens.replace(/\\D/g, '');\n\n      if (validator.isMobilePhone(phoneNumRaw, 'en-US')) {\n        if (phoneNumRaw.length == 10) phoneNumRaw = '1' + phoneNumRaw;\n        clearTimeout(inactivityTimeout);\n        resolve({\n          phone: phoneNumRaw,\n          s3Id: s3Id\n        });\n      } else {\n        console.log('malformed phone number');\n        // show error!\n      }\n    });\n  });\n}\n\n// phone inputs\nfunction phoneNumberInputs() {\n  // mask the output\n  $sharePhone.mask('000-000-0000');\n  // get interactions from the keypad\n  $shareKeypad.find('.num').on(tapEvent, function (e) {\n    var phoneNumber = $sharePhone.html().toString() + $(e.target).html().toString();\n    phoneNumber = $sharePhone.masked(phoneNumber);\n    $sharePhone.html(phoneNumber);\n  });\n  // clear the display\n  $shareKeypad.find('.clear').on(tapEvent, function (e) {\n    $sharePhone.html('');\n  });\n\n  // $('body.share-active').on(tapEvent, function(e) {\n  //   if ($(e.target).closest(''))\n  // })\n}\n\n// \"randomly\" place fiddly bits on the cards\nfunction randomCardGraphics() {\n  $body.find('.card-wrap article').each(function (i, el) {\n    var numBg = 6; // 6 different bgs specified in css\n    $(el).attr('data-bg', i % numBg);\n  });\n}\n\nfunction initTips() {\n  cardInteractions();\n}\n\nfunction initShare() {\n  phoneNumberInputs();\n  randomCardGraphics();\n}\n\nfunction init() {\n  initTips();\n  initShare();\n}\n\n},{\"./client-config\":99,\"./timing\":107,\"./touch\":108,\"./tutorial\":109,\"./util\":111,\"./video\":112,\"validator\":35}],104:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.startKeepaliveAnimation = startKeepaliveAnimation;\nexports.stopKeepaliveAnimation = stopKeepaliveAnimation;\nexports.destroyGroupPops = destroyGroupPops;\nexports.fillInGroupPopsById = fillInGroupPopsById;\nexports.toggleFill = toggleFill;\nexports.cleanUpGroup = cleanUpGroup;\nexports.updatePops = updatePops;\nexports.getOutlineGroup = getOutlineGroup;\nexports.getTruedShape = getTruedShape;\nexports.getCompletedPath = getCompletedPath;\nexports.getShapePrediction = getShapePrediction;\nexports.getIntegerPoint = getIntegerPoint;\nexports.stringifyPoint = stringifyPoint;\nexports.parsePoint = parsePoint;\nexports.getClosestPointFromPathData = getClosestPointFromPathData;\nexports.processShapeData = processShapeData;\nexports.findInteriorCurves = findInteriorCurves;\nexports.getExtendedPath = getExtendedPath;\nexports.getBruteExtendedPath = getBruteExtendedPath;\nexports.getTrimmedPath = getTrimmedPath;\nexports.hitTestGroupBounds = hitTestGroupBounds;\nexports.hitTestBounds = hitTestBounds;\nexports.init = init;\nvar ShapeDetector = require('./lib/shape-detector');\n\nvar config = require('./client-config');\n\nvar util = require('./util');\nvar color = require('./color');\n\nvar keepaliveShape = exports.keepaliveShape = void 0;\n\nvar cornerThresholdDeg = exports.cornerThresholdDeg = 30;\nvar thresholdDistMultiplier = exports.thresholdDistMultiplier = 0.1;\n\nvar detector = exports.detector = new ShapeDetector(ShapeDetector.defaultShapes);\n\nvar shapeNames = exports.shapeNames = [\"line\", \"circle\", \"square\", \"triangle\", \"other\"];\n\nfunction clearPops() {\n  var pops = util.getAllPops();\n  pops.forEach(function (pop) {\n    return pop.remove();\n  });\n}\n\nvar keepaliveInterval = null;\n\n// the canvas recorder automatically trims 'still' frames, so I add a semitransparent 1px square to trick the recorder into recording :)\nfunction initKeepaliveShape() {\n  exports.keepaliveShape = keepaliveShape = Path.Rectangle({\n    point: [1, 1],\n    size: [1, 1],\n    strokeColor: new Color(0, 0.001),\n    visible: false,\n    name: 'keepalive'\n  });\n}\n\nfunction startKeepaliveAnimation() {\n  keepaliveShape.visible = true;\n  keepaliveInterval = setInterval(function () {\n    keepaliveShape.rotation += 5;\n  }, 40);\n};\n\nfunction stopKeepaliveAnimation() {\n  keepaliveShape.visible = false;\n  clearInterval(keepaliveInterval);\n}\n\nfunction destroyGroupPops(group) {\n  // console.log('destroying pops');\n  var groupPopsBefore = util.getGroupPops(group);\n  // console.log('pops to be destroyed', groupPopsBefore);\n  if (groupPopsBefore.length > 0) {\n    groupPopsBefore.forEach(function (pop) {\n      return pop.remove();\n    });\n  }\n  var groupPopsAfter = util.getGroupPops(group);\n  // console.log('group pops after', groupPopsAfter);\n}\n\nfunction fillInGroupPopsById(groupId) {\n  var group = paper.project.getItem({\n    className: 'Group',\n    match: function match(el) {\n      return el.id === groupId;\n    }\n  });\n\n  if (!!group && group.children.length > 0) {\n    group.children.forEach(function (groupChild) {\n      if (groupChild.name === 'loop') {\n        toggleFill(groupChild);\n      }\n    });\n  }\n}\n\nfunction toggleFill(item) {\n  var transparent = color.transparent;\n  // console.log('hit');\n  var parent = item.parent;\n\n  // console.log('hit item', item);\n  // console.log('hit parent', parent);\n\n  if (item.data.interior) {\n    // console.log('interior');\n    item.data.transparent = !item.data.transparent;\n\n    if (item.data.transparent) {\n      // console.log('transparent');\n      item.fillColor = transparent;\n      item.strokeColor = transparent;\n    } else {\n      // console.log('not transparent');\n      item.fillColor = parent.data.color;\n      item.strokeColor = parent.data.color;\n    }\n\n    window.kan.moves.push({\n      type: 'fillChange',\n      id: item.id,\n      fill: parent.data.color,\n      transparent: item.data.transparent\n    });\n  } else {\n    // console.log('not interior');\n    // check if item is a pop, because then we'll fill the pop's parent\n    if (!!item.data && item.data.pop === true) {\n      if (!!item.parent) {\n        if (config.pop === true) {\n          fillInGroupPopsById(item.parent.id);\n        }\n      }\n    }\n  }\n}\n\nfunction cleanUpGroup(group) {\n  // console.log('cleaning up group');\n  var acceptableNames = ['mask', 'outer', 'shapePath', 'loop', 'pop'];\n\n  group.children.forEach(function (groupChild) {\n    if (groupChild.name === null || !acceptableNames.includes(groupChild.name) || !groupChild.length > 0) {\n      groupChild.remove();\n    }\n  });\n\n  return group;\n}\n\nfunction updatePops() {\n  var freshGroups = util.getFreshGroups();\n  var popCandidates = util.getPopCandidates();\n  var allPops = util.getAllPops();\n  popCandidates.reverse();\n  // console.log('freshGroups', freshGroups);\n  // console.log('popCandidates', popCandidates);\n  // clearPops();\n\n  freshGroups.forEach(function (freshGroup, i) {\n    // if (i >= 4) return;\n    // console.log('freshGroup', freshGroup);\n\n    var freshOuter = freshGroup._namedChildren.mask[0];\n    freshOuter.bringToFront();\n    // freshOuter.visible = true;\n    // freshOuter.fillColor = 'black';\n    // freshOuter.selected = true;\n    // console.log('freshOuter', freshOuter);\n    // freshOuter.selected = true;\n    popCandidates.forEach(function (otherGroup, j) {\n      var otherGroupOuter = otherGroup._namedChildren.mask[0];\n      if (freshGroup.id !== otherGroup.id) {\n        // console.log('otherGroup', otherGroup);\n        // console.log('otherGroupOuter', otherGroupOuter);\n        // otherGroupOuter.fillColor = 'white';\n        otherGroupOuter.bringToFront();\n        var thisPop = freshOuter.intersect(otherGroupOuter);\n        if (!!thisPop && thisPop.length > 0) {\n          // const popColor = color.getIndexedPopColor(i + j);\n          var popColor = color.getRandomPop();\n          thisPop.fillColor = popColor;\n          thisPop.strokeColor = popColor;\n          thisPop.data.pop = true;\n          thisPop.name = 'pop';\n          thisPop.data.popGroup = freshGroup.id;\n          thisPop.data.intersectingGroup = otherGroup.id;\n          thisPop.visible = true;\n          thisPop.closed = true;\n          thisPop.bringToFront();\n          freshGroup.addChild(thisPop);\n        }\n\n        cleanUpGroup(freshGroup);\n\n        // figure out if this pop intersects any other pops\n        // allPops.forEach((otherPop, k) => {\n        //   console.log('checking other pop', otherPop);\n        //   if (thisPop.id !== otherPop.id && thisPop.intersects(otherPop)) {\n        //     let popIntersection = thisPop.getIntersections(otherPop);\n        //     if (!!popIntersection && popIntersection.length > 0) {\n        //       popIntersection = new Path([popIntersection])\n        //       console.log('popIntersection', popIntersection);\n        //       // const popColor = color.getIndexedPopColor(i + j + k);\n        //       const popColor = color.getRandomPop();\n        //       popIntersection.data.pop = true;\n        //       popIntersection.fillColor = popColor\n        //       popIntersection.strokeColor = popColor;\n        //       popIntersection.visible = true;\n        //       popIntersection.closed = true;\n        //       popIntersection.bringToFront();\n        //     }\n        //   }\n        // });\n      }\n    });\n\n    freshGroup.data.fresh = false;\n  });\n}\n\nfunction getOutlineGroup(truedShape) {\n  // console.log('truedShape', truedShape);\n  var outerPath = new Path();\n  outerPath.name = 'outer';\n  outerPath.visible = true;\n\n  var middlePath = new Path();\n  middlePath.name = 'middle';\n  var sizes = [];\n  var angle = null,\n      lastAngle = null,\n      angleDelta = void 0;\n\n  var firstTop = null,\n      firstBottom = null;\n  var lastTop = null,\n      lastBottom = null;\n\n  if (!(truedShape.length > 0)) return new Group(outerPath, middlePath);\n\n  middlePath.add(truedShape.firstSegment.point);\n\n  for (var i = 0; i < truedShape.length; i += 10) {\n    while (sizes.length > 10) {\n      sizes.shift();\n    }\n\n    var size = Math.random() * 9; // This is just random variance\n    sizes.push(size);\n\n    var cumSize = 0;\n    for (var j = 0; j < sizes.length; j++) {\n      cumSize += sizes[j];\n    }\n    var avgSize = Math.max(5, (cumSize / sizes.length + size) / 2);\n\n    var point = truedShape.getPointAt(i);\n    var normal = truedShape.getNormalAt(i);\n\n    var top = new Point(point.x + normal.x * avgSize, point.y + normal.y * avgSize);\n    var bottom = new Point(point.x - normal.x * avgSize, point.y - normal.y * avgSize);\n\n    // console.log('point', point, 'normal', normal);\n    // console.log('top', top, 'bottom', bottom);\n\n    outerPath.add(top);\n    outerPath.insert(0, bottom);\n    middlePath.add(point);\n\n    lastAngle = angle;\n\n    if (i == 10) {\n      firstTop = top;\n      firstBottom = bottom;\n    } else {\n      lastTop = top;\n      lastBottom = bottom;\n    }\n  }\n\n  if (truedShape.closed === true) {\n    var centerTop = new Point((firstTop.x + lastTop.x) / 2, (firstTop.y + lastTop.y) / 2);\n    var centerBottom = new Point((firstBottom.x + lastBottom.x) / 2, (firstBottom.y + lastBottom.y) / 2);\n    var center = new Point((centerTop.x + centerBottom.x) / 2, (centerTop.y + centerBottom.y) / 2);\n\n    outerPath.add(centerTop);\n    outerPath.insert(0, centerBottom);\n    middlePath.add(center);\n\n    outerPath.add(firstTop);\n    outerPath.insert(0, firstBottom);\n    middlePath.closed = true;\n  }\n\n  outerPath.flatten(50);\n  middlePath.flatten(50);\n  outerPath.simplify();\n  middlePath.simplify();\n\n  outerPath.selected = false;\n  // middlePath.selected = true;\n  outerPath.name = 'outer';\n  middlePath.name = 'middle';\n  var returnGroup = new Group(outerPath, middlePath);\n  return returnGroup;\n}\n\nfunction getTruedShape(path) {\n  var pathClone = path.clone();\n  pathClone.visible = false;\n  // console.log('pathClone', pathClone);\n  var completedPath = getCompletedPath(pathClone);\n  // completedPath.reduce();\n\n  // true the path!\n  var truedPath = completedPath;\n  // console.log('truedPath', truedPath);\n\n  truedPath.strokeWidth = pathClone.strokeWidth;\n\n  pathClone.remove();\n  return truedPath;\n}\n\n// extend or trim path if the ends are close\nfunction getCompletedPath(path) {\n  var pathClone = path.clone();\n  pathClone.visible = false;\n  pathClone.reduce();\n  pathClone.simplify();\n\n  var intersections = pathClone.getIntersections();\n\n  if (intersections.length > 0) {\n    // trim path if ends are close\n    var trimmedPath = getTrimmedPath(pathClone);\n\n    pathClone.remove();\n\n    return trimmedPath;\n  } else {\n    // extend path to see if an intersection is near\n    var extendedPath = getExtendedPath(pathClone);\n    var _intersections = extendedPath.getIntersections();\n\n    // pathClone.remove();\n\n    if (_intersections.length > 0) {\n      // trim extra extended path\n      var _trimmedPath = getTrimmedPath(extendedPath);\n      extendedPath.remove();\n      return _trimmedPath;\n    } else {\n      // extended path does not intersect, return the original path\n      extendedPath.replaceWith(getBruteExtendedPath(pathClone));\n      if (extendedPath !== null) {\n        var _intersections2 = extendedPath.getIntersections();\n\n        if (_intersections2.length > 0) {\n          var _trimmedPath2 = getTrimmedPath(extendedPath);\n          extendedPath.remove();\n          return _trimmedPath2;\n        }\n\n        if (!!extendedPath && extendedPath.length > 0) {\n          extendedPath.remove();\n        }\n      }\n\n      pathClone.visible = true;\n      return pathClone;\n    }\n  }\n}\n\nfunction getShapePrediction(path) {\n  var prediction = {};\n\n  var shapeJSON = path.exportJSON();\n  var shapeData = processShapeData(shapeJSON);\n  // console.log(JSON.stringify(shapeData));\n  var shapePrediction = detector.spot(shapeData);\n\n  if (shapePrediction.score === 0) {\n    // algorithm doesn't like vertical lines for some reason\n    // if the certainty is 0 it's probably a line\n    prediction.pattern = \"line\";\n    prediction.score = 0.9;\n  } else {\n    if (shapePrediction.score > 0.5) {\n      prediction.pattern = shapePrediction.pattern;\n    } else {\n      prediction.pattern = \"other\";\n    }\n    prediction.score = shapePrediction.score;\n  }\n\n  if (path.closed === true) {\n    var closedShapes = ['triangle', 'square', 'circle'];\n    if (closedShapes.includes(prediction.pattern) === false) {\n      // closed shape should be one of the above, make a random pick\n      prediction.pattern = util.randomPick(closedShapes);\n    }\n  } else if (path.intersects(path) === true) {\n    prediction.pattern = 'other';\n    // const intersectingShapes = ['triangle', 'square', 'circle', 'other'];\n    // if (intersectingShapes.includes(prediction.pattern) === false) {\n    //   prediction.pattern = util.randomPick(intersectingShapes);\n    // }\n  } else {\n    prediction.pattern = 'line'; // lines are the only shape that is not closed and does not intersect\n  }\n\n  // console.log('shape prediction', prediction);\n\n  return prediction;\n}\n\n// floors the coordinates of a point\nfunction getIntegerPoint(point) {\n  return new Point(Math.floor(point.x), Math.floor(point.y));\n}\n\nfunction stringifyPoint(point) {\n  return Math.floor(point.x) + ',' + Math.floor(point.y);\n}\n\nfunction parsePoint(pointStr) {\n  var split = pointStr.split(',').map(function (num) {\n    return Math.floor(num);\n  });\n\n  if (split.length >= 2) {\n    return new Point(split[0], split[1]);\n  }\n\n  return null;\n}\n\nfunction getClosestPointFromPathData(point, pathData) {\n  var leastDistance = void 0,\n      closestPoint = void 0;\n\n  Base.each(pathData, function (datum, i) {\n    var distance = point.getDistance(datum.point);\n    if (!leastDistance || distance < leastDistance) {\n      leastDistance = distance;\n      closestPoint = datum.point;\n    }\n  });\n\n  return closestPoint || point;\n}\n\nfunction processShapeData(json) {\n  var returnShape = [];\n  var jsonObj = JSON.parse(json)[1]; // zero index is stringified type (e.g. \"Path\")\n\n  if ('segments' in jsonObj) {\n    var segments = jsonObj.segments;\n    Base.each(segments, function (segment, i) {\n      if (segment.length === 3) {\n        var positionInfo = segment[0]; // indexes 1 and 2 are superfluous matrix details\n        returnShape.push({\n          x: positionInfo[0],\n          y: positionInfo[1]\n        });\n      } else {\n        returnShape.push({\n          x: segment[0],\n          y: segment[1]\n        });\n      };\n    });\n  }\n  return returnShape;\n}\n\nfunction findInteriorCurves(path) {\n  var transparent = color.transparent;\n\n  var interiorCurves = [];\n\n  var pathClone = path.clone();\n  var intersections = pathClone.getIntersections();\n\n  if (intersections.length > 0) {\n    var dividedPath = pathClone.resolveCrossings();\n    // console.log(dividedPath);\n\n    if (dividedPath.className === 'CompoundPath') {\n      Base.each(dividedPath.children, function (child, i) {\n        if (child.length > 0 && child.closed) {\n          var enclosedLoop = child.clone();\n          if (pathClone.closed) {\n            enclosedLoop.fillColor = pathClone.strokeColor;\n            enclosedLoop.data.interior = true;\n            enclosedLoop.data.transparent = false;\n          } else {\n            enclosedLoop.fillColor = transparent;\n            enclosedLoop.data.transparent = true;\n          }\n          enclosedLoop.data.interior = true;\n          enclosedLoop.visible = true;\n          enclosedLoop.closed = true;\n          interiorCurves.push(enclosedLoop);\n        }\n      });\n    } else {\n      if (pathClone.closed) {\n        var enclosedLoop = pathClone.clone();\n        enclosedLoop.visible = true;\n        enclosedLoop.fillColor = pathClone.strokeColor;\n        enclosedLoop.data.interior = true;\n        enclosedLoop.data.transparent = false;\n        interiorCurves.push(enclosedLoop);\n      }\n    }\n  } else {\n    if (pathClone.closed) {\n      var _enclosedLoop = pathClone.clone();\n      _enclosedLoop.visible = true;\n      _enclosedLoop.fillColor = pathClone.strokeColor;\n      _enclosedLoop.data.interior = true;\n      _enclosedLoop.data.transparent = false;\n      interiorCurves.push(_enclosedLoop);\n    }\n  }\n\n  return interiorCurves;\n}\n\nfunction getExtendedPath(path) {\n  var bruteForce = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var extendedPath = path.clone();\n  extendedPath.visible = false;\n\n  var thresholdDist = thresholdDistMultiplier * extendedPath.length;\n\n  var firstSegment = extendedPath.firstSegment;\n  var nextSegment = firstSegment.next;\n  var startAngle = Math.atan2(nextSegment.point.y - firstSegment.point.y, nextSegment.point.x - firstSegment.point.x); // rad\n  var inverseStartAngle = startAngle + Math.PI;\n  var extendedStartPoint = new Point(firstSegment.point.x + Math.cos(inverseStartAngle) * thresholdDist / 2, firstSegment.point.y + Math.sin(inverseStartAngle) * thresholdDist / 2);\n  extendedPath.insert(0, extendedStartPoint);\n\n  var lastSegment = extendedPath.lastSegment;\n  var penSegment = lastSegment.previous; // penultimate\n  var endAngle = Math.atan2(lastSegment.point.y - penSegment.point.y, lastSegment.point.x - penSegment.point.x); // rad\n  var extendedEndPoint = new Point(lastSegment.point.x + Math.cos(endAngle) * thresholdDist / 2, lastSegment.point.y + Math.sin(endAngle) * thresholdDist / 2);\n  extendedPath.add(extendedEndPoint);\n\n  // extendedPath.visible = true;\n\n  return extendedPath;\n}\n\nfunction getBruteExtendedPath(path) {\n  var extendedPath = path.clone();\n  extendedPath.visible = false;\n\n  var thresholdDist = thresholdDistMultiplier * extendedPath.length;\n  var firstPoint = extendedPath.firstSegment.point;\n  var lastPoint = extendedPath.lastSegment.point;\n\n  if (firstPoint.getDistance(lastPoint) < thresholdDist) {\n    extendedPath.insert(0, lastPoint);\n    extendedPath.add(firstPoint);\n    extendedPath.closed = true;\n    extendedPath.unite();\n    var crossings = extendedPath.resolveCrossings();\n    if (!!crossings && !!crossings.children && crossings.children.length > 0) {\n      (function () {\n        var maxArea = 0,\n            maxChild = null;\n        crossings.children.forEach(function (child) {\n          if (child.area > maxArea) {\n            maxChild = child;\n            maxArea = child.area;\n          }\n        });\n\n        extendedPath = maxChild;\n      })();\n    }\n  }\n\n  return extendedPath;\n}\n\nfunction getTrimmedPath(path) {\n  var pathClone = path.clone();\n  pathClone.visible = false;\n\n  var firstPoint = pathClone.firstSegment.point;\n  var lastPoint = pathClone.lastSegment.point;\n  var thresholdDist = thresholdDistMultiplier * pathClone.length;\n\n  var intersections = pathClone.getIntersections();\n  intersections.forEach(function (intersection, i) {\n    if (intersection.offset === 0) {\n      intersections.splice(i, 1);\n    }\n  });\n\n  // console.log('intersections', intersections);\n\n  if (intersections.length == 1) {\n    for (var i = 0; i < intersections.length; i++) {\n      var intersectionPoint = intersections[i].point;\n\n      // if the average of the distance between the first and last points and the intersection point is within the threshold, trim\n      if (firstPoint.getDistance(intersectionPoint) + lastPoint.getDistance(intersectionPoint) < 2 * thresholdDist) {\n        // console.log('trimming path');\n        var dividedPath = pathClone.clone(); // resolve crossings seems to modify the path it was passed, so make an extra clone to be safe\n        dividedPath.visible = false;\n        var pathCrossings = dividedPath.resolveCrossings();\n\n        if (pathCrossings.className === 'CompoundPath' && pathCrossings.children.length > 0) {\n          for (var j = 0; j < pathCrossings.children.length; j++) {\n            var child = pathCrossings.children[j];\n            if (child.closed) {\n              // child.selected = true;\n              dividedPath = dividedPath.subtract(child);\n            }\n          }\n        }\n\n        // dividedPath.selected = true;\n\n        var trimmedPath = pathClone.subtract(dividedPath);\n        if (trimmedPath.length === 0) return pathClone;\n        if (trimmedPath.className === 'CompoundPath' && trimmedPath.children.length > 0) {\n          var _ret2 = function () {\n            var closedChildren = [];\n            trimmedPath.children.forEach(function (child, i) {\n              if (child.length > 0 && child.closed) {\n                var childClone = child.clone();\n                childClone.visible = false;\n                closedChildren.push(childClone);\n              }\n            });\n\n            if (closedChildren.length > 0) {\n              if (closedChildren.length > 1) {\n                // for some reason there are more than one closed children, merge them\n                var accumulator = closedChildren[0];\n\n                for (var _j = 1; _j < closedChildren.length; _j++) {\n                  accumulator = accumulator.unite(closedChildren[_j]);\n                }\n\n                if (accumulator.length > 0 && accumulator.className === 'Path') {\n                  // console.log('trimmed accumulator', accumulator);\n                  var newPath = new Path();\n                  newPath.copyContent(accumulator);\n                  newPath.copyAttributes(pathClone);\n                  accumulator.remove();\n                  pathClone.remove();\n                  dividedPath.remove();\n                  trimmedPath.remove();\n                  return {\n                    v: newPath\n                  };\n                }\n              }\n\n              pathClone.remove();\n              dividedPath.remove();\n              trimmedPath.remove();\n              // console.log('trimmed closedChildren[0]', closedChildren[0]);\n              return {\n                v: closedChildren[0]\n              };\n            }\n          }();\n\n          if ((typeof _ret2 === 'undefined' ? 'undefined' : _typeof(_ret2)) === \"object\") return _ret2.v;\n        }\n\n        // console.log('trimmed path return', trimmedPath);\n        // console.log('path clone', pathClone);\n        // console.log('dividedPath', dividedPath);\n        pathClone.remove();\n        dividedPath.remove();\n        return trimmedPath;\n      }\n    }\n\n    // no close intersection were found so nothing can be trimmed\n    return pathClone;\n  } else {\n    return path;\n  }\n}\n\nfunction hitTestGroupBounds(point) {\n  var groups = util.getVisibleGroups();\n  return hitTestBounds(point, groups);\n}\n\nfunction hitTestBounds(point, children) {\n  if (!point) return null;\n\n  for (var i = children.length - 1; i >= 0; i--) {\n    var child = children[i];\n    var bounds = child.strokeBounds;\n    if (point.isInside(child.strokeBounds)) {\n      return child;\n    }\n  }\n\n  return null;\n}\n\nfunction init() {\n  initKeepaliveShape();\n}\n\n},{\"./client-config\":99,\"./color\":100,\"./lib/shape-detector\":101,\"./util\":111}],105:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nexports.asyncRecord = asyncRecord;\nexports.asyncAddCompositionToDb = asyncAddCompositionToDb;\nexports.handleSharePressed = handleSharePressed;\nvar config = require('./client-config');\n\nvar Promise = require('bluebird');\nvar axios = require('axios');\nvar qs = require('qs');\n\nvar ui = require('./ui');\nvar timing = require('./timing');\nvar overlays = require('./overlays');\nvar sound = require('./sound');\nvar video = require('./video');\n\nvar drawCanvas = document.getElementById(config.canvasId);\n\nfunction asyncStopAudioRecordingAndExportBlob(recorder) {\n  return new Promise(function (resolve, reject) {\n    try {\n      recorder.stop();\n      recorder.exportWAV(function (blob) {\n        resolve(blob);\n      });\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n\nfunction asyncStopVideoRecordingAndExportBlob(recorder) {\n  return new Promise(function (resolve, reject) {\n    try {\n      recorder.stopRecording(function () {\n        var blob = recorder.getBlob();\n        resolve(blob);\n      });\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n\nfunction asyncRecord() {\n  return new Promise(function (resolve, reject) {\n    try {\n      (function () {\n        var audioRecorder = new Recorder(Howler.masterGain, {\n          workerPath: '/js/lib/recorderWorker.js'\n        });\n        var canvasRecorder = RecordRTC(drawCanvas, {\n          type: 'canvas'\n        });\n\n        Howler.mute(false);\n        canvasRecorder.startRecording();\n        audioRecorder.record();\n\n        sound.asyncPlayCompositionOnce().then(function () {\n          return Promise.all([asyncStopAudioRecordingAndExportBlob(audioRecorder), asyncStopVideoRecordingAndExportBlob(canvasRecorder)]).then(function (values) {\n            var _values = _slicedToArray(values, 2),\n                audioBlob = _values[0],\n                videoBlob = _values[1];\n\n            console.log('audioBlob', audioBlob);\n            console.log('videoBlob', videoBlob);\n\n            console.log('sending files');\n\n            var formData = new FormData();\n            formData.append('audio', audioBlob);\n            formData.append('video', videoBlob);\n\n            axios.post('/process', formData).then(function (resp) {\n              var s3Id = resp.data;\n              // fire share modal\n              resolve(s3Id);\n              // window.location.href = `/process?id=${videoId}`;\n            }).catch(function (e) {\n              // there was an error uploading!\n              console.error(e);\n              reject(e);\n            });\n          }).catch(function (e) {\n            console.error(e);\n            reject(e);\n          });\n        }).error(function (e) {\n          return Promise.all([asyncStopAudioRecordingAndExportBlob(audioRecorder), asyncStopVideoRecordingAndExportBlob(canvasRecorder)]).then(function (values) {\n            console.log(values);\n          }).catch(function (e) {\n            console.error(e);\n          }).finally(function () {\n            reject(e);\n          });\n        });\n      })();\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n\nfunction asyncAddCompositionToDb(data) {\n  return new Promise(function (resolve, reject) {\n    try {\n      var s3Id = data.s3Id;\n      var phone = data.phone;\n      var queryString = qs.stringify({\n        s3Id: s3Id,\n        phone: phone,\n        postKey: config.postKey\n      });\n\n      return axios.post('/composition/new?' + queryString).then(function () {\n        resolve('composition successfully posted');\n      }).catch(function (e) {\n        reject(e);\n      });\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n\nfunction handleSharePressed() {\n  console.log('sharePressed');\n  overlays.openOverlay('share-prepare');\n  clearInterval(window.kan.inactivityTimeout);\n  ui.enterShareMode();\n  overlays.asyncCloseOverlaysAfterDuration(1000 * 1)\n  // .then(function() {\n  //   return asyncRecord();\n  // })\n  .then(function (s3Id) {\n    console.log('recording done');\n    ui.exitShareMode();\n    overlays.openOverlay('share');\n    return overlays.asyncWaitForWellFormedPhoneNumber(s3Id);\n  }).then(function (resp) {\n    console.log('received well formed phone number');\n    return asyncAddCompositionToDb(resp);\n  })\n  // .catch(function(e) {\n  //   // could be a time out?\n  //   console.log('something went wrong', e);\n  // })\n  // .then(function() {\n  // })\n  .then(function () {\n    // close overlay\n    overlays.openOverlay('share-confirmation');\n    setTimeout(function () {\n      video.enterTutorialMode();\n    }, 1000 * 4);\n    console.log('close overlay');\n  }).catch(function (e) {\n    // close overlay\n    console.log('error in share mode, going into tutorial');\n    ui.exitShareMode(); // make sure\n    video.enterTutorialMode();\n  });\n}\n\n},{\"./client-config\":99,\"./overlays\":103,\"./sound\":106,\"./timing\":107,\"./ui\":110,\"./video\":112,\"axios\":1,\"bluebird\":26,\"qs\":31}],106:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.init = init;\nexports.reinitShapeSounds = reinitShapeSounds;\nexports.getShapeSoundObj = getShapeSoundObj;\nexports.startPlaying = startPlaying;\nexports.stopPlaying = stopPlaying;\nexports.asyncInitShapeSounds = asyncInitShapeSounds;\nexports.formatShapeSoundData = formatShapeSoundData;\nexports.quantizeLength = quantizeLength;\nexports.quantizePosition = quantizePosition;\nexports.removeShapeFromComposition = removeShapeFromComposition;\nexports.clearSoundTimeouts = clearSoundTimeouts;\nexports.startComposition = startComposition;\nexports.asyncPlayCompositionMultipleTimes = asyncPlayCompositionMultipleTimes;\nexports.asyncPlayCompositionOnce = asyncPlayCompositionOnce;\nexports.stopComposition = stopComposition;\nexports.getTrimmedCompositionObj = getTrimmedCompositionObj;\nrequire('howler');\nvar Promise = require(\"bluebird\");\n\nvar ui = require('./ui');\nvar shape = require('./shape');\nvar color = require('./color');\nvar overlays = require('./overlays');\nvar tutorial = require('./tutorial');\nvar util = require('./util');\n\nvar $body = $('body');\n\nvar measures = 4;\nvar bpm = 120;\nvar beatLength = 60 / bpm * 1000; // ms\nvar measureLength = beatLength * 4;\nvar compositionLength = exports.compositionLength = measureLength * measures;\n\nvar playingClass = exports.playingClass = 'playing';\nvar playEnabledClass = exports.playEnabledClass = 'play-enabled';\n\nfunction init() {\n  return asyncInitShapeSounds();\n}\n\nfunction reinitShapeSounds() {\n  return asyncInitShapeSounds();\n}\n\nfunction getShapeSoundObj(path) {\n  var viewWidth = paper.view.viewSize.width;\n  var viewHeight = paper.view.viewSize.height;\n  var shapeSounds = window.kan.shapeSounds || initShapeSounds();\n  // alert(JSON.stringify(window.kan.shapeSounds));\n  // console.log(JSON.stringify(window.kan.shapeSounds));\n\n  var shapePrediction = shape.getShapePrediction(path);\n  var colorName = color.getPathColorName(path);\n  if (colorName === null) colorName = 'black'; // just in case\n\n  var quantizedSoundStartTime = quantizeLength(path.bounds.x / viewWidth * compositionLength); // ms\n  var quantizedSoundDuration = quantizeLength(path.bounds.width / viewWidth * compositionLength); // ms\n\n  var soundObj = {};\n  soundObj.sound = shapeSounds[shapePrediction.pattern];\n  soundObj.startTime = quantizedSoundStartTime;\n  soundObj.duration = quantizedSoundDuration;\n  soundObj.pathId = path.id;\n  soundObj.spriteName = colorName;\n  soundObj.groupId = path.parent.id;\n  soundObj.play = function () {\n    return new Promise(function (resolve, reject) {\n      soundObj.sound.play(soundObj.spriteName);\n      soundObj.sound.on('end', function () {\n        resolve('Group ' + soundObj.groupId + ' done playing sound');\n      });\n      soundObj.sound.on('loaderror', function () {\n        reject('Group ' + soundObj.groupId + ' failed to load sound');\n      });\n    });\n  };\n\n  return soundObj;\n}\n\nfunction startPlaying() {\n  // console.log('first time', window.kan.firstTimePlaying);\n  if ($body.hasClass(playEnabledClass)) {\n    $body.addClass(playingClass);\n\n    Howler.mute(false);\n\n    window.kan.playing = true;\n\n    if (window.kan.firstTimePlaying === true) {\n      window.kan.firstTimePlaying = false;\n      startComposition(window.kan.composition, false);\n    } else {\n      startComposition(window.kan.composition, true);\n    }\n  } else {\n    window.kan.playing = false;\n    $body.removeClass(playingClass);\n  }\n}\n\nfunction stopPlaying() {\n  var mute = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  if (!!mute) {\n    Howler.mute(true);\n  }\n\n  window.kan.playing = false;\n  $body.removeClass(playingClass);\n\n  stopComposition();\n}\n\nfunction asyncGetShapeSoundFromShapeName(shapeName) {\n  var shapeSoundJSONPath = './audio/shapes/' + shapeName + '/' + shapeName + '.json';\n  return $.getJSON(shapeSoundJSONPath).then(function (resp) {\n    var shapeSoundData = formatShapeSoundData(shapeName, resp);\n    var sound = new Howl(shapeSoundData);\n    return {\n      shapeName: shapeName,\n      sound: sound\n    };\n  });\n}\n\nfunction asyncInitShapeSounds() {\n  var returnSounds = {};\n  var extensions = ['ogg', 'm4a', 'mp3', 'ac3'];\n\n  var shapeNames = shape.shapeNames;\n  var promises = [];\n  Base.each(shapeNames, function (shapeName) {\n    promises.push(asyncGetShapeSoundFromShapeName(shapeName));\n  });\n\n  return $.when.apply($, promises).done(function () {\n    var returnSounds = {};\n    for (var i = 0; i < arguments.length; i++) {\n      var arg = arguments[i];\n      returnSounds[arg.shapeName] = arg.sound;\n    }\n\n    window.kan.shapeSounds = returnSounds;\n    return returnSounds;\n  });\n}\n\nfunction formatShapeSoundData(shapeName, data) {\n  var returnData = {};\n\n  returnData.src = data.urls.map(function (url) {\n    return './audio/shapes/' + shapeName + '/' + url;\n  });\n  returnData.sprite = data.sprite;\n  returnData.html5 = false;\n  returnData.loop = false;\n\n  return returnData;\n}\n\nfunction quantizeLength(duration) {\n  var smallestDuration = 60 / bpm;\n  var returnDuration = Math.floor(duration / smallestDuration) * smallestDuration;\n\n  if (returnDuration > 0) {\n    return returnDuration;\n  } else {\n    // always return something greater than zero\n    return smallestDuration;\n  }\n}\n\nfunction quantizePosition(position, viewWidth) {\n  var smallestInterval = viewWidth / (4 * measures);\n  return returnPosition = Math.floor(position / smallestInterval) * smallestInterval;\n}\n\nfunction asyncPlayShape(shape) {\n  return new Promise(function (resolve, reject) {\n    Promise.all([asyncPlayShapeSound(shape), asyncPlayShapeAnimation(shape)]).then(function () {\n      resolve('Group ' + shape.groupId + ' fully done playing');\n    }).error(function (e) {\n      reject('Group ' + shape.groupId + ' errored while playing: ' + e);\n    });\n  });\n}\n\nfunction asyncPlayShapeSound(shape) {\n  return new Promise(function (resolve, reject) {\n    try {\n      // console.log('playing: ', shape.sound, shape.spriteName, shape.startTime);\n      shape.play().then(function (res) {\n        resolve(res);\n      }).catch(function (e) {\n        reject(e);\n      });\n    } catch (e) {\n      reject('Error playing shape sound: ' + e);\n    }\n  });\n}\n\nfunction asyncPlayShapeAnimation(shape) {\n  return new Promise(function (resolve, reject) {\n    var item = paper.project.getItem({\n      className: 'Path',\n      match: function match(el) {\n        return el.id === shape.pathId;\n      }\n    });\n    if (!!item) {\n      (function () {\n        var group = item.parent;\n        group.data.animating = true;\n        var totalDuration = measureLength / 2;\n        group.animate([{\n          properties: {\n            scale: 1,\n            rotate: -5\n          },\n          settings: {\n            duration: totalDuration / 4,\n            easing: \"easeInOut\"\n          }\n        }, {\n          properties: {\n            scale: 1.15,\n            rotate: 5\n          },\n          settings: {\n            duration: totalDuration / 2,\n            easing: \"easeInOut\"\n          }\n        }, {\n          properties: {\n            scale: 1,\n            rotate: 0\n          },\n          settings: {\n            duration: totalDuration / 4,\n            easing: \"easeInOut\",\n            complete: function complete() {\n              this.data.animating = false;\n              resolve('Group ' + group.id + ' done animating');\n              // console.log('animation step 3')\n            }\n          }\n        }]);\n      })();\n    } else {\n      reject('Item not specified. Could not animate');\n    }\n  });\n}\n\nfunction removeShapeFromComposition(shapeGroup) {\n  var _loop = function _loop(i) {\n    var sound = window.kan.composition[i];\n\n    if ('groupId' in sound) {\n      if (sound.groupId === shapeGroup.id) {\n        window.kan.composition.splice(i, 1);\n        return {\n          v: void 0\n        };\n      }\n    } else if ('pathId' in sound) {\n      var item = getItems({\n        match: function match(el) {\n          return el.id === sound.pathId;\n        }\n      });\n      if (item.length > 0) {\n        if (!!item.parent && item.parent.className === 'Group' && item.parent.id === shapeGroup.id) {\n          window.kan.composition.splice(i, 1);\n          return {\n            v: void 0\n          };\n        }\n      }\n    }\n  };\n\n  for (var i = 0; i < window.kan.composition.length; i++) {\n    var _ret2 = _loop(i);\n\n    if ((typeof _ret2 === 'undefined' ? 'undefined' : _typeof(_ret2)) === \"object\") return _ret2.v;\n  }\n}\n\nfunction clearSoundTimeouts() {\n  if (window.kan.soundTimeouts.length > 0) {\n    window.kan.soundTimeouts.forEach(function (soundTimeout) {\n      clearTimeout(soundTimeout);\n    });\n  }\n\n  window.kan.soundTimeouts = [];\n}\n\nfunction startComposition(composition) {\n  var loop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  stopComposition();\n  tutorial.hideContextualTuts();\n\n  clearTimeout(window.kan.playPromptTimeout);\n\n  var iterations = 0;\n  playCompositionFirstTime();\n\n  function playCompositionFirstTime() {\n    clearSoundTimeouts();\n    // console.log('playing composition first time');\n    var trimmedCompositionObj = getTrimmedCompositionObj(composition);\n\n    Base.each(trimmedCompositionObj.composition, function (shape, i) {\n      var soundTimeout = setTimeout(function () {\n        if (!window.kan.playing) {\n          // console.log('not playing, returning');\n          return;\n        }\n\n        if (shape.spriteName === null) {\n          // console.log('%cshape is null', 'color:red', shape);\n          return;\n        }\n\n        asyncPlayShape(shape).then(function (res) {\n          console.log(res);\n        }).error(function (e) {\n          console.log('Error playing shape', e);\n        });\n      }, shape.startTime);\n      window.kan.soundTimeouts.push(soundTimeout);\n    });\n\n    iterations++;\n    window.kan.compositionTimeout = setTimeout(repeatComposition, compositionLength - trimmedCompositionObj.startTime);\n  }\n\n  function playCompositionOnce() {\n    clearSoundTimeouts();\n    // console.log('repeat');\n    Base.each(composition, function (shape, i) {\n      var soundTimeout = setTimeout(function () {\n        if (!window.kan.playing) {\n          // console.log('not playing, returing');\n          return;\n        }\n\n        // console.log('playing: ', shape.sound, shape.spriteName, shape.startTime);\n        asyncPlayShape(shape).then(function (res) {\n          console.log(res);\n        }).error(function (e) {\n          console.log('Error playing shape', e);\n        });\n      }, shape.startTime);\n      window.kan.soundTimeouts.push(soundTimeout);\n    });\n    iterations++;\n  }\n\n  function repeatComposition() {\n    if (loop === true) {\n      playCompositionOnce();\n      window.kan.compositionInterval = setInterval(playCompositionOnce, compositionLength);\n    } else {\n      if (iterations < 2) {\n        playCompositionOnce();\n        setTimeout(repeatComposition, compositionLength);\n      } else {\n        stopPlaying();\n        overlays.openOverlay('share-prompt');\n      }\n    }\n  }\n}\n\nfunction asyncPlayCompositionMultipleTimes() {\n  var repeats = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n\n  return new Promise(function (resolve, reject) {\n    var promisedRepeats = [];\n\n    for (var i = 0; i < repeats; i++) {\n      promisedRepeats.push(asyncPlayCompositionOnce());\n    }\n\n    Promise.each(promisedRepeats, function () {\n      console.log('repeat');\n    }).then(function () {\n      resolve('Repeats done');\n    }).error(function (e) {\n      reject(e);\n    });\n  });\n}\n\nfunction asyncPlayCompositionOnce() {\n  return new Promise(function (resolve, reject) {\n    var composition = window.kan.composition;\n    var startTime = new Date().getTime();\n    clearSoundTimeouts();\n\n    var shapePromises = [];\n\n    shape.startKeepaliveAnimation();\n\n    Base.each(composition, function (shape, i) {\n      shapePromises.push(asyncPlayShapeWithDelay(shape));\n    });\n\n    Promise.all(shapePromises).then(function (res) {\n      var endTime = new Date().getTime();\n      var playTime = endTime - startTime;\n\n      // wait for composition to be fully done before repeating (play is naturally truncated when the last shape finishes playing)\n      if (playTime < compositionLength) {\n        return Promise.delay(compositionLength - playTime).then(function () {\n          shape.stopKeepaliveAnimation();\n          resolve('Composition fully done, after a wait');\n        });\n      } else {\n        shape.stopKeepaliveAnimation();\n        resolve('Composition fully done, with no wait');\n      }\n    }).error(function (e) {\n      shape.stopKeepaliveAnimation();\n      reject(e);\n    });\n  });\n}\n\nfunction asyncPlayShapeWithDelay(shape) {\n  return new Promise(function (resolve, reject) {\n    var soundTimeout = setTimeout(function () {\n      // console.log('playing: ', shape.sound, shape.spriteName, shape.startTime);\n      asyncPlayShape(shape).then(function (res) {\n        resolve(res);\n      }).error(function (e) {\n        reject('Error playing shape with delay: ' + e);\n      });\n    }, shape.startTime);\n    window.kan.soundTimeouts.push(soundTimeout);\n  });\n}\n\nfunction stopComposition() {\n  clearInterval(window.kan.compositionInterval);\n  clearTimeout(window.kan.compositionTimeout);\n  clearSoundTimeouts();\n}\n\nfunction getTrimmedCompositionObj(composition) {\n  var firstTime = 0;\n  var trimmedComposition = [];\n  var startTime = getCompositionStartTime(composition);\n\n  composition.forEach(function (sound) {\n    var modifiedSound = util.shallowCopy(sound);\n    modifiedSound.startTime = sound.startTime - startTime;\n    if (modifiedSound.startTime < 0) modifiedSound.startTime = 0; // this shouldn't happen\n    trimmedComposition.push(modifiedSound);\n  });\n\n  return {\n    composition: trimmedComposition,\n    startTime: startTime\n  };\n}\n\nfunction getCompositionStartTime(composition) {\n  var startTime = compositionLength;\n\n  composition.forEach(function (sound) {\n    // console.log(sound);\n    // console.log(sound.startTime)\n    if ('startTime' in sound && sound.startTime < startTime) {\n      startTime = sound.startTime;\n    }\n  });\n\n  // console.log('start time', startTime);\n\n  if (startTime !== compositionLength) {\n    return startTime;\n  } else {\n    return 0;\n  }\n}\n\n},{\"./color\":100,\"./overlays\":103,\"./shape\":104,\"./tutorial\":109,\"./ui\":110,\"./util\":111,\"bluebird\":26,\"howler\":28}],107:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.init = init;\nexports.preventInactivityTimeout = preventInactivityTimeout;\nvar overlays = require('./overlays');\nvar video = require('./video');\nvar util = require('./util');\n\nvar $body = $('body');\n\nvar drawInactivityDelay = exports.drawInactivityDelay = 40 * 1000; // ms\nvar continueInactivityDelay = exports.continueInactivityDelay = 30 * 1000; // ms\nvar playPromptDelay = exports.playPromptDelay = 60 * 1000; // ms;\nvar inputDelay = exports.inputDelay = 100; // ms\nvar refreshCheckDelay = exports.refreshCheckDelay = 60 * 1000; // ms\nvar overlayDelay = exports.overlayDelay = 1000; // ms\n\nfunction init() {\n  if (window.location.hash.length > 0 && window.location.hash == '#dev') {\n    window.kan.overlays = false;\n    video.pauseVideo();\n    video.exitTutorialMode();\n  } else {\n    video.enterTutorialMode();\n  }\n}\n\nfunction preventInactivityTimeout() {\n  console.log('prevent timeout: ' + util.getTime());\n  // overlays.closeAndResetOverlays();\n\n  clearTimeout(window.kan.inactivityTimeout);\n  clearInterval(window.kan.continueCountdownInterval);\n\n  window.kan.inactivityTimeout = setTimeout(function () {\n    overlays.openOverlay('continue');\n  }, drawInactivityDelay);\n}\n\n},{\"./overlays\":103,\"./util\":111,\"./video\":112}],108:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.init = init;\nexports.enableAllEvents = enableAllEvents;\nexports.disableAllEvents = disableAllEvents;\nrequire('hammerjs');\n\nvar config = require('./client-config');\nvar sound = require('./sound');\nvar color = require('./color');\nvar shape = require('./shape');\nvar util = require('./util');\nvar tutorial = require('./tutorial');\nvar timing = require('./timing');\nvar overlays = require('./overlays');\nvar ui = require('./ui');\n\nvar $body = $('body');\n\nvar hitOptions = {\n  segments: false,\n  stroke: true,\n  fill: true,\n  tolerance: 5\n};\n\nvar minShapeSize = 100;\nvar maxShapeLength = 5000;\nvar maxScaleFactor = 0.8;\n\nvar outerPath = void 0;\nvar sizes = [];\nvar size = void 0;\nvar cumSize = void 0;\nvar prevPoint = void 0;\n\nvar hammerTips = exports.hammerTips = void 0;\nvar hammerCanvas = exports.hammerCanvas = void 0;\n\nfunction init() {\n  exports.hammerTips = hammerTips = new Hammer.Manager(ui.tipsOverlay);\n  hammerTips.add(new Hammer.Swipe({ direction: Hammer.DIRECTION_ALL }));\n  hammerTips.on('swipe', overlays.cardNavNext);\n\n  exports.hammerCanvas = hammerCanvas = new Hammer.Manager(ui.drawCanvas);\n  hammerCanvas.add(new Hammer.Tap({ event: 'doubletap', taps: 2, interval: 400, time: 150, posThreshold: 50 }));\n  hammerCanvas.add(new Hammer.Tap({ event: 'singletap' }));\n  hammerCanvas.add(new Hammer.Pan({ direction: Hammer.DIRECTION_ALL }));\n  hammerCanvas.add(new Hammer.Pinch());\n\n  hammerCanvas.get('doubletap').recognizeWith('singletap');\n  // hammerCanvas.get('singletap').requireFailure('doubletap');\n  hammerCanvas.get('pan').requireFailure('pinch');\n  hammerCanvas.get('pinch').requireFailure('pan');\n\n  // hammerCanvas.on('singletap', singleTap);\n  hammerCanvas.on('doubletap', doubleTap);\n\n  hammerCanvas.on('panstart', panStart);\n  hammerCanvas.on('panmove', panMove);\n  hammerCanvas.on('panend', panEnd);\n  // hammerCanvas.on('pancancel', panCancel);\n\n  hammerCanvas.on('pinchstart', pinchStart);\n  hammerCanvas.on('pinchmove', pinchMove);\n  hammerCanvas.on('pinchend', pinchEnd);\n  // hammerCanvas.on('pinchcancel', pinchCancel);\n}\n\nfunction enableAllEvents() {\n  var enable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  enableTapEvents(enable);\n  enablePanAndPinchEvents(enable);\n}\n\nfunction disableAllEvents() {\n  enableAllEvents(false);\n}\n\nfunction enablePanAndPinchEvents() {\n  var enable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  enable = enable === true;\n  enablePanEvents(enable);\n  enablePinchEvents(enable);\n}\n\nfunction enableTapEvents() {\n  var enable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  enable = enable === true;\n  hammerCanvas.get('singletap').set({ enable: enable });\n  hammerCanvas.get('doubletap').set({ enable: enable });\n}\n\nfunction disableTapEvents() {\n  enableTapEvents(false);\n}\n\nfunction enablePanEvents() {\n  var enable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  enable = enable === true;\n\n  hammerCanvas.get('pan').set({ enable: enable });\n  // hammerCanvas.get('panstart').set({enable: enable});\n  // hammerCanvas.get('panmove').set({enable: enable});\n  // hammerCanvas.get('panend').set({enable: enable});\n}\n\nfunction disablePanEvents() {\n  enablePanEvents(false);\n}\n\nfunction enablePinchEvents() {\n  var enable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  enable = enable === true;\n\n  hammerCanvas.get('pinch').set({ enable: enable });\n  // hammerCanvas.get('pinchstart').set({enable: enable});\n  // hammerCanvas.get('pinchmove').set({enable: enable});\n  // hammerCanvas.get('pinchend').set({enable: enable});\n}\n\nfunction disablePinchEvents() {\n  enablePinchEvents(false);\n}\n\nfunction singleTap(event) {\n  // console.log(event.target);\n  // event.preventDefault();\n  // if (!eventTargetIsOnCanvas(event)) return;\n  tutorial.hideContextualTuts();\n  // $(event.target).click();\n\n  // sound.stopPlaying();\n  // if (!eventTargetIsOnCanvas(event)) return;\n  // console.log(event);\n  // tutorial.hideContextualTuts();\n  //\n  // sound.stopPlaying();\n  //\n  var pointer = event.center,\n      point = new Point(pointer.x, pointer.y),\n      hitResult = paper.project.hitTest(point, hitOptions);\n\n  if (hitResult) {\n    var item = hitResult.item;\n    // item.selected = !item.selected;\n    console.log(item);\n  }\n}\n\nfunction doubleTap(event) {\n  event.preventDefault();\n  // console.log('doubletap');\n\n  var pointer = event.center,\n      point = new Point(pointer.x, pointer.y),\n      hitResult = paper.project.hitTest(point, hitOptions);\n\n  if (!eventTargetIsOnCanvas(event)) return;\n\n  if (hitResult) {\n    shape.toggleFill(hitResult.item);\n    tutorial.hideContextualTutByName('fill');\n  } else {\n    window.kan.pinchedGroup = null;\n    // console.log('hit no item');\n  }\n}\n\nfunction panStart(event) {\n  // console.log(event);\n  // console.log('panstart');\n  // paper.project.activeLayer.removeChildren(); // REMOVE\n  // event.preventDefault();\n  timing.preventInactivityTimeout();\n\n  if (!eventTargetIsOnCanvas(event)) {\n    window.kan.panning = false;\n    // check if tips modal is up\n    if ($body.hasClass('overlay-active tips-active')) {\n      // if so, go to next tip card\n      overlays.cardNavNext();\n    }\n    event.srcEvent.stopPropagation();\n    return;\n  }\n\n  window.kan.panning = true;\n  tutorial.hideContextualTuts();\n\n  hammerCanvas.off('panstart');\n  // hammerCanvas.get('pan').set({enable: false});\n  disablePinchEvents();\n  disableTapEvents();\n\n  // ignore other touch inputs\n  // if (window.kan.pinching) return;\n  // if (!(event.changedPointers && event.changedPointers.length > 0)) return;\n  // if (event.changedPointers.length > 1) {\n  //   console.log('event.changedPointers > 1');\n  // }\n\n  sound.stopPlaying();\n\n  window.kan.prevAngle = Math.atan2(event.velocityY, event.velocityX);\n\n  var pointer = event.center;\n  var point = new Point(pointer.x, pointer.y);\n\n  outerPath = new Path();\n  outerPath.fillColor = window.kan.currentColor;\n  // outerPath.fillColor = new Color(0, 0.5);\n\n  sizes = [];\n\n  var shapePath = new Path({\n    strokeColor: window.kan.currentColor,\n    name: 'shapePath',\n    strokeWidth: 5,\n    visible: false,\n    strokeCap: 'round'\n  });\n\n  shapePath.add(point);\n\n  window.kan.pathData[shape.stringifyPoint(point)] = {\n    point: point,\n    first: true\n  };\n\n  window.kan.shapePath = shapePath;\n}\n\nfunction panMove(event) {\n  // console.log('panmove');\n  // event.preventDefault();\n  if (!eventTargetIsOnCanvas(event)) {\n    event.srcEvent.stopPropagation();\n    return;\n  }\n  if (window.kan.panning !== true) return;\n\n  // don't let the user draw past the max length\n  if (window.kan.shapePath.length <= maxShapeLength) {\n    var pointer = event.center;\n    var point = new Point(pointer.x, pointer.y);\n\n    var angle = Math.atan2(event.velocityY, event.velocityX);\n    var prevAngle = window.kan.prevAngle;\n    var angleDelta = util.angleDelta(angle, prevAngle);\n    window.kan.prevAngle = angle;\n\n    while (sizes.length > 10) {\n      sizes.shift();\n    }\n    if (sizes.length > 0) {\n      var dist = prevPoint.getDistance(point);\n\n      // These are based on acceleration\n      size = Math.random() * 10; // This is just random variance\n\n      cumSize = 0;\n      for (var j = 0; j < sizes.length; j++) {\n        cumSize += sizes[j];\n      }\n      // const avgSize = ((cumSize / sizes.length) + size) / 2;\n      var avgSize = Math.max(5, (cumSize / sizes.length + size) / 2);\n\n      var halfPointX = (point.x + prevPoint.x) / 2;\n      var halfPointY = (point.y + prevPoint.y) / 2;\n      var halfPoint = new Point(halfPointX, halfPointY);\n\n      var topX = halfPoint.x + Math.cos(angle - Math.PI / 2) * avgSize;\n      var topY = halfPoint.y + Math.sin(angle - Math.PI / 2) * avgSize;\n      var top = new Point(topX, topY);\n\n      var bottomX = halfPoint.x + Math.cos(angle + Math.PI / 2) * avgSize;\n      var bottomY = halfPoint.y + Math.sin(angle + Math.PI / 2) * avgSize;\n      var bottom = new Point(bottomX, bottomY);\n\n      outerPath.add(top);\n      outerPath.insert(0, bottom);\n      outerPath.smooth();\n    } else {\n      size = 5;\n    }\n\n    sizes.push(size);\n    prevPoint = point;\n\n    window.kan.pathData[shape.stringifyPoint(point)] = {\n      point: point,\n      speed: Math.abs(event.overallVelocity),\n      angle: angle\n    };\n\n    window.kan.shapePath.add(point);\n  } else {\n    window.kan.shapePath.data.tooLong = true;\n  }\n\n  paper.view.draw();\n}\n\nfunction panEnd(event) {\n  // console.log('panend');\n  // event.preventDefault();\n  if (!eventTargetIsOnCanvas(event)) {\n    event.srcEvent.stopPropagation();\n    return;\n  }\n  if (window.kan.panning !== true) return;\n\n  var pointer = event.center;\n  var point = new Point(pointer.x, pointer.y);\n\n  var transparent = color.transparent;\n  var colorName = color.getColorName(window.kan.currentColor);\n\n  var move = { type: 'newGroup' };\n\n  var shapePath = window.kan.shapePath;\n\n  if (shapePath.length <= maxShapeLength) {\n    shapePath.add(point);\n  }\n  outerPath.visible = false;\n\n  if (shapePath.length < minShapeSize || shapePath.data && shapePath.data.tooLong === true) {\n    // console.log('path is too short');\n    shapePath.remove();\n    hammerCanvas.on('panstart', panStart);\n    enablePanAndPinchEvents();\n    enableTapEvents();\n    window.kan.panning = false;\n    return;\n  }\n\n  var visibleGroups = util.getVisibleGroups();\n  if (visibleGroups.length >= config.maxShapes) {\n    // too many shapes on canvas, remove first shape\n    // TODO: place on moves stack so that they can be restored with an undo\n    var firstGroup = visibleGroups[0];\n    shape.destroyGroupPops(firstGroup);\n    sound.removeShapeFromComposition(firstGroup);\n    move.removedGroup = firstGroup;\n    // firstGroup.remove();\n    firstGroup.visible = false;\n  }\n\n  window.kan.pathData[shape.stringifyPoint(point)] = {\n    point: point,\n    last: true\n  };\n\n  var group = new Group();\n\n  var truedShape = shape.getTruedShape(shapePath);\n\n  // group.data.color = truedShape.strokeColor;\n  // console.log('currentGradient:', config.palette.gradients[window.kan.currentColor]);\n\n  var shapeSize = truedShape.strokeBounds;\n  var centerPoint = new Point(shapeSize.width / 2, shapeSize.height / 2);\n  var angle = util.rad(Math.random() * 360);\n  var gradientSize = (shapeSize.width + shapeSize.height) / 4;\n  var originX = centerPoint.x + Math.cos(angle - Math.PI / 2) * gradientSize;\n  var originY = centerPoint.y + Math.sin(angle - Math.PI / 2) * gradientSize;\n  var destinationX = centerPoint.x + Math.cos(angle + Math.PI / 2) * gradientSize;\n  var destinationY = centerPoint.y + Math.sin(angle + Math.PI / 2) * gradientSize;\n\n  var origin = new Point(originX + shapeSize.x, originY + shapeSize.y);\n  var destination = new Point(destinationX + shapeSize.x, destinationY + shapeSize.y);\n  // group.addChild(new Path.Circle({\n  //   center: origin,\n  //   radius: 5,\n  //   fillColor: 'red',\n  // }));\n  // group.addChild(new Path.Circle({\n  //   center: destination,\n  //   radius: 5,\n  //   fillColor: 'green',\n  // }));\n  group.data.originalColor = window.kan.currentColor;\n  group.data.color = {\n    gradient: {\n      stops: config.palette.gradients[window.kan.currentColor]\n    },\n    origin: origin,\n    destination: destination\n  };\n  group.data.scale = 1; // init variable to track scale changes\n  group.data.rotation = 0; // init variable to track rotation changes\n  group.data.fresh = true;\n\n  shapePath.remove();\n  truedShape.visible = false;\n  truedShape.strokeColor = new Color(0, 0);\n  window.kan.shapePath = truedShape;\n  truedShape.name = 'shapePath';\n\n  if (!(truedShape.length > 0)) {\n    truedShape.remove();\n    group.remove();\n    window.kan.panning = false;\n    return;\n  }\n\n  group.addChild(truedShape);\n\n  var shapeSoundObj = sound.getShapeSoundObj(truedShape);\n  window.kan.composition.push(shapeSoundObj);\n\n  truedShape.visible = false;\n  var outlineGroup = shape.getOutlineGroup(truedShape);\n  var outline = outlineGroup._namedChildren.outer[0].clone();\n  outline.name = 'outer';\n  outline.fillColor = window.kan.currentColor;\n  outline.fillColor = group.data.color;\n\n  var outlineCenter = outlineGroup._namedChildren.middle[0].clone();\n  outlineCenter.strokeColor = group.data.color;\n  outlineCenter.visible = false;\n  group.addChild(outline);\n  outline.sendToBack();\n\n  outlineGroup.remove();\n\n  var shapeMask = outline.clone();\n  shapeMask.fillColor = outline.fillColor;\n  shapeMask.strokeColor = outline.strokeColor;\n  shapeMask.closed = true;\n\n  var enclosedLoops = shape.findInteriorCurves(outlineCenter);\n  if (enclosedLoops.length > 0 || truedShape.closed === true) {\n    group.data.line = false;\n  } else {\n    group.data.line = true;\n  }\n\n  enclosedLoops.forEach(function (loop) {\n    shapeMask.unite(loop);\n    shapeMask.sendToBack();\n    loop.name = 'loop';\n    loop.data.loop = true;\n    loop.visible = true;\n    group.addChild(loop);\n  });\n\n  shapeMask.unite();\n  var crossings = shapeMask.resolveCrossings();\n  if (!!crossings && !!crossings.children && crossings.children.length > 0) {\n    (function () {\n      var maxArea = 0,\n          maxChild = null;\n      crossings.children.forEach(function (child) {\n        if (child.area > maxArea) {\n          maxChild = child;\n          maxArea = child.area;\n        }\n      });\n\n      shapeMask = maxChild;\n    })();\n  }\n\n  outlineCenter.remove();\n  shapeMask.visible = false;\n  shapeMask.name = 'mask';\n  shapeMask.data.mask = true;\n  group.addChild(shapeMask);\n  shapeMask.sendToBack();\n\n  shape.cleanUpGroup(group);\n\n  move.id = group.id;\n  window.kan.moves.push(move);\n\n  ui.unditherButtonsByName(['new', 'undo', 'play-stop', 'share']);\n  $body.addClass(sound.playEnabledClass);\n\n  if (window.kan.userHasDrawnFirstShape !== true) {\n    // first shape!\n    // set play prompt timeout\n    window.kan.playPromptTimeout = setTimeout(function () {\n      overlays.openOverlay('play-prompt');\n    }, timing.playPromptDelay);\n\n    window.kan.userHasDrawnFirstShape = true;\n  }\n\n  if (config.runAnimations) {\n    var scaleFactor = 0.9;\n    group.animate([{\n      properties: {\n        scale: scaleFactor\n      },\n      settings: {\n        duration: 100,\n        easing: \"easeOut\"\n      }\n    }, {\n      properties: {\n        scale: 1 / scaleFactor\n      },\n      settings: {\n        duration: 100,\n        easing: \"easeIn\"\n      }\n    }]);\n  }\n\n  if (!tutorial.allTutsCompleted()) {\n    var tutorialCompletion = window.kan.tutorialCompletion;\n    var tutName = null;\n\n    if (!tutorialCompletion['fill'] && truedShape.closed) {\n      tutName = 'fill';\n    } else {\n      var groups = paper.project.getItems({\n        match: function match(el) {\n          return el.className === 'Group';\n        }\n      });\n      if (!tutorialCompletion['pinch'] && groups.length >= 3) {\n        tutName = 'pinch';\n      } else if (!tutorialCompletion['swipe'] && groups.length >= 5) {\n        tutName = 'swipe';\n      }\n    }\n\n    if (tutName !== null) {\n      // console.log(`${tutName} tutorial`);\n      tutorial.addContextualTut(tutName);\n      window.kan.tutorialCompletion[tutName] = true;\n      group.data.tut = tutName;\n    }\n  }\n\n  if (window.kan.scheduledOverlay !== null) {\n    (function () {\n      var scheduledOverlay = window.kan.scheduledOverlay;\n      window.kan.scheduledOverlay = null;\n      setTimeout(function () {\n        overlays.openOverlay(scheduledOverlay);\n      }, timing.overlayDelay);\n    })();\n  }\n\n  shapeSoundObj.play();\n\n  // console.log('pan done');\n  hammerCanvas.set({ enable: false });\n  setTimeout(function () {\n    hammerCanvas.set({ enable: true });\n    console.log('touch enabled');\n    hammerCanvas.on('panstart', panStart);\n    enablePanAndPinchEvents();\n    enableTapEvents();\n\n    window.kan.panning = false;\n  }, timing.inputDelay);\n\n  if (config.pop === true) {\n    shape.updatePops();\n  }\n}\n\nfunction panCancel(event) {\n  console.log('pancancel');\n  event.srcEvent.stopPropagation();\n  // event.preventDefault();\n\n  hammerCanvas.set({ enable: true });\n  hammerCanvas.on('panstart', panStart);\n  enablePanAndPinchEvents();\n  enableTapEvents();\n  window.kan.panning = false;\n}\n\nfunction pinchStart(event) {\n  // console.log('pinchstart');\n  timing.preventInactivityTimeout();\n  tutorial.hideContextualTuts();\n  window.kan.interacting = true;\n  window.kan.pinching = true;\n  // event.preventDefault();\n\n  // hammerCanvas.get('pinchstart').set({enable: false});\n  hammerCanvas.off('pinchstart');\n  disablePanEvents();\n  disableTapEvents();\n\n  if (!eventTargetIsOnCanvas(event)) return;\n\n  sound.stopPlaying();\n\n  var pointer = event.center,\n      point = new Point(pointer.x, pointer.y),\n      hitResult = shape.hitTestGroupBounds(point);\n\n  if (hitResult) {\n    window.kan.pinching = true;\n    window.kan.pinchedGroup = hitResult;\n    window.kan.lastScale = 1;\n    window.kan.lastRotation = event.rotation;\n\n    window.kan.originalPosition = hitResult.position;\n    window.kan.originalRotation = hitResult.data.rotation;\n    window.kan.originalScale = hitResult.data.scale;\n    hitResult.data.thrown = false;\n\n    if (config.pop === true) {\n      shape.destroyGroupPops(hitResult);\n    }\n\n    hitResult.bringToFront();\n\n    if (hitResult.data.tut && hitResult.data.tut.length > 0) {\n      var $tut = $('.tut[data-tut-type=\\'' + hitResult.data.tut + '\\']');\n      if ($tut) {\n        window.kan.pinchedTut = $tut;\n      } else {\n        window.kan.pinchedTut = null;\n      }\n    } else {\n      window.kan.pinchedTut = null;\n    }\n\n    // if (config.runAnimations) {\n    //   hitResult.animate({\n    //     properties: {\n    //       scale: 1.25\n    //     },\n    //     settings: {\n    //       duration: 100,\n    //       easing: \"easeOut\",\n    //     }\n    //   });\n    // }\n  } else {\n    window.kan.pinchedGroup = null;\n    window.kan.pinchedTut = null;\n    // console.log('hit no item');\n  }\n}\n\nfunction pinchMove(event) {\n  // console.log('pinchMove');\n  // event.preventDefault();\n\n  var viewWidth = paper.view.viewSize.width;\n  var viewHeight = paper.view.viewSize.height;\n  var pinchedGroup = window.kan.pinchedGroup;\n  var $pinchedTut = window.kan.pinchedTut;\n\n  if (!!pinchedGroup) {\n    var currentScale = event.scale;\n    var scaleDelta = void 0;\n\n    tutorial.hideContextualTutByName('pinch');\n\n    if (pinchedGroup.bounds.width < minShapeSize || pinchedGroup.bounds.height < minShapeSize) {\n      // only allow a shape to scale down if it is larger than the minimum size\n      scaleDelta = 1.1;\n    } else if (pinchedGroup.bounds.width >= paper.view.viewSize.width || pinchedGroup.bounds.height >= paper.view.viewSize.height) {\n      // only allow shape to scale up if it fits in the viewport\n      scaleDelta = 0.9;\n    } else {\n      scaleDelta = currentScale / window.kan.lastScale;\n    }\n\n    window.kan.lastScale = currentScale;\n\n    var currentRotation = event.rotation;\n    var rotationDelta = currentRotation - window.kan.lastRotation;\n    window.kan.lastRotation = currentRotation;\n\n    // console.log(`scaling by ${scaleDelta}`);\n    // console.log(`rotating by ${rotationDelta}`);\n\n    var centerPoint = event.center;\n    pinchedGroup.position = centerPoint;\n    if (!!$pinchedTut) {\n      tutorial.moveContextualTut($pinchedTut, centerPoint);\n    }\n\n    if (scaleDelta !== 1) {\n      pinchedGroup.scale(scaleDelta);\n\n      // check if scaling went awry, cannot be too big or too small\n      // hypotenuse must fit within view bounds\n      var hypot = util.hypot(pinchedGroup.bounds.width, pinchedGroup.bounds.height);\n      var viewHypot = util.hypot(paper.view.viewSize.width, paper.view.viewSize.height);\n      if (hypot >= viewHypot) {\n        // shape is too big, bring it back down to size\n        scaleDelta = viewHypot * maxScaleFactor / hypot;\n        pinchedGroup.scale(scaleDelta);\n      } else if (hypot <= minShapeSize) {\n        scaleDelta = minShapeSize / hypot;\n        pinchedGroup.scale(scaleDelta);\n      }\n    }\n    pinchedGroup.rotate(rotationDelta);\n\n    pinchedGroup.data.scale *= scaleDelta;\n    pinchedGroup.data.rotation += rotationDelta;\n  }\n}\n\nfunction pinchEnd(event) {\n  // event.preventDefault();\n\n  window.kan.lastEvent = event;\n  var pinchedGroup = window.kan.pinchedGroup;\n  var $pinchedTut = window.kan.pinchedTut;\n  var originalPosition = window.kan.originalPosition;\n  var originalRotation = window.kan.originalRotation;\n  var originalScale = window.kan.originalScale;\n\n  if (!!pinchedGroup) {\n    pinchedGroup.data.fresh = true;\n    var move = {\n      id: pinchedGroup.id,\n      type: 'transform'\n    };\n    if (pinchedGroup.position != originalPosition) {\n      move.position = originalPosition;\n    }\n\n    if (pinchedGroup.data.rotation != originalRotation) {\n      move.rotation = originalRotation - pinchedGroup.data.rotation;\n    }\n\n    if (pinchedGroup.data.scale != originalScale) {\n      move.scale = originalScale / pinchedGroup.data.scale;\n    }\n\n    if (pinchedGroup.children.length > 0 && pinchedGroup._namedChildren.shapePath && pinchedGroup._namedChildren.shapePath.length > 0) {\n      // update shapePath sound object if possible\n      sound.removeShapeFromComposition(pinchedGroup); // sound is now wrong\n\n      var shapePath = pinchedGroup._namedChildren.shapePath[0];\n      var shapeSoundObj = sound.getShapeSoundObj(shapePath);\n      window.kan.composition.push(shapeSoundObj);\n    }\n\n    window.kan.moves.push(move);\n\n    if (Math.abs(event.velocity) > 1) {\n      tutorial.hideContextualTutByName('swipe');\n\n      // hide any connected tuts\n      if (!!$pinchedTut) {\n        tutorial.hideContextualTut($pinchedTut);\n      }\n      // dispose of group offscreen\n      if (config.pop === true) {\n        shape.destroyGroupPops(pinchedGroup);\n        pinchedGroup.data.fresh = false;\n      }\n\n      pinchedGroup.data.thrown = true;\n      throwPinchedGroup();\n    }\n\n    // if (config.runAnimations) {\n    //   pinchedGroup.animate({\n    //     properties: {\n    //       scale: 0.8\n    //     },\n    //     settings: {\n    //       duration: 100,\n    //       easing: \"easeOut\",\n    //     }\n    //   });\n    // }\n  } else {\n    window.kan.pinchedGroup = null;\n  }\n\n  // if an overlay was interrupted, open it up now\n  if (window.kan.scheduledOverlay !== null) {\n    (function () {\n      var scheduledOverlay = window.kan.scheduledOverlay;\n      window.kan.scheduledOverlay = null;\n      setTimeout(function () {\n        overlays.openOverlay(scheduledOverlay);\n      }, timing.overlayDelay);\n    })();\n  }\n\n  window.kan.pinching = false;\n\n  if (config.pop === true) {\n    shape.updatePops();\n  }\n\n  // console.log('pinch done');\n  // hammerCanvas.set({ enable: false });\n  setTimeout(function () {\n    console.log('touch enabled');\n    hammerCanvas.on('pinchstart', pinchStart);\n    enablePanAndPinchEvents();\n    enableTapEvents();\n    // hammerCanvas.set({ enable: true });\n    // hammerCanvas.on('pinchstart', pinchStart);\n    // enablePanAndPinchEvents();\n    // enableTapEvents();\n    // window.kan.pinching = false;\n    // window.kan.pinchedGroup = null;\n  }, timing.inputDelay);\n}\n\nfunction pinchCancel(event) {\n  // console.log(event);\n  event.srcEvent.stopPropagation();\n  console.log('pinchcancel');\n  // event.preventDefault();\n\n  hammerCanvas.set({ enable: true });\n  hammerCanvas.on('pinchstart', pinchStart);\n  enablePanAndPinchEvents();\n  enableTapEvents();\n\n  window.kan.pinching = false;\n}\n\nfunction throwPinchedGroup() {\n\n  var velocityMultiplier = 25;\n  var lastEvent = window.kan.lastEvent;\n  var viewWidth = paper.view.viewSize.width;\n  var viewHeight = paper.view.viewSize.height;\n  var pinchedGroup = window.kan.pinchedGroup;\n\n  if (pinchedGroup === null || pinchedGroup.data && pinchedGroup.data.thrown === false) return;\n  if (pinchedGroup.position.x <= 0 - pinchedGroup.bounds.width || pinchedGroup.position.x >= viewWidth + pinchedGroup.bounds.width || pinchedGroup.position.y <= 0 - pinchedGroup.bounds.height || pinchedGroup.position.y >= viewHeight + pinchedGroup.bounds.height) {\n    pinchedGroup.data.offScreen = true;\n    pinchedGroup.visible = false;\n    sound.removeShapeFromComposition(pinchedGroup);\n    window.kan.pinchedGroup = null;\n    return;\n  }\n  requestAnimationFrame(throwPinchedGroup);\n  var newX = pinchedGroup.position.x + lastEvent.velocityX * velocityMultiplier;\n  var newY = pinchedGroup.position.y + lastEvent.velocityY * velocityMultiplier;\n  var newPos = new Point(newX, newY);\n  pinchedGroup.position = newPos;\n}\n\nfunction eventTargetIsOnCanvas(event) {\n  if (!event) return false;\n  if (event.target != ui.drawCanvas) return false;\n  return true;\n}\n\n},{\"./client-config\":99,\"./color\":100,\"./overlays\":103,\"./shape\":104,\"./sound\":106,\"./timing\":107,\"./tutorial\":109,\"./ui\":110,\"./util\":111,\"hammerjs\":27}],109:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getTutByName = getTutByName;\nexports.allTutsCompleted = allTutsCompleted;\nexports.addContextualTut = addContextualTut;\nexports.hideContextualTut = hideContextualTut;\nexports.hideContextualTutByName = hideContextualTutByName;\nexports.hideContextualTuts = hideContextualTuts;\nexports.resetContextualTuts = resetContextualTuts;\nexports.moveContextualTut = moveContextualTut;\nexports.getTutPositionFromCenter = getTutPositionFromCenter;\nvar config = require('./client-config');\n\nvar contextualTuts = config.contextualTuts;\nvar tutArrowHeight = 16;\n\nfunction getTutByName(tutName) {\n  for (var i = 0; i < contextualTuts.length; i++) {\n    var tutObj = contextualTuts[i];\n\n    if (tutObj.type === tutName) {\n      return tutObj.copy;\n    }\n  }\n\n  return null;\n}\n\nfunction allTutsCompleted() {\n  var tutorialCompletionObj = window.kan.tutorialCompletion;\n  var completion = true;\n\n  Object.keys(tutorialCompletionObj).forEach(function (key, val) {\n    completion = completion && tutorialCompletionObj[key];\n  });\n\n  return completion === true;\n}\n\nfunction addContextualTut(tutName) {\n  if (!!window.kan.shapePath && window.kan.shapePath.length > 0) {\n    hideContextualTuts();\n    window.kan.shapesSinceTut = 0;\n\n    var shapePath = window.kan.shapePath;\n    var shapeCenter = shapePath.bounds.center;\n\n    var tutCopy = getTutByName(tutName);\n\n    if (tutCopy !== null) {\n      var $tut = $('.tut[data-tut-type=\\'' + tutName + '\\']');\n      if ($tut.length > 0) {\n        var tutPos = getTutPositionFromCenter($tut, shapeCenter);\n        $tut.css({ top: tutPos.y + 'px', left: tutPos.x + 'px', visibility: 'visible' });\n        $tut.addClass('animated bounceIn');\n      }\n    }\n  }\n}\n\nfunction hideContextualTut($tut) {\n  $tut.css({ visibility: 'hidden' });\n}\n\nfunction hideContextualTutByName(tutName) {\n  var $tut = $('.tut[data-tut-type=\\'' + tutName + '\\']');\n  hideContextualTut($tut);\n}\n\nfunction hideContextualTuts() {\n  var $tuts = $('.contextual-tuts .tut');\n  $tuts.css({ visibility: 'hidden' });\n}\n\nfunction resetContextualTuts() {\n  hideContextualTuts();\n  window.kan.tutorialCompletion = {\n    \"fill\": false,\n    \"pinch\": false,\n    \"swipe\": false\n  };\n}\n\nfunction moveContextualTut($tut, centerPoint) {\n  var tutPos = getTutPositionFromCenter($tut, centerPoint);\n  $tut.css({ top: tutPos.y + 'px', left: tutPos.x + 'px' });\n}\n\nfunction getTutPositionFromCenter($tut, centerPoint) {\n  var tutWidth = $tut.outerWidth();\n  var tutHeight = $tut.outerHeight();\n  var leftPos = centerPoint.x - tutWidth / 2;\n  var topPos = centerPoint.y - tutHeight - tutArrowHeight;\n  return new Point(leftPos, topPos);\n}\n\n},{\"./client-config\":99}],110:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.init = init;\nexports.ditherButtonsByName = ditherButtonsByName;\nexports.unditherButtonsByName = unditherButtonsByName;\nexports.ditherButtonByName = ditherButtonByName;\nexports.unditherButtonByName = unditherButtonByName;\nexports.enterShareMode = enterShareMode;\nexports.exitShareMode = exitShareMode;\nexports.resetCanvas = resetCanvas;\nvar config = require('./client-config');\nrequire('howler');\n\nvar sound = require('./sound');\nvar tutorial = require('./tutorial');\nvar overlays = require('./overlays');\nvar util = require('./util');\nvar color = require('./color');\nvar shape = require('./shape');\nvar share = require('./share');\nvar touch = require('./touch');\n\nvar $body = $('body');\nvar tapEvent = 'click tap touch';\n\nvar playingClass = sound.playingClass;\nvar playEnabledClass = sound.playEnabledClass;\n\nvar $newButton = $('.controls .new');\nvar $undoButton = $('.controls .undo');\nvar $playButton = $('.controls .play-stop');\nvar $shareButton = $('.controls .share');\nvar $tipsButton = $('.controls .tips');\n\nvar drawCanvas = exports.drawCanvas = $('#canvas')[0];\nvar tipsOverlay = exports.tipsOverlay = $('.overlay.tips')[0];\n\nvar ditheredClass = 'dithered';\nvar shareModeClass = 'share-mode';\n\nfunction init() {\n  initLogoRefresh();\n  initColorPalette();\n  initNewButton();\n  initUndoButton();\n  initPlayButton();\n  initTipsButton();\n  initShareButton();\n  initContextualTuts();\n  resetCanvas();\n}\n\nfunction ditherAllButtons() {\n  $('.controls > *').addClass(ditheredClass);\n}\n\nfunction unditherAllButtons() {\n  $('.controls .' + ditheredClass).removeClass(ditheredClass);\n}\n\nfunction ditherButtonsByName(buttonNames) {\n  var undither = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  if (buttonNames.length > 0) {\n    if ($.isArray(buttonNames)) {\n      buttonNames.forEach(function (name) {\n        return ditherButtonByName(name, undither);\n      });\n    } else {\n      ditherButtonByName(buttonNames, undither);\n    }\n  }\n}\n\nfunction unditherButtonsByName(buttonNames) {\n  ditherButtonsByName(buttonNames, true);\n}\n\nfunction ditherButtonByName(buttonName) {\n  var undither = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var $button = $('.controls .' + buttonName);\n  // console.log($button);\n  if ($button.length > 0) {\n    if (undither !== true) {\n      $button.addClass(ditheredClass);\n    } else {\n      $button.removeClass(ditheredClass);\n    }\n  }\n}\n\nfunction unditherButtonByName(buttonName) {\n  ditherButtonByName(buttonName, true);\n}\n\nfunction unditherButtonsByName(buttonNames) {\n  ditherButtonsByName(buttonNames, true);\n}\n\nfunction enterShareMode() {\n  sound.stopPlaying(true);\n  ditherAllButtons();\n  clearTimeout(window.kan.playPromptTimeout);\n  touch.disableAllEvents();\n}\n\nfunction exitShareMode() {\n  unditherAllButtons();\n  Howler.mute(false);\n  touch.enableAllEvents();\n}\n\nfunction newPressed() {\n  // console.log('new pressed');\n  window.kan.composition = [];\n  paper.project.activeLayer.removeChildren();\n  tutorial.hideContextualTuts();\n  ditherButtonsByName(['undo', 'new', 'play-stop', 'share']);\n  sound.stopPlaying();\n  // window.kan.userHasDrawnFirstShape = false;\n  // tutorial.resetContextualTuts();\n}\n\nfunction undoPressed() {\n  sound.stopPlaying();\n  tutorial.hideContextualTuts();\n\n  var transparent = new Color(0, 0);\n  // console.log('undo pressed');\n  if (!(window.kan.moves.length > 0)) {\n    // console.log('no moves yet');\n    window.kan.userHasDrawnFirstShape = false;\n    return;\n  }\n\n  var lastMove = window.kan.moves.pop();\n  var item = project.getItem({\n    id: lastMove.id\n  });\n\n  if (item) {\n    item.visible = true; // make sure\n    switch (lastMove.type) {\n      case 'newGroup':\n        // console.log('removing group');\n        sound.removeShapeFromComposition(item);\n        util.clearGroupPops(item);\n        item.remove();\n\n        if ('removedGroup' in lastMove) {\n          // bring back removed group\n          lastMove.removedGroup.visible = true;\n          lastMove.removedGroup.data.fresh = true;\n          shape.updatePops();\n        }\n\n        var numGroups = util.getNumGroups();\n        // console.log('numGroups', numGroups);\n\n        if (numGroups <= 0) {\n          ditherButtonsByName(['undo', 'new', 'play-stop', 'share']);\n          $body.removeClass(sound.playEnabledClass);\n        } else {\n          unditherButtonsByName(['undo', 'new', 'play-stop', 'share']);\n          $body.addClass(sound.playEnabledClass);\n        }\n\n        break;\n      case 'fillChange':\n        if (lastMove.transparent) {\n          item.fillColor = lastMove.fill;\n          item.strokeColor = lastMove.fill;\n        } else {\n          item.fillColor = transparent;\n          item.strokeColor = transparent;\n        }\n      case 'transform':\n        item.data.fresh = true;\n        if (!!lastMove.position) {\n          item.position = lastMove.position;\n          if (item.data && item.data.tut && item.data.tut.length > 0) {\n            // item has connected contextual tut, move it to the right place\n            var $tut = $('.tut[data-tut-type=\\'' + tutName + '\\']');\n            tutorial.moveContextualTut($tut, lastMove.position);\n          }\n        }\n        if (!!lastMove.rotation) {\n          item.rotation = lastMove.rotation;\n        }\n        if (!!lastMove.scale) {\n          item.scale(lastMove.scale);\n        }\n        if (config.pop === true) {\n          shape.updatePops();\n        }\n        break;\n      default:\n      // console.log('unknown case');\n    }\n  } else {\n      // console.log('could not find matching item');\n    }\n}\n\nfunction playPressed() {\n  // console.log('play pressed');\n  // sound.stopComposition();\n  // overlays.closeAndResetOverlays();\n  // tutorial.hideContextualTuts();\n  var playing = window.kan.playing;\n  // console.log(playing, util.getNumGroups() > 2, !playing && util.getNumGroups() > 2, $body);\n\n  clearTimeout(window.kan.playPromptTimeout);\n  if (!playing && util.getNumGroups() > 2) {\n    // console.log('starting playing');\n    sound.startPlaying();\n  } else {\n    // console.log('stopping playing');\n    sound.stopPlaying(true);\n  }\n}\n\nfunction tipsPressed() {\n  sound.stopPlaying();\n  overlays.openOverlay('tips');\n  // console.log('tips pressed');\n}\n\nfunction initLogoRefresh() {\n  $('.main-logo').on(tapEvent, function () {\n    location.reload();\n  });\n}\n\nfunction initColorPalette() {\n  var $paletteWrap = $('ul.palette-colors');\n  var $paletteColors = $paletteWrap.find('li');\n  var paletteColorSize = 20;\n  var paletteSelectedColorSize = 30;\n  var paletteSelectedClass = 'palette-selected';\n\n  // hook up click\n  $paletteColors.on('click tap touch', function () {\n    if (!$body.hasClass(playingClass)) {\n      var $svg = $(this).find('svg.palette-color');\n\n      if (!$svg.hasClass(paletteSelectedClass)) {\n        $('.' + paletteSelectedClass).removeClass(paletteSelectedClass).attr('width', paletteColorSize).attr('height', paletteColorSize).find('rect').attr('rx', 0).attr('ry', 0);\n\n        $svg.addClass(paletteSelectedClass).attr('width', paletteSelectedColorSize).attr('height', paletteSelectedColorSize).find('rect').attr('rx', paletteSelectedColorSize / 2).attr('ry', paletteSelectedColorSize / 2);\n\n        window.kan.currentColor = $svg.find('rect').attr('fill');\n        // console.log('%ccolor', 'color:red', color.getColorName(window.kan.currentColor));\n      }\n    };\n  });\n}\n\nfunction initNewButton() {\n  $('.main-controls .new').on(tapEvent, function () {\n    if (!$body.hasClass(playingClass)) {\n      newPressed();\n    }\n  });\n}\n\nfunction initUndoButton() {\n  $('.main-controls .undo').on(tapEvent, function () {\n    if (!$body.hasClass(playingClass)) {\n      undoPressed();\n    }\n  });\n}\n\nfunction initPlayButton() {\n  $('.main-controls .play-stop .play').on(tapEvent, sound.startPlaying);\n  $('.main-controls .play-stop .stop').on(tapEvent, sound.stopPlaying);\n}\n\nfunction initTipsButton() {\n  $('.controls .tips').on(tapEvent, function () {\n    if (!$body.hasClass(playingClass)) {\n      tipsPressed();\n    }\n  });\n}\n\nfunction initShareButton() {\n  $('.controls .share').on(tapEvent, share.handleSharePressed);\n}\n\nfunction initContextualTuts() {\n  var $tuts = $('.contextual-tuts .tut');\n  $tuts.on(tapEvent, function () {\n    $(this).css({ visibility: 'hidden' });\n  });\n}\n\nfunction resetCanvas() {\n  paper.project.clear();\n\n  // add random background\n  paper.project.activeLayer.name = 'background';\n  var numCanvasses = 10;\n  var randomCanvasIndex = Math.round(Math.random() * (numCanvasses - 1)) + 1; // [1, numCanvasses]\n  var canvasBg = new Raster('canvas-' + randomCanvasIndex);\n  canvasBg.name = 'canvasBg';\n  canvasBg.position = paper.view.center;\n\n  // add canvas layer\n  var scaleFactorHorizontal = paper.view.viewSize.width / canvasBg.size.width;\n  var scaleFactorVertical = paper.view.viewSize.height / canvasBg.size.height;\n  canvasBg.scale(Math.max(scaleFactorHorizontal, scaleFactorVertical));\n  var layer = new Layer(); // init new layer that all other shapes will be drawn upon\n  paper.project.activeLayer.name = 'canvas';\n}\n\n},{\"./client-config\":99,\"./color\":100,\"./overlays\":103,\"./shape\":104,\"./share\":105,\"./sound\":106,\"./touch\":108,\"./tutorial\":109,\"./util\":111,\"howler\":28}],111:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.rad = rad;\nexports.deg = deg;\nexports.hypot = hypot;\nexports.angleDelta = angleDelta;\nexports.delta = delta;\nexports.getTime = getTime;\nexports.getNumVisibleGroups = getNumVisibleGroups;\nexports.getVisibleGroups = getVisibleGroups;\nexports.getAllGroups = getAllGroups;\nexports.anyShapesOnCanvas = anyShapesOnCanvas;\nexports.getNumGroups = getNumGroups;\nexports.getFreshGroups = getFreshGroups;\nexports.getAllPops = getAllPops;\nexports.clearGroupPops = clearGroupPops;\nexports.getGroupPops = getGroupPops;\nexports.getPopCandidates = getPopCandidates;\nexports.setSha = setSha;\nexports.shallowCopy = shallowCopy;\nexports.randomPick = randomPick;\nvar config = require('./client-config');\n\n// Converts from degrees to radians.\nfunction rad(degrees) {\n  return degrees * Math.PI / 180;\n};\n\n// Converts from radians to degrees.\nfunction deg(radians) {\n  return radians * 180 / Math.PI;\n};\n\nfunction hypot(a, b) {\n  return Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2)); // pythagorean!\n}\n\n// returns absolute value of the delta of two angles in radians\nfunction angleDelta(x, y) {\n  return Math.abs(Math.atan2(Math.sin(y - x), Math.cos(y - x)));;\n}\n\n// distance between two points\nfunction delta(p1, p2) {\n  return Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2)); // pythagorean!\n}\n\nfunction getTime() {\n  return new Date().toLocaleTimeString();\n}\n\nfunction getNumVisibleGroups() {\n  var groups = getVisibleGroups();\n  return groups.length;\n}\n\nfunction getVisibleGroups() {\n  return paper.project.getItems({\n    className: 'Group',\n    match: function match(el) {\n      return el.visible === true;\n    }\n  });\n}\n\nfunction getAllGroups() {\n  return paper.project.getItems({\n    className: 'Group'\n  });\n}\n\nfunction anyShapesOnCanvas() {\n  var groups = getVisibleGroups();\n  return groups.length > 0;\n}\n\nfunction getNumGroups() {\n  var groups = getVisibleGroups();\n  // console.log('numgroups', groups.length);\n  return groups.length;\n}\n\nfunction getFreshGroups() {\n  return paper.project.getItems({\n    className: 'Group',\n    match: function match(el) {\n      return el.data && el.data.line === false && el.data.fresh === true;\n    }\n  });\n}\n\nfunction getAllPops() {\n  return paper.project.getItems({\n    match: function match(el) {\n      return el.data && el.data.pop === true;\n    }\n  });\n}\n\nfunction clearGroupPops(group) {\n  var pops = getGroupPops(group);\n  pops.forEach(function (pop) {\n    return pop.remove();\n  });\n}\n\nfunction getGroupPops(group) {\n  // console.log('group pop group', group.id, group);\n  var returnPops = [];\n\n  if (group.children.length > 0) {\n    var groupPops = group.getItems({\n      match: function match(el) {\n        return el.data && el.data.pop === true;\n      }\n    });\n    returnPops = returnPops.concat(groupPops);\n  }\n\n  var intersectingPops = paper.project.getItems({\n    match: function match(el) {\n      return el.data && el.data.pop === true && el.data.intersectingGroup === group.id;\n    }\n  });\n\n  if (intersectingPops.length > 0) {\n    returnPops = returnPops.concat(intersectingPops);\n  }\n\n  return returnPops;\n}\n\nfunction getPopCandidates() {\n  return paper.project.getItems({\n    className: 'Group',\n    match: function match(el) {\n      return el.data && el.data.line === false && el.visible === true;\n    }\n  });\n}\n\nfunction setSha() {\n  $.get('/hash').done(function (res) {\n    console.log('current hash:', res);\n    window.kan.hash = res;\n  }).fail(function (e) {\n    console.error('error getting hash:', e);\n  });\n}\n\n// http://blog.soulserv.net/understanding-object-cloning-in-javascript-part-i/\nfunction shallowCopy(original) {\n  // First create an empty object with\n  // same prototype of our original source\n  var clone = Object.create(Object.getPrototypeOf(original));\n\n  var i,\n      keys = Object.getOwnPropertyNames(original);\n\n  for (i = 0; i < keys.length; i++) {\n    // copy each property into the clone\n    Object.defineProperty(clone, keys[i], Object.getOwnPropertyDescriptor(original, keys[i]));\n  }\n\n  return clone;\n}\n\nfunction randomPick(array) {\n  if (array.length > 0) {\n    return array[Math.floor(Math.random() * array.length)];\n  }\n\n  return null;\n}\n\n},{\"./client-config\":99}],112:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.enterTutorialMode = enterTutorialMode;\nexports.exitTutorialMode = exitTutorialMode;\nexports.pauseVideo = pauseVideo;\nexports.playVideo = playVideo;\nvar config = require('./client-config');\n\nvar main = require('./main');\nvar overlays = require('./overlays');\nvar timing = require('./timing');\nvar ui = require('./ui');\nvar sound = require('./sound');\n\nvar $body = $('body');\nvar tapEvent = 'click tap touch';\n\nvar videoPlayingClass = exports.videoPlayingClass = 'video-playing';\n\nvar $videoWrapper = $body.find('#video-wrap');\nvar $video = $videoWrapper.find('video');\n\nfunction enterTutorialMode() {\n  console.log('entering tutorial mode');\n  playVideo();\n  $body.addClass(videoPlayingClass);\n  clearTimeout(window.kan.inactivityTimeout);\n  clearInterval(window.kan.continueCountdownInterval);\n  $body.off(tapEvent, timing.preventInactivityTimeout);\n  $body.on(tapEvent, exitTutorialMode);\n  main.resetWindow();\n  ui.resetCanvas();\n  window.kan.refreshCheckInterval = setInterval(function () {\n    $.get('/hash').done(function (res) {\n      if (res !== window.kan.hash) {\n        console.log('different hash, reloading');\n        location.reload();\n      }\n    }).fail(function (e) {\n      console.error('error getting hash:', e);\n    });\n  }, timing.refreshCheckDelay);\n}\n\nfunction exitTutorialMode() {\n  console.log('exiting tutorial mode');\n  sound.reinitShapeSounds().then(function () {\n    clearInterval(window.kan.refreshCheckInterval);\n    Howler.mute(false);\n    pauseVideo();\n    $body.off(tapEvent, exitTutorialMode);\n    $body.on(tapEvent, timing.preventInactivityTimeout);\n    $body.removeClass(videoPlayingClass);\n    clearTimeout(window.kan.inactivityTimeout);\n    clearInterval(window.kan.continueCountdownInterval);\n\n    overlays.openOverlay('intro');\n\n    window.kan.inactivityTimeout = setTimeout(function () {\n      overlays.openOverlay('continue');\n    }, timing.continueInactivityDelay);\n  }).fail(function (e) {\n    console.error('error initting shape sounds:', e);\n    location.reload();\n  });\n}\n\nfunction pauseVideo() {\n  $video.get(0).pause();\n}\n\nfunction playVideo() {\n  $video.get(0).play();\n}\n\n},{\"./client-config\":99,\"./main\":102,\"./overlays\":103,\"./sound\":106,\"./timing\":107,\"./ui\":110}]},{},[102])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvYXhpb3MvaW5kZXguanMiLCJub2RlX21vZHVsZXMvYXhpb3MvbGliL2FkYXB0ZXJzL3hoci5qcyIsIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvYXhpb3MuanMiLCJub2RlX21vZHVsZXMvYXhpb3MvbGliL2NhbmNlbC9DYW5jZWwuanMiLCJub2RlX21vZHVsZXMvYXhpb3MvbGliL2NhbmNlbC9DYW5jZWxUb2tlbi5qcyIsIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL2lzQ2FuY2VsLmpzIiwibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0F4aW9zLmpzIiwibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0ludGVyY2VwdG9yTWFuYWdlci5qcyIsIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9jcmVhdGVFcnJvci5qcyIsIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9kaXNwYXRjaFJlcXVlc3QuanMiLCJub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvZW5oYW5jZUVycm9yLmpzIiwibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL3NldHRsZS5qcyIsIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS90cmFuc2Zvcm1EYXRhLmpzIiwibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9kZWZhdWx0cy5qcyIsIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9iaW5kLmpzIiwibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2J0b2EuanMiLCJub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvYnVpbGRVUkwuanMiLCJub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvY29tYmluZVVSTHMuanMiLCJub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvY29va2llcy5qcyIsIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc0Fic29sdXRlVVJMLmpzIiwibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbi5qcyIsIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9ub3JtYWxpemVIZWFkZXJOYW1lLmpzIiwibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3BhcnNlSGVhZGVycy5qcyIsIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9zcHJlYWQuanMiLCJub2RlX21vZHVsZXMvYXhpb3MvbGliL3V0aWxzLmpzIiwibm9kZV9tb2R1bGVzL2JsdWViaXJkL2pzL2Jyb3dzZXIvYmx1ZWJpcmQuanMiLCJub2RlX21vZHVsZXMvaGFtbWVyanMvaGFtbWVyLmpzIiwibm9kZV9tb2R1bGVzL2hvd2xlci9kaXN0L2hvd2xlci5qcyIsIm5vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvcXMvbGliL2Zvcm1hdHMuanMiLCJub2RlX21vZHVsZXMvcXMvbGliL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3FzL2xpYi9wYXJzZS5qcyIsIm5vZGVfbW9kdWxlcy9xcy9saWIvc3RyaW5naWZ5LmpzIiwibm9kZV9tb2R1bGVzL3FzL2xpYi91dGlscy5qcyIsIm5vZGVfbW9kdWxlcy92YWxpZGF0b3IvaW5kZXguanMiLCJub2RlX21vZHVsZXMvdmFsaWRhdG9yL2xpYi9hbHBoYS5qcyIsIm5vZGVfbW9kdWxlcy92YWxpZGF0b3IvbGliL2JsYWNrbGlzdC5qcyIsIm5vZGVfbW9kdWxlcy92YWxpZGF0b3IvbGliL2NvbnRhaW5zLmpzIiwibm9kZV9tb2R1bGVzL3ZhbGlkYXRvci9saWIvZXF1YWxzLmpzIiwibm9kZV9tb2R1bGVzL3ZhbGlkYXRvci9saWIvZXNjYXBlLmpzIiwibm9kZV9tb2R1bGVzL3ZhbGlkYXRvci9saWIvaXNBZnRlci5qcyIsIm5vZGVfbW9kdWxlcy92YWxpZGF0b3IvbGliL2lzQWxwaGEuanMiLCJub2RlX21vZHVsZXMvdmFsaWRhdG9yL2xpYi9pc0FscGhhbnVtZXJpYy5qcyIsIm5vZGVfbW9kdWxlcy92YWxpZGF0b3IvbGliL2lzQXNjaWkuanMiLCJub2RlX21vZHVsZXMvdmFsaWRhdG9yL2xpYi9pc0Jhc2U2NC5qcyIsIm5vZGVfbW9kdWxlcy92YWxpZGF0b3IvbGliL2lzQmVmb3JlLmpzIiwibm9kZV9tb2R1bGVzL3ZhbGlkYXRvci9saWIvaXNCb29sZWFuLmpzIiwibm9kZV9tb2R1bGVzL3ZhbGlkYXRvci9saWIvaXNCeXRlTGVuZ3RoLmpzIiwibm9kZV9tb2R1bGVzL3ZhbGlkYXRvci9saWIvaXNDcmVkaXRDYXJkLmpzIiwibm9kZV9tb2R1bGVzL3ZhbGlkYXRvci9saWIvaXNDdXJyZW5jeS5qcyIsIm5vZGVfbW9kdWxlcy92YWxpZGF0b3IvbGliL2lzRGF0YVVSSS5qcyIsIm5vZGVfbW9kdWxlcy92YWxpZGF0b3IvbGliL2lzRGVjaW1hbC5qcyIsIm5vZGVfbW9kdWxlcy92YWxpZGF0b3IvbGliL2lzRGl2aXNpYmxlQnkuanMiLCJub2RlX21vZHVsZXMvdmFsaWRhdG9yL2xpYi9pc0VtYWlsLmpzIiwibm9kZV9tb2R1bGVzL3ZhbGlkYXRvci9saWIvaXNFbXB0eS5qcyIsIm5vZGVfbW9kdWxlcy92YWxpZGF0b3IvbGliL2lzRlFETi5qcyIsIm5vZGVfbW9kdWxlcy92YWxpZGF0b3IvbGliL2lzRmxvYXQuanMiLCJub2RlX21vZHVsZXMvdmFsaWRhdG9yL2xpYi9pc0Z1bGxXaWR0aC5qcyIsIm5vZGVfbW9kdWxlcy92YWxpZGF0b3IvbGliL2lzSGFsZldpZHRoLmpzIiwibm9kZV9tb2R1bGVzL3ZhbGlkYXRvci9saWIvaXNIZXhDb2xvci5qcyIsIm5vZGVfbW9kdWxlcy92YWxpZGF0b3IvbGliL2lzSGV4YWRlY2ltYWwuanMiLCJub2RlX21vZHVsZXMvdmFsaWRhdG9yL2xpYi9pc0lQLmpzIiwibm9kZV9tb2R1bGVzL3ZhbGlkYXRvci9saWIvaXNJU0JOLmpzIiwibm9kZV9tb2R1bGVzL3ZhbGlkYXRvci9saWIvaXNJU0lOLmpzIiwibm9kZV9tb2R1bGVzL3ZhbGlkYXRvci9saWIvaXNJU084NjAxLmpzIiwibm9kZV9tb2R1bGVzL3ZhbGlkYXRvci9saWIvaXNJU1NOLmpzIiwibm9kZV9tb2R1bGVzL3ZhbGlkYXRvci9saWIvaXNJbi5qcyIsIm5vZGVfbW9kdWxlcy92YWxpZGF0b3IvbGliL2lzSW50LmpzIiwibm9kZV9tb2R1bGVzL3ZhbGlkYXRvci9saWIvaXNKU09OLmpzIiwibm9kZV9tb2R1bGVzL3ZhbGlkYXRvci9saWIvaXNMZW5ndGguanMiLCJub2RlX21vZHVsZXMvdmFsaWRhdG9yL2xpYi9pc0xvd2VyY2FzZS5qcyIsIm5vZGVfbW9kdWxlcy92YWxpZGF0b3IvbGliL2lzTUFDQWRkcmVzcy5qcyIsIm5vZGVfbW9kdWxlcy92YWxpZGF0b3IvbGliL2lzTUQ1LmpzIiwibm9kZV9tb2R1bGVzL3ZhbGlkYXRvci9saWIvaXNNb2JpbGVQaG9uZS5qcyIsIm5vZGVfbW9kdWxlcy92YWxpZGF0b3IvbGliL2lzTW9uZ29JZC5qcyIsIm5vZGVfbW9kdWxlcy92YWxpZGF0b3IvbGliL2lzTXVsdGlieXRlLmpzIiwibm9kZV9tb2R1bGVzL3ZhbGlkYXRvci9saWIvaXNOdW1lcmljLmpzIiwibm9kZV9tb2R1bGVzL3ZhbGlkYXRvci9saWIvaXNTdXJyb2dhdGVQYWlyLmpzIiwibm9kZV9tb2R1bGVzL3ZhbGlkYXRvci9saWIvaXNVUkwuanMiLCJub2RlX21vZHVsZXMvdmFsaWRhdG9yL2xpYi9pc1VVSUQuanMiLCJub2RlX21vZHVsZXMvdmFsaWRhdG9yL2xpYi9pc1VwcGVyY2FzZS5qcyIsIm5vZGVfbW9kdWxlcy92YWxpZGF0b3IvbGliL2lzVmFyaWFibGVXaWR0aC5qcyIsIm5vZGVfbW9kdWxlcy92YWxpZGF0b3IvbGliL2lzV2hpdGVsaXN0ZWQuanMiLCJub2RlX21vZHVsZXMvdmFsaWRhdG9yL2xpYi9sdHJpbS5qcyIsIm5vZGVfbW9kdWxlcy92YWxpZGF0b3IvbGliL21hdGNoZXMuanMiLCJub2RlX21vZHVsZXMvdmFsaWRhdG9yL2xpYi9ub3JtYWxpemVFbWFpbC5qcyIsIm5vZGVfbW9kdWxlcy92YWxpZGF0b3IvbGliL3J0cmltLmpzIiwibm9kZV9tb2R1bGVzL3ZhbGlkYXRvci9saWIvc3RyaXBMb3cuanMiLCJub2RlX21vZHVsZXMvdmFsaWRhdG9yL2xpYi90b0Jvb2xlYW4uanMiLCJub2RlX21vZHVsZXMvdmFsaWRhdG9yL2xpYi90b0RhdGUuanMiLCJub2RlX21vZHVsZXMvdmFsaWRhdG9yL2xpYi90b0Zsb2F0LmpzIiwibm9kZV9tb2R1bGVzL3ZhbGlkYXRvci9saWIvdG9JbnQuanMiLCJub2RlX21vZHVsZXMvdmFsaWRhdG9yL2xpYi90cmltLmpzIiwibm9kZV9tb2R1bGVzL3ZhbGlkYXRvci9saWIvdW5lc2NhcGUuanMiLCJub2RlX21vZHVsZXMvdmFsaWRhdG9yL2xpYi91dGlsL2Fzc2VydFN0cmluZy5qcyIsIm5vZGVfbW9kdWxlcy92YWxpZGF0b3IvbGliL3V0aWwvbWVyZ2UuanMiLCJub2RlX21vZHVsZXMvdmFsaWRhdG9yL2xpYi91dGlsL3RvU3RyaW5nLmpzIiwibm9kZV9tb2R1bGVzL3ZhbGlkYXRvci9saWIvd2hpdGVsaXN0LmpzIiwic3JjL2pzL2NsaWVudC1jb25maWcuanMiLCJzcmMvanMvY29sb3IuanMiLCJzcmMvanMvbGliL3NoYXBlLWRldGVjdG9yLmpzIiwic3JjL2pzL21haW4uanMiLCJzcmMvanMvb3ZlcmxheXMuanMiLCJzcmMvanMvc2hhcGUuanMiLCJzcmMvanMvc2hhcmUuanMiLCJzcmMvanMvc291bmQuanMiLCJzcmMvanMvdGltaW5nLmpzIiwic3JjL2pzL3RvdWNoLmpzIiwic3JjL2pzL3R1dG9yaWFsLmpzIiwic3JjL2pzL3VpLmpzIiwic3JjL2pzL3V0aWwuanMiLCJzcmMvanMvdmlkZW8uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTs7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNqTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0VBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDcEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDN0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNkQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQzNTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNsL0tBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNubEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNsdEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4TUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcExBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3SUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeElBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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LFlBQVEsQ0FBQyxFQUFDLEtBQUssRUFBTixFQUFTLEtBQUssR0FBZCxFQUFELEVBQW9CLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQXBCLEVBQXVDLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQXZDLEVBQTBELEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQTFELEVBQTZFLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQTdFLEVBQWdHLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQWhHLEVBQW1ILEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQW5ILEVBQXNJLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQXRJLEVBQXlKLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQXpKLEVBQTRLLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQTVLLEVBQStMLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQS9MLEVBQWtOLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQWxOLEVBQXFPLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQXJPLEVBQXdQLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQXhQLEVBQTJRLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQTNRLEVBQThSLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQTlSLEVBQWlULEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQWpULEVBQW9VLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQXBVLEVBQXVWLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQXZWLEVBQTBXLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQTFXLEVBQTZYLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQTdYLEVBQWdaLEVBQUMsS0FB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RUFBN0QsRUFBaUYsRUFBQyxLQUFLLEdBQU4sRUFBVSxLQUFLLEdBQWYsRUFBakYsRUFBcUcsRUFBQyxLQUFLLEdBQU4sRUFBVSxLQUFLLEdBQWYsRUFBckcsRUFBeUgsRUFBQyxLQUFLLEdBQU4sRUFBVSxLQUFLLEdBQWYsRUFBekgsRUFBNkksRUFBQyxLQUFLLEdBQU4sRUFBVSxLQUFLLEdBQWYsRUFBN0ksRUFBaUssRUFBQyxLQUFLLEdBQU4sRUFBVSxLQUFLLEdBQWYsRUFBakssRUFBcUwsRUFBQyxLQUFLLEdBQU4sRUFBVSxLQUFLLEdBQWYsRUFBckwsRUFBeU0sRUFBQyxLQUFLLEdBQU4sRUFBVSxLQUFLLEdBQWYsRUFBek0sRUFBNk4sRUFBQyxLQUFLLEdBQU4sRUFBVSxLQUFLLEdBQWYsRUFBN04sRUFBaVAsRUFBQyxLQUFLLEdBQU4sRUFBVSxLQUFLLEdBQWYsRUFBalAsRUFBcVEsRUFBQyxLQUFLLEdBQU4sRUFBVSxLQUFLLEdBQWYsRUFBclEsRUFBeVIsRUFBQyxLQUFLLEdBQU4sRUFBVSxLQUFLLEdBQWYsRUFBelIsRUFBNlMsRUFBQyxLQUFLLEdBQU4sRUFBVSxLQUFLLEdBQWYsRUFBN1MsRUFBaVUsRUFBQyxLQUFLLEdBQU4sRUFBVSxLQUFLLEdBQWYsRUFBalUsRUFBcVYsRUFBQyxLQUFLLEdBQU4sRUFBVSxLQUFLLEdBQWYsRUFBclYsRUFBeVcsRUFBQyxLQUFLLEdBQU4sRUFBVSxLQUFLLEdBQWYsRUFBelcsRUFBNlgsRUFBQyxLQUFLLEdBQU4sRUFBVSxLQUFLLEdBQWYsRUFBN1gsRUFBaVosRUFBQyxLQUFLLEdBQU4sRUFBVSxLQUFLLEdBQWYsRUFBalosRUFBcWEsRUFBQyxLQUFLLEdBQU4sRUFBVSxLQUFLLEdBQWYsRUFBcmEsRUFBeWIsRUFBQyxLQUFLLEdBQU4sRUFBVSxLQUFLLEdBQWYsRUFBemIsRUFBNmMsRUFBQyxLQUFLLEdBQU4sRUFBVSxLQUFLLEdBQWYsRUFBN2MsRUFBaWUsRUFBQyxLQUFLLEdBQU4sRUFBVSxLQUFLLEdBQWYsRUFBamUsRUFBcWYsRUFBQyxL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YyxLQUFkO0FBQ0Q7O0FBRU0sU0FBUyxTQUFULEdBQXFCO0FBQzFCLFNBQU8sR0FBUCxDQUFXLENBQVgsRUFBYyxJQUFkO0FBQ0QiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2xpYi9heGlvcycpOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIHNldHRsZSA9IHJlcXVpcmUoJy4vLi4vY29yZS9zZXR0bGUnKTtcbnZhciBidWlsZFVSTCA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9idWlsZFVSTCcpO1xudmFyIHBhcnNlSGVhZGVycyA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9wYXJzZUhlYWRlcnMnKTtcbnZhciBpc1VSTFNhbWVPcmlnaW4gPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvaXNVUkxTYW1lT3JpZ2luJyk7XG52YXIgY3JlYXRlRXJyb3IgPSByZXF1aXJlKCcuLi9jb3JlL2NyZWF0ZUVycm9yJyk7XG52YXIgYnRvYSA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuYnRvYSAmJiB3aW5kb3cuYnRvYS5iaW5kKHdpbmRvdykpIHx8IHJlcXVpcmUoJy4vLi4vaGVscGVycy9idG9hJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24geGhyQWRhcHRlcihjb25maWcpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIGRpc3BhdGNoWGhyUmVxdWVzdChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgcmVxdWVzdERhdGEgPSBjb25maWcuZGF0YTtcbiAgICB2YXIgcmVxdWVzdEhlYWRlcnMgPSBjb25maWcuaGVhZGVycztcblxuICAgIGlmICh1dGlscy5pc0Zvcm1EYXRhKHJlcXVlc3REYXRhKSkge1xuICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzWydDb250ZW50LVR5cGUnXTsgLy8gTGV0IHRoZSBicm93c2VyIHNldCBpdFxuICAgIH1cblxuICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgdmFyIGxvYWRFdmVudCA9ICdvbnJlYWR5c3RhdGVjaGFuZ2UnO1xuICAgIHZhciB4RG9tYWluID0gZmFsc2U7XG5cbiAgICAvLyBGb3IgSUUgOC85IENPUlMgc3VwcG9ydFxuICAgIC8vIE9ubHkgc3VwcG9ydHMgUE9TVCBhbmQgR0VUIGNhbGxzIGFuZCBkb2Vzbid0IHJldHVybnMgdGhlIHJlc3BvbnNlIGhlYWRlcnMuXG4gICAgLy8gRE9OJ1QgZG8gdGhpcyBmb3IgdGVzdGluZyBiL2MgWE1MSHR0cFJlcXVlc3QgaXMgbW9ja2VkLCBub3QgWERvbWFpblJlcXVlc3QuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAndGVzdCcgJiZcbiAgICAgICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgd2luZG93LlhEb21haW5SZXF1ZXN0ICYmICEoJ3dpdGhDcmVkZW50aWFscycgaW4gcmVxdWVzdCkgJiZcbiAgICAgICAgIWlzVVJMU2FtZU9yaWdpbihjb25maWcudXJsKSkge1xuICAgICAgcmVxdWVzdCA9IG5ldyB3aW5kb3cuWERvbWFpblJlcXVlc3QoKTtcbiAgICAgIGxvYWRFdmVudCA9ICdvbmxvYWQnO1xuICAgICAgeERvbWFpbiA9IHRydWU7XG4gICAgICByZXF1ZXN0Lm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbiBoYW5kbGVQcm9ncmVzcygpIHt9O1xuICAgICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBmdW5jdGlvbiBoYW5kbGVUaW1lb3V0KCkge307XG4gICAgfVxuXG4gICAgLy8gSFRUUCBiYXNpYyBhdXRoZW50aWNhdGlvblxuICAgIGlmIChjb25maWcuYXV0aCkge1xuICAgICAgdmFyIHVzZXJuYW1lID0gY29uZmlnLmF1dGgudXNlcm5hbWUgfHwgJyc7XG4gICAgICB2YXIgcGFzc3dvcmQgPSBjb25maWcuYXV0aC5wYXNzd29yZCB8fCAnJztcbiAgICAgIHJlcXVlc3RIZWFkZXJzLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArIGJ0b2EodXNlcm5hbWUgKyAnOicgKyBwYXNzd29yZCk7XG4gICAgfVxuXG4gICAgcmVxdWVzdC5vcGVuKGNvbmZpZy5tZXRob2QudG9VcHBlckNhc2UoKSwgYnVpbGRVUkwoY29uZmlnLnVybCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpLCB0cnVlKTtcblxuICAgIC8vIFNldCB0aGUgcmVxdWVzdCB0aW1lb3V0IGluIE1TXG4gICAgcmVxdWVzdC50aW1lb3V0ID0gY29uZmlnLnRpbWVvdXQ7XG5cbiAgICAvLyBMaXN0ZW4gZm9yIHJlYWR5IHN0YXRlXG4gICAgcmVxdWVzdFtsb2FkRXZlbnRdID0gZnVuY3Rpb24gaGFuZGxlTG9hZCgpIHtcbiAgICAgIGlmICghcmVxdWVzdCB8fCAocmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0ICYmICF4RG9tYWluKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSByZXF1ZXN0IGVycm9yZWQgb3V0IGFuZCB3ZSBkaWRuJ3QgZ2V0IGEgcmVzcG9uc2UsIHRoaXMgd2lsbCBiZVxuICAgICAgLy8gaGFuZGxlZCBieSBvbmVycm9yIGluc3RlYWRcbiAgICAgIC8vIFdpdGggb25lIGV4Y2VwdGlvbjogcmVxdWVzdCB0aGF0IHVzaW5nIGZpbGU6IHByb3RvY29sLCBtb3N0IGJyb3dzZXJzXG4gICAgICAvLyB3aWxsIHJldHVybiBzdGF0dXMgYXMgMCBldmVuIHRob3VnaCBpdCdzIGEgc3VjY2Vzc2Z1bCByZXF1ZXN0XG4gICAgICBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDAgJiYgIShyZXF1ZXN0LnJlc3BvbnNlVVJMICYmIHJlcXVlc3QucmVzcG9uc2VVUkwuaW5kZXhPZignZmlsZTonKSA9PT0gMCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBQcmVwYXJlIHRoZSByZXNwb25zZVxuICAgICAgdmFyIHJlc3BvbnNlSGVhZGVycyA9ICdnZXRBbGxSZXNwb25zZUhlYWRlcnMnIGluIHJlcXVlc3QgPyBwYXJzZUhlYWRlcnMocmVxdWVzdC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkgOiBudWxsO1xuICAgICAgdmFyIHJlc3BvbnNlRGF0YSA9ICFjb25maWcucmVzcG9uc2VUeXBlIHx8IGNvbmZpZy5yZXNwb25zZVR5cGUgPT09ICd0ZXh0JyA/IHJlcXVlc3QucmVzcG9uc2VUZXh0IDogcmVxdWVzdC5yZXNwb25zZTtcbiAgICAgIHZhciByZXNwb25zZSA9IHtcbiAgICAgICAgZGF0YTogcmVzcG9uc2VEYXRhLFxuICAgICAgICAvLyBJRSBzZW5kcyAxMjIzIGluc3RlYWQgb2YgMjA0IChodHRwczovL2dpdGh1Yi5jb20vbXphYnJpc2tpZS9heGlvcy9pc3N1ZXMvMjAxKVxuICAgICAgICBzdGF0dXM6IHJlcXVlc3Quc3RhdHVzID09PSAxMjIzID8gMjA0IDogcmVxdWVzdC5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHJlcXVlc3Quc3RhdHVzID09PSAxMjIzID8gJ05vIENvbnRlbnQnIDogcmVxdWVzdC5zdGF0dXNUZXh0LFxuICAgICAgICBoZWFkZXJzOiByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIGNvbmZpZzogY29uZmlnLFxuICAgICAgICByZXF1ZXN0OiByZXF1ZXN0XG4gICAgICB9O1xuXG4gICAgICBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCByZXNwb25zZSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgbG93IGxldmVsIG5ldHdvcmsgZXJyb3JzXG4gICAgcmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24gaGFuZGxlRXJyb3IoKSB7XG4gICAgICAvLyBSZWFsIGVycm9ycyBhcmUgaGlkZGVuIGZyb20gdXMgYnkgdGhlIGJyb3dzZXJcbiAgICAgIC8vIG9uZXJyb3Igc2hvdWxkIG9ubHkgZmlyZSBpZiBpdCdzIGEgbmV0d29yayBlcnJvclxuICAgICAgcmVqZWN0KGNyZWF0ZUVycm9yKCdOZXR3b3JrIEVycm9yJywgY29uZmlnKSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgdGltZW91dFxuICAgIHJlcXVlc3Qub250aW1lb3V0ID0gZnVuY3Rpb24gaGFuZGxlVGltZW91dCgpIHtcbiAgICAgIHJlamVjdChjcmVhdGVFcnJvcigndGltZW91dCBvZiAnICsgY29uZmlnLnRpbWVvdXQgKyAnbXMgZXhjZWVkZWQnLCBjb25maWcsICdFQ09OTkFCT1JURUQnKSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBBZGQgeHNyZiBoZWFkZXJcbiAgICAvLyBUaGlzIGlzIG9ubHkgZG9uZSBpZiBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciBlbnZpcm9ubWVudC5cbiAgICAvLyBTcGVjaWZpY2FsbHkgbm90IGlmIHdlJ3JlIGluIGEgd2ViIHdvcmtlciwgb3IgcmVhY3QtbmF0aXZlLlxuICAgIGlmICh1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpKSB7XG4gICAgICB2YXIgY29va2llcyA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9jb29raWVzJyk7XG5cbiAgICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuICAgICAgdmFyIHhzcmZWYWx1ZSA9IChjb25maWcud2l0aENyZWRlbnRpYWxzIHx8IGlzVVJMU2FtZU9yaWdpbihjb25maWcudXJsKSkgJiYgY29uZmlnLnhzcmZDb29raWVOYW1lID9cbiAgICAgICAgICBjb29raWVzLnJlYWQoY29uZmlnLnhzcmZDb29raWVOYW1lKSA6XG4gICAgICAgICAgdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoeHNyZlZhbHVlKSB7XG4gICAgICAgIHJlcXVlc3RIZWFkZXJzW2NvbmZpZy54c3JmSGVhZGVyTmFtZV0gPSB4c3JmVmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQWRkIGhlYWRlcnMgdG8gdGhlIHJlcXVlc3RcbiAgICBpZiAoJ3NldFJlcXVlc3RIZWFkZXInIGluIHJlcXVlc3QpIHtcbiAgICAgIHV0aWxzLmZvckVhY2gocmVxdWVzdEhlYWRlcnMsIGZ1bmN0aW9uIHNldFJlcXVlc3RIZWFkZXIodmFsLCBrZXkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiByZXF1ZXN0RGF0YSA9PT0gJ3VuZGVmaW5lZCcgJiYga2V5LnRvTG93ZXJDYXNlKCkgPT09ICdjb250ZW50LXR5cGUnKSB7XG4gICAgICAgICAgLy8gUmVtb3ZlIENvbnRlbnQtVHlwZSBpZiBkYXRhIGlzIHVuZGVmaW5lZFxuICAgICAgICAgIGRlbGV0ZSByZXF1ZXN0SGVhZGVyc1trZXldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE90aGVyd2lzZSBhZGQgaGVhZGVyIHRvIHRoZSByZXF1ZXN0XG4gICAgICAgICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgdmFsKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIHdpdGhDcmVkZW50aWFscyB0byByZXF1ZXN0IGlmIG5lZWRlZFxuICAgIGlmIChjb25maWcud2l0aENyZWRlbnRpYWxzKSB7XG4gICAgICByZXF1ZXN0LndpdGhDcmVkZW50aWFscyA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gQWRkIHJlc3BvbnNlVHlwZSB0byByZXF1ZXN0IGlmIG5lZWRlZFxuICAgIGlmIChjb25maWcucmVzcG9uc2VUeXBlKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXF1ZXN0LnJlc3BvbnNlVHlwZSA9IGNvbmZpZy5yZXNwb25zZVR5cGU7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChyZXF1ZXN0LnJlc3BvbnNlVHlwZSAhPT0gJ2pzb24nKSB7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEhhbmRsZSBwcm9ncmVzcyBpZiBuZWVkZWRcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5vbkRvd25sb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBjb25maWcub25Eb3dubG9hZFByb2dyZXNzKTtcbiAgICB9XG5cbiAgICAvLyBOb3QgYWxsIGJyb3dzZXJzIHN1cHBvcnQgdXBsb2FkIGV2ZW50c1xuICAgIGlmICh0eXBlb2YgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicgJiYgcmVxdWVzdC51cGxvYWQpIHtcbiAgICAgIHJlcXVlc3QudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICAgIC8vIEhhbmRsZSBjYW5jZWxsYXRpb25cbiAgICAgIGNvbmZpZy5jYW5jZWxUb2tlbi5wcm9taXNlLnRoZW4oZnVuY3Rpb24gb25DYW5jZWxlZChjYW5jZWwpIHtcbiAgICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICByZWplY3QoY2FuY2VsKTtcbiAgICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChyZXF1ZXN0RGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXF1ZXN0RGF0YSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gU2VuZCB0aGUgcmVxdWVzdFxuICAgIHJlcXVlc3Quc2VuZChyZXF1ZXN0RGF0YSk7XG4gIH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xudmFyIGJpbmQgPSByZXF1aXJlKCcuL2hlbHBlcnMvYmluZCcpO1xudmFyIEF4aW9zID0gcmVxdWlyZSgnLi9jb3JlL0F4aW9zJyk7XG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuL2RlZmF1bHRzJyk7XG5cbi8qKlxuICogQ3JlYXRlIGFuIGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGRlZmF1bHRDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqIEByZXR1cm4ge0F4aW9zfSBBIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICovXG5mdW5jdGlvbiBjcmVhdGVJbnN0YW5jZShkZWZhdWx0Q29uZmlnKSB7XG4gIHZhciBjb250ZXh0ID0gbmV3IEF4aW9zKGRlZmF1bHRDb25maWcpO1xuICB2YXIgaW5zdGFuY2UgPSBiaW5kKEF4aW9zLnByb3RvdHlwZS5yZXF1ZXN0LCBjb250ZXh0KTtcblxuICAvLyBDb3B5IGF4aW9zLnByb3RvdHlwZSB0byBpbnN0YW5jZVxuICB1dGlscy5leHRlbmQoaW5zdGFuY2UsIEF4aW9zLnByb3RvdHlwZSwgY29udGV4dCk7XG5cbiAgLy8gQ29weSBjb250ZXh0IHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgY29udGV4dCk7XG5cbiAgcmV0dXJuIGluc3RhbmNlO1xufVxuXG4vLyBDcmVhdGUgdGhlIGRlZmF1bHQgaW5zdGFuY2UgdG8gYmUgZXhwb3J0ZWRcbnZhciBheGlvcyA9IGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRzKTtcblxuLy8gRXhwb3NlIEF4aW9zIGNsYXNzIHRvIGFsbG93IGNsYXNzIGluaGVyaXRhbmNlXG5heGlvcy5BeGlvcyA9IEF4aW9zO1xuXG4vLyBGYWN0b3J5IGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2VzXG5heGlvcy5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoaW5zdGFuY2VDb25maWcpIHtcbiAgcmV0dXJuIGNyZWF0ZUluc3RhbmNlKHV0aWxzLm1lcmdlKGRlZmF1bHRzLCBpbnN0YW5jZUNvbmZpZykpO1xufTtcblxuLy8gRXhwb3NlIENhbmNlbCAmIENhbmNlbFRva2VuXG5heGlvcy5DYW5jZWwgPSByZXF1aXJlKCcuL2NhbmNlbC9DYW5jZWwnKTtcbmF4aW9zLkNhbmNlbFRva2VuID0gcmVxdWlyZSgnLi9jYW5jZWwvQ2FuY2VsVG9rZW4nKTtcbmF4aW9zLmlzQ2FuY2VsID0gcmVxdWlyZSgnLi9jYW5jZWwvaXNDYW5jZWwnKTtcblxuLy8gRXhwb3NlIGFsbC9zcHJlYWRcbmF4aW9zLmFsbCA9IGZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufTtcbmF4aW9zLnNwcmVhZCA9IHJlcXVpcmUoJy4vaGVscGVycy9zcHJlYWQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBheGlvcztcblxuLy8gQWxsb3cgdXNlIG9mIGRlZmF1bHQgaW1wb3J0IHN5bnRheCBpbiBUeXBlU2NyaXB0XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gYXhpb3M7XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQSBgQ2FuY2VsYCBpcyBhbiBvYmplY3QgdGhhdCBpcyB0aHJvd24gd2hlbiBhbiBvcGVyYXRpb24gaXMgY2FuY2VsZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAcGFyYW0ge3N0cmluZz19IG1lc3NhZ2UgVGhlIG1lc3NhZ2UuXG4gKi9cbmZ1bmN0aW9uIENhbmNlbChtZXNzYWdlKSB7XG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG59XG5cbkNhbmNlbC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgcmV0dXJuICdDYW5jZWwnICsgKHRoaXMubWVzc2FnZSA/ICc6ICcgKyB0aGlzLm1lc3NhZ2UgOiAnJyk7XG59O1xuXG5DYW5jZWwucHJvdG90eXBlLl9fQ0FOQ0VMX18gPSB0cnVlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENhbmNlbDtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIENhbmNlbCA9IHJlcXVpcmUoJy4vQ2FuY2VsJyk7XG5cbi8qKlxuICogQSBgQ2FuY2VsVG9rZW5gIGlzIGFuIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIHRvIHJlcXVlc3QgY2FuY2VsbGF0aW9uIG9mIGFuIG9wZXJhdGlvbi5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGV4ZWN1dG9yIFRoZSBleGVjdXRvciBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gQ2FuY2VsVG9rZW4oZXhlY3V0b3IpIHtcbiAgaWYgKHR5cGVvZiBleGVjdXRvciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2V4ZWN1dG9yIG11c3QgYmUgYSBmdW5jdGlvbi4nKTtcbiAgfVxuXG4gIHZhciByZXNvbHZlUHJvbWlzZTtcbiAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gcHJvbWlzZUV4ZWN1dG9yKHJlc29sdmUpIHtcbiAgICByZXNvbHZlUHJvbWlzZSA9IHJlc29sdmU7XG4gIH0pO1xuXG4gIHZhciB0b2tlbiA9IHRoaXM7XG4gIGV4ZWN1dG9yKGZ1bmN0aW9uIGNhbmNlbChtZXNzYWdlKSB7XG4gICAgaWYgKHRva2VuLnJlYXNvbikge1xuICAgICAgLy8gQ2FuY2VsbGF0aW9uIGhhcyBhbHJlYWR5IGJlZW4gcmVxdWVzdGVkXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdG9rZW4ucmVhc29uID0gbmV3IENhbmNlbChtZXNzYWdlKTtcbiAgICByZXNvbHZlUHJvbWlzZSh0b2tlbi5yZWFzb24pO1xuICB9KTtcbn1cblxuLyoqXG4gKiBUaHJvd3MgYSBgQ2FuY2VsYCBpZiBjYW5jZWxsYXRpb24gaGFzIGJlZW4gcmVxdWVzdGVkLlxuICovXG5DYW5jZWxUb2tlbi5wcm90b3R5cGUudGhyb3dJZlJlcXVlc3RlZCA9IGZ1bmN0aW9uIHRocm93SWZSZXF1ZXN0ZWQoKSB7XG4gIGlmICh0aGlzLnJlYXNvbikge1xuICAgIHRocm93IHRoaXMucmVhc29uO1xuICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgYSBuZXcgYENhbmNlbFRva2VuYCBhbmQgYSBmdW5jdGlvbiB0aGF0LCB3aGVuIGNhbGxlZCxcbiAqIGNhbmNlbHMgdGhlIGBDYW5jZWxUb2tlbmAuXG4gKi9cbkNhbmNlbFRva2VuLnNvdXJjZSA9IGZ1bmN0aW9uIHNvdXJjZSgpIHtcbiAgdmFyIGNhbmNlbDtcbiAgdmFyIHRva2VuID0gbmV3IENhbmNlbFRva2VuKGZ1bmN0aW9uIGV4ZWN1dG9yKGMpIHtcbiAgICBjYW5jZWwgPSBjO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICB0b2tlbjogdG9rZW4sXG4gICAgY2FuY2VsOiBjYW5jZWxcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQ2FuY2VsVG9rZW47XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNDYW5jZWwodmFsdWUpIHtcbiAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlLl9fQ0FOQ0VMX18pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGRlZmF1bHRzID0gcmVxdWlyZSgnLi8uLi9kZWZhdWx0cycpO1xudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIEludGVyY2VwdG9yTWFuYWdlciA9IHJlcXVpcmUoJy4vSW50ZXJjZXB0b3JNYW5hZ2VyJyk7XG52YXIgZGlzcGF0Y2hSZXF1ZXN0ID0gcmVxdWlyZSgnLi9kaXNwYXRjaFJlcXVlc3QnKTtcbnZhciBpc0Fic29sdXRlVVJMID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2lzQWJzb2x1dGVVUkwnKTtcbnZhciBjb21iaW5lVVJMcyA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9jb21iaW5lVVJMcycpO1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZUNvbmZpZyBUaGUgZGVmYXVsdCBjb25maWcgZm9yIHRoZSBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiBBeGlvcyhpbnN0YW5jZUNvbmZpZykge1xuICB0aGlzLmRlZmF1bHRzID0gaW5zdGFuY2VDb25maWc7XG4gIHRoaXMuaW50ZXJjZXB0b3JzID0ge1xuICAgIHJlcXVlc3Q6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIoKSxcbiAgICByZXNwb25zZTogbmV3IEludGVyY2VwdG9yTWFuYWdlcigpXG4gIH07XG59XG5cbi8qKlxuICogRGlzcGF0Y2ggYSByZXF1ZXN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnIHNwZWNpZmljIGZvciB0aGlzIHJlcXVlc3QgKG1lcmdlZCB3aXRoIHRoaXMuZGVmYXVsdHMpXG4gKi9cbkF4aW9zLnByb3RvdHlwZS5yZXF1ZXN0ID0gZnVuY3Rpb24gcmVxdWVzdChjb25maWcpIHtcbiAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gIC8vIEFsbG93IGZvciBheGlvcygnZXhhbXBsZS91cmwnWywgY29uZmlnXSkgYSBsYSBmZXRjaCBBUElcbiAgaWYgKHR5cGVvZiBjb25maWcgPT09ICdzdHJpbmcnKSB7XG4gICAgY29uZmlnID0gdXRpbHMubWVyZ2Uoe1xuICAgICAgdXJsOiBhcmd1bWVudHNbMF1cbiAgICB9LCBhcmd1bWVudHNbMV0pO1xuICB9XG5cbiAgY29uZmlnID0gdXRpbHMubWVyZ2UoZGVmYXVsdHMsIHRoaXMuZGVmYXVsdHMsIHsgbWV0aG9kOiAnZ2V0JyB9LCBjb25maWcpO1xuXG4gIC8vIFN1cHBvcnQgYmFzZVVSTCBjb25maWdcbiAgaWYgKGNvbmZpZy5iYXNlVVJMICYmICFpc0Fic29sdXRlVVJMKGNvbmZpZy51cmwpKSB7XG4gICAgY29uZmlnLnVybCA9IGNvbWJpbmVVUkxzKGNvbmZpZy5iYXNlVVJMLCBjb25maWcudXJsKTtcbiAgfVxuXG4gIC8vIEhvb2sgdXAgaW50ZXJjZXB0b3JzIG1pZGRsZXdhcmVcbiAgdmFyIGNoYWluID0gW2Rpc3BhdGNoUmVxdWVzdCwgdW5kZWZpbmVkXTtcbiAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoY29uZmlnKTtcblxuICB0aGlzLmludGVyY2VwdG9ycy5yZXF1ZXN0LmZvckVhY2goZnVuY3Rpb24gdW5zaGlmdFJlcXVlc3RJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3IpIHtcbiAgICBjaGFpbi51bnNoaWZ0KGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuICB9KTtcblxuICB0aGlzLmludGVyY2VwdG9ycy5yZXNwb25zZS5mb3JFYWNoKGZ1bmN0aW9uIHB1c2hSZXNwb25zZUludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgIGNoYWluLnB1c2goaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gIH0pO1xuXG4gIHdoaWxlIChjaGFpbi5sZW5ndGgpIHtcbiAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKGNoYWluLnNoaWZ0KCksIGNoYWluLnNoaWZ0KCkpO1xuICB9XG5cbiAgcmV0dXJuIHByb21pc2U7XG59O1xuXG4vLyBQcm92aWRlIGFsaWFzZXMgZm9yIHN1cHBvcnRlZCByZXF1ZXN0IG1ldGhvZHNcbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZE5vRGF0YShtZXRob2QpIHtcbiAgLyplc2xpbnQgZnVuYy1uYW1lczowKi9cbiAgQXhpb3MucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbih1cmwsIGNvbmZpZykge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QodXRpbHMubWVyZ2UoY29uZmlnIHx8IHt9LCB7XG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIHVybDogdXJsXG4gICAgfSkpO1xuICB9O1xufSk7XG5cbnV0aWxzLmZvckVhY2goWydwb3N0JywgJ3B1dCcsICdwYXRjaCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kV2l0aERhdGEobWV0aG9kKSB7XG4gIC8qZXNsaW50IGZ1bmMtbmFtZXM6MCovXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24odXJsLCBkYXRhLCBjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHV0aWxzLm1lcmdlKGNvbmZpZyB8fCB7fSwge1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICB1cmw6IHVybCxcbiAgICAgIGRhdGE6IGRhdGFcbiAgICB9KSk7XG4gIH07XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBBeGlvcztcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5mdW5jdGlvbiBJbnRlcmNlcHRvck1hbmFnZXIoKSB7XG4gIHRoaXMuaGFuZGxlcnMgPSBbXTtcbn1cblxuLyoqXG4gKiBBZGQgYSBuZXcgaW50ZXJjZXB0b3IgdG8gdGhlIHN0YWNrXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVsZmlsbGVkIFRoZSBmdW5jdGlvbiB0byBoYW5kbGUgYHRoZW5gIGZvciBhIGBQcm9taXNlYFxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0ZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgcmVqZWN0YCBmb3IgYSBgUHJvbWlzZWBcbiAqXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IEFuIElEIHVzZWQgdG8gcmVtb3ZlIGludGVyY2VwdG9yIGxhdGVyXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUudXNlID0gZnVuY3Rpb24gdXNlKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpIHtcbiAgdGhpcy5oYW5kbGVycy5wdXNoKHtcbiAgICBmdWxmaWxsZWQ6IGZ1bGZpbGxlZCxcbiAgICByZWplY3RlZDogcmVqZWN0ZWRcbiAgfSk7XG4gIHJldHVybiB0aGlzLmhhbmRsZXJzLmxlbmd0aCAtIDE7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbiBpbnRlcmNlcHRvciBmcm9tIHRoZSBzdGFja1xuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBpZCBUaGUgSUQgdGhhdCB3YXMgcmV0dXJuZWQgYnkgYHVzZWBcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS5lamVjdCA9IGZ1bmN0aW9uIGVqZWN0KGlkKSB7XG4gIGlmICh0aGlzLmhhbmRsZXJzW2lkXSkge1xuICAgIHRoaXMuaGFuZGxlcnNbaWRdID0gbnVsbDtcbiAgfVxufTtcblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgYWxsIHRoZSByZWdpc3RlcmVkIGludGVyY2VwdG9yc1xuICpcbiAqIFRoaXMgbWV0aG9kIGlzIHBhcnRpY3VsYXJseSB1c2VmdWwgZm9yIHNraXBwaW5nIG92ZXIgYW55XG4gKiBpbnRlcmNlcHRvcnMgdGhhdCBtYXkgaGF2ZSBiZWNvbWUgYG51bGxgIGNhbGxpbmcgYGVqZWN0YC5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCBpbnRlcmNlcHRvclxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiBmb3JFYWNoKGZuKSB7XG4gIHV0aWxzLmZvckVhY2godGhpcy5oYW5kbGVycywgZnVuY3Rpb24gZm9yRWFjaEhhbmRsZXIoaCkge1xuICAgIGlmIChoICE9PSBudWxsKSB7XG4gICAgICBmbihoKTtcbiAgICB9XG4gIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBJbnRlcmNlcHRvck1hbmFnZXI7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBlbmhhbmNlRXJyb3IgPSByZXF1aXJlKCcuL2VuaGFuY2VFcnJvcicpO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgbWVzc2FnZSwgY29uZmlnLCBlcnJvciBjb2RlLCBhbmQgcmVzcG9uc2UuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2NvZGVdIFRoZSBlcnJvciBjb2RlIChmb3IgZXhhbXBsZSwgJ0VDT05OQUJPUlRFRCcpLlxuIEAgQHBhcmFtIHtPYmplY3R9IFtyZXNwb25zZV0gVGhlIHJlc3BvbnNlLlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgY3JlYXRlZCBlcnJvci5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGVFcnJvcihtZXNzYWdlLCBjb25maWcsIGNvZGUsIHJlc3BvbnNlKSB7XG4gIHZhciBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgcmV0dXJuIGVuaGFuY2VFcnJvcihlcnJvciwgY29uZmlnLCBjb2RlLCByZXNwb25zZSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG52YXIgdHJhbnNmb3JtRGF0YSA9IHJlcXVpcmUoJy4vdHJhbnNmb3JtRGF0YScpO1xudmFyIGlzQ2FuY2VsID0gcmVxdWlyZSgnLi4vY2FuY2VsL2lzQ2FuY2VsJyk7XG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuLi9kZWZhdWx0cycpO1xuXG4vKipcbiAqIFRocm93cyBhIGBDYW5jZWxgIGlmIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gKi9cbmZ1bmN0aW9uIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKSB7XG4gIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICBjb25maWcuY2FuY2VsVG9rZW4udGhyb3dJZlJlcXVlc3RlZCgpO1xuICB9XG59XG5cbi8qKlxuICogRGlzcGF0Y2ggYSByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXIgdXNpbmcgdGhlIGNvbmZpZ3VyZWQgYWRhcHRlci5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIFRoZSBjb25maWcgdGhhdCBpcyB0byBiZSB1c2VkIGZvciB0aGUgcmVxdWVzdFxuICogQHJldHVybnMge1Byb21pc2V9IFRoZSBQcm9taXNlIHRvIGJlIGZ1bGZpbGxlZFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRpc3BhdGNoUmVxdWVzdChjb25maWcpIHtcbiAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gIC8vIEVuc3VyZSBoZWFkZXJzIGV4aXN0XG4gIGNvbmZpZy5oZWFkZXJzID0gY29uZmlnLmhlYWRlcnMgfHwge307XG5cbiAgLy8gVHJhbnNmb3JtIHJlcXVlc3QgZGF0YVxuICBjb25maWcuZGF0YSA9IHRyYW5zZm9ybURhdGEoXG4gICAgY29uZmlnLmRhdGEsXG4gICAgY29uZmlnLmhlYWRlcnMsXG4gICAgY29uZmlnLnRyYW5zZm9ybVJlcXVlc3RcbiAgKTtcblxuICAvLyBGbGF0dGVuIGhlYWRlcnNcbiAgY29uZmlnLmhlYWRlcnMgPSB1dGlscy5tZXJnZShcbiAgICBjb25maWcuaGVhZGVycy5jb21tb24gfHwge30sXG4gICAgY29uZmlnLmhlYWRlcnNbY29uZmlnLm1ldGhvZF0gfHwge30sXG4gICAgY29uZmlnLmhlYWRlcnMgfHwge31cbiAgKTtcblxuICB1dGlscy5mb3JFYWNoKFxuICAgIFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJywgJ2NvbW1vbiddLFxuICAgIGZ1bmN0aW9uIGNsZWFuSGVhZGVyQ29uZmlnKG1ldGhvZCkge1xuICAgICAgZGVsZXRlIGNvbmZpZy5oZWFkZXJzW21ldGhvZF07XG4gICAgfVxuICApO1xuXG4gIHZhciBhZGFwdGVyID0gY29uZmlnLmFkYXB0ZXIgfHwgZGVmYXVsdHMuYWRhcHRlcjtcblxuICByZXR1cm4gYWRhcHRlcihjb25maWcpLnRoZW4oZnVuY3Rpb24gb25BZGFwdGVyUmVzb2x1dGlvbihyZXNwb25zZSkge1xuICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgIC8vIFRyYW5zZm9ybSByZXNwb25zZSBkYXRhXG4gICAgcmVzcG9uc2UuZGF0YSA9IHRyYW5zZm9ybURhdGEoXG4gICAgICByZXNwb25zZS5kYXRhLFxuICAgICAgcmVzcG9uc2UuaGVhZGVycyxcbiAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZVxuICAgICk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH0sIGZ1bmN0aW9uIG9uQWRhcHRlclJlamVjdGlvbihyZWFzb24pIHtcbiAgICBpZiAoIWlzQ2FuY2VsKHJlYXNvbikpIHtcbiAgICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICAgIGlmIChyZWFzb24gJiYgcmVhc29uLnJlc3BvbnNlKSB7XG4gICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICAgICAgICByZWFzb24ucmVzcG9uc2UuZGF0YSxcbiAgICAgICAgICByZWFzb24ucmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgICBjb25maWcudHJhbnNmb3JtUmVzcG9uc2VcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVhc29uKTtcbiAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFVwZGF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgY29uZmlnLCBlcnJvciBjb2RlLCBhbmQgcmVzcG9uc2UuXG4gKlxuICogQHBhcmFtIHtFcnJvcn0gZXJyb3IgVGhlIGVycm9yIHRvIHVwZGF0ZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG4gQCBAcGFyYW0ge09iamVjdH0gW3Jlc3BvbnNlXSBUaGUgcmVzcG9uc2UuXG4gKiBAcmV0dXJucyB7RXJyb3J9IFRoZSBlcnJvci5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBlbmhhbmNlRXJyb3IoZXJyb3IsIGNvbmZpZywgY29kZSwgcmVzcG9uc2UpIHtcbiAgZXJyb3IuY29uZmlnID0gY29uZmlnO1xuICBpZiAoY29kZSkge1xuICAgIGVycm9yLmNvZGUgPSBjb2RlO1xuICB9XG4gIGVycm9yLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gIHJldHVybiBlcnJvcjtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBjcmVhdGVFcnJvciA9IHJlcXVpcmUoJy4vY3JlYXRlRXJyb3InKTtcblxuLyoqXG4gKiBSZXNvbHZlIG9yIHJlamVjdCBhIFByb21pc2UgYmFzZWQgb24gcmVzcG9uc2Ugc3RhdHVzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlc29sdmUgQSBmdW5jdGlvbiB0aGF0IHJlc29sdmVzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0IEEgZnVuY3Rpb24gdGhhdCByZWplY3RzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtvYmplY3R9IHJlc3BvbnNlIFRoZSByZXNwb25zZS5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCByZXNwb25zZSkge1xuICB2YXIgdmFsaWRhdGVTdGF0dXMgPSByZXNwb25zZS5jb25maWcudmFsaWRhdGVTdGF0dXM7XG4gIC8vIE5vdGU6IHN0YXR1cyBpcyBub3QgZXhwb3NlZCBieSBYRG9tYWluUmVxdWVzdFxuICBpZiAoIXJlc3BvbnNlLnN0YXR1cyB8fCAhdmFsaWRhdGVTdGF0dXMgfHwgdmFsaWRhdGVTdGF0dXMocmVzcG9uc2Uuc3RhdHVzKSkge1xuICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICB9IGVsc2Uge1xuICAgIHJlamVjdChjcmVhdGVFcnJvcihcbiAgICAgICdSZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlICcgKyByZXNwb25zZS5zdGF0dXMsXG4gICAgICByZXNwb25zZS5jb25maWcsXG4gICAgICBudWxsLFxuICAgICAgcmVzcG9uc2VcbiAgICApKTtcbiAgfVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG4vKipcbiAqIFRyYW5zZm9ybSB0aGUgZGF0YSBmb3IgYSByZXF1ZXN0IG9yIGEgcmVzcG9uc2VcbiAqXG4gKiBAcGFyYW0ge09iamVjdHxTdHJpbmd9IGRhdGEgVGhlIGRhdGEgdG8gYmUgdHJhbnNmb3JtZWRcbiAqIEBwYXJhbSB7QXJyYXl9IGhlYWRlcnMgVGhlIGhlYWRlcnMgZm9yIHRoZSByZXF1ZXN0IG9yIHJlc3BvbnNlXG4gKiBAcGFyYW0ge0FycmF5fEZ1bmN0aW9ufSBmbnMgQSBzaW5nbGUgZnVuY3Rpb24gb3IgQXJyYXkgb2YgZnVuY3Rpb25zXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHJlc3VsdGluZyB0cmFuc2Zvcm1lZCBkYXRhXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdHJhbnNmb3JtRGF0YShkYXRhLCBoZWFkZXJzLCBmbnMpIHtcbiAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gIHV0aWxzLmZvckVhY2goZm5zLCBmdW5jdGlvbiB0cmFuc2Zvcm0oZm4pIHtcbiAgICBkYXRhID0gZm4oZGF0YSwgaGVhZGVycyk7XG4gIH0pO1xuXG4gIHJldHVybiBkYXRhO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xudmFyIG5vcm1hbGl6ZUhlYWRlck5hbWUgPSByZXF1aXJlKCcuL2hlbHBlcnMvbm9ybWFsaXplSGVhZGVyTmFtZScpO1xuXG52YXIgUFJPVEVDVElPTl9QUkVGSVggPSAvXlxcKVxcXVxcfScsP1xcbi87XG52YXIgREVGQVVMVF9DT05URU5UX1RZUEUgPSB7XG4gICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ1xufTtcblxuZnVuY3Rpb24gc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsIHZhbHVlKSB7XG4gIGlmICghdXRpbHMuaXNVbmRlZmluZWQoaGVhZGVycykgJiYgdXRpbHMuaXNVbmRlZmluZWQoaGVhZGVyc1snQ29udGVudC1UeXBlJ10pKSB7XG4gICAgaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSB2YWx1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXREZWZhdWx0QWRhcHRlcigpIHtcbiAgdmFyIGFkYXB0ZXI7XG4gIGlmICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gRm9yIGJyb3dzZXJzIHVzZSBYSFIgYWRhcHRlclxuICAgIGFkYXB0ZXIgPSByZXF1aXJlKCcuL2FkYXB0ZXJzL3hocicpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIEZvciBub2RlIHVzZSBIVFRQIGFkYXB0ZXJcbiAgICBhZGFwdGVyID0gcmVxdWlyZSgnLi9hZGFwdGVycy9odHRwJyk7XG4gIH1cbiAgcmV0dXJuIGFkYXB0ZXI7XG59XG5cbnZhciBkZWZhdWx0cyA9IHtcbiAgYWRhcHRlcjogZ2V0RGVmYXVsdEFkYXB0ZXIoKSxcblxuICB0cmFuc2Zvcm1SZXF1ZXN0OiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVxdWVzdChkYXRhLCBoZWFkZXJzKSB7XG4gICAgbm9ybWFsaXplSGVhZGVyTmFtZShoZWFkZXJzLCAnQ29udGVudC1UeXBlJyk7XG4gICAgaWYgKHV0aWxzLmlzRm9ybURhdGEoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQXJyYXlCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzU3RyZWFtKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0ZpbGUoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQmxvYihkYXRhKVxuICAgICkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc0FycmF5QnVmZmVyVmlldyhkYXRhKSkge1xuICAgICAgcmV0dXJuIGRhdGEuYnVmZmVyO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMoZGF0YSkpIHtcbiAgICAgIHNldENvbnRlbnRUeXBlSWZVbnNldChoZWFkZXJzLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLTgnKTtcbiAgICAgIHJldHVybiBkYXRhLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc09iamVjdChkYXRhKSkge1xuICAgICAgc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgnKTtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIHRyYW5zZm9ybVJlc3BvbnNlOiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVzcG9uc2UoZGF0YSkge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoUFJPVEVDVElPTl9QUkVGSVgsICcnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgfSBjYXRjaCAoZSkgeyAvKiBJZ25vcmUgKi8gfVxuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgdGltZW91dDogMCxcblxuICB4c3JmQ29va2llTmFtZTogJ1hTUkYtVE9LRU4nLFxuICB4c3JmSGVhZGVyTmFtZTogJ1gtWFNSRi1UT0tFTicsXG5cbiAgbWF4Q29udGVudExlbmd0aDogLTEsXG5cbiAgdmFsaWRhdGVTdGF0dXM6IGZ1bmN0aW9uIHZhbGlkYXRlU3RhdHVzKHN0YXR1cykge1xuICAgIHJldHVybiBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMDtcbiAgfVxufTtcblxuZGVmYXVsdHMuaGVhZGVycyA9IHtcbiAgY29tbW9uOiB7XG4gICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyonXG4gIH1cbn07XG5cbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnXSwgZnVuY3Rpb24gZm9yRWFjaE1laHRvZE5vRGF0YShtZXRob2QpIHtcbiAgZGVmYXVsdHMuaGVhZGVyc1ttZXRob2RdID0ge307XG59KTtcblxudXRpbHMuZm9yRWFjaChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2RXaXRoRGF0YShtZXRob2QpIHtcbiAgZGVmYXVsdHMuaGVhZGVyc1ttZXRob2RdID0gdXRpbHMubWVyZ2UoREVGQVVMVF9DT05URU5UX1RZUEUpO1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZGVmYXVsdHM7XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYmluZChmbiwgdGhpc0FyZykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcCgpIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgfTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbi8vIGJ0b2EgcG9seWZpbGwgZm9yIElFPDEwIGNvdXJ0ZXN5IGh0dHBzOi8vZ2l0aHViLmNvbS9kYXZpZGNoYW1iZXJzL0Jhc2U2NC5qc1xuXG52YXIgY2hhcnMgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0nO1xuXG5mdW5jdGlvbiBFKCkge1xuICB0aGlzLm1lc3NhZ2UgPSAnU3RyaW5nIGNvbnRhaW5zIGFuIGludmFsaWQgY2hhcmFjdGVyJztcbn1cbkUucHJvdG90eXBlID0gbmV3IEVycm9yO1xuRS5wcm90b3R5cGUuY29kZSA9IDU7XG5FLnByb3RvdHlwZS5uYW1lID0gJ0ludmFsaWRDaGFyYWN0ZXJFcnJvcic7XG5cbmZ1bmN0aW9uIGJ0b2EoaW5wdXQpIHtcbiAgdmFyIHN0ciA9IFN0cmluZyhpbnB1dCk7XG4gIHZhciBvdXRwdXQgPSAnJztcbiAgZm9yIChcbiAgICAvLyBpbml0aWFsaXplIHJlc3VsdCBhbmQgY291bnRlclxuICAgIHZhciBibG9jaywgY2hhckNvZGUsIGlkeCA9IDAsIG1hcCA9IGNoYXJzO1xuICAgIC8vIGlmIHRoZSBuZXh0IHN0ciBpbmRleCBkb2VzIG5vdCBleGlzdDpcbiAgICAvLyAgIGNoYW5nZSB0aGUgbWFwcGluZyB0YWJsZSB0byBcIj1cIlxuICAgIC8vICAgY2hlY2sgaWYgZCBoYXMgbm8gZnJhY3Rpb25hbCBkaWdpdHNcbiAgICBzdHIuY2hhckF0KGlkeCB8IDApIHx8IChtYXAgPSAnPScsIGlkeCAlIDEpO1xuICAgIC8vIFwiOCAtIGlkeCAlIDEgKiA4XCIgZ2VuZXJhdGVzIHRoZSBzZXF1ZW5jZSAyLCA0LCA2LCA4XG4gICAgb3V0cHV0ICs9IG1hcC5jaGFyQXQoNjMgJiBibG9jayA+PiA4IC0gaWR4ICUgMSAqIDgpXG4gICkge1xuICAgIGNoYXJDb2RlID0gc3RyLmNoYXJDb2RlQXQoaWR4ICs9IDMgLyA0KTtcbiAgICBpZiAoY2hhckNvZGUgPiAweEZGKSB7XG4gICAgICB0aHJvdyBuZXcgRSgpO1xuICAgIH1cbiAgICBibG9jayA9IGJsb2NrIDw8IDggfCBjaGFyQ29kZTtcbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJ0b2E7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gZW5jb2RlKHZhbCkge1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkuXG4gICAgcmVwbGFjZSgvJTQwL2dpLCAnQCcpLlxuICAgIHJlcGxhY2UoLyUzQS9naSwgJzonKS5cbiAgICByZXBsYWNlKC8lMjQvZywgJyQnKS5cbiAgICByZXBsYWNlKC8lMkMvZ2ksICcsJykuXG4gICAgcmVwbGFjZSgvJTIwL2csICcrJykuXG4gICAgcmVwbGFjZSgvJTVCL2dpLCAnWycpLlxuICAgIHJlcGxhY2UoLyU1RC9naSwgJ10nKTtcbn1cblxuLyoqXG4gKiBCdWlsZCBhIFVSTCBieSBhcHBlbmRpbmcgcGFyYW1zIHRvIHRoZSBlbmRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBiYXNlIG9mIHRoZSB1cmwgKGUuZy4sIGh0dHA6Ly93d3cuZ29vZ2xlLmNvbSlcbiAqIEBwYXJhbSB7b2JqZWN0fSBbcGFyYW1zXSBUaGUgcGFyYW1zIHRvIGJlIGFwcGVuZGVkXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZm9ybWF0dGVkIHVybFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJ1aWxkVVJMKHVybCwgcGFyYW1zLCBwYXJhbXNTZXJpYWxpemVyKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICBpZiAoIXBhcmFtcykge1xuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICB2YXIgc2VyaWFsaXplZFBhcmFtcztcbiAgaWYgKHBhcmFtc1NlcmlhbGl6ZXIpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zU2VyaWFsaXplcihwYXJhbXMpO1xuICB9IGVsc2UgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKHBhcmFtcykpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zLnRvU3RyaW5nKCk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHBhcnRzID0gW107XG5cbiAgICB1dGlscy5mb3JFYWNoKHBhcmFtcywgZnVuY3Rpb24gc2VyaWFsaXplKHZhbCwga2V5KSB7XG4gICAgICBpZiAodmFsID09PSBudWxsIHx8IHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHV0aWxzLmlzQXJyYXkodmFsKSkge1xuICAgICAgICBrZXkgPSBrZXkgKyAnW10nO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXV0aWxzLmlzQXJyYXkodmFsKSkge1xuICAgICAgICB2YWwgPSBbdmFsXTtcbiAgICAgIH1cblxuICAgICAgdXRpbHMuZm9yRWFjaCh2YWwsIGZ1bmN0aW9uIHBhcnNlVmFsdWUodikge1xuICAgICAgICBpZiAodXRpbHMuaXNEYXRlKHYpKSB7XG4gICAgICAgICAgdiA9IHYudG9JU09TdHJpbmcoKTtcbiAgICAgICAgfSBlbHNlIGlmICh1dGlscy5pc09iamVjdCh2KSkge1xuICAgICAgICAgIHYgPSBKU09OLnN0cmluZ2lmeSh2KTtcbiAgICAgICAgfVxuICAgICAgICBwYXJ0cy5wdXNoKGVuY29kZShrZXkpICsgJz0nICsgZW5jb2RlKHYpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcnRzLmpvaW4oJyYnKTtcbiAgfVxuXG4gIGlmIChzZXJpYWxpemVkUGFyYW1zKSB7XG4gICAgdXJsICs9ICh1cmwuaW5kZXhPZignPycpID09PSAtMSA/ICc/JyA6ICcmJykgKyBzZXJpYWxpemVkUGFyYW1zO1xuICB9XG5cbiAgcmV0dXJuIHVybDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBVUkwgYnkgY29tYmluaW5nIHRoZSBzcGVjaWZpZWQgVVJMc1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVVJMIFRoZSBiYXNlIFVSTFxuICogQHBhcmFtIHtzdHJpbmd9IHJlbGF0aXZlVVJMIFRoZSByZWxhdGl2ZSBVUkxcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjb21iaW5lZCBVUkxcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjb21iaW5lVVJMcyhiYXNlVVJMLCByZWxhdGl2ZVVSTCkge1xuICByZXR1cm4gYmFzZVVSTC5yZXBsYWNlKC9cXC8rJC8sICcnKSArICcvJyArIHJlbGF0aXZlVVJMLnJlcGxhY2UoL15cXC8rLywgJycpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgdXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIHN1cHBvcnQgZG9jdW1lbnQuY29va2llXG4gIChmdW5jdGlvbiBzdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZShuYW1lLCB2YWx1ZSwgZXhwaXJlcywgcGF0aCwgZG9tYWluLCBzZWN1cmUpIHtcbiAgICAgICAgdmFyIGNvb2tpZSA9IFtdO1xuICAgICAgICBjb29raWUucHVzaChuYW1lICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzTnVtYmVyKGV4cGlyZXMpKSB7XG4gICAgICAgICAgY29va2llLnB1c2goJ2V4cGlyZXM9JyArIG5ldyBEYXRlKGV4cGlyZXMpLnRvR01UU3RyaW5nKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKHBhdGgpKSB7XG4gICAgICAgICAgY29va2llLnB1c2goJ3BhdGg9JyArIHBhdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKGRvbWFpbikpIHtcbiAgICAgICAgICBjb29raWUucHVzaCgnZG9tYWluPScgKyBkb21haW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlY3VyZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGNvb2tpZS5wdXNoKCdzZWN1cmUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZS5qb2luKCc7ICcpO1xuICAgICAgfSxcblxuICAgICAgcmVhZDogZnVuY3Rpb24gcmVhZChuYW1lKSB7XG4gICAgICAgIHZhciBtYXRjaCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKCcoXnw7XFxcXHMqKSgnICsgbmFtZSArICcpPShbXjtdKiknKSk7XG4gICAgICAgIHJldHVybiAobWF0Y2ggPyBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbM10pIDogbnVsbCk7XG4gICAgICB9LFxuXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShuYW1lKSB7XG4gICAgICAgIHRoaXMud3JpdGUobmFtZSwgJycsIERhdGUubm93KCkgLSA4NjQwMDAwMCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSkoKSA6XG5cbiAgLy8gTm9uIHN0YW5kYXJkIGJyb3dzZXIgZW52ICh3ZWIgd29ya2VycywgcmVhY3QtbmF0aXZlKSBsYWNrIG5lZWRlZCBzdXBwb3J0LlxuICAoZnVuY3Rpb24gbm9uU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIHJldHVybiB7XG4gICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUoKSB7fSxcbiAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQoKSB7IHJldHVybiBudWxsOyB9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgIH07XG4gIH0pKClcbik7XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0Fic29sdXRlVVJMKHVybCkge1xuICAvLyBBIFVSTCBpcyBjb25zaWRlcmVkIGFic29sdXRlIGlmIGl0IGJlZ2lucyB3aXRoIFwiPHNjaGVtZT46Ly9cIiBvciBcIi8vXCIgKHByb3RvY29sLXJlbGF0aXZlIFVSTCkuXG4gIC8vIFJGQyAzOTg2IGRlZmluZXMgc2NoZW1lIG5hbWUgYXMgYSBzZXF1ZW5jZSBvZiBjaGFyYWN0ZXJzIGJlZ2lubmluZyB3aXRoIGEgbGV0dGVyIGFuZCBmb2xsb3dlZFxuICAvLyBieSBhbnkgY29tYmluYXRpb24gb2YgbGV0dGVycywgZGlnaXRzLCBwbHVzLCBwZXJpb2QsIG9yIGh5cGhlbi5cbiAgcmV0dXJuIC9eKFthLXpdW2EtelxcZFxcK1xcLVxcLl0qOik/XFwvXFwvL2kudGVzdCh1cmwpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgdXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIGhhdmUgZnVsbCBzdXBwb3J0IG9mIHRoZSBBUElzIG5lZWRlZCB0byB0ZXN0XG4gIC8vIHdoZXRoZXIgdGhlIHJlcXVlc3QgVVJMIGlzIG9mIHRoZSBzYW1lIG9yaWdpbiBhcyBjdXJyZW50IGxvY2F0aW9uLlxuICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIHZhciBtc2llID0gLyhtc2llfHRyaWRlbnQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICB2YXIgdXJsUGFyc2luZ05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgdmFyIG9yaWdpblVSTDtcblxuICAgIC8qKlxuICAgICogUGFyc2UgYSBVUkwgdG8gZGlzY292ZXIgaXQncyBjb21wb25lbnRzXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCBUaGUgVVJMIHRvIGJlIHBhcnNlZFxuICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc29sdmVVUkwodXJsKSB7XG4gICAgICB2YXIgaHJlZiA9IHVybDtcblxuICAgICAgaWYgKG1zaWUpIHtcbiAgICAgICAgLy8gSUUgbmVlZHMgYXR0cmlidXRlIHNldCB0d2ljZSB0byBub3JtYWxpemUgcHJvcGVydGllc1xuICAgICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcbiAgICAgICAgaHJlZiA9IHVybFBhcnNpbmdOb2RlLmhyZWY7XG4gICAgICB9XG5cbiAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuXG4gICAgICAvLyB1cmxQYXJzaW5nTm9kZSBwcm92aWRlcyB0aGUgVXJsVXRpbHMgaW50ZXJmYWNlIC0gaHR0cDovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybHV0aWxzXG4gICAgICByZXR1cm4ge1xuICAgICAgICBocmVmOiB1cmxQYXJzaW5nTm9kZS5ocmVmLFxuICAgICAgICBwcm90b2NvbDogdXJsUGFyc2luZ05vZGUucHJvdG9jb2wgPyB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbC5yZXBsYWNlKC86JC8sICcnKSA6ICcnLFxuICAgICAgICBob3N0OiB1cmxQYXJzaW5nTm9kZS5ob3N0LFxuICAgICAgICBzZWFyY2g6IHVybFBhcnNpbmdOb2RlLnNlYXJjaCA/IHVybFBhcnNpbmdOb2RlLnNlYXJjaC5yZXBsYWNlKC9eXFw/LywgJycpIDogJycsXG4gICAgICAgIGhhc2g6IHVybFBhcnNpbmdOb2RlLmhhc2ggPyB1cmxQYXJzaW5nTm9kZS5oYXNoLnJlcGxhY2UoL14jLywgJycpIDogJycsXG4gICAgICAgIGhvc3RuYW1lOiB1cmxQYXJzaW5nTm9kZS5ob3N0bmFtZSxcbiAgICAgICAgcG9ydDogdXJsUGFyc2luZ05vZGUucG9ydCxcbiAgICAgICAgcGF0aG5hbWU6ICh1cmxQYXJzaW5nTm9kZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJykgP1xuICAgICAgICAgICAgICAgICAgdXJsUGFyc2luZ05vZGUucGF0aG5hbWUgOlxuICAgICAgICAgICAgICAgICAgJy8nICsgdXJsUGFyc2luZ05vZGUucGF0aG5hbWVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgb3JpZ2luVVJMID0gcmVzb2x2ZVVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG5cbiAgICAvKipcbiAgICAqIERldGVybWluZSBpZiBhIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luIGFzIHRoZSBjdXJyZW50IGxvY2F0aW9uXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHJlcXVlc3RVUkwgVGhlIFVSTCB0byB0ZXN0XG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBVUkwgc2hhcmVzIHRoZSBzYW1lIG9yaWdpbiwgb3RoZXJ3aXNlIGZhbHNlXG4gICAgKi9cbiAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKHJlcXVlc3RVUkwpIHtcbiAgICAgIHZhciBwYXJzZWQgPSAodXRpbHMuaXNTdHJpbmcocmVxdWVzdFVSTCkpID8gcmVzb2x2ZVVSTChyZXF1ZXN0VVJMKSA6IHJlcXVlc3RVUkw7XG4gICAgICByZXR1cm4gKHBhcnNlZC5wcm90b2NvbCA9PT0gb3JpZ2luVVJMLnByb3RvY29sICYmXG4gICAgICAgICAgICBwYXJzZWQuaG9zdCA9PT0gb3JpZ2luVVJMLmhvc3QpO1xuICAgIH07XG4gIH0pKCkgOlxuXG4gIC8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudnMgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gIChmdW5jdGlvbiBub25TdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGlzVVJMU2FtZU9yaWdpbigpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gIH0pKClcbik7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbm9ybWFsaXplSGVhZGVyTmFtZShoZWFkZXJzLCBub3JtYWxpemVkTmFtZSkge1xuICB1dGlscy5mb3JFYWNoKGhlYWRlcnMsIGZ1bmN0aW9uIHByb2Nlc3NIZWFkZXIodmFsdWUsIG5hbWUpIHtcbiAgICBpZiAobmFtZSAhPT0gbm9ybWFsaXplZE5hbWUgJiYgbmFtZS50b1VwcGVyQ2FzZSgpID09PSBub3JtYWxpemVkTmFtZS50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICBoZWFkZXJzW25vcm1hbGl6ZWROYW1lXSA9IHZhbHVlO1xuICAgICAgZGVsZXRlIGhlYWRlcnNbbmFtZV07XG4gICAgfVxuICB9KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuLyoqXG4gKiBQYXJzZSBoZWFkZXJzIGludG8gYW4gb2JqZWN0XG4gKlxuICogYGBgXG4gKiBEYXRlOiBXZWQsIDI3IEF1ZyAyMDE0IDA4OjU4OjQ5IEdNVFxuICogQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uXG4gKiBDb25uZWN0aW9uOiBrZWVwLWFsaXZlXG4gKiBUcmFuc2Zlci1FbmNvZGluZzogY2h1bmtlZFxuICogYGBgXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGhlYWRlcnMgSGVhZGVycyBuZWVkaW5nIHRvIGJlIHBhcnNlZFxuICogQHJldHVybnMge09iamVjdH0gSGVhZGVycyBwYXJzZWQgaW50byBhbiBvYmplY3RcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwYXJzZUhlYWRlcnMoaGVhZGVycykge1xuICB2YXIgcGFyc2VkID0ge307XG4gIHZhciBrZXk7XG4gIHZhciB2YWw7XG4gIHZhciBpO1xuXG4gIGlmICghaGVhZGVycykgeyByZXR1cm4gcGFyc2VkOyB9XG5cbiAgdXRpbHMuZm9yRWFjaChoZWFkZXJzLnNwbGl0KCdcXG4nKSwgZnVuY3Rpb24gcGFyc2VyKGxpbmUpIHtcbiAgICBpID0gbGluZS5pbmRleE9mKCc6Jyk7XG4gICAga2V5ID0gdXRpbHMudHJpbShsaW5lLnN1YnN0cigwLCBpKSkudG9Mb3dlckNhc2UoKTtcbiAgICB2YWwgPSB1dGlscy50cmltKGxpbmUuc3Vic3RyKGkgKyAxKSk7XG5cbiAgICBpZiAoa2V5KSB7XG4gICAgICBwYXJzZWRba2V5XSA9IHBhcnNlZFtrZXldID8gcGFyc2VkW2tleV0gKyAnLCAnICsgdmFsIDogdmFsO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHBhcnNlZDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogU3ludGFjdGljIHN1Z2FyIGZvciBpbnZva2luZyBhIGZ1bmN0aW9uIGFuZCBleHBhbmRpbmcgYW4gYXJyYXkgZm9yIGFyZ3VtZW50cy5cbiAqXG4gKiBDb21tb24gdXNlIGNhc2Ugd291bGQgYmUgdG8gdXNlIGBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHlgLlxuICpcbiAqICBgYGBqc1xuICogIGZ1bmN0aW9uIGYoeCwgeSwgeikge31cbiAqICB2YXIgYXJncyA9IFsxLCAyLCAzXTtcbiAqICBmLmFwcGx5KG51bGwsIGFyZ3MpO1xuICogIGBgYFxuICpcbiAqIFdpdGggYHNwcmVhZGAgdGhpcyBleGFtcGxlIGNhbiBiZSByZS13cml0dGVuLlxuICpcbiAqICBgYGBqc1xuICogIHNwcmVhZChmdW5jdGlvbih4LCB5LCB6KSB7fSkoWzEsIDIsIDNdKTtcbiAqICBgYGBcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNwcmVhZChjYWxsYmFjaykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcChhcnIpIHtcbiAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkobnVsbCwgYXJyKTtcbiAgfTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBiaW5kID0gcmVxdWlyZSgnLi9oZWxwZXJzL2JpbmQnKTtcblxuLypnbG9iYWwgdG9TdHJpbmc6dHJ1ZSovXG5cbi8vIHV0aWxzIGlzIGEgbGlicmFyeSBvZiBnZW5lcmljIGhlbHBlciBmdW5jdGlvbnMgbm9uLXNwZWNpZmljIHRvIGF4aW9zXG5cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXkodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXIodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGb3JtRGF0YVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEZvcm1EYXRhLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGb3JtRGF0YSh2YWwpIHtcbiAgcmV0dXJuICh0eXBlb2YgRm9ybURhdGEgIT09ICd1bmRlZmluZWQnKSAmJiAodmFsIGluc3RhbmNlb2YgRm9ybURhdGEpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXJWaWV3KHZhbCkge1xuICB2YXIgcmVzdWx0O1xuICBpZiAoKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpICYmIChBcnJheUJ1ZmZlci5pc1ZpZXcpKSB7XG4gICAgcmVzdWx0ID0gQXJyYXlCdWZmZXIuaXNWaWV3KHZhbCk7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0gKHZhbCkgJiYgKHZhbC5idWZmZXIpICYmICh2YWwuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBTdHJpbmdcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFN0cmluZywgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3RyaW5nKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZyc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBOdW1iZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIE51bWJlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTnVtYmVyKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ251bWJlcic7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgdW5kZWZpbmVkXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHZhbHVlIGlzIHVuZGVmaW5lZCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3VuZGVmaW5lZCc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gT2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gT2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IG51bGwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBEYXRlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBEYXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNEYXRlKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGaWxlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGaWxlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGaWxlKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBGaWxlXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCbG9iXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCbG9iLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNCbG9iKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBCbG9iXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRnVuY3Rpb24sIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyZWFtXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJlYW0sIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N0cmVhbSh2YWwpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHZhbCkgJiYgaXNGdW5jdGlvbih2YWwucGlwZSk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNVUkxTZWFyY2hQYXJhbXModmFsKSB7XG4gIHJldHVybiB0eXBlb2YgVVJMU2VhcmNoUGFyYW1zICE9PSAndW5kZWZpbmVkJyAmJiB2YWwgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXM7XG59XG5cbi8qKlxuICogVHJpbSBleGNlc3Mgd2hpdGVzcGFjZSBvZmYgdGhlIGJlZ2lubmluZyBhbmQgZW5kIG9mIGEgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgU3RyaW5nIHRvIHRyaW1cbiAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBTdHJpbmcgZnJlZWQgb2YgZXhjZXNzIHdoaXRlc3BhY2VcbiAqL1xuZnVuY3Rpb24gdHJpbShzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzKi8sICcnKS5yZXBsYWNlKC9cXHMqJC8sICcnKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgd2UncmUgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnRcbiAqXG4gKiBUaGlzIGFsbG93cyBheGlvcyB0byBydW4gaW4gYSB3ZWIgd29ya2VyLCBhbmQgcmVhY3QtbmF0aXZlLlxuICogQm90aCBlbnZpcm9ubWVudHMgc3VwcG9ydCBYTUxIdHRwUmVxdWVzdCwgYnV0IG5vdCBmdWxseSBzdGFuZGFyZCBnbG9iYWxzLlxuICpcbiAqIHdlYiB3b3JrZXJzOlxuICogIHR5cGVvZiB3aW5kb3cgLT4gdW5kZWZpbmVkXG4gKiAgdHlwZW9mIGRvY3VtZW50IC0+IHVuZGVmaW5lZFxuICpcbiAqIHJlYWN0LW5hdGl2ZTpcbiAqICB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCAtPiB1bmRlZmluZWRcbiAqL1xuZnVuY3Rpb24gaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgPT09ICdmdW5jdGlvbidcbiAgKTtcbn1cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgYW4gQXJyYXkgb3IgYW4gT2JqZWN0IGludm9raW5nIGEgZnVuY3Rpb24gZm9yIGVhY2ggaXRlbS5cbiAqXG4gKiBJZiBgb2JqYCBpcyBhbiBBcnJheSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG4gKiB0aGUgdmFsdWUsIGluZGV4LCBhbmQgY29tcGxldGUgYXJyYXkgZm9yIGVhY2ggaXRlbS5cbiAqXG4gKiBJZiAnb2JqJyBpcyBhbiBPYmplY3QgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBrZXksIGFuZCBjb21wbGV0ZSBvYmplY3QgZm9yIGVhY2ggcHJvcGVydHkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IG9iaiBUaGUgb2JqZWN0IHRvIGl0ZXJhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBjYWxsYmFjayB0byBpbnZva2UgZm9yIGVhY2ggaXRlbVxuICovXG5mdW5jdGlvbiBmb3JFYWNoKG9iaiwgZm4pIHtcbiAgLy8gRG9uJ3QgYm90aGVyIGlmIG5vIHZhbHVlIHByb3ZpZGVkXG4gIGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBGb3JjZSBhbiBhcnJheSBpZiBub3QgYWxyZWFkeSBzb21ldGhpbmcgaXRlcmFibGVcbiAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnICYmICFpc0FycmF5KG9iaikpIHtcbiAgICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgICBvYmogPSBbb2JqXTtcbiAgfVxuXG4gIGlmIChpc0FycmF5KG9iaikpIHtcbiAgICAvLyBJdGVyYXRlIG92ZXIgYXJyYXkgdmFsdWVzXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvYmoubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBmbi5jYWxsKG51bGwsIG9ialtpXSwgaSwgb2JqKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIG9iamVjdCBrZXlzXG4gICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgZm4uY2FsbChudWxsLCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEFjY2VwdHMgdmFyYXJncyBleHBlY3RpbmcgZWFjaCBhcmd1bWVudCB0byBiZSBhbiBvYmplY3QsIHRoZW5cbiAqIGltbXV0YWJseSBtZXJnZXMgdGhlIHByb3BlcnRpZXMgb2YgZWFjaCBvYmplY3QgYW5kIHJldHVybnMgcmVzdWx0LlxuICpcbiAqIFdoZW4gbXVsdGlwbGUgb2JqZWN0cyBjb250YWluIHRoZSBzYW1lIGtleSB0aGUgbGF0ZXIgb2JqZWN0IGluXG4gKiB0aGUgYXJndW1lbnRzIGxpc3Qgd2lsbCB0YWtlIHByZWNlZGVuY2UuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogdmFyIHJlc3VsdCA9IG1lcmdlKHtmb286IDEyM30sIHtmb286IDQ1Nn0pO1xuICogY29uc29sZS5sb2cocmVzdWx0LmZvbyk7IC8vIG91dHB1dHMgNDU2XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqMSBPYmplY3QgdG8gbWVyZ2VcbiAqIEByZXR1cm5zIHtPYmplY3R9IFJlc3VsdCBvZiBhbGwgbWVyZ2UgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBtZXJnZSgvKiBvYmoxLCBvYmoyLCBvYmozLCAuLi4gKi8pIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBmdW5jdGlvbiBhc3NpZ25WYWx1ZSh2YWwsIGtleSkge1xuICAgIGlmICh0eXBlb2YgcmVzdWx0W2tleV0gPT09ICdvYmplY3QnICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnKSB7XG4gICAgICByZXN1bHRba2V5XSA9IG1lcmdlKHJlc3VsdFtrZXldLCB2YWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHRba2V5XSA9IHZhbDtcbiAgICB9XG4gIH1cblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBmb3JFYWNoKGFyZ3VtZW50c1tpXSwgYXNzaWduVmFsdWUpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRXh0ZW5kcyBvYmplY3QgYSBieSBtdXRhYmx5IGFkZGluZyB0byBpdCB0aGUgcHJvcGVydGllcyBvZiBvYmplY3QgYi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYSBUaGUgb2JqZWN0IHRvIGJlIGV4dGVuZGVkXG4gKiBAcGFyYW0ge09iamVjdH0gYiBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tXG4gKiBAcGFyYW0ge09iamVjdH0gdGhpc0FyZyBUaGUgb2JqZWN0IHRvIGJpbmQgZnVuY3Rpb24gdG9cbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIHJlc3VsdGluZyB2YWx1ZSBvZiBvYmplY3QgYVxuICovXG5mdW5jdGlvbiBleHRlbmQoYSwgYiwgdGhpc0FyZykge1xuICBmb3JFYWNoKGIsIGZ1bmN0aW9uIGFzc2lnblZhbHVlKHZhbCwga2V5KSB7XG4gICAgaWYgKHRoaXNBcmcgJiYgdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYVtrZXldID0gYmluZCh2YWwsIHRoaXNBcmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhW2tleV0gPSB2YWw7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGE7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpc0FycmF5OiBpc0FycmF5LFxuICBpc0FycmF5QnVmZmVyOiBpc0FycmF5QnVmZmVyLFxuICBpc0Zvcm1EYXRhOiBpc0Zvcm1EYXRhLFxuICBpc0FycmF5QnVmZmVyVmlldzogaXNBcnJheUJ1ZmZlclZpZXcsXG4gIGlzU3RyaW5nOiBpc1N0cmluZyxcbiAgaXNOdW1iZXI6IGlzTnVtYmVyLFxuICBpc09iamVjdDogaXNPYmplY3QsXG4gIGlzVW5kZWZpbmVkOiBpc1VuZGVmaW5lZCxcbiAgaXNEYXRlOiBpc0RhdGUsXG4gIGlzRmlsZTogaXNGaWxlLFxuICBpc0Jsb2I6IGlzQmxvYixcbiAgaXNGdW5jdGlvbjogaXNGdW5jdGlvbixcbiAgaXNTdHJlYW06IGlzU3RyZWFtLFxuICBpc1VSTFNlYXJjaFBhcmFtczogaXNVUkxTZWFyY2hQYXJhbXMsXG4gIGlzU3RhbmRhcmRCcm93c2VyRW52OiBpc1N0YW5kYXJkQnJvd3NlckVudixcbiAgZm9yRWFjaDogZm9yRWFjaCxcbiAgbWVyZ2U6IG1lcmdlLFxuICBleHRlbmQ6IGV4dGVuZCxcbiAgdHJpbTogdHJpbVxufTtcbiIsIi8qIEBwcmVzZXJ2ZVxuICogVGhlIE1JVCBMaWNlbnNlIChNSVQpXG4gKiBcbiAqIENvcHlyaWdodCAoYykgMjAxMy0yMDE3IFBldGthIEFudG9ub3ZcbiAqIFxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICogXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKiBcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqIFxuICovXG4vKipcbiAqIGJsdWViaXJkIGJ1aWxkIHZlcnNpb24gMy41LjBcbiAqIEZlYXR1cmVzIGVuYWJsZWQ6IGNvcmUsIHJhY2UsIGNhbGxfZ2V0LCBnZW5lcmF0b3JzLCBtYXAsIG5vZGVpZnksIHByb21pc2lmeSwgcHJvcHMsIHJlZHVjZSwgc2V0dGxlLCBzb21lLCB1c2luZywgdGltZXJzLCBmaWx0ZXIsIGFueSwgZWFjaFxuKi9cbiFmdW5jdGlvbihlKXtpZihcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGUpO2Vsc2V7dmFyIGY7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz9mPXdpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2Y9Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiYoZj1zZWxmKSxmLlByb21pc2U9ZSgpfX0oZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIF9kZXJlcV89PVwiZnVuY3Rpb25cIiYmX2RlcmVxXztpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgX2RlcmVxXz09XCJmdW5jdGlvblwiJiZfZGVyZXFfO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSh7MTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oUHJvbWlzZSkge1xudmFyIFNvbWVQcm9taXNlQXJyYXkgPSBQcm9taXNlLl9Tb21lUHJvbWlzZUFycmF5O1xuZnVuY3Rpb24gYW55KHByb21pc2VzKSB7XG4gICAgdmFyIHJldCA9IG5ldyBTb21lUHJvbWlzZUFycmF5KHByb21pc2VzKTtcbiAgICB2YXIgcHJvbWlzZSA9IHJldC5wcm9taXNlKCk7XG4gICAgcmV0LnNldEhvd01hbnkoMSk7XG4gICAgcmV0LnNldFVud3JhcCgpO1xuICAgIHJldC5pbml0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cblByb21pc2UuYW55ID0gZnVuY3Rpb24gKHByb21pc2VzKSB7XG4gICAgcmV0dXJuIGFueShwcm9taXNlcyk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5hbnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGFueSh0aGlzKTtcbn07XG5cbn07XG5cbn0se31dLDI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgZmlyc3RMaW5lRXJyb3I7XG50cnkge3Rocm93IG5ldyBFcnJvcigpOyB9IGNhdGNoIChlKSB7Zmlyc3RMaW5lRXJyb3IgPSBlO31cbnZhciBzY2hlZHVsZSA9IF9kZXJlcV8oXCIuL3NjaGVkdWxlXCIpO1xudmFyIFF1ZXVlID0gX2RlcmVxXyhcIi4vcXVldWVcIik7XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG5cbmZ1bmN0aW9uIEFzeW5jKCkge1xuICAgIHRoaXMuX2N1c3RvbVNjaGVkdWxlciA9IGZhbHNlO1xuICAgIHRoaXMuX2lzVGlja1VzZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9sYXRlUXVldWUgPSBuZXcgUXVldWUoMTYpO1xuICAgIHRoaXMuX25vcm1hbFF1ZXVlID0gbmV3IFF1ZXVlKDE2KTtcbiAgICB0aGlzLl9oYXZlRHJhaW5lZFF1ZXVlcyA9IGZhbHNlO1xuICAgIHRoaXMuX3RyYW1wb2xpbmVFbmFibGVkID0gdHJ1ZTtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5kcmFpblF1ZXVlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5fZHJhaW5RdWV1ZXMoKTtcbiAgICB9O1xuICAgIHRoaXMuX3NjaGVkdWxlID0gc2NoZWR1bGU7XG59XG5cbkFzeW5jLnByb3RvdHlwZS5zZXRTY2hlZHVsZXIgPSBmdW5jdGlvbihmbikge1xuICAgIHZhciBwcmV2ID0gdGhpcy5fc2NoZWR1bGU7XG4gICAgdGhpcy5fc2NoZWR1bGUgPSBmbjtcbiAgICB0aGlzLl9jdXN0b21TY2hlZHVsZXIgPSB0cnVlO1xuICAgIHJldHVybiBwcmV2O1xufTtcblxuQXN5bmMucHJvdG90eXBlLmhhc0N1c3RvbVNjaGVkdWxlciA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9jdXN0b21TY2hlZHVsZXI7XG59O1xuXG5Bc3luYy5wcm90b3R5cGUuZW5hYmxlVHJhbXBvbGluZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX3RyYW1wb2xpbmVFbmFibGVkID0gdHJ1ZTtcbn07XG5cbkFzeW5jLnByb3RvdHlwZS5kaXNhYmxlVHJhbXBvbGluZUlmTmVjZXNzYXJ5ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHV0aWwuaGFzRGV2VG9vbHMpIHtcbiAgICAgICAgdGhpcy5fdHJhbXBvbGluZUVuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG59O1xuXG5Bc3luYy5wcm90b3R5cGUuaGF2ZUl0ZW1zUXVldWVkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9pc1RpY2tVc2VkIHx8IHRoaXMuX2hhdmVEcmFpbmVkUXVldWVzO1xufTtcblxuXG5Bc3luYy5wcm90b3R5cGUuZmF0YWxFcnJvciA9IGZ1bmN0aW9uKGUsIGlzTm9kZSkge1xuICAgIGlmIChpc05vZGUpIHtcbiAgICAgICAgcHJvY2Vzcy5zdGRlcnIud3JpdGUoXCJGYXRhbCBcIiArIChlIGluc3RhbmNlb2YgRXJyb3IgPyBlLnN0YWNrIDogZSkgK1xuICAgICAgICAgICAgXCJcXG5cIik7XG4gICAgICAgIHByb2Nlc3MuZXhpdCgyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnRocm93TGF0ZXIoZSk7XG4gICAgfVxufTtcblxuQXN5bmMucHJvdG90eXBlLnRocm93TGF0ZXIgPSBmdW5jdGlvbihmbiwgYXJnKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgYXJnID0gZm47XG4gICAgICAgIGZuID0gZnVuY3Rpb24gKCkgeyB0aHJvdyBhcmc7IH07XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZm4oYXJnKTtcbiAgICAgICAgfSwgMCk7XG4gICAgfSBlbHNlIHRyeSB7XG4gICAgICAgIHRoaXMuX3NjaGVkdWxlKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZm4oYXJnKTtcbiAgICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBhc3luYyBzY2hlZHVsZXIgYXZhaWxhYmxlXFx1MDAwYVxcdTAwMGEgICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFx1MDAwYVwiKTtcbiAgICB9XG59O1xuXG5mdW5jdGlvbiBBc3luY0ludm9rZUxhdGVyKGZuLCByZWNlaXZlciwgYXJnKSB7XG4gICAgdGhpcy5fbGF0ZVF1ZXVlLnB1c2goZm4sIHJlY2VpdmVyLCBhcmcpO1xuICAgIHRoaXMuX3F1ZXVlVGljaygpO1xufVxuXG5mdW5jdGlvbiBBc3luY0ludm9rZShmbiwgcmVjZWl2ZXIsIGFyZykge1xuICAgIHRoaXMuX25vcm1hbFF1ZXVlLnB1c2goZm4sIHJlY2VpdmVyLCBhcmcpO1xuICAgIHRoaXMuX3F1ZXVlVGljaygpO1xufVxuXG5mdW5jdGlvbiBBc3luY1NldHRsZVByb21pc2VzKHByb21pc2UpIHtcbiAgICB0aGlzLl9ub3JtYWxRdWV1ZS5fcHVzaE9uZShwcm9taXNlKTtcbiAgICB0aGlzLl9xdWV1ZVRpY2soKTtcbn1cblxuaWYgKCF1dGlsLmhhc0RldlRvb2xzKSB7XG4gICAgQXN5bmMucHJvdG90eXBlLmludm9rZUxhdGVyID0gQXN5bmNJbnZva2VMYXRlcjtcbiAgICBBc3luYy5wcm90b3R5cGUuaW52b2tlID0gQXN5bmNJbnZva2U7XG4gICAgQXN5bmMucHJvdG90eXBlLnNldHRsZVByb21pc2VzID0gQXN5bmNTZXR0bGVQcm9taXNlcztcbn0gZWxzZSB7XG4gICAgQXN5bmMucHJvdG90eXBlLmludm9rZUxhdGVyID0gZnVuY3Rpb24gKGZuLCByZWNlaXZlciwgYXJnKSB7XG4gICAgICAgIGlmICh0aGlzLl90cmFtcG9saW5lRW5hYmxlZCkge1xuICAgICAgICAgICAgQXN5bmNJbnZva2VMYXRlci5jYWxsKHRoaXMsIGZuLCByZWNlaXZlciwgYXJnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3NjaGVkdWxlKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGZuLmNhbGwocmVjZWl2ZXIsIGFyZyk7XG4gICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIEFzeW5jLnByb3RvdHlwZS5pbnZva2UgPSBmdW5jdGlvbiAoZm4sIHJlY2VpdmVyLCBhcmcpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RyYW1wb2xpbmVFbmFibGVkKSB7XG4gICAgICAgICAgICBBc3luY0ludm9rZS5jYWxsKHRoaXMsIGZuLCByZWNlaXZlciwgYXJnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3NjaGVkdWxlKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGZuLmNhbGwocmVjZWl2ZXIsIGFyZyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBBc3luYy5wcm90b3R5cGUuc2V0dGxlUHJvbWlzZXMgPSBmdW5jdGlvbihwcm9taXNlKSB7XG4gICAgICAgIGlmICh0aGlzLl90cmFtcG9saW5lRW5hYmxlZCkge1xuICAgICAgICAgICAgQXN5bmNTZXR0bGVQcm9taXNlcy5jYWxsKHRoaXMsIHByb21pc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc2NoZWR1bGUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcHJvbWlzZS5fc2V0dGxlUHJvbWlzZXMoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuQXN5bmMucHJvdG90eXBlLl9kcmFpblF1ZXVlID0gZnVuY3Rpb24ocXVldWUpIHtcbiAgICB3aGlsZSAocXVldWUubGVuZ3RoKCkgPiAwKSB7XG4gICAgICAgIHZhciBmbiA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgIGlmICh0eXBlb2YgZm4gIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgZm4uX3NldHRsZVByb21pc2VzKCk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVjZWl2ZXIgPSBxdWV1ZS5zaGlmdCgpO1xuICAgICAgICB2YXIgYXJnID0gcXVldWUuc2hpZnQoKTtcbiAgICAgICAgZm4uY2FsbChyZWNlaXZlciwgYXJnKTtcbiAgICB9XG59O1xuXG5Bc3luYy5wcm90b3R5cGUuX2RyYWluUXVldWVzID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX2RyYWluUXVldWUodGhpcy5fbm9ybWFsUXVldWUpO1xuICAgIHRoaXMuX3Jlc2V0KCk7XG4gICAgdGhpcy5faGF2ZURyYWluZWRRdWV1ZXMgPSB0cnVlO1xuICAgIHRoaXMuX2RyYWluUXVldWUodGhpcy5fbGF0ZVF1ZXVlKTtcbn07XG5cbkFzeW5jLnByb3RvdHlwZS5fcXVldWVUaWNrID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy5faXNUaWNrVXNlZCkge1xuICAgICAgICB0aGlzLl9pc1RpY2tVc2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fc2NoZWR1bGUodGhpcy5kcmFpblF1ZXVlcyk7XG4gICAgfVxufTtcblxuQXN5bmMucHJvdG90eXBlLl9yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9pc1RpY2tVc2VkID0gZmFsc2U7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFzeW5jO1xubW9kdWxlLmV4cG9ydHMuZmlyc3RMaW5lRXJyb3IgPSBmaXJzdExpbmVFcnJvcjtcblxufSx7XCIuL3F1ZXVlXCI6MjYsXCIuL3NjaGVkdWxlXCI6MjksXCIuL3V0aWxcIjozNn1dLDM6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsIElOVEVSTkFMLCB0cnlDb252ZXJ0VG9Qcm9taXNlLCBkZWJ1Zykge1xudmFyIGNhbGxlZEJpbmQgPSBmYWxzZTtcbnZhciByZWplY3RUaGlzID0gZnVuY3Rpb24oXywgZSkge1xuICAgIHRoaXMuX3JlamVjdChlKTtcbn07XG5cbnZhciB0YXJnZXRSZWplY3RlZCA9IGZ1bmN0aW9uKGUsIGNvbnRleHQpIHtcbiAgICBjb250ZXh0LnByb21pc2VSZWplY3Rpb25RdWV1ZWQgPSB0cnVlO1xuICAgIGNvbnRleHQuYmluZGluZ1Byb21pc2UuX3RoZW4ocmVqZWN0VGhpcywgcmVqZWN0VGhpcywgbnVsbCwgdGhpcywgZSk7XG59O1xuXG52YXIgYmluZGluZ1Jlc29sdmVkID0gZnVuY3Rpb24odGhpc0FyZywgY29udGV4dCkge1xuICAgIGlmICgoKHRoaXMuX2JpdEZpZWxkICYgNTAzOTcxODQpID09PSAwKSkge1xuICAgICAgICB0aGlzLl9yZXNvbHZlQ2FsbGJhY2soY29udGV4dC50YXJnZXQpO1xuICAgIH1cbn07XG5cbnZhciBiaW5kaW5nUmVqZWN0ZWQgPSBmdW5jdGlvbihlLCBjb250ZXh0KSB7XG4gICAgaWYgKCFjb250ZXh0LnByb21pc2VSZWplY3Rpb25RdWV1ZWQpIHRoaXMuX3JlamVjdChlKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAodGhpc0FyZykge1xuICAgIGlmICghY2FsbGVkQmluZCkge1xuICAgICAgICBjYWxsZWRCaW5kID0gdHJ1ZTtcbiAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX3Byb3BhZ2F0ZUZyb20gPSBkZWJ1Zy5wcm9wYWdhdGVGcm9tRnVuY3Rpb24oKTtcbiAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX2JvdW5kVmFsdWUgPSBkZWJ1Zy5ib3VuZFZhbHVlRnVuY3Rpb24oKTtcbiAgICB9XG4gICAgdmFyIG1heWJlUHJvbWlzZSA9IHRyeUNvbnZlcnRUb1Byb21pc2UodGhpc0FyZyk7XG4gICAgdmFyIHJldCA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcbiAgICByZXQuX3Byb3BhZ2F0ZUZyb20odGhpcywgMSk7XG4gICAgdmFyIHRhcmdldCA9IHRoaXMuX3RhcmdldCgpO1xuICAgIHJldC5fc2V0Qm91bmRUbyhtYXliZVByb21pc2UpO1xuICAgIGlmIChtYXliZVByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0ge1xuICAgICAgICAgICAgcHJvbWlzZVJlamVjdGlvblF1ZXVlZDogZmFsc2UsXG4gICAgICAgICAgICBwcm9taXNlOiByZXQsXG4gICAgICAgICAgICB0YXJnZXQ6IHRhcmdldCxcbiAgICAgICAgICAgIGJpbmRpbmdQcm9taXNlOiBtYXliZVByb21pc2VcbiAgICAgICAgfTtcbiAgICAgICAgdGFyZ2V0Ll90aGVuKElOVEVSTkFMLCB0YXJnZXRSZWplY3RlZCwgdW5kZWZpbmVkLCByZXQsIGNvbnRleHQpO1xuICAgICAgICBtYXliZVByb21pc2UuX3RoZW4oXG4gICAgICAgICAgICBiaW5kaW5nUmVzb2x2ZWQsIGJpbmRpbmdSZWplY3RlZCwgdW5kZWZpbmVkLCByZXQsIGNvbnRleHQpO1xuICAgICAgICByZXQuX3NldE9uQ2FuY2VsKG1heWJlUHJvbWlzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0Ll9yZXNvbHZlQ2FsbGJhY2sodGFyZ2V0KTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9zZXRCb3VuZFRvID0gZnVuY3Rpb24gKG9iaikge1xuICAgIGlmIChvYmogIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkIHwgMjA5NzE1MjtcbiAgICAgICAgdGhpcy5fYm91bmRUbyA9IG9iajtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkICYgKH4yMDk3MTUyKTtcbiAgICB9XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5faXNCb3VuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgMjA5NzE1MikgPT09IDIwOTcxNTI7XG59O1xuXG5Qcm9taXNlLmJpbmQgPSBmdW5jdGlvbiAodGhpc0FyZywgdmFsdWUpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS5iaW5kKHRoaXNBcmcpO1xufTtcbn07XG5cbn0se31dLDQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgb2xkO1xuaWYgKHR5cGVvZiBQcm9taXNlICE9PSBcInVuZGVmaW5lZFwiKSBvbGQgPSBQcm9taXNlO1xuZnVuY3Rpb24gbm9Db25mbGljdCgpIHtcbiAgICB0cnkgeyBpZiAoUHJvbWlzZSA9PT0gYmx1ZWJpcmQpIFByb21pc2UgPSBvbGQ7IH1cbiAgICBjYXRjaCAoZSkge31cbiAgICByZXR1cm4gYmx1ZWJpcmQ7XG59XG52YXIgYmx1ZWJpcmQgPSBfZGVyZXFfKFwiLi9wcm9taXNlXCIpKCk7XG5ibHVlYmlyZC5ub0NvbmZsaWN0ID0gbm9Db25mbGljdDtcbm1vZHVsZS5leHBvcnRzID0gYmx1ZWJpcmQ7XG5cbn0se1wiLi9wcm9taXNlXCI6MjJ9XSw1OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xudmFyIGNyID0gT2JqZWN0LmNyZWF0ZTtcbmlmIChjcikge1xuICAgIHZhciBjYWxsZXJDYWNoZSA9IGNyKG51bGwpO1xuICAgIHZhciBnZXR0ZXJDYWNoZSA9IGNyKG51bGwpO1xuICAgIGNhbGxlckNhY2hlW1wiIHNpemVcIl0gPSBnZXR0ZXJDYWNoZVtcIiBzaXplXCJdID0gMDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlKSB7XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG52YXIgY2FuRXZhbHVhdGUgPSB1dGlsLmNhbkV2YWx1YXRlO1xudmFyIGlzSWRlbnRpZmllciA9IHV0aWwuaXNJZGVudGlmaWVyO1xuXG52YXIgZ2V0TWV0aG9kQ2FsbGVyO1xudmFyIGdldEdldHRlcjtcbmlmICghdHJ1ZSkge1xudmFyIG1ha2VNZXRob2RDYWxsZXIgPSBmdW5jdGlvbiAobWV0aG9kTmFtZSkge1xuICAgIHJldHVybiBuZXcgRnVuY3Rpb24oXCJlbnN1cmVNZXRob2RcIiwgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgJ3VzZSBzdHJpY3QnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgZW5zdXJlTWV0aG9kKG9iaiwgJ21ldGhvZE5hbWUnKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgc3dpdGNoKGxlbikgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIG9iai5tZXRob2ROYW1lKHRoaXNbMF0pOyAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIG9iai5tZXRob2ROYW1lKHRoaXNbMF0sIHRoaXNbMV0pOyAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIG9iai5tZXRob2ROYW1lKHRoaXNbMF0sIHRoaXNbMV0sIHRoaXNbMl0pOyAgICBcXG5cXFxuICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIG9iai5tZXRob2ROYW1lKCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqLm1ldGhvZE5hbWUuYXBwbHkob2JqLCB0aGlzKTsgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICB9OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICBcIi5yZXBsYWNlKC9tZXRob2ROYW1lL2csIG1ldGhvZE5hbWUpKShlbnN1cmVNZXRob2QpO1xufTtcblxudmFyIG1ha2VHZXR0ZXIgPSBmdW5jdGlvbiAocHJvcGVydHlOYW1lKSB7XG4gICAgcmV0dXJuIG5ldyBGdW5jdGlvbihcIm9ialwiLCBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICd1c2Ugc3RyaWN0JzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgIHJldHVybiBvYmoucHJvcGVydHlOYW1lOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgIFwiLnJlcGxhY2UoXCJwcm9wZXJ0eU5hbWVcIiwgcHJvcGVydHlOYW1lKSk7XG59O1xuXG52YXIgZ2V0Q29tcGlsZWQgPSBmdW5jdGlvbihuYW1lLCBjb21waWxlciwgY2FjaGUpIHtcbiAgICB2YXIgcmV0ID0gY2FjaGVbbmFtZV07XG4gICAgaWYgKHR5cGVvZiByZXQgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBpZiAoIWlzSWRlbnRpZmllcihuYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0ID0gY29tcGlsZXIobmFtZSk7XG4gICAgICAgIGNhY2hlW25hbWVdID0gcmV0O1xuICAgICAgICBjYWNoZVtcIiBzaXplXCJdKys7XG4gICAgICAgIGlmIChjYWNoZVtcIiBzaXplXCJdID4gNTEyKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGNhY2hlKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIGRlbGV0ZSBjYWNoZVtrZXlzW2ldXTtcbiAgICAgICAgICAgIGNhY2hlW1wiIHNpemVcIl0gPSBrZXlzLmxlbmd0aCAtIDI1NjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufTtcblxuZ2V0TWV0aG9kQ2FsbGVyID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiBnZXRDb21waWxlZChuYW1lLCBtYWtlTWV0aG9kQ2FsbGVyLCBjYWxsZXJDYWNoZSk7XG59O1xuXG5nZXRHZXR0ZXIgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgcmV0dXJuIGdldENvbXBpbGVkKG5hbWUsIG1ha2VHZXR0ZXIsIGdldHRlckNhY2hlKTtcbn07XG59XG5cbmZ1bmN0aW9uIGVuc3VyZU1ldGhvZChvYmosIG1ldGhvZE5hbWUpIHtcbiAgICB2YXIgZm47XG4gICAgaWYgKG9iaiAhPSBudWxsKSBmbiA9IG9ialttZXRob2ROYW1lXTtcbiAgICBpZiAodHlwZW9mIGZuICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBcIk9iamVjdCBcIiArIHV0aWwuY2xhc3NTdHJpbmcob2JqKSArIFwiIGhhcyBubyBtZXRob2QgJ1wiICtcbiAgICAgICAgICAgIHV0aWwudG9TdHJpbmcobWV0aG9kTmFtZSkgKyBcIidcIjtcbiAgICAgICAgdGhyb3cgbmV3IFByb21pc2UuVHlwZUVycm9yKG1lc3NhZ2UpO1xuICAgIH1cbiAgICByZXR1cm4gZm47XG59XG5cbmZ1bmN0aW9uIGNhbGxlcihvYmopIHtcbiAgICB2YXIgbWV0aG9kTmFtZSA9IHRoaXMucG9wKCk7XG4gICAgdmFyIGZuID0gZW5zdXJlTWV0aG9kKG9iaiwgbWV0aG9kTmFtZSk7XG4gICAgcmV0dXJuIGZuLmFwcGx5KG9iaiwgdGhpcyk7XG59XG5Qcm9taXNlLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKG1ldGhvZE5hbWUpIHtcbiAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTs7XG4gICAgaWYgKCF0cnVlKSB7XG4gICAgICAgIGlmIChjYW5FdmFsdWF0ZSkge1xuICAgICAgICAgICAgdmFyIG1heWJlQ2FsbGVyID0gZ2V0TWV0aG9kQ2FsbGVyKG1ldGhvZE5hbWUpO1xuICAgICAgICAgICAgaWYgKG1heWJlQ2FsbGVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RoZW4oXG4gICAgICAgICAgICAgICAgICAgIG1heWJlQ2FsbGVyLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJncywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhcmdzLnB1c2gobWV0aG9kTmFtZSk7XG4gICAgcmV0dXJuIHRoaXMuX3RoZW4oY2FsbGVyLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJncywgdW5kZWZpbmVkKTtcbn07XG5cbmZ1bmN0aW9uIG5hbWVkR2V0dGVyKG9iaikge1xuICAgIHJldHVybiBvYmpbdGhpc107XG59XG5mdW5jdGlvbiBpbmRleGVkR2V0dGVyKG9iaikge1xuICAgIHZhciBpbmRleCA9ICt0aGlzO1xuICAgIGlmIChpbmRleCA8IDApIGluZGV4ID0gTWF0aC5tYXgoMCwgaW5kZXggKyBvYmoubGVuZ3RoKTtcbiAgICByZXR1cm4gb2JqW2luZGV4XTtcbn1cblByb21pc2UucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChwcm9wZXJ0eU5hbWUpIHtcbiAgICB2YXIgaXNJbmRleCA9ICh0eXBlb2YgcHJvcGVydHlOYW1lID09PSBcIm51bWJlclwiKTtcbiAgICB2YXIgZ2V0dGVyO1xuICAgIGlmICghaXNJbmRleCkge1xuICAgICAgICBpZiAoY2FuRXZhbHVhdGUpIHtcbiAgICAgICAgICAgIHZhciBtYXliZUdldHRlciA9IGdldEdldHRlcihwcm9wZXJ0eU5hbWUpO1xuICAgICAgICAgICAgZ2V0dGVyID0gbWF5YmVHZXR0ZXIgIT09IG51bGwgPyBtYXliZUdldHRlciA6IG5hbWVkR2V0dGVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2V0dGVyID0gbmFtZWRHZXR0ZXI7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBnZXR0ZXIgPSBpbmRleGVkR2V0dGVyO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fdGhlbihnZXR0ZXIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBwcm9wZXJ0eU5hbWUsIHVuZGVmaW5lZCk7XG59O1xufTtcblxufSx7XCIuL3V0aWxcIjozNn1dLDY6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsIFByb21pc2VBcnJheSwgYXBpUmVqZWN0aW9uLCBkZWJ1Zykge1xudmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xudmFyIHRyeUNhdGNoID0gdXRpbC50cnlDYXRjaDtcbnZhciBlcnJvck9iaiA9IHV0aWwuZXJyb3JPYmo7XG52YXIgYXN5bmMgPSBQcm9taXNlLl9hc3luYztcblxuUHJvbWlzZS5wcm90b3R5cGVbXCJicmVha1wiXSA9IFByb21pc2UucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghZGVidWcuY2FuY2VsbGF0aW9uKCkpIHJldHVybiB0aGlzLl93YXJuKFwiY2FuY2VsbGF0aW9uIGlzIGRpc2FibGVkXCIpO1xuXG4gICAgdmFyIHByb21pc2UgPSB0aGlzO1xuICAgIHZhciBjaGlsZCA9IHByb21pc2U7XG4gICAgd2hpbGUgKHByb21pc2UuX2lzQ2FuY2VsbGFibGUoKSkge1xuICAgICAgICBpZiAoIXByb21pc2UuX2NhbmNlbEJ5KGNoaWxkKSkge1xuICAgICAgICAgICAgaWYgKGNoaWxkLl9pc0ZvbGxvd2luZygpKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQuX2ZvbGxvd2VlKCkuY2FuY2VsKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNoaWxkLl9jYW5jZWxCcmFuY2hlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcGFyZW50ID0gcHJvbWlzZS5fY2FuY2VsbGF0aW9uUGFyZW50O1xuICAgICAgICBpZiAocGFyZW50ID09IG51bGwgfHwgIXBhcmVudC5faXNDYW5jZWxsYWJsZSgpKSB7XG4gICAgICAgICAgICBpZiAocHJvbWlzZS5faXNGb2xsb3dpbmcoKSkge1xuICAgICAgICAgICAgICAgIHByb21pc2UuX2ZvbGxvd2VlKCkuY2FuY2VsKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHByb21pc2UuX2NhbmNlbEJyYW5jaGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChwcm9taXNlLl9pc0ZvbGxvd2luZygpKSBwcm9taXNlLl9mb2xsb3dlZSgpLmNhbmNlbCgpO1xuICAgICAgICAgICAgcHJvbWlzZS5fc2V0V2lsbEJlQ2FuY2VsbGVkKCk7XG4gICAgICAgICAgICBjaGlsZCA9IHByb21pc2U7XG4gICAgICAgICAgICBwcm9taXNlID0gcGFyZW50O1xuICAgICAgICB9XG4gICAgfVxufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2JyYW5jaEhhc0NhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2JyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWwtLTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9lbm91Z2hCcmFuY2hlc0hhdmVDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fYnJhbmNoZXNSZW1haW5pbmdUb0NhbmNlbCA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgIHRoaXMuX2JyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWwgPD0gMDtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9jYW5jZWxCeSA9IGZ1bmN0aW9uKGNhbmNlbGxlcikge1xuICAgIGlmIChjYW5jZWxsZXIgPT09IHRoaXMpIHtcbiAgICAgICAgdGhpcy5fYnJhbmNoZXNSZW1haW5pbmdUb0NhbmNlbCA9IDA7XG4gICAgICAgIHRoaXMuX2ludm9rZU9uQ2FuY2VsKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2JyYW5jaEhhc0NhbmNlbGxlZCgpO1xuICAgICAgICBpZiAodGhpcy5fZW5vdWdoQnJhbmNoZXNIYXZlQ2FuY2VsbGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2ludm9rZU9uQ2FuY2VsKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fY2FuY2VsQnJhbmNoZWQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5fZW5vdWdoQnJhbmNoZXNIYXZlQ2FuY2VsbGVkKCkpIHtcbiAgICAgICAgdGhpcy5fY2FuY2VsKCk7XG4gICAgfVxufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2NhbmNlbCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghdGhpcy5faXNDYW5jZWxsYWJsZSgpKSByZXR1cm47XG4gICAgdGhpcy5fc2V0Q2FuY2VsbGVkKCk7XG4gICAgYXN5bmMuaW52b2tlKHRoaXMuX2NhbmNlbFByb21pc2VzLCB0aGlzLCB1bmRlZmluZWQpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2NhbmNlbFByb21pc2VzID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX2xlbmd0aCgpID4gMCkgdGhpcy5fc2V0dGxlUHJvbWlzZXMoKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl91bnNldE9uQ2FuY2VsID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fb25DYW5jZWxGaWVsZCA9IHVuZGVmaW5lZDtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9pc0NhbmNlbGxhYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNQZW5kaW5nKCkgJiYgIXRoaXMuX2lzQ2FuY2VsbGVkKCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5pc0NhbmNlbGxhYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNQZW5kaW5nKCkgJiYgIXRoaXMuaXNDYW5jZWxsZWQoKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9kb0ludm9rZU9uQ2FuY2VsID0gZnVuY3Rpb24ob25DYW5jZWxDYWxsYmFjaywgaW50ZXJuYWxPbmx5KSB7XG4gICAgaWYgKHV0aWwuaXNBcnJheShvbkNhbmNlbENhbGxiYWNrKSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9uQ2FuY2VsQ2FsbGJhY2subGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXMuX2RvSW52b2tlT25DYW5jZWwob25DYW5jZWxDYWxsYmFja1tpXSwgaW50ZXJuYWxPbmx5KTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAob25DYW5jZWxDYWxsYmFjayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb25DYW5jZWxDYWxsYmFjayA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBpZiAoIWludGVybmFsT25seSkge1xuICAgICAgICAgICAgICAgIHZhciBlID0gdHJ5Q2F0Y2gob25DYW5jZWxDYWxsYmFjaykuY2FsbCh0aGlzLl9ib3VuZFZhbHVlKCkpO1xuICAgICAgICAgICAgICAgIGlmIChlID09PSBlcnJvck9iaikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdHRhY2hFeHRyYVRyYWNlKGUuZSk7XG4gICAgICAgICAgICAgICAgICAgIGFzeW5jLnRocm93TGF0ZXIoZS5lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvbkNhbmNlbENhbGxiYWNrLl9yZXN1bHRDYW5jZWxsZWQodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5faW52b2tlT25DYW5jZWwgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgb25DYW5jZWxDYWxsYmFjayA9IHRoaXMuX29uQ2FuY2VsKCk7XG4gICAgdGhpcy5fdW5zZXRPbkNhbmNlbCgpO1xuICAgIGFzeW5jLmludm9rZSh0aGlzLl9kb0ludm9rZU9uQ2FuY2VsLCB0aGlzLCBvbkNhbmNlbENhbGxiYWNrKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9pbnZva2VJbnRlcm5hbE9uQ2FuY2VsID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX2lzQ2FuY2VsbGFibGUoKSkge1xuICAgICAgICB0aGlzLl9kb0ludm9rZU9uQ2FuY2VsKHRoaXMuX29uQ2FuY2VsKCksIHRydWUpO1xuICAgICAgICB0aGlzLl91bnNldE9uQ2FuY2VsKCk7XG4gICAgfVxufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuY2FuY2VsKCk7XG59O1xuXG59O1xuXG59LHtcIi4vdXRpbFwiOjM2fV0sNzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oTkVYVF9GSUxURVIpIHtcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbnZhciBnZXRLZXlzID0gX2RlcmVxXyhcIi4vZXM1XCIpLmtleXM7XG52YXIgdHJ5Q2F0Y2ggPSB1dGlsLnRyeUNhdGNoO1xudmFyIGVycm9yT2JqID0gdXRpbC5lcnJvck9iajtcblxuZnVuY3Rpb24gY2F0Y2hGaWx0ZXIoaW5zdGFuY2VzLCBjYiwgcHJvbWlzZSkge1xuICAgIHJldHVybiBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBib3VuZFRvID0gcHJvbWlzZS5fYm91bmRWYWx1ZSgpO1xuICAgICAgICBwcmVkaWNhdGVMb29wOiBmb3IgKHZhciBpID0gMDsgaSA8IGluc3RhbmNlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSBpbnN0YW5jZXNbaV07XG5cbiAgICAgICAgICAgIGlmIChpdGVtID09PSBFcnJvciB8fFxuICAgICAgICAgICAgICAgIChpdGVtICE9IG51bGwgJiYgaXRlbS5wcm90b3R5cGUgaW5zdGFuY2VvZiBFcnJvcikpIHtcbiAgICAgICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRyeUNhdGNoKGNiKS5jYWxsKGJvdW5kVG8sIGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGl0ZW0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHZhciBtYXRjaGVzUHJlZGljYXRlID0gdHJ5Q2F0Y2goaXRlbSkuY2FsbChib3VuZFRvLCBlKTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hlc1ByZWRpY2F0ZSA9PT0gZXJyb3JPYmopIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXNQcmVkaWNhdGU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtYXRjaGVzUHJlZGljYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnlDYXRjaChjYikuY2FsbChib3VuZFRvLCBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHV0aWwuaXNPYmplY3QoZSkpIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5cyA9IGdldEtleXMoaXRlbSk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBrZXlzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2pdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbVtrZXldICE9IGVba2V5XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgcHJlZGljYXRlTG9vcDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ5Q2F0Y2goY2IpLmNhbGwoYm91bmRUbywgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE5FWFRfRklMVEVSO1xuICAgIH07XG59XG5cbnJldHVybiBjYXRjaEZpbHRlcjtcbn07XG5cbn0se1wiLi9lczVcIjoxMyxcIi4vdXRpbFwiOjM2fV0sODpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oUHJvbWlzZSkge1xudmFyIGxvbmdTdGFja1RyYWNlcyA9IGZhbHNlO1xudmFyIGNvbnRleHRTdGFjayA9IFtdO1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fcHJvbWlzZUNyZWF0ZWQgPSBmdW5jdGlvbigpIHt9O1xuUHJvbWlzZS5wcm90b3R5cGUuX3B1c2hDb250ZXh0ID0gZnVuY3Rpb24oKSB7fTtcblByb21pc2UucHJvdG90eXBlLl9wb3BDb250ZXh0ID0gZnVuY3Rpb24oKSB7cmV0dXJuIG51bGw7fTtcblByb21pc2UuX3BlZWtDb250ZXh0ID0gUHJvbWlzZS5wcm90b3R5cGUuX3BlZWtDb250ZXh0ID0gZnVuY3Rpb24oKSB7fTtcblxuZnVuY3Rpb24gQ29udGV4dCgpIHtcbiAgICB0aGlzLl90cmFjZSA9IG5ldyBDb250ZXh0LkNhcHR1cmVkVHJhY2UocGVla0NvbnRleHQoKSk7XG59XG5Db250ZXh0LnByb3RvdHlwZS5fcHVzaENvbnRleHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuX3RyYWNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5fdHJhY2UuX3Byb21pc2VDcmVhdGVkID0gbnVsbDtcbiAgICAgICAgY29udGV4dFN0YWNrLnB1c2godGhpcy5fdHJhY2UpO1xuICAgIH1cbn07XG5cbkNvbnRleHQucHJvdG90eXBlLl9wb3BDb250ZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLl90cmFjZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciB0cmFjZSA9IGNvbnRleHRTdGFjay5wb3AoKTtcbiAgICAgICAgdmFyIHJldCA9IHRyYWNlLl9wcm9taXNlQ3JlYXRlZDtcbiAgICAgICAgdHJhY2UuX3Byb21pc2VDcmVhdGVkID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59O1xuXG5mdW5jdGlvbiBjcmVhdGVDb250ZXh0KCkge1xuICAgIGlmIChsb25nU3RhY2tUcmFjZXMpIHJldHVybiBuZXcgQ29udGV4dCgpO1xufVxuXG5mdW5jdGlvbiBwZWVrQ29udGV4dCgpIHtcbiAgICB2YXIgbGFzdEluZGV4ID0gY29udGV4dFN0YWNrLmxlbmd0aCAtIDE7XG4gICAgaWYgKGxhc3RJbmRleCA+PSAwKSB7XG4gICAgICAgIHJldHVybiBjb250ZXh0U3RhY2tbbGFzdEluZGV4XTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbkNvbnRleHQuQ2FwdHVyZWRUcmFjZSA9IG51bGw7XG5Db250ZXh0LmNyZWF0ZSA9IGNyZWF0ZUNvbnRleHQ7XG5Db250ZXh0LmRlYWN0aXZhdGVMb25nU3RhY2tUcmFjZXMgPSBmdW5jdGlvbigpIHt9O1xuQ29udGV4dC5hY3RpdmF0ZUxvbmdTdGFja1RyYWNlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBQcm9taXNlX3B1c2hDb250ZXh0ID0gUHJvbWlzZS5wcm90b3R5cGUuX3B1c2hDb250ZXh0O1xuICAgIHZhciBQcm9taXNlX3BvcENvbnRleHQgPSBQcm9taXNlLnByb3RvdHlwZS5fcG9wQ29udGV4dDtcbiAgICB2YXIgUHJvbWlzZV9QZWVrQ29udGV4dCA9IFByb21pc2UuX3BlZWtDb250ZXh0O1xuICAgIHZhciBQcm9taXNlX3BlZWtDb250ZXh0ID0gUHJvbWlzZS5wcm90b3R5cGUuX3BlZWtDb250ZXh0O1xuICAgIHZhciBQcm9taXNlX3Byb21pc2VDcmVhdGVkID0gUHJvbWlzZS5wcm90b3R5cGUuX3Byb21pc2VDcmVhdGVkO1xuICAgIENvbnRleHQuZGVhY3RpdmF0ZUxvbmdTdGFja1RyYWNlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fcHVzaENvbnRleHQgPSBQcm9taXNlX3B1c2hDb250ZXh0O1xuICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fcG9wQ29udGV4dCA9IFByb21pc2VfcG9wQ29udGV4dDtcbiAgICAgICAgUHJvbWlzZS5fcGVla0NvbnRleHQgPSBQcm9taXNlX1BlZWtDb250ZXh0O1xuICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fcGVla0NvbnRleHQgPSBQcm9taXNlX3BlZWtDb250ZXh0O1xuICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fcHJvbWlzZUNyZWF0ZWQgPSBQcm9taXNlX3Byb21pc2VDcmVhdGVkO1xuICAgICAgICBsb25nU3RhY2tUcmFjZXMgPSBmYWxzZTtcbiAgICB9O1xuICAgIGxvbmdTdGFja1RyYWNlcyA9IHRydWU7XG4gICAgUHJvbWlzZS5wcm90b3R5cGUuX3B1c2hDb250ZXh0ID0gQ29udGV4dC5wcm90b3R5cGUuX3B1c2hDb250ZXh0O1xuICAgIFByb21pc2UucHJvdG90eXBlLl9wb3BDb250ZXh0ID0gQ29udGV4dC5wcm90b3R5cGUuX3BvcENvbnRleHQ7XG4gICAgUHJvbWlzZS5fcGVla0NvbnRleHQgPSBQcm9taXNlLnByb3RvdHlwZS5fcGVla0NvbnRleHQgPSBwZWVrQ29udGV4dDtcbiAgICBQcm9taXNlLnByb3RvdHlwZS5fcHJvbWlzZUNyZWF0ZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGN0eCA9IHRoaXMuX3BlZWtDb250ZXh0KCk7XG4gICAgICAgIGlmIChjdHggJiYgY3R4Ll9wcm9taXNlQ3JlYXRlZCA9PSBudWxsKSBjdHguX3Byb21pc2VDcmVhdGVkID0gdGhpcztcbiAgICB9O1xufTtcbnJldHVybiBDb250ZXh0O1xufTtcblxufSx7fV0sOTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oUHJvbWlzZSwgQ29udGV4dCkge1xudmFyIGdldERvbWFpbiA9IFByb21pc2UuX2dldERvbWFpbjtcbnZhciBhc3luYyA9IFByb21pc2UuX2FzeW5jO1xudmFyIFdhcm5pbmcgPSBfZGVyZXFfKFwiLi9lcnJvcnNcIikuV2FybmluZztcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbnZhciBjYW5BdHRhY2hUcmFjZSA9IHV0aWwuY2FuQXR0YWNoVHJhY2U7XG52YXIgdW5oYW5kbGVkUmVqZWN0aW9uSGFuZGxlZDtcbnZhciBwb3NzaWJseVVuaGFuZGxlZFJlamVjdGlvbjtcbnZhciBibHVlYmlyZEZyYW1lUGF0dGVybiA9XG4gICAgL1tcXFxcXFwvXWJsdWViaXJkW1xcXFxcXC9danNbXFxcXFxcL10ocmVsZWFzZXxkZWJ1Z3xpbnN0cnVtZW50ZWQpLztcbnZhciBub2RlRnJhbWVQYXR0ZXJuID0gL1xcKCg/OnRpbWVyc1xcLmpzKTpcXGQrOlxcZCtcXCkvO1xudmFyIHBhcnNlTGluZVBhdHRlcm4gPSAvW1xcLzxcXChdKC4rPyk6KFxcZCspOihcXGQrKVxcKT9cXHMqJC87XG52YXIgc3RhY2tGcmFtZVBhdHRlcm4gPSBudWxsO1xudmFyIGZvcm1hdFN0YWNrID0gbnVsbDtcbnZhciBpbmRlbnRTdGFja0ZyYW1lcyA9IGZhbHNlO1xudmFyIHByaW50V2FybmluZztcbnZhciBkZWJ1Z2dpbmcgPSAhISh1dGlsLmVudihcIkJMVUVCSVJEX0RFQlVHXCIpICE9IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICh0cnVlIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgdXRpbC5lbnYoXCJCTFVFQklSRF9ERUJVR1wiKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWwuZW52KFwiTk9ERV9FTlZcIikgPT09IFwiZGV2ZWxvcG1lbnRcIikpO1xuXG52YXIgd2FybmluZ3MgPSAhISh1dGlsLmVudihcIkJMVUVCSVJEX1dBUk5JTkdTXCIpICE9IDAgJiZcbiAgICAoZGVidWdnaW5nIHx8IHV0aWwuZW52KFwiQkxVRUJJUkRfV0FSTklOR1NcIikpKTtcblxudmFyIGxvbmdTdGFja1RyYWNlcyA9ICEhKHV0aWwuZW52KFwiQkxVRUJJUkRfTE9OR19TVEFDS19UUkFDRVNcIikgIT0gMCAmJlxuICAgIChkZWJ1Z2dpbmcgfHwgdXRpbC5lbnYoXCJCTFVFQklSRF9MT05HX1NUQUNLX1RSQUNFU1wiKSkpO1xuXG52YXIgd0ZvcmdvdHRlblJldHVybiA9IHV0aWwuZW52KFwiQkxVRUJJUkRfV19GT1JHT1RURU5fUkVUVVJOXCIpICE9IDAgJiZcbiAgICAod2FybmluZ3MgfHwgISF1dGlsLmVudihcIkJMVUVCSVJEX1dfRk9SR09UVEVOX1JFVFVSTlwiKSk7XG5cblByb21pc2UucHJvdG90eXBlLnN1cHByZXNzVW5oYW5kbGVkUmVqZWN0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0YXJnZXQgPSB0aGlzLl90YXJnZXQoKTtcbiAgICB0YXJnZXQuX2JpdEZpZWxkID0gKCh0YXJnZXQuX2JpdEZpZWxkICYgKH4xMDQ4NTc2KSkgfFxuICAgICAgICAgICAgICAgICAgICAgIDUyNDI4OCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fZW5zdXJlUG9zc2libGVSZWplY3Rpb25IYW5kbGVkID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICgodGhpcy5fYml0RmllbGQgJiA1MjQyODgpICE9PSAwKSByZXR1cm47XG4gICAgdGhpcy5fc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQoKTtcbiAgICBhc3luYy5pbnZva2VMYXRlcih0aGlzLl9ub3RpZnlVbmhhbmRsZWRSZWplY3Rpb24sIHRoaXMsIHVuZGVmaW5lZCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fbm90aWZ5VW5oYW5kbGVkUmVqZWN0aW9uSXNIYW5kbGVkID0gZnVuY3Rpb24gKCkge1xuICAgIGZpcmVSZWplY3Rpb25FdmVudChcInJlamVjdGlvbkhhbmRsZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmhhbmRsZWRSZWplY3Rpb25IYW5kbGVkLCB1bmRlZmluZWQsIHRoaXMpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3NldFJldHVybmVkTm9uVW5kZWZpbmVkID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCB8IDI2ODQzNTQ1Njtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9yZXR1cm5lZE5vblVuZGVmaW5lZCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAodGhpcy5fYml0RmllbGQgJiAyNjg0MzU0NTYpICE9PSAwO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX25vdGlmeVVuaGFuZGxlZFJlamVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5faXNSZWplY3Rpb25VbmhhbmRsZWQoKSkge1xuICAgICAgICB2YXIgcmVhc29uID0gdGhpcy5fc2V0dGxlZFZhbHVlKCk7XG4gICAgICAgIHRoaXMuX3NldFVuaGFuZGxlZFJlamVjdGlvbklzTm90aWZpZWQoKTtcbiAgICAgICAgZmlyZVJlamVjdGlvbkV2ZW50KFwidW5oYW5kbGVkUmVqZWN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmx5VW5oYW5kbGVkUmVqZWN0aW9uLCByZWFzb24sIHRoaXMpO1xuICAgIH1cbn07XG5cblByb21pc2UucHJvdG90eXBlLl9zZXRVbmhhbmRsZWRSZWplY3Rpb25Jc05vdGlmaWVkID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgfCAyNjIxNDQ7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fdW5zZXRVbmhhbmRsZWRSZWplY3Rpb25Jc05vdGlmaWVkID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgJiAofjI2MjE0NCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5faXNVbmhhbmRsZWRSZWplY3Rpb25Ob3RpZmllZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgMjYyMTQ0KSA+IDA7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCB8IDEwNDg1NzY7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fdW5zZXRSZWplY3Rpb25Jc1VuaGFuZGxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkICYgKH4xMDQ4NTc2KTtcbiAgICBpZiAodGhpcy5faXNVbmhhbmRsZWRSZWplY3Rpb25Ob3RpZmllZCgpKSB7XG4gICAgICAgIHRoaXMuX3Vuc2V0VW5oYW5kbGVkUmVqZWN0aW9uSXNOb3RpZmllZCgpO1xuICAgICAgICB0aGlzLl9ub3RpZnlVbmhhbmRsZWRSZWplY3Rpb25Jc0hhbmRsZWQoKTtcbiAgICB9XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5faXNSZWplY3Rpb25VbmhhbmRsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICh0aGlzLl9iaXRGaWVsZCAmIDEwNDg1NzYpID4gMDtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl93YXJuID0gZnVuY3Rpb24obWVzc2FnZSwgc2hvdWxkVXNlT3duVHJhY2UsIHByb21pc2UpIHtcbiAgICByZXR1cm4gd2FybihtZXNzYWdlLCBzaG91bGRVc2VPd25UcmFjZSwgcHJvbWlzZSB8fCB0aGlzKTtcbn07XG5cblByb21pc2Uub25Qb3NzaWJseVVuaGFuZGxlZFJlamVjdGlvbiA9IGZ1bmN0aW9uIChmbikge1xuICAgIHZhciBkb21haW4gPSBnZXREb21haW4oKTtcbiAgICBwb3NzaWJseVVuaGFuZGxlZFJlamVjdGlvbiA9XG4gICAgICAgIHR5cGVvZiBmbiA9PT0gXCJmdW5jdGlvblwiID8gKGRvbWFpbiA9PT0gbnVsbCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZuIDogdXRpbC5kb21haW5CaW5kKGRvbWFpbiwgZm4pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG59O1xuXG5Qcm9taXNlLm9uVW5oYW5kbGVkUmVqZWN0aW9uSGFuZGxlZCA9IGZ1bmN0aW9uIChmbikge1xuICAgIHZhciBkb21haW4gPSBnZXREb21haW4oKTtcbiAgICB1bmhhbmRsZWRSZWplY3Rpb25IYW5kbGVkID1cbiAgICAgICAgdHlwZW9mIGZuID09PSBcImZ1bmN0aW9uXCIgPyAoZG9tYWluID09PSBudWxsID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm4gOiB1dGlsLmRvbWFpbkJpbmQoZG9tYWluLCBmbikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbn07XG5cbnZhciBkaXNhYmxlTG9uZ1N0YWNrVHJhY2VzID0gZnVuY3Rpb24oKSB7fTtcblByb21pc2UubG9uZ1N0YWNrVHJhY2VzID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChhc3luYy5oYXZlSXRlbXNRdWV1ZWQoKSAmJiAhY29uZmlnLmxvbmdTdGFja1RyYWNlcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjYW5ub3QgZW5hYmxlIGxvbmcgc3RhY2sgdHJhY2VzIGFmdGVyIHByb21pc2VzIGhhdmUgYmVlbiBjcmVhdGVkXFx1MDAwYVxcdTAwMGEgICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFx1MDAwYVwiKTtcbiAgICB9XG4gICAgaWYgKCFjb25maWcubG9uZ1N0YWNrVHJhY2VzICYmIGxvbmdTdGFja1RyYWNlc0lzU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgdmFyIFByb21pc2VfY2FwdHVyZVN0YWNrVHJhY2UgPSBQcm9taXNlLnByb3RvdHlwZS5fY2FwdHVyZVN0YWNrVHJhY2U7XG4gICAgICAgIHZhciBQcm9taXNlX2F0dGFjaEV4dHJhVHJhY2UgPSBQcm9taXNlLnByb3RvdHlwZS5fYXR0YWNoRXh0cmFUcmFjZTtcbiAgICAgICAgY29uZmlnLmxvbmdTdGFja1RyYWNlcyA9IHRydWU7XG4gICAgICAgIGRpc2FibGVMb25nU3RhY2tUcmFjZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChhc3luYy5oYXZlSXRlbXNRdWV1ZWQoKSAmJiAhY29uZmlnLmxvbmdTdGFja1RyYWNlcykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImNhbm5vdCBlbmFibGUgbG9uZyBzdGFjayB0cmFjZXMgYWZ0ZXIgcHJvbWlzZXMgaGF2ZSBiZWVuIGNyZWF0ZWRcXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX2NhcHR1cmVTdGFja1RyYWNlID0gUHJvbWlzZV9jYXB0dXJlU3RhY2tUcmFjZTtcbiAgICAgICAgICAgIFByb21pc2UucHJvdG90eXBlLl9hdHRhY2hFeHRyYVRyYWNlID0gUHJvbWlzZV9hdHRhY2hFeHRyYVRyYWNlO1xuICAgICAgICAgICAgQ29udGV4dC5kZWFjdGl2YXRlTG9uZ1N0YWNrVHJhY2VzKCk7XG4gICAgICAgICAgICBhc3luYy5lbmFibGVUcmFtcG9saW5lKCk7XG4gICAgICAgICAgICBjb25maWcubG9uZ1N0YWNrVHJhY2VzID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIFByb21pc2UucHJvdG90eXBlLl9jYXB0dXJlU3RhY2tUcmFjZSA9IGxvbmdTdGFja1RyYWNlc0NhcHR1cmVTdGFja1RyYWNlO1xuICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fYXR0YWNoRXh0cmFUcmFjZSA9IGxvbmdTdGFja1RyYWNlc0F0dGFjaEV4dHJhVHJhY2U7XG4gICAgICAgIENvbnRleHQuYWN0aXZhdGVMb25nU3RhY2tUcmFjZXMoKTtcbiAgICAgICAgYXN5bmMuZGlzYWJsZVRyYW1wb2xpbmVJZk5lY2Vzc2FyeSgpO1xuICAgIH1cbn07XG5cblByb21pc2UuaGFzTG9uZ1N0YWNrVHJhY2VzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjb25maWcubG9uZ1N0YWNrVHJhY2VzICYmIGxvbmdTdGFja1RyYWNlc0lzU3VwcG9ydGVkKCk7XG59O1xuXG52YXIgZmlyZURvbUV2ZW50ID0gKGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgQ3VzdG9tRXZlbnQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdmFyIGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFwiQ3VzdG9tRXZlbnRcIik7XG4gICAgICAgICAgICB1dGlsLmdsb2JhbC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihuYW1lLCBldmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBkb21FdmVudCA9IG5ldyBDdXN0b21FdmVudChuYW1lLnRvTG93ZXJDYXNlKCksIHtcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiBldmVudCxcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiAhdXRpbC5nbG9iYWwuZGlzcGF0Y2hFdmVudChkb21FdmVudCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBFdmVudCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBuZXcgRXZlbnQoXCJDdXN0b21FdmVudFwiKTtcbiAgICAgICAgICAgIHV0aWwuZ2xvYmFsLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKG5hbWUsIGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIGRvbUV2ZW50ID0gbmV3IEV2ZW50KG5hbWUudG9Mb3dlckNhc2UoKSwge1xuICAgICAgICAgICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZG9tRXZlbnQuZGV0YWlsID0gZXZlbnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuICF1dGlsLmdsb2JhbC5kaXNwYXRjaEV2ZW50KGRvbUV2ZW50KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcIkN1c3RvbUV2ZW50XCIpO1xuICAgICAgICAgICAgZXZlbnQuaW5pdEN1c3RvbUV2ZW50KFwidGVzdGluZ3RoZWV2ZW50XCIsIGZhbHNlLCB0cnVlLCB7fSk7XG4gICAgICAgICAgICB1dGlsLmdsb2JhbC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihuYW1lLCBldmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBkb21FdmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiQ3VzdG9tRXZlbnRcIik7XG4gICAgICAgICAgICAgICAgZG9tRXZlbnQuaW5pdEN1c3RvbUV2ZW50KG5hbWUudG9Mb3dlckNhc2UoKSwgZmFsc2UsIHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gIXV0aWwuZ2xvYmFsLmRpc3BhdGNoRXZlbnQoZG9tRXZlbnQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbn0pKCk7XG5cbnZhciBmaXJlR2xvYmFsRXZlbnQgPSAoZnVuY3Rpb24oKSB7XG4gICAgaWYgKHV0aWwuaXNOb2RlKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9jZXNzLmVtaXQuYXBwbHkocHJvY2VzcywgYXJndW1lbnRzKTtcbiAgICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXV0aWwuZ2xvYmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgdmFyIG1ldGhvZE5hbWUgPSBcIm9uXCIgKyBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB2YXIgbWV0aG9kID0gdXRpbC5nbG9iYWxbbWV0aG9kTmFtZV07XG4gICAgICAgICAgICBpZiAoIW1ldGhvZCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgbWV0aG9kLmFwcGx5KHV0aWwuZ2xvYmFsLCBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG4gICAgfVxufSkoKTtcblxuZnVuY3Rpb24gZ2VuZXJhdGVQcm9taXNlTGlmZWN5Y2xlRXZlbnRPYmplY3QobmFtZSwgcHJvbWlzZSkge1xuICAgIHJldHVybiB7cHJvbWlzZTogcHJvbWlzZX07XG59XG5cbnZhciBldmVudFRvT2JqZWN0R2VuZXJhdG9yID0ge1xuICAgIHByb21pc2VDcmVhdGVkOiBnZW5lcmF0ZVByb21pc2VMaWZlY3ljbGVFdmVudE9iamVjdCxcbiAgICBwcm9taXNlRnVsZmlsbGVkOiBnZW5lcmF0ZVByb21pc2VMaWZlY3ljbGVFdmVudE9iamVjdCxcbiAgICBwcm9taXNlUmVqZWN0ZWQ6IGdlbmVyYXRlUHJvbWlzZUxpZmVjeWNsZUV2ZW50T2JqZWN0LFxuICAgIHByb21pc2VSZXNvbHZlZDogZ2VuZXJhdGVQcm9taXNlTGlmZWN5Y2xlRXZlbnRPYmplY3QsXG4gICAgcHJvbWlzZUNhbmNlbGxlZDogZ2VuZXJhdGVQcm9taXNlTGlmZWN5Y2xlRXZlbnRPYmplY3QsXG4gICAgcHJvbWlzZUNoYWluZWQ6IGZ1bmN0aW9uKG5hbWUsIHByb21pc2UsIGNoaWxkKSB7XG4gICAgICAgIHJldHVybiB7cHJvbWlzZTogcHJvbWlzZSwgY2hpbGQ6IGNoaWxkfTtcbiAgICB9LFxuICAgIHdhcm5pbmc6IGZ1bmN0aW9uKG5hbWUsIHdhcm5pbmcpIHtcbiAgICAgICAgcmV0dXJuIHt3YXJuaW5nOiB3YXJuaW5nfTtcbiAgICB9LFxuICAgIHVuaGFuZGxlZFJlamVjdGlvbjogZnVuY3Rpb24gKG5hbWUsIHJlYXNvbiwgcHJvbWlzZSkge1xuICAgICAgICByZXR1cm4ge3JlYXNvbjogcmVhc29uLCBwcm9taXNlOiBwcm9taXNlfTtcbiAgICB9LFxuICAgIHJlamVjdGlvbkhhbmRsZWQ6IGdlbmVyYXRlUHJvbWlzZUxpZmVjeWNsZUV2ZW50T2JqZWN0XG59O1xuXG52YXIgYWN0aXZlRmlyZUV2ZW50ID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB2YXIgZ2xvYmFsRXZlbnRGaXJlZCA9IGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICAgIGdsb2JhbEV2ZW50RmlyZWQgPSBmaXJlR2xvYmFsRXZlbnQuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGFzeW5jLnRocm93TGF0ZXIoZSk7XG4gICAgICAgIGdsb2JhbEV2ZW50RmlyZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHZhciBkb21FdmVudEZpcmVkID0gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgICAgZG9tRXZlbnRGaXJlZCA9IGZpcmVEb21FdmVudChuYW1lLFxuICAgICAgICAgICAgICAgICAgICBldmVudFRvT2JqZWN0R2VuZXJhdG9yW25hbWVdLmFwcGx5KG51bGwsIGFyZ3VtZW50cykpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgYXN5bmMudGhyb3dMYXRlcihlKTtcbiAgICAgICAgZG9tRXZlbnRGaXJlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRvbUV2ZW50RmlyZWQgfHwgZ2xvYmFsRXZlbnRGaXJlZDtcbn07XG5cblByb21pc2UuY29uZmlnID0gZnVuY3Rpb24ob3B0cykge1xuICAgIG9wdHMgPSBPYmplY3Qob3B0cyk7XG4gICAgaWYgKFwibG9uZ1N0YWNrVHJhY2VzXCIgaW4gb3B0cykge1xuICAgICAgICBpZiAob3B0cy5sb25nU3RhY2tUcmFjZXMpIHtcbiAgICAgICAgICAgIFByb21pc2UubG9uZ1N0YWNrVHJhY2VzKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoIW9wdHMubG9uZ1N0YWNrVHJhY2VzICYmIFByb21pc2UuaGFzTG9uZ1N0YWNrVHJhY2VzKCkpIHtcbiAgICAgICAgICAgIGRpc2FibGVMb25nU3RhY2tUcmFjZXMoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoXCJ3YXJuaW5nc1wiIGluIG9wdHMpIHtcbiAgICAgICAgdmFyIHdhcm5pbmdzT3B0aW9uID0gb3B0cy53YXJuaW5ncztcbiAgICAgICAgY29uZmlnLndhcm5pbmdzID0gISF3YXJuaW5nc09wdGlvbjtcbiAgICAgICAgd0ZvcmdvdHRlblJldHVybiA9IGNvbmZpZy53YXJuaW5ncztcblxuICAgICAgICBpZiAodXRpbC5pc09iamVjdCh3YXJuaW5nc09wdGlvbikpIHtcbiAgICAgICAgICAgIGlmIChcIndGb3Jnb3R0ZW5SZXR1cm5cIiBpbiB3YXJuaW5nc09wdGlvbikge1xuICAgICAgICAgICAgICAgIHdGb3Jnb3R0ZW5SZXR1cm4gPSAhIXdhcm5pbmdzT3B0aW9uLndGb3Jnb3R0ZW5SZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKFwiY2FuY2VsbGF0aW9uXCIgaW4gb3B0cyAmJiBvcHRzLmNhbmNlbGxhdGlvbiAmJiAhY29uZmlnLmNhbmNlbGxhdGlvbikge1xuICAgICAgICBpZiAoYXN5bmMuaGF2ZUl0ZW1zUXVldWVkKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICBcImNhbm5vdCBlbmFibGUgY2FuY2VsbGF0aW9uIGFmdGVyIHByb21pc2VzIGFyZSBpbiB1c2VcIik7XG4gICAgICAgIH1cbiAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX2NsZWFyQ2FuY2VsbGF0aW9uRGF0YSA9XG4gICAgICAgICAgICBjYW5jZWxsYXRpb25DbGVhckNhbmNlbGxhdGlvbkRhdGE7XG4gICAgICAgIFByb21pc2UucHJvdG90eXBlLl9wcm9wYWdhdGVGcm9tID0gY2FuY2VsbGF0aW9uUHJvcGFnYXRlRnJvbTtcbiAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX29uQ2FuY2VsID0gY2FuY2VsbGF0aW9uT25DYW5jZWw7XG4gICAgICAgIFByb21pc2UucHJvdG90eXBlLl9zZXRPbkNhbmNlbCA9IGNhbmNlbGxhdGlvblNldE9uQ2FuY2VsO1xuICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fYXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2sgPVxuICAgICAgICAgICAgY2FuY2VsbGF0aW9uQXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2s7XG4gICAgICAgIFByb21pc2UucHJvdG90eXBlLl9leGVjdXRlID0gY2FuY2VsbGF0aW9uRXhlY3V0ZTtcbiAgICAgICAgcHJvcGFnYXRlRnJvbUZ1bmN0aW9uID0gY2FuY2VsbGF0aW9uUHJvcGFnYXRlRnJvbTtcbiAgICAgICAgY29uZmlnLmNhbmNlbGxhdGlvbiA9IHRydWU7XG4gICAgfVxuICAgIGlmIChcIm1vbml0b3JpbmdcIiBpbiBvcHRzKSB7XG4gICAgICAgIGlmIChvcHRzLm1vbml0b3JpbmcgJiYgIWNvbmZpZy5tb25pdG9yaW5nKSB7XG4gICAgICAgICAgICBjb25maWcubW9uaXRvcmluZyA9IHRydWU7XG4gICAgICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fZmlyZUV2ZW50ID0gYWN0aXZlRmlyZUV2ZW50O1xuICAgICAgICB9IGVsc2UgaWYgKCFvcHRzLm1vbml0b3JpbmcgJiYgY29uZmlnLm1vbml0b3JpbmcpIHtcbiAgICAgICAgICAgIGNvbmZpZy5tb25pdG9yaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fZmlyZUV2ZW50ID0gZGVmYXVsdEZpcmVFdmVudDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZTtcbn07XG5cbmZ1bmN0aW9uIGRlZmF1bHRGaXJlRXZlbnQoKSB7IHJldHVybiBmYWxzZTsgfVxuXG5Qcm9taXNlLnByb3RvdHlwZS5fZmlyZUV2ZW50ID0gZGVmYXVsdEZpcmVFdmVudDtcblByb21pc2UucHJvdG90eXBlLl9leGVjdXRlID0gZnVuY3Rpb24oZXhlY3V0b3IsIHJlc29sdmUsIHJlamVjdCkge1xuICAgIHRyeSB7XG4gICAgICAgIGV4ZWN1dG9yKHJlc29sdmUsIHJlamVjdCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZTtcbiAgICB9XG59O1xuUHJvbWlzZS5wcm90b3R5cGUuX29uQ2FuY2VsID0gZnVuY3Rpb24gKCkge307XG5Qcm9taXNlLnByb3RvdHlwZS5fc2V0T25DYW5jZWwgPSBmdW5jdGlvbiAoaGFuZGxlcikgeyA7IH07XG5Qcm9taXNlLnByb3RvdHlwZS5fYXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2sgPSBmdW5jdGlvbihvbkNhbmNlbCkge1xuICAgIDtcbn07XG5Qcm9taXNlLnByb3RvdHlwZS5fY2FwdHVyZVN0YWNrVHJhY2UgPSBmdW5jdGlvbiAoKSB7fTtcblByb21pc2UucHJvdG90eXBlLl9hdHRhY2hFeHRyYVRyYWNlID0gZnVuY3Rpb24gKCkge307XG5Qcm9taXNlLnByb3RvdHlwZS5fY2xlYXJDYW5jZWxsYXRpb25EYXRhID0gZnVuY3Rpb24oKSB7fTtcblByb21pc2UucHJvdG90eXBlLl9wcm9wYWdhdGVGcm9tID0gZnVuY3Rpb24gKHBhcmVudCwgZmxhZ3MpIHtcbiAgICA7XG4gICAgO1xufTtcblxuZnVuY3Rpb24gY2FuY2VsbGF0aW9uRXhlY3V0ZShleGVjdXRvciwgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdmFyIHByb21pc2UgPSB0aGlzO1xuICAgIHRyeSB7XG4gICAgICAgIGV4ZWN1dG9yKHJlc29sdmUsIHJlamVjdCwgZnVuY3Rpb24ob25DYW5jZWwpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb25DYW5jZWwgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJvbkNhbmNlbCBtdXN0IGJlIGEgZnVuY3Rpb24sIGdvdDogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbC50b1N0cmluZyhvbkNhbmNlbCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJvbWlzZS5fYXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2sob25DYW5jZWwpO1xuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY2FuY2VsbGF0aW9uQXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2sob25DYW5jZWwpIHtcbiAgICBpZiAoIXRoaXMuX2lzQ2FuY2VsbGFibGUoKSkgcmV0dXJuIHRoaXM7XG5cbiAgICB2YXIgcHJldmlvdXNPbkNhbmNlbCA9IHRoaXMuX29uQ2FuY2VsKCk7XG4gICAgaWYgKHByZXZpb3VzT25DYW5jZWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAodXRpbC5pc0FycmF5KHByZXZpb3VzT25DYW5jZWwpKSB7XG4gICAgICAgICAgICBwcmV2aW91c09uQ2FuY2VsLnB1c2gob25DYW5jZWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc2V0T25DYW5jZWwoW3ByZXZpb3VzT25DYW5jZWwsIG9uQ2FuY2VsXSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9zZXRPbkNhbmNlbChvbkNhbmNlbCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjYW5jZWxsYXRpb25PbkNhbmNlbCgpIHtcbiAgICByZXR1cm4gdGhpcy5fb25DYW5jZWxGaWVsZDtcbn1cblxuZnVuY3Rpb24gY2FuY2VsbGF0aW9uU2V0T25DYW5jZWwob25DYW5jZWwpIHtcbiAgICB0aGlzLl9vbkNhbmNlbEZpZWxkID0gb25DYW5jZWw7XG59XG5cbmZ1bmN0aW9uIGNhbmNlbGxhdGlvbkNsZWFyQ2FuY2VsbGF0aW9uRGF0YSgpIHtcbiAgICB0aGlzLl9jYW5jZWxsYXRpb25QYXJlbnQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fb25DYW5jZWxGaWVsZCA9IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gY2FuY2VsbGF0aW9uUHJvcGFnYXRlRnJvbShwYXJlbnQsIGZsYWdzKSB7XG4gICAgaWYgKChmbGFncyAmIDEpICE9PSAwKSB7XG4gICAgICAgIHRoaXMuX2NhbmNlbGxhdGlvblBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdmFyIGJyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWwgPSBwYXJlbnQuX2JyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWw7XG4gICAgICAgIGlmIChicmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGJyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWwgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudC5fYnJhbmNoZXNSZW1haW5pbmdUb0NhbmNlbCA9IGJyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWwgKyAxO1xuICAgIH1cbiAgICBpZiAoKGZsYWdzICYgMikgIT09IDAgJiYgcGFyZW50Ll9pc0JvdW5kKCkpIHtcbiAgICAgICAgdGhpcy5fc2V0Qm91bmRUbyhwYXJlbnQuX2JvdW5kVG8pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYmluZGluZ1Byb3BhZ2F0ZUZyb20ocGFyZW50LCBmbGFncykge1xuICAgIGlmICgoZmxhZ3MgJiAyKSAhPT0gMCAmJiBwYXJlbnQuX2lzQm91bmQoKSkge1xuICAgICAgICB0aGlzLl9zZXRCb3VuZFRvKHBhcmVudC5fYm91bmRUbyk7XG4gICAgfVxufVxudmFyIHByb3BhZ2F0ZUZyb21GdW5jdGlvbiA9IGJpbmRpbmdQcm9wYWdhdGVGcm9tO1xuXG5mdW5jdGlvbiBib3VuZFZhbHVlRnVuY3Rpb24oKSB7XG4gICAgdmFyIHJldCA9IHRoaXMuX2JvdW5kVG87XG4gICAgaWYgKHJldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChyZXQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICBpZiAocmV0LmlzRnVsZmlsbGVkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0LnZhbHVlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gbG9uZ1N0YWNrVHJhY2VzQ2FwdHVyZVN0YWNrVHJhY2UoKSB7XG4gICAgdGhpcy5fdHJhY2UgPSBuZXcgQ2FwdHVyZWRUcmFjZSh0aGlzLl9wZWVrQ29udGV4dCgpKTtcbn1cblxuZnVuY3Rpb24gbG9uZ1N0YWNrVHJhY2VzQXR0YWNoRXh0cmFUcmFjZShlcnJvciwgaWdub3JlU2VsZikge1xuICAgIGlmIChjYW5BdHRhY2hUcmFjZShlcnJvcikpIHtcbiAgICAgICAgdmFyIHRyYWNlID0gdGhpcy5fdHJhY2U7XG4gICAgICAgIGlmICh0cmFjZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoaWdub3JlU2VsZikgdHJhY2UgPSB0cmFjZS5fcGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0cmFjZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0cmFjZS5hdHRhY2hFeHRyYVRyYWNlKGVycm9yKTtcbiAgICAgICAgfSBlbHNlIGlmICghZXJyb3IuX19zdGFja0NsZWFuZWRfXykge1xuICAgICAgICAgICAgdmFyIHBhcnNlZCA9IHBhcnNlU3RhY2tBbmRNZXNzYWdlKGVycm9yKTtcbiAgICAgICAgICAgIHV0aWwubm90RW51bWVyYWJsZVByb3AoZXJyb3IsIFwic3RhY2tcIixcbiAgICAgICAgICAgICAgICBwYXJzZWQubWVzc2FnZSArIFwiXFxuXCIgKyBwYXJzZWQuc3RhY2suam9pbihcIlxcblwiKSk7XG4gICAgICAgICAgICB1dGlsLm5vdEVudW1lcmFibGVQcm9wKGVycm9yLCBcIl9fc3RhY2tDbGVhbmVkX19cIiwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrRm9yZ290dGVuUmV0dXJucyhyZXR1cm5WYWx1ZSwgcHJvbWlzZUNyZWF0ZWQsIG5hbWUsIHByb21pc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50KSB7XG4gICAgaWYgKHJldHVyblZhbHVlID09PSB1bmRlZmluZWQgJiYgcHJvbWlzZUNyZWF0ZWQgIT09IG51bGwgJiZcbiAgICAgICAgd0ZvcmdvdHRlblJldHVybikge1xuICAgICAgICBpZiAocGFyZW50ICE9PSB1bmRlZmluZWQgJiYgcGFyZW50Ll9yZXR1cm5lZE5vblVuZGVmaW5lZCgpKSByZXR1cm47XG4gICAgICAgIGlmICgocHJvbWlzZS5fYml0RmllbGQgJiA2NTUzNSkgPT09IDApIHJldHVybjtcblxuICAgICAgICBpZiAobmFtZSkgbmFtZSA9IG5hbWUgKyBcIiBcIjtcbiAgICAgICAgdmFyIGhhbmRsZXJMaW5lID0gXCJcIjtcbiAgICAgICAgdmFyIGNyZWF0b3JMaW5lID0gXCJcIjtcbiAgICAgICAgaWYgKHByb21pc2VDcmVhdGVkLl90cmFjZSkge1xuICAgICAgICAgICAgdmFyIHRyYWNlTGluZXMgPSBwcm9taXNlQ3JlYXRlZC5fdHJhY2Uuc3RhY2suc3BsaXQoXCJcXG5cIik7XG4gICAgICAgICAgICB2YXIgc3RhY2sgPSBjbGVhblN0YWNrKHRyYWNlTGluZXMpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHN0YWNrLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxpbmUgPSBzdGFja1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoIW5vZGVGcmFtZVBhdHRlcm4udGVzdChsaW5lKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGluZU1hdGNoZXMgPSBsaW5lLm1hdGNoKHBhcnNlTGluZVBhdHRlcm4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGluZU1hdGNoZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXJMaW5lICA9IFwiYXQgXCIgKyBsaW5lTWF0Y2hlc1sxXSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI6XCIgKyBsaW5lTWF0Y2hlc1syXSArIFwiOlwiICsgbGluZU1hdGNoZXNbM10gKyBcIiBcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpcnN0VXNlckxpbmUgPSBzdGFja1swXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyYWNlTGluZXMubGVuZ3RoOyArK2kpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodHJhY2VMaW5lc1tpXSA9PT0gZmlyc3RVc2VyTGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRvckxpbmUgPSBcIlxcblwiICsgdHJhY2VMaW5lc1tpIC0gMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBtc2cgPSBcImEgcHJvbWlzZSB3YXMgY3JlYXRlZCBpbiBhIFwiICsgbmFtZSArXG4gICAgICAgICAgICBcImhhbmRsZXIgXCIgKyBoYW5kbGVyTGluZSArIFwiYnV0IHdhcyBub3QgcmV0dXJuZWQgZnJvbSBpdCwgXCIgK1xuICAgICAgICAgICAgXCJzZWUgaHR0cDovL2dvby5nbC9yUnFNVXdcIiArXG4gICAgICAgICAgICBjcmVhdG9yTGluZTtcbiAgICAgICAgcHJvbWlzZS5fd2Fybihtc2csIHRydWUsIHByb21pc2VDcmVhdGVkKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRlcHJlY2F0ZWQobmFtZSwgcmVwbGFjZW1lbnQpIHtcbiAgICB2YXIgbWVzc2FnZSA9IG5hbWUgK1xuICAgICAgICBcIiBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgdmVyc2lvbi5cIjtcbiAgICBpZiAocmVwbGFjZW1lbnQpIG1lc3NhZ2UgKz0gXCIgVXNlIFwiICsgcmVwbGFjZW1lbnQgKyBcIiBpbnN0ZWFkLlwiO1xuICAgIHJldHVybiB3YXJuKG1lc3NhZ2UpO1xufVxuXG5mdW5jdGlvbiB3YXJuKG1lc3NhZ2UsIHNob3VsZFVzZU93blRyYWNlLCBwcm9taXNlKSB7XG4gICAgaWYgKCFjb25maWcud2FybmluZ3MpIHJldHVybjtcbiAgICB2YXIgd2FybmluZyA9IG5ldyBXYXJuaW5nKG1lc3NhZ2UpO1xuICAgIHZhciBjdHg7XG4gICAgaWYgKHNob3VsZFVzZU93blRyYWNlKSB7XG4gICAgICAgIHByb21pc2UuX2F0dGFjaEV4dHJhVHJhY2Uod2FybmluZyk7XG4gICAgfSBlbHNlIGlmIChjb25maWcubG9uZ1N0YWNrVHJhY2VzICYmIChjdHggPSBQcm9taXNlLl9wZWVrQ29udGV4dCgpKSkge1xuICAgICAgICBjdHguYXR0YWNoRXh0cmFUcmFjZSh3YXJuaW5nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcGFyc2VkID0gcGFyc2VTdGFja0FuZE1lc3NhZ2Uod2FybmluZyk7XG4gICAgICAgIHdhcm5pbmcuc3RhY2sgPSBwYXJzZWQubWVzc2FnZSArIFwiXFxuXCIgKyBwYXJzZWQuc3RhY2suam9pbihcIlxcblwiKTtcbiAgICB9XG5cbiAgICBpZiAoIWFjdGl2ZUZpcmVFdmVudChcIndhcm5pbmdcIiwgd2FybmluZykpIHtcbiAgICAgICAgZm9ybWF0QW5kTG9nRXJyb3Iod2FybmluZywgXCJcIiwgdHJ1ZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiByZWNvbnN0cnVjdFN0YWNrKG1lc3NhZ2UsIHN0YWNrcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2tzLmxlbmd0aCAtIDE7ICsraSkge1xuICAgICAgICBzdGFja3NbaV0ucHVzaChcIkZyb20gcHJldmlvdXMgZXZlbnQ6XCIpO1xuICAgICAgICBzdGFja3NbaV0gPSBzdGFja3NbaV0uam9pbihcIlxcblwiKTtcbiAgICB9XG4gICAgaWYgKGkgPCBzdGFja3MubGVuZ3RoKSB7XG4gICAgICAgIHN0YWNrc1tpXSA9IHN0YWNrc1tpXS5qb2luKFwiXFxuXCIpO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZSArIFwiXFxuXCIgKyBzdGFja3Muam9pbihcIlxcblwiKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlRHVwbGljYXRlT3JFbXB0eUp1bXBzKHN0YWNrcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2tzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChzdGFja3NbaV0ubGVuZ3RoID09PSAwIHx8XG4gICAgICAgICAgICAoKGkgKyAxIDwgc3RhY2tzLmxlbmd0aCkgJiYgc3RhY2tzW2ldWzBdID09PSBzdGFja3NbaSsxXVswXSkpIHtcbiAgICAgICAgICAgIHN0YWNrcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICBpLS07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUNvbW1vblJvb3RzKHN0YWNrcykge1xuICAgIHZhciBjdXJyZW50ID0gc3RhY2tzWzBdO1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgc3RhY2tzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBwcmV2ID0gc3RhY2tzW2ldO1xuICAgICAgICB2YXIgY3VycmVudExhc3RJbmRleCA9IGN1cnJlbnQubGVuZ3RoIC0gMTtcbiAgICAgICAgdmFyIGN1cnJlbnRMYXN0TGluZSA9IGN1cnJlbnRbY3VycmVudExhc3RJbmRleF07XG4gICAgICAgIHZhciBjb21tb25Sb290TWVldFBvaW50ID0gLTE7XG5cbiAgICAgICAgZm9yICh2YXIgaiA9IHByZXYubGVuZ3RoIC0gMTsgaiA+PSAwOyAtLWopIHtcbiAgICAgICAgICAgIGlmIChwcmV2W2pdID09PSBjdXJyZW50TGFzdExpbmUpIHtcbiAgICAgICAgICAgICAgICBjb21tb25Sb290TWVldFBvaW50ID0gajtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGogPSBjb21tb25Sb290TWVldFBvaW50OyBqID49IDA7IC0taikge1xuICAgICAgICAgICAgdmFyIGxpbmUgPSBwcmV2W2pdO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRbY3VycmVudExhc3RJbmRleF0gPT09IGxpbmUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50LnBvcCgpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRMYXN0SW5kZXgtLTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudCA9IHByZXY7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjbGVhblN0YWNrKHN0YWNrKSB7XG4gICAgdmFyIHJldCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGxpbmUgPSBzdGFja1tpXTtcbiAgICAgICAgdmFyIGlzVHJhY2VMaW5lID0gXCIgICAgKE5vIHN0YWNrIHRyYWNlKVwiID09PSBsaW5lIHx8XG4gICAgICAgICAgICBzdGFja0ZyYW1lUGF0dGVybi50ZXN0KGxpbmUpO1xuICAgICAgICB2YXIgaXNJbnRlcm5hbEZyYW1lID0gaXNUcmFjZUxpbmUgJiYgc2hvdWxkSWdub3JlKGxpbmUpO1xuICAgICAgICBpZiAoaXNUcmFjZUxpbmUgJiYgIWlzSW50ZXJuYWxGcmFtZSkge1xuICAgICAgICAgICAgaWYgKGluZGVudFN0YWNrRnJhbWVzICYmIGxpbmUuY2hhckF0KDApICE9PSBcIiBcIikge1xuICAgICAgICAgICAgICAgIGxpbmUgPSBcIiAgICBcIiArIGxpbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXQucHVzaChsaW5lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBzdGFja0ZyYW1lc0FzQXJyYXkoZXJyb3IpIHtcbiAgICB2YXIgc3RhY2sgPSBlcnJvci5zdGFjay5yZXBsYWNlKC9cXHMrJC9nLCBcIlwiKS5zcGxpdChcIlxcblwiKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBsaW5lID0gc3RhY2tbaV07XG4gICAgICAgIGlmIChcIiAgICAoTm8gc3RhY2sgdHJhY2UpXCIgPT09IGxpbmUgfHwgc3RhY2tGcmFtZVBhdHRlcm4udGVzdChsaW5lKSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGkgPiAwICYmIGVycm9yLm5hbWUgIT0gXCJTeW50YXhFcnJvclwiKSB7XG4gICAgICAgIHN0YWNrID0gc3RhY2suc2xpY2UoaSk7XG4gICAgfVxuICAgIHJldHVybiBzdGFjaztcbn1cblxuZnVuY3Rpb24gcGFyc2VTdGFja0FuZE1lc3NhZ2UoZXJyb3IpIHtcbiAgICB2YXIgc3RhY2sgPSBlcnJvci5zdGFjaztcbiAgICB2YXIgbWVzc2FnZSA9IGVycm9yLnRvU3RyaW5nKCk7XG4gICAgc3RhY2sgPSB0eXBlb2Ygc3RhY2sgPT09IFwic3RyaW5nXCIgJiYgc3RhY2subGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgID8gc3RhY2tGcmFtZXNBc0FycmF5KGVycm9yKSA6IFtcIiAgICAoTm8gc3RhY2sgdHJhY2UpXCJdO1xuICAgIHJldHVybiB7XG4gICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgIHN0YWNrOiBlcnJvci5uYW1lID09IFwiU3ludGF4RXJyb3JcIiA/IHN0YWNrIDogY2xlYW5TdGFjayhzdGFjaylcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBmb3JtYXRBbmRMb2dFcnJvcihlcnJvciwgdGl0bGUsIGlzU29mdCkge1xuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICB2YXIgbWVzc2FnZTtcbiAgICAgICAgaWYgKHV0aWwuaXNPYmplY3QoZXJyb3IpKSB7XG4gICAgICAgICAgICB2YXIgc3RhY2sgPSBlcnJvci5zdGFjaztcbiAgICAgICAgICAgIG1lc3NhZ2UgPSB0aXRsZSArIGZvcm1hdFN0YWNrKHN0YWNrLCBlcnJvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gdGl0bGUgKyBTdHJpbmcoZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgcHJpbnRXYXJuaW5nID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHByaW50V2FybmluZyhtZXNzYWdlLCBpc1NvZnQpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb25zb2xlLmxvZyA9PT0gXCJmdW5jdGlvblwiIHx8XG4gICAgICAgICAgICB0eXBlb2YgY29uc29sZS5sb2cgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBmaXJlUmVqZWN0aW9uRXZlbnQobmFtZSwgbG9jYWxIYW5kbGVyLCByZWFzb24sIHByb21pc2UpIHtcbiAgICB2YXIgbG9jYWxFdmVudEZpcmVkID0gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBsb2NhbEhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgbG9jYWxFdmVudEZpcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChuYW1lID09PSBcInJlamVjdGlvbkhhbmRsZWRcIikge1xuICAgICAgICAgICAgICAgIGxvY2FsSGFuZGxlcihwcm9taXNlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbG9jYWxIYW5kbGVyKHJlYXNvbiwgcHJvbWlzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGFzeW5jLnRocm93TGF0ZXIoZSk7XG4gICAgfVxuXG4gICAgaWYgKG5hbWUgPT09IFwidW5oYW5kbGVkUmVqZWN0aW9uXCIpIHtcbiAgICAgICAgaWYgKCFhY3RpdmVGaXJlRXZlbnQobmFtZSwgcmVhc29uLCBwcm9taXNlKSAmJiAhbG9jYWxFdmVudEZpcmVkKSB7XG4gICAgICAgICAgICBmb3JtYXRBbmRMb2dFcnJvcihyZWFzb24sIFwiVW5oYW5kbGVkIHJlamVjdGlvbiBcIik7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBhY3RpdmVGaXJlRXZlbnQobmFtZSwgcHJvbWlzZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBmb3JtYXROb25FcnJvcihvYmopIHtcbiAgICB2YXIgc3RyO1xuICAgIGlmICh0eXBlb2Ygb2JqID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgc3RyID0gXCJbZnVuY3Rpb24gXCIgK1xuICAgICAgICAgICAgKG9iai5uYW1lIHx8IFwiYW5vbnltb3VzXCIpICtcbiAgICAgICAgICAgIFwiXVwiO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHN0ciA9IG9iaiAmJiB0eXBlb2Ygb2JqLnRvU3RyaW5nID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICAgID8gb2JqLnRvU3RyaW5nKCkgOiB1dGlsLnRvU3RyaW5nKG9iaik7XG4gICAgICAgIHZhciBydXNlbGVzc1RvU3RyaW5nID0gL1xcW29iamVjdCBbYS16QS1aMC05JF9dK1xcXS87XG4gICAgICAgIGlmIChydXNlbGVzc1RvU3RyaW5nLnRlc3Qoc3RyKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgbmV3U3RyID0gSlNPTi5zdHJpbmdpZnkob2JqKTtcbiAgICAgICAgICAgICAgICBzdHIgPSBuZXdTdHI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaChlKSB7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgc3RyID0gXCIoZW1wdHkgYXJyYXkpXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIChcIig8XCIgKyBzbmlwKHN0cikgKyBcIj4sIG5vIHN0YWNrIHRyYWNlKVwiKTtcbn1cblxuZnVuY3Rpb24gc25pcChzdHIpIHtcbiAgICB2YXIgbWF4Q2hhcnMgPSA0MTtcbiAgICBpZiAoc3RyLmxlbmd0aCA8IG1heENoYXJzKSB7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIHJldHVybiBzdHIuc3Vic3RyKDAsIG1heENoYXJzIC0gMykgKyBcIi4uLlwiO1xufVxuXG5mdW5jdGlvbiBsb25nU3RhY2tUcmFjZXNJc1N1cHBvcnRlZCgpIHtcbiAgICByZXR1cm4gdHlwZW9mIGNhcHR1cmVTdGFja1RyYWNlID09PSBcImZ1bmN0aW9uXCI7XG59XG5cbnZhciBzaG91bGRJZ25vcmUgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGZhbHNlOyB9O1xudmFyIHBhcnNlTGluZUluZm9SZWdleCA9IC9bXFwvPFxcKF0oW146XFwvXSspOihcXGQrKTooPzpcXGQrKVxcKT9cXHMqJC87XG5mdW5jdGlvbiBwYXJzZUxpbmVJbmZvKGxpbmUpIHtcbiAgICB2YXIgbWF0Y2hlcyA9IGxpbmUubWF0Y2gocGFyc2VMaW5lSW5mb1JlZ2V4KTtcbiAgICBpZiAobWF0Y2hlcykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZmlsZU5hbWU6IG1hdGNoZXNbMV0sXG4gICAgICAgICAgICBsaW5lOiBwYXJzZUludChtYXRjaGVzWzJdLCAxMClcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNldEJvdW5kcyhmaXJzdExpbmVFcnJvciwgbGFzdExpbmVFcnJvcikge1xuICAgIGlmICghbG9uZ1N0YWNrVHJhY2VzSXNTdXBwb3J0ZWQoKSkgcmV0dXJuO1xuICAgIHZhciBmaXJzdFN0YWNrTGluZXMgPSBmaXJzdExpbmVFcnJvci5zdGFjay5zcGxpdChcIlxcblwiKTtcbiAgICB2YXIgbGFzdFN0YWNrTGluZXMgPSBsYXN0TGluZUVycm9yLnN0YWNrLnNwbGl0KFwiXFxuXCIpO1xuICAgIHZhciBmaXJzdEluZGV4ID0gLTE7XG4gICAgdmFyIGxhc3RJbmRleCA9IC0xO1xuICAgIHZhciBmaXJzdEZpbGVOYW1lO1xuICAgIHZhciBsYXN0RmlsZU5hbWU7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaXJzdFN0YWNrTGluZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHBhcnNlTGluZUluZm8oZmlyc3RTdGFja0xpbmVzW2ldKTtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgZmlyc3RGaWxlTmFtZSA9IHJlc3VsdC5maWxlTmFtZTtcbiAgICAgICAgICAgIGZpcnN0SW5kZXggPSByZXN1bHQubGluZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdFN0YWNrTGluZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHBhcnNlTGluZUluZm8obGFzdFN0YWNrTGluZXNbaV0pO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICBsYXN0RmlsZU5hbWUgPSByZXN1bHQuZmlsZU5hbWU7XG4gICAgICAgICAgICBsYXN0SW5kZXggPSByZXN1bHQubGluZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChmaXJzdEluZGV4IDwgMCB8fCBsYXN0SW5kZXggPCAwIHx8ICFmaXJzdEZpbGVOYW1lIHx8ICFsYXN0RmlsZU5hbWUgfHxcbiAgICAgICAgZmlyc3RGaWxlTmFtZSAhPT0gbGFzdEZpbGVOYW1lIHx8IGZpcnN0SW5kZXggPj0gbGFzdEluZGV4KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzaG91bGRJZ25vcmUgPSBmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgIGlmIChibHVlYmlyZEZyYW1lUGF0dGVybi50ZXN0KGxpbmUpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgdmFyIGluZm8gPSBwYXJzZUxpbmVJbmZvKGxpbmUpO1xuICAgICAgICBpZiAoaW5mbykge1xuICAgICAgICAgICAgaWYgKGluZm8uZmlsZU5hbWUgPT09IGZpcnN0RmlsZU5hbWUgJiZcbiAgICAgICAgICAgICAgICAoZmlyc3RJbmRleCA8PSBpbmZvLmxpbmUgJiYgaW5mby5saW5lIDw9IGxhc3RJbmRleCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gQ2FwdHVyZWRUcmFjZShwYXJlbnQpIHtcbiAgICB0aGlzLl9wYXJlbnQgPSBwYXJlbnQ7XG4gICAgdGhpcy5fcHJvbWlzZXNDcmVhdGVkID0gMDtcbiAgICB2YXIgbGVuZ3RoID0gdGhpcy5fbGVuZ3RoID0gMSArIChwYXJlbnQgPT09IHVuZGVmaW5lZCA/IDAgOiBwYXJlbnQuX2xlbmd0aCk7XG4gICAgY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgQ2FwdHVyZWRUcmFjZSk7XG4gICAgaWYgKGxlbmd0aCA+IDMyKSB0aGlzLnVuY3ljbGUoKTtcbn1cbnV0aWwuaW5oZXJpdHMoQ2FwdHVyZWRUcmFjZSwgRXJyb3IpO1xuQ29udGV4dC5DYXB0dXJlZFRyYWNlID0gQ2FwdHVyZWRUcmFjZTtcblxuQ2FwdHVyZWRUcmFjZS5wcm90b3R5cGUudW5jeWNsZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBsZW5ndGggPSB0aGlzLl9sZW5ndGg7XG4gICAgaWYgKGxlbmd0aCA8IDIpIHJldHVybjtcbiAgICB2YXIgbm9kZXMgPSBbXTtcbiAgICB2YXIgc3RhY2tUb0luZGV4ID0ge307XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbm9kZSA9IHRoaXM7IG5vZGUgIT09IHVuZGVmaW5lZDsgKytpKSB7XG4gICAgICAgIG5vZGVzLnB1c2gobm9kZSk7XG4gICAgICAgIG5vZGUgPSBub2RlLl9wYXJlbnQ7XG4gICAgfVxuICAgIGxlbmd0aCA9IHRoaXMuX2xlbmd0aCA9IGk7XG4gICAgZm9yICh2YXIgaSA9IGxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBzdGFjayA9IG5vZGVzW2ldLnN0YWNrO1xuICAgICAgICBpZiAoc3RhY2tUb0luZGV4W3N0YWNrXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzdGFja1RvSW5kZXhbc3RhY2tdID0gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBjdXJyZW50U3RhY2sgPSBub2Rlc1tpXS5zdGFjaztcbiAgICAgICAgdmFyIGluZGV4ID0gc3RhY2tUb0luZGV4W2N1cnJlbnRTdGFja107XG4gICAgICAgIGlmIChpbmRleCAhPT0gdW5kZWZpbmVkICYmIGluZGV4ICE9PSBpKSB7XG4gICAgICAgICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgICAgICAgICAgbm9kZXNbaW5kZXggLSAxXS5fcGFyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIG5vZGVzW2luZGV4IC0gMV0uX2xlbmd0aCA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2Rlc1tpXS5fcGFyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgbm9kZXNbaV0uX2xlbmd0aCA9IDE7XG4gICAgICAgICAgICB2YXIgY3ljbGVFZGdlTm9kZSA9IGkgPiAwID8gbm9kZXNbaSAtIDFdIDogdGhpcztcblxuICAgICAgICAgICAgaWYgKGluZGV4IDwgbGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIGN5Y2xlRWRnZU5vZGUuX3BhcmVudCA9IG5vZGVzW2luZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgY3ljbGVFZGdlTm9kZS5fcGFyZW50LnVuY3ljbGUoKTtcbiAgICAgICAgICAgICAgICBjeWNsZUVkZ2VOb2RlLl9sZW5ndGggPVxuICAgICAgICAgICAgICAgICAgICBjeWNsZUVkZ2VOb2RlLl9wYXJlbnQuX2xlbmd0aCArIDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGN5Y2xlRWRnZU5vZGUuX3BhcmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBjeWNsZUVkZ2VOb2RlLl9sZW5ndGggPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGN1cnJlbnRDaGlsZExlbmd0aCA9IGN5Y2xlRWRnZU5vZGUuX2xlbmd0aCArIDE7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gaSAtIDI7IGogPj0gMDsgLS1qKSB7XG4gICAgICAgICAgICAgICAgbm9kZXNbal0uX2xlbmd0aCA9IGN1cnJlbnRDaGlsZExlbmd0aDtcbiAgICAgICAgICAgICAgICBjdXJyZW50Q2hpbGRMZW5ndGgrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbkNhcHR1cmVkVHJhY2UucHJvdG90eXBlLmF0dGFjaEV4dHJhVHJhY2UgPSBmdW5jdGlvbihlcnJvcikge1xuICAgIGlmIChlcnJvci5fX3N0YWNrQ2xlYW5lZF9fKSByZXR1cm47XG4gICAgdGhpcy51bmN5Y2xlKCk7XG4gICAgdmFyIHBhcnNlZCA9IHBhcnNlU3RhY2tBbmRNZXNzYWdlKGVycm9yKTtcbiAgICB2YXIgbWVzc2FnZSA9IHBhcnNlZC5tZXNzYWdlO1xuICAgIHZhciBzdGFja3MgPSBbcGFyc2VkLnN0YWNrXTtcblxuICAgIHZhciB0cmFjZSA9IHRoaXM7XG4gICAgd2hpbGUgKHRyYWNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc3RhY2tzLnB1c2goY2xlYW5TdGFjayh0cmFjZS5zdGFjay5zcGxpdChcIlxcblwiKSkpO1xuICAgICAgICB0cmFjZSA9IHRyYWNlLl9wYXJlbnQ7XG4gICAgfVxuICAgIHJlbW92ZUNvbW1vblJvb3RzKHN0YWNrcyk7XG4gICAgcmVtb3ZlRHVwbGljYXRlT3JFbXB0eUp1bXBzKHN0YWNrcyk7XG4gICAgdXRpbC5ub3RFbnVtZXJhYmxlUHJvcChlcnJvciwgXCJzdGFja1wiLCByZWNvbnN0cnVjdFN0YWNrKG1lc3NhZ2UsIHN0YWNrcykpO1xuICAgIHV0aWwubm90RW51bWVyYWJsZVByb3AoZXJyb3IsIFwiX19zdGFja0NsZWFuZWRfX1wiLCB0cnVlKTtcbn07XG5cbnZhciBjYXB0dXJlU3RhY2tUcmFjZSA9IChmdW5jdGlvbiBzdGFja0RldGVjdGlvbigpIHtcbiAgICB2YXIgdjhzdGFja0ZyYW1lUGF0dGVybiA9IC9eXFxzKmF0XFxzKi87XG4gICAgdmFyIHY4c3RhY2tGb3JtYXR0ZXIgPSBmdW5jdGlvbihzdGFjaywgZXJyb3IpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzdGFjayA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIHN0YWNrO1xuXG4gICAgICAgIGlmIChlcnJvci5uYW1lICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvcm1hdE5vbkVycm9yKGVycm9yKTtcbiAgICB9O1xuXG4gICAgaWYgKHR5cGVvZiBFcnJvci5zdGFja1RyYWNlTGltaXQgPT09IFwibnVtYmVyXCIgJiZcbiAgICAgICAgdHlwZW9mIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0ICs9IDY7XG4gICAgICAgIHN0YWNrRnJhbWVQYXR0ZXJuID0gdjhzdGFja0ZyYW1lUGF0dGVybjtcbiAgICAgICAgZm9ybWF0U3RhY2sgPSB2OHN0YWNrRm9ybWF0dGVyO1xuICAgICAgICB2YXIgY2FwdHVyZVN0YWNrVHJhY2UgPSBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZTtcblxuICAgICAgICBzaG91bGRJZ25vcmUgPSBmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gYmx1ZWJpcmRGcmFtZVBhdHRlcm4udGVzdChsaW5lKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHJlY2VpdmVyLCBpZ25vcmVVbnRpbCkge1xuICAgICAgICAgICAgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0ICs9IDY7XG4gICAgICAgICAgICBjYXB0dXJlU3RhY2tUcmFjZShyZWNlaXZlciwgaWdub3JlVW50aWwpO1xuICAgICAgICAgICAgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0IC09IDY7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoKTtcblxuICAgIGlmICh0eXBlb2YgZXJyLnN0YWNrID09PSBcInN0cmluZ1wiICYmXG4gICAgICAgIGVyci5zdGFjay5zcGxpdChcIlxcblwiKVswXS5pbmRleE9mKFwic3RhY2tEZXRlY3Rpb25AXCIpID49IDApIHtcbiAgICAgICAgc3RhY2tGcmFtZVBhdHRlcm4gPSAvQC87XG4gICAgICAgIGZvcm1hdFN0YWNrID0gdjhzdGFja0Zvcm1hdHRlcjtcbiAgICAgICAgaW5kZW50U3RhY2tGcmFtZXMgPSB0cnVlO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gY2FwdHVyZVN0YWNrVHJhY2Uobykge1xuICAgICAgICAgICAgby5zdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciBoYXNTdGFja0FmdGVyVGhyb3c7XG4gICAgdHJ5IHsgdGhyb3cgbmV3IEVycm9yKCk7IH1cbiAgICBjYXRjaChlKSB7XG4gICAgICAgIGhhc1N0YWNrQWZ0ZXJUaHJvdyA9IChcInN0YWNrXCIgaW4gZSk7XG4gICAgfVxuICAgIGlmICghKFwic3RhY2tcIiBpbiBlcnIpICYmIGhhc1N0YWNrQWZ0ZXJUaHJvdyAmJlxuICAgICAgICB0eXBlb2YgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHN0YWNrRnJhbWVQYXR0ZXJuID0gdjhzdGFja0ZyYW1lUGF0dGVybjtcbiAgICAgICAgZm9ybWF0U3RhY2sgPSB2OHN0YWNrRm9ybWF0dGVyO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gY2FwdHVyZVN0YWNrVHJhY2Uobykge1xuICAgICAgICAgICAgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0ICs9IDY7XG4gICAgICAgICAgICB0cnkgeyB0aHJvdyBuZXcgRXJyb3IoKTsgfVxuICAgICAgICAgICAgY2F0Y2goZSkgeyBvLnN0YWNrID0gZS5zdGFjazsgfVxuICAgICAgICAgICAgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0IC09IDY7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZm9ybWF0U3RhY2sgPSBmdW5jdGlvbihzdGFjaywgZXJyb3IpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzdGFjayA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIHN0YWNrO1xuXG4gICAgICAgIGlmICgodHlwZW9mIGVycm9yID09PSBcIm9iamVjdFwiIHx8XG4gICAgICAgICAgICB0eXBlb2YgZXJyb3IgPT09IFwiZnVuY3Rpb25cIikgJiZcbiAgICAgICAgICAgIGVycm9yLm5hbWUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgZXJyb3IubWVzc2FnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3IudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm9ybWF0Tm9uRXJyb3IoZXJyb3IpO1xuICAgIH07XG5cbiAgICByZXR1cm4gbnVsbDtcblxufSkoW10pO1xuXG5pZiAodHlwZW9mIGNvbnNvbGUgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIGNvbnNvbGUud2FybiAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHByaW50V2FybmluZyA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcbiAgICB9O1xuICAgIGlmICh1dGlsLmlzTm9kZSAmJiBwcm9jZXNzLnN0ZGVyci5pc1RUWSkge1xuICAgICAgICBwcmludFdhcm5pbmcgPSBmdW5jdGlvbihtZXNzYWdlLCBpc1NvZnQpIHtcbiAgICAgICAgICAgIHZhciBjb2xvciA9IGlzU29mdCA/IFwiXFx1MDAxYlszM21cIiA6IFwiXFx1MDAxYlszMW1cIjtcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybihjb2xvciArIG1lc3NhZ2UgKyBcIlxcdTAwMWJbMG1cXG5cIik7XG4gICAgICAgIH07XG4gICAgfSBlbHNlIGlmICghdXRpbC5pc05vZGUgJiYgdHlwZW9mIChuZXcgRXJyb3IoKS5zdGFjaykgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24obWVzc2FnZSwgaXNTb2Z0KSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCIlY1wiICsgbWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzU29mdCA/IFwiY29sb3I6IGRhcmtvcmFuZ2VcIiA6IFwiY29sb3I6IHJlZFwiKTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbnZhciBjb25maWcgPSB7XG4gICAgd2FybmluZ3M6IHdhcm5pbmdzLFxuICAgIGxvbmdTdGFja1RyYWNlczogZmFsc2UsXG4gICAgY2FuY2VsbGF0aW9uOiBmYWxzZSxcbiAgICBtb25pdG9yaW5nOiBmYWxzZVxufTtcblxuaWYgKGxvbmdTdGFja1RyYWNlcykgUHJvbWlzZS5sb25nU3RhY2tUcmFjZXMoKTtcblxucmV0dXJuIHtcbiAgICBsb25nU3RhY2tUcmFjZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gY29uZmlnLmxvbmdTdGFja1RyYWNlcztcbiAgICB9LFxuICAgIHdhcm5pbmdzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGNvbmZpZy53YXJuaW5ncztcbiAgICB9LFxuICAgIGNhbmNlbGxhdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBjb25maWcuY2FuY2VsbGF0aW9uO1xuICAgIH0sXG4gICAgbW9uaXRvcmluZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBjb25maWcubW9uaXRvcmluZztcbiAgICB9LFxuICAgIHByb3BhZ2F0ZUZyb21GdW5jdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBwcm9wYWdhdGVGcm9tRnVuY3Rpb247XG4gICAgfSxcbiAgICBib3VuZFZhbHVlRnVuY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gYm91bmRWYWx1ZUZ1bmN0aW9uO1xuICAgIH0sXG4gICAgY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zOiBjaGVja0ZvcmdvdHRlblJldHVybnMsXG4gICAgc2V0Qm91bmRzOiBzZXRCb3VuZHMsXG4gICAgd2Fybjogd2FybixcbiAgICBkZXByZWNhdGVkOiBkZXByZWNhdGVkLFxuICAgIENhcHR1cmVkVHJhY2U6IENhcHR1cmVkVHJhY2UsXG4gICAgZmlyZURvbUV2ZW50OiBmaXJlRG9tRXZlbnQsXG4gICAgZmlyZUdsb2JhbEV2ZW50OiBmaXJlR2xvYmFsRXZlbnRcbn07XG59O1xuXG59LHtcIi4vZXJyb3JzXCI6MTIsXCIuL3V0aWxcIjozNn1dLDEwOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlKSB7XG5mdW5jdGlvbiByZXR1cm5lcigpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZTtcbn1cbmZ1bmN0aW9uIHRocm93ZXIoKSB7XG4gICAgdGhyb3cgdGhpcy5yZWFzb247XG59XG5cblByb21pc2UucHJvdG90eXBlW1wicmV0dXJuXCJdID1cblByb21pc2UucHJvdG90eXBlLnRoZW5SZXR1cm4gPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB2YWx1ZS5zdXBwcmVzc1VuaGFuZGxlZFJlamVjdGlvbnMoKTtcbiAgICByZXR1cm4gdGhpcy5fdGhlbihcbiAgICAgICAgcmV0dXJuZXIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB7dmFsdWU6IHZhbHVlfSwgdW5kZWZpbmVkKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlW1widGhyb3dcIl0gPVxuUHJvbWlzZS5wcm90b3R5cGUudGhlblRocm93ID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHJldHVybiB0aGlzLl90aGVuKFxuICAgICAgICB0aHJvd2VyLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwge3JlYXNvbjogcmVhc29ufSwgdW5kZWZpbmVkKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmNhdGNoVGhyb3cgPSBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPD0gMSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGhlbihcbiAgICAgICAgICAgIHVuZGVmaW5lZCwgdGhyb3dlciwgdW5kZWZpbmVkLCB7cmVhc29uOiByZWFzb259LCB1bmRlZmluZWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBfcmVhc29uID0gYXJndW1lbnRzWzFdO1xuICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uKCkge3Rocm93IF9yZWFzb247fTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2F1Z2h0KHJlYXNvbiwgaGFuZGxlcik7XG4gICAgfVxufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2hSZXR1cm4gPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHZhbHVlLnN1cHByZXNzVW5oYW5kbGVkUmVqZWN0aW9ucygpO1xuICAgICAgICByZXR1cm4gdGhpcy5fdGhlbihcbiAgICAgICAgICAgIHVuZGVmaW5lZCwgcmV0dXJuZXIsIHVuZGVmaW5lZCwge3ZhbHVlOiB2YWx1ZX0sIHVuZGVmaW5lZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIF92YWx1ZSA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgaWYgKF92YWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIF92YWx1ZS5zdXBwcmVzc1VuaGFuZGxlZFJlamVjdGlvbnMoKTtcbiAgICAgICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbigpIHtyZXR1cm4gX3ZhbHVlO307XG4gICAgICAgIHJldHVybiB0aGlzLmNhdWdodCh2YWx1ZSwgaGFuZGxlcik7XG4gICAgfVxufTtcbn07XG5cbn0se31dLDExOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlLCBJTlRFUk5BTCkge1xudmFyIFByb21pc2VSZWR1Y2UgPSBQcm9taXNlLnJlZHVjZTtcbnZhciBQcm9taXNlQWxsID0gUHJvbWlzZS5hbGw7XG5cbmZ1bmN0aW9uIHByb21pc2VBbGxUaGlzKCkge1xuICAgIHJldHVybiBQcm9taXNlQWxsKHRoaXMpO1xufVxuXG5mdW5jdGlvbiBQcm9taXNlTWFwU2VyaWVzKHByb21pc2VzLCBmbikge1xuICAgIHJldHVybiBQcm9taXNlUmVkdWNlKHByb21pc2VzLCBmbiwgSU5URVJOQUwsIElOVEVSTkFMKTtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGUuZWFjaCA9IGZ1bmN0aW9uIChmbikge1xuICAgIHJldHVybiBQcm9taXNlUmVkdWNlKHRoaXMsIGZuLCBJTlRFUk5BTCwgMClcbiAgICAgICAgICAgICAgLl90aGVuKHByb21pc2VBbGxUaGlzLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdGhpcywgdW5kZWZpbmVkKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLm1hcFNlcmllcyA9IGZ1bmN0aW9uIChmbikge1xuICAgIHJldHVybiBQcm9taXNlUmVkdWNlKHRoaXMsIGZuLCBJTlRFUk5BTCwgSU5URVJOQUwpO1xufTtcblxuUHJvbWlzZS5lYWNoID0gZnVuY3Rpb24gKHByb21pc2VzLCBmbikge1xuICAgIHJldHVybiBQcm9taXNlUmVkdWNlKHByb21pc2VzLCBmbiwgSU5URVJOQUwsIDApXG4gICAgICAgICAgICAgIC5fdGhlbihwcm9taXNlQWxsVGhpcywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHByb21pc2VzLCB1bmRlZmluZWQpO1xufTtcblxuUHJvbWlzZS5tYXBTZXJpZXMgPSBQcm9taXNlTWFwU2VyaWVzO1xufTtcblxuXG59LHt9XSwxMjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbnZhciBlczUgPSBfZGVyZXFfKFwiLi9lczVcIik7XG52YXIgT2JqZWN0ZnJlZXplID0gZXM1LmZyZWV6ZTtcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbnZhciBpbmhlcml0cyA9IHV0aWwuaW5oZXJpdHM7XG52YXIgbm90RW51bWVyYWJsZVByb3AgPSB1dGlsLm5vdEVudW1lcmFibGVQcm9wO1xuXG5mdW5jdGlvbiBzdWJFcnJvcihuYW1lUHJvcGVydHksIGRlZmF1bHRNZXNzYWdlKSB7XG4gICAgZnVuY3Rpb24gU3ViRXJyb3IobWVzc2FnZSkge1xuICAgICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU3ViRXJyb3IpKSByZXR1cm4gbmV3IFN1YkVycm9yKG1lc3NhZ2UpO1xuICAgICAgICBub3RFbnVtZXJhYmxlUHJvcCh0aGlzLCBcIm1lc3NhZ2VcIixcbiAgICAgICAgICAgIHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiID8gbWVzc2FnZSA6IGRlZmF1bHRNZXNzYWdlKTtcbiAgICAgICAgbm90RW51bWVyYWJsZVByb3AodGhpcywgXCJuYW1lXCIsIG5hbWVQcm9wZXJ0eSk7XG4gICAgICAgIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuICAgICAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBFcnJvci5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGluaGVyaXRzKFN1YkVycm9yLCBFcnJvcik7XG4gICAgcmV0dXJuIFN1YkVycm9yO1xufVxuXG52YXIgX1R5cGVFcnJvciwgX1JhbmdlRXJyb3I7XG52YXIgV2FybmluZyA9IHN1YkVycm9yKFwiV2FybmluZ1wiLCBcIndhcm5pbmdcIik7XG52YXIgQ2FuY2VsbGF0aW9uRXJyb3IgPSBzdWJFcnJvcihcIkNhbmNlbGxhdGlvbkVycm9yXCIsIFwiY2FuY2VsbGF0aW9uIGVycm9yXCIpO1xudmFyIFRpbWVvdXRFcnJvciA9IHN1YkVycm9yKFwiVGltZW91dEVycm9yXCIsIFwidGltZW91dCBlcnJvclwiKTtcbnZhciBBZ2dyZWdhdGVFcnJvciA9IHN1YkVycm9yKFwiQWdncmVnYXRlRXJyb3JcIiwgXCJhZ2dyZWdhdGUgZXJyb3JcIik7XG50cnkge1xuICAgIF9UeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG4gICAgX1JhbmdlRXJyb3IgPSBSYW5nZUVycm9yO1xufSBjYXRjaChlKSB7XG4gICAgX1R5cGVFcnJvciA9IHN1YkVycm9yKFwiVHlwZUVycm9yXCIsIFwidHlwZSBlcnJvclwiKTtcbiAgICBfUmFuZ2VFcnJvciA9IHN1YkVycm9yKFwiUmFuZ2VFcnJvclwiLCBcInJhbmdlIGVycm9yXCIpO1xufVxuXG52YXIgbWV0aG9kcyA9IChcImpvaW4gcG9wIHB1c2ggc2hpZnQgdW5zaGlmdCBzbGljZSBmaWx0ZXIgZm9yRWFjaCBzb21lIFwiICtcbiAgICBcImV2ZXJ5IG1hcCBpbmRleE9mIGxhc3RJbmRleE9mIHJlZHVjZSByZWR1Y2VSaWdodCBzb3J0IHJldmVyc2VcIikuc3BsaXQoXCIgXCIpO1xuXG5mb3IgKHZhciBpID0gMDsgaSA8IG1ldGhvZHMubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAodHlwZW9mIEFycmF5LnByb3RvdHlwZVttZXRob2RzW2ldXSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIEFnZ3JlZ2F0ZUVycm9yLnByb3RvdHlwZVttZXRob2RzW2ldXSA9IEFycmF5LnByb3RvdHlwZVttZXRob2RzW2ldXTtcbiAgICB9XG59XG5cbmVzNS5kZWZpbmVQcm9wZXJ0eShBZ2dyZWdhdGVFcnJvci5wcm90b3R5cGUsIFwibGVuZ3RoXCIsIHtcbiAgICB2YWx1ZTogMCxcbiAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgIGVudW1lcmFibGU6IHRydWVcbn0pO1xuQWdncmVnYXRlRXJyb3IucHJvdG90eXBlW1wiaXNPcGVyYXRpb25hbFwiXSA9IHRydWU7XG52YXIgbGV2ZWwgPSAwO1xuQWdncmVnYXRlRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGluZGVudCA9IEFycmF5KGxldmVsICogNCArIDEpLmpvaW4oXCIgXCIpO1xuICAgIHZhciByZXQgPSBcIlxcblwiICsgaW5kZW50ICsgXCJBZ2dyZWdhdGVFcnJvciBvZjpcIiArIFwiXFxuXCI7XG4gICAgbGV2ZWwrKztcbiAgICBpbmRlbnQgPSBBcnJheShsZXZlbCAqIDQgKyAxKS5qb2luKFwiIFwiKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIHN0ciA9IHRoaXNbaV0gPT09IHRoaXMgPyBcIltDaXJjdWxhciBBZ2dyZWdhdGVFcnJvcl1cIiA6IHRoaXNbaV0gKyBcIlwiO1xuICAgICAgICB2YXIgbGluZXMgPSBzdHIuc3BsaXQoXCJcXG5cIik7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGluZXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgIGxpbmVzW2pdID0gaW5kZW50ICsgbGluZXNbal07XG4gICAgICAgIH1cbiAgICAgICAgc3RyID0gbGluZXMuam9pbihcIlxcblwiKTtcbiAgICAgICAgcmV0ICs9IHN0ciArIFwiXFxuXCI7XG4gICAgfVxuICAgIGxldmVsLS07XG4gICAgcmV0dXJuIHJldDtcbn07XG5cbmZ1bmN0aW9uIE9wZXJhdGlvbmFsRXJyb3IobWVzc2FnZSkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBPcGVyYXRpb25hbEVycm9yKSlcbiAgICAgICAgcmV0dXJuIG5ldyBPcGVyYXRpb25hbEVycm9yKG1lc3NhZ2UpO1xuICAgIG5vdEVudW1lcmFibGVQcm9wKHRoaXMsIFwibmFtZVwiLCBcIk9wZXJhdGlvbmFsRXJyb3JcIik7XG4gICAgbm90RW51bWVyYWJsZVByb3AodGhpcywgXCJtZXNzYWdlXCIsIG1lc3NhZ2UpO1xuICAgIHRoaXMuY2F1c2UgPSBtZXNzYWdlO1xuICAgIHRoaXNbXCJpc09wZXJhdGlvbmFsXCJdID0gdHJ1ZTtcblxuICAgIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgbm90RW51bWVyYWJsZVByb3AodGhpcywgXCJtZXNzYWdlXCIsIG1lc3NhZ2UubWVzc2FnZSk7XG4gICAgICAgIG5vdEVudW1lcmFibGVQcm9wKHRoaXMsIFwic3RhY2tcIiwgbWVzc2FnZS5zdGFjayk7XG4gICAgfSBlbHNlIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCB0aGlzLmNvbnN0cnVjdG9yKTtcbiAgICB9XG5cbn1cbmluaGVyaXRzKE9wZXJhdGlvbmFsRXJyb3IsIEVycm9yKTtcblxudmFyIGVycm9yVHlwZXMgPSBFcnJvcltcIl9fQmx1ZWJpcmRFcnJvclR5cGVzX19cIl07XG5pZiAoIWVycm9yVHlwZXMpIHtcbiAgICBlcnJvclR5cGVzID0gT2JqZWN0ZnJlZXplKHtcbiAgICAgICAgQ2FuY2VsbGF0aW9uRXJyb3I6IENhbmNlbGxhdGlvbkVycm9yLFxuICAgICAgICBUaW1lb3V0RXJyb3I6IFRpbWVvdXRFcnJvcixcbiAgICAgICAgT3BlcmF0aW9uYWxFcnJvcjogT3BlcmF0aW9uYWxFcnJvcixcbiAgICAgICAgUmVqZWN0aW9uRXJyb3I6IE9wZXJhdGlvbmFsRXJyb3IsXG4gICAgICAgIEFnZ3JlZ2F0ZUVycm9yOiBBZ2dyZWdhdGVFcnJvclxuICAgIH0pO1xuICAgIGVzNS5kZWZpbmVQcm9wZXJ0eShFcnJvciwgXCJfX0JsdWViaXJkRXJyb3JUeXBlc19fXCIsIHtcbiAgICAgICAgdmFsdWU6IGVycm9yVHlwZXMsXG4gICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2VcbiAgICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgRXJyb3I6IEVycm9yLFxuICAgIFR5cGVFcnJvcjogX1R5cGVFcnJvcixcbiAgICBSYW5nZUVycm9yOiBfUmFuZ2VFcnJvcixcbiAgICBDYW5jZWxsYXRpb25FcnJvcjogZXJyb3JUeXBlcy5DYW5jZWxsYXRpb25FcnJvcixcbiAgICBPcGVyYXRpb25hbEVycm9yOiBlcnJvclR5cGVzLk9wZXJhdGlvbmFsRXJyb3IsXG4gICAgVGltZW91dEVycm9yOiBlcnJvclR5cGVzLlRpbWVvdXRFcnJvcixcbiAgICBBZ2dyZWdhdGVFcnJvcjogZXJyb3JUeXBlcy5BZ2dyZWdhdGVFcnJvcixcbiAgICBXYXJuaW5nOiBXYXJuaW5nXG59O1xuXG59LHtcIi4vZXM1XCI6MTMsXCIuL3V0aWxcIjozNn1dLDEzOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciBpc0VTNSA9IChmdW5jdGlvbigpe1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIHJldHVybiB0aGlzID09PSB1bmRlZmluZWQ7XG59KSgpO1xuXG5pZiAoaXNFUzUpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgICAgZnJlZXplOiBPYmplY3QuZnJlZXplLFxuICAgICAgICBkZWZpbmVQcm9wZXJ0eTogT2JqZWN0LmRlZmluZVByb3BlcnR5LFxuICAgICAgICBnZXREZXNjcmlwdG9yOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxuICAgICAgICBrZXlzOiBPYmplY3Qua2V5cyxcbiAgICAgICAgbmFtZXM6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzLFxuICAgICAgICBnZXRQcm90b3R5cGVPZjogT2JqZWN0LmdldFByb3RvdHlwZU9mLFxuICAgICAgICBpc0FycmF5OiBBcnJheS5pc0FycmF5LFxuICAgICAgICBpc0VTNTogaXNFUzUsXG4gICAgICAgIHByb3BlcnR5SXNXcml0YWJsZTogZnVuY3Rpb24ob2JqLCBwcm9wKSB7XG4gICAgICAgICAgICB2YXIgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBwcm9wKTtcbiAgICAgICAgICAgIHJldHVybiAhISghZGVzY3JpcHRvciB8fCBkZXNjcmlwdG9yLndyaXRhYmxlIHx8IGRlc2NyaXB0b3Iuc2V0KTtcbiAgICAgICAgfVxuICAgIH07XG59IGVsc2Uge1xuICAgIHZhciBoYXMgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcbiAgICB2YXIgc3RyID0ge30udG9TdHJpbmc7XG4gICAgdmFyIHByb3RvID0ge30uY29uc3RydWN0b3IucHJvdG90eXBlO1xuXG4gICAgdmFyIE9iamVjdEtleXMgPSBmdW5jdGlvbiAobykge1xuICAgICAgICB2YXIgcmV0ID0gW107XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBvKSB7XG4gICAgICAgICAgICBpZiAoaGFzLmNhbGwobywga2V5KSkge1xuICAgICAgICAgICAgICAgIHJldC5wdXNoKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuXG4gICAgdmFyIE9iamVjdEdldERlc2NyaXB0b3IgPSBmdW5jdGlvbihvLCBrZXkpIHtcbiAgICAgICAgcmV0dXJuIHt2YWx1ZTogb1trZXldfTtcbiAgICB9O1xuXG4gICAgdmFyIE9iamVjdERlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gKG8sIGtleSwgZGVzYykge1xuICAgICAgICBvW2tleV0gPSBkZXNjLnZhbHVlO1xuICAgICAgICByZXR1cm4gbztcbiAgICB9O1xuXG4gICAgdmFyIE9iamVjdEZyZWV6ZSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9O1xuXG4gICAgdmFyIE9iamVjdEdldFByb3RvdHlwZU9mID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdChvYmopLmNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIHByb3RvO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBBcnJheUlzQXJyYXkgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyLmNhbGwob2JqKSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgICAgaXNBcnJheTogQXJyYXlJc0FycmF5LFxuICAgICAgICBrZXlzOiBPYmplY3RLZXlzLFxuICAgICAgICBuYW1lczogT2JqZWN0S2V5cyxcbiAgICAgICAgZGVmaW5lUHJvcGVydHk6IE9iamVjdERlZmluZVByb3BlcnR5LFxuICAgICAgICBnZXREZXNjcmlwdG9yOiBPYmplY3RHZXREZXNjcmlwdG9yLFxuICAgICAgICBmcmVlemU6IE9iamVjdEZyZWV6ZSxcbiAgICAgICAgZ2V0UHJvdG90eXBlT2Y6IE9iamVjdEdldFByb3RvdHlwZU9mLFxuICAgICAgICBpc0VTNTogaXNFUzUsXG4gICAgICAgIHByb3BlcnR5SXNXcml0YWJsZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbn0se31dLDE0OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlLCBJTlRFUk5BTCkge1xudmFyIFByb21pc2VNYXAgPSBQcm9taXNlLm1hcDtcblxuUHJvbWlzZS5wcm90b3R5cGUuZmlsdGVyID0gZnVuY3Rpb24gKGZuLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIFByb21pc2VNYXAodGhpcywgZm4sIG9wdGlvbnMsIElOVEVSTkFMKTtcbn07XG5cblByb21pc2UuZmlsdGVyID0gZnVuY3Rpb24gKHByb21pc2VzLCBmbiwgb3B0aW9ucykge1xuICAgIHJldHVybiBQcm9taXNlTWFwKHByb21pc2VzLCBmbiwgb3B0aW9ucywgSU5URVJOQUwpO1xufTtcbn07XG5cbn0se31dLDE1OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlLCB0cnlDb252ZXJ0VG9Qcm9taXNlLCBORVhUX0ZJTFRFUikge1xudmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xudmFyIENhbmNlbGxhdGlvbkVycm9yID0gUHJvbWlzZS5DYW5jZWxsYXRpb25FcnJvcjtcbnZhciBlcnJvck9iaiA9IHV0aWwuZXJyb3JPYmo7XG52YXIgY2F0Y2hGaWx0ZXIgPSBfZGVyZXFfKFwiLi9jYXRjaF9maWx0ZXJcIikoTkVYVF9GSUxURVIpO1xuXG5mdW5jdGlvbiBQYXNzVGhyb3VnaEhhbmRsZXJDb250ZXh0KHByb21pc2UsIHR5cGUsIGhhbmRsZXIpIHtcbiAgICB0aGlzLnByb21pc2UgPSBwcm9taXNlO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5oYW5kbGVyID0gaGFuZGxlcjtcbiAgICB0aGlzLmNhbGxlZCA9IGZhbHNlO1xuICAgIHRoaXMuY2FuY2VsUHJvbWlzZSA9IG51bGw7XG59XG5cblBhc3NUaHJvdWdoSGFuZGxlckNvbnRleHQucHJvdG90eXBlLmlzRmluYWxseUhhbmRsZXIgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50eXBlID09PSAwO1xufTtcblxuZnVuY3Rpb24gRmluYWxseUhhbmRsZXJDYW5jZWxSZWFjdGlvbihmaW5hbGx5SGFuZGxlcikge1xuICAgIHRoaXMuZmluYWxseUhhbmRsZXIgPSBmaW5hbGx5SGFuZGxlcjtcbn1cblxuRmluYWxseUhhbmRsZXJDYW5jZWxSZWFjdGlvbi5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIGNoZWNrQ2FuY2VsKHRoaXMuZmluYWxseUhhbmRsZXIpO1xufTtcblxuZnVuY3Rpb24gY2hlY2tDYW5jZWwoY3R4LCByZWFzb24pIHtcbiAgICBpZiAoY3R4LmNhbmNlbFByb21pc2UgIT0gbnVsbCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGN0eC5jYW5jZWxQcm9taXNlLl9yZWplY3QocmVhc29uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGN0eC5jYW5jZWxQcm9taXNlLl9jYW5jZWwoKTtcbiAgICAgICAgfVxuICAgICAgICBjdHguY2FuY2VsUHJvbWlzZSA9IG51bGw7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHN1Y2NlZWQoKSB7XG4gICAgcmV0dXJuIGZpbmFsbHlIYW5kbGVyLmNhbGwodGhpcywgdGhpcy5wcm9taXNlLl90YXJnZXQoKS5fc2V0dGxlZFZhbHVlKCkpO1xufVxuZnVuY3Rpb24gZmFpbChyZWFzb24pIHtcbiAgICBpZiAoY2hlY2tDYW5jZWwodGhpcywgcmVhc29uKSkgcmV0dXJuO1xuICAgIGVycm9yT2JqLmUgPSByZWFzb247XG4gICAgcmV0dXJuIGVycm9yT2JqO1xufVxuZnVuY3Rpb24gZmluYWxseUhhbmRsZXIocmVhc29uT3JWYWx1ZSkge1xuICAgIHZhciBwcm9taXNlID0gdGhpcy5wcm9taXNlO1xuICAgIHZhciBoYW5kbGVyID0gdGhpcy5oYW5kbGVyO1xuXG4gICAgaWYgKCF0aGlzLmNhbGxlZCkge1xuICAgICAgICB0aGlzLmNhbGxlZCA9IHRydWU7XG4gICAgICAgIHZhciByZXQgPSB0aGlzLmlzRmluYWxseUhhbmRsZXIoKVxuICAgICAgICAgICAgPyBoYW5kbGVyLmNhbGwocHJvbWlzZS5fYm91bmRWYWx1ZSgpKVxuICAgICAgICAgICAgOiBoYW5kbGVyLmNhbGwocHJvbWlzZS5fYm91bmRWYWx1ZSgpLCByZWFzb25PclZhbHVlKTtcbiAgICAgICAgaWYgKHJldCA9PT0gTkVYVF9GSUxURVIpIHtcbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH0gZWxzZSBpZiAocmV0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHByb21pc2UuX3NldFJldHVybmVkTm9uVW5kZWZpbmVkKCk7XG4gICAgICAgICAgICB2YXIgbWF5YmVQcm9taXNlID0gdHJ5Q29udmVydFRvUHJvbWlzZShyZXQsIHByb21pc2UpO1xuICAgICAgICAgICAgaWYgKG1heWJlUHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW5jZWxQcm9taXNlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1heWJlUHJvbWlzZS5faXNDYW5jZWxsZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlYXNvbiA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IENhbmNlbGxhdGlvbkVycm9yKFwibGF0ZSBjYW5jZWxsYXRpb24gb2JzZXJ2ZXJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlLl9hdHRhY2hFeHRyYVRyYWNlKHJlYXNvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvck9iai5lID0gcmVhc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yT2JqO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1heWJlUHJvbWlzZS5pc1BlbmRpbmcoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF5YmVQcm9taXNlLl9hdHRhY2hDYW5jZWxsYXRpb25DYWxsYmFjayhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgRmluYWxseUhhbmRsZXJDYW5jZWxSZWFjdGlvbih0aGlzKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1heWJlUHJvbWlzZS5fdGhlbihcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VlZCwgZmFpbCwgdW5kZWZpbmVkLCB0aGlzLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHByb21pc2UuaXNSZWplY3RlZCgpKSB7XG4gICAgICAgIGNoZWNrQ2FuY2VsKHRoaXMpO1xuICAgICAgICBlcnJvck9iai5lID0gcmVhc29uT3JWYWx1ZTtcbiAgICAgICAgcmV0dXJuIGVycm9yT2JqO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNoZWNrQ2FuY2VsKHRoaXMpO1xuICAgICAgICByZXR1cm4gcmVhc29uT3JWYWx1ZTtcbiAgICB9XG59XG5cblByb21pc2UucHJvdG90eXBlLl9wYXNzVGhyb3VnaCA9IGZ1bmN0aW9uKGhhbmRsZXIsIHR5cGUsIHN1Y2Nlc3MsIGZhaWwpIHtcbiAgICBpZiAodHlwZW9mIGhhbmRsZXIgIT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRoaXMudGhlbigpO1xuICAgIHJldHVybiB0aGlzLl90aGVuKHN1Y2Nlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgZmFpbCxcbiAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgbmV3IFBhc3NUaHJvdWdoSGFuZGxlckNvbnRleHQodGhpcywgdHlwZSwgaGFuZGxlciksXG4gICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmxhc3RseSA9XG5Qcm9taXNlLnByb3RvdHlwZVtcImZpbmFsbHlcIl0gPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgIHJldHVybiB0aGlzLl9wYXNzVGhyb3VnaChoYW5kbGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbGx5SGFuZGxlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxseUhhbmRsZXIpO1xufTtcblxuXG5Qcm9taXNlLnByb3RvdHlwZS50YXAgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgIHJldHVybiB0aGlzLl9wYXNzVGhyb3VnaChoYW5kbGVyLCAxLCBmaW5hbGx5SGFuZGxlcik7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS50YXBDYXRjaCA9IGZ1bmN0aW9uIChoYW5kbGVyT3JQcmVkaWNhdGUpIHtcbiAgICB2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBpZihsZW4gPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Bhc3NUaHJvdWdoKGhhbmRsZXJPclByZWRpY2F0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbGx5SGFuZGxlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgIHZhciBjYXRjaEluc3RhbmNlcyA9IG5ldyBBcnJheShsZW4gLSAxKSxcbiAgICAgICAgICAgIGogPSAwLCBpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuIC0gMTsgKytpKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGlmICh1dGlsLmlzT2JqZWN0KGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgY2F0Y2hJbnN0YW5jZXNbaisrXSA9IGl0ZW07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgVHlwZUVycm9yKFxuICAgICAgICAgICAgICAgICAgICBcInRhcENhdGNoIHN0YXRlbWVudCBwcmVkaWNhdGU6IFwiXG4gICAgICAgICAgICAgICAgICAgICsgXCJleHBlY3RpbmcgYW4gb2JqZWN0IGJ1dCBnb3QgXCIgKyB1dGlsLmNsYXNzU3RyaW5nKGl0ZW0pXG4gICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2hJbnN0YW5jZXMubGVuZ3RoID0gajtcbiAgICAgICAgdmFyIGhhbmRsZXIgPSBhcmd1bWVudHNbaV07XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXNzVGhyb3VnaChjYXRjaEZpbHRlcihjYXRjaEluc3RhbmNlcywgaGFuZGxlciwgdGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxseUhhbmRsZXIpO1xuICAgIH1cblxufTtcblxucmV0dXJuIFBhc3NUaHJvdWdoSGFuZGxlckNvbnRleHQ7XG59O1xuXG59LHtcIi4vY2F0Y2hfZmlsdGVyXCI6NyxcIi4vdXRpbFwiOjM2fV0sMTY6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFwaVJlamVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgSU5URVJOQUwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRyeUNvbnZlcnRUb1Byb21pc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFByb3h5YWJsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcpIHtcbnZhciBlcnJvcnMgPSBfZGVyZXFfKFwiLi9lcnJvcnNcIik7XG52YXIgVHlwZUVycm9yID0gZXJyb3JzLlR5cGVFcnJvcjtcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbnZhciBlcnJvck9iaiA9IHV0aWwuZXJyb3JPYmo7XG52YXIgdHJ5Q2F0Y2ggPSB1dGlsLnRyeUNhdGNoO1xudmFyIHlpZWxkSGFuZGxlcnMgPSBbXTtcblxuZnVuY3Rpb24gcHJvbWlzZUZyb21ZaWVsZEhhbmRsZXIodmFsdWUsIHlpZWxkSGFuZGxlcnMsIHRyYWNlUGFyZW50KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB5aWVsZEhhbmRsZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHRyYWNlUGFyZW50Ll9wdXNoQ29udGV4dCgpO1xuICAgICAgICB2YXIgcmVzdWx0ID0gdHJ5Q2F0Y2goeWllbGRIYW5kbGVyc1tpXSkodmFsdWUpO1xuICAgICAgICB0cmFjZVBhcmVudC5fcG9wQ29udGV4dCgpO1xuICAgICAgICBpZiAocmVzdWx0ID09PSBlcnJvck9iaikge1xuICAgICAgICAgICAgdHJhY2VQYXJlbnQuX3B1c2hDb250ZXh0KCk7XG4gICAgICAgICAgICB2YXIgcmV0ID0gUHJvbWlzZS5yZWplY3QoZXJyb3JPYmouZSk7XG4gICAgICAgICAgICB0cmFjZVBhcmVudC5fcG9wQ29udGV4dCgpO1xuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWF5YmVQcm9taXNlID0gdHJ5Q29udmVydFRvUHJvbWlzZShyZXN1bHQsIHRyYWNlUGFyZW50KTtcbiAgICAgICAgaWYgKG1heWJlUHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpIHJldHVybiBtYXliZVByb21pc2U7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBQcm9taXNlU3Bhd24oZ2VuZXJhdG9yRnVuY3Rpb24sIHJlY2VpdmVyLCB5aWVsZEhhbmRsZXIsIHN0YWNrKSB7XG4gICAgaWYgKGRlYnVnLmNhbmNlbGxhdGlvbigpKSB7XG4gICAgICAgIHZhciBpbnRlcm5hbCA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcbiAgICAgICAgdmFyIF9maW5hbGx5UHJvbWlzZSA9IHRoaXMuX2ZpbmFsbHlQcm9taXNlID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuICAgICAgICB0aGlzLl9wcm9taXNlID0gaW50ZXJuYWwubGFzdGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9maW5hbGx5UHJvbWlzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGludGVybmFsLl9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuICAgICAgICBpbnRlcm5hbC5fc2V0T25DYW5jZWwodGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLl9wcm9taXNlID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuICAgICAgICBwcm9taXNlLl9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuICAgIH1cbiAgICB0aGlzLl9zdGFjayA9IHN0YWNrO1xuICAgIHRoaXMuX2dlbmVyYXRvckZ1bmN0aW9uID0gZ2VuZXJhdG9yRnVuY3Rpb247XG4gICAgdGhpcy5fcmVjZWl2ZXIgPSByZWNlaXZlcjtcbiAgICB0aGlzLl9nZW5lcmF0b3IgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5feWllbGRIYW5kbGVycyA9IHR5cGVvZiB5aWVsZEhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICA/IFt5aWVsZEhhbmRsZXJdLmNvbmNhdCh5aWVsZEhhbmRsZXJzKVxuICAgICAgICA6IHlpZWxkSGFuZGxlcnM7XG4gICAgdGhpcy5feWllbGRlZFByb21pc2UgPSBudWxsO1xuICAgIHRoaXMuX2NhbmNlbGxhdGlvblBoYXNlID0gZmFsc2U7XG59XG51dGlsLmluaGVyaXRzKFByb21pc2VTcGF3biwgUHJveHlhYmxlKTtcblxuUHJvbWlzZVNwYXduLnByb3RvdHlwZS5faXNSZXNvbHZlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9wcm9taXNlID09PSBudWxsO1xufTtcblxuUHJvbWlzZVNwYXduLnByb3RvdHlwZS5fY2xlYW51cCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX3Byb21pc2UgPSB0aGlzLl9nZW5lcmF0b3IgPSBudWxsO1xuICAgIGlmIChkZWJ1Zy5jYW5jZWxsYXRpb24oKSAmJiB0aGlzLl9maW5hbGx5UHJvbWlzZSAhPT0gbnVsbCkge1xuICAgICAgICB0aGlzLl9maW5hbGx5UHJvbWlzZS5fZnVsZmlsbCgpO1xuICAgICAgICB0aGlzLl9maW5hbGx5UHJvbWlzZSA9IG51bGw7XG4gICAgfVxufTtcblxuUHJvbWlzZVNwYXduLnByb3RvdHlwZS5fcHJvbWlzZUNhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLl9pc1Jlc29sdmVkKCkpIHJldHVybjtcbiAgICB2YXIgaW1wbGVtZW50c1JldHVybiA9IHR5cGVvZiB0aGlzLl9nZW5lcmF0b3JbXCJyZXR1cm5cIl0gIT09IFwidW5kZWZpbmVkXCI7XG5cbiAgICB2YXIgcmVzdWx0O1xuICAgIGlmICghaW1wbGVtZW50c1JldHVybikge1xuICAgICAgICB2YXIgcmVhc29uID0gbmV3IFByb21pc2UuQ2FuY2VsbGF0aW9uRXJyb3IoXG4gICAgICAgICAgICBcImdlbmVyYXRvciAucmV0dXJuKCkgc2VudGluZWxcIik7XG4gICAgICAgIFByb21pc2UuY29yb3V0aW5lLnJldHVyblNlbnRpbmVsID0gcmVhc29uO1xuICAgICAgICB0aGlzLl9wcm9taXNlLl9hdHRhY2hFeHRyYVRyYWNlKHJlYXNvbik7XG4gICAgICAgIHRoaXMuX3Byb21pc2UuX3B1c2hDb250ZXh0KCk7XG4gICAgICAgIHJlc3VsdCA9IHRyeUNhdGNoKHRoaXMuX2dlbmVyYXRvcltcInRocm93XCJdKS5jYWxsKHRoaXMuX2dlbmVyYXRvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbik7XG4gICAgICAgIHRoaXMuX3Byb21pc2UuX3BvcENvbnRleHQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9wcm9taXNlLl9wdXNoQ29udGV4dCgpO1xuICAgICAgICByZXN1bHQgPSB0cnlDYXRjaCh0aGlzLl9nZW5lcmF0b3JbXCJyZXR1cm5cIl0pLmNhbGwodGhpcy5fZ2VuZXJhdG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCk7XG4gICAgICAgIHRoaXMuX3Byb21pc2UuX3BvcENvbnRleHQoKTtcbiAgICB9XG4gICAgdGhpcy5fY2FuY2VsbGF0aW9uUGhhc2UgPSB0cnVlO1xuICAgIHRoaXMuX3lpZWxkZWRQcm9taXNlID0gbnVsbDtcbiAgICB0aGlzLl9jb250aW51ZShyZXN1bHQpO1xufTtcblxuUHJvbWlzZVNwYXduLnByb3RvdHlwZS5fcHJvbWlzZUZ1bGZpbGxlZCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdGhpcy5feWllbGRlZFByb21pc2UgPSBudWxsO1xuICAgIHRoaXMuX3Byb21pc2UuX3B1c2hDb250ZXh0KCk7XG4gICAgdmFyIHJlc3VsdCA9IHRyeUNhdGNoKHRoaXMuX2dlbmVyYXRvci5uZXh0KS5jYWxsKHRoaXMuX2dlbmVyYXRvciwgdmFsdWUpO1xuICAgIHRoaXMuX3Byb21pc2UuX3BvcENvbnRleHQoKTtcbiAgICB0aGlzLl9jb250aW51ZShyZXN1bHQpO1xufTtcblxuUHJvbWlzZVNwYXduLnByb3RvdHlwZS5fcHJvbWlzZVJlamVjdGVkID0gZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgdGhpcy5feWllbGRlZFByb21pc2UgPSBudWxsO1xuICAgIHRoaXMuX3Byb21pc2UuX2F0dGFjaEV4dHJhVHJhY2UocmVhc29uKTtcbiAgICB0aGlzLl9wcm9taXNlLl9wdXNoQ29udGV4dCgpO1xuICAgIHZhciByZXN1bHQgPSB0cnlDYXRjaCh0aGlzLl9nZW5lcmF0b3JbXCJ0aHJvd1wiXSlcbiAgICAgICAgLmNhbGwodGhpcy5fZ2VuZXJhdG9yLCByZWFzb24pO1xuICAgIHRoaXMuX3Byb21pc2UuX3BvcENvbnRleHQoKTtcbiAgICB0aGlzLl9jb250aW51ZShyZXN1bHQpO1xufTtcblxuUHJvbWlzZVNwYXduLnByb3RvdHlwZS5fcmVzdWx0Q2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX3lpZWxkZWRQcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuX3lpZWxkZWRQcm9taXNlO1xuICAgICAgICB0aGlzLl95aWVsZGVkUHJvbWlzZSA9IG51bGw7XG4gICAgICAgIHByb21pc2UuY2FuY2VsKCk7XG4gICAgfVxufTtcblxuUHJvbWlzZVNwYXduLnByb3RvdHlwZS5wcm9taXNlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9wcm9taXNlO1xufTtcblxuUHJvbWlzZVNwYXduLnByb3RvdHlwZS5fcnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX2dlbmVyYXRvciA9IHRoaXMuX2dlbmVyYXRvckZ1bmN0aW9uLmNhbGwodGhpcy5fcmVjZWl2ZXIpO1xuICAgIHRoaXMuX3JlY2VpdmVyID1cbiAgICAgICAgdGhpcy5fZ2VuZXJhdG9yRnVuY3Rpb24gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fcHJvbWlzZUZ1bGZpbGxlZCh1bmRlZmluZWQpO1xufTtcblxuUHJvbWlzZVNwYXduLnByb3RvdHlwZS5fY29udGludWUgPSBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgdmFyIHByb21pc2UgPSB0aGlzLl9wcm9taXNlO1xuICAgIGlmIChyZXN1bHQgPT09IGVycm9yT2JqKSB7XG4gICAgICAgIHRoaXMuX2NsZWFudXAoKTtcbiAgICAgICAgaWYgKHRoaXMuX2NhbmNlbGxhdGlvblBoYXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZS5jYW5jZWwoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlLl9yZWplY3RDYWxsYmFjayhyZXN1bHQuZSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgIGlmIChyZXN1bHQuZG9uZSA9PT0gdHJ1ZSkge1xuICAgICAgICB0aGlzLl9jbGVhbnVwKCk7XG4gICAgICAgIGlmICh0aGlzLl9jYW5jZWxsYXRpb25QaGFzZSkge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2UuY2FuY2VsKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZS5fcmVzb2x2ZUNhbGxiYWNrKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBtYXliZVByb21pc2UgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKHZhbHVlLCB0aGlzLl9wcm9taXNlKTtcbiAgICAgICAgaWYgKCEobWF5YmVQcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkpIHtcbiAgICAgICAgICAgIG1heWJlUHJvbWlzZSA9XG4gICAgICAgICAgICAgICAgcHJvbWlzZUZyb21ZaWVsZEhhbmRsZXIobWF5YmVQcm9taXNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3lpZWxkSGFuZGxlcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcHJvbWlzZSk7XG4gICAgICAgICAgICBpZiAobWF5YmVQcm9taXNlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcHJvbWlzZVJlamVjdGVkKFxuICAgICAgICAgICAgICAgICAgICBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJBIHZhbHVlICVzIHdhcyB5aWVsZGVkIHRoYXQgY291bGQgbm90IGJlIHRyZWF0ZWQgYXMgYSBwcm9taXNlXFx1MDAwYVxcdTAwMGEgICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFx1MDAwYVxcdTAwMGFcIi5yZXBsYWNlKFwiJXNcIiwgU3RyaW5nKHZhbHVlKSkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJGcm9tIGNvcm91dGluZTpcXHUwMDBhXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhY2suc3BsaXQoXCJcXG5cIikuc2xpY2UoMSwgLTcpLmpvaW4oXCJcXG5cIilcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG1heWJlUHJvbWlzZSA9IG1heWJlUHJvbWlzZS5fdGFyZ2V0KCk7XG4gICAgICAgIHZhciBiaXRGaWVsZCA9IG1heWJlUHJvbWlzZS5fYml0RmllbGQ7XG4gICAgICAgIDtcbiAgICAgICAgaWYgKCgoYml0RmllbGQgJiA1MDM5NzE4NCkgPT09IDApKSB7XG4gICAgICAgICAgICB0aGlzLl95aWVsZGVkUHJvbWlzZSA9IG1heWJlUHJvbWlzZTtcbiAgICAgICAgICAgIG1heWJlUHJvbWlzZS5fcHJveHkodGhpcywgbnVsbCk7XG4gICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDMzNTU0NDMyKSAhPT0gMCkpIHtcbiAgICAgICAgICAgIFByb21pc2UuX2FzeW5jLmludm9rZShcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm9taXNlRnVsZmlsbGVkLCB0aGlzLCBtYXliZVByb21pc2UuX3ZhbHVlKClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDE2Nzc3MjE2KSAhPT0gMCkpIHtcbiAgICAgICAgICAgIFByb21pc2UuX2FzeW5jLmludm9rZShcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm9taXNlUmVqZWN0ZWQsIHRoaXMsIG1heWJlUHJvbWlzZS5fcmVhc29uKClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9wcm9taXNlQ2FuY2VsbGVkKCk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5Qcm9taXNlLmNvcm91dGluZSA9IGZ1bmN0aW9uIChnZW5lcmF0b3JGdW5jdGlvbiwgb3B0aW9ucykge1xuICAgIGlmICh0eXBlb2YgZ2VuZXJhdG9yRnVuY3Rpb24gIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiZ2VuZXJhdG9yRnVuY3Rpb24gbXVzdCBiZSBhIGZ1bmN0aW9uXFx1MDAwYVxcdTAwMGEgICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFx1MDAwYVwiKTtcbiAgICB9XG4gICAgdmFyIHlpZWxkSGFuZGxlciA9IE9iamVjdChvcHRpb25zKS55aWVsZEhhbmRsZXI7XG4gICAgdmFyIFByb21pc2VTcGF3biQgPSBQcm9taXNlU3Bhd247XG4gICAgdmFyIHN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdlbmVyYXRvciA9IGdlbmVyYXRvckZ1bmN0aW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIHZhciBzcGF3biA9IG5ldyBQcm9taXNlU3Bhd24kKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB5aWVsZEhhbmRsZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrKTtcbiAgICAgICAgdmFyIHJldCA9IHNwYXduLnByb21pc2UoKTtcbiAgICAgICAgc3Bhd24uX2dlbmVyYXRvciA9IGdlbmVyYXRvcjtcbiAgICAgICAgc3Bhd24uX3Byb21pc2VGdWxmaWxsZWQodW5kZWZpbmVkKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xufTtcblxuUHJvbWlzZS5jb3JvdXRpbmUuYWRkWWllbGRIYW5kbGVyID0gZnVuY3Rpb24oZm4pIHtcbiAgICBpZiAodHlwZW9mIGZuICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIgKyB1dGlsLmNsYXNzU3RyaW5nKGZuKSk7XG4gICAgfVxuICAgIHlpZWxkSGFuZGxlcnMucHVzaChmbik7XG59O1xuXG5Qcm9taXNlLnNwYXduID0gZnVuY3Rpb24gKGdlbmVyYXRvckZ1bmN0aW9uKSB7XG4gICAgZGVidWcuZGVwcmVjYXRlZChcIlByb21pc2Uuc3Bhd24oKVwiLCBcIlByb21pc2UuY29yb3V0aW5lKClcIik7XG4gICAgaWYgKHR5cGVvZiBnZW5lcmF0b3JGdW5jdGlvbiAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBhcGlSZWplY3Rpb24oXCJnZW5lcmF0b3JGdW5jdGlvbiBtdXN0IGJlIGEgZnVuY3Rpb25cXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xuICAgIH1cbiAgICB2YXIgc3Bhd24gPSBuZXcgUHJvbWlzZVNwYXduKGdlbmVyYXRvckZ1bmN0aW9uLCB0aGlzKTtcbiAgICB2YXIgcmV0ID0gc3Bhd24ucHJvbWlzZSgpO1xuICAgIHNwYXduLl9ydW4oUHJvbWlzZS5zcGF3bik7XG4gICAgcmV0dXJuIHJldDtcbn07XG59O1xuXG59LHtcIi4vZXJyb3JzXCI6MTIsXCIuL3V0aWxcIjozNn1dLDE3OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPVxuZnVuY3Rpb24oUHJvbWlzZSwgUHJvbWlzZUFycmF5LCB0cnlDb252ZXJ0VG9Qcm9taXNlLCBJTlRFUk5BTCwgYXN5bmMsXG4gICAgICAgICBnZXREb21haW4pIHtcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbnZhciBjYW5FdmFsdWF0ZSA9IHV0aWwuY2FuRXZhbHVhdGU7XG52YXIgdHJ5Q2F0Y2ggPSB1dGlsLnRyeUNhdGNoO1xudmFyIGVycm9yT2JqID0gdXRpbC5lcnJvck9iajtcbnZhciByZWplY3Q7XG5cbmlmICghdHJ1ZSkge1xuaWYgKGNhbkV2YWx1YXRlKSB7XG4gICAgdmFyIHRoZW5DYWxsYmFjayA9IGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbihcInZhbHVlXCIsIFwiaG9sZGVyXCIsIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgJ3VzZSBzdHJpY3QnOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgaG9sZGVyLnBJbmRleCA9IHZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgaG9sZGVyLmNoZWNrRnVsZmlsbG1lbnQodGhpcyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgXCIucmVwbGFjZSgvSW5kZXgvZywgaSkpO1xuICAgIH07XG5cbiAgICB2YXIgcHJvbWlzZVNldHRlciA9IGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbihcInByb21pc2VcIiwgXCJob2xkZXJcIiwgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgJ3VzZSBzdHJpY3QnOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgaG9sZGVyLnBJbmRleCA9IHByb21pc2U7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgXCIucmVwbGFjZSgvSW5kZXgvZywgaSkpO1xuICAgIH07XG5cbiAgICB2YXIgZ2VuZXJhdGVIb2xkZXJDbGFzcyA9IGZ1bmN0aW9uKHRvdGFsKSB7XG4gICAgICAgIHZhciBwcm9wcyA9IG5ldyBBcnJheSh0b3RhbCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHByb3BzW2ldID0gXCJ0aGlzLnBcIiArIChpKzEpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhc3NpZ25tZW50ID0gcHJvcHMuam9pbihcIiA9IFwiKSArIFwiID0gbnVsbDtcIjtcbiAgICAgICAgdmFyIGNhbmNlbGxhdGlvbkNvZGU9IFwidmFyIHByb21pc2U7XFxuXCIgKyBwcm9wcy5tYXAoZnVuY3Rpb24ocHJvcCkge1xuICAgICAgICAgICAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgICAgICAgICBwcm9taXNlID0gXCIgKyBwcm9wICsgXCI7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIGlmIChwcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgICAgICBwcm9taXNlLmNhbmNlbCgpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgXCI7XG4gICAgICAgIH0pLmpvaW4oXCJcXG5cIik7XG4gICAgICAgIHZhciBwYXNzZWRBcmd1bWVudHMgPSBwcm9wcy5qb2luKFwiLCBcIik7XG4gICAgICAgIHZhciBuYW1lID0gXCJIb2xkZXIkXCIgKyB0b3RhbDtcblxuXG4gICAgICAgIHZhciBjb2RlID0gXCJyZXR1cm4gZnVuY3Rpb24odHJ5Q2F0Y2gsIGVycm9yT2JqLCBQcm9taXNlLCBhc3luYykgeyAgICBcXG5cXFxuICAgICAgICAgICAgJ3VzZSBzdHJpY3QnOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgZnVuY3Rpb24gW1RoZU5hbWVdKGZuKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIFtUaGVQcm9wZXJ0aWVzXSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIHRoaXMuZm4gPSBmbjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIHRoaXMuYXN5bmNOZWVkZWQgPSB0cnVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIHRoaXMubm93ID0gMDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgW1RoZU5hbWVdLnByb3RvdHlwZS5fY2FsbEZ1bmN0aW9uID0gZnVuY3Rpb24ocHJvbWlzZSkgeyAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIHByb21pc2UuX3B1c2hDb250ZXh0KCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIHZhciByZXQgPSB0cnlDYXRjaCh0aGlzLmZuKShbVGhlUGFzc2VkQXJndW1lbnRzXSk7ICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIHByb21pc2UuX3BvcENvbnRleHQoKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIGlmIChyZXQgPT09IGVycm9yT2JqKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgICAgICBwcm9taXNlLl9yZWplY3RDYWxsYmFjayhyZXQuZSwgZmFsc2UpOyAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgICAgICBwcm9taXNlLl9yZXNvbHZlQ2FsbGJhY2socmV0KTsgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgfTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgW1RoZU5hbWVdLnByb3RvdHlwZS5jaGVja0Z1bGZpbGxtZW50ID0gZnVuY3Rpb24ocHJvbWlzZSkgeyAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIHZhciBub3cgPSArK3RoaXMubm93OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIGlmIChub3cgPT09IFtUaGVUb3RhbF0pIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hc3luY05lZWRlZCkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgYXN5bmMuaW52b2tlKHRoaXMuX2NhbGxGdW5jdGlvbiwgdGhpcywgcHJvbWlzZSk7ICAgICBcXG5cXFxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FsbEZ1bmN0aW9uKHByb21pc2UpOyAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgfTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgW1RoZU5hbWVdLnByb3RvdHlwZS5fcmVzdWx0Q2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7ICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIFtDYW5jZWxsYXRpb25Db2RlXSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgfTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgcmV0dXJuIFtUaGVOYW1lXTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICB9KHRyeUNhdGNoLCBlcnJvck9iaiwgUHJvbWlzZSwgYXN5bmMpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICBcIjtcblxuICAgICAgICBjb2RlID0gY29kZS5yZXBsYWNlKC9cXFtUaGVOYW1lXFxdL2csIG5hbWUpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxbVGhlVG90YWxcXF0vZywgdG90YWwpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxbVGhlUGFzc2VkQXJndW1lbnRzXFxdL2csIHBhc3NlZEFyZ3VtZW50cylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXFtUaGVQcm9wZXJ0aWVzXFxdL2csIGFzc2lnbm1lbnQpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxbQ2FuY2VsbGF0aW9uQ29kZVxcXS9nLCBjYW5jZWxsYXRpb25Db2RlKTtcblxuICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKFwidHJ5Q2F0Y2hcIiwgXCJlcnJvck9ialwiLCBcIlByb21pc2VcIiwgXCJhc3luY1wiLCBjb2RlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRyeUNhdGNoLCBlcnJvck9iaiwgUHJvbWlzZSwgYXN5bmMpO1xuICAgIH07XG5cbiAgICB2YXIgaG9sZGVyQ2xhc3NlcyA9IFtdO1xuICAgIHZhciB0aGVuQ2FsbGJhY2tzID0gW107XG4gICAgdmFyIHByb21pc2VTZXR0ZXJzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDg7ICsraSkge1xuICAgICAgICBob2xkZXJDbGFzc2VzLnB1c2goZ2VuZXJhdGVIb2xkZXJDbGFzcyhpICsgMSkpO1xuICAgICAgICB0aGVuQ2FsbGJhY2tzLnB1c2godGhlbkNhbGxiYWNrKGkgKyAxKSk7XG4gICAgICAgIHByb21pc2VTZXR0ZXJzLnB1c2gocHJvbWlzZVNldHRlcihpICsgMSkpO1xuICAgIH1cblxuICAgIHJlamVjdCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgdGhpcy5fcmVqZWN0KHJlYXNvbik7XG4gICAgfTtcbn19XG5cblByb21pc2Uuam9pbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbGFzdCA9IGFyZ3VtZW50cy5sZW5ndGggLSAxO1xuICAgIHZhciBmbjtcbiAgICBpZiAobGFzdCA+IDAgJiYgdHlwZW9mIGFyZ3VtZW50c1tsYXN0XSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGZuID0gYXJndW1lbnRzW2xhc3RdO1xuICAgICAgICBpZiAoIXRydWUpIHtcbiAgICAgICAgICAgIGlmIChsYXN0IDw9IDggJiYgY2FuRXZhbHVhdGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmV0ID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuICAgICAgICAgICAgICAgIHJldC5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgICAgICB2YXIgSG9sZGVyQ2xhc3MgPSBob2xkZXJDbGFzc2VzW2xhc3QgLSAxXTtcbiAgICAgICAgICAgICAgICB2YXIgaG9sZGVyID0gbmV3IEhvbGRlckNsYXNzKGZuKTtcbiAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2tzID0gdGhlbkNhbGxiYWNrcztcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXliZVByb21pc2UgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKGFyZ3VtZW50c1tpXSwgcmV0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1heWJlUHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heWJlUHJvbWlzZSA9IG1heWJlUHJvbWlzZS5fdGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYml0RmllbGQgPSBtYXliZVByb21pc2UuX2JpdEZpZWxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgoYml0RmllbGQgJiA1MDM5NzE4NCkgPT09IDApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF5YmVQcm9taXNlLl90aGVuKGNhbGxiYWNrc1tpXSwgcmVqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsIHJldCwgaG9sZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlU2V0dGVyc1tpXShtYXliZVByb21pc2UsIGhvbGRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9sZGVyLmFzeW5jTmVlZGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCgoYml0RmllbGQgJiAzMzU1NDQzMikgIT09IDApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzW2ldLmNhbGwocmV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heWJlUHJvbWlzZS5fdmFsdWUoKSwgaG9sZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDE2Nzc3MjE2KSAhPT0gMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXQuX3JlamVjdChtYXliZVByb21pc2UuX3JlYXNvbigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0Ll9jYW5jZWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrc1tpXS5jYWxsKHJldCwgbWF5YmVQcm9taXNlLCBob2xkZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCFyZXQuX2lzRmF0ZVNlYWxlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChob2xkZXIuYXN5bmNOZWVkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkb21haW4gPSBnZXREb21haW4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb21haW4gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBob2xkZXIuZm4gPSB1dGlsLmRvbWFpbkJpbmQoZG9tYWluLCBob2xkZXIuZm4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldC5fc2V0QXN5bmNHdWFyYW50ZWVkKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldC5fc2V0T25DYW5jZWwoaG9sZGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTs7XG4gICAgaWYgKGZuKSBhcmdzLnBvcCgpO1xuICAgIHZhciByZXQgPSBuZXcgUHJvbWlzZUFycmF5KGFyZ3MpLnByb21pc2UoKTtcbiAgICByZXR1cm4gZm4gIT09IHVuZGVmaW5lZCA/IHJldC5zcHJlYWQoZm4pIDogcmV0O1xufTtcblxufTtcblxufSx7XCIuL3V0aWxcIjozNn1dLDE4OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9taXNlQXJyYXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFwaVJlamVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5Q29udmVydFRvUHJvbWlzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgSU5URVJOQUwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKSB7XG52YXIgZ2V0RG9tYWluID0gUHJvbWlzZS5fZ2V0RG9tYWluO1xudmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xudmFyIHRyeUNhdGNoID0gdXRpbC50cnlDYXRjaDtcbnZhciBlcnJvck9iaiA9IHV0aWwuZXJyb3JPYmo7XG52YXIgYXN5bmMgPSBQcm9taXNlLl9hc3luYztcblxuZnVuY3Rpb24gTWFwcGluZ1Byb21pc2VBcnJheShwcm9taXNlcywgZm4sIGxpbWl0LCBfZmlsdGVyKSB7XG4gICAgdGhpcy5jb25zdHJ1Y3RvciQocHJvbWlzZXMpO1xuICAgIHRoaXMuX3Byb21pc2UuX2NhcHR1cmVTdGFja1RyYWNlKCk7XG4gICAgdmFyIGRvbWFpbiA9IGdldERvbWFpbigpO1xuICAgIHRoaXMuX2NhbGxiYWNrID0gZG9tYWluID09PSBudWxsID8gZm4gOiB1dGlsLmRvbWFpbkJpbmQoZG9tYWluLCBmbik7XG4gICAgdGhpcy5fcHJlc2VydmVkVmFsdWVzID0gX2ZpbHRlciA9PT0gSU5URVJOQUxcbiAgICAgICAgPyBuZXcgQXJyYXkodGhpcy5sZW5ndGgoKSlcbiAgICAgICAgOiBudWxsO1xuICAgIHRoaXMuX2xpbWl0ID0gbGltaXQ7XG4gICAgdGhpcy5faW5GbGlnaHQgPSAwO1xuICAgIHRoaXMuX3F1ZXVlID0gW107XG4gICAgYXN5bmMuaW52b2tlKHRoaXMuX2FzeW5jSW5pdCwgdGhpcywgdW5kZWZpbmVkKTtcbn1cbnV0aWwuaW5oZXJpdHMoTWFwcGluZ1Byb21pc2VBcnJheSwgUHJvbWlzZUFycmF5KTtcblxuTWFwcGluZ1Byb21pc2VBcnJheS5wcm90b3R5cGUuX2FzeW5jSW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2luaXQkKHVuZGVmaW5lZCwgLTIpO1xufTtcblxuTWFwcGluZ1Byb21pc2VBcnJheS5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiAoKSB7fTtcblxuTWFwcGluZ1Byb21pc2VBcnJheS5wcm90b3R5cGUuX3Byb21pc2VGdWxmaWxsZWQgPSBmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7XG4gICAgdmFyIHZhbHVlcyA9IHRoaXMuX3ZhbHVlcztcbiAgICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGgoKTtcbiAgICB2YXIgcHJlc2VydmVkVmFsdWVzID0gdGhpcy5fcHJlc2VydmVkVmFsdWVzO1xuICAgIHZhciBsaW1pdCA9IHRoaXMuX2xpbWl0O1xuXG4gICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICBpbmRleCA9IChpbmRleCAqIC0xKSAtIDE7XG4gICAgICAgIHZhbHVlc1tpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgaWYgKGxpbWl0ID49IDEpIHtcbiAgICAgICAgICAgIHRoaXMuX2luRmxpZ2h0LS07XG4gICAgICAgICAgICB0aGlzLl9kcmFpblF1ZXVlKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5faXNSZXNvbHZlZCgpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChsaW1pdCA+PSAxICYmIHRoaXMuX2luRmxpZ2h0ID49IGxpbWl0KSB7XG4gICAgICAgICAgICB2YWx1ZXNbaW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9xdWV1ZS5wdXNoKGluZGV4KTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJlc2VydmVkVmFsdWVzICE9PSBudWxsKSBwcmVzZXJ2ZWRWYWx1ZXNbaW5kZXhdID0gdmFsdWU7XG5cbiAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLl9wcm9taXNlO1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSB0aGlzLl9jYWxsYmFjaztcbiAgICAgICAgdmFyIHJlY2VpdmVyID0gcHJvbWlzZS5fYm91bmRWYWx1ZSgpO1xuICAgICAgICBwcm9taXNlLl9wdXNoQ29udGV4dCgpO1xuICAgICAgICB2YXIgcmV0ID0gdHJ5Q2F0Y2goY2FsbGJhY2spLmNhbGwocmVjZWl2ZXIsIHZhbHVlLCBpbmRleCwgbGVuZ3RoKTtcbiAgICAgICAgdmFyIHByb21pc2VDcmVhdGVkID0gcHJvbWlzZS5fcG9wQ29udGV4dCgpO1xuICAgICAgICBkZWJ1Zy5jaGVja0ZvcmdvdHRlblJldHVybnMoXG4gICAgICAgICAgICByZXQsXG4gICAgICAgICAgICBwcm9taXNlQ3JlYXRlZCxcbiAgICAgICAgICAgIHByZXNlcnZlZFZhbHVlcyAhPT0gbnVsbCA/IFwiUHJvbWlzZS5maWx0ZXJcIiA6IFwiUHJvbWlzZS5tYXBcIixcbiAgICAgICAgICAgIHByb21pc2VcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHJldCA9PT0gZXJyb3JPYmopIHtcbiAgICAgICAgICAgIHRoaXMuX3JlamVjdChyZXQuZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtYXliZVByb21pc2UgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKHJldCwgdGhpcy5fcHJvbWlzZSk7XG4gICAgICAgIGlmIChtYXliZVByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICBtYXliZVByb21pc2UgPSBtYXliZVByb21pc2UuX3RhcmdldCgpO1xuICAgICAgICAgICAgdmFyIGJpdEZpZWxkID0gbWF5YmVQcm9taXNlLl9iaXRGaWVsZDtcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIGlmICgoKGJpdEZpZWxkICYgNTAzOTcxODQpID09PSAwKSkge1xuICAgICAgICAgICAgICAgIGlmIChsaW1pdCA+PSAxKSB0aGlzLl9pbkZsaWdodCsrO1xuICAgICAgICAgICAgICAgIHZhbHVlc1tpbmRleF0gPSBtYXliZVByb21pc2U7XG4gICAgICAgICAgICAgICAgbWF5YmVQcm9taXNlLl9wcm94eSh0aGlzLCAoaW5kZXggKyAxKSAqIC0xKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCgoYml0RmllbGQgJiAzMzU1NDQzMikgIT09IDApKSB7XG4gICAgICAgICAgICAgICAgcmV0ID0gbWF5YmVQcm9taXNlLl92YWx1ZSgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgoKGJpdEZpZWxkICYgMTY3NzcyMTYpICE9PSAwKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlamVjdChtYXliZVByb21pc2UuX3JlYXNvbigpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FuY2VsKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWVzW2luZGV4XSA9IHJldDtcbiAgICB9XG4gICAgdmFyIHRvdGFsUmVzb2x2ZWQgPSArK3RoaXMuX3RvdGFsUmVzb2x2ZWQ7XG4gICAgaWYgKHRvdGFsUmVzb2x2ZWQgPj0gbGVuZ3RoKSB7XG4gICAgICAgIGlmIChwcmVzZXJ2ZWRWYWx1ZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpbHRlcih2YWx1ZXMsIHByZXNlcnZlZFZhbHVlcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlKHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbk1hcHBpbmdQcm9taXNlQXJyYXkucHJvdG90eXBlLl9kcmFpblF1ZXVlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBxdWV1ZSA9IHRoaXMuX3F1ZXVlO1xuICAgIHZhciBsaW1pdCA9IHRoaXMuX2xpbWl0O1xuICAgIHZhciB2YWx1ZXMgPSB0aGlzLl92YWx1ZXM7XG4gICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDAgJiYgdGhpcy5faW5GbGlnaHQgPCBsaW1pdCkge1xuICAgICAgICBpZiAodGhpcy5faXNSZXNvbHZlZCgpKSByZXR1cm47XG4gICAgICAgIHZhciBpbmRleCA9IHF1ZXVlLnBvcCgpO1xuICAgICAgICB0aGlzLl9wcm9taXNlRnVsZmlsbGVkKHZhbHVlc1tpbmRleF0sIGluZGV4KTtcbiAgICB9XG59O1xuXG5NYXBwaW5nUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fZmlsdGVyID0gZnVuY3Rpb24gKGJvb2xlYW5zLCB2YWx1ZXMpIHtcbiAgICB2YXIgbGVuID0gdmFsdWVzLmxlbmd0aDtcbiAgICB2YXIgcmV0ID0gbmV3IEFycmF5KGxlbik7XG4gICAgdmFyIGogPSAwO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgaWYgKGJvb2xlYW5zW2ldKSByZXRbaisrXSA9IHZhbHVlc1tpXTtcbiAgICB9XG4gICAgcmV0Lmxlbmd0aCA9IGo7XG4gICAgdGhpcy5fcmVzb2x2ZShyZXQpO1xufTtcblxuTWFwcGluZ1Byb21pc2VBcnJheS5wcm90b3R5cGUucHJlc2VydmVkVmFsdWVzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9wcmVzZXJ2ZWRWYWx1ZXM7XG59O1xuXG5mdW5jdGlvbiBtYXAocHJvbWlzZXMsIGZuLCBvcHRpb25zLCBfZmlsdGVyKSB7XG4gICAgaWYgKHR5cGVvZiBmbiAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBhcGlSZWplY3Rpb24oXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiICsgdXRpbC5jbGFzc1N0cmluZyhmbikpO1xuICAgIH1cblxuICAgIHZhciBsaW1pdCA9IDA7XG4gICAgaWYgKG9wdGlvbnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmNvbmN1cnJlbmN5ICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgICAgICAgICAgICAgICBuZXcgVHlwZUVycm9yKFwiJ2NvbmN1cnJlbmN5JyBtdXN0IGJlIGEgbnVtYmVyIGJ1dCBpdCBpcyBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlsLmNsYXNzU3RyaW5nKG9wdGlvbnMuY29uY3VycmVuY3kpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaW1pdCA9IG9wdGlvbnMuY29uY3VycmVuY3k7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm9wdGlvbnMgYXJndW1lbnQgbXVzdCBiZSBhbiBvYmplY3QgYnV0IGl0IGlzIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbC5jbGFzc1N0cmluZyhvcHRpb25zKSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxpbWl0ID0gdHlwZW9mIGxpbWl0ID09PSBcIm51bWJlclwiICYmXG4gICAgICAgIGlzRmluaXRlKGxpbWl0KSAmJiBsaW1pdCA+PSAxID8gbGltaXQgOiAwO1xuICAgIHJldHVybiBuZXcgTWFwcGluZ1Byb21pc2VBcnJheShwcm9taXNlcywgZm4sIGxpbWl0LCBfZmlsdGVyKS5wcm9taXNlKCk7XG59XG5cblByb21pc2UucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChmbiwgb3B0aW9ucykge1xuICAgIHJldHVybiBtYXAodGhpcywgZm4sIG9wdGlvbnMsIG51bGwpO1xufTtcblxuUHJvbWlzZS5tYXAgPSBmdW5jdGlvbiAocHJvbWlzZXMsIGZuLCBvcHRpb25zLCBfZmlsdGVyKSB7XG4gICAgcmV0dXJuIG1hcChwcm9taXNlcywgZm4sIG9wdGlvbnMsIF9maWx0ZXIpO1xufTtcblxuXG59O1xuXG59LHtcIi4vdXRpbFwiOjM2fV0sMTk6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9XG5mdW5jdGlvbihQcm9taXNlLCBJTlRFUk5BTCwgdHJ5Q29udmVydFRvUHJvbWlzZSwgYXBpUmVqZWN0aW9uLCBkZWJ1Zykge1xudmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xudmFyIHRyeUNhdGNoID0gdXRpbC50cnlDYXRjaDtcblxuUHJvbWlzZS5tZXRob2QgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICBpZiAodHlwZW9mIGZuICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFByb21pc2UuVHlwZUVycm9yKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIiArIHV0aWwuY2xhc3NTdHJpbmcoZm4pKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJldCA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcbiAgICAgICAgcmV0Ll9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuICAgICAgICByZXQuX3B1c2hDb250ZXh0KCk7XG4gICAgICAgIHZhciB2YWx1ZSA9IHRyeUNhdGNoKGZuKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB2YXIgcHJvbWlzZUNyZWF0ZWQgPSByZXQuX3BvcENvbnRleHQoKTtcbiAgICAgICAgZGVidWcuY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zKFxuICAgICAgICAgICAgdmFsdWUsIHByb21pc2VDcmVhdGVkLCBcIlByb21pc2UubWV0aG9kXCIsIHJldCk7XG4gICAgICAgIHJldC5fcmVzb2x2ZUZyb21TeW5jVmFsdWUodmFsdWUpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG59O1xuXG5Qcm9taXNlLmF0dGVtcHQgPSBQcm9taXNlW1widHJ5XCJdID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgaWYgKHR5cGVvZiBmbiAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBhcGlSZWplY3Rpb24oXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiICsgdXRpbC5jbGFzc1N0cmluZyhmbikpO1xuICAgIH1cbiAgICB2YXIgcmV0ID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuICAgIHJldC5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcbiAgICByZXQuX3B1c2hDb250ZXh0KCk7XG4gICAgdmFyIHZhbHVlO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBkZWJ1Zy5kZXByZWNhdGVkKFwiY2FsbGluZyBQcm9taXNlLnRyeSB3aXRoIG1vcmUgdGhhbiAxIGFyZ3VtZW50XCIpO1xuICAgICAgICB2YXIgYXJnID0gYXJndW1lbnRzWzFdO1xuICAgICAgICB2YXIgY3R4ID0gYXJndW1lbnRzWzJdO1xuICAgICAgICB2YWx1ZSA9IHV0aWwuaXNBcnJheShhcmcpID8gdHJ5Q2F0Y2goZm4pLmFwcGx5KGN0eCwgYXJnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdHJ5Q2F0Y2goZm4pLmNhbGwoY3R4LCBhcmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gdHJ5Q2F0Y2goZm4pKCk7XG4gICAgfVxuICAgIHZhciBwcm9taXNlQ3JlYXRlZCA9IHJldC5fcG9wQ29udGV4dCgpO1xuICAgIGRlYnVnLmNoZWNrRm9yZ290dGVuUmV0dXJucyhcbiAgICAgICAgdmFsdWUsIHByb21pc2VDcmVhdGVkLCBcIlByb21pc2UudHJ5XCIsIHJldCk7XG4gICAgcmV0Ll9yZXNvbHZlRnJvbVN5bmNWYWx1ZSh2YWx1ZSk7XG4gICAgcmV0dXJuIHJldDtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9yZXNvbHZlRnJvbVN5bmNWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gdXRpbC5lcnJvck9iaikge1xuICAgICAgICB0aGlzLl9yZWplY3RDYWxsYmFjayh2YWx1ZS5lLCBmYWxzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZUNhbGxiYWNrKHZhbHVlLCB0cnVlKTtcbiAgICB9XG59O1xufTtcblxufSx7XCIuL3V0aWxcIjozNn1dLDIwOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xudmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xudmFyIG1heWJlV3JhcEFzRXJyb3IgPSB1dGlsLm1heWJlV3JhcEFzRXJyb3I7XG52YXIgZXJyb3JzID0gX2RlcmVxXyhcIi4vZXJyb3JzXCIpO1xudmFyIE9wZXJhdGlvbmFsRXJyb3IgPSBlcnJvcnMuT3BlcmF0aW9uYWxFcnJvcjtcbnZhciBlczUgPSBfZGVyZXFfKFwiLi9lczVcIik7XG5cbmZ1bmN0aW9uIGlzVW50eXBlZEVycm9yKG9iaikge1xuICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBFcnJvciAmJlxuICAgICAgICBlczUuZ2V0UHJvdG90eXBlT2Yob2JqKSA9PT0gRXJyb3IucHJvdG90eXBlO1xufVxuXG52YXIgckVycm9yS2V5ID0gL14oPzpuYW1lfG1lc3NhZ2V8c3RhY2t8Y2F1c2UpJC87XG5mdW5jdGlvbiB3cmFwQXNPcGVyYXRpb25hbEVycm9yKG9iaikge1xuICAgIHZhciByZXQ7XG4gICAgaWYgKGlzVW50eXBlZEVycm9yKG9iaikpIHtcbiAgICAgICAgcmV0ID0gbmV3IE9wZXJhdGlvbmFsRXJyb3Iob2JqKTtcbiAgICAgICAgcmV0Lm5hbWUgPSBvYmoubmFtZTtcbiAgICAgICAgcmV0Lm1lc3NhZ2UgPSBvYmoubWVzc2FnZTtcbiAgICAgICAgcmV0LnN0YWNrID0gb2JqLnN0YWNrO1xuICAgICAgICB2YXIga2V5cyA9IGVzNS5rZXlzKG9iaik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgICBpZiAoIXJFcnJvcktleS50ZXN0KGtleSkpIHtcbiAgICAgICAgICAgICAgICByZXRba2V5XSA9IG9ialtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIHV0aWwubWFya0FzT3JpZ2luYXRpbmdGcm9tUmVqZWN0aW9uKG9iaik7XG4gICAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gbm9kZWJhY2tGb3JQcm9taXNlKHByb21pc2UsIG11bHRpQXJncykge1xuICAgIHJldHVybiBmdW5jdGlvbihlcnIsIHZhbHVlKSB7XG4gICAgICAgIGlmIChwcm9taXNlID09PSBudWxsKSByZXR1cm47XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIHZhciB3cmFwcGVkID0gd3JhcEFzT3BlcmF0aW9uYWxFcnJvcihtYXliZVdyYXBBc0Vycm9yKGVycikpO1xuICAgICAgICAgICAgcHJvbWlzZS5fYXR0YWNoRXh0cmFUcmFjZSh3cmFwcGVkKTtcbiAgICAgICAgICAgIHByb21pc2UuX3JlamVjdCh3cmFwcGVkKTtcbiAgICAgICAgfSBlbHNlIGlmICghbXVsdGlBcmdzKSB7XG4gICAgICAgICAgICBwcm9taXNlLl9mdWxmaWxsKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpOztcbiAgICAgICAgICAgIHByb21pc2UuX2Z1bGZpbGwoYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgcHJvbWlzZSA9IG51bGw7XG4gICAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBub2RlYmFja0ZvclByb21pc2U7XG5cbn0se1wiLi9lcnJvcnNcIjoxMixcIi4vZXM1XCI6MTMsXCIuL3V0aWxcIjozNn1dLDIxOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlKSB7XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG52YXIgYXN5bmMgPSBQcm9taXNlLl9hc3luYztcbnZhciB0cnlDYXRjaCA9IHV0aWwudHJ5Q2F0Y2g7XG52YXIgZXJyb3JPYmogPSB1dGlsLmVycm9yT2JqO1xuXG5mdW5jdGlvbiBzcHJlYWRBZGFwdGVyKHZhbCwgbm9kZWJhY2spIHtcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG4gICAgaWYgKCF1dGlsLmlzQXJyYXkodmFsKSkgcmV0dXJuIHN1Y2Nlc3NBZGFwdGVyLmNhbGwocHJvbWlzZSwgdmFsLCBub2RlYmFjayk7XG4gICAgdmFyIHJldCA9XG4gICAgICAgIHRyeUNhdGNoKG5vZGViYWNrKS5hcHBseShwcm9taXNlLl9ib3VuZFZhbHVlKCksIFtudWxsXS5jb25jYXQodmFsKSk7XG4gICAgaWYgKHJldCA9PT0gZXJyb3JPYmopIHtcbiAgICAgICAgYXN5bmMudGhyb3dMYXRlcihyZXQuZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzdWNjZXNzQWRhcHRlcih2YWwsIG5vZGViYWNrKSB7XG4gICAgdmFyIHByb21pc2UgPSB0aGlzO1xuICAgIHZhciByZWNlaXZlciA9IHByb21pc2UuX2JvdW5kVmFsdWUoKTtcbiAgICB2YXIgcmV0ID0gdmFsID09PSB1bmRlZmluZWRcbiAgICAgICAgPyB0cnlDYXRjaChub2RlYmFjaykuY2FsbChyZWNlaXZlciwgbnVsbClcbiAgICAgICAgOiB0cnlDYXRjaChub2RlYmFjaykuY2FsbChyZWNlaXZlciwgbnVsbCwgdmFsKTtcbiAgICBpZiAocmV0ID09PSBlcnJvck9iaikge1xuICAgICAgICBhc3luYy50aHJvd0xhdGVyKHJldC5lKTtcbiAgICB9XG59XG5mdW5jdGlvbiBlcnJvckFkYXB0ZXIocmVhc29uLCBub2RlYmFjaykge1xuICAgIHZhciBwcm9taXNlID0gdGhpcztcbiAgICBpZiAoIXJlYXNvbikge1xuICAgICAgICB2YXIgbmV3UmVhc29uID0gbmV3IEVycm9yKHJlYXNvbiArIFwiXCIpO1xuICAgICAgICBuZXdSZWFzb24uY2F1c2UgPSByZWFzb247XG4gICAgICAgIHJlYXNvbiA9IG5ld1JlYXNvbjtcbiAgICB9XG4gICAgdmFyIHJldCA9IHRyeUNhdGNoKG5vZGViYWNrKS5jYWxsKHByb21pc2UuX2JvdW5kVmFsdWUoKSwgcmVhc29uKTtcbiAgICBpZiAocmV0ID09PSBlcnJvck9iaikge1xuICAgICAgICBhc3luYy50aHJvd0xhdGVyKHJldC5lKTtcbiAgICB9XG59XG5cblByb21pc2UucHJvdG90eXBlLmFzQ2FsbGJhY2sgPSBQcm9taXNlLnByb3RvdHlwZS5ub2RlaWZ5ID0gZnVuY3Rpb24gKG5vZGViYWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygbm9kZWJhY2sgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHZhciBhZGFwdGVyID0gc3VjY2Vzc0FkYXB0ZXI7XG4gICAgICAgIGlmIChvcHRpb25zICE9PSB1bmRlZmluZWQgJiYgT2JqZWN0KG9wdGlvbnMpLnNwcmVhZCkge1xuICAgICAgICAgICAgYWRhcHRlciA9IHNwcmVhZEFkYXB0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGhlbihcbiAgICAgICAgICAgIGFkYXB0ZXIsXG4gICAgICAgICAgICBlcnJvckFkYXB0ZXIsXG4gICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgbm9kZWJhY2tcbiAgICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG59O1xufTtcblxufSx7XCIuL3V0aWxcIjozNn1dLDIyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbnZhciBtYWtlU2VsZlJlc29sdXRpb25FcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IFR5cGVFcnJvcihcImNpcmN1bGFyIHByb21pc2UgcmVzb2x1dGlvbiBjaGFpblxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcIik7XG59O1xudmFyIHJlZmxlY3RIYW5kbGVyID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlLlByb21pc2VJbnNwZWN0aW9uKHRoaXMuX3RhcmdldCgpKTtcbn07XG52YXIgYXBpUmVqZWN0aW9uID0gZnVuY3Rpb24obXNnKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBUeXBlRXJyb3IobXNnKSk7XG59O1xuZnVuY3Rpb24gUHJveHlhYmxlKCkge31cbnZhciBVTkRFRklORURfQklORElORyA9IHt9O1xudmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xuXG52YXIgZ2V0RG9tYWluO1xuaWYgKHV0aWwuaXNOb2RlKSB7XG4gICAgZ2V0RG9tYWluID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByZXQgPSBwcm9jZXNzLmRvbWFpbjtcbiAgICAgICAgaWYgKHJldCA9PT0gdW5kZWZpbmVkKSByZXQgPSBudWxsO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG59IGVsc2Uge1xuICAgIGdldERvbWFpbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xufVxudXRpbC5ub3RFbnVtZXJhYmxlUHJvcChQcm9taXNlLCBcIl9nZXREb21haW5cIiwgZ2V0RG9tYWluKTtcblxudmFyIGVzNSA9IF9kZXJlcV8oXCIuL2VzNVwiKTtcbnZhciBBc3luYyA9IF9kZXJlcV8oXCIuL2FzeW5jXCIpO1xudmFyIGFzeW5jID0gbmV3IEFzeW5jKCk7XG5lczUuZGVmaW5lUHJvcGVydHkoUHJvbWlzZSwgXCJfYXN5bmNcIiwge3ZhbHVlOiBhc3luY30pO1xudmFyIGVycm9ycyA9IF9kZXJlcV8oXCIuL2Vycm9yc1wiKTtcbnZhciBUeXBlRXJyb3IgPSBQcm9taXNlLlR5cGVFcnJvciA9IGVycm9ycy5UeXBlRXJyb3I7XG5Qcm9taXNlLlJhbmdlRXJyb3IgPSBlcnJvcnMuUmFuZ2VFcnJvcjtcbnZhciBDYW5jZWxsYXRpb25FcnJvciA9IFByb21pc2UuQ2FuY2VsbGF0aW9uRXJyb3IgPSBlcnJvcnMuQ2FuY2VsbGF0aW9uRXJyb3I7XG5Qcm9taXNlLlRpbWVvdXRFcnJvciA9IGVycm9ycy5UaW1lb3V0RXJyb3I7XG5Qcm9taXNlLk9wZXJhdGlvbmFsRXJyb3IgPSBlcnJvcnMuT3BlcmF0aW9uYWxFcnJvcjtcblByb21pc2UuUmVqZWN0aW9uRXJyb3IgPSBlcnJvcnMuT3BlcmF0aW9uYWxFcnJvcjtcblByb21pc2UuQWdncmVnYXRlRXJyb3IgPSBlcnJvcnMuQWdncmVnYXRlRXJyb3I7XG52YXIgSU5URVJOQUwgPSBmdW5jdGlvbigpe307XG52YXIgQVBQTFkgPSB7fTtcbnZhciBORVhUX0ZJTFRFUiA9IHt9O1xudmFyIHRyeUNvbnZlcnRUb1Byb21pc2UgPSBfZGVyZXFfKFwiLi90aGVuYWJsZXNcIikoUHJvbWlzZSwgSU5URVJOQUwpO1xudmFyIFByb21pc2VBcnJheSA9XG4gICAgX2RlcmVxXyhcIi4vcHJvbWlzZV9hcnJheVwiKShQcm9taXNlLCBJTlRFUk5BTCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnlDb252ZXJ0VG9Qcm9taXNlLCBhcGlSZWplY3Rpb24sIFByb3h5YWJsZSk7XG52YXIgQ29udGV4dCA9IF9kZXJlcV8oXCIuL2NvbnRleHRcIikoUHJvbWlzZSk7XG4gLypqc2hpbnQgdW51c2VkOmZhbHNlKi9cbnZhciBjcmVhdGVDb250ZXh0ID0gQ29udGV4dC5jcmVhdGU7XG52YXIgZGVidWcgPSBfZGVyZXFfKFwiLi9kZWJ1Z2dhYmlsaXR5XCIpKFByb21pc2UsIENvbnRleHQpO1xudmFyIENhcHR1cmVkVHJhY2UgPSBkZWJ1Zy5DYXB0dXJlZFRyYWNlO1xudmFyIFBhc3NUaHJvdWdoSGFuZGxlckNvbnRleHQgPVxuICAgIF9kZXJlcV8oXCIuL2ZpbmFsbHlcIikoUHJvbWlzZSwgdHJ5Q29udmVydFRvUHJvbWlzZSwgTkVYVF9GSUxURVIpO1xudmFyIGNhdGNoRmlsdGVyID0gX2RlcmVxXyhcIi4vY2F0Y2hfZmlsdGVyXCIpKE5FWFRfRklMVEVSKTtcbnZhciBub2RlYmFja0ZvclByb21pc2UgPSBfZGVyZXFfKFwiLi9ub2RlYmFja1wiKTtcbnZhciBlcnJvck9iaiA9IHV0aWwuZXJyb3JPYmo7XG52YXIgdHJ5Q2F0Y2ggPSB1dGlsLnRyeUNhdGNoO1xuZnVuY3Rpb24gY2hlY2soc2VsZiwgZXhlY3V0b3IpIHtcbiAgICBpZiAoc2VsZiA9PSBudWxsIHx8IHNlbGYuY29uc3RydWN0b3IgIT09IFByb21pc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcInRoZSBwcm9taXNlIGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBpbnZva2VkIGRpcmVjdGx5XFx1MDAwYVxcdTAwMGEgICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFx1MDAwYVwiKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBleGVjdXRvciAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiICsgdXRpbC5jbGFzc1N0cmluZyhleGVjdXRvcikpO1xuICAgIH1cblxufVxuXG5mdW5jdGlvbiBQcm9taXNlKGV4ZWN1dG9yKSB7XG4gICAgaWYgKGV4ZWN1dG9yICE9PSBJTlRFUk5BTCkge1xuICAgICAgICBjaGVjayh0aGlzLCBleGVjdXRvcik7XG4gICAgfVxuICAgIHRoaXMuX2JpdEZpZWxkID0gMDtcbiAgICB0aGlzLl9mdWxmaWxsbWVudEhhbmRsZXIwID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3Byb21pc2UwID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3JlY2VpdmVyMCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9yZXNvbHZlRnJvbUV4ZWN1dG9yKGV4ZWN1dG9yKTtcbiAgICB0aGlzLl9wcm9taXNlQ3JlYXRlZCgpO1xuICAgIHRoaXMuX2ZpcmVFdmVudChcInByb21pc2VDcmVhdGVkXCIsIHRoaXMpO1xufVxuXG5Qcm9taXNlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gXCJbb2JqZWN0IFByb21pc2VdXCI7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5jYXVnaHQgPSBQcm9taXNlLnByb3RvdHlwZVtcImNhdGNoXCJdID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgaWYgKGxlbiA+IDEpIHtcbiAgICAgICAgdmFyIGNhdGNoSW5zdGFuY2VzID0gbmV3IEFycmF5KGxlbiAtIDEpLFxuICAgICAgICAgICAgaiA9IDAsIGk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW4gLSAxOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgaWYgKHV0aWwuaXNPYmplY3QoaXRlbSkpIHtcbiAgICAgICAgICAgICAgICBjYXRjaEluc3RhbmNlc1tqKytdID0gaXRlbTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwaVJlamVjdGlvbihcIkNhdGNoIHN0YXRlbWVudCBwcmVkaWNhdGU6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJleHBlY3RpbmcgYW4gb2JqZWN0IGJ1dCBnb3QgXCIgKyB1dGlsLmNsYXNzU3RyaW5nKGl0ZW0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaEluc3RhbmNlcy5sZW5ndGggPSBqO1xuICAgICAgICBmbiA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgcmV0dXJuIHRoaXMudGhlbih1bmRlZmluZWQsIGNhdGNoRmlsdGVyKGNhdGNoSW5zdGFuY2VzLCBmbiwgdGhpcykpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy50aGVuKHVuZGVmaW5lZCwgZm4pO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUucmVmbGVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fdGhlbihyZWZsZWN0SGFuZGxlcixcbiAgICAgICAgcmVmbGVjdEhhbmRsZXIsIHVuZGVmaW5lZCwgdGhpcywgdW5kZWZpbmVkKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbiAoZGlkRnVsZmlsbCwgZGlkUmVqZWN0KSB7XG4gICAgaWYgKGRlYnVnLndhcm5pbmdzKCkgJiYgYXJndW1lbnRzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgdHlwZW9mIGRpZEZ1bGZpbGwgIT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICB0eXBlb2YgZGlkUmVqZWN0ICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdmFyIG1zZyA9IFwiLnRoZW4oKSBvbmx5IGFjY2VwdHMgZnVuY3Rpb25zIGJ1dCB3YXMgcGFzc2VkOiBcIiArXG4gICAgICAgICAgICAgICAgdXRpbC5jbGFzc1N0cmluZyhkaWRGdWxmaWxsKTtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBtc2cgKz0gXCIsIFwiICsgdXRpbC5jbGFzc1N0cmluZyhkaWRSZWplY3QpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3dhcm4obXNnKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3RoZW4oZGlkRnVsZmlsbCwgZGlkUmVqZWN0LCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmRvbmUgPSBmdW5jdGlvbiAoZGlkRnVsZmlsbCwgZGlkUmVqZWN0KSB7XG4gICAgdmFyIHByb21pc2UgPVxuICAgICAgICB0aGlzLl90aGVuKGRpZEZ1bGZpbGwsIGRpZFJlamVjdCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgcHJvbWlzZS5fc2V0SXNGaW5hbCgpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuc3ByZWFkID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgaWYgKHR5cGVvZiBmbiAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBhcGlSZWplY3Rpb24oXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiICsgdXRpbC5jbGFzc1N0cmluZyhmbikpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5hbGwoKS5fdGhlbihmbiwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIEFQUExZLCB1bmRlZmluZWQpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciByZXQgPSB7XG4gICAgICAgIGlzRnVsZmlsbGVkOiBmYWxzZSxcbiAgICAgICAgaXNSZWplY3RlZDogZmFsc2UsXG4gICAgICAgIGZ1bGZpbGxtZW50VmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgICAgcmVqZWN0aW9uUmVhc29uOiB1bmRlZmluZWRcbiAgICB9O1xuICAgIGlmICh0aGlzLmlzRnVsZmlsbGVkKCkpIHtcbiAgICAgICAgcmV0LmZ1bGZpbGxtZW50VmFsdWUgPSB0aGlzLnZhbHVlKCk7XG4gICAgICAgIHJldC5pc0Z1bGZpbGxlZCA9IHRydWU7XG4gICAgfSBlbHNlIGlmICh0aGlzLmlzUmVqZWN0ZWQoKSkge1xuICAgICAgICByZXQucmVqZWN0aW9uUmVhc29uID0gdGhpcy5yZWFzb24oKTtcbiAgICAgICAgcmV0LmlzUmVqZWN0ZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuYWxsID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLl93YXJuKFwiLmFsbCgpIHdhcyBwYXNzZWQgYXJndW1lbnRzIGJ1dCBpdCBkb2VzIG5vdCB0YWtlIGFueVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlQXJyYXkodGhpcykucHJvbWlzZSgpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICByZXR1cm4gdGhpcy5jYXVnaHQodXRpbC5vcmlnaW5hdGVzRnJvbVJlamVjdGlvbiwgZm4pO1xufTtcblxuUHJvbWlzZS5nZXROZXdMaWJyYXJ5Q29weSA9IG1vZHVsZS5leHBvcnRzO1xuXG5Qcm9taXNlLmlzID0gZnVuY3Rpb24gKHZhbCkge1xuICAgIHJldHVybiB2YWwgaW5zdGFuY2VvZiBQcm9taXNlO1xufTtcblxuUHJvbWlzZS5mcm9tTm9kZSA9IFByb21pc2UuZnJvbUNhbGxiYWNrID0gZnVuY3Rpb24oZm4pIHtcbiAgICB2YXIgcmV0ID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuICAgIHJldC5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcbiAgICB2YXIgbXVsdGlBcmdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyAhIU9iamVjdChhcmd1bWVudHNbMV0pLm11bHRpQXJnc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlO1xuICAgIHZhciByZXN1bHQgPSB0cnlDYXRjaChmbikobm9kZWJhY2tGb3JQcm9taXNlKHJldCwgbXVsdGlBcmdzKSk7XG4gICAgaWYgKHJlc3VsdCA9PT0gZXJyb3JPYmopIHtcbiAgICAgICAgcmV0Ll9yZWplY3RDYWxsYmFjayhyZXN1bHQuZSwgdHJ1ZSk7XG4gICAgfVxuICAgIGlmICghcmV0Ll9pc0ZhdGVTZWFsZWQoKSkgcmV0Ll9zZXRBc3luY0d1YXJhbnRlZWQoKTtcbiAgICByZXR1cm4gcmV0O1xufTtcblxuUHJvbWlzZS5hbGwgPSBmdW5jdGlvbiAocHJvbWlzZXMpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2VBcnJheShwcm9taXNlcykucHJvbWlzZSgpO1xufTtcblxuUHJvbWlzZS5jYXN0ID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHZhciByZXQgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKG9iaik7XG4gICAgaWYgKCEocmV0IGluc3RhbmNlb2YgUHJvbWlzZSkpIHtcbiAgICAgICAgcmV0ID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuICAgICAgICByZXQuX2NhcHR1cmVTdGFja1RyYWNlKCk7XG4gICAgICAgIHJldC5fc2V0RnVsZmlsbGVkKCk7XG4gICAgICAgIHJldC5fcmVqZWN0aW9uSGFuZGxlcjAgPSBvYmo7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG59O1xuXG5Qcm9taXNlLnJlc29sdmUgPSBQcm9taXNlLmZ1bGZpbGxlZCA9IFByb21pc2UuY2FzdDtcblxuUHJvbWlzZS5yZWplY3QgPSBQcm9taXNlLnJlamVjdGVkID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHZhciByZXQgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG4gICAgcmV0Ll9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuICAgIHJldC5fcmVqZWN0Q2FsbGJhY2socmVhc29uLCB0cnVlKTtcbiAgICByZXR1cm4gcmV0O1xufTtcblxuUHJvbWlzZS5zZXRTY2hlZHVsZXIgPSBmdW5jdGlvbihmbikge1xuICAgIGlmICh0eXBlb2YgZm4gIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIiArIHV0aWwuY2xhc3NTdHJpbmcoZm4pKTtcbiAgICB9XG4gICAgcmV0dXJuIGFzeW5jLnNldFNjaGVkdWxlcihmbik7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fdGhlbiA9IGZ1bmN0aW9uIChcbiAgICBkaWRGdWxmaWxsLFxuICAgIGRpZFJlamVjdCxcbiAgICBfLCAgICByZWNlaXZlcixcbiAgICBpbnRlcm5hbERhdGFcbikge1xuICAgIHZhciBoYXZlSW50ZXJuYWxEYXRhID0gaW50ZXJuYWxEYXRhICE9PSB1bmRlZmluZWQ7XG4gICAgdmFyIHByb21pc2UgPSBoYXZlSW50ZXJuYWxEYXRhID8gaW50ZXJuYWxEYXRhIDogbmV3IFByb21pc2UoSU5URVJOQUwpO1xuICAgIHZhciB0YXJnZXQgPSB0aGlzLl90YXJnZXQoKTtcbiAgICB2YXIgYml0RmllbGQgPSB0YXJnZXQuX2JpdEZpZWxkO1xuXG4gICAgaWYgKCFoYXZlSW50ZXJuYWxEYXRhKSB7XG4gICAgICAgIHByb21pc2UuX3Byb3BhZ2F0ZUZyb20odGhpcywgMyk7XG4gICAgICAgIHByb21pc2UuX2NhcHR1cmVTdGFja1RyYWNlKCk7XG4gICAgICAgIGlmIChyZWNlaXZlciA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAoKHRoaXMuX2JpdEZpZWxkICYgMjA5NzE1MikgIT09IDApKSB7XG4gICAgICAgICAgICBpZiAoISgoYml0RmllbGQgJiA1MDM5NzE4NCkgPT09IDApKSB7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZXIgPSB0aGlzLl9ib3VuZFZhbHVlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlY2VpdmVyID0gdGFyZ2V0ID09PSB0aGlzID8gdW5kZWZpbmVkIDogdGhpcy5fYm91bmRUbztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9maXJlRXZlbnQoXCJwcm9taXNlQ2hhaW5lZFwiLCB0aGlzLCBwcm9taXNlKTtcbiAgICB9XG5cbiAgICB2YXIgZG9tYWluID0gZ2V0RG9tYWluKCk7XG4gICAgaWYgKCEoKGJpdEZpZWxkICYgNTAzOTcxODQpID09PSAwKSkge1xuICAgICAgICB2YXIgaGFuZGxlciwgdmFsdWUsIHNldHRsZXIgPSB0YXJnZXQuX3NldHRsZVByb21pc2VDdHg7XG4gICAgICAgIGlmICgoKGJpdEZpZWxkICYgMzM1NTQ0MzIpICE9PSAwKSkge1xuICAgICAgICAgICAgdmFsdWUgPSB0YXJnZXQuX3JlamVjdGlvbkhhbmRsZXIwO1xuICAgICAgICAgICAgaGFuZGxlciA9IGRpZEZ1bGZpbGw7XG4gICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDE2Nzc3MjE2KSAhPT0gMCkpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdGFyZ2V0Ll9mdWxmaWxsbWVudEhhbmRsZXIwO1xuICAgICAgICAgICAgaGFuZGxlciA9IGRpZFJlamVjdDtcbiAgICAgICAgICAgIHRhcmdldC5fdW5zZXRSZWplY3Rpb25Jc1VuaGFuZGxlZCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0dGxlciA9IHRhcmdldC5fc2V0dGxlUHJvbWlzZUxhdGVDYW5jZWxsYXRpb25PYnNlcnZlcjtcbiAgICAgICAgICAgIHZhbHVlID0gbmV3IENhbmNlbGxhdGlvbkVycm9yKFwibGF0ZSBjYW5jZWxsYXRpb24gb2JzZXJ2ZXJcIik7XG4gICAgICAgICAgICB0YXJnZXQuX2F0dGFjaEV4dHJhVHJhY2UodmFsdWUpO1xuICAgICAgICAgICAgaGFuZGxlciA9IGRpZFJlamVjdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGFzeW5jLmludm9rZShzZXR0bGVyLCB0YXJnZXQsIHtcbiAgICAgICAgICAgIGhhbmRsZXI6IGRvbWFpbiA9PT0gbnVsbCA/IGhhbmRsZXJcbiAgICAgICAgICAgICAgICA6ICh0eXBlb2YgaGFuZGxlciA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgICAgICAgICAgICAgIHV0aWwuZG9tYWluQmluZChkb21haW4sIGhhbmRsZXIpKSxcbiAgICAgICAgICAgIHByb21pc2U6IHByb21pc2UsXG4gICAgICAgICAgICByZWNlaXZlcjogcmVjZWl2ZXIsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0Ll9hZGRDYWxsYmFja3MoZGlkRnVsZmlsbCwgZGlkUmVqZWN0LCBwcm9taXNlLCByZWNlaXZlciwgZG9tYWluKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9sZW5ndGggPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2JpdEZpZWxkICYgNjU1MzU7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5faXNGYXRlU2VhbGVkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAodGhpcy5fYml0RmllbGQgJiAxMTc1MDYwNDgpICE9PSAwO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2lzRm9sbG93aW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAodGhpcy5fYml0RmllbGQgJiA2NzEwODg2NCkgPT09IDY3MTA4ODY0O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3NldExlbmd0aCA9IGZ1bmN0aW9uIChsZW4pIHtcbiAgICB0aGlzLl9iaXRGaWVsZCA9ICh0aGlzLl9iaXRGaWVsZCAmIC02NTUzNikgfFxuICAgICAgICAobGVuICYgNjU1MzUpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3NldEZ1bGZpbGxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkIHwgMzM1NTQ0MzI7XG4gICAgdGhpcy5fZmlyZUV2ZW50KFwicHJvbWlzZUZ1bGZpbGxlZFwiLCB0aGlzKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9zZXRSZWplY3RlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkIHwgMTY3NzcyMTY7XG4gICAgdGhpcy5fZmlyZUV2ZW50KFwicHJvbWlzZVJlamVjdGVkXCIsIHRoaXMpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3NldEZvbGxvd2luZyA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkIHwgNjcxMDg4NjQ7XG4gICAgdGhpcy5fZmlyZUV2ZW50KFwicHJvbWlzZVJlc29sdmVkXCIsIHRoaXMpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3NldElzRmluYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCB8IDQxOTQzMDQ7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5faXNGaW5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgNDE5NDMwNCkgPiAwO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3Vuc2V0Q2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCAmICh+NjU1MzYpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3NldENhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgfCA2NTUzNjtcbiAgICB0aGlzLl9maXJlRXZlbnQoXCJwcm9taXNlQ2FuY2VsbGVkXCIsIHRoaXMpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3NldFdpbGxCZUNhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgfCA4Mzg4NjA4O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3NldEFzeW5jR3VhcmFudGVlZCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChhc3luYy5oYXNDdXN0b21TY2hlZHVsZXIoKSkgcmV0dXJuO1xuICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgfCAxMzQyMTc3Mjg7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fcmVjZWl2ZXJBdCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIHZhciByZXQgPSBpbmRleCA9PT0gMCA/IHRoaXMuX3JlY2VpdmVyMCA6IHRoaXNbXG4gICAgICAgICAgICBpbmRleCAqIDQgLSA0ICsgM107XG4gICAgaWYgKHJldCA9PT0gVU5ERUZJTkVEX0JJTkRJTkcpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9IGVsc2UgaWYgKHJldCA9PT0gdW5kZWZpbmVkICYmIHRoaXMuX2lzQm91bmQoKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYm91bmRWYWx1ZSgpO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3Byb21pc2VBdCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIHJldHVybiB0aGlzW1xuICAgICAgICAgICAgaW5kZXggKiA0IC0gNCArIDJdO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2Z1bGZpbGxtZW50SGFuZGxlckF0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXNbXG4gICAgICAgICAgICBpbmRleCAqIDQgLSA0ICsgMF07XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fcmVqZWN0aW9uSGFuZGxlckF0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXNbXG4gICAgICAgICAgICBpbmRleCAqIDQgLSA0ICsgMV07XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fYm91bmRWYWx1ZSA9IGZ1bmN0aW9uKCkge307XG5cblByb21pc2UucHJvdG90eXBlLl9taWdyYXRlQ2FsbGJhY2swID0gZnVuY3Rpb24gKGZvbGxvd2VyKSB7XG4gICAgdmFyIGJpdEZpZWxkID0gZm9sbG93ZXIuX2JpdEZpZWxkO1xuICAgIHZhciBmdWxmaWxsID0gZm9sbG93ZXIuX2Z1bGZpbGxtZW50SGFuZGxlcjA7XG4gICAgdmFyIHJlamVjdCA9IGZvbGxvd2VyLl9yZWplY3Rpb25IYW5kbGVyMDtcbiAgICB2YXIgcHJvbWlzZSA9IGZvbGxvd2VyLl9wcm9taXNlMDtcbiAgICB2YXIgcmVjZWl2ZXIgPSBmb2xsb3dlci5fcmVjZWl2ZXJBdCgwKTtcbiAgICBpZiAocmVjZWl2ZXIgPT09IHVuZGVmaW5lZCkgcmVjZWl2ZXIgPSBVTkRFRklORURfQklORElORztcbiAgICB0aGlzLl9hZGRDYWxsYmFja3MoZnVsZmlsbCwgcmVqZWN0LCBwcm9taXNlLCByZWNlaXZlciwgbnVsbCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fbWlncmF0ZUNhbGxiYWNrQXQgPSBmdW5jdGlvbiAoZm9sbG93ZXIsIGluZGV4KSB7XG4gICAgdmFyIGZ1bGZpbGwgPSBmb2xsb3dlci5fZnVsZmlsbG1lbnRIYW5kbGVyQXQoaW5kZXgpO1xuICAgIHZhciByZWplY3QgPSBmb2xsb3dlci5fcmVqZWN0aW9uSGFuZGxlckF0KGluZGV4KTtcbiAgICB2YXIgcHJvbWlzZSA9IGZvbGxvd2VyLl9wcm9taXNlQXQoaW5kZXgpO1xuICAgIHZhciByZWNlaXZlciA9IGZvbGxvd2VyLl9yZWNlaXZlckF0KGluZGV4KTtcbiAgICBpZiAocmVjZWl2ZXIgPT09IHVuZGVmaW5lZCkgcmVjZWl2ZXIgPSBVTkRFRklORURfQklORElORztcbiAgICB0aGlzLl9hZGRDYWxsYmFja3MoZnVsZmlsbCwgcmVqZWN0LCBwcm9taXNlLCByZWNlaXZlciwgbnVsbCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fYWRkQ2FsbGJhY2tzID0gZnVuY3Rpb24gKFxuICAgIGZ1bGZpbGwsXG4gICAgcmVqZWN0LFxuICAgIHByb21pc2UsXG4gICAgcmVjZWl2ZXIsXG4gICAgZG9tYWluXG4pIHtcbiAgICB2YXIgaW5kZXggPSB0aGlzLl9sZW5ndGgoKTtcblxuICAgIGlmIChpbmRleCA+PSA2NTUzNSAtIDQpIHtcbiAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICB0aGlzLl9zZXRMZW5ndGgoMCk7XG4gICAgfVxuXG4gICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgIHRoaXMuX3Byb21pc2UwID0gcHJvbWlzZTtcbiAgICAgICAgdGhpcy5fcmVjZWl2ZXIwID0gcmVjZWl2ZXI7XG4gICAgICAgIGlmICh0eXBlb2YgZnVsZmlsbCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aGlzLl9mdWxmaWxsbWVudEhhbmRsZXIwID1cbiAgICAgICAgICAgICAgICBkb21haW4gPT09IG51bGwgPyBmdWxmaWxsIDogdXRpbC5kb21haW5CaW5kKGRvbWFpbiwgZnVsZmlsbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiByZWplY3QgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGhpcy5fcmVqZWN0aW9uSGFuZGxlcjAgPVxuICAgICAgICAgICAgICAgIGRvbWFpbiA9PT0gbnVsbCA/IHJlamVjdCA6IHV0aWwuZG9tYWluQmluZChkb21haW4sIHJlamVjdCk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgYmFzZSA9IGluZGV4ICogNCAtIDQ7XG4gICAgICAgIHRoaXNbYmFzZSArIDJdID0gcHJvbWlzZTtcbiAgICAgICAgdGhpc1tiYXNlICsgM10gPSByZWNlaXZlcjtcbiAgICAgICAgaWYgKHR5cGVvZiBmdWxmaWxsID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRoaXNbYmFzZSArIDBdID1cbiAgICAgICAgICAgICAgICBkb21haW4gPT09IG51bGwgPyBmdWxmaWxsIDogdXRpbC5kb21haW5CaW5kKGRvbWFpbiwgZnVsZmlsbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiByZWplY3QgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGhpc1tiYXNlICsgMV0gPVxuICAgICAgICAgICAgICAgIGRvbWFpbiA9PT0gbnVsbCA/IHJlamVjdCA6IHV0aWwuZG9tYWluQmluZChkb21haW4sIHJlamVjdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fc2V0TGVuZ3RoKGluZGV4ICsgMSk7XG4gICAgcmV0dXJuIGluZGV4O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3Byb3h5ID0gZnVuY3Rpb24gKHByb3h5YWJsZSwgYXJnKSB7XG4gICAgdGhpcy5fYWRkQ2FsbGJhY2tzKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBhcmcsIHByb3h5YWJsZSwgbnVsbCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fcmVzb2x2ZUNhbGxiYWNrID0gZnVuY3Rpb24odmFsdWUsIHNob3VsZEJpbmQpIHtcbiAgICBpZiAoKCh0aGlzLl9iaXRGaWVsZCAmIDExNzUwNjA0OCkgIT09IDApKSByZXR1cm47XG4gICAgaWYgKHZhbHVlID09PSB0aGlzKVxuICAgICAgICByZXR1cm4gdGhpcy5fcmVqZWN0Q2FsbGJhY2sobWFrZVNlbGZSZXNvbHV0aW9uRXJyb3IoKSwgZmFsc2UpO1xuICAgIHZhciBtYXliZVByb21pc2UgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKHZhbHVlLCB0aGlzKTtcbiAgICBpZiAoIShtYXliZVByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSkgcmV0dXJuIHRoaXMuX2Z1bGZpbGwodmFsdWUpO1xuXG4gICAgaWYgKHNob3VsZEJpbmQpIHRoaXMuX3Byb3BhZ2F0ZUZyb20obWF5YmVQcm9taXNlLCAyKTtcblxuICAgIHZhciBwcm9taXNlID0gbWF5YmVQcm9taXNlLl90YXJnZXQoKTtcblxuICAgIGlmIChwcm9taXNlID09PSB0aGlzKSB7XG4gICAgICAgIHRoaXMuX3JlamVjdChtYWtlU2VsZlJlc29sdXRpb25FcnJvcigpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBiaXRGaWVsZCA9IHByb21pc2UuX2JpdEZpZWxkO1xuICAgIGlmICgoKGJpdEZpZWxkICYgNTAzOTcxODQpID09PSAwKSkge1xuICAgICAgICB2YXIgbGVuID0gdGhpcy5fbGVuZ3RoKCk7XG4gICAgICAgIGlmIChsZW4gPiAwKSBwcm9taXNlLl9taWdyYXRlQ2FsbGJhY2swKHRoaXMpO1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICBwcm9taXNlLl9taWdyYXRlQ2FsbGJhY2tBdCh0aGlzLCBpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zZXRGb2xsb3dpbmcoKTtcbiAgICAgICAgdGhpcy5fc2V0TGVuZ3RoKDApO1xuICAgICAgICB0aGlzLl9zZXRGb2xsb3dlZShwcm9taXNlKTtcbiAgICB9IGVsc2UgaWYgKCgoYml0RmllbGQgJiAzMzU1NDQzMikgIT09IDApKSB7XG4gICAgICAgIHRoaXMuX2Z1bGZpbGwocHJvbWlzZS5fdmFsdWUoKSk7XG4gICAgfSBlbHNlIGlmICgoKGJpdEZpZWxkICYgMTY3NzcyMTYpICE9PSAwKSkge1xuICAgICAgICB0aGlzLl9yZWplY3QocHJvbWlzZS5fcmVhc29uKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciByZWFzb24gPSBuZXcgQ2FuY2VsbGF0aW9uRXJyb3IoXCJsYXRlIGNhbmNlbGxhdGlvbiBvYnNlcnZlclwiKTtcbiAgICAgICAgcHJvbWlzZS5fYXR0YWNoRXh0cmFUcmFjZShyZWFzb24pO1xuICAgICAgICB0aGlzLl9yZWplY3QocmVhc29uKTtcbiAgICB9XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fcmVqZWN0Q2FsbGJhY2sgPVxuZnVuY3Rpb24ocmVhc29uLCBzeW5jaHJvbm91cywgaWdub3JlTm9uRXJyb3JXYXJuaW5ncykge1xuICAgIHZhciB0cmFjZSA9IHV0aWwuZW5zdXJlRXJyb3JPYmplY3QocmVhc29uKTtcbiAgICB2YXIgaGFzU3RhY2sgPSB0cmFjZSA9PT0gcmVhc29uO1xuICAgIGlmICghaGFzU3RhY2sgJiYgIWlnbm9yZU5vbkVycm9yV2FybmluZ3MgJiYgZGVidWcud2FybmluZ3MoKSkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9IFwiYSBwcm9taXNlIHdhcyByZWplY3RlZCB3aXRoIGEgbm9uLWVycm9yOiBcIiArXG4gICAgICAgICAgICB1dGlsLmNsYXNzU3RyaW5nKHJlYXNvbik7XG4gICAgICAgIHRoaXMuX3dhcm4obWVzc2FnZSwgdHJ1ZSk7XG4gICAgfVxuICAgIHRoaXMuX2F0dGFjaEV4dHJhVHJhY2UodHJhY2UsIHN5bmNocm9ub3VzID8gaGFzU3RhY2sgOiBmYWxzZSk7XG4gICAgdGhpcy5fcmVqZWN0KHJlYXNvbik7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fcmVzb2x2ZUZyb21FeGVjdXRvciA9IGZ1bmN0aW9uIChleGVjdXRvcikge1xuICAgIGlmIChleGVjdXRvciA9PT0gSU5URVJOQUwpIHJldHVybjtcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG4gICAgdGhpcy5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcbiAgICB0aGlzLl9wdXNoQ29udGV4dCgpO1xuICAgIHZhciBzeW5jaHJvbm91cyA9IHRydWU7XG4gICAgdmFyIHIgPSB0aGlzLl9leGVjdXRlKGV4ZWN1dG9yLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBwcm9taXNlLl9yZXNvbHZlQ2FsbGJhY2sodmFsdWUpO1xuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgcHJvbWlzZS5fcmVqZWN0Q2FsbGJhY2socmVhc29uLCBzeW5jaHJvbm91cyk7XG4gICAgfSk7XG4gICAgc3luY2hyb25vdXMgPSBmYWxzZTtcbiAgICB0aGlzLl9wb3BDb250ZXh0KCk7XG5cbiAgICBpZiAociAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHByb21pc2UuX3JlamVjdENhbGxiYWNrKHIsIHRydWUpO1xuICAgIH1cbn07XG5cblByb21pc2UucHJvdG90eXBlLl9zZXR0bGVQcm9taXNlRnJvbUhhbmRsZXIgPSBmdW5jdGlvbiAoXG4gICAgaGFuZGxlciwgcmVjZWl2ZXIsIHZhbHVlLCBwcm9taXNlXG4pIHtcbiAgICB2YXIgYml0RmllbGQgPSBwcm9taXNlLl9iaXRGaWVsZDtcbiAgICBpZiAoKChiaXRGaWVsZCAmIDY1NTM2KSAhPT0gMCkpIHJldHVybjtcbiAgICBwcm9taXNlLl9wdXNoQ29udGV4dCgpO1xuICAgIHZhciB4O1xuICAgIGlmIChyZWNlaXZlciA9PT0gQVBQTFkpIHtcbiAgICAgICAgaWYgKCF2YWx1ZSB8fCB0eXBlb2YgdmFsdWUubGVuZ3RoICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICB4ID0gZXJyb3JPYmo7XG4gICAgICAgICAgICB4LmUgPSBuZXcgVHlwZUVycm9yKFwiY2Fubm90IC5zcHJlYWQoKSBhIG5vbi1hcnJheTogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbC5jbGFzc1N0cmluZyh2YWx1ZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgeCA9IHRyeUNhdGNoKGhhbmRsZXIpLmFwcGx5KHRoaXMuX2JvdW5kVmFsdWUoKSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgeCA9IHRyeUNhdGNoKGhhbmRsZXIpLmNhbGwocmVjZWl2ZXIsIHZhbHVlKTtcbiAgICB9XG4gICAgdmFyIHByb21pc2VDcmVhdGVkID0gcHJvbWlzZS5fcG9wQ29udGV4dCgpO1xuICAgIGJpdEZpZWxkID0gcHJvbWlzZS5fYml0RmllbGQ7XG4gICAgaWYgKCgoYml0RmllbGQgJiA2NTUzNikgIT09IDApKSByZXR1cm47XG5cbiAgICBpZiAoeCA9PT0gTkVYVF9GSUxURVIpIHtcbiAgICAgICAgcHJvbWlzZS5fcmVqZWN0KHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKHggPT09IGVycm9yT2JqKSB7XG4gICAgICAgIHByb21pc2UuX3JlamVjdENhbGxiYWNrKHguZSwgZmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGRlYnVnLmNoZWNrRm9yZ290dGVuUmV0dXJucyh4LCBwcm9taXNlQ3JlYXRlZCwgXCJcIiwgIHByb21pc2UsIHRoaXMpO1xuICAgICAgICBwcm9taXNlLl9yZXNvbHZlQ2FsbGJhY2soeCk7XG4gICAgfVxufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3RhcmdldCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZXQgPSB0aGlzO1xuICAgIHdoaWxlIChyZXQuX2lzRm9sbG93aW5nKCkpIHJldCA9IHJldC5fZm9sbG93ZWUoKTtcbiAgICByZXR1cm4gcmV0O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2ZvbGxvd2VlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3NldEZvbGxvd2VlID0gZnVuY3Rpb24ocHJvbWlzZSkge1xuICAgIHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwID0gcHJvbWlzZTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9zZXR0bGVQcm9taXNlID0gZnVuY3Rpb24ocHJvbWlzZSwgaGFuZGxlciwgcmVjZWl2ZXIsIHZhbHVlKSB7XG4gICAgdmFyIGlzUHJvbWlzZSA9IHByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlO1xuICAgIHZhciBiaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkO1xuICAgIHZhciBhc3luY0d1YXJhbnRlZWQgPSAoKGJpdEZpZWxkICYgMTM0MjE3NzI4KSAhPT0gMCk7XG4gICAgaWYgKCgoYml0RmllbGQgJiA2NTUzNikgIT09IDApKSB7XG4gICAgICAgIGlmIChpc1Byb21pc2UpIHByb21pc2UuX2ludm9rZUludGVybmFsT25DYW5jZWwoKTtcblxuICAgICAgICBpZiAocmVjZWl2ZXIgaW5zdGFuY2VvZiBQYXNzVGhyb3VnaEhhbmRsZXJDb250ZXh0ICYmXG4gICAgICAgICAgICByZWNlaXZlci5pc0ZpbmFsbHlIYW5kbGVyKCkpIHtcbiAgICAgICAgICAgIHJlY2VpdmVyLmNhbmNlbFByb21pc2UgPSBwcm9taXNlO1xuICAgICAgICAgICAgaWYgKHRyeUNhdGNoKGhhbmRsZXIpLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA9PT0gZXJyb3JPYmopIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlLl9yZWplY3QoZXJyb3JPYmouZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoaGFuZGxlciA9PT0gcmVmbGVjdEhhbmRsZXIpIHtcbiAgICAgICAgICAgIHByb21pc2UuX2Z1bGZpbGwocmVmbGVjdEhhbmRsZXIuY2FsbChyZWNlaXZlcikpO1xuICAgICAgICB9IGVsc2UgaWYgKHJlY2VpdmVyIGluc3RhbmNlb2YgUHJveHlhYmxlKSB7XG4gICAgICAgICAgICByZWNlaXZlci5fcHJvbWlzZUNhbmNlbGxlZChwcm9taXNlKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc1Byb21pc2UgfHwgcHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2VBcnJheSkge1xuICAgICAgICAgICAgcHJvbWlzZS5fY2FuY2VsKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWNlaXZlci5jYW5jZWwoKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBpZiAoIWlzUHJvbWlzZSkge1xuICAgICAgICAgICAgaGFuZGxlci5jYWxsKHJlY2VpdmVyLCB2YWx1ZSwgcHJvbWlzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoYXN5bmNHdWFyYW50ZWVkKSBwcm9taXNlLl9zZXRBc3luY0d1YXJhbnRlZWQoKTtcbiAgICAgICAgICAgIHRoaXMuX3NldHRsZVByb21pc2VGcm9tSGFuZGxlcihoYW5kbGVyLCByZWNlaXZlciwgdmFsdWUsIHByb21pc2UpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChyZWNlaXZlciBpbnN0YW5jZW9mIFByb3h5YWJsZSkge1xuICAgICAgICBpZiAoIXJlY2VpdmVyLl9pc1Jlc29sdmVkKCkpIHtcbiAgICAgICAgICAgIGlmICgoKGJpdEZpZWxkICYgMzM1NTQ0MzIpICE9PSAwKSkge1xuICAgICAgICAgICAgICAgIHJlY2VpdmVyLl9wcm9taXNlRnVsZmlsbGVkKHZhbHVlLCBwcm9taXNlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZXIuX3Byb21pc2VSZWplY3RlZCh2YWx1ZSwgcHJvbWlzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzUHJvbWlzZSkge1xuICAgICAgICBpZiAoYXN5bmNHdWFyYW50ZWVkKSBwcm9taXNlLl9zZXRBc3luY0d1YXJhbnRlZWQoKTtcbiAgICAgICAgaWYgKCgoYml0RmllbGQgJiAzMzU1NDQzMikgIT09IDApKSB7XG4gICAgICAgICAgICBwcm9taXNlLl9mdWxmaWxsKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb21pc2UuX3JlamVjdCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fc2V0dGxlUHJvbWlzZUxhdGVDYW5jZWxsYXRpb25PYnNlcnZlciA9IGZ1bmN0aW9uKGN0eCkge1xuICAgIHZhciBoYW5kbGVyID0gY3R4LmhhbmRsZXI7XG4gICAgdmFyIHByb21pc2UgPSBjdHgucHJvbWlzZTtcbiAgICB2YXIgcmVjZWl2ZXIgPSBjdHgucmVjZWl2ZXI7XG4gICAgdmFyIHZhbHVlID0gY3R4LnZhbHVlO1xuICAgIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGlmICghKHByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSkge1xuICAgICAgICAgICAgaGFuZGxlci5jYWxsKHJlY2VpdmVyLCB2YWx1ZSwgcHJvbWlzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zZXR0bGVQcm9taXNlRnJvbUhhbmRsZXIoaGFuZGxlciwgcmVjZWl2ZXIsIHZhbHVlLCBwcm9taXNlKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAocHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgcHJvbWlzZS5fcmVqZWN0KHZhbHVlKTtcbiAgICB9XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fc2V0dGxlUHJvbWlzZUN0eCA9IGZ1bmN0aW9uKGN0eCkge1xuICAgIHRoaXMuX3NldHRsZVByb21pc2UoY3R4LnByb21pc2UsIGN0eC5oYW5kbGVyLCBjdHgucmVjZWl2ZXIsIGN0eC52YWx1ZSk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fc2V0dGxlUHJvbWlzZTAgPSBmdW5jdGlvbihoYW5kbGVyLCB2YWx1ZSwgYml0RmllbGQpIHtcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXMuX3Byb21pc2UwO1xuICAgIHZhciByZWNlaXZlciA9IHRoaXMuX3JlY2VpdmVyQXQoMCk7XG4gICAgdGhpcy5fcHJvbWlzZTAgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fcmVjZWl2ZXIwID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3NldHRsZVByb21pc2UocHJvbWlzZSwgaGFuZGxlciwgcmVjZWl2ZXIsIHZhbHVlKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9jbGVhckNhbGxiYWNrRGF0YUF0SW5kZXggPSBmdW5jdGlvbihpbmRleCkge1xuICAgIHZhciBiYXNlID0gaW5kZXggKiA0IC0gNDtcbiAgICB0aGlzW2Jhc2UgKyAyXSA9XG4gICAgdGhpc1tiYXNlICsgM10gPVxuICAgIHRoaXNbYmFzZSArIDBdID1cbiAgICB0aGlzW2Jhc2UgKyAxXSA9IHVuZGVmaW5lZDtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9mdWxmaWxsID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdmFyIGJpdEZpZWxkID0gdGhpcy5fYml0RmllbGQ7XG4gICAgaWYgKCgoYml0RmllbGQgJiAxMTc1MDYwNDgpID4+PiAxNikpIHJldHVybjtcbiAgICBpZiAodmFsdWUgPT09IHRoaXMpIHtcbiAgICAgICAgdmFyIGVyciA9IG1ha2VTZWxmUmVzb2x1dGlvbkVycm9yKCk7XG4gICAgICAgIHRoaXMuX2F0dGFjaEV4dHJhVHJhY2UoZXJyKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlamVjdChlcnIpO1xuICAgIH1cbiAgICB0aGlzLl9zZXRGdWxmaWxsZWQoKTtcbiAgICB0aGlzLl9yZWplY3Rpb25IYW5kbGVyMCA9IHZhbHVlO1xuXG4gICAgaWYgKChiaXRGaWVsZCAmIDY1NTM1KSA+IDApIHtcbiAgICAgICAgaWYgKCgoYml0RmllbGQgJiAxMzQyMTc3MjgpICE9PSAwKSkge1xuICAgICAgICAgICAgdGhpcy5fc2V0dGxlUHJvbWlzZXMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFzeW5jLnNldHRsZVByb21pc2VzKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3JlamVjdCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICB2YXIgYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZDtcbiAgICBpZiAoKChiaXRGaWVsZCAmIDExNzUwNjA0OCkgPj4+IDE2KSkgcmV0dXJuO1xuICAgIHRoaXMuX3NldFJlamVjdGVkKCk7XG4gICAgdGhpcy5fZnVsZmlsbG1lbnRIYW5kbGVyMCA9IHJlYXNvbjtcblxuICAgIGlmICh0aGlzLl9pc0ZpbmFsKCkpIHtcbiAgICAgICAgcmV0dXJuIGFzeW5jLmZhdGFsRXJyb3IocmVhc29uLCB1dGlsLmlzTm9kZSk7XG4gICAgfVxuXG4gICAgaWYgKChiaXRGaWVsZCAmIDY1NTM1KSA+IDApIHtcbiAgICAgICAgYXN5bmMuc2V0dGxlUHJvbWlzZXModGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fZW5zdXJlUG9zc2libGVSZWplY3Rpb25IYW5kbGVkKCk7XG4gICAgfVxufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2Z1bGZpbGxQcm9taXNlcyA9IGZ1bmN0aW9uIChsZW4sIHZhbHVlKSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgaGFuZGxlciA9IHRoaXMuX2Z1bGZpbGxtZW50SGFuZGxlckF0KGkpO1xuICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuX3Byb21pc2VBdChpKTtcbiAgICAgICAgdmFyIHJlY2VpdmVyID0gdGhpcy5fcmVjZWl2ZXJBdChpKTtcbiAgICAgICAgdGhpcy5fY2xlYXJDYWxsYmFja0RhdGFBdEluZGV4KGkpO1xuICAgICAgICB0aGlzLl9zZXR0bGVQcm9taXNlKHByb21pc2UsIGhhbmRsZXIsIHJlY2VpdmVyLCB2YWx1ZSk7XG4gICAgfVxufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3JlamVjdFByb21pc2VzID0gZnVuY3Rpb24gKGxlbiwgcmVhc29uKSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgaGFuZGxlciA9IHRoaXMuX3JlamVjdGlvbkhhbmRsZXJBdChpKTtcbiAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLl9wcm9taXNlQXQoaSk7XG4gICAgICAgIHZhciByZWNlaXZlciA9IHRoaXMuX3JlY2VpdmVyQXQoaSk7XG4gICAgICAgIHRoaXMuX2NsZWFyQ2FsbGJhY2tEYXRhQXRJbmRleChpKTtcbiAgICAgICAgdGhpcy5fc2V0dGxlUHJvbWlzZShwcm9taXNlLCBoYW5kbGVyLCByZWNlaXZlciwgcmVhc29uKTtcbiAgICB9XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fc2V0dGxlUHJvbWlzZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGJpdEZpZWxkID0gdGhpcy5fYml0RmllbGQ7XG4gICAgdmFyIGxlbiA9IChiaXRGaWVsZCAmIDY1NTM1KTtcblxuICAgIGlmIChsZW4gPiAwKSB7XG4gICAgICAgIGlmICgoKGJpdEZpZWxkICYgMTY4NDI3NTIpICE9PSAwKSkge1xuICAgICAgICAgICAgdmFyIHJlYXNvbiA9IHRoaXMuX2Z1bGZpbGxtZW50SGFuZGxlcjA7XG4gICAgICAgICAgICB0aGlzLl9zZXR0bGVQcm9taXNlMCh0aGlzLl9yZWplY3Rpb25IYW5kbGVyMCwgcmVhc29uLCBiaXRGaWVsZCk7XG4gICAgICAgICAgICB0aGlzLl9yZWplY3RQcm9taXNlcyhsZW4sIHJlYXNvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLl9yZWplY3Rpb25IYW5kbGVyMDtcbiAgICAgICAgICAgIHRoaXMuX3NldHRsZVByb21pc2UwKHRoaXMuX2Z1bGZpbGxtZW50SGFuZGxlcjAsIHZhbHVlLCBiaXRGaWVsZCk7XG4gICAgICAgICAgICB0aGlzLl9mdWxmaWxsUHJvbWlzZXMobGVuLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc2V0TGVuZ3RoKDApO1xuICAgIH1cbiAgICB0aGlzLl9jbGVhckNhbmNlbGxhdGlvbkRhdGEoKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9zZXR0bGVkVmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZDtcbiAgICBpZiAoKChiaXRGaWVsZCAmIDMzNTU0NDMyKSAhPT0gMCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwO1xuICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDE2Nzc3MjE2KSAhPT0gMCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Z1bGZpbGxtZW50SGFuZGxlcjA7XG4gICAgfVxufTtcblxuZnVuY3Rpb24gZGVmZXJSZXNvbHZlKHYpIHt0aGlzLnByb21pc2UuX3Jlc29sdmVDYWxsYmFjayh2KTt9XG5mdW5jdGlvbiBkZWZlclJlamVjdCh2KSB7dGhpcy5wcm9taXNlLl9yZWplY3RDYWxsYmFjayh2LCBmYWxzZSk7fVxuXG5Qcm9taXNlLmRlZmVyID0gUHJvbWlzZS5wZW5kaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgZGVidWcuZGVwcmVjYXRlZChcIlByb21pc2UuZGVmZXJcIiwgXCJuZXcgUHJvbWlzZVwiKTtcbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBwcm9taXNlOiBwcm9taXNlLFxuICAgICAgICByZXNvbHZlOiBkZWZlclJlc29sdmUsXG4gICAgICAgIHJlamVjdDogZGVmZXJSZWplY3RcbiAgICB9O1xufTtcblxudXRpbC5ub3RFbnVtZXJhYmxlUHJvcChQcm9taXNlLFxuICAgICAgICAgICAgICAgICAgICAgICBcIl9tYWtlU2VsZlJlc29sdXRpb25FcnJvclwiLFxuICAgICAgICAgICAgICAgICAgICAgICBtYWtlU2VsZlJlc29sdXRpb25FcnJvcik7XG5cbl9kZXJlcV8oXCIuL21ldGhvZFwiKShQcm9taXNlLCBJTlRFUk5BTCwgdHJ5Q29udmVydFRvUHJvbWlzZSwgYXBpUmVqZWN0aW9uLFxuICAgIGRlYnVnKTtcbl9kZXJlcV8oXCIuL2JpbmRcIikoUHJvbWlzZSwgSU5URVJOQUwsIHRyeUNvbnZlcnRUb1Byb21pc2UsIGRlYnVnKTtcbl9kZXJlcV8oXCIuL2NhbmNlbFwiKShQcm9taXNlLCBQcm9taXNlQXJyYXksIGFwaVJlamVjdGlvbiwgZGVidWcpO1xuX2RlcmVxXyhcIi4vZGlyZWN0X3Jlc29sdmVcIikoUHJvbWlzZSk7XG5fZGVyZXFfKFwiLi9zeW5jaHJvbm91c19pbnNwZWN0aW9uXCIpKFByb21pc2UpO1xuX2RlcmVxXyhcIi4vam9pblwiKShcbiAgICBQcm9taXNlLCBQcm9taXNlQXJyYXksIHRyeUNvbnZlcnRUb1Byb21pc2UsIElOVEVSTkFMLCBhc3luYywgZ2V0RG9tYWluKTtcblByb21pc2UuUHJvbWlzZSA9IFByb21pc2U7XG5Qcm9taXNlLnZlcnNpb24gPSBcIjMuNS4wXCI7XG5fZGVyZXFfKCcuL21hcC5qcycpKFByb21pc2UsIFByb21pc2VBcnJheSwgYXBpUmVqZWN0aW9uLCB0cnlDb252ZXJ0VG9Qcm9taXNlLCBJTlRFUk5BTCwgZGVidWcpO1xuX2RlcmVxXygnLi9jYWxsX2dldC5qcycpKFByb21pc2UpO1xuX2RlcmVxXygnLi91c2luZy5qcycpKFByb21pc2UsIGFwaVJlamVjdGlvbiwgdHJ5Q29udmVydFRvUHJvbWlzZSwgY3JlYXRlQ29udGV4dCwgSU5URVJOQUwsIGRlYnVnKTtcbl9kZXJlcV8oJy4vdGltZXJzLmpzJykoUHJvbWlzZSwgSU5URVJOQUwsIGRlYnVnKTtcbl9kZXJlcV8oJy4vZ2VuZXJhdG9ycy5qcycpKFByb21pc2UsIGFwaVJlamVjdGlvbiwgSU5URVJOQUwsIHRyeUNvbnZlcnRUb1Byb21pc2UsIFByb3h5YWJsZSwgZGVidWcpO1xuX2RlcmVxXygnLi9ub2RlaWZ5LmpzJykoUHJvbWlzZSk7XG5fZGVyZXFfKCcuL3Byb21pc2lmeS5qcycpKFByb21pc2UsIElOVEVSTkFMKTtcbl9kZXJlcV8oJy4vcHJvcHMuanMnKShQcm9taXNlLCBQcm9taXNlQXJyYXksIHRyeUNvbnZlcnRUb1Byb21pc2UsIGFwaVJlamVjdGlvbik7XG5fZGVyZXFfKCcuL3JhY2UuanMnKShQcm9taXNlLCBJTlRFUk5BTCwgdHJ5Q29udmVydFRvUHJvbWlzZSwgYXBpUmVqZWN0aW9uKTtcbl9kZXJlcV8oJy4vcmVkdWNlLmpzJykoUHJvbWlzZSwgUHJvbWlzZUFycmF5LCBhcGlSZWplY3Rpb24sIHRyeUNvbnZlcnRUb1Byb21pc2UsIElOVEVSTkFMLCBkZWJ1Zyk7XG5fZGVyZXFfKCcuL3NldHRsZS5qcycpKFByb21pc2UsIFByb21pc2VBcnJheSwgZGVidWcpO1xuX2RlcmVxXygnLi9zb21lLmpzJykoUHJvbWlzZSwgUHJvbWlzZUFycmF5LCBhcGlSZWplY3Rpb24pO1xuX2RlcmVxXygnLi9maWx0ZXIuanMnKShQcm9taXNlLCBJTlRFUk5BTCk7XG5fZGVyZXFfKCcuL2VhY2guanMnKShQcm9taXNlLCBJTlRFUk5BTCk7XG5fZGVyZXFfKCcuL2FueS5qcycpKFByb21pc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgdXRpbC50b0Zhc3RQcm9wZXJ0aWVzKFByb21pc2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgIHV0aWwudG9GYXN0UHJvcGVydGllcyhQcm9taXNlLnByb3RvdHlwZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICBmdW5jdGlvbiBmaWxsVHlwZXModmFsdWUpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgIHZhciBwID0gbmV3IFByb21pc2UoSU5URVJOQUwpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICBwLl9mdWxmaWxsbWVudEhhbmRsZXIwID0gdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgcC5fcmVqZWN0aW9uSGFuZGxlcjAgPSB2YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgIHAuX3Byb21pc2UwID0gdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICBwLl9yZWNlaXZlcjAgPSB2YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgLy8gQ29tcGxldGUgc2xhY2sgdHJhY2tpbmcsIG9wdCBvdXQgb2YgZmllbGQtdHlwZSB0cmFja2luZyBhbmQgICAgICAgICAgIFxuICAgIC8vIHN0YWJpbGl6ZSBtYXAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICBmaWxsVHlwZXMoe2E6IDF9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgZmlsbFR5cGVzKHtiOiAyfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgIGZpbGxUeXBlcyh7YzogM30pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICBmaWxsVHlwZXMoMSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgZmlsbFR5cGVzKGZ1bmN0aW9uKCl7fSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgIGZpbGxUeXBlcyh1bmRlZmluZWQpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICBmaWxsVHlwZXMoZmFsc2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgZmlsbFR5cGVzKG5ldyBQcm9taXNlKElOVEVSTkFMKSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgIGRlYnVnLnNldEJvdW5kcyhBc3luYy5maXJzdExpbmVFcnJvciwgdXRpbC5sYXN0TGluZUVycm9yKTsgICAgICAgICAgICAgICBcbiAgICByZXR1cm4gUHJvbWlzZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cbn07XG5cbn0se1wiLi9hbnkuanNcIjoxLFwiLi9hc3luY1wiOjIsXCIuL2JpbmRcIjozLFwiLi9jYWxsX2dldC5qc1wiOjUsXCIuL2NhbmNlbFwiOjYsXCIuL2NhdGNoX2ZpbHRlclwiOjcsXCIuL2NvbnRleHRcIjo4LFwiLi9kZWJ1Z2dhYmlsaXR5XCI6OSxcIi4vZGlyZWN0X3Jlc29sdmVcIjoxMCxcIi4vZWFjaC5qc1wiOjExLFwiLi9lcnJvcnNcIjoxMixcIi4vZXM1XCI6MTMsXCIuL2ZpbHRlci5qc1wiOjE0LFwiLi9maW5hbGx5XCI6MTUsXCIuL2dlbmVyYXRvcnMuanNcIjoxNixcIi4vam9pblwiOjE3LFwiLi9tYXAuanNcIjoxOCxcIi4vbWV0aG9kXCI6MTksXCIuL25vZGViYWNrXCI6MjAsXCIuL25vZGVpZnkuanNcIjoyMSxcIi4vcHJvbWlzZV9hcnJheVwiOjIzLFwiLi9wcm9taXNpZnkuanNcIjoyNCxcIi4vcHJvcHMuanNcIjoyNSxcIi4vcmFjZS5qc1wiOjI3LFwiLi9yZWR1Y2UuanNcIjoyOCxcIi4vc2V0dGxlLmpzXCI6MzAsXCIuL3NvbWUuanNcIjozMSxcIi4vc3luY2hyb25vdXNfaW5zcGVjdGlvblwiOjMyLFwiLi90aGVuYWJsZXNcIjozMyxcIi4vdGltZXJzLmpzXCI6MzQsXCIuL3VzaW5nLmpzXCI6MzUsXCIuL3V0aWxcIjozNn1dLDIzOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlLCBJTlRFUk5BTCwgdHJ5Q29udmVydFRvUHJvbWlzZSxcbiAgICBhcGlSZWplY3Rpb24sIFByb3h5YWJsZSkge1xudmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xudmFyIGlzQXJyYXkgPSB1dGlsLmlzQXJyYXk7XG5cbmZ1bmN0aW9uIHRvUmVzb2x1dGlvblZhbHVlKHZhbCkge1xuICAgIHN3aXRjaCh2YWwpIHtcbiAgICBjYXNlIC0yOiByZXR1cm4gW107XG4gICAgY2FzZSAtMzogcmV0dXJuIHt9O1xuICAgIGNhc2UgLTY6IHJldHVybiBuZXcgTWFwKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBQcm9taXNlQXJyYXkodmFsdWVzKSB7XG4gICAgdmFyIHByb21pc2UgPSB0aGlzLl9wcm9taXNlID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuICAgIGlmICh2YWx1ZXMgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIHByb21pc2UuX3Byb3BhZ2F0ZUZyb20odmFsdWVzLCAzKTtcbiAgICB9XG4gICAgcHJvbWlzZS5fc2V0T25DYW5jZWwodGhpcyk7XG4gICAgdGhpcy5fdmFsdWVzID0gdmFsdWVzO1xuICAgIHRoaXMuX2xlbmd0aCA9IDA7XG4gICAgdGhpcy5fdG90YWxSZXNvbHZlZCA9IDA7XG4gICAgdGhpcy5faW5pdCh1bmRlZmluZWQsIC0yKTtcbn1cbnV0aWwuaW5oZXJpdHMoUHJvbWlzZUFycmF5LCBQcm94eWFibGUpO1xuXG5Qcm9taXNlQXJyYXkucHJvdG90eXBlLmxlbmd0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fbGVuZ3RoO1xufTtcblxuUHJvbWlzZUFycmF5LnByb3RvdHlwZS5wcm9taXNlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9wcm9taXNlO1xufTtcblxuUHJvbWlzZUFycmF5LnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uIGluaXQoXywgcmVzb2x2ZVZhbHVlSWZFbXB0eSkge1xuICAgIHZhciB2YWx1ZXMgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKHRoaXMuX3ZhbHVlcywgdGhpcy5fcHJvbWlzZSk7XG4gICAgaWYgKHZhbHVlcyBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgdmFsdWVzID0gdmFsdWVzLl90YXJnZXQoKTtcbiAgICAgICAgdmFyIGJpdEZpZWxkID0gdmFsdWVzLl9iaXRGaWVsZDtcbiAgICAgICAgO1xuICAgICAgICB0aGlzLl92YWx1ZXMgPSB2YWx1ZXM7XG5cbiAgICAgICAgaWYgKCgoYml0RmllbGQgJiA1MDM5NzE4NCkgPT09IDApKSB7XG4gICAgICAgICAgICB0aGlzLl9wcm9taXNlLl9zZXRBc3luY0d1YXJhbnRlZWQoKTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZXMuX3RoZW4oXG4gICAgICAgICAgICAgICAgaW5pdCxcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWplY3QsXG4gICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgICAgcmVzb2x2ZVZhbHVlSWZFbXB0eVxuICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKCgoYml0RmllbGQgJiAzMzU1NDQzMikgIT09IDApKSB7XG4gICAgICAgICAgICB2YWx1ZXMgPSB2YWx1ZXMuX3ZhbHVlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDE2Nzc3MjE2KSAhPT0gMCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWplY3QodmFsdWVzLl9yZWFzb24oKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFsdWVzID0gdXRpbC5hc0FycmF5KHZhbHVlcyk7XG4gICAgaWYgKHZhbHVlcyA9PT0gbnVsbCkge1xuICAgICAgICB2YXIgZXJyID0gYXBpUmVqZWN0aW9uKFxuICAgICAgICAgICAgXCJleHBlY3RpbmcgYW4gYXJyYXkgb3IgYW4gaXRlcmFibGUgb2JqZWN0IGJ1dCBnb3QgXCIgKyB1dGlsLmNsYXNzU3RyaW5nKHZhbHVlcykpLnJlYXNvbigpO1xuICAgICAgICB0aGlzLl9wcm9taXNlLl9yZWplY3RDYWxsYmFjayhlcnIsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh2YWx1ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGlmIChyZXNvbHZlVmFsdWVJZkVtcHR5ID09PSAtNSkge1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZUVtcHR5QXJyYXkoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUodG9SZXNvbHV0aW9uVmFsdWUocmVzb2x2ZVZhbHVlSWZFbXB0eSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5faXRlcmF0ZSh2YWx1ZXMpO1xufTtcblxuUHJvbWlzZUFycmF5LnByb3RvdHlwZS5faXRlcmF0ZSA9IGZ1bmN0aW9uKHZhbHVlcykge1xuICAgIHZhciBsZW4gPSB0aGlzLmdldEFjdHVhbExlbmd0aCh2YWx1ZXMubGVuZ3RoKTtcbiAgICB0aGlzLl9sZW5ndGggPSBsZW47XG4gICAgdGhpcy5fdmFsdWVzID0gdGhpcy5zaG91bGRDb3B5VmFsdWVzKCkgPyBuZXcgQXJyYXkobGVuKSA6IHRoaXMuX3ZhbHVlcztcbiAgICB2YXIgcmVzdWx0ID0gdGhpcy5fcHJvbWlzZTtcbiAgICB2YXIgaXNSZXNvbHZlZCA9IGZhbHNlO1xuICAgIHZhciBiaXRGaWVsZCA9IG51bGw7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICB2YXIgbWF5YmVQcm9taXNlID0gdHJ5Q29udmVydFRvUHJvbWlzZSh2YWx1ZXNbaV0sIHJlc3VsdCk7XG5cbiAgICAgICAgaWYgKG1heWJlUHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIG1heWJlUHJvbWlzZSA9IG1heWJlUHJvbWlzZS5fdGFyZ2V0KCk7XG4gICAgICAgICAgICBiaXRGaWVsZCA9IG1heWJlUHJvbWlzZS5fYml0RmllbGQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBiaXRGaWVsZCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNSZXNvbHZlZCkge1xuICAgICAgICAgICAgaWYgKGJpdEZpZWxkICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbWF5YmVQcm9taXNlLnN1cHByZXNzVW5oYW5kbGVkUmVqZWN0aW9ucygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGJpdEZpZWxkICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoKChiaXRGaWVsZCAmIDUwMzk3MTg0KSA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICBtYXliZVByb21pc2UuX3Byb3h5KHRoaXMsIGkpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlc1tpXSA9IG1heWJlUHJvbWlzZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDMzNTU0NDMyKSAhPT0gMCkpIHtcbiAgICAgICAgICAgICAgICBpc1Jlc29sdmVkID0gdGhpcy5fcHJvbWlzZUZ1bGZpbGxlZChtYXliZVByb21pc2UuX3ZhbHVlKCksIGkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgoKGJpdEZpZWxkICYgMTY3NzcyMTYpICE9PSAwKSkge1xuICAgICAgICAgICAgICAgIGlzUmVzb2x2ZWQgPSB0aGlzLl9wcm9taXNlUmVqZWN0ZWQobWF5YmVQcm9taXNlLl9yZWFzb24oKSwgaSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlzUmVzb2x2ZWQgPSB0aGlzLl9wcm9taXNlQ2FuY2VsbGVkKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaXNSZXNvbHZlZCA9IHRoaXMuX3Byb21pc2VGdWxmaWxsZWQobWF5YmVQcm9taXNlLCBpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWlzUmVzb2x2ZWQpIHJlc3VsdC5fc2V0QXN5bmNHdWFyYW50ZWVkKCk7XG59O1xuXG5Qcm9taXNlQXJyYXkucHJvdG90eXBlLl9pc1Jlc29sdmVkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZXMgPT09IG51bGw7XG59O1xuXG5Qcm9taXNlQXJyYXkucHJvdG90eXBlLl9yZXNvbHZlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdGhpcy5fdmFsdWVzID0gbnVsbDtcbiAgICB0aGlzLl9wcm9taXNlLl9mdWxmaWxsKHZhbHVlKTtcbn07XG5cblByb21pc2VBcnJheS5wcm90b3R5cGUuX2NhbmNlbCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLl9pc1Jlc29sdmVkKCkgfHwgIXRoaXMuX3Byb21pc2UuX2lzQ2FuY2VsbGFibGUoKSkgcmV0dXJuO1xuICAgIHRoaXMuX3ZhbHVlcyA9IG51bGw7XG4gICAgdGhpcy5fcHJvbWlzZS5fY2FuY2VsKCk7XG59O1xuXG5Qcm9taXNlQXJyYXkucHJvdG90eXBlLl9yZWplY3QgPSBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgdGhpcy5fdmFsdWVzID0gbnVsbDtcbiAgICB0aGlzLl9wcm9taXNlLl9yZWplY3RDYWxsYmFjayhyZWFzb24sIGZhbHNlKTtcbn07XG5cblByb21pc2VBcnJheS5wcm90b3R5cGUuX3Byb21pc2VGdWxmaWxsZWQgPSBmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7XG4gICAgdGhpcy5fdmFsdWVzW2luZGV4XSA9IHZhbHVlO1xuICAgIHZhciB0b3RhbFJlc29sdmVkID0gKyt0aGlzLl90b3RhbFJlc29sdmVkO1xuICAgIGlmICh0b3RhbFJlc29sdmVkID49IHRoaXMuX2xlbmd0aCkge1xuICAgICAgICB0aGlzLl9yZXNvbHZlKHRoaXMuX3ZhbHVlcyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG5Qcm9taXNlQXJyYXkucHJvdG90eXBlLl9wcm9taXNlQ2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fY2FuY2VsKCk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG5Qcm9taXNlQXJyYXkucHJvdG90eXBlLl9wcm9taXNlUmVqZWN0ZWQgPSBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgdGhpcy5fdG90YWxSZXNvbHZlZCsrO1xuICAgIHRoaXMuX3JlamVjdChyZWFzb24pO1xuICAgIHJldHVybiB0cnVlO1xufTtcblxuUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcmVzdWx0Q2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX2lzUmVzb2x2ZWQoKSkgcmV0dXJuO1xuICAgIHZhciB2YWx1ZXMgPSB0aGlzLl92YWx1ZXM7XG4gICAgdGhpcy5fY2FuY2VsKCk7XG4gICAgaWYgKHZhbHVlcyBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgdmFsdWVzLmNhbmNlbCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAodmFsdWVzW2ldIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHZhbHVlc1tpXS5jYW5jZWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG5cblByb21pc2VBcnJheS5wcm90b3R5cGUuc2hvdWxkQ29weVZhbHVlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5cblByb21pc2VBcnJheS5wcm90b3R5cGUuZ2V0QWN0dWFsTGVuZ3RoID0gZnVuY3Rpb24gKGxlbikge1xuICAgIHJldHVybiBsZW47XG59O1xuXG5yZXR1cm4gUHJvbWlzZUFycmF5O1xufTtcblxufSx7XCIuL3V0aWxcIjozNn1dLDI0OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlLCBJTlRFUk5BTCkge1xudmFyIFRISVMgPSB7fTtcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbnZhciBub2RlYmFja0ZvclByb21pc2UgPSBfZGVyZXFfKFwiLi9ub2RlYmFja1wiKTtcbnZhciB3aXRoQXBwZW5kZWQgPSB1dGlsLndpdGhBcHBlbmRlZDtcbnZhciBtYXliZVdyYXBBc0Vycm9yID0gdXRpbC5tYXliZVdyYXBBc0Vycm9yO1xudmFyIGNhbkV2YWx1YXRlID0gdXRpbC5jYW5FdmFsdWF0ZTtcbnZhciBUeXBlRXJyb3IgPSBfZGVyZXFfKFwiLi9lcnJvcnNcIikuVHlwZUVycm9yO1xudmFyIGRlZmF1bHRTdWZmaXggPSBcIkFzeW5jXCI7XG52YXIgZGVmYXVsdFByb21pc2lmaWVkID0ge19faXNQcm9taXNpZmllZF9fOiB0cnVlfTtcbnZhciBub0NvcHlQcm9wcyA9IFtcbiAgICBcImFyaXR5XCIsICAgIFwibGVuZ3RoXCIsXG4gICAgXCJuYW1lXCIsXG4gICAgXCJhcmd1bWVudHNcIixcbiAgICBcImNhbGxlclwiLFxuICAgIFwiY2FsbGVlXCIsXG4gICAgXCJwcm90b3R5cGVcIixcbiAgICBcIl9faXNQcm9taXNpZmllZF9fXCJcbl07XG52YXIgbm9Db3B5UHJvcHNQYXR0ZXJuID0gbmV3IFJlZ0V4cChcIl4oPzpcIiArIG5vQ29weVByb3BzLmpvaW4oXCJ8XCIpICsgXCIpJFwiKTtcblxudmFyIGRlZmF1bHRGaWx0ZXIgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgcmV0dXJuIHV0aWwuaXNJZGVudGlmaWVyKG5hbWUpICYmXG4gICAgICAgIG5hbWUuY2hhckF0KDApICE9PSBcIl9cIiAmJlxuICAgICAgICBuYW1lICE9PSBcImNvbnN0cnVjdG9yXCI7XG59O1xuXG5mdW5jdGlvbiBwcm9wc0ZpbHRlcihrZXkpIHtcbiAgICByZXR1cm4gIW5vQ29weVByb3BzUGF0dGVybi50ZXN0KGtleSk7XG59XG5cbmZ1bmN0aW9uIGlzUHJvbWlzaWZpZWQoZm4pIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gZm4uX19pc1Byb21pc2lmaWVkX18gPT09IHRydWU7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGhhc1Byb21pc2lmaWVkKG9iaiwga2V5LCBzdWZmaXgpIHtcbiAgICB2YXIgdmFsID0gdXRpbC5nZXREYXRhUHJvcGVydHlPckRlZmF1bHQob2JqLCBrZXkgKyBzdWZmaXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQcm9taXNpZmllZCk7XG4gICAgcmV0dXJuIHZhbCA/IGlzUHJvbWlzaWZpZWQodmFsKSA6IGZhbHNlO1xufVxuZnVuY3Rpb24gY2hlY2tWYWxpZChyZXQsIHN1ZmZpeCwgc3VmZml4UmVnZXhwKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXQubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgdmFyIGtleSA9IHJldFtpXTtcbiAgICAgICAgaWYgKHN1ZmZpeFJlZ2V4cC50ZXN0KGtleSkpIHtcbiAgICAgICAgICAgIHZhciBrZXlXaXRob3V0QXN5bmNTdWZmaXggPSBrZXkucmVwbGFjZShzdWZmaXhSZWdleHAsIFwiXCIpO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByZXQubGVuZ3RoOyBqICs9IDIpIHtcbiAgICAgICAgICAgICAgICBpZiAocmV0W2pdID09PSBrZXlXaXRob3V0QXN5bmNTdWZmaXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBwcm9taXNpZnkgYW4gQVBJIHRoYXQgaGFzIG5vcm1hbCBtZXRob2RzIHdpdGggJyVzJy1zdWZmaXhcXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKFwiJXNcIiwgc3VmZml4KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBwcm9taXNpZmlhYmxlTWV0aG9kcyhvYmosIHN1ZmZpeCwgc3VmZml4UmVnZXhwLCBmaWx0ZXIpIHtcbiAgICB2YXIga2V5cyA9IHV0aWwuaW5oZXJpdGVkRGF0YUtleXMob2JqKTtcbiAgICB2YXIgcmV0ID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICB2YXIgdmFsdWUgPSBvYmpba2V5XTtcbiAgICAgICAgdmFyIHBhc3Nlc0RlZmF1bHRGaWx0ZXIgPSBmaWx0ZXIgPT09IGRlZmF1bHRGaWx0ZXJcbiAgICAgICAgICAgID8gdHJ1ZSA6IGRlZmF1bHRGaWx0ZXIoa2V5LCB2YWx1ZSwgb2JqKTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgICAgICAhaXNQcm9taXNpZmllZCh2YWx1ZSkgJiZcbiAgICAgICAgICAgICFoYXNQcm9taXNpZmllZChvYmosIGtleSwgc3VmZml4KSAmJlxuICAgICAgICAgICAgZmlsdGVyKGtleSwgdmFsdWUsIG9iaiwgcGFzc2VzRGVmYXVsdEZpbHRlcikpIHtcbiAgICAgICAgICAgIHJldC5wdXNoKGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNoZWNrVmFsaWQocmV0LCBzdWZmaXgsIHN1ZmZpeFJlZ2V4cCk7XG4gICAgcmV0dXJuIHJldDtcbn1cblxudmFyIGVzY2FwZUlkZW50UmVnZXggPSBmdW5jdGlvbihzdHIpIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyhbJF0pLywgXCJcXFxcJFwiKTtcbn07XG5cbnZhciBtYWtlTm9kZVByb21pc2lmaWVkRXZhbDtcbmlmICghdHJ1ZSkge1xudmFyIHN3aXRjaENhc2VBcmd1bWVudE9yZGVyID0gZnVuY3Rpb24obGlrZWx5QXJndW1lbnRDb3VudCkge1xuICAgIHZhciByZXQgPSBbbGlrZWx5QXJndW1lbnRDb3VudF07XG4gICAgdmFyIG1pbiA9IE1hdGgubWF4KDAsIGxpa2VseUFyZ3VtZW50Q291bnQgLSAxIC0gMyk7XG4gICAgZm9yKHZhciBpID0gbGlrZWx5QXJndW1lbnRDb3VudCAtIDE7IGkgPj0gbWluOyAtLWkpIHtcbiAgICAgICAgcmV0LnB1c2goaSk7XG4gICAgfVxuICAgIGZvcih2YXIgaSA9IGxpa2VseUFyZ3VtZW50Q291bnQgKyAxOyBpIDw9IDM7ICsraSkge1xuICAgICAgICByZXQucHVzaChpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn07XG5cbnZhciBhcmd1bWVudFNlcXVlbmNlID0gZnVuY3Rpb24oYXJndW1lbnRDb3VudCkge1xuICAgIHJldHVybiB1dGlsLmZpbGxlZFJhbmdlKGFyZ3VtZW50Q291bnQsIFwiX2FyZ1wiLCBcIlwiKTtcbn07XG5cbnZhciBwYXJhbWV0ZXJEZWNsYXJhdGlvbiA9IGZ1bmN0aW9uKHBhcmFtZXRlckNvdW50KSB7XG4gICAgcmV0dXJuIHV0aWwuZmlsbGVkUmFuZ2UoXG4gICAgICAgIE1hdGgubWF4KHBhcmFtZXRlckNvdW50LCAzKSwgXCJfYXJnXCIsIFwiXCIpO1xufTtcblxudmFyIHBhcmFtZXRlckNvdW50ID0gZnVuY3Rpb24oZm4pIHtcbiAgICBpZiAodHlwZW9mIGZuLmxlbmd0aCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4oZm4ubGVuZ3RoLCAxMDIzICsgMSksIDApO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbn07XG5cbm1ha2VOb2RlUHJvbWlzaWZpZWRFdmFsID1cbmZ1bmN0aW9uKGNhbGxiYWNrLCByZWNlaXZlciwgb3JpZ2luYWxOYW1lLCBmbiwgXywgbXVsdGlBcmdzKSB7XG4gICAgdmFyIG5ld1BhcmFtZXRlckNvdW50ID0gTWF0aC5tYXgoMCwgcGFyYW1ldGVyQ291bnQoZm4pIC0gMSk7XG4gICAgdmFyIGFyZ3VtZW50T3JkZXIgPSBzd2l0Y2hDYXNlQXJndW1lbnRPcmRlcihuZXdQYXJhbWV0ZXJDb3VudCk7XG4gICAgdmFyIHNob3VsZFByb3h5VGhpcyA9IHR5cGVvZiBjYWxsYmFjayA9PT0gXCJzdHJpbmdcIiB8fCByZWNlaXZlciA9PT0gVEhJUztcblxuICAgIGZ1bmN0aW9uIGdlbmVyYXRlQ2FsbEZvckFyZ3VtZW50Q291bnQoY291bnQpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudFNlcXVlbmNlKGNvdW50KS5qb2luKFwiLCBcIik7XG4gICAgICAgIHZhciBjb21tYSA9IGNvdW50ID4gMCA/IFwiLCBcIiA6IFwiXCI7XG4gICAgICAgIHZhciByZXQ7XG4gICAgICAgIGlmIChzaG91bGRQcm94eVRoaXMpIHtcbiAgICAgICAgICAgIHJldCA9IFwicmV0ID0gY2FsbGJhY2suY2FsbCh0aGlzLCB7e2FyZ3N9fSwgbm9kZWJhY2spOyBicmVhaztcXG5cIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldCA9IHJlY2VpdmVyID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IFwicmV0ID0gY2FsbGJhY2soe3thcmdzfX0sIG5vZGViYWNrKTsgYnJlYWs7XFxuXCJcbiAgICAgICAgICAgICAgICA6IFwicmV0ID0gY2FsbGJhY2suY2FsbChyZWNlaXZlciwge3thcmdzfX0sIG5vZGViYWNrKTsgYnJlYWs7XFxuXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldC5yZXBsYWNlKFwie3thcmdzfX1cIiwgYXJncykucmVwbGFjZShcIiwgXCIsIGNvbW1hKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZW5lcmF0ZUFyZ3VtZW50U3dpdGNoQ2FzZSgpIHtcbiAgICAgICAgdmFyIHJldCA9IFwiXCI7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRPcmRlci5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgcmV0ICs9IFwiY2FzZSBcIiArIGFyZ3VtZW50T3JkZXJbaV0gK1wiOlwiICtcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZUNhbGxGb3JBcmd1bWVudENvdW50KGFyZ3VtZW50T3JkZXJbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0ICs9IFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgIGRlZmF1bHQ6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICB2YXIgYXJncyA9IG5ldyBBcnJheShsZW4gKyAxKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICB2YXIgaSA9IDA7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICBhcmdzW2ldID0gbm9kZWJhY2s7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICBbQ29kZUZvckNhbGxdICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICBicmVhazsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgIFwiLnJlcGxhY2UoXCJbQ29kZUZvckNhbGxdXCIsIChzaG91bGRQcm94eVRoaXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcInJldCA9IGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3MpO1xcblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJyZXQgPSBjYWxsYmFjay5hcHBseShyZWNlaXZlciwgYXJncyk7XFxuXCIpKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cbiAgICB2YXIgZ2V0RnVuY3Rpb25Db2RlID0gdHlwZW9mIGNhbGxiYWNrID09PSBcInN0cmluZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKFwidGhpcyAhPSBudWxsID8gdGhpc1snXCIrY2FsbGJhY2srXCInXSA6IGZuXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJmblwiO1xuICAgIHZhciBib2R5ID0gXCIndXNlIHN0cmljdCc7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgdmFyIHJldCA9IGZ1bmN0aW9uIChQYXJhbWV0ZXJzKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgICAgICd1c2Ugc3RyaWN0JzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgICAgIHZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoSU5URVJOQUwpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgICAgIHByb21pc2UuX2NhcHR1cmVTdGFja1RyYWNlKCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgICAgIHZhciBub2RlYmFjayA9IG5vZGViYWNrRm9yUHJvbWlzZShwcm9taXNlLCBcIiArIG11bHRpQXJncyArIFwiKTsgICBcXG5cXFxuICAgICAgICAgICAgdmFyIHJldDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gdHJ5Q2F0Y2goW0dldEZ1bmN0aW9uQ29kZV0pOyAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgc3dpdGNoKGxlbikgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIFtDb2RlRm9yU3dpdGNoQ2FzZV0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgaWYgKHJldCA9PT0gZXJyb3JPYmopIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIHByb21pc2UuX3JlamVjdENhbGxiYWNrKG1heWJlV3JhcEFzRXJyb3IocmV0LmUpLCB0cnVlLCB0cnVlKTtcXG5cXFxuICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgaWYgKCFwcm9taXNlLl9pc0ZhdGVTZWFsZWQoKSkgcHJvbWlzZS5fc2V0QXN5bmNHdWFyYW50ZWVkKCk7ICAgICBcXG5cXFxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICB9OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICBub3RFbnVtZXJhYmxlUHJvcChyZXQsICdfX2lzUHJvbWlzaWZpZWRfXycsIHRydWUpOyAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICByZXR1cm4gcmV0OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgIFwiLnJlcGxhY2UoXCJbQ29kZUZvclN3aXRjaENhc2VdXCIsIGdlbmVyYXRlQXJndW1lbnRTd2l0Y2hDYXNlKCkpXG4gICAgICAgIC5yZXBsYWNlKFwiW0dldEZ1bmN0aW9uQ29kZV1cIiwgZ2V0RnVuY3Rpb25Db2RlKTtcbiAgICBib2R5ID0gYm9keS5yZXBsYWNlKFwiUGFyYW1ldGVyc1wiLCBwYXJhbWV0ZXJEZWNsYXJhdGlvbihuZXdQYXJhbWV0ZXJDb3VudCkpO1xuICAgIHJldHVybiBuZXcgRnVuY3Rpb24oXCJQcm9taXNlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImZuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInJlY2VpdmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIndpdGhBcHBlbmRlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJtYXliZVdyYXBBc0Vycm9yXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm5vZGViYWNrRm9yUHJvbWlzZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0cnlDYXRjaFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJlcnJvck9ialwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJub3RFbnVtZXJhYmxlUHJvcFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJJTlRFUk5BTFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keSkoXG4gICAgICAgICAgICAgICAgICAgIFByb21pc2UsXG4gICAgICAgICAgICAgICAgICAgIGZuLFxuICAgICAgICAgICAgICAgICAgICByZWNlaXZlcixcbiAgICAgICAgICAgICAgICAgICAgd2l0aEFwcGVuZGVkLFxuICAgICAgICAgICAgICAgICAgICBtYXliZVdyYXBBc0Vycm9yLFxuICAgICAgICAgICAgICAgICAgICBub2RlYmFja0ZvclByb21pc2UsXG4gICAgICAgICAgICAgICAgICAgIHV0aWwudHJ5Q2F0Y2gsXG4gICAgICAgICAgICAgICAgICAgIHV0aWwuZXJyb3JPYmosXG4gICAgICAgICAgICAgICAgICAgIHV0aWwubm90RW51bWVyYWJsZVByb3AsXG4gICAgICAgICAgICAgICAgICAgIElOVEVSTkFMKTtcbn07XG59XG5cbmZ1bmN0aW9uIG1ha2VOb2RlUHJvbWlzaWZpZWRDbG9zdXJlKGNhbGxiYWNrLCByZWNlaXZlciwgXywgZm4sIF9fLCBtdWx0aUFyZ3MpIHtcbiAgICB2YXIgZGVmYXVsdFRoaXMgPSAoZnVuY3Rpb24oKSB7cmV0dXJuIHRoaXM7fSkoKTtcbiAgICB2YXIgbWV0aG9kID0gY2FsbGJhY2s7XG4gICAgaWYgKHR5cGVvZiBtZXRob2QgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBmbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJvbWlzaWZpZWQoKSB7XG4gICAgICAgIHZhciBfcmVjZWl2ZXIgPSByZWNlaXZlcjtcbiAgICAgICAgaWYgKHJlY2VpdmVyID09PSBUSElTKSBfcmVjZWl2ZXIgPSB0aGlzO1xuICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcbiAgICAgICAgcHJvbWlzZS5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcbiAgICAgICAgdmFyIGNiID0gdHlwZW9mIG1ldGhvZCA9PT0gXCJzdHJpbmdcIiAmJiB0aGlzICE9PSBkZWZhdWx0VGhpc1xuICAgICAgICAgICAgPyB0aGlzW21ldGhvZF0gOiBjYWxsYmFjaztcbiAgICAgICAgdmFyIGZuID0gbm9kZWJhY2tGb3JQcm9taXNlKHByb21pc2UsIG11bHRpQXJncyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjYi5hcHBseShfcmVjZWl2ZXIsIHdpdGhBcHBlbmRlZChhcmd1bWVudHMsIGZuKSk7XG4gICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgcHJvbWlzZS5fcmVqZWN0Q2FsbGJhY2sobWF5YmVXcmFwQXNFcnJvcihlKSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwcm9taXNlLl9pc0ZhdGVTZWFsZWQoKSkgcHJvbWlzZS5fc2V0QXN5bmNHdWFyYW50ZWVkKCk7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgICB1dGlsLm5vdEVudW1lcmFibGVQcm9wKHByb21pc2lmaWVkLCBcIl9faXNQcm9taXNpZmllZF9fXCIsIHRydWUpO1xuICAgIHJldHVybiBwcm9taXNpZmllZDtcbn1cblxudmFyIG1ha2VOb2RlUHJvbWlzaWZpZWQgPSBjYW5FdmFsdWF0ZVxuICAgID8gbWFrZU5vZGVQcm9taXNpZmllZEV2YWxcbiAgICA6IG1ha2VOb2RlUHJvbWlzaWZpZWRDbG9zdXJlO1xuXG5mdW5jdGlvbiBwcm9taXNpZnlBbGwob2JqLCBzdWZmaXgsIGZpbHRlciwgcHJvbWlzaWZpZXIsIG11bHRpQXJncykge1xuICAgIHZhciBzdWZmaXhSZWdleHAgPSBuZXcgUmVnRXhwKGVzY2FwZUlkZW50UmVnZXgoc3VmZml4KSArIFwiJFwiKTtcbiAgICB2YXIgbWV0aG9kcyA9XG4gICAgICAgIHByb21pc2lmaWFibGVNZXRob2RzKG9iaiwgc3VmZml4LCBzdWZmaXhSZWdleHAsIGZpbHRlcik7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbWV0aG9kcy5sZW5ndGg7IGkgPCBsZW47IGkrPSAyKSB7XG4gICAgICAgIHZhciBrZXkgPSBtZXRob2RzW2ldO1xuICAgICAgICB2YXIgZm4gPSBtZXRob2RzW2krMV07XG4gICAgICAgIHZhciBwcm9taXNpZmllZEtleSA9IGtleSArIHN1ZmZpeDtcbiAgICAgICAgaWYgKHByb21pc2lmaWVyID09PSBtYWtlTm9kZVByb21pc2lmaWVkKSB7XG4gICAgICAgICAgICBvYmpbcHJvbWlzaWZpZWRLZXldID1cbiAgICAgICAgICAgICAgICBtYWtlTm9kZVByb21pc2lmaWVkKGtleSwgVEhJUywga2V5LCBmbiwgc3VmZml4LCBtdWx0aUFyZ3MpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHByb21pc2lmaWVkID0gcHJvbWlzaWZpZXIoZm4sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlTm9kZVByb21pc2lmaWVkKGtleSwgVEhJUywga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZuLCBzdWZmaXgsIG11bHRpQXJncyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHV0aWwubm90RW51bWVyYWJsZVByb3AocHJvbWlzaWZpZWQsIFwiX19pc1Byb21pc2lmaWVkX19cIiwgdHJ1ZSk7XG4gICAgICAgICAgICBvYmpbcHJvbWlzaWZpZWRLZXldID0gcHJvbWlzaWZpZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXRpbC50b0Zhc3RQcm9wZXJ0aWVzKG9iaik7XG4gICAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gcHJvbWlzaWZ5KGNhbGxiYWNrLCByZWNlaXZlciwgbXVsdGlBcmdzKSB7XG4gICAgcmV0dXJuIG1ha2VOb2RlUHJvbWlzaWZpZWQoY2FsbGJhY2ssIHJlY2VpdmVyLCB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLCBudWxsLCBtdWx0aUFyZ3MpO1xufVxuXG5Qcm9taXNlLnByb21pc2lmeSA9IGZ1bmN0aW9uIChmbiwgb3B0aW9ucykge1xuICAgIGlmICh0eXBlb2YgZm4gIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIiArIHV0aWwuY2xhc3NTdHJpbmcoZm4pKTtcbiAgICB9XG4gICAgaWYgKGlzUHJvbWlzaWZpZWQoZm4pKSB7XG4gICAgICAgIHJldHVybiBmbjtcbiAgICB9XG4gICAgb3B0aW9ucyA9IE9iamVjdChvcHRpb25zKTtcbiAgICB2YXIgcmVjZWl2ZXIgPSBvcHRpb25zLmNvbnRleHQgPT09IHVuZGVmaW5lZCA/IFRISVMgOiBvcHRpb25zLmNvbnRleHQ7XG4gICAgdmFyIG11bHRpQXJncyA9ICEhb3B0aW9ucy5tdWx0aUFyZ3M7XG4gICAgdmFyIHJldCA9IHByb21pc2lmeShmbiwgcmVjZWl2ZXIsIG11bHRpQXJncyk7XG4gICAgdXRpbC5jb3B5RGVzY3JpcHRvcnMoZm4sIHJldCwgcHJvcHNGaWx0ZXIpO1xuICAgIHJldHVybiByZXQ7XG59O1xuXG5Qcm9taXNlLnByb21pc2lmeUFsbCA9IGZ1bmN0aW9uICh0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIHRhcmdldCAhPT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiB0YXJnZXQgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcInRoZSB0YXJnZXQgb2YgcHJvbWlzaWZ5QWxsIG11c3QgYmUgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb25cXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xuICAgIH1cbiAgICBvcHRpb25zID0gT2JqZWN0KG9wdGlvbnMpO1xuICAgIHZhciBtdWx0aUFyZ3MgPSAhIW9wdGlvbnMubXVsdGlBcmdzO1xuICAgIHZhciBzdWZmaXggPSBvcHRpb25zLnN1ZmZpeDtcbiAgICBpZiAodHlwZW9mIHN1ZmZpeCAhPT0gXCJzdHJpbmdcIikgc3VmZml4ID0gZGVmYXVsdFN1ZmZpeDtcbiAgICB2YXIgZmlsdGVyID0gb3B0aW9ucy5maWx0ZXI7XG4gICAgaWYgKHR5cGVvZiBmaWx0ZXIgIT09IFwiZnVuY3Rpb25cIikgZmlsdGVyID0gZGVmYXVsdEZpbHRlcjtcbiAgICB2YXIgcHJvbWlzaWZpZXIgPSBvcHRpb25zLnByb21pc2lmaWVyO1xuICAgIGlmICh0eXBlb2YgcHJvbWlzaWZpZXIgIT09IFwiZnVuY3Rpb25cIikgcHJvbWlzaWZpZXIgPSBtYWtlTm9kZVByb21pc2lmaWVkO1xuXG4gICAgaWYgKCF1dGlsLmlzSWRlbnRpZmllcihzdWZmaXgpKSB7XG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwic3VmZml4IG11c3QgYmUgYSB2YWxpZCBpZGVudGlmaWVyXFx1MDAwYVxcdTAwMGEgICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFx1MDAwYVwiKTtcbiAgICB9XG5cbiAgICB2YXIga2V5cyA9IHV0aWwuaW5oZXJpdGVkRGF0YUtleXModGFyZ2V0KTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGFyZ2V0W2tleXNbaV1dO1xuICAgICAgICBpZiAoa2V5c1tpXSAhPT0gXCJjb25zdHJ1Y3RvclwiICYmXG4gICAgICAgICAgICB1dGlsLmlzQ2xhc3ModmFsdWUpKSB7XG4gICAgICAgICAgICBwcm9taXNpZnlBbGwodmFsdWUucHJvdG90eXBlLCBzdWZmaXgsIGZpbHRlciwgcHJvbWlzaWZpZXIsXG4gICAgICAgICAgICAgICAgbXVsdGlBcmdzKTtcbiAgICAgICAgICAgIHByb21pc2lmeUFsbCh2YWx1ZSwgc3VmZml4LCBmaWx0ZXIsIHByb21pc2lmaWVyLCBtdWx0aUFyZ3MpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb21pc2lmeUFsbCh0YXJnZXQsIHN1ZmZpeCwgZmlsdGVyLCBwcm9taXNpZmllciwgbXVsdGlBcmdzKTtcbn07XG59O1xuXG5cbn0se1wiLi9lcnJvcnNcIjoxMixcIi4vbm9kZWJhY2tcIjoyMCxcIi4vdXRpbFwiOjM2fV0sMjU6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFxuICAgIFByb21pc2UsIFByb21pc2VBcnJheSwgdHJ5Q29udmVydFRvUHJvbWlzZSwgYXBpUmVqZWN0aW9uKSB7XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG52YXIgaXNPYmplY3QgPSB1dGlsLmlzT2JqZWN0O1xudmFyIGVzNSA9IF9kZXJlcV8oXCIuL2VzNVwiKTtcbnZhciBFczZNYXA7XG5pZiAodHlwZW9mIE1hcCA9PT0gXCJmdW5jdGlvblwiKSBFczZNYXAgPSBNYXA7XG5cbnZhciBtYXBUb0VudHJpZXMgPSAoZnVuY3Rpb24oKSB7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgc2l6ZSA9IDA7XG5cbiAgICBmdW5jdGlvbiBleHRyYWN0RW50cnkodmFsdWUsIGtleSkge1xuICAgICAgICB0aGlzW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICB0aGlzW2luZGV4ICsgc2l6ZV0gPSBrZXk7XG4gICAgICAgIGluZGV4Kys7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG1hcFRvRW50cmllcyhtYXApIHtcbiAgICAgICAgc2l6ZSA9IG1hcC5zaXplO1xuICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgIHZhciByZXQgPSBuZXcgQXJyYXkobWFwLnNpemUgKiAyKTtcbiAgICAgICAgbWFwLmZvckVhY2goZXh0cmFjdEVudHJ5LCByZXQpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG59KSgpO1xuXG52YXIgZW50cmllc1RvTWFwID0gZnVuY3Rpb24oZW50cmllcykge1xuICAgIHZhciByZXQgPSBuZXcgRXM2TWFwKCk7XG4gICAgdmFyIGxlbmd0aCA9IGVudHJpZXMubGVuZ3RoIC8gMiB8IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIga2V5ID0gZW50cmllc1tsZW5ndGggKyBpXTtcbiAgICAgICAgdmFyIHZhbHVlID0gZW50cmllc1tpXTtcbiAgICAgICAgcmV0LnNldChrZXksIHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn07XG5cbmZ1bmN0aW9uIFByb3BlcnRpZXNQcm9taXNlQXJyYXkob2JqKSB7XG4gICAgdmFyIGlzTWFwID0gZmFsc2U7XG4gICAgdmFyIGVudHJpZXM7XG4gICAgaWYgKEVzNk1hcCAhPT0gdW5kZWZpbmVkICYmIG9iaiBpbnN0YW5jZW9mIEVzNk1hcCkge1xuICAgICAgICBlbnRyaWVzID0gbWFwVG9FbnRyaWVzKG9iaik7XG4gICAgICAgIGlzTWFwID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIga2V5cyA9IGVzNS5rZXlzKG9iaik7XG4gICAgICAgIHZhciBsZW4gPSBrZXlzLmxlbmd0aDtcbiAgICAgICAgZW50cmllcyA9IG5ldyBBcnJheShsZW4gKiAyKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgICBlbnRyaWVzW2ldID0gb2JqW2tleV07XG4gICAgICAgICAgICBlbnRyaWVzW2kgKyBsZW5dID0ga2V5O1xuICAgICAgICB9XG4gICAgfVxuICAgIHRoaXMuY29uc3RydWN0b3IkKGVudHJpZXMpO1xuICAgIHRoaXMuX2lzTWFwID0gaXNNYXA7XG4gICAgdGhpcy5faW5pdCQodW5kZWZpbmVkLCBpc01hcCA/IC02IDogLTMpO1xufVxudXRpbC5pbmhlcml0cyhQcm9wZXJ0aWVzUHJvbWlzZUFycmF5LCBQcm9taXNlQXJyYXkpO1xuXG5Qcm9wZXJ0aWVzUHJvbWlzZUFycmF5LnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uICgpIHt9O1xuXG5Qcm9wZXJ0aWVzUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcHJvbWlzZUZ1bGZpbGxlZCA9IGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcbiAgICB0aGlzLl92YWx1ZXNbaW5kZXhdID0gdmFsdWU7XG4gICAgdmFyIHRvdGFsUmVzb2x2ZWQgPSArK3RoaXMuX3RvdGFsUmVzb2x2ZWQ7XG4gICAgaWYgKHRvdGFsUmVzb2x2ZWQgPj0gdGhpcy5fbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWw7XG4gICAgICAgIGlmICh0aGlzLl9pc01hcCkge1xuICAgICAgICAgICAgdmFsID0gZW50cmllc1RvTWFwKHRoaXMuX3ZhbHVlcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWwgPSB7fTtcbiAgICAgICAgICAgIHZhciBrZXlPZmZzZXQgPSB0aGlzLmxlbmd0aCgpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMubGVuZ3RoKCk7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgICAgICAgIHZhbFt0aGlzLl92YWx1ZXNbaSArIGtleU9mZnNldF1dID0gdGhpcy5fdmFsdWVzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Jlc29sdmUodmFsKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5cblByb3BlcnRpZXNQcm9taXNlQXJyYXkucHJvdG90eXBlLnNob3VsZENvcHlWYWx1ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuUHJvcGVydGllc1Byb21pc2VBcnJheS5wcm90b3R5cGUuZ2V0QWN0dWFsTGVuZ3RoID0gZnVuY3Rpb24gKGxlbikge1xuICAgIHJldHVybiBsZW4gPj4gMTtcbn07XG5cbmZ1bmN0aW9uIHByb3BzKHByb21pc2VzKSB7XG4gICAgdmFyIHJldDtcbiAgICB2YXIgY2FzdFZhbHVlID0gdHJ5Q29udmVydFRvUHJvbWlzZShwcm9taXNlcyk7XG5cbiAgICBpZiAoIWlzT2JqZWN0KGNhc3RWYWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGFwaVJlamVjdGlvbihcImNhbm5vdCBhd2FpdCBwcm9wZXJ0aWVzIG9mIGEgbm9uLW9iamVjdFxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcIik7XG4gICAgfSBlbHNlIGlmIChjYXN0VmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIHJldCA9IGNhc3RWYWx1ZS5fdGhlbihcbiAgICAgICAgICAgIFByb21pc2UucHJvcHMsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0ID0gbmV3IFByb3BlcnRpZXNQcm9taXNlQXJyYXkoY2FzdFZhbHVlKS5wcm9taXNlKCk7XG4gICAgfVxuXG4gICAgaWYgKGNhc3RWYWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgcmV0Ll9wcm9wYWdhdGVGcm9tKGNhc3RWYWx1ZSwgMik7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG59XG5cblByb21pc2UucHJvdG90eXBlLnByb3BzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBwcm9wcyh0aGlzKTtcbn07XG5cblByb21pc2UucHJvcHMgPSBmdW5jdGlvbiAocHJvbWlzZXMpIHtcbiAgICByZXR1cm4gcHJvcHMocHJvbWlzZXMpO1xufTtcbn07XG5cbn0se1wiLi9lczVcIjoxMyxcIi4vdXRpbFwiOjM2fV0sMjY6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBhcnJheU1vdmUoc3JjLCBzcmNJbmRleCwgZHN0LCBkc3RJbmRleCwgbGVuKSB7XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBsZW47ICsraikge1xuICAgICAgICBkc3RbaiArIGRzdEluZGV4XSA9IHNyY1tqICsgc3JjSW5kZXhdO1xuICAgICAgICBzcmNbaiArIHNyY0luZGV4XSA9IHZvaWQgMDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIFF1ZXVlKGNhcGFjaXR5KSB7XG4gICAgdGhpcy5fY2FwYWNpdHkgPSBjYXBhY2l0eTtcbiAgICB0aGlzLl9sZW5ndGggPSAwO1xuICAgIHRoaXMuX2Zyb250ID0gMDtcbn1cblxuUXVldWUucHJvdG90eXBlLl93aWxsQmVPdmVyQ2FwYWNpdHkgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICAgIHJldHVybiB0aGlzLl9jYXBhY2l0eSA8IHNpemU7XG59O1xuXG5RdWV1ZS5wcm90b3R5cGUuX3B1c2hPbmUgPSBmdW5jdGlvbiAoYXJnKSB7XG4gICAgdmFyIGxlbmd0aCA9IHRoaXMubGVuZ3RoKCk7XG4gICAgdGhpcy5fY2hlY2tDYXBhY2l0eShsZW5ndGggKyAxKTtcbiAgICB2YXIgaSA9ICh0aGlzLl9mcm9udCArIGxlbmd0aCkgJiAodGhpcy5fY2FwYWNpdHkgLSAxKTtcbiAgICB0aGlzW2ldID0gYXJnO1xuICAgIHRoaXMuX2xlbmd0aCA9IGxlbmd0aCArIDE7XG59O1xuXG5RdWV1ZS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChmbiwgcmVjZWl2ZXIsIGFyZykge1xuICAgIHZhciBsZW5ndGggPSB0aGlzLmxlbmd0aCgpICsgMztcbiAgICBpZiAodGhpcy5fd2lsbEJlT3ZlckNhcGFjaXR5KGxlbmd0aCkpIHtcbiAgICAgICAgdGhpcy5fcHVzaE9uZShmbik7XG4gICAgICAgIHRoaXMuX3B1c2hPbmUocmVjZWl2ZXIpO1xuICAgICAgICB0aGlzLl9wdXNoT25lKGFyZyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGogPSB0aGlzLl9mcm9udCArIGxlbmd0aCAtIDM7XG4gICAgdGhpcy5fY2hlY2tDYXBhY2l0eShsZW5ndGgpO1xuICAgIHZhciB3cmFwTWFzayA9IHRoaXMuX2NhcGFjaXR5IC0gMTtcbiAgICB0aGlzWyhqICsgMCkgJiB3cmFwTWFza10gPSBmbjtcbiAgICB0aGlzWyhqICsgMSkgJiB3cmFwTWFza10gPSByZWNlaXZlcjtcbiAgICB0aGlzWyhqICsgMikgJiB3cmFwTWFza10gPSBhcmc7XG4gICAgdGhpcy5fbGVuZ3RoID0gbGVuZ3RoO1xufTtcblxuUXVldWUucHJvdG90eXBlLnNoaWZ0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBmcm9udCA9IHRoaXMuX2Zyb250LFxuICAgICAgICByZXQgPSB0aGlzW2Zyb250XTtcblxuICAgIHRoaXNbZnJvbnRdID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX2Zyb250ID0gKGZyb250ICsgMSkgJiAodGhpcy5fY2FwYWNpdHkgLSAxKTtcbiAgICB0aGlzLl9sZW5ndGgtLTtcbiAgICByZXR1cm4gcmV0O1xufTtcblxuUXVldWUucHJvdG90eXBlLmxlbmd0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fbGVuZ3RoO1xufTtcblxuUXVldWUucHJvdG90eXBlLl9jaGVja0NhcGFjaXR5ID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgICBpZiAodGhpcy5fY2FwYWNpdHkgPCBzaXplKSB7XG4gICAgICAgIHRoaXMuX3Jlc2l6ZVRvKHRoaXMuX2NhcGFjaXR5IDw8IDEpO1xuICAgIH1cbn07XG5cblF1ZXVlLnByb3RvdHlwZS5fcmVzaXplVG8gPSBmdW5jdGlvbiAoY2FwYWNpdHkpIHtcbiAgICB2YXIgb2xkQ2FwYWNpdHkgPSB0aGlzLl9jYXBhY2l0eTtcbiAgICB0aGlzLl9jYXBhY2l0eSA9IGNhcGFjaXR5O1xuICAgIHZhciBmcm9udCA9IHRoaXMuX2Zyb250O1xuICAgIHZhciBsZW5ndGggPSB0aGlzLl9sZW5ndGg7XG4gICAgdmFyIG1vdmVJdGVtc0NvdW50ID0gKGZyb250ICsgbGVuZ3RoKSAmIChvbGRDYXBhY2l0eSAtIDEpO1xuICAgIGFycmF5TW92ZSh0aGlzLCAwLCB0aGlzLCBvbGRDYXBhY2l0eSwgbW92ZUl0ZW1zQ291bnQpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBRdWV1ZTtcblxufSx7fV0sMjc6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFxuICAgIFByb21pc2UsIElOVEVSTkFMLCB0cnlDb252ZXJ0VG9Qcm9taXNlLCBhcGlSZWplY3Rpb24pIHtcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcblxudmFyIHJhY2VMYXRlciA9IGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbihhcnJheSkge1xuICAgICAgICByZXR1cm4gcmFjZShhcnJheSwgcHJvbWlzZSk7XG4gICAgfSk7XG59O1xuXG5mdW5jdGlvbiByYWNlKHByb21pc2VzLCBwYXJlbnQpIHtcbiAgICB2YXIgbWF5YmVQcm9taXNlID0gdHJ5Q29udmVydFRvUHJvbWlzZShwcm9taXNlcyk7XG5cbiAgICBpZiAobWF5YmVQcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICByZXR1cm4gcmFjZUxhdGVyKG1heWJlUHJvbWlzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcHJvbWlzZXMgPSB1dGlsLmFzQXJyYXkocHJvbWlzZXMpO1xuICAgICAgICBpZiAocHJvbWlzZXMgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gYXBpUmVqZWN0aW9uKFwiZXhwZWN0aW5nIGFuIGFycmF5IG9yIGFuIGl0ZXJhYmxlIG9iamVjdCBidXQgZ290IFwiICsgdXRpbC5jbGFzc1N0cmluZyhwcm9taXNlcykpO1xuICAgIH1cblxuICAgIHZhciByZXQgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG4gICAgaWYgKHBhcmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldC5fcHJvcGFnYXRlRnJvbShwYXJlbnQsIDMpO1xuICAgIH1cbiAgICB2YXIgZnVsZmlsbCA9IHJldC5fZnVsZmlsbDtcbiAgICB2YXIgcmVqZWN0ID0gcmV0Ll9yZWplY3Q7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHByb21pc2VzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgIHZhciB2YWwgPSBwcm9taXNlc1tpXTtcblxuICAgICAgICBpZiAodmFsID09PSB1bmRlZmluZWQgJiYgIShpIGluIHByb21pc2VzKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBQcm9taXNlLmNhc3QodmFsKS5fdGhlbihmdWxmaWxsLCByZWplY3QsIHVuZGVmaW5lZCwgcmV0LCBudWxsKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn1cblxuUHJvbWlzZS5yYWNlID0gZnVuY3Rpb24gKHByb21pc2VzKSB7XG4gICAgcmV0dXJuIHJhY2UocHJvbWlzZXMsIHVuZGVmaW5lZCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5yYWNlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiByYWNlKHRoaXMsIHVuZGVmaW5lZCk7XG59O1xuXG59O1xuXG59LHtcIi4vdXRpbFwiOjM2fV0sMjg6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFByb21pc2VBcnJheSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpUmVqZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0cnlDb252ZXJ0VG9Qcm9taXNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBJTlRFUk5BTCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcpIHtcbnZhciBnZXREb21haW4gPSBQcm9taXNlLl9nZXREb21haW47XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG52YXIgdHJ5Q2F0Y2ggPSB1dGlsLnRyeUNhdGNoO1xuXG5mdW5jdGlvbiBSZWR1Y3Rpb25Qcm9taXNlQXJyYXkocHJvbWlzZXMsIGZuLCBpbml0aWFsVmFsdWUsIF9lYWNoKSB7XG4gICAgdGhpcy5jb25zdHJ1Y3RvciQocHJvbWlzZXMpO1xuICAgIHZhciBkb21haW4gPSBnZXREb21haW4oKTtcbiAgICB0aGlzLl9mbiA9IGRvbWFpbiA9PT0gbnVsbCA/IGZuIDogdXRpbC5kb21haW5CaW5kKGRvbWFpbiwgZm4pO1xuICAgIGlmIChpbml0aWFsVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpbml0aWFsVmFsdWUgPSBQcm9taXNlLnJlc29sdmUoaW5pdGlhbFZhbHVlKTtcbiAgICAgICAgaW5pdGlhbFZhbHVlLl9hdHRhY2hDYW5jZWxsYXRpb25DYWxsYmFjayh0aGlzKTtcbiAgICB9XG4gICAgdGhpcy5faW5pdGlhbFZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICAgIHRoaXMuX2N1cnJlbnRDYW5jZWxsYWJsZSA9IG51bGw7XG4gICAgaWYoX2VhY2ggPT09IElOVEVSTkFMKSB7XG4gICAgICAgIHRoaXMuX2VhY2hWYWx1ZXMgPSBBcnJheSh0aGlzLl9sZW5ndGgpO1xuICAgIH0gZWxzZSBpZiAoX2VhY2ggPT09IDApIHtcbiAgICAgICAgdGhpcy5fZWFjaFZhbHVlcyA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fZWFjaFZhbHVlcyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgdGhpcy5fcHJvbWlzZS5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcbiAgICB0aGlzLl9pbml0JCh1bmRlZmluZWQsIC01KTtcbn1cbnV0aWwuaW5oZXJpdHMoUmVkdWN0aW9uUHJvbWlzZUFycmF5LCBQcm9taXNlQXJyYXkpO1xuXG5SZWR1Y3Rpb25Qcm9taXNlQXJyYXkucHJvdG90eXBlLl9nb3RBY2N1bSA9IGZ1bmN0aW9uKGFjY3VtKSB7XG4gICAgaWYgKHRoaXMuX2VhY2hWYWx1ZXMgIT09IHVuZGVmaW5lZCAmJiBcbiAgICAgICAgdGhpcy5fZWFjaFZhbHVlcyAhPT0gbnVsbCAmJiBcbiAgICAgICAgYWNjdW0gIT09IElOVEVSTkFMKSB7XG4gICAgICAgIHRoaXMuX2VhY2hWYWx1ZXMucHVzaChhY2N1bSk7XG4gICAgfVxufTtcblxuUmVkdWN0aW9uUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fZWFjaENvbXBsZXRlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAodGhpcy5fZWFjaFZhbHVlcyAhPT0gbnVsbCkge1xuICAgICAgICB0aGlzLl9lYWNoVmFsdWVzLnB1c2godmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fZWFjaFZhbHVlcztcbn07XG5cblJlZHVjdGlvblByb21pc2VBcnJheS5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbigpIHt9O1xuXG5SZWR1Y3Rpb25Qcm9taXNlQXJyYXkucHJvdG90eXBlLl9yZXNvbHZlRW1wdHlBcnJheSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX3Jlc29sdmUodGhpcy5fZWFjaFZhbHVlcyAhPT0gdW5kZWZpbmVkID8gdGhpcy5fZWFjaFZhbHVlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy5faW5pdGlhbFZhbHVlKTtcbn07XG5cblJlZHVjdGlvblByb21pc2VBcnJheS5wcm90b3R5cGUuc2hvdWxkQ29weVZhbHVlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG5SZWR1Y3Rpb25Qcm9taXNlQXJyYXkucHJvdG90eXBlLl9yZXNvbHZlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB0aGlzLl9wcm9taXNlLl9yZXNvbHZlQ2FsbGJhY2sodmFsdWUpO1xuICAgIHRoaXMuX3ZhbHVlcyA9IG51bGw7XG59O1xuXG5SZWR1Y3Rpb25Qcm9taXNlQXJyYXkucHJvdG90eXBlLl9yZXN1bHRDYW5jZWxsZWQgPSBmdW5jdGlvbihzZW5kZXIpIHtcbiAgICBpZiAoc2VuZGVyID09PSB0aGlzLl9pbml0aWFsVmFsdWUpIHJldHVybiB0aGlzLl9jYW5jZWwoKTtcbiAgICBpZiAodGhpcy5faXNSZXNvbHZlZCgpKSByZXR1cm47XG4gICAgdGhpcy5fcmVzdWx0Q2FuY2VsbGVkJCgpO1xuICAgIGlmICh0aGlzLl9jdXJyZW50Q2FuY2VsbGFibGUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRDYW5jZWxsYWJsZS5jYW5jZWwoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2luaXRpYWxWYWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgdGhpcy5faW5pdGlhbFZhbHVlLmNhbmNlbCgpO1xuICAgIH1cbn07XG5cblJlZHVjdGlvblByb21pc2VBcnJheS5wcm90b3R5cGUuX2l0ZXJhdGUgPSBmdW5jdGlvbiAodmFsdWVzKSB7XG4gICAgdGhpcy5fdmFsdWVzID0gdmFsdWVzO1xuICAgIHZhciB2YWx1ZTtcbiAgICB2YXIgaTtcbiAgICB2YXIgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aDtcbiAgICBpZiAodGhpcy5faW5pdGlhbFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFsdWUgPSB0aGlzLl9pbml0aWFsVmFsdWU7XG4gICAgICAgIGkgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gUHJvbWlzZS5yZXNvbHZlKHZhbHVlc1swXSk7XG4gICAgICAgIGkgPSAxO1xuICAgIH1cblxuICAgIHRoaXMuX2N1cnJlbnRDYW5jZWxsYWJsZSA9IHZhbHVlO1xuXG4gICAgaWYgKCF2YWx1ZS5pc1JlamVjdGVkKCkpIHtcbiAgICAgICAgZm9yICg7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIGN0eCA9IHtcbiAgICAgICAgICAgICAgICBhY2N1bTogbnVsbCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVzW2ldLFxuICAgICAgICAgICAgICAgIGluZGV4OiBpLFxuICAgICAgICAgICAgICAgIGxlbmd0aDogbGVuZ3RoLFxuICAgICAgICAgICAgICAgIGFycmF5OiB0aGlzXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5fdGhlbihnb3RBY2N1bSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGN0eCwgdW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLl9lYWNoVmFsdWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZVxuICAgICAgICAgICAgLl90aGVuKHRoaXMuX2VhY2hDb21wbGV0ZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHRoaXMsIHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIHZhbHVlLl90aGVuKGNvbXBsZXRlZCwgY29tcGxldGVkLCB1bmRlZmluZWQsIHZhbHVlLCB0aGlzKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnJlZHVjZSA9IGZ1bmN0aW9uIChmbiwgaW5pdGlhbFZhbHVlKSB7XG4gICAgcmV0dXJuIHJlZHVjZSh0aGlzLCBmbiwgaW5pdGlhbFZhbHVlLCBudWxsKTtcbn07XG5cblByb21pc2UucmVkdWNlID0gZnVuY3Rpb24gKHByb21pc2VzLCBmbiwgaW5pdGlhbFZhbHVlLCBfZWFjaCkge1xuICAgIHJldHVybiByZWR1Y2UocHJvbWlzZXMsIGZuLCBpbml0aWFsVmFsdWUsIF9lYWNoKTtcbn07XG5cbmZ1bmN0aW9uIGNvbXBsZXRlZCh2YWx1ZU9yUmVhc29uLCBhcnJheSkge1xuICAgIGlmICh0aGlzLmlzRnVsZmlsbGVkKCkpIHtcbiAgICAgICAgYXJyYXkuX3Jlc29sdmUodmFsdWVPclJlYXNvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgYXJyYXkuX3JlamVjdCh2YWx1ZU9yUmVhc29uKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlZHVjZShwcm9taXNlcywgZm4sIGluaXRpYWxWYWx1ZSwgX2VhY2gpIHtcbiAgICBpZiAodHlwZW9mIGZuICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGFwaVJlamVjdGlvbihcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIgKyB1dGlsLmNsYXNzU3RyaW5nKGZuKSk7XG4gICAgfVxuICAgIHZhciBhcnJheSA9IG5ldyBSZWR1Y3Rpb25Qcm9taXNlQXJyYXkocHJvbWlzZXMsIGZuLCBpbml0aWFsVmFsdWUsIF9lYWNoKTtcbiAgICByZXR1cm4gYXJyYXkucHJvbWlzZSgpO1xufVxuXG5mdW5jdGlvbiBnb3RBY2N1bShhY2N1bSkge1xuICAgIHRoaXMuYWNjdW0gPSBhY2N1bTtcbiAgICB0aGlzLmFycmF5Ll9nb3RBY2N1bShhY2N1bSk7XG4gICAgdmFyIHZhbHVlID0gdHJ5Q29udmVydFRvUHJvbWlzZSh0aGlzLnZhbHVlLCB0aGlzLmFycmF5Ll9wcm9taXNlKTtcbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIHRoaXMuYXJyYXkuX2N1cnJlbnRDYW5jZWxsYWJsZSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdmFsdWUuX3RoZW4oZ290VmFsdWUsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB0aGlzLCB1bmRlZmluZWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBnb3RWYWx1ZS5jYWxsKHRoaXMsIHZhbHVlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdvdFZhbHVlKHZhbHVlKSB7XG4gICAgdmFyIGFycmF5ID0gdGhpcy5hcnJheTtcbiAgICB2YXIgcHJvbWlzZSA9IGFycmF5Ll9wcm9taXNlO1xuICAgIHZhciBmbiA9IHRyeUNhdGNoKGFycmF5Ll9mbik7XG4gICAgcHJvbWlzZS5fcHVzaENvbnRleHQoKTtcbiAgICB2YXIgcmV0O1xuICAgIGlmIChhcnJheS5fZWFjaFZhbHVlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldCA9IGZuLmNhbGwocHJvbWlzZS5fYm91bmRWYWx1ZSgpLCB2YWx1ZSwgdGhpcy5pbmRleCwgdGhpcy5sZW5ndGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldCA9IGZuLmNhbGwocHJvbWlzZS5fYm91bmRWYWx1ZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hY2N1bSwgdmFsdWUsIHRoaXMuaW5kZXgsIHRoaXMubGVuZ3RoKTtcbiAgICB9XG4gICAgaWYgKHJldCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgYXJyYXkuX2N1cnJlbnRDYW5jZWxsYWJsZSA9IHJldDtcbiAgICB9XG4gICAgdmFyIHByb21pc2VDcmVhdGVkID0gcHJvbWlzZS5fcG9wQ29udGV4dCgpO1xuICAgIGRlYnVnLmNoZWNrRm9yZ290dGVuUmV0dXJucyhcbiAgICAgICAgcmV0LFxuICAgICAgICBwcm9taXNlQ3JlYXRlZCxcbiAgICAgICAgYXJyYXkuX2VhY2hWYWx1ZXMgIT09IHVuZGVmaW5lZCA/IFwiUHJvbWlzZS5lYWNoXCIgOiBcIlByb21pc2UucmVkdWNlXCIsXG4gICAgICAgIHByb21pc2VcbiAgICApO1xuICAgIHJldHVybiByZXQ7XG59XG59O1xuXG59LHtcIi4vdXRpbFwiOjM2fV0sMjk6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG52YXIgc2NoZWR1bGU7XG52YXIgbm9Bc3luY1NjaGVkdWxlciA9IGZ1bmN0aW9uKCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGFzeW5jIHNjaGVkdWxlciBhdmFpbGFibGVcXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xufTtcbnZhciBOYXRpdmVQcm9taXNlID0gdXRpbC5nZXROYXRpdmVQcm9taXNlKCk7XG5pZiAodXRpbC5pc05vZGUgJiYgdHlwZW9mIE11dGF0aW9uT2JzZXJ2ZXIgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB2YXIgR2xvYmFsU2V0SW1tZWRpYXRlID0gZ2xvYmFsLnNldEltbWVkaWF0ZTtcbiAgICB2YXIgUHJvY2Vzc05leHRUaWNrID0gcHJvY2Vzcy5uZXh0VGljaztcbiAgICBzY2hlZHVsZSA9IHV0aWwuaXNSZWNlbnROb2RlXG4gICAgICAgICAgICAgICAgPyBmdW5jdGlvbihmbikgeyBHbG9iYWxTZXRJbW1lZGlhdGUuY2FsbChnbG9iYWwsIGZuKTsgfVxuICAgICAgICAgICAgICAgIDogZnVuY3Rpb24oZm4pIHsgUHJvY2Vzc05leHRUaWNrLmNhbGwocHJvY2VzcywgZm4pOyB9O1xufSBlbHNlIGlmICh0eXBlb2YgTmF0aXZlUHJvbWlzZSA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgICAgIHR5cGVvZiBOYXRpdmVQcm9taXNlLnJlc29sdmUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHZhciBuYXRpdmVQcm9taXNlID0gTmF0aXZlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgc2NoZWR1bGUgPSBmdW5jdGlvbihmbikge1xuICAgICAgICBuYXRpdmVQcm9taXNlLnRoZW4oZm4pO1xuICAgIH07XG59IGVsc2UgaWYgKCh0eXBlb2YgTXV0YXRpb25PYnNlcnZlciAhPT0gXCJ1bmRlZmluZWRcIikgJiZcbiAgICAgICAgICAhKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgICAgIHdpbmRvdy5uYXZpZ2F0b3IgJiZcbiAgICAgICAgICAgICh3aW5kb3cubmF2aWdhdG9yLnN0YW5kYWxvbmUgfHwgd2luZG93LmNvcmRvdmEpKSkge1xuICAgIHNjaGVkdWxlID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdmFyIG9wdHMgPSB7YXR0cmlidXRlczogdHJ1ZX07XG4gICAgICAgIHZhciB0b2dnbGVTY2hlZHVsZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGRpdjIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB2YXIgbzIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGRpdi5jbGFzc0xpc3QudG9nZ2xlKFwiZm9vXCIpO1xuICAgICAgICAgICAgdG9nZ2xlU2NoZWR1bGVkID0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgICBvMi5vYnNlcnZlKGRpdjIsIG9wdHMpO1xuXG4gICAgICAgIHZhciBzY2hlZHVsZVRvZ2dsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHRvZ2dsZVNjaGVkdWxlZCkgcmV0dXJuO1xuICAgICAgICAgICAgdG9nZ2xlU2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGRpdjIuY2xhc3NMaXN0LnRvZ2dsZShcImZvb1wiKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gc2NoZWR1bGUoZm4pIHtcbiAgICAgICAgICAgIHZhciBvID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgby5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgby5vYnNlcnZlKGRpdiwgb3B0cyk7XG4gICAgICAgICAgICBzY2hlZHVsZVRvZ2dsZSgpO1xuICAgICAgICB9O1xuICAgIH0pKCk7XG59IGVsc2UgaWYgKHR5cGVvZiBzZXRJbW1lZGlhdGUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBzY2hlZHVsZSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICBzZXRJbW1lZGlhdGUoZm4pO1xuICAgIH07XG59IGVsc2UgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgc2NoZWR1bGUgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgc2V0VGltZW91dChmbiwgMCk7XG4gICAgfTtcbn0gZWxzZSB7XG4gICAgc2NoZWR1bGUgPSBub0FzeW5jU2NoZWR1bGVyO1xufVxubW9kdWxlLmV4cG9ydHMgPSBzY2hlZHVsZTtcblxufSx7XCIuL3V0aWxcIjozNn1dLDMwOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPVxuICAgIGZ1bmN0aW9uKFByb21pc2UsIFByb21pc2VBcnJheSwgZGVidWcpIHtcbnZhciBQcm9taXNlSW5zcGVjdGlvbiA9IFByb21pc2UuUHJvbWlzZUluc3BlY3Rpb247XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG5cbmZ1bmN0aW9uIFNldHRsZWRQcm9taXNlQXJyYXkodmFsdWVzKSB7XG4gICAgdGhpcy5jb25zdHJ1Y3RvciQodmFsdWVzKTtcbn1cbnV0aWwuaW5oZXJpdHMoU2V0dGxlZFByb21pc2VBcnJheSwgUHJvbWlzZUFycmF5KTtcblxuU2V0dGxlZFByb21pc2VBcnJheS5wcm90b3R5cGUuX3Byb21pc2VSZXNvbHZlZCA9IGZ1bmN0aW9uIChpbmRleCwgaW5zcGVjdGlvbikge1xuICAgIHRoaXMuX3ZhbHVlc1tpbmRleF0gPSBpbnNwZWN0aW9uO1xuICAgIHZhciB0b3RhbFJlc29sdmVkID0gKyt0aGlzLl90b3RhbFJlc29sdmVkO1xuICAgIGlmICh0b3RhbFJlc29sdmVkID49IHRoaXMuX2xlbmd0aCkge1xuICAgICAgICB0aGlzLl9yZXNvbHZlKHRoaXMuX3ZhbHVlcyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG5TZXR0bGVkUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcHJvbWlzZUZ1bGZpbGxlZCA9IGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcbiAgICB2YXIgcmV0ID0gbmV3IFByb21pc2VJbnNwZWN0aW9uKCk7XG4gICAgcmV0Ll9iaXRGaWVsZCA9IDMzNTU0NDMyO1xuICAgIHJldC5fc2V0dGxlZFZhbHVlRmllbGQgPSB2YWx1ZTtcbiAgICByZXR1cm4gdGhpcy5fcHJvbWlzZVJlc29sdmVkKGluZGV4LCByZXQpO1xufTtcblNldHRsZWRQcm9taXNlQXJyYXkucHJvdG90eXBlLl9wcm9taXNlUmVqZWN0ZWQgPSBmdW5jdGlvbiAocmVhc29uLCBpbmRleCkge1xuICAgIHZhciByZXQgPSBuZXcgUHJvbWlzZUluc3BlY3Rpb24oKTtcbiAgICByZXQuX2JpdEZpZWxkID0gMTY3NzcyMTY7XG4gICAgcmV0Ll9zZXR0bGVkVmFsdWVGaWVsZCA9IHJlYXNvbjtcbiAgICByZXR1cm4gdGhpcy5fcHJvbWlzZVJlc29sdmVkKGluZGV4LCByZXQpO1xufTtcblxuUHJvbWlzZS5zZXR0bGUgPSBmdW5jdGlvbiAocHJvbWlzZXMpIHtcbiAgICBkZWJ1Zy5kZXByZWNhdGVkKFwiLnNldHRsZSgpXCIsIFwiLnJlZmxlY3QoKVwiKTtcbiAgICByZXR1cm4gbmV3IFNldHRsZWRQcm9taXNlQXJyYXkocHJvbWlzZXMpLnByb21pc2UoKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnNldHRsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5zZXR0bGUodGhpcyk7XG59O1xufTtcblxufSx7XCIuL3V0aWxcIjozNn1dLDMxOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPVxuZnVuY3Rpb24oUHJvbWlzZSwgUHJvbWlzZUFycmF5LCBhcGlSZWplY3Rpb24pIHtcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbnZhciBSYW5nZUVycm9yID0gX2RlcmVxXyhcIi4vZXJyb3JzXCIpLlJhbmdlRXJyb3I7XG52YXIgQWdncmVnYXRlRXJyb3IgPSBfZGVyZXFfKFwiLi9lcnJvcnNcIikuQWdncmVnYXRlRXJyb3I7XG52YXIgaXNBcnJheSA9IHV0aWwuaXNBcnJheTtcbnZhciBDQU5DRUxMQVRJT04gPSB7fTtcblxuXG5mdW5jdGlvbiBTb21lUHJvbWlzZUFycmF5KHZhbHVlcykge1xuICAgIHRoaXMuY29uc3RydWN0b3IkKHZhbHVlcyk7XG4gICAgdGhpcy5faG93TWFueSA9IDA7XG4gICAgdGhpcy5fdW53cmFwID0gZmFsc2U7XG4gICAgdGhpcy5faW5pdGlhbGl6ZWQgPSBmYWxzZTtcbn1cbnV0aWwuaW5oZXJpdHMoU29tZVByb21pc2VBcnJheSwgUHJvbWlzZUFycmF5KTtcblxuU29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLl9pbml0aWFsaXplZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLl9ob3dNYW55ID09PSAwKSB7XG4gICAgICAgIHRoaXMuX3Jlc29sdmUoW10pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2luaXQkKHVuZGVmaW5lZCwgLTUpO1xuICAgIHZhciBpc0FycmF5UmVzb2x2ZWQgPSBpc0FycmF5KHRoaXMuX3ZhbHVlcyk7XG4gICAgaWYgKCF0aGlzLl9pc1Jlc29sdmVkKCkgJiZcbiAgICAgICAgaXNBcnJheVJlc29sdmVkICYmXG4gICAgICAgIHRoaXMuX2hvd01hbnkgPiB0aGlzLl9jYW5Qb3NzaWJseUZ1bGZpbGwoKSkge1xuICAgICAgICB0aGlzLl9yZWplY3QodGhpcy5fZ2V0UmFuZ2VFcnJvcih0aGlzLmxlbmd0aCgpKSk7XG4gICAgfVxufTtcblxuU29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgdGhpcy5faW5pdCgpO1xufTtcblxuU29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuc2V0VW53cmFwID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX3Vud3JhcCA9IHRydWU7XG59O1xuXG5Tb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5ob3dNYW55ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9ob3dNYW55O1xufTtcblxuU29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuc2V0SG93TWFueSA9IGZ1bmN0aW9uIChjb3VudCkge1xuICAgIHRoaXMuX2hvd01hbnkgPSBjb3VudDtcbn07XG5cblNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLl9wcm9taXNlRnVsZmlsbGVkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdGhpcy5fYWRkRnVsZmlsbGVkKHZhbHVlKTtcbiAgICBpZiAodGhpcy5fZnVsZmlsbGVkKCkgPT09IHRoaXMuaG93TWFueSgpKSB7XG4gICAgICAgIHRoaXMuX3ZhbHVlcy5sZW5ndGggPSB0aGlzLmhvd01hbnkoKTtcbiAgICAgICAgaWYgKHRoaXMuaG93TWFueSgpID09PSAxICYmIHRoaXMuX3Vud3JhcCkge1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSh0aGlzLl92YWx1ZXNbMF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSh0aGlzLl92YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG5cbn07XG5Tb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcHJvbWlzZVJlamVjdGVkID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHRoaXMuX2FkZFJlamVjdGVkKHJlYXNvbik7XG4gICAgcmV0dXJuIHRoaXMuX2NoZWNrT3V0Y29tZSgpO1xufTtcblxuU29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuX3Byb21pc2VDYW5jZWxsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuX3ZhbHVlcyBpbnN0YW5jZW9mIFByb21pc2UgfHwgdGhpcy5fdmFsdWVzID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbmNlbCgpO1xuICAgIH1cbiAgICB0aGlzLl9hZGRSZWplY3RlZChDQU5DRUxMQVRJT04pO1xuICAgIHJldHVybiB0aGlzLl9jaGVja091dGNvbWUoKTtcbn07XG5cblNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLl9jaGVja091dGNvbWUgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5ob3dNYW55KCkgPiB0aGlzLl9jYW5Qb3NzaWJseUZ1bGZpbGwoKSkge1xuICAgICAgICB2YXIgZSA9IG5ldyBBZ2dyZWdhdGVFcnJvcigpO1xuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5sZW5ndGgoKTsgaSA8IHRoaXMuX3ZhbHVlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3ZhbHVlc1tpXSAhPT0gQ0FOQ0VMTEFUSU9OKSB7XG4gICAgICAgICAgICAgICAgZS5wdXNoKHRoaXMuX3ZhbHVlc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fcmVqZWN0KGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5cblNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLl9mdWxmaWxsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RvdGFsUmVzb2x2ZWQ7XG59O1xuXG5Tb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcmVqZWN0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlcy5sZW5ndGggLSB0aGlzLmxlbmd0aCgpO1xufTtcblxuU29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuX2FkZFJlamVjdGVkID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHRoaXMuX3ZhbHVlcy5wdXNoKHJlYXNvbik7XG59O1xuXG5Tb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fYWRkRnVsZmlsbGVkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdGhpcy5fdmFsdWVzW3RoaXMuX3RvdGFsUmVzb2x2ZWQrK10gPSB2YWx1ZTtcbn07XG5cblNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLl9jYW5Qb3NzaWJseUZ1bGZpbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubGVuZ3RoKCkgLSB0aGlzLl9yZWplY3RlZCgpO1xufTtcblxuU29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuX2dldFJhbmdlRXJyb3IgPSBmdW5jdGlvbiAoY291bnQpIHtcbiAgICB2YXIgbWVzc2FnZSA9IFwiSW5wdXQgYXJyYXkgbXVzdCBjb250YWluIGF0IGxlYXN0IFwiICtcbiAgICAgICAgICAgIHRoaXMuX2hvd01hbnkgKyBcIiBpdGVtcyBidXQgY29udGFpbnMgb25seSBcIiArIGNvdW50ICsgXCIgaXRlbXNcIjtcbiAgICByZXR1cm4gbmV3IFJhbmdlRXJyb3IobWVzc2FnZSk7XG59O1xuXG5Tb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcmVzb2x2ZUVtcHR5QXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5fcmVqZWN0KHRoaXMuX2dldFJhbmdlRXJyb3IoMCkpO1xufTtcblxuZnVuY3Rpb24gc29tZShwcm9taXNlcywgaG93TWFueSkge1xuICAgIGlmICgoaG93TWFueSB8IDApICE9PSBob3dNYW55IHx8IGhvd01hbnkgPCAwKSB7XG4gICAgICAgIHJldHVybiBhcGlSZWplY3Rpb24oXCJleHBlY3RpbmcgYSBwb3NpdGl2ZSBpbnRlZ2VyXFx1MDAwYVxcdTAwMGEgICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFx1MDAwYVwiKTtcbiAgICB9XG4gICAgdmFyIHJldCA9IG5ldyBTb21lUHJvbWlzZUFycmF5KHByb21pc2VzKTtcbiAgICB2YXIgcHJvbWlzZSA9IHJldC5wcm9taXNlKCk7XG4gICAgcmV0LnNldEhvd01hbnkoaG93TWFueSk7XG4gICAgcmV0LmluaXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuUHJvbWlzZS5zb21lID0gZnVuY3Rpb24gKHByb21pc2VzLCBob3dNYW55KSB7XG4gICAgcmV0dXJuIHNvbWUocHJvbWlzZXMsIGhvd01hbnkpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuc29tZSA9IGZ1bmN0aW9uIChob3dNYW55KSB7XG4gICAgcmV0dXJuIHNvbWUodGhpcywgaG93TWFueSk7XG59O1xuXG5Qcm9taXNlLl9Tb21lUHJvbWlzZUFycmF5ID0gU29tZVByb21pc2VBcnJheTtcbn07XG5cbn0se1wiLi9lcnJvcnNcIjoxMixcIi4vdXRpbFwiOjM2fV0sMzI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UpIHtcbmZ1bmN0aW9uIFByb21pc2VJbnNwZWN0aW9uKHByb21pc2UpIHtcbiAgICBpZiAocHJvbWlzZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHByb21pc2UgPSBwcm9taXNlLl90YXJnZXQoKTtcbiAgICAgICAgdGhpcy5fYml0RmllbGQgPSBwcm9taXNlLl9iaXRGaWVsZDtcbiAgICAgICAgdGhpcy5fc2V0dGxlZFZhbHVlRmllbGQgPSBwcm9taXNlLl9pc0ZhdGVTZWFsZWQoKVxuICAgICAgICAgICAgPyBwcm9taXNlLl9zZXR0bGVkVmFsdWUoKSA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRoaXMuX2JpdEZpZWxkID0gMDtcbiAgICAgICAgdGhpcy5fc2V0dGxlZFZhbHVlRmllbGQgPSB1bmRlZmluZWQ7XG4gICAgfVxufVxuXG5Qcm9taXNlSW5zcGVjdGlvbi5wcm90b3R5cGUuX3NldHRsZWRWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9zZXR0bGVkVmFsdWVGaWVsZDtcbn07XG5cbnZhciB2YWx1ZSA9IFByb21pc2VJbnNwZWN0aW9uLnByb3RvdHlwZS52YWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuaXNGdWxmaWxsZWQoKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiY2Fubm90IGdldCBmdWxmaWxsbWVudCB2YWx1ZSBvZiBhIG5vbi1mdWxmaWxsZWQgcHJvbWlzZVxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcIik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9zZXR0bGVkVmFsdWUoKTtcbn07XG5cbnZhciByZWFzb24gPSBQcm9taXNlSW5zcGVjdGlvbi5wcm90b3R5cGUuZXJyb3IgPVxuUHJvbWlzZUluc3BlY3Rpb24ucHJvdG90eXBlLnJlYXNvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuaXNSZWplY3RlZCgpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJjYW5ub3QgZ2V0IHJlamVjdGlvbiByZWFzb24gb2YgYSBub24tcmVqZWN0ZWQgcHJvbWlzZVxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcIik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9zZXR0bGVkVmFsdWUoKTtcbn07XG5cbnZhciBpc0Z1bGZpbGxlZCA9IFByb21pc2VJbnNwZWN0aW9uLnByb3RvdHlwZS5pc0Z1bGZpbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAodGhpcy5fYml0RmllbGQgJiAzMzU1NDQzMikgIT09IDA7XG59O1xuXG52YXIgaXNSZWplY3RlZCA9IFByb21pc2VJbnNwZWN0aW9uLnByb3RvdHlwZS5pc1JlamVjdGVkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAodGhpcy5fYml0RmllbGQgJiAxNjc3NzIxNikgIT09IDA7XG59O1xuXG52YXIgaXNQZW5kaW5nID0gUHJvbWlzZUluc3BlY3Rpb24ucHJvdG90eXBlLmlzUGVuZGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgNTAzOTcxODQpID09PSAwO1xufTtcblxudmFyIGlzUmVzb2x2ZWQgPSBQcm9taXNlSW5zcGVjdGlvbi5wcm90b3R5cGUuaXNSZXNvbHZlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgNTAzMzE2NDgpICE9PSAwO1xufTtcblxuUHJvbWlzZUluc3BlY3Rpb24ucHJvdG90eXBlLmlzQ2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICh0aGlzLl9iaXRGaWVsZCAmIDg0NTQxNDQpICE9PSAwO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX19pc0NhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAodGhpcy5fYml0RmllbGQgJiA2NTUzNikgPT09IDY1NTM2O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2lzQ2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RhcmdldCgpLl9faXNDYW5jZWxsZWQoKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmlzQ2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICh0aGlzLl90YXJnZXQoKS5fYml0RmllbGQgJiA4NDU0MTQ0KSAhPT0gMDtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmlzUGVuZGluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBpc1BlbmRpbmcuY2FsbCh0aGlzLl90YXJnZXQoKSk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5pc1JlamVjdGVkID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGlzUmVqZWN0ZWQuY2FsbCh0aGlzLl90YXJnZXQoKSk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5pc0Z1bGZpbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBpc0Z1bGZpbGxlZC5jYWxsKHRoaXMuX3RhcmdldCgpKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmlzUmVzb2x2ZWQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaXNSZXNvbHZlZC5jYWxsKHRoaXMuX3RhcmdldCgpKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHZhbHVlLmNhbGwodGhpcy5fdGFyZ2V0KCkpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUucmVhc29uID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHRhcmdldCA9IHRoaXMuX3RhcmdldCgpO1xuICAgIHRhcmdldC5fdW5zZXRSZWplY3Rpb25Jc1VuaGFuZGxlZCgpO1xuICAgIHJldHVybiByZWFzb24uY2FsbCh0YXJnZXQpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3ZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NldHRsZWRWYWx1ZSgpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3JlYXNvbiA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX3Vuc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQoKTtcbiAgICByZXR1cm4gdGhpcy5fc2V0dGxlZFZhbHVlKCk7XG59O1xuXG5Qcm9taXNlLlByb21pc2VJbnNwZWN0aW9uID0gUHJvbWlzZUluc3BlY3Rpb247XG59O1xuXG59LHt9XSwzMzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oUHJvbWlzZSwgSU5URVJOQUwpIHtcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbnZhciBlcnJvck9iaiA9IHV0aWwuZXJyb3JPYmo7XG52YXIgaXNPYmplY3QgPSB1dGlsLmlzT2JqZWN0O1xuXG5mdW5jdGlvbiB0cnlDb252ZXJ0VG9Qcm9taXNlKG9iaiwgY29udGV4dCkge1xuICAgIGlmIChpc09iamVjdChvYmopKSB7XG4gICAgICAgIGlmIChvYmogaW5zdGFuY2VvZiBQcm9taXNlKSByZXR1cm4gb2JqO1xuICAgICAgICB2YXIgdGhlbiA9IGdldFRoZW4ob2JqKTtcbiAgICAgICAgaWYgKHRoZW4gPT09IGVycm9yT2JqKSB7XG4gICAgICAgICAgICBpZiAoY29udGV4dCkgY29udGV4dC5fcHVzaENvbnRleHQoKTtcbiAgICAgICAgICAgIHZhciByZXQgPSBQcm9taXNlLnJlamVjdCh0aGVuLmUpO1xuICAgICAgICAgICAgaWYgKGNvbnRleHQpIGNvbnRleHQuX3BvcENvbnRleHQoKTtcbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoZW4gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgaWYgKGlzQW55Qmx1ZWJpcmRQcm9taXNlKG9iaikpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmV0ID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuICAgICAgICAgICAgICAgIG9iai5fdGhlbihcbiAgICAgICAgICAgICAgICAgICAgcmV0Ll9mdWxmaWxsLFxuICAgICAgICAgICAgICAgICAgICByZXQuX3JlamVjdCxcbiAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICByZXQsXG4gICAgICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZG9UaGVuYWJsZShvYmosIHRoZW4sIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIGRvR2V0VGhlbihvYmopIHtcbiAgICByZXR1cm4gb2JqLnRoZW47XG59XG5cbmZ1bmN0aW9uIGdldFRoZW4ob2JqKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGRvR2V0VGhlbihvYmopO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgZXJyb3JPYmouZSA9IGU7XG4gICAgICAgIHJldHVybiBlcnJvck9iajtcbiAgICB9XG59XG5cbnZhciBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5mdW5jdGlvbiBpc0FueUJsdWViaXJkUHJvbWlzZShvYmopIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gaGFzUHJvcC5jYWxsKG9iaiwgXCJfcHJvbWlzZTBcIik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkb1RoZW5hYmxlKHgsIHRoZW4sIGNvbnRleHQpIHtcbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcbiAgICB2YXIgcmV0ID0gcHJvbWlzZTtcbiAgICBpZiAoY29udGV4dCkgY29udGV4dC5fcHVzaENvbnRleHQoKTtcbiAgICBwcm9taXNlLl9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuICAgIGlmIChjb250ZXh0KSBjb250ZXh0Ll9wb3BDb250ZXh0KCk7XG4gICAgdmFyIHN5bmNocm9ub3VzID0gdHJ1ZTtcbiAgICB2YXIgcmVzdWx0ID0gdXRpbC50cnlDYXRjaCh0aGVuKS5jYWxsKHgsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgc3luY2hyb25vdXMgPSBmYWxzZTtcblxuICAgIGlmIChwcm9taXNlICYmIHJlc3VsdCA9PT0gZXJyb3JPYmopIHtcbiAgICAgICAgcHJvbWlzZS5fcmVqZWN0Q2FsbGJhY2socmVzdWx0LmUsIHRydWUsIHRydWUpO1xuICAgICAgICBwcm9taXNlID0gbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlKHZhbHVlKSB7XG4gICAgICAgIGlmICghcHJvbWlzZSkgcmV0dXJuO1xuICAgICAgICBwcm9taXNlLl9yZXNvbHZlQ2FsbGJhY2sodmFsdWUpO1xuICAgICAgICBwcm9taXNlID0gbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZWplY3QocmVhc29uKSB7XG4gICAgICAgIGlmICghcHJvbWlzZSkgcmV0dXJuO1xuICAgICAgICBwcm9taXNlLl9yZWplY3RDYWxsYmFjayhyZWFzb24sIHN5bmNocm9ub3VzLCB0cnVlKTtcbiAgICAgICAgcHJvbWlzZSA9IG51bGw7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG59XG5cbnJldHVybiB0cnlDb252ZXJ0VG9Qcm9taXNlO1xufTtcblxufSx7XCIuL3V0aWxcIjozNn1dLDM0OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlLCBJTlRFUk5BTCwgZGVidWcpIHtcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbnZhciBUaW1lb3V0RXJyb3IgPSBQcm9taXNlLlRpbWVvdXRFcnJvcjtcblxuZnVuY3Rpb24gSGFuZGxlV3JhcHBlcihoYW5kbGUpICB7XG4gICAgdGhpcy5oYW5kbGUgPSBoYW5kbGU7XG59XG5cbkhhbmRsZVdyYXBwZXIucHJvdG90eXBlLl9yZXN1bHRDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5oYW5kbGUpO1xufTtcblxudmFyIGFmdGVyVmFsdWUgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gZGVsYXkoK3RoaXMpLnRoZW5SZXR1cm4odmFsdWUpOyB9O1xudmFyIGRlbGF5ID0gUHJvbWlzZS5kZWxheSA9IGZ1bmN0aW9uIChtcywgdmFsdWUpIHtcbiAgICB2YXIgcmV0O1xuICAgIHZhciBoYW5kbGU7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0ID0gUHJvbWlzZS5yZXNvbHZlKHZhbHVlKVxuICAgICAgICAgICAgICAgIC5fdGhlbihhZnRlclZhbHVlLCBudWxsLCBudWxsLCBtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgaWYgKGRlYnVnLmNhbmNlbGxhdGlvbigpICYmIHZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0Ll9zZXRPbkNhbmNlbCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICByZXQgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG4gICAgICAgIGhhbmRsZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IHJldC5fZnVsZmlsbCgpOyB9LCArbXMpO1xuICAgICAgICBpZiAoZGVidWcuY2FuY2VsbGF0aW9uKCkpIHtcbiAgICAgICAgICAgIHJldC5fc2V0T25DYW5jZWwobmV3IEhhbmRsZVdyYXBwZXIoaGFuZGxlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0Ll9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuICAgIH1cbiAgICByZXQuX3NldEFzeW5jR3VhcmFudGVlZCgpO1xuICAgIHJldHVybiByZXQ7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5kZWxheSA9IGZ1bmN0aW9uIChtcykge1xuICAgIHJldHVybiBkZWxheShtcywgdGhpcyk7XG59O1xuXG52YXIgYWZ0ZXJUaW1lb3V0ID0gZnVuY3Rpb24gKHByb21pc2UsIG1lc3NhZ2UsIHBhcmVudCkge1xuICAgIHZhciBlcnI7XG4gICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIGVyciA9IG1lc3NhZ2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlcnIgPSBuZXcgVGltZW91dEVycm9yKFwib3BlcmF0aW9uIHRpbWVkIG91dFwiKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGVyciA9IG5ldyBUaW1lb3V0RXJyb3IobWVzc2FnZSk7XG4gICAgfVxuICAgIHV0aWwubWFya0FzT3JpZ2luYXRpbmdGcm9tUmVqZWN0aW9uKGVycik7XG4gICAgcHJvbWlzZS5fYXR0YWNoRXh0cmFUcmFjZShlcnIpO1xuICAgIHByb21pc2UuX3JlamVjdChlcnIpO1xuXG4gICAgaWYgKHBhcmVudCAhPSBudWxsKSB7XG4gICAgICAgIHBhcmVudC5jYW5jZWwoKTtcbiAgICB9XG59O1xuXG5mdW5jdGlvbiBzdWNjZXNzQ2xlYXIodmFsdWUpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5oYW5kbGUpO1xuICAgIHJldHVybiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gZmFpbHVyZUNsZWFyKHJlYXNvbikge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmhhbmRsZSk7XG4gICAgdGhyb3cgcmVhc29uO1xufVxuXG5Qcm9taXNlLnByb3RvdHlwZS50aW1lb3V0ID0gZnVuY3Rpb24gKG1zLCBtZXNzYWdlKSB7XG4gICAgbXMgPSArbXM7XG4gICAgdmFyIHJldCwgcGFyZW50O1xuXG4gICAgdmFyIGhhbmRsZVdyYXBwZXIgPSBuZXcgSGFuZGxlV3JhcHBlcihzZXRUaW1lb3V0KGZ1bmN0aW9uIHRpbWVvdXRUaW1lb3V0KCkge1xuICAgICAgICBpZiAocmV0LmlzUGVuZGluZygpKSB7XG4gICAgICAgICAgICBhZnRlclRpbWVvdXQocmV0LCBtZXNzYWdlLCBwYXJlbnQpO1xuICAgICAgICB9XG4gICAgfSwgbXMpKTtcblxuICAgIGlmIChkZWJ1Zy5jYW5jZWxsYXRpb24oKSkge1xuICAgICAgICBwYXJlbnQgPSB0aGlzLnRoZW4oKTtcbiAgICAgICAgcmV0ID0gcGFyZW50Ll90aGVuKHN1Y2Nlc3NDbGVhciwgZmFpbHVyZUNsZWFyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCwgaGFuZGxlV3JhcHBlciwgdW5kZWZpbmVkKTtcbiAgICAgICAgcmV0Ll9zZXRPbkNhbmNlbChoYW5kbGVXcmFwcGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXQgPSB0aGlzLl90aGVuKHN1Y2Nlc3NDbGVhciwgZmFpbHVyZUNsZWFyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCwgaGFuZGxlV3JhcHBlciwgdW5kZWZpbmVkKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xufTtcblxufTtcblxufSx7XCIuL3V0aWxcIjozNn1dLDM1OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoUHJvbWlzZSwgYXBpUmVqZWN0aW9uLCB0cnlDb252ZXJ0VG9Qcm9taXNlLFxuICAgIGNyZWF0ZUNvbnRleHQsIElOVEVSTkFMLCBkZWJ1Zykge1xuICAgIHZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbiAgICB2YXIgVHlwZUVycm9yID0gX2RlcmVxXyhcIi4vZXJyb3JzXCIpLlR5cGVFcnJvcjtcbiAgICB2YXIgaW5oZXJpdHMgPSBfZGVyZXFfKFwiLi91dGlsXCIpLmluaGVyaXRzO1xuICAgIHZhciBlcnJvck9iaiA9IHV0aWwuZXJyb3JPYmo7XG4gICAgdmFyIHRyeUNhdGNoID0gdXRpbC50cnlDYXRjaDtcbiAgICB2YXIgTlVMTCA9IHt9O1xuXG4gICAgZnVuY3Rpb24gdGhyb3dlcihlKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aHJvdyBlO30sIDApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhc3RQcmVzZXJ2aW5nRGlzcG9zYWJsZSh0aGVuYWJsZSkge1xuICAgICAgICB2YXIgbWF5YmVQcm9taXNlID0gdHJ5Q29udmVydFRvUHJvbWlzZSh0aGVuYWJsZSk7XG4gICAgICAgIGlmIChtYXliZVByb21pc2UgIT09IHRoZW5hYmxlICYmXG4gICAgICAgICAgICB0eXBlb2YgdGhlbmFibGUuX2lzRGlzcG9zYWJsZSA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgICAgICB0eXBlb2YgdGhlbmFibGUuX2dldERpc3Bvc2VyID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgICAgIHRoZW5hYmxlLl9pc0Rpc3Bvc2FibGUoKSkge1xuICAgICAgICAgICAgbWF5YmVQcm9taXNlLl9zZXREaXNwb3NhYmxlKHRoZW5hYmxlLl9nZXREaXNwb3NlcigpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF5YmVQcm9taXNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaXNwb3NlKHJlc291cmNlcywgaW5zcGVjdGlvbikge1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHZhciBsZW4gPSByZXNvdXJjZXMubGVuZ3RoO1xuICAgICAgICB2YXIgcmV0ID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuICAgICAgICBmdW5jdGlvbiBpdGVyYXRvcigpIHtcbiAgICAgICAgICAgIGlmIChpID49IGxlbikgcmV0dXJuIHJldC5fZnVsZmlsbCgpO1xuICAgICAgICAgICAgdmFyIG1heWJlUHJvbWlzZSA9IGNhc3RQcmVzZXJ2aW5nRGlzcG9zYWJsZShyZXNvdXJjZXNbaSsrXSk7XG4gICAgICAgICAgICBpZiAobWF5YmVQcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSAmJlxuICAgICAgICAgICAgICAgIG1heWJlUHJvbWlzZS5faXNEaXNwb3NhYmxlKCkpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBtYXliZVByb21pc2UgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF5YmVQcm9taXNlLl9nZXREaXNwb3NlcigpLnRyeURpc3Bvc2UoaW5zcGVjdGlvbiksXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZXMucHJvbWlzZSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhyb3dlcihlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1heWJlUHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1heWJlUHJvbWlzZS5fdGhlbihpdGVyYXRvciwgdGhyb3dlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLCBudWxsLCBudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpdGVyYXRvcigpO1xuICAgICAgICB9XG4gICAgICAgIGl0ZXJhdG9yKCk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gRGlzcG9zZXIoZGF0YSwgcHJvbWlzZSwgY29udGV4dCkge1xuICAgICAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5fcHJvbWlzZSA9IHByb21pc2U7XG4gICAgICAgIHRoaXMuX2NvbnRleHQgPSBjb250ZXh0O1xuICAgIH1cblxuICAgIERpc3Bvc2VyLnByb3RvdHlwZS5kYXRhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YTtcbiAgICB9O1xuXG4gICAgRGlzcG9zZXIucHJvdG90eXBlLnByb21pc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcm9taXNlO1xuICAgIH07XG5cbiAgICBEaXNwb3Nlci5wcm90b3R5cGUucmVzb3VyY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb21pc2UoKS5pc0Z1bGZpbGxlZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9taXNlKCkudmFsdWUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTlVMTDtcbiAgICB9O1xuXG4gICAgRGlzcG9zZXIucHJvdG90eXBlLnRyeURpc3Bvc2UgPSBmdW5jdGlvbihpbnNwZWN0aW9uKSB7XG4gICAgICAgIHZhciByZXNvdXJjZSA9IHRoaXMucmVzb3VyY2UoKTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLl9jb250ZXh0O1xuICAgICAgICBpZiAoY29udGV4dCAhPT0gdW5kZWZpbmVkKSBjb250ZXh0Ll9wdXNoQ29udGV4dCgpO1xuICAgICAgICB2YXIgcmV0ID0gcmVzb3VyY2UgIT09IE5VTExcbiAgICAgICAgICAgID8gdGhpcy5kb0Rpc3Bvc2UocmVzb3VyY2UsIGluc3BlY3Rpb24pIDogbnVsbDtcbiAgICAgICAgaWYgKGNvbnRleHQgIT09IHVuZGVmaW5lZCkgY29udGV4dC5fcG9wQ29udGV4dCgpO1xuICAgICAgICB0aGlzLl9wcm9taXNlLl91bnNldERpc3Bvc2FibGUoKTtcbiAgICAgICAgdGhpcy5fZGF0YSA9IG51bGw7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfTtcblxuICAgIERpc3Bvc2VyLmlzRGlzcG9zZXIgPSBmdW5jdGlvbiAoZCkge1xuICAgICAgICByZXR1cm4gKGQgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiBkLnJlc291cmNlID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgZC50cnlEaXNwb3NlID09PSBcImZ1bmN0aW9uXCIpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBGdW5jdGlvbkRpc3Bvc2VyKGZuLCBwcm9taXNlLCBjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29uc3RydWN0b3IkKGZuLCBwcm9taXNlLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaW5oZXJpdHMoRnVuY3Rpb25EaXNwb3NlciwgRGlzcG9zZXIpO1xuXG4gICAgRnVuY3Rpb25EaXNwb3Nlci5wcm90b3R5cGUuZG9EaXNwb3NlID0gZnVuY3Rpb24gKHJlc291cmNlLCBpbnNwZWN0aW9uKSB7XG4gICAgICAgIHZhciBmbiA9IHRoaXMuZGF0YSgpO1xuICAgICAgICByZXR1cm4gZm4uY2FsbChyZXNvdXJjZSwgcmVzb3VyY2UsIGluc3BlY3Rpb24pO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBtYXliZVVud3JhcERpc3Bvc2VyKHZhbHVlKSB7XG4gICAgICAgIGlmIChEaXNwb3Nlci5pc0Rpc3Bvc2VyKHZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5yZXNvdXJjZXNbdGhpcy5pbmRleF0uX3NldERpc3Bvc2FibGUodmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnByb21pc2UoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gUmVzb3VyY2VMaXN0KGxlbmd0aCkge1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICAgICAgdGhpcy5wcm9taXNlID0gbnVsbDtcbiAgICAgICAgdGhpc1tsZW5ndGgtMV0gPSBudWxsO1xuICAgIH1cblxuICAgIFJlc291cmNlTGlzdC5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbGVuID0gdGhpcy5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gdGhpc1tpXTtcbiAgICAgICAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIGl0ZW0uY2FuY2VsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgUHJvbWlzZS51c2luZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIGlmIChsZW4gPCAyKSByZXR1cm4gYXBpUmVqZWN0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ5b3UgbXVzdCBwYXNzIGF0IGxlYXN0IDIgYXJndW1lbnRzIHRvIFByb21pc2UudXNpbmdcIik7XG4gICAgICAgIHZhciBmbiA9IGFyZ3VtZW50c1tsZW4gLSAxXTtcbiAgICAgICAgaWYgKHR5cGVvZiBmbiAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBpUmVqZWN0aW9uKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIiArIHV0aWwuY2xhc3NTdHJpbmcoZm4pKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5wdXQ7XG4gICAgICAgIHZhciBzcHJlYWRBcmdzID0gdHJ1ZTtcbiAgICAgICAgaWYgKGxlbiA9PT0gMiAmJiBBcnJheS5pc0FycmF5KGFyZ3VtZW50c1swXSkpIHtcbiAgICAgICAgICAgIGlucHV0ID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgbGVuID0gaW5wdXQubGVuZ3RoO1xuICAgICAgICAgICAgc3ByZWFkQXJncyA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5wdXQgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICBsZW4tLTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzb3VyY2VzID0gbmV3IFJlc291cmNlTGlzdChsZW4pO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcmVzb3VyY2UgPSBpbnB1dFtpXTtcbiAgICAgICAgICAgIGlmIChEaXNwb3Nlci5pc0Rpc3Bvc2VyKHJlc291cmNlKSkge1xuICAgICAgICAgICAgICAgIHZhciBkaXNwb3NlciA9IHJlc291cmNlO1xuICAgICAgICAgICAgICAgIHJlc291cmNlID0gcmVzb3VyY2UucHJvbWlzZSgpO1xuICAgICAgICAgICAgICAgIHJlc291cmNlLl9zZXREaXNwb3NhYmxlKGRpc3Bvc2VyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIG1heWJlUHJvbWlzZSA9IHRyeUNvbnZlcnRUb1Byb21pc2UocmVzb3VyY2UpO1xuICAgICAgICAgICAgICAgIGlmIChtYXliZVByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlID1cbiAgICAgICAgICAgICAgICAgICAgICAgIG1heWJlUHJvbWlzZS5fdGhlbihtYXliZVVud3JhcERpc3Bvc2VyLCBudWxsLCBudWxsLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VzOiByZXNvdXJjZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGlcbiAgICAgICAgICAgICAgICAgICAgfSwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNvdXJjZXNbaV0gPSByZXNvdXJjZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZWZsZWN0ZWRSZXNvdXJjZXMgPSBuZXcgQXJyYXkocmVzb3VyY2VzLmxlbmd0aCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVmbGVjdGVkUmVzb3VyY2VzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICByZWZsZWN0ZWRSZXNvdXJjZXNbaV0gPSBQcm9taXNlLnJlc29sdmUocmVzb3VyY2VzW2ldKS5yZWZsZWN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVzdWx0UHJvbWlzZSA9IFByb21pc2UuYWxsKHJlZmxlY3RlZFJlc291cmNlcylcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGluc3BlY3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnNwZWN0aW9ucy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5zcGVjdGlvbiA9IGluc3BlY3Rpb25zW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5zcGVjdGlvbi5pc1JlamVjdGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yT2JqLmUgPSBpbnNwZWN0aW9uLmVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3JPYmo7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWluc3BlY3Rpb24uaXNGdWxmaWxsZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0UHJvbWlzZS5jYW5jZWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpbnNwZWN0aW9uc1tpXSA9IGluc3BlY3Rpb24udmFsdWUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJvbWlzZS5fcHVzaENvbnRleHQoKTtcblxuICAgICAgICAgICAgICAgIGZuID0gdHJ5Q2F0Y2goZm4pO1xuICAgICAgICAgICAgICAgIHZhciByZXQgPSBzcHJlYWRBcmdzXG4gICAgICAgICAgICAgICAgICAgID8gZm4uYXBwbHkodW5kZWZpbmVkLCBpbnNwZWN0aW9ucykgOiBmbihpbnNwZWN0aW9ucyk7XG4gICAgICAgICAgICAgICAgdmFyIHByb21pc2VDcmVhdGVkID0gcHJvbWlzZS5fcG9wQ29udGV4dCgpO1xuICAgICAgICAgICAgICAgIGRlYnVnLmNoZWNrRm9yZ290dGVuUmV0dXJucyhcbiAgICAgICAgICAgICAgICAgICAgcmV0LCBwcm9taXNlQ3JlYXRlZCwgXCJQcm9taXNlLnVzaW5nXCIsIHByb21pc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB2YXIgcHJvbWlzZSA9IHJlc3VsdFByb21pc2UubGFzdGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGluc3BlY3Rpb24gPSBuZXcgUHJvbWlzZS5Qcm9taXNlSW5zcGVjdGlvbihyZXN1bHRQcm9taXNlKTtcbiAgICAgICAgICAgIHJldHVybiBkaXNwb3NlKHJlc291cmNlcywgaW5zcGVjdGlvbik7XG4gICAgICAgIH0pO1xuICAgICAgICByZXNvdXJjZXMucHJvbWlzZSA9IHByb21pc2U7XG4gICAgICAgIHByb21pc2UuX3NldE9uQ2FuY2VsKHJlc291cmNlcyk7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH07XG5cbiAgICBQcm9taXNlLnByb3RvdHlwZS5fc2V0RGlzcG9zYWJsZSA9IGZ1bmN0aW9uIChkaXNwb3Nlcikge1xuICAgICAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkIHwgMTMxMDcyO1xuICAgICAgICB0aGlzLl9kaXNwb3NlciA9IGRpc3Bvc2VyO1xuICAgIH07XG5cbiAgICBQcm9taXNlLnByb3RvdHlwZS5faXNEaXNwb3NhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgMTMxMDcyKSA+IDA7XG4gICAgfTtcblxuICAgIFByb21pc2UucHJvdG90eXBlLl9nZXREaXNwb3NlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc3Bvc2VyO1xuICAgIH07XG5cbiAgICBQcm9taXNlLnByb3RvdHlwZS5fdW5zZXREaXNwb3NhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkICYgKH4xMzEwNzIpO1xuICAgICAgICB0aGlzLl9kaXNwb3NlciA9IHVuZGVmaW5lZDtcbiAgICB9O1xuXG4gICAgUHJvbWlzZS5wcm90b3R5cGUuZGlzcG9zZXIgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBmbiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uRGlzcG9zZXIoZm4sIHRoaXMsIGNyZWF0ZUNvbnRleHQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgIH07XG5cbn07XG5cbn0se1wiLi9lcnJvcnNcIjoxMixcIi4vdXRpbFwiOjM2fV0sMzY6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgZXM1ID0gX2RlcmVxXyhcIi4vZXM1XCIpO1xudmFyIGNhbkV2YWx1YXRlID0gdHlwZW9mIG5hdmlnYXRvciA9PSBcInVuZGVmaW5lZFwiO1xuXG52YXIgZXJyb3JPYmogPSB7ZToge319O1xudmFyIHRyeUNhdGNoVGFyZ2V0O1xudmFyIGdsb2JhbE9iamVjdCA9IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6XG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6XG4gICAgdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6XG4gICAgdGhpcyAhPT0gdW5kZWZpbmVkID8gdGhpcyA6IG51bGw7XG5cbmZ1bmN0aW9uIHRyeUNhdGNoZXIoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIHRhcmdldCA9IHRyeUNhdGNoVGFyZ2V0O1xuICAgICAgICB0cnlDYXRjaFRhcmdldCA9IG51bGw7XG4gICAgICAgIHJldHVybiB0YXJnZXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGVycm9yT2JqLmUgPSBlO1xuICAgICAgICByZXR1cm4gZXJyb3JPYmo7XG4gICAgfVxufVxuZnVuY3Rpb24gdHJ5Q2F0Y2goZm4pIHtcbiAgICB0cnlDYXRjaFRhcmdldCA9IGZuO1xuICAgIHJldHVybiB0cnlDYXRjaGVyO1xufVxuXG52YXIgaW5oZXJpdHMgPSBmdW5jdGlvbihDaGlsZCwgUGFyZW50KSB7XG4gICAgdmFyIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuICAgIGZ1bmN0aW9uIFQoKSB7XG4gICAgICAgIHRoaXMuY29uc3RydWN0b3IgPSBDaGlsZDtcbiAgICAgICAgdGhpcy5jb25zdHJ1Y3RvciQgPSBQYXJlbnQ7XG4gICAgICAgIGZvciAodmFyIHByb3BlcnR5TmFtZSBpbiBQYXJlbnQucHJvdG90eXBlKSB7XG4gICAgICAgICAgICBpZiAoaGFzUHJvcC5jYWxsKFBhcmVudC5wcm90b3R5cGUsIHByb3BlcnR5TmFtZSkgJiZcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eU5hbWUuY2hhckF0KHByb3BlcnR5TmFtZS5sZW5ndGgtMSkgIT09IFwiJFwiXG4gICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHRoaXNbcHJvcGVydHlOYW1lICsgXCIkXCJdID0gUGFyZW50LnByb3RvdHlwZVtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIFQucHJvdG90eXBlID0gUGFyZW50LnByb3RvdHlwZTtcbiAgICBDaGlsZC5wcm90b3R5cGUgPSBuZXcgVCgpO1xuICAgIHJldHVybiBDaGlsZC5wcm90b3R5cGU7XG59O1xuXG5cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlKHZhbCkge1xuICAgIHJldHVybiB2YWwgPT0gbnVsbCB8fCB2YWwgPT09IHRydWUgfHwgdmFsID09PSBmYWxzZSB8fFxuICAgICAgICB0eXBlb2YgdmFsID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCI7XG5cbn1cblxuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIgfHxcbiAgICAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlICE9PSBudWxsO1xufVxuXG5mdW5jdGlvbiBtYXliZVdyYXBBc0Vycm9yKG1heWJlRXJyb3IpIHtcbiAgICBpZiAoIWlzUHJpbWl0aXZlKG1heWJlRXJyb3IpKSByZXR1cm4gbWF5YmVFcnJvcjtcblxuICAgIHJldHVybiBuZXcgRXJyb3Ioc2FmZVRvU3RyaW5nKG1heWJlRXJyb3IpKTtcbn1cblxuZnVuY3Rpb24gd2l0aEFwcGVuZGVkKHRhcmdldCwgYXBwZW5kZWUpIHtcbiAgICB2YXIgbGVuID0gdGFyZ2V0Lmxlbmd0aDtcbiAgICB2YXIgcmV0ID0gbmV3IEFycmF5KGxlbiArIDEpO1xuICAgIHZhciBpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICByZXRbaV0gPSB0YXJnZXRbaV07XG4gICAgfVxuICAgIHJldFtpXSA9IGFwcGVuZGVlO1xuICAgIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIGdldERhdGFQcm9wZXJ0eU9yRGVmYXVsdChvYmosIGtleSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgaWYgKGVzNS5pc0VTNSkge1xuICAgICAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpO1xuXG4gICAgICAgIGlmIChkZXNjICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBkZXNjLmdldCA9PSBudWxsICYmIGRlc2Muc2V0ID09IG51bGxcbiAgICAgICAgICAgICAgICAgICAgPyBkZXNjLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIDogZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHt9Lmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpID8gb2JqW2tleV0gOiB1bmRlZmluZWQ7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBub3RFbnVtZXJhYmxlUHJvcChvYmosIG5hbWUsIHZhbHVlKSB7XG4gICAgaWYgKGlzUHJpbWl0aXZlKG9iaikpIHJldHVybiBvYmo7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSB7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9O1xuICAgIGVzNS5kZWZpbmVQcm9wZXJ0eShvYmosIG5hbWUsIGRlc2NyaXB0b3IpO1xuICAgIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIHRocm93ZXIocikge1xuICAgIHRocm93IHI7XG59XG5cbnZhciBpbmhlcml0ZWREYXRhS2V5cyA9IChmdW5jdGlvbigpIHtcbiAgICB2YXIgZXhjbHVkZWRQcm90b3R5cGVzID0gW1xuICAgICAgICBBcnJheS5wcm90b3R5cGUsXG4gICAgICAgIE9iamVjdC5wcm90b3R5cGUsXG4gICAgICAgIEZ1bmN0aW9uLnByb3RvdHlwZVxuICAgIF07XG5cbiAgICB2YXIgaXNFeGNsdWRlZFByb3RvID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXhjbHVkZWRQcm90b3R5cGVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAoZXhjbHVkZWRQcm90b3R5cGVzW2ldID09PSB2YWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIGlmIChlczUuaXNFUzUpIHtcbiAgICAgICAgdmFyIGdldEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcztcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgdmFyIHJldCA9IFtdO1xuICAgICAgICAgICAgdmFyIHZpc2l0ZWRLZXlzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICAgIHdoaWxlIChvYmogIT0gbnVsbCAmJiAhaXNFeGNsdWRlZFByb3RvKG9iaikpIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5cztcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBrZXlzID0gZ2V0S2V5cyhvYmopO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmlzaXRlZEtleXNba2V5XSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIHZpc2l0ZWRLZXlzW2tleV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVzYyAhPSBudWxsICYmIGRlc2MuZ2V0ID09IG51bGwgJiYgZGVzYy5zZXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0LnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvYmogPSBlczUuZ2V0UHJvdG90eXBlT2Yob2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgaWYgKGlzRXhjbHVkZWRQcm90byhvYmopKSByZXR1cm4gW107XG4gICAgICAgICAgICB2YXIgcmV0ID0gW107XG5cbiAgICAgICAgICAgIC8qanNoaW50IGZvcmluOmZhbHNlICovXG4gICAgICAgICAgICBlbnVtZXJhdGlvbjogZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgICAgICAgICAgIGlmIChoYXNQcm9wLmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldC5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBleGNsdWRlZFByb3RvdHlwZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNQcm9wLmNhbGwoZXhjbHVkZWRQcm90b3R5cGVzW2ldLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgZW51bWVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0LnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9O1xuICAgIH1cblxufSkoKTtcblxudmFyIHRoaXNBc3NpZ25tZW50UGF0dGVybiA9IC90aGlzXFxzKlxcLlxccypcXFMrXFxzKj0vO1xuZnVuY3Rpb24gaXNDbGFzcyhmbikge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgZm4gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdmFyIGtleXMgPSBlczUubmFtZXMoZm4ucHJvdG90eXBlKTtcblxuICAgICAgICAgICAgdmFyIGhhc01ldGhvZHMgPSBlczUuaXNFUzUgJiYga2V5cy5sZW5ndGggPiAxO1xuICAgICAgICAgICAgdmFyIGhhc01ldGhvZHNPdGhlclRoYW5Db25zdHJ1Y3RvciA9IGtleXMubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgICAgICEoa2V5cy5sZW5ndGggPT09IDEgJiYga2V5c1swXSA9PT0gXCJjb25zdHJ1Y3RvclwiKTtcbiAgICAgICAgICAgIHZhciBoYXNUaGlzQXNzaWdubWVudEFuZFN0YXRpY01ldGhvZHMgPVxuICAgICAgICAgICAgICAgIHRoaXNBc3NpZ25tZW50UGF0dGVybi50ZXN0KGZuICsgXCJcIikgJiYgZXM1Lm5hbWVzKGZuKS5sZW5ndGggPiAwO1xuXG4gICAgICAgICAgICBpZiAoaGFzTWV0aG9kcyB8fCBoYXNNZXRob2RzT3RoZXJUaGFuQ29uc3RydWN0b3IgfHxcbiAgICAgICAgICAgICAgICBoYXNUaGlzQXNzaWdubWVudEFuZFN0YXRpY01ldGhvZHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB0b0Zhc3RQcm9wZXJ0aWVzKG9iaikge1xuICAgIC8qanNoaW50IC1XMDI3LC1XMDU1LC1XMDMxKi9cbiAgICBmdW5jdGlvbiBGYWtlQ29uc3RydWN0b3IoKSB7fVxuICAgIEZha2VDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBvYmo7XG4gICAgdmFyIGwgPSA4O1xuICAgIHdoaWxlIChsLS0pIG5ldyBGYWtlQ29uc3RydWN0b3IoKTtcbiAgICByZXR1cm4gb2JqO1xuICAgIGV2YWwob2JqKTtcbn1cblxudmFyIHJpZGVudCA9IC9eW2EteiRfXVthLXokXzAtOV0qJC9pO1xuZnVuY3Rpb24gaXNJZGVudGlmaWVyKHN0cikge1xuICAgIHJldHVybiByaWRlbnQudGVzdChzdHIpO1xufVxuXG5mdW5jdGlvbiBmaWxsZWRSYW5nZShjb3VudCwgcHJlZml4LCBzdWZmaXgpIHtcbiAgICB2YXIgcmV0ID0gbmV3IEFycmF5KGNvdW50KTtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgY291bnQ7ICsraSkge1xuICAgICAgICByZXRbaV0gPSBwcmVmaXggKyBpICsgc3VmZml4O1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBzYWZlVG9TdHJpbmcob2JqKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIG9iaiArIFwiXCI7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gXCJbbm8gc3RyaW5nIHJlcHJlc2VudGF0aW9uXVwiO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNFcnJvcihvYmopIHtcbiAgICByZXR1cm4gb2JqICE9PSBudWxsICYmXG4gICAgICAgICAgIHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgdHlwZW9mIG9iai5tZXNzYWdlID09PSBcInN0cmluZ1wiICYmXG4gICAgICAgICAgIHR5cGVvZiBvYmoubmFtZSA9PT0gXCJzdHJpbmdcIjtcbn1cblxuZnVuY3Rpb24gbWFya0FzT3JpZ2luYXRpbmdGcm9tUmVqZWN0aW9uKGUpIHtcbiAgICB0cnkge1xuICAgICAgICBub3RFbnVtZXJhYmxlUHJvcChlLCBcImlzT3BlcmF0aW9uYWxcIiwgdHJ1ZSk7XG4gICAgfVxuICAgIGNhdGNoKGlnbm9yZSkge31cbn1cblxuZnVuY3Rpb24gb3JpZ2luYXRlc0Zyb21SZWplY3Rpb24oZSkge1xuICAgIGlmIChlID09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gKChlIGluc3RhbmNlb2YgRXJyb3JbXCJfX0JsdWViaXJkRXJyb3JUeXBlc19fXCJdLk9wZXJhdGlvbmFsRXJyb3IpIHx8XG4gICAgICAgIGVbXCJpc09wZXJhdGlvbmFsXCJdID09PSB0cnVlKTtcbn1cblxuZnVuY3Rpb24gY2FuQXR0YWNoVHJhY2Uob2JqKSB7XG4gICAgcmV0dXJuIGlzRXJyb3Iob2JqKSAmJiBlczUucHJvcGVydHlJc1dyaXRhYmxlKG9iaiwgXCJzdGFja1wiKTtcbn1cblxudmFyIGVuc3VyZUVycm9yT2JqZWN0ID0gKGZ1bmN0aW9uKCkge1xuICAgIGlmICghKFwic3RhY2tcIiBpbiBuZXcgRXJyb3IoKSkpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoY2FuQXR0YWNoVHJhY2UodmFsdWUpKSByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB0cnkge3Rocm93IG5ldyBFcnJvcihzYWZlVG9TdHJpbmcodmFsdWUpKTt9XG4gICAgICAgICAgICBjYXRjaChlcnIpIHtyZXR1cm4gZXJyO31cbiAgICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChjYW5BdHRhY2hUcmFjZSh2YWx1ZSkpIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3Ioc2FmZVRvU3RyaW5nKHZhbHVlKSk7XG4gICAgICAgIH07XG4gICAgfVxufSkoKTtcblxuZnVuY3Rpb24gY2xhc3NTdHJpbmcob2JqKSB7XG4gICAgcmV0dXJuIHt9LnRvU3RyaW5nLmNhbGwob2JqKTtcbn1cblxuZnVuY3Rpb24gY29weURlc2NyaXB0b3JzKGZyb20sIHRvLCBmaWx0ZXIpIHtcbiAgICB2YXIga2V5cyA9IGVzNS5uYW1lcyhmcm9tKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICAgIGlmIChmaWx0ZXIoa2V5KSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBlczUuZGVmaW5lUHJvcGVydHkodG8sIGtleSwgZXM1LmdldERlc2NyaXB0b3IoZnJvbSwga2V5KSk7XG4gICAgICAgICAgICB9IGNhdGNoIChpZ25vcmUpIHt9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbnZhciBhc0FycmF5ID0gZnVuY3Rpb24odikge1xuICAgIGlmIChlczUuaXNBcnJheSh2KSkge1xuICAgICAgICByZXR1cm4gdjtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59O1xuXG5pZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBTeW1ib2wuaXRlcmF0b3IpIHtcbiAgICB2YXIgQXJyYXlGcm9tID0gdHlwZW9mIEFycmF5LmZyb20gPT09IFwiZnVuY3Rpb25cIiA/IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odik7XG4gICAgfSA6IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgdmFyIHJldCA9IFtdO1xuICAgICAgICB2YXIgaXQgPSB2W1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgICAgICAgdmFyIGl0UmVzdWx0O1xuICAgICAgICB3aGlsZSAoISgoaXRSZXN1bHQgPSBpdC5uZXh0KCkpLmRvbmUpKSB7XG4gICAgICAgICAgICByZXQucHVzaChpdFJlc3VsdC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuXG4gICAgYXNBcnJheSA9IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgaWYgKGVzNS5pc0FycmF5KHYpKSB7XG4gICAgICAgICAgICByZXR1cm4gdjtcbiAgICAgICAgfSBlbHNlIGlmICh2ICE9IG51bGwgJiYgdHlwZW9mIHZbU3ltYm9sLml0ZXJhdG9yXSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICByZXR1cm4gQXJyYXlGcm9tKHYpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG59XG5cbnZhciBpc05vZGUgPSB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgICAgICBjbGFzc1N0cmluZyhwcm9jZXNzKS50b0xvd2VyQ2FzZSgpID09PSBcIltvYmplY3QgcHJvY2Vzc11cIjtcblxudmFyIGhhc0VudlZhcmlhYmxlcyA9IHR5cGVvZiBwcm9jZXNzICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgdHlwZW9mIHByb2Nlc3MuZW52ICE9PSBcInVuZGVmaW5lZFwiO1xuXG5mdW5jdGlvbiBlbnYoa2V5KSB7XG4gICAgcmV0dXJuIGhhc0VudlZhcmlhYmxlcyA/IHByb2Nlc3MuZW52W2tleV0gOiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGdldE5hdGl2ZVByb21pc2UoKSB7XG4gICAgaWYgKHR5cGVvZiBQcm9taXNlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24oKXt9KTtcbiAgICAgICAgICAgIGlmICh7fS50b1N0cmluZy5jYWxsKHByb21pc2UpID09PSBcIltvYmplY3QgUHJvbWlzZV1cIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZG9tYWluQmluZChzZWxmLCBjYikge1xuICAgIHJldHVybiBzZWxmLmJpbmQoY2IpO1xufVxuXG52YXIgcmV0ID0ge1xuICAgIGlzQ2xhc3M6IGlzQ2xhc3MsXG4gICAgaXNJZGVudGlmaWVyOiBpc0lkZW50aWZpZXIsXG4gICAgaW5oZXJpdGVkRGF0YUtleXM6IGluaGVyaXRlZERhdGFLZXlzLFxuICAgIGdldERhdGFQcm9wZXJ0eU9yRGVmYXVsdDogZ2V0RGF0YVByb3BlcnR5T3JEZWZhdWx0LFxuICAgIHRocm93ZXI6IHRocm93ZXIsXG4gICAgaXNBcnJheTogZXM1LmlzQXJyYXksXG4gICAgYXNBcnJheTogYXNBcnJheSxcbiAgICBub3RFbnVtZXJhYmxlUHJvcDogbm90RW51bWVyYWJsZVByb3AsXG4gICAgaXNQcmltaXRpdmU6IGlzUHJpbWl0aXZlLFxuICAgIGlzT2JqZWN0OiBpc09iamVjdCxcbiAgICBpc0Vycm9yOiBpc0Vycm9yLFxuICAgIGNhbkV2YWx1YXRlOiBjYW5FdmFsdWF0ZSxcbiAgICBlcnJvck9iajogZXJyb3JPYmosXG4gICAgdHJ5Q2F0Y2g6IHRyeUNhdGNoLFxuICAgIGluaGVyaXRzOiBpbmhlcml0cyxcbiAgICB3aXRoQXBwZW5kZWQ6IHdpdGhBcHBlbmRlZCxcbiAgICBtYXliZVdyYXBBc0Vycm9yOiBtYXliZVdyYXBBc0Vycm9yLFxuICAgIHRvRmFzdFByb3BlcnRpZXM6IHRvRmFzdFByb3BlcnRpZXMsXG4gICAgZmlsbGVkUmFuZ2U6IGZpbGxlZFJhbmdlLFxuICAgIHRvU3RyaW5nOiBzYWZlVG9TdHJpbmcsXG4gICAgY2FuQXR0YWNoVHJhY2U6IGNhbkF0dGFjaFRyYWNlLFxuICAgIGVuc3VyZUVycm9yT2JqZWN0OiBlbnN1cmVFcnJvck9iamVjdCxcbiAgICBvcmlnaW5hdGVzRnJvbVJlamVjdGlvbjogb3JpZ2luYXRlc0Zyb21SZWplY3Rpb24sXG4gICAgbWFya0FzT3JpZ2luYXRpbmdGcm9tUmVqZWN0aW9uOiBtYXJrQXNPcmlnaW5hdGluZ0Zyb21SZWplY3Rpb24sXG4gICAgY2xhc3NTdHJpbmc6IGNsYXNzU3RyaW5nLFxuICAgIGNvcHlEZXNjcmlwdG9yczogY29weURlc2NyaXB0b3JzLFxuICAgIGhhc0RldlRvb2xzOiB0eXBlb2YgY2hyb21lICE9PSBcInVuZGVmaW5lZFwiICYmIGNocm9tZSAmJlxuICAgICAgICAgICAgICAgICB0eXBlb2YgY2hyb21lLmxvYWRUaW1lcyA9PT0gXCJmdW5jdGlvblwiLFxuICAgIGlzTm9kZTogaXNOb2RlLFxuICAgIGhhc0VudlZhcmlhYmxlczogaGFzRW52VmFyaWFibGVzLFxuICAgIGVudjogZW52LFxuICAgIGdsb2JhbDogZ2xvYmFsT2JqZWN0LFxuICAgIGdldE5hdGl2ZVByb21pc2U6IGdldE5hdGl2ZVByb21pc2UsXG4gICAgZG9tYWluQmluZDogZG9tYWluQmluZFxufTtcbnJldC5pc1JlY2VudE5vZGUgPSByZXQuaXNOb2RlICYmIChmdW5jdGlvbigpIHtcbiAgICB2YXIgdmVyc2lvbiA9IHByb2Nlc3MudmVyc2lvbnMubm9kZS5zcGxpdChcIi5cIikubWFwKE51bWJlcik7XG4gICAgcmV0dXJuICh2ZXJzaW9uWzBdID09PSAwICYmIHZlcnNpb25bMV0gPiAxMCkgfHwgKHZlcnNpb25bMF0gPiAwKTtcbn0pKCk7XG5cbmlmIChyZXQuaXNOb2RlKSByZXQudG9GYXN0UHJvcGVydGllcyhwcm9jZXNzKTtcblxudHJ5IHt0aHJvdyBuZXcgRXJyb3IoKTsgfSBjYXRjaCAoZSkge3JldC5sYXN0TGluZUVycm9yID0gZTt9XG5tb2R1bGUuZXhwb3J0cyA9IHJldDtcblxufSx7XCIuL2VzNVwiOjEzfV19LHt9LFs0XSkoNClcbn0pOyAgICAgICAgICAgICAgICAgICAgO2lmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cgIT09IG51bGwpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LlAgPSB3aW5kb3cuUHJvbWlzZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnICYmIHNlbGYgIT09IG51bGwpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuUCA9IHNlbGYuUHJvbWlzZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IiwiLyohIEhhbW1lci5KUyAtIHYyLjAuNyAtIDIwMTYtMDQtMjJcbiAqIGh0dHA6Ly9oYW1tZXJqcy5naXRodWIuaW8vXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE2IEpvcmlrIFRhbmdlbGRlcjtcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSAqL1xuKGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQsIGV4cG9ydE5hbWUsIHVuZGVmaW5lZCkge1xuICAndXNlIHN0cmljdCc7XG5cbnZhciBWRU5ET1JfUFJFRklYRVMgPSBbJycsICd3ZWJraXQnLCAnTW96JywgJ01TJywgJ21zJywgJ28nXTtcbnZhciBURVNUX0VMRU1FTlQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxudmFyIFRZUEVfRlVOQ1RJT04gPSAnZnVuY3Rpb24nO1xuXG52YXIgcm91bmQgPSBNYXRoLnJvdW5kO1xudmFyIGFicyA9IE1hdGguYWJzO1xudmFyIG5vdyA9IERhdGUubm93O1xuXG4vKipcbiAqIHNldCBhIHRpbWVvdXQgd2l0aCBhIGdpdmVuIHNjb3BlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtOdW1iZXJ9IHRpbWVvdXRcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiBzZXRUaW1lb3V0Q29udGV4dChmbiwgdGltZW91dCwgY29udGV4dCkge1xuICAgIHJldHVybiBzZXRUaW1lb3V0KGJpbmRGbihmbiwgY29udGV4dCksIHRpbWVvdXQpO1xufVxuXG4vKipcbiAqIGlmIHRoZSBhcmd1bWVudCBpcyBhbiBhcnJheSwgd2Ugd2FudCB0byBleGVjdXRlIHRoZSBmbiBvbiBlYWNoIGVudHJ5XG4gKiBpZiBpdCBhaW50IGFuIGFycmF5IHdlIGRvbid0IHdhbnQgdG8gZG8gYSB0aGluZy5cbiAqIHRoaXMgaXMgdXNlZCBieSBhbGwgdGhlIG1ldGhvZHMgdGhhdCBhY2NlcHQgYSBzaW5nbGUgYW5kIGFycmF5IGFyZ3VtZW50LlxuICogQHBhcmFtIHsqfEFycmF5fSBhcmdcbiAqIEBwYXJhbSB7U3RyaW5nfSBmblxuICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0XVxuICogQHJldHVybnMge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGludm9rZUFycmF5QXJnKGFyZywgZm4sIGNvbnRleHQpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG4gICAgICAgIGVhY2goYXJnLCBjb250ZXh0W2ZuXSwgY29udGV4dCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogd2FsayBvYmplY3RzIGFuZCBhcnJheXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdG9yXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICovXG5mdW5jdGlvbiBlYWNoKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgICB2YXIgaTtcblxuICAgIGlmICghb2JqKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAob2JqLmZvckVhY2gpIHtcbiAgICAgICAgb2JqLmZvckVhY2goaXRlcmF0b3IsIGNvbnRleHQpO1xuICAgIH0gZWxzZSBpZiAob2JqLmxlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IG9iai5sZW5ndGgpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2ldLCBpLCBvYmopO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChpIGluIG9iaikge1xuICAgICAgICAgICAgb2JqLmhhc093blByb3BlcnR5KGkpICYmIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2ldLCBpLCBvYmopO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIHdyYXAgYSBtZXRob2Qgd2l0aCBhIGRlcHJlY2F0aW9uIHdhcm5pbmcgYW5kIHN0YWNrIHRyYWNlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBtZXRob2RcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIG5ldyBmdW5jdGlvbiB3cmFwcGluZyB0aGUgc3VwcGxpZWQgbWV0aG9kLlxuICovXG5mdW5jdGlvbiBkZXByZWNhdGUobWV0aG9kLCBuYW1lLCBtZXNzYWdlKSB7XG4gICAgdmFyIGRlcHJlY2F0aW9uTWVzc2FnZSA9ICdERVBSRUNBVEVEIE1FVEhPRDogJyArIG5hbWUgKyAnXFxuJyArIG1lc3NhZ2UgKyAnIEFUIFxcbic7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZSA9IG5ldyBFcnJvcignZ2V0LXN0YWNrLXRyYWNlJyk7XG4gICAgICAgIHZhciBzdGFjayA9IGUgJiYgZS5zdGFjayA/IGUuc3RhY2sucmVwbGFjZSgvXlteXFwoXSs/W1xcbiRdL2dtLCAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9eXFxzK2F0XFxzKy9nbSwgJycpXG4gICAgICAgICAgICAucmVwbGFjZSgvXk9iamVjdC48YW5vbnltb3VzPlxccypcXCgvZ20sICd7YW5vbnltb3VzfSgpQCcpIDogJ1Vua25vd24gU3RhY2sgVHJhY2UnO1xuXG4gICAgICAgIHZhciBsb2cgPSB3aW5kb3cuY29uc29sZSAmJiAod2luZG93LmNvbnNvbGUud2FybiB8fCB3aW5kb3cuY29uc29sZS5sb2cpO1xuICAgICAgICBpZiAobG9nKSB7XG4gICAgICAgICAgICBsb2cuY2FsbCh3aW5kb3cuY29uc29sZSwgZGVwcmVjYXRpb25NZXNzYWdlLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1ldGhvZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG59XG5cbi8qKlxuICogZXh0ZW5kIG9iamVjdC5cbiAqIG1lYW5zIHRoYXQgcHJvcGVydGllcyBpbiBkZXN0IHdpbGwgYmUgb3ZlcndyaXR0ZW4gYnkgdGhlIG9uZXMgaW4gc3JjLlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICogQHBhcmFtIHsuLi5PYmplY3R9IG9iamVjdHNfdG9fYXNzaWduXG4gKiBAcmV0dXJucyB7T2JqZWN0fSB0YXJnZXRcbiAqL1xudmFyIGFzc2lnbjtcbmlmICh0eXBlb2YgT2JqZWN0LmFzc2lnbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIGFzc2lnbiA9IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQpIHtcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkIHx8IHRhcmdldCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgb3V0cHV0ID0gT2JqZWN0KHRhcmdldCk7XG4gICAgICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBhcmd1bWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgICAgICAgIGlmIChzb3VyY2UgIT09IHVuZGVmaW5lZCAmJiBzb3VyY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBuZXh0S2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlLmhhc093blByb3BlcnR5KG5leHRLZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRbbmV4dEtleV0gPSBzb3VyY2VbbmV4dEtleV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xufSBlbHNlIHtcbiAgICBhc3NpZ24gPSBPYmplY3QuYXNzaWduO1xufVxuXG4vKipcbiAqIGV4dGVuZCBvYmplY3QuXG4gKiBtZWFucyB0aGF0IHByb3BlcnRpZXMgaW4gZGVzdCB3aWxsIGJlIG92ZXJ3cml0dGVuIGJ5IHRoZSBvbmVzIGluIHNyYy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBkZXN0XG4gKiBAcGFyYW0ge09iamVjdH0gc3JjXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFttZXJnZT1mYWxzZV1cbiAqIEByZXR1cm5zIHtPYmplY3R9IGRlc3RcbiAqL1xudmFyIGV4dGVuZCA9IGRlcHJlY2F0ZShmdW5jdGlvbiBleHRlbmQoZGVzdCwgc3JjLCBtZXJnZSkge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoc3JjKTtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBrZXlzLmxlbmd0aCkge1xuICAgICAgICBpZiAoIW1lcmdlIHx8IChtZXJnZSAmJiBkZXN0W2tleXNbaV1dID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICBkZXN0W2tleXNbaV1dID0gc3JjW2tleXNbaV1dO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgcmV0dXJuIGRlc3Q7XG59LCAnZXh0ZW5kJywgJ1VzZSBgYXNzaWduYC4nKTtcblxuLyoqXG4gKiBtZXJnZSB0aGUgdmFsdWVzIGZyb20gc3JjIGluIHRoZSBkZXN0LlxuICogbWVhbnMgdGhhdCBwcm9wZXJ0aWVzIHRoYXQgZXhpc3QgaW4gZGVzdCB3aWxsIG5vdCBiZSBvdmVyd3JpdHRlbiBieSBzcmNcbiAqIEBwYXJhbSB7T2JqZWN0fSBkZXN0XG4gKiBAcGFyYW0ge09iamVjdH0gc3JjXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBkZXN0XG4gKi9cbnZhciBtZXJnZSA9IGRlcHJlY2F0ZShmdW5jdGlvbiBtZXJnZShkZXN0LCBzcmMpIHtcbiAgICByZXR1cm4gZXh0ZW5kKGRlc3QsIHNyYywgdHJ1ZSk7XG59LCAnbWVyZ2UnLCAnVXNlIGBhc3NpZ25gLicpO1xuXG4vKipcbiAqIHNpbXBsZSBjbGFzcyBpbmhlcml0YW5jZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2hpbGRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGJhc2VcbiAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllc11cbiAqL1xuZnVuY3Rpb24gaW5oZXJpdChjaGlsZCwgYmFzZSwgcHJvcGVydGllcykge1xuICAgIHZhciBiYXNlUCA9IGJhc2UucHJvdG90eXBlLFxuICAgICAgICBjaGlsZFA7XG5cbiAgICBjaGlsZFAgPSBjaGlsZC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGJhc2VQKTtcbiAgICBjaGlsZFAuY29uc3RydWN0b3IgPSBjaGlsZDtcbiAgICBjaGlsZFAuX3N1cGVyID0gYmFzZVA7XG5cbiAgICBpZiAocHJvcGVydGllcykge1xuICAgICAgICBhc3NpZ24oY2hpbGRQLCBwcm9wZXJ0aWVzKTtcbiAgICB9XG59XG5cbi8qKlxuICogc2ltcGxlIGZ1bmN0aW9uIGJpbmRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBiaW5kRm4oZm4sIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gYm91bmRGbigpIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3VtZW50cyk7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBsZXQgYSBib29sZWFuIHZhbHVlIGFsc28gYmUgYSBmdW5jdGlvbiB0aGF0IG11c3QgcmV0dXJuIGEgYm9vbGVhblxuICogdGhpcyBmaXJzdCBpdGVtIGluIGFyZ3Mgd2lsbCBiZSB1c2VkIGFzIHRoZSBjb250ZXh0XG4gKiBAcGFyYW0ge0Jvb2xlYW58RnVuY3Rpb259IHZhbFxuICogQHBhcmFtIHtBcnJheX0gW2FyZ3NdXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gYm9vbE9yRm4odmFsLCBhcmdzKSB7XG4gICAgaWYgKHR5cGVvZiB2YWwgPT0gVFlQRV9GVU5DVElPTikge1xuICAgICAgICByZXR1cm4gdmFsLmFwcGx5KGFyZ3MgPyBhcmdzWzBdIHx8IHVuZGVmaW5lZCA6IHVuZGVmaW5lZCwgYXJncyk7XG4gICAgfVxuICAgIHJldHVybiB2YWw7XG59XG5cbi8qKlxuICogdXNlIHRoZSB2YWwyIHdoZW4gdmFsMSBpcyB1bmRlZmluZWRcbiAqIEBwYXJhbSB7Kn0gdmFsMVxuICogQHBhcmFtIHsqfSB2YWwyXG4gKiBAcmV0dXJucyB7Kn1cbiAqL1xuZnVuY3Rpb24gaWZVbmRlZmluZWQodmFsMSwgdmFsMikge1xuICAgIHJldHVybiAodmFsMSA9PT0gdW5kZWZpbmVkKSA/IHZhbDIgOiB2YWwxO1xufVxuXG4vKipcbiAqIGFkZEV2ZW50TGlzdGVuZXIgd2l0aCBtdWx0aXBsZSBldmVudHMgYXQgb25jZVxuICogQHBhcmFtIHtFdmVudFRhcmdldH0gdGFyZ2V0XG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZXNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJcbiAqL1xuZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcnModGFyZ2V0LCB0eXBlcywgaGFuZGxlcikge1xuICAgIGVhY2goc3BsaXRTdHIodHlwZXMpLCBmdW5jdGlvbih0eXBlKSB7XG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiByZW1vdmVFdmVudExpc3RlbmVyIHdpdGggbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2VcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IHRhcmdldFxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRhcmdldCwgdHlwZXMsIGhhbmRsZXIpIHtcbiAgICBlYWNoKHNwbGl0U3RyKHR5cGVzKSwgZnVuY3Rpb24odHlwZSkge1xuICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyLCBmYWxzZSk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogZmluZCBpZiBhIG5vZGUgaXMgaW4gdGhlIGdpdmVuIHBhcmVudFxuICogQG1ldGhvZCBoYXNQYXJlbnRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhcmVudFxuICogQHJldHVybiB7Qm9vbGVhbn0gZm91bmRcbiAqL1xuZnVuY3Rpb24gaGFzUGFyZW50KG5vZGUsIHBhcmVudCkge1xuICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIGlmIChub2RlID09IHBhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIHNtYWxsIGluZGV4T2Ygd3JhcHBlclxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHBhcmFtIHtTdHJpbmd9IGZpbmRcbiAqIEByZXR1cm5zIHtCb29sZWFufSBmb3VuZFxuICovXG5mdW5jdGlvbiBpblN0cihzdHIsIGZpbmQpIHtcbiAgICByZXR1cm4gc3RyLmluZGV4T2YoZmluZCkgPiAtMTtcbn1cblxuLyoqXG4gKiBzcGxpdCBzdHJpbmcgb24gd2hpdGVzcGFjZVxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybnMge0FycmF5fSB3b3Jkc1xuICovXG5mdW5jdGlvbiBzcGxpdFN0cihzdHIpIHtcbiAgICByZXR1cm4gc3RyLnRyaW0oKS5zcGxpdCgvXFxzKy9nKTtcbn1cblxuLyoqXG4gKiBmaW5kIGlmIGEgYXJyYXkgY29udGFpbnMgdGhlIG9iamVjdCB1c2luZyBpbmRleE9mIG9yIGEgc2ltcGxlIHBvbHlGaWxsXG4gKiBAcGFyYW0ge0FycmF5fSBzcmNcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaW5kXG4gKiBAcGFyYW0ge1N0cmluZ30gW2ZpbmRCeUtleV1cbiAqIEByZXR1cm4ge0Jvb2xlYW58TnVtYmVyfSBmYWxzZSB3aGVuIG5vdCBmb3VuZCwgb3IgdGhlIGluZGV4XG4gKi9cbmZ1bmN0aW9uIGluQXJyYXkoc3JjLCBmaW5kLCBmaW5kQnlLZXkpIHtcbiAgICBpZiAoc3JjLmluZGV4T2YgJiYgIWZpbmRCeUtleSkge1xuICAgICAgICByZXR1cm4gc3JjLmluZGV4T2YoZmluZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHNyYy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICgoZmluZEJ5S2V5ICYmIHNyY1tpXVtmaW5kQnlLZXldID09IGZpbmQpIHx8ICghZmluZEJ5S2V5ICYmIHNyY1tpXSA9PT0gZmluZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxufVxuXG4vKipcbiAqIGNvbnZlcnQgYXJyYXktbGlrZSBvYmplY3RzIHRvIHJlYWwgYXJyYXlzXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKi9cbmZ1bmN0aW9uIHRvQXJyYXkob2JqKSB7XG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG9iaiwgMCk7XG59XG5cbi8qKlxuICogdW5pcXVlIGFycmF5IHdpdGggb2JqZWN0cyBiYXNlZCBvbiBhIGtleSAobGlrZSAnaWQnKSBvciBqdXN0IGJ5IHRoZSBhcnJheSdzIHZhbHVlXG4gKiBAcGFyYW0ge0FycmF5fSBzcmMgW3tpZDoxfSx7aWQ6Mn0se2lkOjF9XVxuICogQHBhcmFtIHtTdHJpbmd9IFtrZXldXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtzb3J0PUZhbHNlXVxuICogQHJldHVybnMge0FycmF5fSBbe2lkOjF9LHtpZDoyfV1cbiAqL1xuZnVuY3Rpb24gdW5pcXVlQXJyYXkoc3JjLCBrZXksIHNvcnQpIHtcbiAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICB2YXIgaSA9IDA7XG5cbiAgICB3aGlsZSAoaSA8IHNyYy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbCA9IGtleSA/IHNyY1tpXVtrZXldIDogc3JjW2ldO1xuICAgICAgICBpZiAoaW5BcnJheSh2YWx1ZXMsIHZhbCkgPCAwKSB7XG4gICAgICAgICAgICByZXN1bHRzLnB1c2goc3JjW2ldKTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZXNbaV0gPSB2YWw7XG4gICAgICAgIGkrKztcbiAgICB9XG5cbiAgICBpZiAoc29ydCkge1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuc29ydCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuc29ydChmdW5jdGlvbiBzb3J0VW5pcXVlQXJyYXkoYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBhW2tleV0gPiBiW2tleV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRzO1xufVxuXG4vKipcbiAqIGdldCB0aGUgcHJlZml4ZWQgcHJvcGVydHlcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eVxuICogQHJldHVybnMge1N0cmluZ3xVbmRlZmluZWR9IHByZWZpeGVkXG4gKi9cbmZ1bmN0aW9uIHByZWZpeGVkKG9iaiwgcHJvcGVydHkpIHtcbiAgICB2YXIgcHJlZml4LCBwcm9wO1xuICAgIHZhciBjYW1lbFByb3AgPSBwcm9wZXJ0eVswXS50b1VwcGVyQ2FzZSgpICsgcHJvcGVydHkuc2xpY2UoMSk7XG5cbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBWRU5ET1JfUFJFRklYRVMubGVuZ3RoKSB7XG4gICAgICAgIHByZWZpeCA9IFZFTkRPUl9QUkVGSVhFU1tpXTtcbiAgICAgICAgcHJvcCA9IChwcmVmaXgpID8gcHJlZml4ICsgY2FtZWxQcm9wIDogcHJvcGVydHk7XG5cbiAgICAgICAgaWYgKHByb3AgaW4gb2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcDtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogZ2V0IGEgdW5pcXVlIGlkXG4gKiBAcmV0dXJucyB7bnVtYmVyfSB1bmlxdWVJZFxuICovXG52YXIgX3VuaXF1ZUlkID0gMTtcbmZ1bmN0aW9uIHVuaXF1ZUlkKCkge1xuICAgIHJldHVybiBfdW5pcXVlSWQrKztcbn1cblxuLyoqXG4gKiBnZXQgdGhlIHdpbmRvdyBvYmplY3Qgb2YgYW4gZWxlbWVudFxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybnMge0RvY3VtZW50Vmlld3xXaW5kb3d9XG4gKi9cbmZ1bmN0aW9uIGdldFdpbmRvd0ZvckVsZW1lbnQoZWxlbWVudCkge1xuICAgIHZhciBkb2MgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQgfHwgZWxlbWVudDtcbiAgICByZXR1cm4gKGRvYy5kZWZhdWx0VmlldyB8fCBkb2MucGFyZW50V2luZG93IHx8IHdpbmRvdyk7XG59XG5cbnZhciBNT0JJTEVfUkVHRVggPSAvbW9iaWxlfHRhYmxldHxpcChhZHxob25lfG9kKXxhbmRyb2lkL2k7XG5cbnZhciBTVVBQT1JUX1RPVUNIID0gKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyk7XG52YXIgU1VQUE9SVF9QT0lOVEVSX0VWRU5UUyA9IHByZWZpeGVkKHdpbmRvdywgJ1BvaW50ZXJFdmVudCcpICE9PSB1bmRlZmluZWQ7XG52YXIgU1VQUE9SVF9PTkxZX1RPVUNIID0gU1VQUE9SVF9UT1VDSCAmJiBNT0JJTEVfUkVHRVgudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcblxudmFyIElOUFVUX1RZUEVfVE9VQ0ggPSAndG91Y2gnO1xudmFyIElOUFVUX1RZUEVfUEVOID0gJ3Blbic7XG52YXIgSU5QVVRfVFlQRV9NT1VTRSA9ICdtb3VzZSc7XG52YXIgSU5QVVRfVFlQRV9LSU5FQ1QgPSAna2luZWN0JztcblxudmFyIENPTVBVVEVfSU5URVJWQUwgPSAyNTtcblxudmFyIElOUFVUX1NUQVJUID0gMTtcbnZhciBJTlBVVF9NT1ZFID0gMjtcbnZhciBJTlBVVF9FTkQgPSA0O1xudmFyIElOUFVUX0NBTkNFTCA9IDg7XG5cbnZhciBESVJFQ1RJT05fTk9ORSA9IDE7XG52YXIgRElSRUNUSU9OX0xFRlQgPSAyO1xudmFyIERJUkVDVElPTl9SSUdIVCA9IDQ7XG52YXIgRElSRUNUSU9OX1VQID0gODtcbnZhciBESVJFQ1RJT05fRE9XTiA9IDE2O1xuXG52YXIgRElSRUNUSU9OX0hPUklaT05UQUwgPSBESVJFQ1RJT05fTEVGVCB8IERJUkVDVElPTl9SSUdIVDtcbnZhciBESVJFQ1RJT05fVkVSVElDQUwgPSBESVJFQ1RJT05fVVAgfCBESVJFQ1RJT05fRE9XTjtcbnZhciBESVJFQ1RJT05fQUxMID0gRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUw7XG5cbnZhciBQUk9QU19YWSA9IFsneCcsICd5J107XG52YXIgUFJPUFNfQ0xJRU5UX1hZID0gWydjbGllbnRYJywgJ2NsaWVudFknXTtcblxuLyoqXG4gKiBjcmVhdGUgbmV3IGlucHV0IHR5cGUgbWFuYWdlclxuICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybnMge0lucHV0fVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIElucHV0KG1hbmFnZXIsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMubWFuYWdlciA9IG1hbmFnZXI7XG4gICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIHRoaXMuZWxlbWVudCA9IG1hbmFnZXIuZWxlbWVudDtcbiAgICB0aGlzLnRhcmdldCA9IG1hbmFnZXIub3B0aW9ucy5pbnB1dFRhcmdldDtcblxuICAgIC8vIHNtYWxsZXIgd3JhcHBlciBhcm91bmQgdGhlIGhhbmRsZXIsIGZvciB0aGUgc2NvcGUgYW5kIHRoZSBlbmFibGVkIHN0YXRlIG9mIHRoZSBtYW5hZ2VyLFxuICAgIC8vIHNvIHdoZW4gZGlzYWJsZWQgdGhlIGlucHV0IGV2ZW50cyBhcmUgY29tcGxldGVseSBieXBhc3NlZC5cbiAgICB0aGlzLmRvbUhhbmRsZXIgPSBmdW5jdGlvbihldikge1xuICAgICAgICBpZiAoYm9vbE9yRm4obWFuYWdlci5vcHRpb25zLmVuYWJsZSwgW21hbmFnZXJdKSkge1xuICAgICAgICAgICAgc2VsZi5oYW5kbGVyKGV2KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmluaXQoKTtcblxufVxuXG5JbnB1dC5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogc2hvdWxkIGhhbmRsZSB0aGUgaW5wdXRFdmVudCBkYXRhIGFuZCB0cmlnZ2VyIHRoZSBjYWxsYmFja1xuICAgICAqIEB2aXJ0dWFsXG4gICAgICovXG4gICAgaGFuZGxlcjogZnVuY3Rpb24oKSB7IH0sXG5cbiAgICAvKipcbiAgICAgKiBiaW5kIHRoZSBldmVudHNcbiAgICAgKi9cbiAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5ldkVsICYmIGFkZEV2ZW50TGlzdGVuZXJzKHRoaXMuZWxlbWVudCwgdGhpcy5ldkVsLCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2VGFyZ2V0ICYmIGFkZEV2ZW50TGlzdGVuZXJzKHRoaXMudGFyZ2V0LCB0aGlzLmV2VGFyZ2V0LCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2V2luICYmIGFkZEV2ZW50TGlzdGVuZXJzKGdldFdpbmRvd0ZvckVsZW1lbnQodGhpcy5lbGVtZW50KSwgdGhpcy5ldldpbiwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdW5iaW5kIHRoZSBldmVudHNcbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5ldkVsICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRoaXMuZWxlbWVudCwgdGhpcy5ldkVsLCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2VGFyZ2V0ICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRoaXMudGFyZ2V0LCB0aGlzLmV2VGFyZ2V0LCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2V2luICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKGdldFdpbmRvd0ZvckVsZW1lbnQodGhpcy5lbGVtZW50KSwgdGhpcy5ldldpbiwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIGNyZWF0ZSBuZXcgaW5wdXQgdHlwZSBtYW5hZ2VyXG4gKiBjYWxsZWQgYnkgdGhlIE1hbmFnZXIgY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7SGFtbWVyfSBtYW5hZ2VyXG4gKiBAcmV0dXJucyB7SW5wdXR9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUlucHV0SW5zdGFuY2UobWFuYWdlcikge1xuICAgIHZhciBUeXBlO1xuICAgIHZhciBpbnB1dENsYXNzID0gbWFuYWdlci5vcHRpb25zLmlucHV0Q2xhc3M7XG5cbiAgICBpZiAoaW5wdXRDbGFzcykge1xuICAgICAgICBUeXBlID0gaW5wdXRDbGFzcztcbiAgICB9IGVsc2UgaWYgKFNVUFBPUlRfUE9JTlRFUl9FVkVOVFMpIHtcbiAgICAgICAgVHlwZSA9IFBvaW50ZXJFdmVudElucHV0O1xuICAgIH0gZWxzZSBpZiAoU1VQUE9SVF9PTkxZX1RPVUNIKSB7XG4gICAgICAgIFR5cGUgPSBUb3VjaElucHV0O1xuICAgIH0gZWxzZSBpZiAoIVNVUFBPUlRfVE9VQ0gpIHtcbiAgICAgICAgVHlwZSA9IE1vdXNlSW5wdXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgVHlwZSA9IFRvdWNoTW91c2VJbnB1dDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyAoVHlwZSkobWFuYWdlciwgaW5wdXRIYW5kbGVyKTtcbn1cblxuLyoqXG4gKiBoYW5kbGUgaW5wdXQgZXZlbnRzXG4gKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFR5cGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICovXG5mdW5jdGlvbiBpbnB1dEhhbmRsZXIobWFuYWdlciwgZXZlbnRUeXBlLCBpbnB1dCkge1xuICAgIHZhciBwb2ludGVyc0xlbiA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aDtcbiAgICB2YXIgY2hhbmdlZFBvaW50ZXJzTGVuID0gaW5wdXQuY2hhbmdlZFBvaW50ZXJzLmxlbmd0aDtcbiAgICB2YXIgaXNGaXJzdCA9IChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCAmJiAocG9pbnRlcnNMZW4gLSBjaGFuZ2VkUG9pbnRlcnNMZW4gPT09IDApKTtcbiAgICB2YXIgaXNGaW5hbCA9IChldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSAmJiAocG9pbnRlcnNMZW4gLSBjaGFuZ2VkUG9pbnRlcnNMZW4gPT09IDApKTtcblxuICAgIGlucHV0LmlzRmlyc3QgPSAhIWlzRmlyc3Q7XG4gICAgaW5wdXQuaXNGaW5hbCA9ICEhaXNGaW5hbDtcblxuICAgIGlmIChpc0ZpcnN0KSB7XG4gICAgICAgIG1hbmFnZXIuc2Vzc2lvbiA9IHt9O1xuICAgIH1cblxuICAgIC8vIHNvdXJjZSBldmVudCBpcyB0aGUgbm9ybWFsaXplZCB2YWx1ZSBvZiB0aGUgZG9tRXZlbnRzXG4gICAgLy8gbGlrZSAndG91Y2hzdGFydCwgbW91c2V1cCwgcG9pbnRlcmRvd24nXG4gICAgaW5wdXQuZXZlbnRUeXBlID0gZXZlbnRUeXBlO1xuXG4gICAgLy8gY29tcHV0ZSBzY2FsZSwgcm90YXRpb24gZXRjXG4gICAgY29tcHV0ZUlucHV0RGF0YShtYW5hZ2VyLCBpbnB1dCk7XG5cbiAgICAvLyBlbWl0IHNlY3JldCBldmVudFxuICAgIG1hbmFnZXIuZW1pdCgnaGFtbWVyLmlucHV0JywgaW5wdXQpO1xuXG4gICAgbWFuYWdlci5yZWNvZ25pemUoaW5wdXQpO1xuICAgIG1hbmFnZXIuc2Vzc2lvbi5wcmV2SW5wdXQgPSBpbnB1dDtcbn1cblxuLyoqXG4gKiBleHRlbmQgdGhlIGRhdGEgd2l0aCBzb21lIHVzYWJsZSBwcm9wZXJ0aWVzIGxpa2Ugc2NhbGUsIHJvdGF0ZSwgdmVsb2NpdHkgZXRjXG4gKiBAcGFyYW0ge09iamVjdH0gbWFuYWdlclxuICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVJbnB1dERhdGEobWFuYWdlciwgaW5wdXQpIHtcbiAgICB2YXIgc2Vzc2lvbiA9IG1hbmFnZXIuc2Vzc2lvbjtcbiAgICB2YXIgcG9pbnRlcnMgPSBpbnB1dC5wb2ludGVycztcbiAgICB2YXIgcG9pbnRlcnNMZW5ndGggPSBwb2ludGVycy5sZW5ndGg7XG5cbiAgICAvLyBzdG9yZSB0aGUgZmlyc3QgaW5wdXQgdG8gY2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBhbmQgZGlyZWN0aW9uXG4gICAgaWYgKCFzZXNzaW9uLmZpcnN0SW5wdXQpIHtcbiAgICAgICAgc2Vzc2lvbi5maXJzdElucHV0ID0gc2ltcGxlQ2xvbmVJbnB1dERhdGEoaW5wdXQpO1xuICAgIH1cblxuICAgIC8vIHRvIGNvbXB1dGUgc2NhbGUgYW5kIHJvdGF0aW9uIHdlIG5lZWQgdG8gc3RvcmUgdGhlIG11bHRpcGxlIHRvdWNoZXNcbiAgICBpZiAocG9pbnRlcnNMZW5ndGggPiAxICYmICFzZXNzaW9uLmZpcnN0TXVsdGlwbGUpIHtcbiAgICAgICAgc2Vzc2lvbi5maXJzdE11bHRpcGxlID0gc2ltcGxlQ2xvbmVJbnB1dERhdGEoaW5wdXQpO1xuICAgIH0gZWxzZSBpZiAocG9pbnRlcnNMZW5ndGggPT09IDEpIHtcbiAgICAgICAgc2Vzc2lvbi5maXJzdE11bHRpcGxlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGZpcnN0SW5wdXQgPSBzZXNzaW9uLmZpcnN0SW5wdXQ7XG4gICAgdmFyIGZpcnN0TXVsdGlwbGUgPSBzZXNzaW9uLmZpcnN0TXVsdGlwbGU7XG4gICAgdmFyIG9mZnNldENlbnRlciA9IGZpcnN0TXVsdGlwbGUgPyBmaXJzdE11bHRpcGxlLmNlbnRlciA6IGZpcnN0SW5wdXQuY2VudGVyO1xuXG4gICAgdmFyIGNlbnRlciA9IGlucHV0LmNlbnRlciA9IGdldENlbnRlcihwb2ludGVycyk7XG4gICAgaW5wdXQudGltZVN0YW1wID0gbm93KCk7XG4gICAgaW5wdXQuZGVsdGFUaW1lID0gaW5wdXQudGltZVN0YW1wIC0gZmlyc3RJbnB1dC50aW1lU3RhbXA7XG5cbiAgICBpbnB1dC5hbmdsZSA9IGdldEFuZ2xlKG9mZnNldENlbnRlciwgY2VudGVyKTtcbiAgICBpbnB1dC5kaXN0YW5jZSA9IGdldERpc3RhbmNlKG9mZnNldENlbnRlciwgY2VudGVyKTtcblxuICAgIGNvbXB1dGVEZWx0YVhZKHNlc3Npb24sIGlucHV0KTtcbiAgICBpbnB1dC5vZmZzZXREaXJlY3Rpb24gPSBnZXREaXJlY3Rpb24oaW5wdXQuZGVsdGFYLCBpbnB1dC5kZWx0YVkpO1xuXG4gICAgdmFyIG92ZXJhbGxWZWxvY2l0eSA9IGdldFZlbG9jaXR5KGlucHV0LmRlbHRhVGltZSwgaW5wdXQuZGVsdGFYLCBpbnB1dC5kZWx0YVkpO1xuICAgIGlucHV0Lm92ZXJhbGxWZWxvY2l0eVggPSBvdmVyYWxsVmVsb2NpdHkueDtcbiAgICBpbnB1dC5vdmVyYWxsVmVsb2NpdHlZID0gb3ZlcmFsbFZlbG9jaXR5Lnk7XG4gICAgaW5wdXQub3ZlcmFsbFZlbG9jaXR5ID0gKGFicyhvdmVyYWxsVmVsb2NpdHkueCkgPiBhYnMob3ZlcmFsbFZlbG9jaXR5LnkpKSA/IG92ZXJhbGxWZWxvY2l0eS54IDogb3ZlcmFsbFZlbG9jaXR5Lnk7XG5cbiAgICBpbnB1dC5zY2FsZSA9IGZpcnN0TXVsdGlwbGUgPyBnZXRTY2FsZShmaXJzdE11bHRpcGxlLnBvaW50ZXJzLCBwb2ludGVycykgOiAxO1xuICAgIGlucHV0LnJvdGF0aW9uID0gZmlyc3RNdWx0aXBsZSA/IGdldFJvdGF0aW9uKGZpcnN0TXVsdGlwbGUucG9pbnRlcnMsIHBvaW50ZXJzKSA6IDA7XG5cbiAgICBpbnB1dC5tYXhQb2ludGVycyA9ICFzZXNzaW9uLnByZXZJbnB1dCA/IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA6ICgoaW5wdXQucG9pbnRlcnMubGVuZ3RoID5cbiAgICAgICAgc2Vzc2lvbi5wcmV2SW5wdXQubWF4UG9pbnRlcnMpID8gaW5wdXQucG9pbnRlcnMubGVuZ3RoIDogc2Vzc2lvbi5wcmV2SW5wdXQubWF4UG9pbnRlcnMpO1xuXG4gICAgY29tcHV0ZUludGVydmFsSW5wdXREYXRhKHNlc3Npb24sIGlucHV0KTtcblxuICAgIC8vIGZpbmQgdGhlIGNvcnJlY3QgdGFyZ2V0XG4gICAgdmFyIHRhcmdldCA9IG1hbmFnZXIuZWxlbWVudDtcbiAgICBpZiAoaGFzUGFyZW50KGlucHV0LnNyY0V2ZW50LnRhcmdldCwgdGFyZ2V0KSkge1xuICAgICAgICB0YXJnZXQgPSBpbnB1dC5zcmNFdmVudC50YXJnZXQ7XG4gICAgfVxuICAgIGlucHV0LnRhcmdldCA9IHRhcmdldDtcbn1cblxuZnVuY3Rpb24gY29tcHV0ZURlbHRhWFkoc2Vzc2lvbiwgaW5wdXQpIHtcbiAgICB2YXIgY2VudGVyID0gaW5wdXQuY2VudGVyO1xuICAgIHZhciBvZmZzZXQgPSBzZXNzaW9uLm9mZnNldERlbHRhIHx8IHt9O1xuICAgIHZhciBwcmV2RGVsdGEgPSBzZXNzaW9uLnByZXZEZWx0YSB8fCB7fTtcbiAgICB2YXIgcHJldklucHV0ID0gc2Vzc2lvbi5wcmV2SW5wdXQgfHwge307XG5cbiAgICBpZiAoaW5wdXQuZXZlbnRUeXBlID09PSBJTlBVVF9TVEFSVCB8fCBwcmV2SW5wdXQuZXZlbnRUeXBlID09PSBJTlBVVF9FTkQpIHtcbiAgICAgICAgcHJldkRlbHRhID0gc2Vzc2lvbi5wcmV2RGVsdGEgPSB7XG4gICAgICAgICAgICB4OiBwcmV2SW5wdXQuZGVsdGFYIHx8IDAsXG4gICAgICAgICAgICB5OiBwcmV2SW5wdXQuZGVsdGFZIHx8IDBcbiAgICAgICAgfTtcblxuICAgICAgICBvZmZzZXQgPSBzZXNzaW9uLm9mZnNldERlbHRhID0ge1xuICAgICAgICAgICAgeDogY2VudGVyLngsXG4gICAgICAgICAgICB5OiBjZW50ZXIueVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGlucHV0LmRlbHRhWCA9IHByZXZEZWx0YS54ICsgKGNlbnRlci54IC0gb2Zmc2V0LngpO1xuICAgIGlucHV0LmRlbHRhWSA9IHByZXZEZWx0YS55ICsgKGNlbnRlci55IC0gb2Zmc2V0LnkpO1xufVxuXG4vKipcbiAqIHZlbG9jaXR5IGlzIGNhbGN1bGF0ZWQgZXZlcnkgeCBtc1xuICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICovXG5mdW5jdGlvbiBjb21wdXRlSW50ZXJ2YWxJbnB1dERhdGEoc2Vzc2lvbiwgaW5wdXQpIHtcbiAgICB2YXIgbGFzdCA9IHNlc3Npb24ubGFzdEludGVydmFsIHx8IGlucHV0LFxuICAgICAgICBkZWx0YVRpbWUgPSBpbnB1dC50aW1lU3RhbXAgLSBsYXN0LnRpbWVTdGFtcCxcbiAgICAgICAgdmVsb2NpdHksIHZlbG9jaXR5WCwgdmVsb2NpdHlZLCBkaXJlY3Rpb247XG5cbiAgICBpZiAoaW5wdXQuZXZlbnRUeXBlICE9IElOUFVUX0NBTkNFTCAmJiAoZGVsdGFUaW1lID4gQ09NUFVURV9JTlRFUlZBTCB8fCBsYXN0LnZlbG9jaXR5ID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHZhciBkZWx0YVggPSBpbnB1dC5kZWx0YVggLSBsYXN0LmRlbHRhWDtcbiAgICAgICAgdmFyIGRlbHRhWSA9IGlucHV0LmRlbHRhWSAtIGxhc3QuZGVsdGFZO1xuXG4gICAgICAgIHZhciB2ID0gZ2V0VmVsb2NpdHkoZGVsdGFUaW1lLCBkZWx0YVgsIGRlbHRhWSk7XG4gICAgICAgIHZlbG9jaXR5WCA9IHYueDtcbiAgICAgICAgdmVsb2NpdHlZID0gdi55O1xuICAgICAgICB2ZWxvY2l0eSA9IChhYnModi54KSA+IGFicyh2LnkpKSA/IHYueCA6IHYueTtcbiAgICAgICAgZGlyZWN0aW9uID0gZ2V0RGlyZWN0aW9uKGRlbHRhWCwgZGVsdGFZKTtcblxuICAgICAgICBzZXNzaW9uLmxhc3RJbnRlcnZhbCA9IGlucHV0O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHVzZSBsYXRlc3QgdmVsb2NpdHkgaW5mbyBpZiBpdCBkb2Vzbid0IG92ZXJ0YWtlIGEgbWluaW11bSBwZXJpb2RcbiAgICAgICAgdmVsb2NpdHkgPSBsYXN0LnZlbG9jaXR5O1xuICAgICAgICB2ZWxvY2l0eVggPSBsYXN0LnZlbG9jaXR5WDtcbiAgICAgICAgdmVsb2NpdHlZID0gbGFzdC52ZWxvY2l0eVk7XG4gICAgICAgIGRpcmVjdGlvbiA9IGxhc3QuZGlyZWN0aW9uO1xuICAgIH1cblxuICAgIGlucHV0LnZlbG9jaXR5ID0gdmVsb2NpdHk7XG4gICAgaW5wdXQudmVsb2NpdHlYID0gdmVsb2NpdHlYO1xuICAgIGlucHV0LnZlbG9jaXR5WSA9IHZlbG9jaXR5WTtcbiAgICBpbnB1dC5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG59XG5cbi8qKlxuICogY3JlYXRlIGEgc2ltcGxlIGNsb25lIGZyb20gdGhlIGlucHV0IHVzZWQgZm9yIHN0b3JhZ2Ugb2YgZmlyc3RJbnB1dCBhbmQgZmlyc3RNdWx0aXBsZVxuICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gKiBAcmV0dXJucyB7T2JqZWN0fSBjbG9uZWRJbnB1dERhdGFcbiAqL1xuZnVuY3Rpb24gc2ltcGxlQ2xvbmVJbnB1dERhdGEoaW5wdXQpIHtcbiAgICAvLyBtYWtlIGEgc2ltcGxlIGNvcHkgb2YgdGhlIHBvaW50ZXJzIGJlY2F1c2Ugd2Ugd2lsbCBnZXQgYSByZWZlcmVuY2UgaWYgd2UgZG9uJ3RcbiAgICAvLyB3ZSBvbmx5IG5lZWQgY2xpZW50WFkgZm9yIHRoZSBjYWxjdWxhdGlvbnNcbiAgICB2YXIgcG9pbnRlcnMgPSBbXTtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBpbnB1dC5wb2ludGVycy5sZW5ndGgpIHtcbiAgICAgICAgcG9pbnRlcnNbaV0gPSB7XG4gICAgICAgICAgICBjbGllbnRYOiByb3VuZChpbnB1dC5wb2ludGVyc1tpXS5jbGllbnRYKSxcbiAgICAgICAgICAgIGNsaWVudFk6IHJvdW5kKGlucHV0LnBvaW50ZXJzW2ldLmNsaWVudFkpXG4gICAgICAgIH07XG4gICAgICAgIGkrKztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0aW1lU3RhbXA6IG5vdygpLFxuICAgICAgICBwb2ludGVyczogcG9pbnRlcnMsXG4gICAgICAgIGNlbnRlcjogZ2V0Q2VudGVyKHBvaW50ZXJzKSxcbiAgICAgICAgZGVsdGFYOiBpbnB1dC5kZWx0YVgsXG4gICAgICAgIGRlbHRhWTogaW5wdXQuZGVsdGFZXG4gICAgfTtcbn1cblxuLyoqXG4gKiBnZXQgdGhlIGNlbnRlciBvZiBhbGwgdGhlIHBvaW50ZXJzXG4gKiBAcGFyYW0ge0FycmF5fSBwb2ludGVyc1xuICogQHJldHVybiB7T2JqZWN0fSBjZW50ZXIgY29udGFpbnMgYHhgIGFuZCBgeWAgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBnZXRDZW50ZXIocG9pbnRlcnMpIHtcbiAgICB2YXIgcG9pbnRlcnNMZW5ndGggPSBwb2ludGVycy5sZW5ndGg7XG5cbiAgICAvLyBubyBuZWVkIHRvIGxvb3Agd2hlbiBvbmx5IG9uZSB0b3VjaFxuICAgIGlmIChwb2ludGVyc0xlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogcm91bmQocG9pbnRlcnNbMF0uY2xpZW50WCksXG4gICAgICAgICAgICB5OiByb3VuZChwb2ludGVyc1swXS5jbGllbnRZKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciB4ID0gMCwgeSA9IDAsIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgcG9pbnRlcnNMZW5ndGgpIHtcbiAgICAgICAgeCArPSBwb2ludGVyc1tpXS5jbGllbnRYO1xuICAgICAgICB5ICs9IHBvaW50ZXJzW2ldLmNsaWVudFk7XG4gICAgICAgIGkrKztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB4OiByb3VuZCh4IC8gcG9pbnRlcnNMZW5ndGgpLFxuICAgICAgICB5OiByb3VuZCh5IC8gcG9pbnRlcnNMZW5ndGgpXG4gICAgfTtcbn1cblxuLyoqXG4gKiBjYWxjdWxhdGUgdGhlIHZlbG9jaXR5IGJldHdlZW4gdHdvIHBvaW50cy4gdW5pdCBpcyBpbiBweCBwZXIgbXMuXG4gKiBAcGFyYW0ge051bWJlcn0gZGVsdGFUaW1lXG4gKiBAcGFyYW0ge051bWJlcn0geFxuICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAqIEByZXR1cm4ge09iamVjdH0gdmVsb2NpdHkgYHhgIGFuZCBgeWBcbiAqL1xuZnVuY3Rpb24gZ2V0VmVsb2NpdHkoZGVsdGFUaW1lLCB4LCB5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogeCAvIGRlbHRhVGltZSB8fCAwLFxuICAgICAgICB5OiB5IC8gZGVsdGFUaW1lIHx8IDBcbiAgICB9O1xufVxuXG4vKipcbiAqIGdldCB0aGUgZGlyZWN0aW9uIGJldHdlZW4gdHdvIHBvaW50c1xuICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gKiBAcmV0dXJuIHtOdW1iZXJ9IGRpcmVjdGlvblxuICovXG5mdW5jdGlvbiBnZXREaXJlY3Rpb24oeCwgeSkge1xuICAgIGlmICh4ID09PSB5KSB7XG4gICAgICAgIHJldHVybiBESVJFQ1RJT05fTk9ORTtcbiAgICB9XG5cbiAgICBpZiAoYWJzKHgpID49IGFicyh5KSkge1xuICAgICAgICByZXR1cm4geCA8IDAgPyBESVJFQ1RJT05fTEVGVCA6IERJUkVDVElPTl9SSUdIVDtcbiAgICB9XG4gICAgcmV0dXJuIHkgPCAwID8gRElSRUNUSU9OX1VQIDogRElSRUNUSU9OX0RPV047XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSBhYnNvbHV0ZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHNcbiAqIEBwYXJhbSB7T2JqZWN0fSBwMSB7eCwgeX1cbiAqIEBwYXJhbSB7T2JqZWN0fSBwMiB7eCwgeX1cbiAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wc10gY29udGFpbmluZyB4IGFuZCB5IGtleXNcbiAqIEByZXR1cm4ge051bWJlcn0gZGlzdGFuY2VcbiAqL1xuZnVuY3Rpb24gZ2V0RGlzdGFuY2UocDEsIHAyLCBwcm9wcykge1xuICAgIGlmICghcHJvcHMpIHtcbiAgICAgICAgcHJvcHMgPSBQUk9QU19YWTtcbiAgICB9XG4gICAgdmFyIHggPSBwMltwcm9wc1swXV0gLSBwMVtwcm9wc1swXV0sXG4gICAgICAgIHkgPSBwMltwcm9wc1sxXV0gLSBwMVtwcm9wc1sxXV07XG5cbiAgICByZXR1cm4gTWF0aC5zcXJ0KCh4ICogeCkgKyAoeSAqIHkpKTtcbn1cblxuLyoqXG4gKiBjYWxjdWxhdGUgdGhlIGFuZ2xlIGJldHdlZW4gdHdvIGNvb3JkaW5hdGVzXG4gKiBAcGFyYW0ge09iamVjdH0gcDFcbiAqIEBwYXJhbSB7T2JqZWN0fSBwMlxuICogQHBhcmFtIHtBcnJheX0gW3Byb3BzXSBjb250YWluaW5nIHggYW5kIHkga2V5c1xuICogQHJldHVybiB7TnVtYmVyfSBhbmdsZVxuICovXG5mdW5jdGlvbiBnZXRBbmdsZShwMSwgcDIsIHByb3BzKSB7XG4gICAgaWYgKCFwcm9wcykge1xuICAgICAgICBwcm9wcyA9IFBST1BTX1hZO1xuICAgIH1cbiAgICB2YXIgeCA9IHAyW3Byb3BzWzBdXSAtIHAxW3Byb3BzWzBdXSxcbiAgICAgICAgeSA9IHAyW3Byb3BzWzFdXSAtIHAxW3Byb3BzWzFdXTtcbiAgICByZXR1cm4gTWF0aC5hdGFuMih5LCB4KSAqIDE4MCAvIE1hdGguUEk7XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSByb3RhdGlvbiBkZWdyZWVzIGJldHdlZW4gdHdvIHBvaW50ZXJzZXRzXG4gKiBAcGFyYW0ge0FycmF5fSBzdGFydCBhcnJheSBvZiBwb2ludGVyc1xuICogQHBhcmFtIHtBcnJheX0gZW5kIGFycmF5IG9mIHBvaW50ZXJzXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IHJvdGF0aW9uXG4gKi9cbmZ1bmN0aW9uIGdldFJvdGF0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgICByZXR1cm4gZ2V0QW5nbGUoZW5kWzFdLCBlbmRbMF0sIFBST1BTX0NMSUVOVF9YWSkgKyBnZXRBbmdsZShzdGFydFsxXSwgc3RhcnRbMF0sIFBST1BTX0NMSUVOVF9YWSk7XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSBzY2FsZSBmYWN0b3IgYmV0d2VlbiB0d28gcG9pbnRlcnNldHNcbiAqIG5vIHNjYWxlIGlzIDEsIGFuZCBnb2VzIGRvd24gdG8gMCB3aGVuIHBpbmNoZWQgdG9nZXRoZXIsIGFuZCBiaWdnZXIgd2hlbiBwaW5jaGVkIG91dFxuICogQHBhcmFtIHtBcnJheX0gc3RhcnQgYXJyYXkgb2YgcG9pbnRlcnNcbiAqIEBwYXJhbSB7QXJyYXl9IGVuZCBhcnJheSBvZiBwb2ludGVyc1xuICogQHJldHVybiB7TnVtYmVyfSBzY2FsZVxuICovXG5mdW5jdGlvbiBnZXRTY2FsZShzdGFydCwgZW5kKSB7XG4gICAgcmV0dXJuIGdldERpc3RhbmNlKGVuZFswXSwgZW5kWzFdLCBQUk9QU19DTElFTlRfWFkpIC8gZ2V0RGlzdGFuY2Uoc3RhcnRbMF0sIHN0YXJ0WzFdLCBQUk9QU19DTElFTlRfWFkpO1xufVxuXG52YXIgTU9VU0VfSU5QVVRfTUFQID0ge1xuICAgIG1vdXNlZG93bjogSU5QVVRfU1RBUlQsXG4gICAgbW91c2Vtb3ZlOiBJTlBVVF9NT1ZFLFxuICAgIG1vdXNldXA6IElOUFVUX0VORFxufTtcblxudmFyIE1PVVNFX0VMRU1FTlRfRVZFTlRTID0gJ21vdXNlZG93bic7XG52YXIgTU9VU0VfV0lORE9XX0VWRU5UUyA9ICdtb3VzZW1vdmUgbW91c2V1cCc7XG5cbi8qKlxuICogTW91c2UgZXZlbnRzIGlucHV0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cbmZ1bmN0aW9uIE1vdXNlSW5wdXQoKSB7XG4gICAgdGhpcy5ldkVsID0gTU9VU0VfRUxFTUVOVF9FVkVOVFM7XG4gICAgdGhpcy5ldldpbiA9IE1PVVNFX1dJTkRPV19FVkVOVFM7XG5cbiAgICB0aGlzLnByZXNzZWQgPSBmYWxzZTsgLy8gbW91c2Vkb3duIHN0YXRlXG5cbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KE1vdXNlSW5wdXQsIElucHV0LCB7XG4gICAgLyoqXG4gICAgICogaGFuZGxlIG1vdXNlIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldlxuICAgICAqL1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIE1FaGFuZGxlcihldikge1xuICAgICAgICB2YXIgZXZlbnRUeXBlID0gTU9VU0VfSU5QVVRfTUFQW2V2LnR5cGVdO1xuXG4gICAgICAgIC8vIG9uIHN0YXJ0IHdlIHdhbnQgdG8gaGF2ZSB0aGUgbGVmdCBtb3VzZSBidXR0b24gZG93blxuICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgZXYuYnV0dG9uID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnByZXNzZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX01PVkUgJiYgZXYud2hpY2ggIT09IDEpIHtcbiAgICAgICAgICAgIGV2ZW50VHlwZSA9IElOUFVUX0VORDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1vdXNlIG11c3QgYmUgZG93blxuICAgICAgICBpZiAoIXRoaXMucHJlc3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX0VORCkge1xuICAgICAgICAgICAgdGhpcy5wcmVzc2VkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgZXZlbnRUeXBlLCB7XG4gICAgICAgICAgICBwb2ludGVyczogW2V2XSxcbiAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogW2V2XSxcbiAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBJTlBVVF9UWVBFX01PVVNFLFxuICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG52YXIgUE9JTlRFUl9JTlBVVF9NQVAgPSB7XG4gICAgcG9pbnRlcmRvd246IElOUFVUX1NUQVJULFxuICAgIHBvaW50ZXJtb3ZlOiBJTlBVVF9NT1ZFLFxuICAgIHBvaW50ZXJ1cDogSU5QVVRfRU5ELFxuICAgIHBvaW50ZXJjYW5jZWw6IElOUFVUX0NBTkNFTCxcbiAgICBwb2ludGVyb3V0OiBJTlBVVF9DQU5DRUxcbn07XG5cbi8vIGluIElFMTAgdGhlIHBvaW50ZXIgdHlwZXMgaXMgZGVmaW5lZCBhcyBhbiBlbnVtXG52YXIgSUUxMF9QT0lOVEVSX1RZUEVfRU5VTSA9IHtcbiAgICAyOiBJTlBVVF9UWVBFX1RPVUNILFxuICAgIDM6IElOUFVUX1RZUEVfUEVOLFxuICAgIDQ6IElOUFVUX1RZUEVfTU9VU0UsXG4gICAgNTogSU5QVVRfVFlQRV9LSU5FQ1QgLy8gc2VlIGh0dHBzOi8vdHdpdHRlci5jb20vamFjb2Jyb3NzaS9zdGF0dXMvNDgwNTk2NDM4NDg5ODkwODE2XG59O1xuXG52YXIgUE9JTlRFUl9FTEVNRU5UX0VWRU5UUyA9ICdwb2ludGVyZG93bic7XG52YXIgUE9JTlRFUl9XSU5ET1dfRVZFTlRTID0gJ3BvaW50ZXJtb3ZlIHBvaW50ZXJ1cCBwb2ludGVyY2FuY2VsJztcblxuLy8gSUUxMCBoYXMgcHJlZml4ZWQgc3VwcG9ydCwgYW5kIGNhc2Utc2Vuc2l0aXZlXG5pZiAod2luZG93Lk1TUG9pbnRlckV2ZW50ICYmICF3aW5kb3cuUG9pbnRlckV2ZW50KSB7XG4gICAgUE9JTlRFUl9FTEVNRU5UX0VWRU5UUyA9ICdNU1BvaW50ZXJEb3duJztcbiAgICBQT0lOVEVSX1dJTkRPV19FVkVOVFMgPSAnTVNQb2ludGVyTW92ZSBNU1BvaW50ZXJVcCBNU1BvaW50ZXJDYW5jZWwnO1xufVxuXG4vKipcbiAqIFBvaW50ZXIgZXZlbnRzIGlucHV0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cbmZ1bmN0aW9uIFBvaW50ZXJFdmVudElucHV0KCkge1xuICAgIHRoaXMuZXZFbCA9IFBPSU5URVJfRUxFTUVOVF9FVkVOVFM7XG4gICAgdGhpcy5ldldpbiA9IFBPSU5URVJfV0lORE9XX0VWRU5UUztcblxuICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB0aGlzLnN0b3JlID0gKHRoaXMubWFuYWdlci5zZXNzaW9uLnBvaW50ZXJFdmVudHMgPSBbXSk7XG59XG5cbmluaGVyaXQoUG9pbnRlckV2ZW50SW5wdXQsIElucHV0LCB7XG4gICAgLyoqXG4gICAgICogaGFuZGxlIG1vdXNlIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldlxuICAgICAqL1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIFBFaGFuZGxlcihldikge1xuICAgICAgICB2YXIgc3RvcmUgPSB0aGlzLnN0b3JlO1xuICAgICAgICB2YXIgcmVtb3ZlUG9pbnRlciA9IGZhbHNlO1xuXG4gICAgICAgIHZhciBldmVudFR5cGVOb3JtYWxpemVkID0gZXYudHlwZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJ21zJywgJycpO1xuICAgICAgICB2YXIgZXZlbnRUeXBlID0gUE9JTlRFUl9JTlBVVF9NQVBbZXZlbnRUeXBlTm9ybWFsaXplZF07XG4gICAgICAgIHZhciBwb2ludGVyVHlwZSA9IElFMTBfUE9JTlRFUl9UWVBFX0VOVU1bZXYucG9pbnRlclR5cGVdIHx8IGV2LnBvaW50ZXJUeXBlO1xuXG4gICAgICAgIHZhciBpc1RvdWNoID0gKHBvaW50ZXJUeXBlID09IElOUFVUX1RZUEVfVE9VQ0gpO1xuXG4gICAgICAgIC8vIGdldCBpbmRleCBvZiB0aGUgZXZlbnQgaW4gdGhlIHN0b3JlXG4gICAgICAgIHZhciBzdG9yZUluZGV4ID0gaW5BcnJheShzdG9yZSwgZXYucG9pbnRlcklkLCAncG9pbnRlcklkJyk7XG5cbiAgICAgICAgLy8gc3RhcnQgYW5kIG1vdXNlIG11c3QgYmUgZG93blxuICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgKGV2LmJ1dHRvbiA9PT0gMCB8fCBpc1RvdWNoKSkge1xuICAgICAgICAgICAgaWYgKHN0b3JlSW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgc3RvcmUucHVzaChldik7XG4gICAgICAgICAgICAgICAgc3RvcmVJbmRleCA9IHN0b3JlLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcbiAgICAgICAgICAgIHJlbW92ZVBvaW50ZXIgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaXQgbm90IGZvdW5kLCBzbyB0aGUgcG9pbnRlciBoYXNuJ3QgYmVlbiBkb3duIChzbyBpdCdzIHByb2JhYmx5IGEgaG92ZXIpXG4gICAgICAgIGlmIChzdG9yZUluZGV4IDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXBkYXRlIHRoZSBldmVudCBpbiB0aGUgc3RvcmVcbiAgICAgICAgc3RvcmVbc3RvcmVJbmRleF0gPSBldjtcblxuICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgZXZlbnRUeXBlLCB7XG4gICAgICAgICAgICBwb2ludGVyczogc3RvcmUsXG4gICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IFtldl0sXG4gICAgICAgICAgICBwb2ludGVyVHlwZTogcG9pbnRlclR5cGUsXG4gICAgICAgICAgICBzcmNFdmVudDogZXZcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHJlbW92ZVBvaW50ZXIpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBmcm9tIHRoZSBzdG9yZVxuICAgICAgICAgICAgc3RvcmUuc3BsaWNlKHN0b3JlSW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbnZhciBTSU5HTEVfVE9VQ0hfSU5QVVRfTUFQID0ge1xuICAgIHRvdWNoc3RhcnQ6IElOUFVUX1NUQVJULFxuICAgIHRvdWNobW92ZTogSU5QVVRfTU9WRSxcbiAgICB0b3VjaGVuZDogSU5QVVRfRU5ELFxuICAgIHRvdWNoY2FuY2VsOiBJTlBVVF9DQU5DRUxcbn07XG5cbnZhciBTSU5HTEVfVE9VQ0hfVEFSR0VUX0VWRU5UUyA9ICd0b3VjaHN0YXJ0JztcbnZhciBTSU5HTEVfVE9VQ0hfV0lORE9XX0VWRU5UUyA9ICd0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCc7XG5cbi8qKlxuICogVG91Y2ggZXZlbnRzIGlucHV0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cbmZ1bmN0aW9uIFNpbmdsZVRvdWNoSW5wdXQoKSB7XG4gICAgdGhpcy5ldlRhcmdldCA9IFNJTkdMRV9UT1VDSF9UQVJHRVRfRVZFTlRTO1xuICAgIHRoaXMuZXZXaW4gPSBTSU5HTEVfVE9VQ0hfV0lORE9XX0VWRU5UUztcbiAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcblxuICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoU2luZ2xlVG91Y2hJbnB1dCwgSW5wdXQsIHtcbiAgICBoYW5kbGVyOiBmdW5jdGlvbiBURWhhbmRsZXIoZXYpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBTSU5HTEVfVE9VQ0hfSU5QVVRfTUFQW2V2LnR5cGVdO1xuXG4gICAgICAgIC8vIHNob3VsZCB3ZSBoYW5kbGUgdGhlIHRvdWNoIGV2ZW50cz9cbiAgICAgICAgaWYgKHR5cGUgPT09IElOUFVUX1NUQVJUKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0b3VjaGVzID0gbm9ybWFsaXplU2luZ2xlVG91Y2hlcy5jYWxsKHRoaXMsIGV2LCB0eXBlKTtcblxuICAgICAgICAvLyB3aGVuIGRvbmUsIHJlc2V0IHRoZSBzdGFydGVkIHN0YXRlXG4gICAgICAgIGlmICh0eXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkgJiYgdG91Y2hlc1swXS5sZW5ndGggLSB0b3VjaGVzWzFdLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgdHlwZSwge1xuICAgICAgICAgICAgcG9pbnRlcnM6IHRvdWNoZXNbMF0sXG4gICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IHRvdWNoZXNbMV0sXG4gICAgICAgICAgICBwb2ludGVyVHlwZTogSU5QVVRfVFlQRV9UT1VDSCxcbiAgICAgICAgICAgIHNyY0V2ZW50OiBldlxuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBAdGhpcyB7VG91Y2hJbnB1dH1cbiAqIEBwYXJhbSB7T2JqZWN0fSBldlxuICogQHBhcmFtIHtOdW1iZXJ9IHR5cGUgZmxhZ1xuICogQHJldHVybnMge3VuZGVmaW5lZHxBcnJheX0gW2FsbCwgY2hhbmdlZF1cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplU2luZ2xlVG91Y2hlcyhldiwgdHlwZSkge1xuICAgIHZhciBhbGwgPSB0b0FycmF5KGV2LnRvdWNoZXMpO1xuICAgIHZhciBjaGFuZ2VkID0gdG9BcnJheShldi5jaGFuZ2VkVG91Y2hlcyk7XG5cbiAgICBpZiAodHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpKSB7XG4gICAgICAgIGFsbCA9IHVuaXF1ZUFycmF5KGFsbC5jb25jYXQoY2hhbmdlZCksICdpZGVudGlmaWVyJywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFthbGwsIGNoYW5nZWRdO1xufVxuXG52YXIgVE9VQ0hfSU5QVVRfTUFQID0ge1xuICAgIHRvdWNoc3RhcnQ6IElOUFVUX1NUQVJULFxuICAgIHRvdWNobW92ZTogSU5QVVRfTU9WRSxcbiAgICB0b3VjaGVuZDogSU5QVVRfRU5ELFxuICAgIHRvdWNoY2FuY2VsOiBJTlBVVF9DQU5DRUxcbn07XG5cbnZhciBUT1VDSF9UQVJHRVRfRVZFTlRTID0gJ3RvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRvdWNoY2FuY2VsJztcblxuLyoqXG4gKiBNdWx0aS11c2VyIHRvdWNoIGV2ZW50cyBpbnB1dFxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBJbnB1dFxuICovXG5mdW5jdGlvbiBUb3VjaElucHV0KCkge1xuICAgIHRoaXMuZXZUYXJnZXQgPSBUT1VDSF9UQVJHRVRfRVZFTlRTO1xuICAgIHRoaXMudGFyZ2V0SWRzID0ge307XG5cbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KFRvdWNoSW5wdXQsIElucHV0LCB7XG4gICAgaGFuZGxlcjogZnVuY3Rpb24gTVRFaGFuZGxlcihldikge1xuICAgICAgICB2YXIgdHlwZSA9IFRPVUNIX0lOUFVUX01BUFtldi50eXBlXTtcbiAgICAgICAgdmFyIHRvdWNoZXMgPSBnZXRUb3VjaGVzLmNhbGwodGhpcywgZXYsIHR5cGUpO1xuICAgICAgICBpZiAoIXRvdWNoZXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLCB0eXBlLCB7XG4gICAgICAgICAgICBwb2ludGVyczogdG91Y2hlc1swXSxcbiAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogdG91Y2hlc1sxXSxcbiAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBJTlBVVF9UWVBFX1RPVUNILFxuICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIEB0aGlzIHtUb3VjaElucHV0fVxuICogQHBhcmFtIHtPYmplY3R9IGV2XG4gKiBAcGFyYW0ge051bWJlcn0gdHlwZSBmbGFnXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfEFycmF5fSBbYWxsLCBjaGFuZ2VkXVxuICovXG5mdW5jdGlvbiBnZXRUb3VjaGVzKGV2LCB0eXBlKSB7XG4gICAgdmFyIGFsbFRvdWNoZXMgPSB0b0FycmF5KGV2LnRvdWNoZXMpO1xuICAgIHZhciB0YXJnZXRJZHMgPSB0aGlzLnRhcmdldElkcztcblxuICAgIC8vIHdoZW4gdGhlcmUgaXMgb25seSBvbmUgdG91Y2gsIHRoZSBwcm9jZXNzIGNhbiBiZSBzaW1wbGlmaWVkXG4gICAgaWYgKHR5cGUgJiAoSU5QVVRfU1RBUlQgfCBJTlBVVF9NT1ZFKSAmJiBhbGxUb3VjaGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICB0YXJnZXRJZHNbYWxsVG91Y2hlc1swXS5pZGVudGlmaWVyXSA9IHRydWU7XG4gICAgICAgIHJldHVybiBbYWxsVG91Y2hlcywgYWxsVG91Y2hlc107XG4gICAgfVxuXG4gICAgdmFyIGksXG4gICAgICAgIHRhcmdldFRvdWNoZXMsXG4gICAgICAgIGNoYW5nZWRUb3VjaGVzID0gdG9BcnJheShldi5jaGFuZ2VkVG91Y2hlcyksXG4gICAgICAgIGNoYW5nZWRUYXJnZXRUb3VjaGVzID0gW10sXG4gICAgICAgIHRhcmdldCA9IHRoaXMudGFyZ2V0O1xuXG4gICAgLy8gZ2V0IHRhcmdldCB0b3VjaGVzIGZyb20gdG91Y2hlc1xuICAgIHRhcmdldFRvdWNoZXMgPSBhbGxUb3VjaGVzLmZpbHRlcihmdW5jdGlvbih0b3VjaCkge1xuICAgICAgICByZXR1cm4gaGFzUGFyZW50KHRvdWNoLnRhcmdldCwgdGFyZ2V0KTtcbiAgICB9KTtcblxuICAgIC8vIGNvbGxlY3QgdG91Y2hlc1xuICAgIGlmICh0eXBlID09PSBJTlBVVF9TVEFSVCkge1xuICAgICAgICBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCB0YXJnZXRUb3VjaGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGFyZ2V0SWRzW3RhcmdldFRvdWNoZXNbaV0uaWRlbnRpZmllcl0gPSB0cnVlO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gZmlsdGVyIGNoYW5nZWQgdG91Y2hlcyB0byBvbmx5IGNvbnRhaW4gdG91Y2hlcyB0aGF0IGV4aXN0IGluIHRoZSBjb2xsZWN0ZWQgdGFyZ2V0IGlkc1xuICAgIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgY2hhbmdlZFRvdWNoZXMubGVuZ3RoKSB7XG4gICAgICAgIGlmICh0YXJnZXRJZHNbY2hhbmdlZFRvdWNoZXNbaV0uaWRlbnRpZmllcl0pIHtcbiAgICAgICAgICAgIGNoYW5nZWRUYXJnZXRUb3VjaGVzLnB1c2goY2hhbmdlZFRvdWNoZXNbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2xlYW51cCByZW1vdmVkIHRvdWNoZXNcbiAgICAgICAgaWYgKHR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuICAgICAgICAgICAgZGVsZXRlIHRhcmdldElkc1tjaGFuZ2VkVG91Y2hlc1tpXS5pZGVudGlmaWVyXTtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuXG4gICAgaWYgKCFjaGFuZ2VkVGFyZ2V0VG91Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBbXG4gICAgICAgIC8vIG1lcmdlIHRhcmdldFRvdWNoZXMgd2l0aCBjaGFuZ2VkVGFyZ2V0VG91Y2hlcyBzbyBpdCBjb250YWlucyBBTEwgdG91Y2hlcywgaW5jbHVkaW5nICdlbmQnIGFuZCAnY2FuY2VsJ1xuICAgICAgICB1bmlxdWVBcnJheSh0YXJnZXRUb3VjaGVzLmNvbmNhdChjaGFuZ2VkVGFyZ2V0VG91Y2hlcyksICdpZGVudGlmaWVyJywgdHJ1ZSksXG4gICAgICAgIGNoYW5nZWRUYXJnZXRUb3VjaGVzXG4gICAgXTtcbn1cblxuLyoqXG4gKiBDb21iaW5lZCB0b3VjaCBhbmQgbW91c2UgaW5wdXRcbiAqXG4gKiBUb3VjaCBoYXMgYSBoaWdoZXIgcHJpb3JpdHkgdGhlbiBtb3VzZSwgYW5kIHdoaWxlIHRvdWNoaW5nIG5vIG1vdXNlIGV2ZW50cyBhcmUgYWxsb3dlZC5cbiAqIFRoaXMgYmVjYXVzZSB0b3VjaCBkZXZpY2VzIGFsc28gZW1pdCBtb3VzZSBldmVudHMgd2hpbGUgZG9pbmcgYSB0b3VjaC5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cblxudmFyIERFRFVQX1RJTUVPVVQgPSAyNTAwO1xudmFyIERFRFVQX0RJU1RBTkNFID0gMjU7XG5cbmZ1bmN0aW9uIFRvdWNoTW91c2VJbnB1dCgpIHtcbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdmFyIGhhbmRsZXIgPSBiaW5kRm4odGhpcy5oYW5kbGVyLCB0aGlzKTtcbiAgICB0aGlzLnRvdWNoID0gbmV3IFRvdWNoSW5wdXQodGhpcy5tYW5hZ2VyLCBoYW5kbGVyKTtcbiAgICB0aGlzLm1vdXNlID0gbmV3IE1vdXNlSW5wdXQodGhpcy5tYW5hZ2VyLCBoYW5kbGVyKTtcblxuICAgIHRoaXMucHJpbWFyeVRvdWNoID0gbnVsbDtcbiAgICB0aGlzLmxhc3RUb3VjaGVzID0gW107XG59XG5cbmluaGVyaXQoVG91Y2hNb3VzZUlucHV0LCBJbnB1dCwge1xuICAgIC8qKlxuICAgICAqIGhhbmRsZSBtb3VzZSBhbmQgdG91Y2ggZXZlbnRzXG4gICAgICogQHBhcmFtIHtIYW1tZXJ9IG1hbmFnZXJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXRFdmVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcbiAgICAgKi9cbiAgICBoYW5kbGVyOiBmdW5jdGlvbiBUTUVoYW5kbGVyKG1hbmFnZXIsIGlucHV0RXZlbnQsIGlucHV0RGF0YSkge1xuICAgICAgICB2YXIgaXNUb3VjaCA9IChpbnB1dERhdGEucG9pbnRlclR5cGUgPT0gSU5QVVRfVFlQRV9UT1VDSCksXG4gICAgICAgICAgICBpc01vdXNlID0gKGlucHV0RGF0YS5wb2ludGVyVHlwZSA9PSBJTlBVVF9UWVBFX01PVVNFKTtcblxuICAgICAgICBpZiAoaXNNb3VzZSAmJiBpbnB1dERhdGEuc291cmNlQ2FwYWJpbGl0aWVzICYmIGlucHV0RGF0YS5zb3VyY2VDYXBhYmlsaXRpZXMuZmlyZXNUb3VjaEV2ZW50cykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2hlbiB3ZSdyZSBpbiBhIHRvdWNoIGV2ZW50LCByZWNvcmQgdG91Y2hlcyB0byAgZGUtZHVwZSBzeW50aGV0aWMgbW91c2UgZXZlbnRcbiAgICAgICAgaWYgKGlzVG91Y2gpIHtcbiAgICAgICAgICAgIHJlY29yZFRvdWNoZXMuY2FsbCh0aGlzLCBpbnB1dEV2ZW50LCBpbnB1dERhdGEpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzTW91c2UgJiYgaXNTeW50aGV0aWNFdmVudC5jYWxsKHRoaXMsIGlucHV0RGF0YSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FsbGJhY2sobWFuYWdlciwgaW5wdXRFdmVudCwgaW5wdXREYXRhKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVtb3ZlIHRoZSBldmVudCBsaXN0ZW5lcnNcbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnRvdWNoLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5tb3VzZS5kZXN0cm95KCk7XG4gICAgfVxufSk7XG5cbmZ1bmN0aW9uIHJlY29yZFRvdWNoZXMoZXZlbnRUeXBlLCBldmVudERhdGEpIHtcbiAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQpIHtcbiAgICAgICAgdGhpcy5wcmltYXJ5VG91Y2ggPSBldmVudERhdGEuY2hhbmdlZFBvaW50ZXJzWzBdLmlkZW50aWZpZXI7XG4gICAgICAgIHNldExhc3RUb3VjaC5jYWxsKHRoaXMsIGV2ZW50RGF0YSk7XG4gICAgfSBlbHNlIGlmIChldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuICAgICAgICBzZXRMYXN0VG91Y2guY2FsbCh0aGlzLCBldmVudERhdGEpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2V0TGFzdFRvdWNoKGV2ZW50RGF0YSkge1xuICAgIHZhciB0b3VjaCA9IGV2ZW50RGF0YS5jaGFuZ2VkUG9pbnRlcnNbMF07XG5cbiAgICBpZiAodG91Y2guaWRlbnRpZmllciA9PT0gdGhpcy5wcmltYXJ5VG91Y2gpIHtcbiAgICAgICAgdmFyIGxhc3RUb3VjaCA9IHt4OiB0b3VjaC5jbGllbnRYLCB5OiB0b3VjaC5jbGllbnRZfTtcbiAgICAgICAgdGhpcy5sYXN0VG91Y2hlcy5wdXNoKGxhc3RUb3VjaCk7XG4gICAgICAgIHZhciBsdHMgPSB0aGlzLmxhc3RUb3VjaGVzO1xuICAgICAgICB2YXIgcmVtb3ZlTGFzdFRvdWNoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaSA9IGx0cy5pbmRleE9mKGxhc3RUb3VjaCk7XG4gICAgICAgICAgICBpZiAoaSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgbHRzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgc2V0VGltZW91dChyZW1vdmVMYXN0VG91Y2gsIERFRFVQX1RJTUVPVVQpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNTeW50aGV0aWNFdmVudChldmVudERhdGEpIHtcbiAgICB2YXIgeCA9IGV2ZW50RGF0YS5zcmNFdmVudC5jbGllbnRYLCB5ID0gZXZlbnREYXRhLnNyY0V2ZW50LmNsaWVudFk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxhc3RUb3VjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0ID0gdGhpcy5sYXN0VG91Y2hlc1tpXTtcbiAgICAgICAgdmFyIGR4ID0gTWF0aC5hYnMoeCAtIHQueCksIGR5ID0gTWF0aC5hYnMoeSAtIHQueSk7XG4gICAgICAgIGlmIChkeCA8PSBERURVUF9ESVNUQU5DRSAmJiBkeSA8PSBERURVUF9ESVNUQU5DRSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG52YXIgUFJFRklYRURfVE9VQ0hfQUNUSU9OID0gcHJlZml4ZWQoVEVTVF9FTEVNRU5ULnN0eWxlLCAndG91Y2hBY3Rpb24nKTtcbnZhciBOQVRJVkVfVE9VQ0hfQUNUSU9OID0gUFJFRklYRURfVE9VQ0hfQUNUSU9OICE9PSB1bmRlZmluZWQ7XG5cbi8vIG1hZ2ljYWwgdG91Y2hBY3Rpb24gdmFsdWVcbnZhciBUT1VDSF9BQ1RJT05fQ09NUFVURSA9ICdjb21wdXRlJztcbnZhciBUT1VDSF9BQ1RJT05fQVVUTyA9ICdhdXRvJztcbnZhciBUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OID0gJ21hbmlwdWxhdGlvbic7IC8vIG5vdCBpbXBsZW1lbnRlZFxudmFyIFRPVUNIX0FDVElPTl9OT05FID0gJ25vbmUnO1xudmFyIFRPVUNIX0FDVElPTl9QQU5fWCA9ICdwYW4teCc7XG52YXIgVE9VQ0hfQUNUSU9OX1BBTl9ZID0gJ3Bhbi15JztcbnZhciBUT1VDSF9BQ1RJT05fTUFQID0gZ2V0VG91Y2hBY3Rpb25Qcm9wcygpO1xuXG4vKipcbiAqIFRvdWNoIEFjdGlvblxuICogc2V0cyB0aGUgdG91Y2hBY3Rpb24gcHJvcGVydHkgb3IgdXNlcyB0aGUganMgYWx0ZXJuYXRpdmVcbiAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlclxuICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gVG91Y2hBY3Rpb24obWFuYWdlciwgdmFsdWUpIHtcbiAgICB0aGlzLm1hbmFnZXIgPSBtYW5hZ2VyO1xuICAgIHRoaXMuc2V0KHZhbHVlKTtcbn1cblxuVG91Y2hBY3Rpb24ucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIHNldCB0aGUgdG91Y2hBY3Rpb24gdmFsdWUgb24gdGhlIGVsZW1lbnQgb3IgZW5hYmxlIHRoZSBwb2x5ZmlsbFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZVxuICAgICAqL1xuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgLy8gZmluZCBvdXQgdGhlIHRvdWNoLWFjdGlvbiBieSB0aGUgZXZlbnQgaGFuZGxlcnNcbiAgICAgICAgaWYgKHZhbHVlID09IFRPVUNIX0FDVElPTl9DT01QVVRFKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuY29tcHV0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKE5BVElWRV9UT1VDSF9BQ1RJT04gJiYgdGhpcy5tYW5hZ2VyLmVsZW1lbnQuc3R5bGUgJiYgVE9VQ0hfQUNUSU9OX01BUFt2YWx1ZV0pIHtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbGVtZW50LnN0eWxlW1BSRUZJWEVEX1RPVUNIX0FDVElPTl0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGlvbnMgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICoganVzdCByZS1zZXQgdGhlIHRvdWNoQWN0aW9uIHZhbHVlXG4gICAgICovXG4gICAgdXBkYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5zZXQodGhpcy5tYW5hZ2VyLm9wdGlvbnMudG91Y2hBY3Rpb24pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjb21wdXRlIHRoZSB2YWx1ZSBmb3IgdGhlIHRvdWNoQWN0aW9uIHByb3BlcnR5IGJhc2VkIG9uIHRoZSByZWNvZ25pemVyJ3Mgc2V0dGluZ3NcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSB2YWx1ZVxuICAgICAqL1xuICAgIGNvbXB1dGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYWN0aW9ucyA9IFtdO1xuICAgICAgICBlYWNoKHRoaXMubWFuYWdlci5yZWNvZ25pemVycywgZnVuY3Rpb24ocmVjb2duaXplcikge1xuICAgICAgICAgICAgaWYgKGJvb2xPckZuKHJlY29nbml6ZXIub3B0aW9ucy5lbmFibGUsIFtyZWNvZ25pemVyXSkpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb25zID0gYWN0aW9ucy5jb25jYXQocmVjb2duaXplci5nZXRUb3VjaEFjdGlvbigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjbGVhblRvdWNoQWN0aW9ucyhhY3Rpb25zLmpvaW4oJyAnKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHRoaXMgbWV0aG9kIGlzIGNhbGxlZCBvbiBlYWNoIGlucHV0IGN5Y2xlIGFuZCBwcm92aWRlcyB0aGUgcHJldmVudGluZyBvZiB0aGUgYnJvd3NlciBiZWhhdmlvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqL1xuICAgIHByZXZlbnREZWZhdWx0czogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIHNyY0V2ZW50ID0gaW5wdXQuc3JjRXZlbnQ7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBpbnB1dC5vZmZzZXREaXJlY3Rpb247XG5cbiAgICAgICAgLy8gaWYgdGhlIHRvdWNoIGFjdGlvbiBkaWQgcHJldmVudGVkIG9uY2UgdGhpcyBzZXNzaW9uXG4gICAgICAgIGlmICh0aGlzLm1hbmFnZXIuc2Vzc2lvbi5wcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgIHNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYWN0aW9ucyA9IHRoaXMuYWN0aW9ucztcbiAgICAgICAgdmFyIGhhc05vbmUgPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fTk9ORSkgJiYgIVRPVUNIX0FDVElPTl9NQVBbVE9VQ0hfQUNUSU9OX05PTkVdO1xuICAgICAgICB2YXIgaGFzUGFuWSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWSkgJiYgIVRPVUNIX0FDVElPTl9NQVBbVE9VQ0hfQUNUSU9OX1BBTl9ZXTtcbiAgICAgICAgdmFyIGhhc1BhblggPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1gpICYmICFUT1VDSF9BQ1RJT05fTUFQW1RPVUNIX0FDVElPTl9QQU5fWF07XG5cbiAgICAgICAgaWYgKGhhc05vbmUpIHtcbiAgICAgICAgICAgIC8vZG8gbm90IHByZXZlbnQgZGVmYXVsdHMgaWYgdGhpcyBpcyBhIHRhcCBnZXN0dXJlXG5cbiAgICAgICAgICAgIHZhciBpc1RhcFBvaW50ZXIgPSBpbnB1dC5wb2ludGVycy5sZW5ndGggPT09IDE7XG4gICAgICAgICAgICB2YXIgaXNUYXBNb3ZlbWVudCA9IGlucHV0LmRpc3RhbmNlIDwgMjtcbiAgICAgICAgICAgIHZhciBpc1RhcFRvdWNoVGltZSA9IGlucHV0LmRlbHRhVGltZSA8IDI1MDtcblxuICAgICAgICAgICAgaWYgKGlzVGFwUG9pbnRlciAmJiBpc1RhcE1vdmVtZW50ICYmIGlzVGFwVG91Y2hUaW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc1BhblggJiYgaGFzUGFuWSkge1xuICAgICAgICAgICAgLy8gYHBhbi14IHBhbi15YCBtZWFucyBicm93c2VyIGhhbmRsZXMgYWxsIHNjcm9sbGluZy9wYW5uaW5nLCBkbyBub3QgcHJldmVudFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc05vbmUgfHxcbiAgICAgICAgICAgIChoYXNQYW5ZICYmIGRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB8fFxuICAgICAgICAgICAgKGhhc1BhblggJiYgZGlyZWN0aW9uICYgRElSRUNUSU9OX1ZFUlRJQ0FMKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJldmVudFNyYyhzcmNFdmVudCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY2FsbCBwcmV2ZW50RGVmYXVsdCB0byBwcmV2ZW50IHRoZSBicm93c2VyJ3MgZGVmYXVsdCBiZWhhdmlvciAoc2Nyb2xsaW5nIGluIG1vc3QgY2FzZXMpXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNyY0V2ZW50XG4gICAgICovXG4gICAgcHJldmVudFNyYzogZnVuY3Rpb24oc3JjRXZlbnQpIHtcbiAgICAgICAgdGhpcy5tYW5hZ2VyLnNlc3Npb24ucHJldmVudGVkID0gdHJ1ZTtcbiAgICAgICAgc3JjRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIHdoZW4gdGhlIHRvdWNoQWN0aW9ucyBhcmUgY29sbGVjdGVkIHRoZXkgYXJlIG5vdCBhIHZhbGlkIHZhbHVlLCBzbyB3ZSBuZWVkIHRvIGNsZWFuIHRoaW5ncyB1cC4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGFjdGlvbnNcbiAqIEByZXR1cm5zIHsqfVxuICovXG5mdW5jdGlvbiBjbGVhblRvdWNoQWN0aW9ucyhhY3Rpb25zKSB7XG4gICAgLy8gbm9uZVxuICAgIGlmIChpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fTk9ORSkpIHtcbiAgICAgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9OT05FO1xuICAgIH1cblxuICAgIHZhciBoYXNQYW5YID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX1BBTl9YKTtcbiAgICB2YXIgaGFzUGFuWSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWSk7XG5cbiAgICAvLyBpZiBib3RoIHBhbi14IGFuZCBwYW4teSBhcmUgc2V0IChkaWZmZXJlbnQgcmVjb2duaXplcnNcbiAgICAvLyBmb3IgZGlmZmVyZW50IGRpcmVjdGlvbnMsIGUuZy4gaG9yaXpvbnRhbCBwYW4gYnV0IHZlcnRpY2FsIHN3aXBlPylcbiAgICAvLyB3ZSBuZWVkIG5vbmUgKGFzIG90aGVyd2lzZSB3aXRoIHBhbi14IHBhbi15IGNvbWJpbmVkIG5vbmUgb2YgdGhlc2VcbiAgICAvLyByZWNvZ25pemVycyB3aWxsIHdvcmssIHNpbmNlIHRoZSBicm93c2VyIHdvdWxkIGhhbmRsZSBhbGwgcGFubmluZ1xuICAgIGlmIChoYXNQYW5YICYmIGhhc1BhblkpIHtcbiAgICAgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9OT05FO1xuICAgIH1cblxuICAgIC8vIHBhbi14IE9SIHBhbi15XG4gICAgaWYgKGhhc1BhblggfHwgaGFzUGFuWSkge1xuICAgICAgICByZXR1cm4gaGFzUGFuWCA/IFRPVUNIX0FDVElPTl9QQU5fWCA6IFRPVUNIX0FDVElPTl9QQU5fWTtcbiAgICB9XG5cbiAgICAvLyBtYW5pcHVsYXRpb25cbiAgICBpZiAoaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTikpIHtcbiAgICAgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9NQU5JUFVMQVRJT047XG4gICAgfVxuXG4gICAgcmV0dXJuIFRPVUNIX0FDVElPTl9BVVRPO1xufVxuXG5mdW5jdGlvbiBnZXRUb3VjaEFjdGlvblByb3BzKCkge1xuICAgIGlmICghTkFUSVZFX1RPVUNIX0FDVElPTikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciB0b3VjaE1hcCA9IHt9O1xuICAgIHZhciBjc3NTdXBwb3J0cyA9IHdpbmRvdy5DU1MgJiYgd2luZG93LkNTUy5zdXBwb3J0cztcbiAgICBbJ2F1dG8nLCAnbWFuaXB1bGF0aW9uJywgJ3Bhbi15JywgJ3Bhbi14JywgJ3Bhbi14IHBhbi15JywgJ25vbmUnXS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCkge1xuXG4gICAgICAgIC8vIElmIGNzcy5zdXBwb3J0cyBpcyBub3Qgc3VwcG9ydGVkIGJ1dCB0aGVyZSBpcyBuYXRpdmUgdG91Y2gtYWN0aW9uIGFzc3VtZSBpdCBzdXBwb3J0c1xuICAgICAgICAvLyBhbGwgdmFsdWVzLiBUaGlzIGlzIHRoZSBjYXNlIGZvciBJRSAxMCBhbmQgMTEuXG4gICAgICAgIHRvdWNoTWFwW3ZhbF0gPSBjc3NTdXBwb3J0cyA/IHdpbmRvdy5DU1Muc3VwcG9ydHMoJ3RvdWNoLWFjdGlvbicsIHZhbCkgOiB0cnVlO1xuICAgIH0pO1xuICAgIHJldHVybiB0b3VjaE1hcDtcbn1cblxuLyoqXG4gKiBSZWNvZ25pemVyIGZsb3cgZXhwbGFpbmVkOyAqXG4gKiBBbGwgcmVjb2duaXplcnMgaGF2ZSB0aGUgaW5pdGlhbCBzdGF0ZSBvZiBQT1NTSUJMRSB3aGVuIGEgaW5wdXQgc2Vzc2lvbiBzdGFydHMuXG4gKiBUaGUgZGVmaW5pdGlvbiBvZiBhIGlucHV0IHNlc3Npb24gaXMgZnJvbSB0aGUgZmlyc3QgaW5wdXQgdW50aWwgdGhlIGxhc3QgaW5wdXQsIHdpdGggYWxsIGl0J3MgbW92ZW1lbnQgaW4gaXQuICpcbiAqIEV4YW1wbGUgc2Vzc2lvbiBmb3IgbW91c2UtaW5wdXQ6IG1vdXNlZG93biAtPiBtb3VzZW1vdmUgLT4gbW91c2V1cFxuICpcbiAqIE9uIGVhY2ggcmVjb2duaXppbmcgY3ljbGUgKHNlZSBNYW5hZ2VyLnJlY29nbml6ZSkgdGhlIC5yZWNvZ25pemUoKSBtZXRob2QgaXMgZXhlY3V0ZWRcbiAqIHdoaWNoIGRldGVybWluZXMgd2l0aCBzdGF0ZSBpdCBzaG91bGQgYmUuXG4gKlxuICogSWYgdGhlIHJlY29nbml6ZXIgaGFzIHRoZSBzdGF0ZSBGQUlMRUQsIENBTkNFTExFRCBvciBSRUNPR05JWkVEIChlcXVhbHMgRU5ERUQpLCBpdCBpcyByZXNldCB0b1xuICogUE9TU0lCTEUgdG8gZ2l2ZSBpdCBhbm90aGVyIGNoYW5nZSBvbiB0aGUgbmV4dCBjeWNsZS5cbiAqXG4gKiAgICAgICAgICAgICAgIFBvc3NpYmxlXG4gKiAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgICAgICAgKy0tLS0tKy0tLS0tLS0tLS0tLS0tLStcbiAqICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgKy0tLS0tKy0tLS0tKyAgICAgICAgICAgICAgIHxcbiAqICAgICAgfCAgICAgICAgICAgfCAgICAgICAgICAgICAgIHxcbiAqICAgRmFpbGVkICAgICAgQ2FuY2VsbGVkICAgICAgICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICArLS0tLS0tLSstLS0tLS0rXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgICAgICAgICAgUmVjb2duaXplZCAgICAgICBCZWdhblxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGFuZ2VkXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRW5kZWQvUmVjb2duaXplZFxuICovXG52YXIgU1RBVEVfUE9TU0lCTEUgPSAxO1xudmFyIFNUQVRFX0JFR0FOID0gMjtcbnZhciBTVEFURV9DSEFOR0VEID0gNDtcbnZhciBTVEFURV9FTkRFRCA9IDg7XG52YXIgU1RBVEVfUkVDT0dOSVpFRCA9IFNUQVRFX0VOREVEO1xudmFyIFNUQVRFX0NBTkNFTExFRCA9IDE2O1xudmFyIFNUQVRFX0ZBSUxFRCA9IDMyO1xuXG4vKipcbiAqIFJlY29nbml6ZXJcbiAqIEV2ZXJ5IHJlY29nbml6ZXIgbmVlZHMgdG8gZXh0ZW5kIGZyb20gdGhpcyBjbGFzcy5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqL1xuZnVuY3Rpb24gUmVjb2duaXplcihvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRzLCBvcHRpb25zIHx8IHt9KTtcblxuICAgIHRoaXMuaWQgPSB1bmlxdWVJZCgpO1xuXG4gICAgdGhpcy5tYW5hZ2VyID0gbnVsbDtcblxuICAgIC8vIGRlZmF1bHQgaXMgZW5hYmxlIHRydWVcbiAgICB0aGlzLm9wdGlvbnMuZW5hYmxlID0gaWZVbmRlZmluZWQodGhpcy5vcHRpb25zLmVuYWJsZSwgdHJ1ZSk7XG5cbiAgICB0aGlzLnN0YXRlID0gU1RBVEVfUE9TU0lCTEU7XG5cbiAgICB0aGlzLnNpbXVsdGFuZW91cyA9IHt9O1xuICAgIHRoaXMucmVxdWlyZUZhaWwgPSBbXTtcbn1cblxuUmVjb2duaXplci5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogQHZpcnR1YWxcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7fSxcblxuICAgIC8qKlxuICAgICAqIHNldCBvcHRpb25zXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHtSZWNvZ25pemVyfVxuICAgICAqL1xuICAgIHNldDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICBhc3NpZ24odGhpcy5vcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICAvLyBhbHNvIHVwZGF0ZSB0aGUgdG91Y2hBY3Rpb24sIGluIGNhc2Ugc29tZXRoaW5nIGNoYW5nZWQgYWJvdXQgdGhlIGRpcmVjdGlvbnMvZW5hYmxlZCBzdGF0ZVxuICAgICAgICB0aGlzLm1hbmFnZXIgJiYgdGhpcy5tYW5hZ2VyLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVjb2duaXplIHNpbXVsdGFuZW91cyB3aXRoIGFuIG90aGVyIHJlY29nbml6ZXIuXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuICAgICAqL1xuICAgIHJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAncmVjb2duaXplV2l0aCcsIHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzaW11bHRhbmVvdXMgPSB0aGlzLnNpbXVsdGFuZW91cztcbiAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuICAgICAgICBpZiAoIXNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdKSB7XG4gICAgICAgICAgICBzaW11bHRhbmVvdXNbb3RoZXJSZWNvZ25pemVyLmlkXSA9IG90aGVyUmVjb2duaXplcjtcbiAgICAgICAgICAgIG90aGVyUmVjb2duaXplci5yZWNvZ25pemVXaXRoKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBkcm9wIHRoZSBzaW11bHRhbmVvdXMgbGluay4gaXQgZG9lc250IHJlbW92ZSB0aGUgbGluayBvbiB0aGUgb3RoZXIgcmVjb2duaXplci5cbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfSB0aGlzXG4gICAgICovXG4gICAgZHJvcFJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAnZHJvcFJlY29nbml6ZVdpdGgnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVjb2duaXplciBjYW4gb25seSBydW4gd2hlbiBhbiBvdGhlciBpcyBmYWlsaW5nXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuICAgICAqL1xuICAgIHJlcXVpcmVGYWlsdXJlOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ3JlcXVpcmVGYWlsdXJlJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlcXVpcmVGYWlsID0gdGhpcy5yZXF1aXJlRmFpbDtcbiAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuICAgICAgICBpZiAoaW5BcnJheShyZXF1aXJlRmFpbCwgb3RoZXJSZWNvZ25pemVyKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJlcXVpcmVGYWlsLnB1c2gob3RoZXJSZWNvZ25pemVyKTtcbiAgICAgICAgICAgIG90aGVyUmVjb2duaXplci5yZXF1aXJlRmFpbHVyZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZHJvcCB0aGUgcmVxdWlyZUZhaWx1cmUgbGluay4gaXQgZG9lcyBub3QgcmVtb3ZlIHRoZSBsaW5rIG9uIHRoZSBvdGhlciByZWNvZ25pemVyLlxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICBkcm9wUmVxdWlyZUZhaWx1cmU6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAnZHJvcFJlcXVpcmVGYWlsdXJlJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuICAgICAgICB2YXIgaW5kZXggPSBpbkFycmF5KHRoaXMucmVxdWlyZUZhaWwsIG90aGVyUmVjb2duaXplcik7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLnJlcXVpcmVGYWlsLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGhhcyByZXF1aXJlIGZhaWx1cmVzIGJvb2xlYW5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBoYXNSZXF1aXJlRmFpbHVyZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1aXJlRmFpbC5sZW5ndGggPiAwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBpZiB0aGUgcmVjb2duaXplciBjYW4gcmVjb2duaXplIHNpbXVsdGFuZW91cyB3aXRoIGFuIG90aGVyIHJlY29nbml6ZXJcbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqL1xuICAgIGNhblJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICByZXR1cm4gISF0aGlzLnNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBZb3Ugc2hvdWxkIHVzZSBgdHJ5RW1pdGAgaW5zdGVhZCBvZiBgZW1pdGAgZGlyZWN0bHkgdG8gY2hlY2tcbiAgICAgKiB0aGF0IGFsbCB0aGUgbmVlZGVkIHJlY29nbml6ZXJzIGhhcyBmYWlsZWQgYmVmb3JlIGVtaXR0aW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqL1xuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcblxuICAgICAgICBmdW5jdGlvbiBlbWl0KGV2ZW50KSB7XG4gICAgICAgICAgICBzZWxmLm1hbmFnZXIuZW1pdChldmVudCwgaW5wdXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gJ3BhbnN0YXJ0JyBhbmQgJ3Bhbm1vdmUnXG4gICAgICAgIGlmIChzdGF0ZSA8IFNUQVRFX0VOREVEKSB7XG4gICAgICAgICAgICBlbWl0KHNlbGYub3B0aW9ucy5ldmVudCArIHN0YXRlU3RyKHN0YXRlKSk7XG4gICAgICAgIH1cblxuICAgICAgICBlbWl0KHNlbGYub3B0aW9ucy5ldmVudCk7IC8vIHNpbXBsZSAnZXZlbnROYW1lJyBldmVudHNcblxuICAgICAgICBpZiAoaW5wdXQuYWRkaXRpb25hbEV2ZW50KSB7IC8vIGFkZGl0aW9uYWwgZXZlbnQocGFubGVmdCwgcGFucmlnaHQsIHBpbmNoaW4sIHBpbmNob3V0Li4uKVxuICAgICAgICAgICAgZW1pdChpbnB1dC5hZGRpdGlvbmFsRXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcGFuZW5kIGFuZCBwYW5jYW5jZWxcbiAgICAgICAgaWYgKHN0YXRlID49IFNUQVRFX0VOREVEKSB7XG4gICAgICAgICAgICBlbWl0KHNlbGYub3B0aW9ucy5ldmVudCArIHN0YXRlU3RyKHN0YXRlKSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgdGhhdCBhbGwgdGhlIHJlcXVpcmUgZmFpbHVyZSByZWNvZ25pemVycyBoYXMgZmFpbGVkLFxuICAgICAqIGlmIHRydWUsIGl0IGVtaXRzIGEgZ2VzdHVyZSBldmVudCxcbiAgICAgKiBvdGhlcndpc2UsIHNldHVwIHRoZSBzdGF0ZSB0byBGQUlMRUQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICovXG4gICAgdHJ5RW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuRW1pdCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbWl0KGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpdCdzIGZhaWxpbmcgYW55d2F5XG4gICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9GQUlMRUQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNhbiB3ZSBlbWl0P1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGNhbkVtaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgdGhpcy5yZXF1aXJlRmFpbC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICghKHRoaXMucmVxdWlyZUZhaWxbaV0uc3RhdGUgJiAoU1RBVEVfRkFJTEVEIHwgU1RBVEVfUE9TU0lCTEUpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdXBkYXRlIHRoZSByZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuICAgICAqL1xuICAgIHJlY29nbml6ZTogZnVuY3Rpb24oaW5wdXREYXRhKSB7XG4gICAgICAgIC8vIG1ha2UgYSBuZXcgY29weSBvZiB0aGUgaW5wdXREYXRhXG4gICAgICAgIC8vIHNvIHdlIGNhbiBjaGFuZ2UgdGhlIGlucHV0RGF0YSB3aXRob3V0IG1lc3NpbmcgdXAgdGhlIG90aGVyIHJlY29nbml6ZXJzXG4gICAgICAgIHZhciBpbnB1dERhdGFDbG9uZSA9IGFzc2lnbih7fSwgaW5wdXREYXRhKTtcblxuICAgICAgICAvLyBpcyBpcyBlbmFibGVkIGFuZCBhbGxvdyByZWNvZ25pemluZz9cbiAgICAgICAgaWYgKCFib29sT3JGbih0aGlzLm9wdGlvbnMuZW5hYmxlLCBbdGhpcywgaW5wdXREYXRhQ2xvbmVdKSkge1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX0ZBSUxFRDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlc2V0IHdoZW4gd2UndmUgcmVhY2hlZCB0aGUgZW5kXG4gICAgICAgIGlmICh0aGlzLnN0YXRlICYgKFNUQVRFX1JFQ09HTklaRUQgfCBTVEFURV9DQU5DRUxMRUQgfCBTVEFURV9GQUlMRUQpKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfUE9TU0lCTEU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy5wcm9jZXNzKGlucHV0RGF0YUNsb25lKTtcblxuICAgICAgICAvLyB0aGUgcmVjb2duaXplciBoYXMgcmVjb2duaXplZCBhIGdlc3R1cmVcbiAgICAgICAgLy8gc28gdHJpZ2dlciBhbiBldmVudFxuICAgICAgICBpZiAodGhpcy5zdGF0ZSAmIChTVEFURV9CRUdBTiB8IFNUQVRFX0NIQU5HRUQgfCBTVEFURV9FTkRFRCB8IFNUQVRFX0NBTkNFTExFRCkpIHtcbiAgICAgICAgICAgIHRoaXMudHJ5RW1pdChpbnB1dERhdGFDbG9uZSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIHRoZSBzdGF0ZSBvZiB0aGUgcmVjb2duaXplclxuICAgICAqIHRoZSBhY3R1YWwgcmVjb2duaXppbmcgaGFwcGVucyBpbiB0aGlzIG1ldGhvZFxuICAgICAqIEB2aXJ0dWFsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuICAgICAqIEByZXR1cm5zIHtDb25zdH0gU1RBVEVcbiAgICAgKi9cbiAgICBwcm9jZXNzOiBmdW5jdGlvbihpbnB1dERhdGEpIHsgfSwgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbiAgICAvKipcbiAgICAgKiByZXR1cm4gdGhlIHByZWZlcnJlZCB0b3VjaC1hY3Rpb25cbiAgICAgKiBAdmlydHVhbFxuICAgICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICAgKi9cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7IH0sXG5cbiAgICAvKipcbiAgICAgKiBjYWxsZWQgd2hlbiB0aGUgZ2VzdHVyZSBpc24ndCBhbGxvd2VkIHRvIHJlY29nbml6ZVxuICAgICAqIGxpa2Ugd2hlbiBhbm90aGVyIGlzIGJlaW5nIHJlY29nbml6ZWQgb3IgaXQgaXMgZGlzYWJsZWRcbiAgICAgKiBAdmlydHVhbFxuICAgICAqL1xuICAgIHJlc2V0OiBmdW5jdGlvbigpIHsgfVxufTtcblxuLyoqXG4gKiBnZXQgYSB1c2FibGUgc3RyaW5nLCB1c2VkIGFzIGV2ZW50IHBvc3RmaXhcbiAqIEBwYXJhbSB7Q29uc3R9IHN0YXRlXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdGF0ZVxuICovXG5mdW5jdGlvbiBzdGF0ZVN0cihzdGF0ZSkge1xuICAgIGlmIChzdGF0ZSAmIFNUQVRFX0NBTkNFTExFRCkge1xuICAgICAgICByZXR1cm4gJ2NhbmNlbCc7XG4gICAgfSBlbHNlIGlmIChzdGF0ZSAmIFNUQVRFX0VOREVEKSB7XG4gICAgICAgIHJldHVybiAnZW5kJztcbiAgICB9IGVsc2UgaWYgKHN0YXRlICYgU1RBVEVfQ0hBTkdFRCkge1xuICAgICAgICByZXR1cm4gJ21vdmUnO1xuICAgIH0gZWxzZSBpZiAoc3RhdGUgJiBTVEFURV9CRUdBTikge1xuICAgICAgICByZXR1cm4gJ3N0YXJ0JztcbiAgICB9XG4gICAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIGRpcmVjdGlvbiBjb25zIHRvIHN0cmluZ1xuICogQHBhcmFtIHtDb25zdH0gZGlyZWN0aW9uXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICovXG5mdW5jdGlvbiBkaXJlY3Rpb25TdHIoZGlyZWN0aW9uKSB7XG4gICAgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fRE9XTikge1xuICAgICAgICByZXR1cm4gJ2Rvd24nO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9VUCkge1xuICAgICAgICByZXR1cm4gJ3VwJztcbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fTEVGVCkge1xuICAgICAgICByZXR1cm4gJ2xlZnQnO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9SSUdIVCkge1xuICAgICAgICByZXR1cm4gJ3JpZ2h0JztcbiAgICB9XG4gICAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIGdldCBhIHJlY29nbml6ZXIgYnkgbmFtZSBpZiBpdCBpcyBib3VuZCB0byBhIG1hbmFnZXJcbiAqIEBwYXJhbSB7UmVjb2duaXplcnxTdHJpbmd9IG90aGVyUmVjb2duaXplclxuICogQHBhcmFtIHtSZWNvZ25pemVyfSByZWNvZ25pemVyXG4gKiBAcmV0dXJucyB7UmVjb2duaXplcn1cbiAqL1xuZnVuY3Rpb24gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHJlY29nbml6ZXIpIHtcbiAgICB2YXIgbWFuYWdlciA9IHJlY29nbml6ZXIubWFuYWdlcjtcbiAgICBpZiAobWFuYWdlcikge1xuICAgICAgICByZXR1cm4gbWFuYWdlci5nZXQob3RoZXJSZWNvZ25pemVyKTtcbiAgICB9XG4gICAgcmV0dXJuIG90aGVyUmVjb2duaXplcjtcbn1cblxuLyoqXG4gKiBUaGlzIHJlY29nbml6ZXIgaXMganVzdCB1c2VkIGFzIGEgYmFzZSBmb3IgdGhlIHNpbXBsZSBhdHRyaWJ1dGUgcmVjb2duaXplcnMuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIFJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gQXR0clJlY29nbml6ZXIoKSB7XG4gICAgUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KEF0dHJSZWNvZ25pemVyLCBSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBBdHRyUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBwb2ludGVyczogMVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGNoZWNrIGlmIGl0IHRoZSByZWNvZ25pemVyIHJlY2VpdmVzIHZhbGlkIGlucHV0LCBsaWtlIGlucHV0LmRpc3RhbmNlID4gMTAuXG4gICAgICogQG1lbWJlcm9mIEF0dHJSZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IHJlY29nbml6ZWRcbiAgICAgKi9cbiAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIG9wdGlvblBvaW50ZXJzID0gdGhpcy5vcHRpb25zLnBvaW50ZXJzO1xuICAgICAgICByZXR1cm4gb3B0aW9uUG9pbnRlcnMgPT09IDAgfHwgaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25Qb2ludGVycztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUHJvY2VzcyB0aGUgaW5wdXQgYW5kIHJldHVybiB0aGUgc3RhdGUgZm9yIHRoZSByZWNvZ25pemVyXG4gICAgICogQG1lbWJlcm9mIEF0dHJSZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICogQHJldHVybnMgeyp9IFN0YXRlXG4gICAgICovXG4gICAgcHJvY2VzczogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgdmFyIGV2ZW50VHlwZSA9IGlucHV0LmV2ZW50VHlwZTtcblxuICAgICAgICB2YXIgaXNSZWNvZ25pemVkID0gc3RhdGUgJiAoU1RBVEVfQkVHQU4gfCBTVEFURV9DSEFOR0VEKTtcbiAgICAgICAgdmFyIGlzVmFsaWQgPSB0aGlzLmF0dHJUZXN0KGlucHV0KTtcblxuICAgICAgICAvLyBvbiBjYW5jZWwgaW5wdXQgYW5kIHdlJ3ZlIHJlY29nbml6ZWQgYmVmb3JlLCByZXR1cm4gU1RBVEVfQ0FOQ0VMTEVEXG4gICAgICAgIGlmIChpc1JlY29nbml6ZWQgJiYgKGV2ZW50VHlwZSAmIElOUFVUX0NBTkNFTCB8fCAhaXNWYWxpZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZSB8IFNUQVRFX0NBTkNFTExFRDtcbiAgICAgICAgfSBlbHNlIGlmIChpc1JlY29nbml6ZWQgfHwgaXNWYWxpZCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX0VORCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZSB8IFNUQVRFX0VOREVEO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghKHN0YXRlICYgU1RBVEVfQkVHQU4pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFNUQVRFX0JFR0FOO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlIHwgU1RBVEVfQ0hBTkdFRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIFBhblxuICogUmVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvd24gYW5kIG1vdmVkIGluIHRoZSBhbGxvd2VkIGRpcmVjdGlvbi5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gUGFuUmVjb2duaXplcigpIHtcbiAgICBBdHRyUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdGhpcy5wWCA9IG51bGw7XG4gICAgdGhpcy5wWSA9IG51bGw7XG59XG5cbmluaGVyaXQoUGFuUmVjb2duaXplciwgQXR0clJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFBhblJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3BhbicsXG4gICAgICAgIHRocmVzaG9sZDogMTAsXG4gICAgICAgIHBvaW50ZXJzOiAxLFxuICAgICAgICBkaXJlY3Rpb246IERJUkVDVElPTl9BTExcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5vcHRpb25zLmRpcmVjdGlvbjtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSBbXTtcbiAgICAgICAgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnB1c2goVE9VQ0hfQUNUSU9OX1BBTl9ZKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlyZWN0aW9uICYgRElSRUNUSU9OX1ZFUlRJQ0FMKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnB1c2goVE9VQ0hfQUNUSU9OX1BBTl9YKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWN0aW9ucztcbiAgICB9LFxuXG4gICAgZGlyZWN0aW9uVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHZhciBoYXNNb3ZlZCA9IHRydWU7XG4gICAgICAgIHZhciBkaXN0YW5jZSA9IGlucHV0LmRpc3RhbmNlO1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gaW5wdXQuZGlyZWN0aW9uO1xuICAgICAgICB2YXIgeCA9IGlucHV0LmRlbHRhWDtcbiAgICAgICAgdmFyIHkgPSBpbnB1dC5kZWx0YVk7XG5cbiAgICAgICAgLy8gbG9jayB0byBheGlzP1xuICAgICAgICBpZiAoIShkaXJlY3Rpb24gJiBvcHRpb25zLmRpcmVjdGlvbikpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB7XG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gKHggPT09IDApID8gRElSRUNUSU9OX05PTkUgOiAoeCA8IDApID8gRElSRUNUSU9OX0xFRlQgOiBESVJFQ1RJT05fUklHSFQ7XG4gICAgICAgICAgICAgICAgaGFzTW92ZWQgPSB4ICE9IHRoaXMucFg7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBNYXRoLmFicyhpbnB1dC5kZWx0YVgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAoeSA9PT0gMCkgPyBESVJFQ1RJT05fTk9ORSA6ICh5IDwgMCkgPyBESVJFQ1RJT05fVVAgOiBESVJFQ1RJT05fRE9XTjtcbiAgICAgICAgICAgICAgICBoYXNNb3ZlZCA9IHkgIT0gdGhpcy5wWTtcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IE1hdGguYWJzKGlucHV0LmRlbHRhWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaW5wdXQuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuICAgICAgICByZXR1cm4gaGFzTW92ZWQgJiYgZGlzdGFuY2UgPiBvcHRpb25zLnRocmVzaG9sZCAmJiBkaXJlY3Rpb24gJiBvcHRpb25zLmRpcmVjdGlvbjtcbiAgICB9LFxuXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBBdHRyUmVjb2duaXplci5wcm90b3R5cGUuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiZcbiAgICAgICAgICAgICh0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4gfHwgKCEodGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOKSAmJiB0aGlzLmRpcmVjdGlvblRlc3QoaW5wdXQpKSk7XG4gICAgfSxcblxuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG5cbiAgICAgICAgdGhpcy5wWCA9IGlucHV0LmRlbHRhWDtcbiAgICAgICAgdGhpcy5wWSA9IGlucHV0LmRlbHRhWTtcblxuICAgICAgICB2YXIgZGlyZWN0aW9uID0gZGlyZWN0aW9uU3RyKGlucHV0LmRpcmVjdGlvbik7XG5cbiAgICAgICAgaWYgKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgaW5wdXQuYWRkaXRpb25hbEV2ZW50ID0gdGhpcy5vcHRpb25zLmV2ZW50ICsgZGlyZWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N1cGVyLmVtaXQuY2FsbCh0aGlzLCBpbnB1dCk7XG4gICAgfVxufSk7XG5cbi8qKlxuICogUGluY2hcbiAqIFJlY29nbml6ZWQgd2hlbiB0d28gb3IgbW9yZSBwb2ludGVycyBhcmUgbW92aW5nIHRvd2FyZCAoem9vbS1pbikgb3IgYXdheSBmcm9tIGVhY2ggb3RoZXIgKHpvb20tb3V0KS5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gUGluY2hSZWNvZ25pemVyKCkge1xuICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoUGluY2hSZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgUGluY2hSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICdwaW5jaCcsXG4gICAgICAgIHRocmVzaG9sZDogMCxcbiAgICAgICAgcG9pbnRlcnM6IDJcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9OT05FXTtcbiAgICB9LFxuXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJlxuICAgICAgICAgICAgKE1hdGguYWJzKGlucHV0LnNjYWxlIC0gMSkgPiB0aGlzLm9wdGlvbnMudGhyZXNob2xkIHx8IHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTik7XG4gICAgfSxcblxuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIGlmIChpbnB1dC5zY2FsZSAhPT0gMSkge1xuICAgICAgICAgICAgdmFyIGluT3V0ID0gaW5wdXQuc2NhbGUgPCAxID8gJ2luJyA6ICdvdXQnO1xuICAgICAgICAgICAgaW5wdXQuYWRkaXRpb25hbEV2ZW50ID0gdGhpcy5vcHRpb25zLmV2ZW50ICsgaW5PdXQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3VwZXIuZW1pdC5jYWxsKHRoaXMsIGlucHV0KTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBQcmVzc1xuICogUmVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvd24gZm9yIHggbXMgd2l0aG91dCBhbnkgbW92ZW1lbnQuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIFJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gUHJlc3NSZWNvZ25pemVyKCkge1xuICAgIFJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIHRoaXMuX3RpbWVyID0gbnVsbDtcbiAgICB0aGlzLl9pbnB1dCA9IG51bGw7XG59XG5cbmluaGVyaXQoUHJlc3NSZWNvZ25pemVyLCBSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBQcmVzc1JlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3ByZXNzJyxcbiAgICAgICAgcG9pbnRlcnM6IDEsXG4gICAgICAgIHRpbWU6IDI1MSwgLy8gbWluaW1hbCB0aW1lIG9mIHRoZSBwb2ludGVyIHRvIGJlIHByZXNzZWRcbiAgICAgICAgdGhyZXNob2xkOiA5IC8vIGEgbWluaW1hbCBtb3ZlbWVudCBpcyBvaywgYnV0IGtlZXAgaXQgbG93XG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFtUT1VDSF9BQ1RJT05fQVVUT107XG4gICAgfSxcblxuICAgIHByb2Nlc3M6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICB2YXIgdmFsaWRQb2ludGVycyA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA9PT0gb3B0aW9ucy5wb2ludGVycztcbiAgICAgICAgdmFyIHZhbGlkTW92ZW1lbnQgPSBpbnB1dC5kaXN0YW5jZSA8IG9wdGlvbnMudGhyZXNob2xkO1xuICAgICAgICB2YXIgdmFsaWRUaW1lID0gaW5wdXQuZGVsdGFUaW1lID4gb3B0aW9ucy50aW1lO1xuXG4gICAgICAgIHRoaXMuX2lucHV0ID0gaW5wdXQ7XG5cbiAgICAgICAgLy8gd2Ugb25seSBhbGxvdyBsaXR0bGUgbW92ZW1lbnRcbiAgICAgICAgLy8gYW5kIHdlJ3ZlIHJlYWNoZWQgYW4gZW5kIGV2ZW50LCBzbyBhIHRhcCBpcyBwb3NzaWJsZVxuICAgICAgICBpZiAoIXZhbGlkTW92ZW1lbnQgfHwgIXZhbGlkUG9pbnRlcnMgfHwgKGlucHV0LmV2ZW50VHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpICYmICF2YWxpZFRpbWUpKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dENvbnRleHQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX1JFQ09HTklaRUQ7XG4gICAgICAgICAgICAgICAgdGhpcy50cnlFbWl0KCk7XG4gICAgICAgICAgICB9LCBvcHRpb25zLnRpbWUsIHRoaXMpO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX0VORCkge1xuICAgICAgICAgICAgcmV0dXJuIFNUQVRFX1JFQ09HTklaRUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFNUQVRFX0ZBSUxFRDtcbiAgICB9LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpO1xuICAgIH0sXG5cbiAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gU1RBVEVfUkVDT0dOSVpFRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlucHV0ICYmIChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9FTkQpKSB7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQgKyAndXAnLCBpbnB1dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9pbnB1dC50aW1lU3RhbXAgPSBub3coKTtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgdGhpcy5faW5wdXQpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbi8qKlxuICogUm90YXRlXG4gKiBSZWNvZ25pemVkIHdoZW4gdHdvIG9yIG1vcmUgcG9pbnRlciBhcmUgbW92aW5nIGluIGEgY2lyY3VsYXIgbW90aW9uLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplclxuICovXG5mdW5jdGlvbiBSb3RhdGVSZWNvZ25pemVyKCkge1xuICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoUm90YXRlUmVjb2duaXplciwgQXR0clJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFJvdGF0ZVJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3JvdGF0ZScsXG4gICAgICAgIHRocmVzaG9sZDogMCxcbiAgICAgICAgcG9pbnRlcnM6IDJcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9OT05FXTtcbiAgICB9LFxuXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJlxuICAgICAgICAgICAgKE1hdGguYWJzKGlucHV0LnJvdGF0aW9uKSA+IHRoaXMub3B0aW9ucy50aHJlc2hvbGQgfHwgdGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOKTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBTd2lwZVxuICogUmVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIG1vdmluZyBmYXN0ICh2ZWxvY2l0eSksIHdpdGggZW5vdWdoIGRpc3RhbmNlIGluIHRoZSBhbGxvd2VkIGRpcmVjdGlvbi5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gU3dpcGVSZWNvZ25pemVyKCkge1xuICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoU3dpcGVSZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgU3dpcGVSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICdzd2lwZScsXG4gICAgICAgIHRocmVzaG9sZDogMTAsXG4gICAgICAgIHZlbG9jaXR5OiAwLjMsXG4gICAgICAgIGRpcmVjdGlvbjogRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUwsXG4gICAgICAgIHBvaW50ZXJzOiAxXG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFBhblJlY29nbml6ZXIucHJvdG90eXBlLmdldFRvdWNoQWN0aW9uLmNhbGwodGhpcyk7XG4gICAgfSxcblxuICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5vcHRpb25zLmRpcmVjdGlvbjtcbiAgICAgICAgdmFyIHZlbG9jaXR5O1xuXG4gICAgICAgIGlmIChkaXJlY3Rpb24gJiAoRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUwpKSB7XG4gICAgICAgICAgICB2ZWxvY2l0eSA9IGlucHV0Lm92ZXJhbGxWZWxvY2l0eTtcbiAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkge1xuICAgICAgICAgICAgdmVsb2NpdHkgPSBpbnB1dC5vdmVyYWxsVmVsb2NpdHlYO1xuICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9WRVJUSUNBTCkge1xuICAgICAgICAgICAgdmVsb2NpdHkgPSBpbnB1dC5vdmVyYWxsVmVsb2NpdHlZO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmXG4gICAgICAgICAgICBkaXJlY3Rpb24gJiBpbnB1dC5vZmZzZXREaXJlY3Rpb24gJiZcbiAgICAgICAgICAgIGlucHV0LmRpc3RhbmNlID4gdGhpcy5vcHRpb25zLnRocmVzaG9sZCAmJlxuICAgICAgICAgICAgaW5wdXQubWF4UG9pbnRlcnMgPT0gdGhpcy5vcHRpb25zLnBvaW50ZXJzICYmXG4gICAgICAgICAgICBhYnModmVsb2NpdHkpID4gdGhpcy5vcHRpb25zLnZlbG9jaXR5ICYmIGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX0VORDtcbiAgICB9LFxuXG4gICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGRpcmVjdGlvblN0cihpbnB1dC5vZmZzZXREaXJlY3Rpb24pO1xuICAgICAgICBpZiAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQgKyBkaXJlY3Rpb24sIGlucHV0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgaW5wdXQpO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIEEgdGFwIGlzIGVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvaW5nIGEgc21hbGwgdGFwL2NsaWNrLiBNdWx0aXBsZSB0YXBzIGFyZSByZWNvZ25pemVkIGlmIHRoZXkgb2NjdXJcbiAqIGJldHdlZW4gdGhlIGdpdmVuIGludGVydmFsIGFuZCBwb3NpdGlvbi4gVGhlIGRlbGF5IG9wdGlvbiBjYW4gYmUgdXNlZCB0byByZWNvZ25pemUgbXVsdGktdGFwcyB3aXRob3V0IGZpcmluZ1xuICogYSBzaW5nbGUgdGFwLlxuICpcbiAqIFRoZSBldmVudERhdGEgZnJvbSB0aGUgZW1pdHRlZCBldmVudCBjb250YWlucyB0aGUgcHJvcGVydHkgYHRhcENvdW50YCwgd2hpY2ggY29udGFpbnMgdGhlIGFtb3VudCBvZlxuICogbXVsdGktdGFwcyBiZWluZyByZWNvZ25pemVkLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIFRhcFJlY29nbml6ZXIoKSB7XG4gICAgUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgLy8gcHJldmlvdXMgdGltZSBhbmQgY2VudGVyLFxuICAgIC8vIHVzZWQgZm9yIHRhcCBjb3VudGluZ1xuICAgIHRoaXMucFRpbWUgPSBmYWxzZTtcbiAgICB0aGlzLnBDZW50ZXIgPSBmYWxzZTtcblxuICAgIHRoaXMuX3RpbWVyID0gbnVsbDtcbiAgICB0aGlzLl9pbnB1dCA9IG51bGw7XG4gICAgdGhpcy5jb3VudCA9IDA7XG59XG5cbmluaGVyaXQoVGFwUmVjb2duaXplciwgUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgUGluY2hSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICd0YXAnLFxuICAgICAgICBwb2ludGVyczogMSxcbiAgICAgICAgdGFwczogMSxcbiAgICAgICAgaW50ZXJ2YWw6IDMwMCwgLy8gbWF4IHRpbWUgYmV0d2VlbiB0aGUgbXVsdGktdGFwIHRhcHNcbiAgICAgICAgdGltZTogMjUwLCAvLyBtYXggdGltZSBvZiB0aGUgcG9pbnRlciB0byBiZSBkb3duIChsaWtlIGZpbmdlciBvbiB0aGUgc2NyZWVuKVxuICAgICAgICB0aHJlc2hvbGQ6IDksIC8vIGEgbWluaW1hbCBtb3ZlbWVudCBpcyBvaywgYnV0IGtlZXAgaXQgbG93XG4gICAgICAgIHBvc1RocmVzaG9sZDogMTAgLy8gYSBtdWx0aS10YXAgY2FuIGJlIGEgYml0IG9mZiB0aGUgaW5pdGlhbCBwb3NpdGlvblxuICAgIH0sXG5cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTl07XG4gICAgfSxcblxuICAgIHByb2Nlc3M6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIHZhciB2YWxpZFBvaW50ZXJzID0gaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25zLnBvaW50ZXJzO1xuICAgICAgICB2YXIgdmFsaWRNb3ZlbWVudCA9IGlucHV0LmRpc3RhbmNlIDwgb3B0aW9ucy50aHJlc2hvbGQ7XG4gICAgICAgIHZhciB2YWxpZFRvdWNoVGltZSA9IGlucHV0LmRlbHRhVGltZSA8IG9wdGlvbnMudGltZTtcblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICAgICAgaWYgKChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9TVEFSVCkgJiYgKHRoaXMuY291bnQgPT09IDApKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mYWlsVGltZW91dCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2Ugb25seSBhbGxvdyBsaXR0bGUgbW92ZW1lbnRcbiAgICAgICAgLy8gYW5kIHdlJ3ZlIHJlYWNoZWQgYW4gZW5kIGV2ZW50LCBzbyBhIHRhcCBpcyBwb3NzaWJsZVxuICAgICAgICBpZiAodmFsaWRNb3ZlbWVudCAmJiB2YWxpZFRvdWNoVGltZSAmJiB2YWxpZFBvaW50ZXJzKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuZXZlbnRUeXBlICE9IElOUFVUX0VORCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZhaWxUaW1lb3V0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB2YWxpZEludGVydmFsID0gdGhpcy5wVGltZSA/IChpbnB1dC50aW1lU3RhbXAgLSB0aGlzLnBUaW1lIDwgb3B0aW9ucy5pbnRlcnZhbCkgOiB0cnVlO1xuICAgICAgICAgICAgdmFyIHZhbGlkTXVsdGlUYXAgPSAhdGhpcy5wQ2VudGVyIHx8IGdldERpc3RhbmNlKHRoaXMucENlbnRlciwgaW5wdXQuY2VudGVyKSA8IG9wdGlvbnMucG9zVGhyZXNob2xkO1xuXG4gICAgICAgICAgICB0aGlzLnBUaW1lID0gaW5wdXQudGltZVN0YW1wO1xuICAgICAgICAgICAgdGhpcy5wQ2VudGVyID0gaW5wdXQuY2VudGVyO1xuXG4gICAgICAgICAgICBpZiAoIXZhbGlkTXVsdGlUYXAgfHwgIXZhbGlkSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvdW50ID0gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudCArPSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9pbnB1dCA9IGlucHV0O1xuXG4gICAgICAgICAgICAvLyBpZiB0YXAgY291bnQgbWF0Y2hlcyB3ZSBoYXZlIHJlY29nbml6ZWQgaXQsXG4gICAgICAgICAgICAvLyBlbHNlIGl0IGhhcyBiZWdhbiByZWNvZ25pemluZy4uLlxuICAgICAgICAgICAgdmFyIHRhcENvdW50ID0gdGhpcy5jb3VudCAlIG9wdGlvbnMudGFwcztcbiAgICAgICAgICAgIGlmICh0YXBDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIG5vIGZhaWxpbmcgcmVxdWlyZW1lbnRzLCBpbW1lZGlhdGVseSB0cmlnZ2VyIHRoZSB0YXAgZXZlbnRcbiAgICAgICAgICAgICAgICAvLyBvciB3YWl0IGFzIGxvbmcgYXMgdGhlIG11bHRpdGFwIGludGVydmFsIHRvIHRyaWdnZXJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaGFzUmVxdWlyZUZhaWx1cmVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNUQVRFX1JFQ09HTklaRUQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0Q29udGV4dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9SRUNPR05JWkVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cnlFbWl0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMuaW50ZXJ2YWwsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1RBVEVfQkVHQU47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG4gICAgfSxcblxuICAgIGZhaWxUaW1lb3V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0Q29udGV4dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9GQUlMRUQ7XG4gICAgICAgIH0sIHRoaXMub3B0aW9ucy5pbnRlcnZhbCwgdGhpcyk7XG4gICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG4gICAgfSxcblxuICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKTtcbiAgICB9LFxuXG4gICAgZW1pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09IFNUQVRFX1JFQ09HTklaRUQpIHtcbiAgICAgICAgICAgIHRoaXMuX2lucHV0LnRhcENvdW50ID0gdGhpcy5jb3VudDtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgdGhpcy5faW5wdXQpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbi8qKlxuICogU2ltcGxlIHdheSB0byBjcmVhdGUgYSBtYW5hZ2VyIHdpdGggYSBkZWZhdWx0IHNldCBvZiByZWNvZ25pemVycy5cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBIYW1tZXIoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMucmVjb2duaXplcnMgPSBpZlVuZGVmaW5lZChvcHRpb25zLnJlY29nbml6ZXJzLCBIYW1tZXIuZGVmYXVsdHMucHJlc2V0KTtcbiAgICByZXR1cm4gbmV3IE1hbmFnZXIoZWxlbWVudCwgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogQGNvbnN0IHtzdHJpbmd9XG4gKi9cbkhhbW1lci5WRVJTSU9OID0gJzIuMC43JztcblxuLyoqXG4gKiBkZWZhdWx0IHNldHRpbmdzXG4gKiBAbmFtZXNwYWNlXG4gKi9cbkhhbW1lci5kZWZhdWx0cyA9IHtcbiAgICAvKipcbiAgICAgKiBzZXQgaWYgRE9NIGV2ZW50cyBhcmUgYmVpbmcgdHJpZ2dlcmVkLlxuICAgICAqIEJ1dCB0aGlzIGlzIHNsb3dlciBhbmQgdW51c2VkIGJ5IHNpbXBsZSBpbXBsZW1lbnRhdGlvbnMsIHNvIGRpc2FibGVkIGJ5IGRlZmF1bHQuXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBkb21FdmVudHM6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogVGhlIHZhbHVlIGZvciB0aGUgdG91Y2hBY3Rpb24gcHJvcGVydHkvZmFsbGJhY2suXG4gICAgICogV2hlbiBzZXQgdG8gYGNvbXB1dGVgIGl0IHdpbGwgbWFnaWNhbGx5IHNldCB0aGUgY29ycmVjdCB2YWx1ZSBiYXNlZCBvbiB0aGUgYWRkZWQgcmVjb2duaXplcnMuXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAZGVmYXVsdCBjb21wdXRlXG4gICAgICovXG4gICAgdG91Y2hBY3Rpb246IFRPVUNIX0FDVElPTl9DT01QVVRFLFxuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuICAgIGVuYWJsZTogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIEVYUEVSSU1FTlRBTCBGRUFUVVJFIC0tIGNhbiBiZSByZW1vdmVkL2NoYW5nZWRcbiAgICAgKiBDaGFuZ2UgdGhlIHBhcmVudCBpbnB1dCB0YXJnZXQgZWxlbWVudC5cbiAgICAgKiBJZiBOdWxsLCB0aGVuIGl0IGlzIGJlaW5nIHNldCB0aGUgdG8gbWFpbiBlbGVtZW50LlxuICAgICAqIEB0eXBlIHtOdWxsfEV2ZW50VGFyZ2V0fVxuICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgKi9cbiAgICBpbnB1dFRhcmdldDogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIGZvcmNlIGFuIGlucHV0IGNsYXNzXG4gICAgICogQHR5cGUge051bGx8RnVuY3Rpb259XG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuICAgIGlucHV0Q2xhc3M6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHJlY29nbml6ZXIgc2V0dXAgd2hlbiBjYWxsaW5nIGBIYW1tZXIoKWBcbiAgICAgKiBXaGVuIGNyZWF0aW5nIGEgbmV3IE1hbmFnZXIgdGhlc2Ugd2lsbCBiZSBza2lwcGVkLlxuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKi9cbiAgICBwcmVzZXQ6IFtcbiAgICAgICAgLy8gUmVjb2duaXplckNsYXNzLCBvcHRpb25zLCBbcmVjb2duaXplV2l0aCwgLi4uXSwgW3JlcXVpcmVGYWlsdXJlLCAuLi5dXG4gICAgICAgIFtSb3RhdGVSZWNvZ25pemVyLCB7ZW5hYmxlOiBmYWxzZX1dLFxuICAgICAgICBbUGluY2hSZWNvZ25pemVyLCB7ZW5hYmxlOiBmYWxzZX0sIFsncm90YXRlJ11dLFxuICAgICAgICBbU3dpcGVSZWNvZ25pemVyLCB7ZGlyZWN0aW9uOiBESVJFQ1RJT05fSE9SSVpPTlRBTH1dLFxuICAgICAgICBbUGFuUmVjb2duaXplciwge2RpcmVjdGlvbjogRElSRUNUSU9OX0hPUklaT05UQUx9LCBbJ3N3aXBlJ11dLFxuICAgICAgICBbVGFwUmVjb2duaXplcl0sXG4gICAgICAgIFtUYXBSZWNvZ25pemVyLCB7ZXZlbnQ6ICdkb3VibGV0YXAnLCB0YXBzOiAyfSwgWyd0YXAnXV0sXG4gICAgICAgIFtQcmVzc1JlY29nbml6ZXJdXG4gICAgXSxcblxuICAgIC8qKlxuICAgICAqIFNvbWUgQ1NTIHByb3BlcnRpZXMgY2FuIGJlIHVzZWQgdG8gaW1wcm92ZSB0aGUgd29ya2luZyBvZiBIYW1tZXIuXG4gICAgICogQWRkIHRoZW0gdG8gdGhpcyBtZXRob2QgYW5kIHRoZXkgd2lsbCBiZSBzZXQgd2hlbiBjcmVhdGluZyBhIG5ldyBNYW5hZ2VyLlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKi9cbiAgICBjc3NQcm9wczoge1xuICAgICAgICAvKipcbiAgICAgICAgICogRGlzYWJsZXMgdGV4dCBzZWxlY3Rpb24gdG8gaW1wcm92ZSB0aGUgZHJhZ2dpbmcgZ2VzdHVyZS4gTWFpbmx5IGZvciBkZXNrdG9wIGJyb3dzZXJzLlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAgICovXG4gICAgICAgIHVzZXJTZWxlY3Q6ICdub25lJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzYWJsZSB0aGUgV2luZG93cyBQaG9uZSBncmlwcGVycyB3aGVuIHByZXNzaW5nIGFuIGVsZW1lbnQuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuICAgICAgICAgKi9cbiAgICAgICAgdG91Y2hTZWxlY3Q6ICdub25lJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzYWJsZXMgdGhlIGRlZmF1bHQgY2FsbG91dCBzaG93biB3aGVuIHlvdSB0b3VjaCBhbmQgaG9sZCBhIHRvdWNoIHRhcmdldC5cbiAgICAgICAgICogT24gaU9TLCB3aGVuIHlvdSB0b3VjaCBhbmQgaG9sZCBhIHRvdWNoIHRhcmdldCBzdWNoIGFzIGEgbGluaywgU2FmYXJpIGRpc3BsYXlzXG4gICAgICAgICAqIGEgY2FsbG91dCBjb250YWluaW5nIGluZm9ybWF0aW9uIGFib3V0IHRoZSBsaW5rLiBUaGlzIHByb3BlcnR5IGFsbG93cyB5b3UgdG8gZGlzYWJsZSB0aGF0IGNhbGxvdXQuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuICAgICAgICAgKi9cbiAgICAgICAgdG91Y2hDYWxsb3V0OiAnbm9uZScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNwZWNpZmllcyB3aGV0aGVyIHpvb21pbmcgaXMgZW5hYmxlZC4gVXNlZCBieSBJRTEwPlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAgICovXG4gICAgICAgIGNvbnRlbnRab29taW5nOiAnbm9uZScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNwZWNpZmllcyB0aGF0IGFuIGVudGlyZSBlbGVtZW50IHNob3VsZCBiZSBkcmFnZ2FibGUgaW5zdGVhZCBvZiBpdHMgY29udGVudHMuIE1haW5seSBmb3IgZGVza3RvcCBicm93c2Vycy5cbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG4gICAgICAgICAqL1xuICAgICAgICB1c2VyRHJhZzogJ25vbmUnLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPdmVycmlkZXMgdGhlIGhpZ2hsaWdodCBjb2xvciBzaG93biB3aGVuIHRoZSB1c2VyIHRhcHMgYSBsaW5rIG9yIGEgSmF2YVNjcmlwdFxuICAgICAgICAgKiBjbGlja2FibGUgZWxlbWVudCBpbiBpT1MuIFRoaXMgcHJvcGVydHkgb2JleXMgdGhlIGFscGhhIHZhbHVlLCBpZiBzcGVjaWZpZWQuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdyZ2JhKDAsMCwwLDApJ1xuICAgICAgICAgKi9cbiAgICAgICAgdGFwSGlnaGxpZ2h0Q29sb3I6ICdyZ2JhKDAsMCwwLDApJ1xuICAgIH1cbn07XG5cbnZhciBTVE9QID0gMTtcbnZhciBGT1JDRURfU1RPUCA9IDI7XG5cbi8qKlxuICogTWFuYWdlclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIE1hbmFnZXIoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IGFzc2lnbih7fSwgSGFtbWVyLmRlZmF1bHRzLCBvcHRpb25zIHx8IHt9KTtcblxuICAgIHRoaXMub3B0aW9ucy5pbnB1dFRhcmdldCA9IHRoaXMub3B0aW9ucy5pbnB1dFRhcmdldCB8fCBlbGVtZW50O1xuXG4gICAgdGhpcy5oYW5kbGVycyA9IHt9O1xuICAgIHRoaXMuc2Vzc2lvbiA9IHt9O1xuICAgIHRoaXMucmVjb2duaXplcnMgPSBbXTtcbiAgICB0aGlzLm9sZENzc1Byb3BzID0ge307XG5cbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMuaW5wdXQgPSBjcmVhdGVJbnB1dEluc3RhbmNlKHRoaXMpO1xuICAgIHRoaXMudG91Y2hBY3Rpb24gPSBuZXcgVG91Y2hBY3Rpb24odGhpcywgdGhpcy5vcHRpb25zLnRvdWNoQWN0aW9uKTtcblxuICAgIHRvZ2dsZUNzc1Byb3BzKHRoaXMsIHRydWUpO1xuXG4gICAgZWFjaCh0aGlzLm9wdGlvbnMucmVjb2duaXplcnMsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgdmFyIHJlY29nbml6ZXIgPSB0aGlzLmFkZChuZXcgKGl0ZW1bMF0pKGl0ZW1bMV0pKTtcbiAgICAgICAgaXRlbVsyXSAmJiByZWNvZ25pemVyLnJlY29nbml6ZVdpdGgoaXRlbVsyXSk7XG4gICAgICAgIGl0ZW1bM10gJiYgcmVjb2duaXplci5yZXF1aXJlRmFpbHVyZShpdGVtWzNdKTtcbiAgICB9LCB0aGlzKTtcbn1cblxuTWFuYWdlci5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogc2V0IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHtNYW5hZ2VyfVxuICAgICAqL1xuICAgIHNldDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICBhc3NpZ24odGhpcy5vcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICAvLyBPcHRpb25zIHRoYXQgbmVlZCBhIGxpdHRsZSBtb3JlIHNldHVwXG4gICAgICAgIGlmIChvcHRpb25zLnRvdWNoQWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmlucHV0VGFyZ2V0KSB7XG4gICAgICAgICAgICAvLyBDbGVhbiB1cCBleGlzdGluZyBldmVudCBsaXN0ZW5lcnMgYW5kIHJlaW5pdGlhbGl6ZVxuICAgICAgICAgICAgdGhpcy5pbnB1dC5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLmlucHV0LnRhcmdldCA9IG9wdGlvbnMuaW5wdXRUYXJnZXQ7XG4gICAgICAgICAgICB0aGlzLmlucHV0LmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogc3RvcCByZWNvZ25pemluZyBmb3IgdGhpcyBzZXNzaW9uLlxuICAgICAqIFRoaXMgc2Vzc2lvbiB3aWxsIGJlIGRpc2NhcmRlZCwgd2hlbiBhIG5ldyBbaW5wdXRdc3RhcnQgZXZlbnQgaXMgZmlyZWQuXG4gICAgICogV2hlbiBmb3JjZWQsIHRoZSByZWNvZ25pemVyIGN5Y2xlIGlzIHN0b3BwZWQgaW1tZWRpYXRlbHkuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbZm9yY2VdXG4gICAgICovXG4gICAgc3RvcDogZnVuY3Rpb24oZm9yY2UpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnN0b3BwZWQgPSBmb3JjZSA/IEZPUkNFRF9TVE9QIDogU1RPUDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcnVuIHRoZSByZWNvZ25pemVycyFcbiAgICAgKiBjYWxsZWQgYnkgdGhlIGlucHV0SGFuZGxlciBmdW5jdGlvbiBvbiBldmVyeSBtb3ZlbWVudCBvZiB0aGUgcG9pbnRlcnMgKHRvdWNoZXMpXG4gICAgICogaXQgd2Fsa3MgdGhyb3VnaCBhbGwgdGhlIHJlY29nbml6ZXJzIGFuZCB0cmllcyB0byBkZXRlY3QgdGhlIGdlc3R1cmUgdGhhdCBpcyBiZWluZyBtYWRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuICAgICAqL1xuICAgIHJlY29nbml6ZTogZnVuY3Rpb24oaW5wdXREYXRhKSB7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5zZXNzaW9uO1xuICAgICAgICBpZiAoc2Vzc2lvbi5zdG9wcGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBydW4gdGhlIHRvdWNoLWFjdGlvbiBwb2x5ZmlsbFxuICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnByZXZlbnREZWZhdWx0cyhpbnB1dERhdGEpO1xuXG4gICAgICAgIHZhciByZWNvZ25pemVyO1xuICAgICAgICB2YXIgcmVjb2duaXplcnMgPSB0aGlzLnJlY29nbml6ZXJzO1xuXG4gICAgICAgIC8vIHRoaXMgaG9sZHMgdGhlIHJlY29nbml6ZXIgdGhhdCBpcyBiZWluZyByZWNvZ25pemVkLlxuICAgICAgICAvLyBzbyB0aGUgcmVjb2duaXplcidzIHN0YXRlIG5lZWRzIHRvIGJlIEJFR0FOLCBDSEFOR0VELCBFTkRFRCBvciBSRUNPR05JWkVEXG4gICAgICAgIC8vIGlmIG5vIHJlY29nbml6ZXIgaXMgZGV0ZWN0aW5nIGEgdGhpbmcsIGl0IGlzIHNldCB0byBgbnVsbGBcbiAgICAgICAgdmFyIGN1clJlY29nbml6ZXIgPSBzZXNzaW9uLmN1clJlY29nbml6ZXI7XG5cbiAgICAgICAgLy8gcmVzZXQgd2hlbiB0aGUgbGFzdCByZWNvZ25pemVyIGlzIHJlY29nbml6ZWRcbiAgICAgICAgLy8gb3Igd2hlbiB3ZSdyZSBpbiBhIG5ldyBzZXNzaW9uXG4gICAgICAgIGlmICghY3VyUmVjb2duaXplciB8fCAoY3VyUmVjb2duaXplciAmJiBjdXJSZWNvZ25pemVyLnN0YXRlICYgU1RBVEVfUkVDT0dOSVpFRCkpIHtcbiAgICAgICAgICAgIGN1clJlY29nbml6ZXIgPSBzZXNzaW9uLmN1clJlY29nbml6ZXIgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHJlY29nbml6ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmVjb2duaXplciA9IHJlY29nbml6ZXJzW2ldO1xuXG4gICAgICAgICAgICAvLyBmaW5kIG91dCBpZiB3ZSBhcmUgYWxsb3dlZCB0cnkgdG8gcmVjb2duaXplIHRoZSBpbnB1dCBmb3IgdGhpcyBvbmUuXG4gICAgICAgICAgICAvLyAxLiAgIGFsbG93IGlmIHRoZSBzZXNzaW9uIGlzIE5PVCBmb3JjZWQgc3RvcHBlZCAoc2VlIHRoZSAuc3RvcCgpIG1ldGhvZClcbiAgICAgICAgICAgIC8vIDIuICAgYWxsb3cgaWYgd2Ugc3RpbGwgaGF2ZW4ndCByZWNvZ25pemVkIGEgZ2VzdHVyZSBpbiB0aGlzIHNlc3Npb24sIG9yIHRoZSB0aGlzIHJlY29nbml6ZXIgaXMgdGhlIG9uZVxuICAgICAgICAgICAgLy8gICAgICB0aGF0IGlzIGJlaW5nIHJlY29nbml6ZWQuXG4gICAgICAgICAgICAvLyAzLiAgIGFsbG93IGlmIHRoZSByZWNvZ25pemVyIGlzIGFsbG93ZWQgdG8gcnVuIHNpbXVsdGFuZW91cyB3aXRoIHRoZSBjdXJyZW50IHJlY29nbml6ZWQgcmVjb2duaXplci5cbiAgICAgICAgICAgIC8vICAgICAgdGhpcyBjYW4gYmUgc2V0dXAgd2l0aCB0aGUgYHJlY29nbml6ZVdpdGgoKWAgbWV0aG9kIG9uIHRoZSByZWNvZ25pemVyLlxuICAgICAgICAgICAgaWYgKHNlc3Npb24uc3RvcHBlZCAhPT0gRk9SQ0VEX1NUT1AgJiYgKCAvLyAxXG4gICAgICAgICAgICAgICAgICAgICFjdXJSZWNvZ25pemVyIHx8IHJlY29nbml6ZXIgPT0gY3VyUmVjb2duaXplciB8fCAvLyAyXG4gICAgICAgICAgICAgICAgICAgIHJlY29nbml6ZXIuY2FuUmVjb2duaXplV2l0aChjdXJSZWNvZ25pemVyKSkpIHsgLy8gM1xuICAgICAgICAgICAgICAgIHJlY29nbml6ZXIucmVjb2duaXplKGlucHV0RGF0YSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlY29nbml6ZXIucmVzZXQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgdGhlIHJlY29nbml6ZXIgaGFzIGJlZW4gcmVjb2duaXppbmcgdGhlIGlucHV0IGFzIGEgdmFsaWQgZ2VzdHVyZSwgd2Ugd2FudCB0byBzdG9yZSB0aGlzIG9uZSBhcyB0aGVcbiAgICAgICAgICAgIC8vIGN1cnJlbnQgYWN0aXZlIHJlY29nbml6ZXIuIGJ1dCBvbmx5IGlmIHdlIGRvbid0IGFscmVhZHkgaGF2ZSBhbiBhY3RpdmUgcmVjb2duaXplclxuICAgICAgICAgICAgaWYgKCFjdXJSZWNvZ25pemVyICYmIHJlY29nbml6ZXIuc3RhdGUgJiAoU1RBVEVfQkVHQU4gfCBTVEFURV9DSEFOR0VEIHwgU1RBVEVfRU5ERUQpKSB7XG4gICAgICAgICAgICAgICAgY3VyUmVjb2duaXplciA9IHNlc3Npb24uY3VyUmVjb2duaXplciA9IHJlY29nbml6ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZ2V0IGEgcmVjb2duaXplciBieSBpdHMgZXZlbnQgbmFtZS5cbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ8U3RyaW5nfSByZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ8TnVsbH1cbiAgICAgKi9cbiAgICBnZXQ6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKHJlY29nbml6ZXIgaW5zdGFuY2VvZiBSZWNvZ25pemVyKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVjb2duaXplcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZWNvZ25pemVycyA9IHRoaXMucmVjb2duaXplcnM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVjb2duaXplcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChyZWNvZ25pemVyc1tpXS5vcHRpb25zLmV2ZW50ID09IHJlY29nbml6ZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjb2duaXplcnNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGFkZCBhIHJlY29nbml6ZXIgdG8gdGhlIG1hbmFnZXJcbiAgICAgKiBleGlzdGluZyByZWNvZ25pemVycyB3aXRoIHRoZSBzYW1lIGV2ZW50IG5hbWUgd2lsbCBiZSByZW1vdmVkXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSByZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ8TWFuYWdlcn1cbiAgICAgKi9cbiAgICBhZGQ6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKHJlY29nbml6ZXIsICdhZGQnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW1vdmUgZXhpc3RpbmdcbiAgICAgICAgdmFyIGV4aXN0aW5nID0gdGhpcy5nZXQocmVjb2duaXplci5vcHRpb25zLmV2ZW50KTtcbiAgICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZShleGlzdGluZyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlY29nbml6ZXJzLnB1c2gocmVjb2duaXplcik7XG4gICAgICAgIHJlY29nbml6ZXIubWFuYWdlciA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKTtcbiAgICAgICAgcmV0dXJuIHJlY29nbml6ZXI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlbW92ZSBhIHJlY29nbml6ZXIgYnkgbmFtZSBvciBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcnxTdHJpbmd9IHJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7TWFuYWdlcn1cbiAgICAgKi9cbiAgICByZW1vdmU6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKHJlY29nbml6ZXIsICdyZW1vdmUnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICByZWNvZ25pemVyID0gdGhpcy5nZXQocmVjb2duaXplcik7XG5cbiAgICAgICAgLy8gbGV0J3MgbWFrZSBzdXJlIHRoaXMgcmVjb2duaXplciBleGlzdHNcbiAgICAgICAgaWYgKHJlY29nbml6ZXIpIHtcbiAgICAgICAgICAgIHZhciByZWNvZ25pemVycyA9IHRoaXMucmVjb2duaXplcnM7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpbkFycmF5KHJlY29nbml6ZXJzLCByZWNvZ25pemVyKTtcblxuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJlY29nbml6ZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBiaW5kIGV2ZW50XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50c1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJcbiAgICAgKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSB0aGlzXG4gICAgICovXG4gICAgb246IGZ1bmN0aW9uKGV2ZW50cywgaGFuZGxlcikge1xuICAgICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzO1xuICAgICAgICBlYWNoKHNwbGl0U3RyKGV2ZW50cyksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBoYW5kbGVyc1tldmVudF0gPSBoYW5kbGVyc1tldmVudF0gfHwgW107XG4gICAgICAgICAgICBoYW5kbGVyc1tldmVudF0ucHVzaChoYW5kbGVyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiB1bmJpbmQgZXZlbnQsIGxlYXZlIGVtaXQgYmxhbmsgdG8gcmVtb3ZlIGFsbCBoYW5kbGVyc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudHNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaGFuZGxlcl1cbiAgICAgKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSB0aGlzXG4gICAgICovXG4gICAgb2ZmOiBmdW5jdGlvbihldmVudHMsIGhhbmRsZXIpIHtcbiAgICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzO1xuICAgICAgICBlYWNoKHNwbGl0U3RyKGV2ZW50cyksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgaGFuZGxlcnNbZXZlbnRdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyc1tldmVudF0gJiYgaGFuZGxlcnNbZXZlbnRdLnNwbGljZShpbkFycmF5KGhhbmRsZXJzW2V2ZW50XSwgaGFuZGxlciksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGVtaXQgZXZlbnQgdG8gdGhlIGxpc3RlbmVyc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAgICovXG4gICAgZW1pdDogZnVuY3Rpb24oZXZlbnQsIGRhdGEpIHtcbiAgICAgICAgLy8gd2UgYWxzbyB3YW50IHRvIHRyaWdnZXIgZG9tIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmRvbUV2ZW50cykge1xuICAgICAgICAgICAgdHJpZ2dlckRvbUV2ZW50KGV2ZW50LCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vIGhhbmRsZXJzLCBzbyBza2lwIGl0IGFsbFxuICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzW2V2ZW50XSAmJiB0aGlzLmhhbmRsZXJzW2V2ZW50XS5zbGljZSgpO1xuICAgICAgICBpZiAoIWhhbmRsZXJzIHx8ICFoYW5kbGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGEudHlwZSA9IGV2ZW50O1xuICAgICAgICBkYXRhLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkYXRhLnNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IGhhbmRsZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgaGFuZGxlcnNbaV0oZGF0YSk7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZGVzdHJveSB0aGUgbWFuYWdlciBhbmQgdW5iaW5kcyBhbGwgZXZlbnRzXG4gICAgICogaXQgZG9lc24ndCB1bmJpbmQgZG9tIGV2ZW50cywgdGhhdCBpcyB0aGUgdXNlciBvd24gcmVzcG9uc2liaWxpdHlcbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ICYmIHRvZ2dsZUNzc1Byb3BzKHRoaXMsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLmhhbmRsZXJzID0ge307XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHt9O1xuICAgICAgICB0aGlzLmlucHV0LmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcbiAgICB9XG59O1xuXG4vKipcbiAqIGFkZC9yZW1vdmUgdGhlIGNzcyBwcm9wZXJ0aWVzIGFzIGRlZmluZWQgaW4gbWFuYWdlci5vcHRpb25zLmNzc1Byb3BzXG4gKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gYWRkXG4gKi9cbmZ1bmN0aW9uIHRvZ2dsZUNzc1Byb3BzKG1hbmFnZXIsIGFkZCkge1xuICAgIHZhciBlbGVtZW50ID0gbWFuYWdlci5lbGVtZW50O1xuICAgIGlmICghZWxlbWVudC5zdHlsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBwcm9wO1xuICAgIGVhY2gobWFuYWdlci5vcHRpb25zLmNzc1Byb3BzLCBmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgICBwcm9wID0gcHJlZml4ZWQoZWxlbWVudC5zdHlsZSwgbmFtZSk7XG4gICAgICAgIGlmIChhZGQpIHtcbiAgICAgICAgICAgIG1hbmFnZXIub2xkQ3NzUHJvcHNbcHJvcF0gPSBlbGVtZW50LnN0eWxlW3Byb3BdO1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZVtwcm9wXSA9IHZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZVtwcm9wXSA9IG1hbmFnZXIub2xkQ3NzUHJvcHNbcHJvcF0gfHwgJyc7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWFkZCkge1xuICAgICAgICBtYW5hZ2VyLm9sZENzc1Byb3BzID0ge307XG4gICAgfVxufVxuXG4vKipcbiAqIHRyaWdnZXIgZG9tIGV2ZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gKi9cbmZ1bmN0aW9uIHRyaWdnZXJEb21FdmVudChldmVudCwgZGF0YSkge1xuICAgIHZhciBnZXN0dXJlRXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgICBnZXN0dXJlRXZlbnQuaW5pdEV2ZW50KGV2ZW50LCB0cnVlLCB0cnVlKTtcbiAgICBnZXN0dXJlRXZlbnQuZ2VzdHVyZSA9IGRhdGE7XG4gICAgZGF0YS50YXJnZXQuZGlzcGF0Y2hFdmVudChnZXN0dXJlRXZlbnQpO1xufVxuXG5hc3NpZ24oSGFtbWVyLCB7XG4gICAgSU5QVVRfU1RBUlQ6IElOUFVUX1NUQVJULFxuICAgIElOUFVUX01PVkU6IElOUFVUX01PVkUsXG4gICAgSU5QVVRfRU5EOiBJTlBVVF9FTkQsXG4gICAgSU5QVVRfQ0FOQ0VMOiBJTlBVVF9DQU5DRUwsXG5cbiAgICBTVEFURV9QT1NTSUJMRTogU1RBVEVfUE9TU0lCTEUsXG4gICAgU1RBVEVfQkVHQU46IFNUQVRFX0JFR0FOLFxuICAgIFNUQVRFX0NIQU5HRUQ6IFNUQVRFX0NIQU5HRUQsXG4gICAgU1RBVEVfRU5ERUQ6IFNUQVRFX0VOREVELFxuICAgIFNUQVRFX1JFQ09HTklaRUQ6IFNUQVRFX1JFQ09HTklaRUQsXG4gICAgU1RBVEVfQ0FOQ0VMTEVEOiBTVEFURV9DQU5DRUxMRUQsXG4gICAgU1RBVEVfRkFJTEVEOiBTVEFURV9GQUlMRUQsXG5cbiAgICBESVJFQ1RJT05fTk9ORTogRElSRUNUSU9OX05PTkUsXG4gICAgRElSRUNUSU9OX0xFRlQ6IERJUkVDVElPTl9MRUZULFxuICAgIERJUkVDVElPTl9SSUdIVDogRElSRUNUSU9OX1JJR0hULFxuICAgIERJUkVDVElPTl9VUDogRElSRUNUSU9OX1VQLFxuICAgIERJUkVDVElPTl9ET1dOOiBESVJFQ1RJT05fRE9XTixcbiAgICBESVJFQ1RJT05fSE9SSVpPTlRBTDogRElSRUNUSU9OX0hPUklaT05UQUwsXG4gICAgRElSRUNUSU9OX1ZFUlRJQ0FMOiBESVJFQ1RJT05fVkVSVElDQUwsXG4gICAgRElSRUNUSU9OX0FMTDogRElSRUNUSU9OX0FMTCxcblxuICAgIE1hbmFnZXI6IE1hbmFnZXIsXG4gICAgSW5wdXQ6IElucHV0LFxuICAgIFRvdWNoQWN0aW9uOiBUb3VjaEFjdGlvbixcblxuICAgIFRvdWNoSW5wdXQ6IFRvdWNoSW5wdXQsXG4gICAgTW91c2VJbnB1dDogTW91c2VJbnB1dCxcbiAgICBQb2ludGVyRXZlbnRJbnB1dDogUG9pbnRlckV2ZW50SW5wdXQsXG4gICAgVG91Y2hNb3VzZUlucHV0OiBUb3VjaE1vdXNlSW5wdXQsXG4gICAgU2luZ2xlVG91Y2hJbnB1dDogU2luZ2xlVG91Y2hJbnB1dCxcblxuICAgIFJlY29nbml6ZXI6IFJlY29nbml6ZXIsXG4gICAgQXR0clJlY29nbml6ZXI6IEF0dHJSZWNvZ25pemVyLFxuICAgIFRhcDogVGFwUmVjb2duaXplcixcbiAgICBQYW46IFBhblJlY29nbml6ZXIsXG4gICAgU3dpcGU6IFN3aXBlUmVjb2duaXplcixcbiAgICBQaW5jaDogUGluY2hSZWNvZ25pemVyLFxuICAgIFJvdGF0ZTogUm90YXRlUmVjb2duaXplcixcbiAgICBQcmVzczogUHJlc3NSZWNvZ25pemVyLFxuXG4gICAgb246IGFkZEV2ZW50TGlzdGVuZXJzLFxuICAgIG9mZjogcmVtb3ZlRXZlbnRMaXN0ZW5lcnMsXG4gICAgZWFjaDogZWFjaCxcbiAgICBtZXJnZTogbWVyZ2UsXG4gICAgZXh0ZW5kOiBleHRlbmQsXG4gICAgYXNzaWduOiBhc3NpZ24sXG4gICAgaW5oZXJpdDogaW5oZXJpdCxcbiAgICBiaW5kRm46IGJpbmRGbixcbiAgICBwcmVmaXhlZDogcHJlZml4ZWRcbn0pO1xuXG4vLyB0aGlzIHByZXZlbnRzIGVycm9ycyB3aGVuIEhhbW1lciBpcyBsb2FkZWQgaW4gdGhlIHByZXNlbmNlIG9mIGFuIEFNRFxuLy8gIHN0eWxlIGxvYWRlciBidXQgYnkgc2NyaXB0IHRhZywgbm90IGJ5IHRoZSBsb2FkZXIuXG52YXIgZnJlZUdsb2JhbCA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6ICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDoge30pKTsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5mcmVlR2xvYmFsLkhhbW1lciA9IEhhbW1lcjtcblxuaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIEhhbW1lcjtcbiAgICB9KTtcbn0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gSGFtbWVyO1xufSBlbHNlIHtcbiAgICB3aW5kb3dbZXhwb3J0TmFtZV0gPSBIYW1tZXI7XG59XG5cbn0pKHdpbmRvdywgZG9jdW1lbnQsICdIYW1tZXInKTtcbiIsIi8qIVxuICogIGhvd2xlci5qcyB2Mi4wLjJcbiAqICBob3dsZXJqcy5jb21cbiAqXG4gKiAgKGMpIDIwMTMtMjAxNiwgSmFtZXMgU2ltcHNvbiBvZiBHb2xkRmlyZSBTdHVkaW9zXG4gKiAgZ29sZGZpcmVzdHVkaW9zLmNvbVxuICpcbiAqICBNSVQgTGljZW5zZVxuICovXG5cbihmdW5jdGlvbigpIHtcblxuICAvLyAndXNlIHN0cmljdCc7XG5cbiAgLyoqIEdsb2JhbCBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIGdsb2JhbCBjb250cm9sbGVyLiBBbGwgY29udGFpbmVkIG1ldGhvZHMgYW5kIHByb3BlcnRpZXMgYXBwbHlcbiAgICogdG8gYWxsIHNvdW5kcyB0aGF0IGFyZSBjdXJyZW50bHkgcGxheWluZyBvciB3aWxsIGJlIGluIHRoZSBmdXR1cmUuXG4gICAqL1xuICB2YXIgSG93bGVyR2xvYmFsID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5pbml0KCk7XG4gIH07XG4gIEhvd2xlckdsb2JhbC5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgZ2xvYmFsIEhvd2xlciBvYmplY3QuXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcblxuICAgICAgLy8gSW50ZXJuYWwgcHJvcGVydGllcy5cbiAgICAgIHNlbGYuX2NvZGVjcyA9IHt9O1xuICAgICAgc2VsZi5faG93bHMgPSBbXTtcbiAgICAgIHNlbGYuX211dGVkID0gZmFsc2U7XG4gICAgICBzZWxmLl92b2x1bWUgPSAxO1xuICAgICAgc2VsZi5fY2FuUGxheUV2ZW50ID0gJ2NhbnBsYXl0aHJvdWdoJztcbiAgICAgIHNlbGYuX25hdmlnYXRvciA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cubmF2aWdhdG9yKSA/IHdpbmRvdy5uYXZpZ2F0b3IgOiBudWxsO1xuXG4gICAgICAvLyBQdWJsaWMgcHJvcGVydGllcy5cbiAgICAgIHNlbGYubWFzdGVyR2FpbiA9IG51bGw7XG4gICAgICBzZWxmLm5vQXVkaW8gPSBmYWxzZTtcbiAgICAgIHNlbGYudXNpbmdXZWJBdWRpbyA9IHRydWU7XG4gICAgICBzZWxmLmF1dG9TdXNwZW5kID0gdHJ1ZTtcbiAgICAgIHNlbGYuY3R4ID0gbnVsbDtcblxuICAgICAgLy8gU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgdGhlIGF1dG8gaU9TIGVuYWJsZXIuXG4gICAgICBzZWxmLm1vYmlsZUF1dG9FbmFibGUgPSB0cnVlO1xuXG4gICAgICAvLyBTZXR1cCB0aGUgdmFyaW91cyBzdGF0ZSB2YWx1ZXMgZm9yIGdsb2JhbCB0cmFja2luZy5cbiAgICAgIHNlbGYuX3NldHVwKCk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQvc2V0IHRoZSBnbG9iYWwgdm9sdW1lIGZvciBhbGwgc291bmRzLlxuICAgICAqIEBwYXJhbSAge0Zsb2F0fSB2b2wgVm9sdW1lIGZyb20gMC4wIHRvIDEuMC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXIvRmxvYXR9ICAgICBSZXR1cm5zIHNlbGYgb3IgY3VycmVudCB2b2x1bWUuXG4gICAgICovXG4gICAgdm9sdW1lOiBmdW5jdGlvbih2b2wpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG4gICAgICB2b2wgPSBwYXJzZUZsb2F0KHZvbCk7XG5cbiAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYW4gQXVkaW9Db250ZXh0IGNyZWF0ZWQgeWV0LCBydW4gdGhlIHNldHVwLlxuICAgICAgaWYgKCFzZWxmLmN0eCkge1xuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHZvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgdm9sID49IDAgJiYgdm9sIDw9IDEpIHtcbiAgICAgICAgc2VsZi5fdm9sdW1lID0gdm9sO1xuXG4gICAgICAgIC8vIERvbid0IHVwZGF0ZSBhbnkgb2YgdGhlIG5vZGVzIGlmIHdlIGFyZSBtdXRlZC5cbiAgICAgICAgaWYgKHNlbGYuX211dGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXaGVuIHVzaW5nIFdlYiBBdWRpbywgd2UganVzdCBuZWVkIHRvIGFkanVzdCB0aGUgbWFzdGVyIGdhaW4uXG4gICAgICAgIGlmIChzZWxmLnVzaW5nV2ViQXVkaW8pIHtcbiAgICAgICAgICBzZWxmLm1hc3RlckdhaW4uZ2Fpbi52YWx1ZSA9IHZvbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBhbmQgY2hhbmdlIHZvbHVtZSBmb3IgYWxsIEhUTUw1IGF1ZGlvIG5vZGVzLlxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5faG93bHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoIXNlbGYuX2hvd2xzW2ldLl93ZWJBdWRpbykge1xuICAgICAgICAgICAgLy8gR2V0IGFsbCBvZiB0aGUgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cbiAgICAgICAgICAgIHZhciBpZHMgPSBzZWxmLl9ob3dsc1tpXS5fZ2V0U291bmRJZHMoKTtcblxuICAgICAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCBzb3VuZHMgYW5kIGNoYW5nZSB0aGUgdm9sdW1lcy5cbiAgICAgICAgICAgIGZvciAodmFyIGo9MDsgajxpZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgdmFyIHNvdW5kID0gc2VsZi5faG93bHNbaV0uX3NvdW5kQnlJZChpZHNbal0pO1xuXG4gICAgICAgICAgICAgIGlmIChzb3VuZCAmJiBzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLnZvbHVtZSA9IHNvdW5kLl92b2x1bWUgKiB2b2w7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGYuX3ZvbHVtZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIG11dGluZyBhbmQgdW5tdXRpbmcgZ2xvYmFsbHkuXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gbXV0ZWQgSXMgbXV0ZWQgb3Igbm90LlxuICAgICAqL1xuICAgIG11dGU6IGZ1bmN0aW9uKG11dGVkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xuXG4gICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGFuIEF1ZGlvQ29udGV4dCBjcmVhdGVkIHlldCwgcnVuIHRoZSBzZXR1cC5cbiAgICAgIGlmICghc2VsZi5jdHgpIHtcbiAgICAgICAgc2V0dXBBdWRpb0NvbnRleHQoKTtcbiAgICAgIH1cblxuICAgICAgc2VsZi5fbXV0ZWQgPSBtdXRlZDtcblxuICAgICAgLy8gV2l0aCBXZWIgQXVkaW8sIHdlIGp1c3QgbmVlZCB0byBtdXRlIHRoZSBtYXN0ZXIgZ2Fpbi5cbiAgICAgIGlmIChzZWxmLnVzaW5nV2ViQXVkaW8pIHtcbiAgICAgICAgc2VsZi5tYXN0ZXJHYWluLmdhaW4udmFsdWUgPSBtdXRlZCA/IDAgOiBzZWxmLl92b2x1bWU7XG4gICAgICB9XG5cbiAgICAgIC8vIExvb3AgdGhyb3VnaCBhbmQgbXV0ZSBhbGwgSFRNTDUgQXVkaW8gbm9kZXMuXG4gICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5faG93bHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFzZWxmLl9ob3dsc1tpXS5fd2ViQXVkaW8pIHtcbiAgICAgICAgICAvLyBHZXQgYWxsIG9mIHRoZSBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxuICAgICAgICAgIHZhciBpZHMgPSBzZWxmLl9ob3dsc1tpXS5fZ2V0U291bmRJZHMoKTtcblxuICAgICAgICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgc291bmRzIGFuZCBtYXJrIHRoZSBhdWRpbyBub2RlIGFzIG11dGVkLlxuICAgICAgICAgIGZvciAodmFyIGo9MDsgajxpZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX2hvd2xzW2ldLl9zb3VuZEJ5SWQoaWRzW2pdKTtcblxuICAgICAgICAgICAgaWYgKHNvdW5kICYmIHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLm11dGVkID0gKG11dGVkKSA/IHRydWUgOiBzb3VuZC5fbXV0ZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBVbmxvYWQgYW5kIGRlc3Ryb3kgYWxsIGN1cnJlbnRseSBsb2FkZWQgSG93bCBvYmplY3RzLlxuICAgICAqIEByZXR1cm4ge0hvd2xlcn1cbiAgICAgKi9cbiAgICB1bmxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcblxuICAgICAgZm9yICh2YXIgaT1zZWxmLl9ob3dscy5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XG4gICAgICAgIHNlbGYuX2hvd2xzW2ldLnVubG9hZCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgYSBuZXcgQXVkaW9Db250ZXh0IHRvIG1ha2Ugc3VyZSBpdCBpcyBmdWxseSByZXNldC5cbiAgICAgIGlmIChzZWxmLnVzaW5nV2ViQXVkaW8gJiYgc2VsZi5jdHggJiYgdHlwZW9mIHNlbGYuY3R4LmNsb3NlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzZWxmLmN0eC5jbG9zZSgpO1xuICAgICAgICBzZWxmLmN0eCA9IG51bGw7XG4gICAgICAgIHNldHVwQXVkaW9Db250ZXh0KCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBmb3IgY29kZWMgc3VwcG9ydCBvZiBzcGVjaWZpYyBleHRlbnNpb24uXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBleHQgQXVkaW8gZmlsZSBleHRlbnRpb24uXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBjb2RlY3M6IGZ1bmN0aW9uKGV4dCkge1xuICAgICAgcmV0dXJuICh0aGlzIHx8IEhvd2xlcikuX2NvZGVjc1tleHQucmVwbGFjZSgvXngtLywgJycpXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0dXAgdmFyaW91cyBzdGF0ZSB2YWx1ZXMgZm9yIGdsb2JhbCB0cmFja2luZy5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgX3NldHVwOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIC8vIEtlZXBzIHRyYWNrIG9mIHRoZSBzdXNwZW5kL3Jlc3VtZSBzdGF0ZSBvZiB0aGUgQXVkaW9Db250ZXh0LlxuICAgICAgc2VsZi5zdGF0ZSA9IHNlbGYuY3R4ID8gc2VsZi5jdHguc3RhdGUgfHwgJ3J1bm5pbmcnIDogJ3J1bm5pbmcnO1xuXG4gICAgICAvLyBBdXRvbWF0aWNhbGx5IGJlZ2luIHRoZSAzMC1zZWNvbmQgc3VzcGVuZCBwcm9jZXNzXG4gICAgICBzZWxmLl9hdXRvU3VzcGVuZCgpO1xuXG4gICAgICAvLyBDaGVjayBpZiBhdWRpbyBpcyBhdmFpbGFibGUuXG4gICAgICBpZiAoIXNlbGYudXNpbmdXZWJBdWRpbykge1xuICAgICAgICAvLyBObyBhdWRpbyBpcyBhdmFpbGFibGUgb24gdGhpcyBzeXN0ZW0gaWYgbm9BdWRpbyBpcyBzZXQgdG8gdHJ1ZS5cbiAgICAgICAgaWYgKHR5cGVvZiBBdWRpbyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHRlc3QgPSBuZXcgQXVkaW8oKTtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGNhbnBsYXl0aHJvdWdoIGV2ZW50IGlzIGF2YWlsYWJsZS5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVzdC5vbmNhbnBsYXl0aHJvdWdoID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICBzZWxmLl9jYW5QbGF5RXZlbnQgPSAnY2FucGxheSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICBzZWxmLm5vQXVkaW8gPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLm5vQXVkaW8gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRlc3QgdG8gbWFrZSBzdXJlIGF1ZGlvIGlzbid0IGRpc2FibGVkIGluIEludGVybmV0IEV4cGxvcmVyLlxuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHRlc3QgPSBuZXcgQXVkaW8oKTtcbiAgICAgICAgaWYgKHRlc3QubXV0ZWQpIHtcbiAgICAgICAgICBzZWxmLm5vQXVkaW8gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7fVxuXG4gICAgICAvLyBDaGVjayBmb3Igc3VwcG9ydGVkIGNvZGVjcy5cbiAgICAgIGlmICghc2VsZi5ub0F1ZGlvKSB7XG4gICAgICAgIHNlbGYuX3NldHVwQ29kZWNzKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBmb3IgYnJvd3NlciBzdXBwb3J0IGZvciB2YXJpb3VzIGNvZGVjcyBhbmQgY2FjaGUgdGhlIHJlc3VsdHMuXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIF9zZXR1cENvZGVjczogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xuICAgICAgdmFyIGF1ZGlvVGVzdCA9IG51bGw7XG5cbiAgICAgIC8vIE11c3Qgd3JhcCBpbiBhIHRyeS9jYXRjaCBiZWNhdXNlIElFMTEgaW4gc2VydmVyIG1vZGUgdGhyb3dzIGFuIGVycm9yLlxuICAgICAgdHJ5IHtcbiAgICAgICAgYXVkaW9UZXN0ID0gKHR5cGVvZiBBdWRpbyAhPT0gJ3VuZGVmaW5lZCcpID8gbmV3IEF1ZGlvKCkgOiBudWxsO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWF1ZGlvVGVzdCB8fCB0eXBlb2YgYXVkaW9UZXN0LmNhblBsYXlUeXBlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICB2YXIgbXBlZ1Rlc3QgPSBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL21wZWc7JykucmVwbGFjZSgvXm5vJC8sICcnKTtcblxuICAgICAgLy8gT3BlcmEgdmVyc2lvbiA8MzMgaGFzIG1peGVkIE1QMyBzdXBwb3J0LCBzbyB3ZSBuZWVkIHRvIGNoZWNrIGZvciBhbmQgYmxvY2sgaXQuXG4gICAgICB2YXIgY2hlY2tPcGVyYSA9IHNlbGYuX25hdmlnYXRvciAmJiBzZWxmLl9uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9PUFJcXC8oWzAtNl0uKS9nKTtcbiAgICAgIHZhciBpc09sZE9wZXJhID0gKGNoZWNrT3BlcmEgJiYgcGFyc2VJbnQoY2hlY2tPcGVyYVswXS5zcGxpdCgnLycpWzFdLCAxMCkgPCAzMyk7XG5cbiAgICAgIHNlbGYuX2NvZGVjcyA9IHtcbiAgICAgICAgbXAzOiAhISghaXNPbGRPcGVyYSAmJiAobXBlZ1Rlc3QgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9tcDM7JykucmVwbGFjZSgvXm5vJC8sICcnKSkpLFxuICAgICAgICBtcGVnOiAhIW1wZWdUZXN0LFxuICAgICAgICBvcHVzOiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vb2dnOyBjb2RlY3M9XCJvcHVzXCInKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBvZ2c6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9vZ2c7IGNvZGVjcz1cInZvcmJpc1wiJykucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgb2dhOiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vb2dnOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIHdhdjogISFhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3dhdjsgY29kZWNzPVwiMVwiJykucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgYWFjOiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vYWFjOycpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIGNhZjogISFhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3gtY2FmOycpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIG00YTogISEoYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby94LW00YTsnKSB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL200YTsnKSB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL2FhYzsnKSkucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgbXA0OiAhIShhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3gtbXA0OycpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vbXA0OycpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vYWFjOycpKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICB3ZWJhOiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vd2VibTsgY29kZWNzPVwidm9yYmlzXCInKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICB3ZWJtOiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vd2VibTsgY29kZWNzPVwidm9yYmlzXCInKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBkb2xieTogISFhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL21wNDsgY29kZWNzPVwiZWMtM1wiJykucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgZmxhYzogISEoYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby94LWZsYWM7JykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9mbGFjOycpKS5yZXBsYWNlKC9ebm8kLywgJycpXG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTW9iaWxlIGJyb3dzZXJzIHdpbGwgb25seSBhbGxvdyBhdWRpbyB0byBiZSBwbGF5ZWQgYWZ0ZXIgYSB1c2VyIGludGVyYWN0aW9uLlxuICAgICAqIEF0dGVtcHQgdG8gYXV0b21hdGljYWxseSB1bmxvY2sgYXVkaW8gb24gdGhlIGZpcnN0IHVzZXIgaW50ZXJhY3Rpb24uXG4gICAgICogQ29uY2VwdCBmcm9tOiBodHRwOi8vcGF1bGJha2F1cy5jb20vdHV0b3JpYWxzL2h0bWw1L3dlYi1hdWRpby1vbi1pb3MvXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIF9lbmFibGVNb2JpbGVBdWRpbzogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xuXG4gICAgICAvLyBPbmx5IHJ1biB0aGlzIG9uIG1vYmlsZSBkZXZpY2VzIGlmIGF1ZGlvIGlzbid0IGFscmVhZHkgZWFuYmxlZC5cbiAgICAgIHZhciBpc01vYmlsZSA9IC9pUGhvbmV8aVBhZHxpUG9kfEFuZHJvaWR8QmxhY2tCZXJyeXxCQjEwfFNpbGt8TW9iaS9pLnRlc3Qoc2VsZi5fbmF2aWdhdG9yICYmIHNlbGYuX25hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgICAgdmFyIGlzVG91Y2ggPSAhISgoJ29udG91Y2hlbmQnIGluIHdpbmRvdykgfHwgKHNlbGYuX25hdmlnYXRvciAmJiBzZWxmLl9uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAwKSB8fCAoc2VsZi5fbmF2aWdhdG9yICYmIHNlbGYuX25hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzID4gMCkpO1xuICAgICAgaWYgKHNlbGYuX21vYmlsZUVuYWJsZWQgfHwgIXNlbGYuY3R4IHx8ICghaXNNb2JpbGUgJiYgIWlzVG91Y2gpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc2VsZi5fbW9iaWxlRW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgICAvLyBTb21lIG1vYmlsZSBkZXZpY2VzL3BsYXRmb3JtcyBoYXZlIGRpc3RvcnRpb24gaXNzdWVzIHdoZW4gb3BlbmluZy9jbG9zaW5nIHRhYnMgYW5kL29yIHdlYiB2aWV3cy5cbiAgICAgIC8vIEJ1Z3MgaW4gdGhlIGJyb3dzZXIgKGVzcGVjaWFsbHkgTW9iaWxlIFNhZmFyaSkgY2FuIGNhdXNlIHRoZSBzYW1wbGVSYXRlIHRvIGNoYW5nZSBmcm9tIDQ0MTAwIHRvIDQ4MDAwLlxuICAgICAgLy8gQnkgY2FsbGluZyBIb3dsZXIudW5sb2FkKCksIHdlIGNyZWF0ZSBhIG5ldyBBdWRpb0NvbnRleHQgd2l0aCB0aGUgY29ycmVjdCBzYW1wbGVSYXRlLlxuICAgICAgaWYgKCFzZWxmLl9tb2JpbGVVbmxvYWRlZCAmJiBzZWxmLmN0eC5zYW1wbGVSYXRlICE9PSA0NDEwMCkge1xuICAgICAgICBzZWxmLl9tb2JpbGVVbmxvYWRlZCA9IHRydWU7XG4gICAgICAgIHNlbGYudW5sb2FkKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNjcmF0Y2ggYnVmZmVyIGZvciBlbmFibGluZyBpT1MgdG8gZGlzcG9zZSBvZiB3ZWIgYXVkaW8gYnVmZmVycyBjb3JyZWN0bHksIGFzIHBlcjpcbiAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjQxMTk2ODRcbiAgICAgIHNlbGYuX3NjcmF0Y2hCdWZmZXIgPSBzZWxmLmN0eC5jcmVhdGVCdWZmZXIoMSwgMSwgMjIwNTApO1xuXG4gICAgICAvLyBDYWxsIHRoaXMgbWV0aG9kIG9uIHRvdWNoIHN0YXJ0IHRvIGNyZWF0ZSBhbmQgcGxheSBhIGJ1ZmZlcixcbiAgICAgIC8vIHRoZW4gY2hlY2sgaWYgdGhlIGF1ZGlvIGFjdHVhbGx5IHBsYXllZCB0byBkZXRlcm1pbmUgaWZcbiAgICAgIC8vIGF1ZGlvIGhhcyBub3cgYmVlbiB1bmxvY2tlZCBvbiBpT1MsIEFuZHJvaWQsIGV0Yy5cbiAgICAgIHZhciB1bmxvY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gQ3JlYXRlIGFuIGVtcHR5IGJ1ZmZlci5cbiAgICAgICAgdmFyIHNvdXJjZSA9IHNlbGYuY3R4LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuICAgICAgICBzb3VyY2UuYnVmZmVyID0gc2VsZi5fc2NyYXRjaEJ1ZmZlcjtcbiAgICAgICAgc291cmNlLmNvbm5lY3Qoc2VsZi5jdHguZGVzdGluYXRpb24pO1xuXG4gICAgICAgIC8vIFBsYXkgdGhlIGVtcHR5IGJ1ZmZlci5cbiAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2Uuc3RhcnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgc291cmNlLm5vdGVPbigwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzb3VyY2Uuc3RhcnQoMCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXR1cCBhIHRpbWVvdXQgdG8gY2hlY2sgdGhhdCB3ZSBhcmUgdW5sb2NrZWQgb24gdGhlIG5leHQgZXZlbnQgbG9vcC5cbiAgICAgICAgc291cmNlLm9uZW5kZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzb3VyY2UuZGlzY29ubmVjdCgwKTtcblxuICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgdW5sb2NrZWQgc3RhdGUgYW5kIHByZXZlbnQgdGhpcyBjaGVjayBmcm9tIGhhcHBlbmluZyBhZ2Fpbi5cbiAgICAgICAgICBzZWxmLl9tb2JpbGVFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICBzZWxmLm1vYmlsZUF1dG9FbmFibGUgPSBmYWxzZTtcblxuICAgICAgICAgIC8vIFJlbW92ZSB0aGUgdG91Y2ggc3RhcnQgbGlzdGVuZXIuXG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB1bmxvY2ssIHRydWUpO1xuICAgICAgICB9O1xuICAgICAgfTtcblxuICAgICAgLy8gU2V0dXAgYSB0b3VjaCBzdGFydCBsaXN0ZW5lciB0byBhdHRlbXB0IGFuIHVubG9jayBpbi5cbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdW5sb2NrLCB0cnVlKTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEF1dG9tYXRpY2FsbHkgc3VzcGVuZCB0aGUgV2ViIEF1ZGlvIEF1ZGlvQ29udGV4dCBhZnRlciBubyBzb3VuZCBoYXMgcGxheWVkIGZvciAzMCBzZWNvbmRzLlxuICAgICAqIFRoaXMgc2F2ZXMgcHJvY2Vzc2luZy9lbmVyZ3kgYW5kIGZpeGVzIHZhcmlvdXMgYnJvd3Nlci1zcGVjaWZpYyBidWdzIHdpdGggYXVkaW8gZ2V0dGluZyBzdHVjay5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgX2F1dG9TdXNwZW5kOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgaWYgKCFzZWxmLmF1dG9TdXNwZW5kIHx8ICFzZWxmLmN0eCB8fCB0eXBlb2Ygc2VsZi5jdHguc3VzcGVuZCA9PT0gJ3VuZGVmaW5lZCcgfHwgIUhvd2xlci51c2luZ1dlYkF1ZGlvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgaWYgYW55IHNvdW5kcyBhcmUgcGxheWluZy5cbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9ob3dscy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc2VsZi5faG93bHNbaV0uX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgZm9yICh2YXIgaj0wOyBqPHNlbGYuX2hvd2xzW2ldLl9zb3VuZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmICghc2VsZi5faG93bHNbaV0uX3NvdW5kc1tqXS5fcGF1c2VkKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoc2VsZi5fc3VzcGVuZFRpbWVyKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChzZWxmLl9zdXNwZW5kVGltZXIpO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBubyBzb3VuZCBoYXMgcGxheWVkIGFmdGVyIDMwIHNlY29uZHMsIHN1c3BlbmQgdGhlIGNvbnRleHQuXG4gICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXNlbGYuYXV0b1N1c3BlbmQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBudWxsO1xuICAgICAgICBzZWxmLnN0YXRlID0gJ3N1c3BlbmRpbmcnO1xuICAgICAgICBzZWxmLmN0eC5zdXNwZW5kKCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLnN0YXRlID0gJ3N1c3BlbmRlZCc7XG5cbiAgICAgICAgICBpZiAoc2VsZi5fcmVzdW1lQWZ0ZXJTdXNwZW5kKSB7XG4gICAgICAgICAgICBkZWxldGUgc2VsZi5fcmVzdW1lQWZ0ZXJTdXNwZW5kO1xuICAgICAgICAgICAgc2VsZi5fYXV0b1Jlc3VtZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LCAzMDAwMCk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBdXRvbWF0aWNhbGx5IHJlc3VtZSB0aGUgV2ViIEF1ZGlvIEF1ZGlvQ29udGV4dCB3aGVuIGEgbmV3IHNvdW5kIGlzIHBsYXllZC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgX2F1dG9SZXN1bWU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBpZiAoIXNlbGYuY3R4IHx8IHR5cGVvZiBzZWxmLmN0eC5yZXN1bWUgPT09ICd1bmRlZmluZWQnIHx8ICFIb3dsZXIudXNpbmdXZWJBdWRpbykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChzZWxmLnN0YXRlID09PSAncnVubmluZycgJiYgc2VsZi5fc3VzcGVuZFRpbWVyKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChzZWxmLl9zdXNwZW5kVGltZXIpO1xuICAgICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBudWxsO1xuICAgICAgfSBlbHNlIGlmIChzZWxmLnN0YXRlID09PSAnc3VzcGVuZGVkJykge1xuICAgICAgICBzZWxmLnN0YXRlID0gJ3Jlc3VtaW5nJztcbiAgICAgICAgc2VsZi5jdHgucmVzdW1lKCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLnN0YXRlID0gJ3J1bm5pbmcnO1xuXG4gICAgICAgICAgLy8gRW1pdCB0byBhbGwgSG93bHMgdGhhdCB0aGUgYXVkaW8gaGFzIHJlc3VtZWQuXG4gICAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBzZWxmLl9ob3dsc1tpXS5fZW1pdCgncmVzdW1lJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoc2VsZi5fc3VzcGVuZFRpbWVyKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHNlbGYuX3N1c3BlbmRUaW1lcik7XG4gICAgICAgICAgc2VsZi5fc3VzcGVuZFRpbWVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzZWxmLnN0YXRlID09PSAnc3VzcGVuZGluZycpIHtcbiAgICAgICAgc2VsZi5fcmVzdW1lQWZ0ZXJTdXNwZW5kID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuICB9O1xuXG4gIC8vIFNldHVwIHRoZSBnbG9iYWwgYXVkaW8gY29udHJvbGxlci5cbiAgdmFyIEhvd2xlciA9IG5ldyBIb3dsZXJHbG9iYWwoKTtcblxuICAvKiogR3JvdXAgTWV0aG9kcyAqKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAvKipcbiAgICogQ3JlYXRlIGFuIGF1ZGlvIGdyb3VwIGNvbnRyb2xsZXIuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvIFBhc3NlZCBpbiBwcm9wZXJ0aWVzIGZvciB0aGlzIGdyb3VwLlxuICAgKi9cbiAgdmFyIEhvd2wgPSBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gVGhyb3cgYW4gZXJyb3IgaWYgbm8gc291cmNlIGlzIHByb3ZpZGVkLlxuICAgIGlmICghby5zcmMgfHwgby5zcmMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdBbiBhcnJheSBvZiBzb3VyY2UgZmlsZXMgbXVzdCBiZSBwYXNzZWQgd2l0aCBhbnkgbmV3IEhvd2wuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2VsZi5pbml0KG8pO1xuICB9O1xuICBIb3dsLnByb3RvdHlwZSA9IHtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGEgbmV3IEhvd2wgZ3JvdXAgb2JqZWN0LlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gbyBQYXNzZWQgaW4gcHJvcGVydGllcyBmb3IgdGhpcyBncm91cC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIGluaXQ6IGZ1bmN0aW9uKG8pIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhbiBBdWRpb0NvbnRleHQgY3JlYXRlZCB5ZXQsIHJ1biB0aGUgc2V0dXAuXG4gICAgICBpZiAoIUhvd2xlci5jdHgpIHtcbiAgICAgICAgc2V0dXBBdWRpb0NvbnRleHQoKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2V0dXAgdXNlci1kZWZpbmVkIGRlZmF1bHQgcHJvcGVydGllcy5cbiAgICAgIHNlbGYuX2F1dG9wbGF5ID0gby5hdXRvcGxheSB8fCBmYWxzZTtcbiAgICAgIHNlbGYuX2Zvcm1hdCA9ICh0eXBlb2Ygby5mb3JtYXQgIT09ICdzdHJpbmcnKSA/IG8uZm9ybWF0IDogW28uZm9ybWF0XTtcbiAgICAgIHNlbGYuX2h0bWw1ID0gby5odG1sNSB8fCBmYWxzZTtcbiAgICAgIHNlbGYuX211dGVkID0gby5tdXRlIHx8IGZhbHNlO1xuICAgICAgc2VsZi5fbG9vcCA9IG8ubG9vcCB8fCBmYWxzZTtcbiAgICAgIHNlbGYuX3Bvb2wgPSBvLnBvb2wgfHwgNTtcbiAgICAgIHNlbGYuX3ByZWxvYWQgPSAodHlwZW9mIG8ucHJlbG9hZCA9PT0gJ2Jvb2xlYW4nKSA/IG8ucHJlbG9hZCA6IHRydWU7XG4gICAgICBzZWxmLl9yYXRlID0gby5yYXRlIHx8IDE7XG4gICAgICBzZWxmLl9zcHJpdGUgPSBvLnNwcml0ZSB8fCB7fTtcbiAgICAgIHNlbGYuX3NyYyA9ICh0eXBlb2Ygby5zcmMgIT09ICdzdHJpbmcnKSA/IG8uc3JjIDogW28uc3JjXTtcbiAgICAgIHNlbGYuX3ZvbHVtZSA9IG8udm9sdW1lICE9PSB1bmRlZmluZWQgPyBvLnZvbHVtZSA6IDE7XG5cbiAgICAgIC8vIFNldHVwIGFsbCBvdGhlciBkZWZhdWx0IHByb3BlcnRpZXMuXG4gICAgICBzZWxmLl9kdXJhdGlvbiA9IDA7XG4gICAgICBzZWxmLl9zdGF0ZSA9ICd1bmxvYWRlZCc7XG4gICAgICBzZWxmLl9zb3VuZHMgPSBbXTtcbiAgICAgIHNlbGYuX2VuZFRpbWVycyA9IHt9O1xuICAgICAgc2VsZi5fcXVldWUgPSBbXTtcblxuICAgICAgLy8gU2V0dXAgZXZlbnQgbGlzdGVuZXJzLlxuICAgICAgc2VsZi5fb25lbmQgPSBvLm9uZW5kID8gW3tmbjogby5vbmVuZH1dIDogW107XG4gICAgICBzZWxmLl9vbmZhZGUgPSBvLm9uZmFkZSA/IFt7Zm46IG8ub25mYWRlfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ubG9hZCA9IG8ub25sb2FkID8gW3tmbjogby5vbmxvYWR9XSA6IFtdO1xuICAgICAgc2VsZi5fb25sb2FkZXJyb3IgPSBvLm9ubG9hZGVycm9yID8gW3tmbjogby5vbmxvYWRlcnJvcn1dIDogW107XG4gICAgICBzZWxmLl9vbnBhdXNlID0gby5vbnBhdXNlID8gW3tmbjogby5vbnBhdXNlfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ucGxheSA9IG8ub25wbGF5ID8gW3tmbjogby5vbnBsYXl9XSA6IFtdO1xuICAgICAgc2VsZi5fb25zdG9wID0gby5vbnN0b3AgPyBbe2ZuOiBvLm9uc3RvcH1dIDogW107XG4gICAgICBzZWxmLl9vbm11dGUgPSBvLm9ubXV0ZSA/IFt7Zm46IG8ub25tdXRlfV0gOiBbXTtcbiAgICAgIHNlbGYuX29udm9sdW1lID0gby5vbnZvbHVtZSA/IFt7Zm46IG8ub252b2x1bWV9XSA6IFtdO1xuICAgICAgc2VsZi5fb25yYXRlID0gby5vbnJhdGUgPyBbe2ZuOiBvLm9ucmF0ZX1dIDogW107XG4gICAgICBzZWxmLl9vbnNlZWsgPSBvLm9uc2VlayA/IFt7Zm46IG8ub25zZWVrfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ucmVzdW1lID0gW107XG5cbiAgICAgIC8vIFdlYiBBdWRpbyBvciBIVE1MNSBBdWRpbz9cbiAgICAgIHNlbGYuX3dlYkF1ZGlvID0gSG93bGVyLnVzaW5nV2ViQXVkaW8gJiYgIXNlbGYuX2h0bWw1O1xuXG4gICAgICAvLyBBdXRvbWF0aWNhbGx5IHRyeSB0byBlbmFibGUgYXVkaW8gb24gaU9TLlxuICAgICAgaWYgKHR5cGVvZiBIb3dsZXIuY3R4ICE9PSAndW5kZWZpbmVkJyAmJiBIb3dsZXIuY3R4ICYmIEhvd2xlci5tb2JpbGVBdXRvRW5hYmxlKSB7XG4gICAgICAgIEhvd2xlci5fZW5hYmxlTW9iaWxlQXVkaW8oKTtcbiAgICAgIH1cblxuICAgICAgLy8gS2VlcCB0cmFjayBvZiB0aGlzIEhvd2wgZ3JvdXAgaW4gdGhlIGdsb2JhbCBjb250cm9sbGVyLlxuICAgICAgSG93bGVyLl9ob3dscy5wdXNoKHNlbGYpO1xuXG4gICAgICAvLyBJZiB0aGV5IHNlbGVjdGVkIGF1dG9wbGF5LCBhZGQgYSBwbGF5IGV2ZW50IHRvIHRoZSBsb2FkIHF1ZXVlLlxuICAgICAgaWYgKHNlbGYuX2F1dG9wbGF5KSB7XG4gICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICAgIGV2ZW50OiAncGxheScsXG4gICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYucGxheSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIExvYWQgdGhlIHNvdXJjZSBmaWxlIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuICAgICAgaWYgKHNlbGYuX3ByZWxvYWQpIHtcbiAgICAgICAgc2VsZi5sb2FkKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMb2FkIHRoZSBhdWRpbyBmaWxlLlxuICAgICAqIEByZXR1cm4ge0hvd2xlcn1cbiAgICAgKi9cbiAgICBsb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciB1cmwgPSBudWxsO1xuXG4gICAgICAvLyBJZiBubyBhdWRpbyBpcyBhdmFpbGFibGUsIHF1aXQgaW1tZWRpYXRlbHkuXG4gICAgICBpZiAoSG93bGVyLm5vQXVkaW8pIHtcbiAgICAgICAgc2VsZi5fZW1pdCgnbG9hZGVycm9yJywgbnVsbCwgJ05vIGF1ZGlvIHN1cHBvcnQuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gTWFrZSBzdXJlIG91ciBzb3VyY2UgaXMgaW4gYW4gYXJyYXkuXG4gICAgICBpZiAodHlwZW9mIHNlbGYuX3NyYyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgc2VsZi5fc3JjID0gW3NlbGYuX3NyY107XG4gICAgICB9XG5cbiAgICAgIC8vIExvb3AgdGhyb3VnaCB0aGUgc291cmNlcyBhbmQgcGljayB0aGUgZmlyc3Qgb25lIHRoYXQgaXMgY29tcGF0aWJsZS5cbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9zcmMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGV4dCwgc3RyO1xuXG4gICAgICAgIGlmIChzZWxmLl9mb3JtYXQgJiYgc2VsZi5fZm9ybWF0W2ldKSB7XG4gICAgICAgICAgLy8gSWYgYW4gZXh0ZW5zaW9uIHdhcyBzcGVjaWZpZWQsIHVzZSB0aGF0IGluc3RlYWQuXG4gICAgICAgICAgZXh0ID0gc2VsZi5fZm9ybWF0W2ldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgc291cmNlIGlzIGEgc3RyaW5nLlxuICAgICAgICAgIHN0ciA9IHNlbGYuX3NyY1tpXTtcbiAgICAgICAgICBpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHNlbGYuX2VtaXQoJ2xvYWRlcnJvcicsIG51bGwsICdOb24tc3RyaW5nIGZvdW5kIGluIHNlbGVjdGVkIGF1ZGlvIHNvdXJjZXMgLSBpZ25vcmluZy4nKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEV4dHJhY3QgdGhlIGZpbGUgZXh0ZW5zaW9uIGZyb20gdGhlIFVSTCBvciBiYXNlNjQgZGF0YSBVUkkuXG4gICAgICAgICAgZXh0ID0gL15kYXRhOmF1ZGlvXFwvKFteOyxdKyk7L2kuZXhlYyhzdHIpO1xuICAgICAgICAgIGlmICghZXh0KSB7XG4gICAgICAgICAgICBleHQgPSAvXFwuKFteLl0rKSQvLmV4ZWMoc3RyLnNwbGl0KCc/JywgMSlbMF0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChleHQpIHtcbiAgICAgICAgICAgIGV4dCA9IGV4dFsxXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoaXMgZXh0ZW5zaW9uIGlzIGF2YWlsYWJsZS5cbiAgICAgICAgaWYgKEhvd2xlci5jb2RlY3MoZXh0KSkge1xuICAgICAgICAgIHVybCA9IHNlbGYuX3NyY1tpXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIXVybCkge1xuICAgICAgICBzZWxmLl9lbWl0KCdsb2FkZXJyb3InLCBudWxsLCAnTm8gY29kZWMgc3VwcG9ydCBmb3Igc2VsZWN0ZWQgYXVkaW8gc291cmNlcy4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzZWxmLl9zcmMgPSB1cmw7XG4gICAgICBzZWxmLl9zdGF0ZSA9ICdsb2FkaW5nJztcblxuICAgICAgLy8gSWYgdGhlIGhvc3RpbmcgcGFnZSBpcyBIVFRQUyBhbmQgdGhlIHNvdXJjZSBpc24ndCxcbiAgICAgIC8vIGRyb3AgZG93biB0byBIVE1MNSBBdWRpbyB0byBhdm9pZCBNaXhlZCBDb250ZW50IGVycm9ycy5cbiAgICAgIGlmICh3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgPT09ICdodHRwczonICYmIHVybC5zbGljZSgwLCA1KSA9PT0gJ2h0dHA6Jykge1xuICAgICAgICBzZWxmLl9odG1sNSA9IHRydWU7XG4gICAgICAgIHNlbGYuX3dlYkF1ZGlvID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIENyZWF0ZSBhIG5ldyBzb3VuZCBvYmplY3QgYW5kIGFkZCBpdCB0byB0aGUgcG9vbC5cbiAgICAgIG5ldyBTb3VuZChzZWxmKTtcblxuICAgICAgLy8gTG9hZCBhbmQgZGVjb2RlIHRoZSBhdWRpbyBkYXRhIGZvciBwbGF5YmFjay5cbiAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xuICAgICAgICBsb2FkQnVmZmVyKHNlbGYpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUGxheSBhIHNvdW5kIG9yIHJlc3VtZSBwcmV2aW91cyBwbGF5YmFjay5cbiAgICAgKiBAcGFyYW0gIHtTdHJpbmcvTnVtYmVyfSBzcHJpdGUgICBTcHJpdGUgbmFtZSBmb3Igc3ByaXRlIHBsYXliYWNrIG9yIHNvdW5kIGlkIHRvIGNvbnRpbnVlIHByZXZpb3VzLlxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IGludGVybmFsIEludGVybmFsIFVzZTogdHJ1ZSBwcmV2ZW50cyBldmVudCBmaXJpbmcuXG4gICAgICogQHJldHVybiB7TnVtYmVyfSAgICAgICAgICBTb3VuZCBJRC5cbiAgICAgKi9cbiAgICBwbGF5OiBmdW5jdGlvbihzcHJpdGUsIGludGVybmFsKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgaWQgPSBudWxsO1xuXG4gICAgICAvLyBEZXRlcm1pbmUgaWYgYSBzcHJpdGUsIHNvdW5kIGlkIG9yIG5vdGhpbmcgd2FzIHBhc3NlZFxuICAgICAgaWYgKHR5cGVvZiBzcHJpdGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGlkID0gc3ByaXRlO1xuICAgICAgICBzcHJpdGUgPSBudWxsO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc3ByaXRlID09PSAnc3RyaW5nJyAmJiBzZWxmLl9zdGF0ZSA9PT0gJ2xvYWRlZCcgJiYgIXNlbGYuX3Nwcml0ZVtzcHJpdGVdKSB7XG4gICAgICAgIC8vIElmIHRoZSBwYXNzZWQgc3ByaXRlIGRvZXNuJ3QgZXhpc3QsIGRvIG5vdGhpbmcuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc3ByaXRlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvLyBVc2UgdGhlIGRlZmF1bHQgc291bmQgc3ByaXRlIChwbGF5cyB0aGUgZnVsbCBhdWRpbyBsZW5ndGgpLlxuICAgICAgICBzcHJpdGUgPSAnX19kZWZhdWx0JztcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSBpcyBhIHNpbmdsZSBwYXVzZWQgc291bmQgdGhhdCBpc24ndCBlbmRlZC5cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMsIHBsYXkgdGhhdCBzb3VuZC4gSWYgbm90LCBjb250aW51ZSBhcyB1c3VhbC5cbiAgICAgICAgdmFyIG51bSA9IDA7XG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9zb3VuZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoc2VsZi5fc291bmRzW2ldLl9wYXVzZWQgJiYgIXNlbGYuX3NvdW5kc1tpXS5fZW5kZWQpIHtcbiAgICAgICAgICAgIG51bSsrO1xuICAgICAgICAgICAgaWQgPSBzZWxmLl9zb3VuZHNbaV0uX2lkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChudW0gPT09IDEpIHtcbiAgICAgICAgICBzcHJpdGUgPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBHZXQgdGhlIHNlbGVjdGVkIG5vZGUsIG9yIGdldCBvbmUgZnJvbSB0aGUgcG9vbC5cbiAgICAgIHZhciBzb3VuZCA9IGlkID8gc2VsZi5fc291bmRCeUlkKGlkKSA6IHNlbGYuX2luYWN0aXZlU291bmQoKTtcblxuICAgICAgLy8gSWYgdGhlIHNvdW5kIGRvZXNuJ3QgZXhpc3QsIGRvIG5vdGhpbmcuXG4gICAgICBpZiAoIXNvdW5kKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICAvLyBTZWxlY3QgdGhlIHNwcml0ZSBkZWZpbml0aW9uLlxuICAgICAgaWYgKGlkICYmICFzcHJpdGUpIHtcbiAgICAgICAgc3ByaXRlID0gc291bmQuX3Nwcml0ZSB8fCAnX19kZWZhdWx0JztcbiAgICAgIH1cblxuICAgICAgLy8gSWYgd2UgaGF2ZSBubyBzcHJpdGUgYW5kIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCB3ZSBtdXN0IHdhaXRcbiAgICAgIC8vIGZvciB0aGUgc291bmQgdG8gbG9hZCB0byBnZXQgb3VyIGF1ZGlvJ3MgZHVyYXRpb24uXG4gICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnICYmICFzZWxmLl9zcHJpdGVbc3ByaXRlXSkge1xuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICBldmVudDogJ3BsYXknLFxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLnBsYXkoc2VsZi5fc291bmRCeUlkKHNvdW5kLl9pZCkgPyBzb3VuZC5faWQgOiB1bmRlZmluZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHNvdW5kLl9pZDtcbiAgICAgIH1cblxuICAgICAgLy8gRG9uJ3QgcGxheSB0aGUgc291bmQgaWYgYW4gaWQgd2FzIHBhc3NlZCBhbmQgaXQgaXMgYWxyZWFkeSBwbGF5aW5nLlxuICAgICAgaWYgKGlkICYmICFzb3VuZC5fcGF1c2VkKSB7XG4gICAgICAgIC8vIFRyaWdnZXIgdGhlIHBsYXkgZXZlbnQsIGluIG9yZGVyIHRvIGtlZXAgaXRlcmF0aW5nIHRocm91Z2ggcXVldWUuXG4gICAgICAgIGlmICghaW50ZXJuYWwpIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5fZW1pdCgncGxheScsIHNvdW5kLl9pZCk7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc291bmQuX2lkO1xuICAgICAgfVxuXG4gICAgICAvLyBNYWtlIHN1cmUgdGhlIEF1ZGlvQ29udGV4dCBpc24ndCBzdXNwZW5kZWQsIGFuZCByZXN1bWUgaXQgaWYgaXQgaXMuXG4gICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgSG93bGVyLl9hdXRvUmVzdW1lKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIERldGVybWluZSBob3cgbG9uZyB0byBwbGF5IGZvciBhbmQgd2hlcmUgdG8gc3RhcnQgcGxheWluZy5cbiAgICAgIHZhciBzZWVrID0gTWF0aC5tYXgoMCwgc291bmQuX3NlZWsgPiAwID8gc291bmQuX3NlZWsgOiBzZWxmLl9zcHJpdGVbc3ByaXRlXVswXSAvIDEwMDApO1xuICAgICAgdmFyIGR1cmF0aW9uID0gTWF0aC5tYXgoMCwgKChzZWxmLl9zcHJpdGVbc3ByaXRlXVswXSArIHNlbGYuX3Nwcml0ZVtzcHJpdGVdWzFdKSAvIDEwMDApIC0gc2Vlayk7XG4gICAgICB2YXIgdGltZW91dCA9IChkdXJhdGlvbiAqIDEwMDApIC8gTWF0aC5hYnMoc291bmQuX3JhdGUpO1xuXG4gICAgICAvLyBVcGRhdGUgdGhlIHBhcmFtZXRlcnMgb2YgdGhlIHNvdW5kXG4gICAgICBzb3VuZC5fcGF1c2VkID0gZmFsc2U7XG4gICAgICBzb3VuZC5fZW5kZWQgPSBmYWxzZTtcbiAgICAgIHNvdW5kLl9zcHJpdGUgPSBzcHJpdGU7XG4gICAgICBzb3VuZC5fc2VlayA9IHNlZWs7XG4gICAgICBzb3VuZC5fc3RhcnQgPSBzZWxmLl9zcHJpdGVbc3ByaXRlXVswXSAvIDEwMDA7XG4gICAgICBzb3VuZC5fc3RvcCA9IChzZWxmLl9zcHJpdGVbc3ByaXRlXVswXSArIHNlbGYuX3Nwcml0ZVtzcHJpdGVdWzFdKSAvIDEwMDA7XG4gICAgICBzb3VuZC5fbG9vcCA9ICEhKHNvdW5kLl9sb29wIHx8IHNlbGYuX3Nwcml0ZVtzcHJpdGVdWzJdKTtcblxuICAgICAgLy8gQmVnaW4gdGhlIGFjdHVhbCBwbGF5YmFjay5cbiAgICAgIHZhciBub2RlID0gc291bmQuX25vZGU7XG4gICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgLy8gRmlyZSB0aGlzIHdoZW4gdGhlIHNvdW5kIGlzIHJlYWR5IHRvIHBsYXkgdG8gYmVnaW4gV2ViIEF1ZGlvIHBsYXliYWNrLlxuICAgICAgICB2YXIgcGxheVdlYkF1ZGlvID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2VsZi5fcmVmcmVzaEJ1ZmZlcihzb3VuZCk7XG5cbiAgICAgICAgICAvLyBTZXR1cCB0aGUgcGxheWJhY2sgcGFyYW1zLlxuICAgICAgICAgIHZhciB2b2wgPSAoc291bmQuX211dGVkIHx8IHNlbGYuX211dGVkKSA/IDAgOiBzb3VuZC5fdm9sdW1lO1xuICAgICAgICAgIG5vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZSh2b2wsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgIHNvdW5kLl9wbGF5U3RhcnQgPSBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lO1xuXG4gICAgICAgICAgLy8gUGxheSB0aGUgc291bmQgdXNpbmcgdGhlIHN1cHBvcnRlZCBtZXRob2QuXG4gICAgICAgICAgaWYgKHR5cGVvZiBub2RlLmJ1ZmZlclNvdXJjZS5zdGFydCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHNvdW5kLl9sb29wID8gbm9kZS5idWZmZXJTb3VyY2Uubm90ZUdyYWluT24oMCwgc2VlaywgODY0MDApIDogbm9kZS5idWZmZXJTb3VyY2Uubm90ZUdyYWluT24oMCwgc2VlaywgZHVyYXRpb24pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzb3VuZC5fbG9vcCA/IG5vZGUuYnVmZmVyU291cmNlLnN0YXJ0KDAsIHNlZWssIDg2NDAwKSA6IG5vZGUuYnVmZmVyU291cmNlLnN0YXJ0KDAsIHNlZWssIGR1cmF0aW9uKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBTdGFydCBhIG5ldyB0aW1lciBpZiBub25lIGlzIHByZXNlbnQuXG4gICAgICAgICAgaWYgKHRpbWVvdXQgIT09IEluZmluaXR5KSB7XG4gICAgICAgICAgICBzZWxmLl9lbmRUaW1lcnNbc291bmQuX2lkXSA9IHNldFRpbWVvdXQoc2VsZi5fZW5kZWQuYmluZChzZWxmLCBzb3VuZCksIHRpbWVvdXQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghaW50ZXJuYWwpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3BsYXknLCBzb3VuZC5faWQpO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBpc1J1bm5pbmcgPSAoSG93bGVyLnN0YXRlID09PSAncnVubmluZycpO1xuICAgICAgICBpZiAoc2VsZi5fc3RhdGUgPT09ICdsb2FkZWQnICYmIGlzUnVubmluZykge1xuICAgICAgICAgIHBsYXlXZWJBdWRpbygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFdhaXQgZm9yIHRoZSBhdWRpbyB0byBsb2FkIGFuZCB0aGVuIGJlZ2luIHBsYXliYWNrLlxuICAgICAgICAgIHNlbGYub25jZShpc1J1bm5pbmcgPyAnbG9hZCcgOiAncmVzdW1lJywgcGxheVdlYkF1ZGlvLCBpc1J1bm5pbmcgPyBzb3VuZC5faWQgOiBudWxsKTtcblxuICAgICAgICAgIC8vIENhbmNlbCB0aGUgZW5kIHRpbWVyLlxuICAgICAgICAgIHNlbGYuX2NsZWFyVGltZXIoc291bmQuX2lkKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRmlyZSB0aGlzIHdoZW4gdGhlIHNvdW5kIGlzIHJlYWR5IHRvIHBsYXkgdG8gYmVnaW4gSFRNTDUgQXVkaW8gcGxheWJhY2suXG4gICAgICAgIHZhciBwbGF5SHRtbDUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBub2RlLmN1cnJlbnRUaW1lID0gc2VlaztcbiAgICAgICAgICBub2RlLm11dGVkID0gc291bmQuX211dGVkIHx8IHNlbGYuX211dGVkIHx8IEhvd2xlci5fbXV0ZWQgfHwgbm9kZS5tdXRlZDtcbiAgICAgICAgICBub2RlLnZvbHVtZSA9IHNvdW5kLl92b2x1bWUgKiBIb3dsZXIudm9sdW1lKCk7XG4gICAgICAgICAgbm9kZS5wbGF5YmFja1JhdGUgPSBzb3VuZC5fcmF0ZTtcblxuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBub2RlLnBsYXkoKTtcblxuICAgICAgICAgICAgLy8gU2V0dXAgdGhlIG5ldyBlbmQgdGltZXIuXG4gICAgICAgICAgICBpZiAodGltZW91dCAhPT0gSW5maW5pdHkpIHtcbiAgICAgICAgICAgICAgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0gPSBzZXRUaW1lb3V0KHNlbGYuX2VuZGVkLmJpbmQoc2VsZiwgc291bmQpLCB0aW1lb3V0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFpbnRlcm5hbCkge1xuICAgICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5Jywgc291bmQuX2lkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBQbGF5IGltbWVkaWF0ZWx5IGlmIHJlYWR5LCBvciB3YWl0IGZvciB0aGUgJ2NhbnBsYXl0aHJvdWdoJ2UgdmVudC5cbiAgICAgICAgdmFyIGxvYWRlZE5vUmVhZHlTdGF0ZSA9IChzZWxmLl9zdGF0ZSA9PT0gJ2xvYWRlZCcgJiYgKHdpbmRvdyAmJiB3aW5kb3cuZWplY3RhIHx8ICFub2RlLnJlYWR5U3RhdGUgJiYgSG93bGVyLl9uYXZpZ2F0b3IuaXNDb2Nvb25KUykpO1xuICAgICAgICBpZiAobm9kZS5yZWFkeVN0YXRlID09PSA0IHx8IGxvYWRlZE5vUmVhZHlTdGF0ZSkge1xuICAgICAgICAgIHBsYXlIdG1sNSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gQmVnaW4gcGxheWJhY2suXG4gICAgICAgICAgICBwbGF5SHRtbDUoKTtcblxuICAgICAgICAgICAgLy8gQ2xlYXIgdGhpcyBsaXN0ZW5lci5cbiAgICAgICAgICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihIb3dsZXIuX2NhblBsYXlFdmVudCwgbGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihIb3dsZXIuX2NhblBsYXlFdmVudCwgbGlzdGVuZXIsIGZhbHNlKTtcblxuICAgICAgICAgIC8vIENhbmNlbCB0aGUgZW5kIHRpbWVyLlxuICAgICAgICAgIHNlbGYuX2NsZWFyVGltZXIoc291bmQuX2lkKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc291bmQuX2lkO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQYXVzZSBwbGF5YmFjayBhbmQgc2F2ZSBjdXJyZW50IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgVGhlIHNvdW5kIElEIChlbXB0eSB0byBwYXVzZSBhbGwgaW4gZ3JvdXApLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgcGF1c2U6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gcGF1c2Ugd2hlbiBjYXBhYmxlLlxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICBldmVudDogJ3BhdXNlJyxcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5wYXVzZShpZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgbm8gaWQgaXMgcGFzc2VkLCBnZXQgYWxsIElEJ3MgdG8gYmUgcGF1c2VkLlxuICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcblxuICAgICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBDbGVhciB0aGUgZW5kIHRpbWVyLlxuICAgICAgICBzZWxmLl9jbGVhclRpbWVyKGlkc1tpXSk7XG5cbiAgICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XG5cbiAgICAgICAgaWYgKHNvdW5kICYmICFzb3VuZC5fcGF1c2VkKSB7XG4gICAgICAgICAgLy8gUmVzZXQgdGhlIHNlZWsgcG9zaXRpb24uXG4gICAgICAgICAgc291bmQuX3NlZWsgPSBzZWxmLnNlZWsoaWRzW2ldKTtcbiAgICAgICAgICBzb3VuZC5fcmF0ZVNlZWsgPSAwO1xuICAgICAgICAgIHNvdW5kLl9wYXVzZWQgPSB0cnVlO1xuXG4gICAgICAgICAgLy8gU3RvcCBjdXJyZW50bHkgcnVubmluZyBmYWRlcy5cbiAgICAgICAgICBzZWxmLl9zdG9wRmFkZShpZHNbaV0pO1xuXG4gICAgICAgICAgaWYgKHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHRoZSBzb3VuZCBoYXMgYmVlbiBjcmVhdGVkXG4gICAgICAgICAgICAgIGlmICghc291bmQuX25vZGUuYnVmZmVyU291cmNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAodHlwZW9mIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5zdG9wID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5ub3RlT2ZmKDApO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5zdG9wKDApO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gQ2xlYW4gdXAgdGhlIGJ1ZmZlciBzb3VyY2UuXG4gICAgICAgICAgICAgIHNlbGYuX2NsZWFuQnVmZmVyKHNvdW5kLl9ub2RlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWlzTmFOKHNvdW5kLl9ub2RlLmR1cmF0aW9uKSB8fCBzb3VuZC5fbm9kZS5kdXJhdGlvbiA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICAgICAgc291bmQuX25vZGUucGF1c2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGaXJlIHRoZSBwYXVzZSBldmVudCwgdW5sZXNzIGB0cnVlYCBpcyBwYXNzZWQgYXMgdGhlIDJuZCBhcmd1bWVudC5cbiAgICAgICAgaWYgKCFhcmd1bWVudHNbMV0pIHtcbiAgICAgICAgICBzZWxmLl9lbWl0KCdwYXVzZScsIHNvdW5kID8gc291bmQuX2lkIDogbnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFN0b3AgcGxheWJhY2sgYW5kIHJlc2V0IHRvIHN0YXJ0LlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgVGhlIHNvdW5kIElEIChlbXB0eSB0byBzdG9wIGFsbCBpbiBncm91cCkuXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gaW50ZXJuYWwgSW50ZXJuYWwgVXNlOiB0cnVlIHByZXZlbnRzIGV2ZW50IGZpcmluZy5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIHN0b3A6IGZ1bmN0aW9uKGlkLCBpbnRlcm5hbCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIHN0b3Agd2hlbiBjYXBhYmxlLlxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICBldmVudDogJ3N0b3AnLFxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLnN0b3AoaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIG5vIGlkIGlzIHBhc3NlZCwgZ2V0IGFsbCBJRCdzIHRvIGJlIHN0b3BwZWQuXG4gICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuXG4gICAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIENsZWFyIHRoZSBlbmQgdGltZXIuXG4gICAgICAgIHNlbGYuX2NsZWFyVGltZXIoaWRzW2ldKTtcblxuICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgICAvLyBSZXNldCB0aGUgc2VlayBwb3NpdGlvbi5cbiAgICAgICAgICBzb3VuZC5fc2VlayA9IHNvdW5kLl9zdGFydCB8fCAwO1xuICAgICAgICAgIHNvdW5kLl9yYXRlU2VlayA9IDA7XG4gICAgICAgICAgc291bmQuX3BhdXNlZCA9IHRydWU7XG4gICAgICAgICAgc291bmQuX2VuZGVkID0gdHJ1ZTtcblxuICAgICAgICAgIC8vIFN0b3AgY3VycmVudGx5IHJ1bm5pbmcgZmFkZXMuXG4gICAgICAgICAgc2VsZi5fc3RvcEZhZGUoaWRzW2ldKTtcblxuICAgICAgICAgIGlmIChzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSB0aGUgc291bmQgaGFzIGJlZW4gY3JlYXRlZFxuICAgICAgICAgICAgICBpZiAoIXNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZSkge1xuICAgICAgICAgICAgICAgIGlmICghaW50ZXJuYWwpIHtcbiAgICAgICAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3N0b3AnLCBzb3VuZC5faWQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2Uuc3RvcCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2Uubm90ZU9mZigwKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2Uuc3RvcCgwKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIENsZWFuIHVwIHRoZSBidWZmZXIgc291cmNlLlxuICAgICAgICAgICAgICBzZWxmLl9jbGVhbkJ1ZmZlcihzb3VuZC5fbm9kZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFpc05hTihzb3VuZC5fbm9kZS5kdXJhdGlvbikgfHwgc291bmQuX25vZGUuZHVyYXRpb24gPT09IEluZmluaXR5KSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmN1cnJlbnRUaW1lID0gc291bmQuX3N0YXJ0IHx8IDA7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLnBhdXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNvdW5kICYmICFpbnRlcm5hbCkge1xuICAgICAgICAgIHNlbGYuX2VtaXQoJ3N0b3AnLCBzb3VuZC5faWQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNdXRlL3VubXV0ZSBhIHNpbmdsZSBzb3VuZCBvciBhbGwgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBtdXRlZCBTZXQgdG8gdHJ1ZSB0byBtdXRlIGFuZCBmYWxzZSB0byB1bm11dGUuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCAgICBUaGUgc291bmQgSUQgdG8gdXBkYXRlIChvbWl0IHRvIG11dGUvdW5tdXRlIGFsbCkuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBtdXRlOiBmdW5jdGlvbihtdXRlZCwgaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBtdXRlIHdoZW4gY2FwYWJsZS5cbiAgICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcpIHtcbiAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgZXZlbnQ6ICdtdXRlJyxcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5tdXRlKG11dGVkLCBpZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgYXBwbHlpbmcgbXV0ZS91bm11dGUgdG8gYWxsIHNvdW5kcywgdXBkYXRlIHRoZSBncm91cCdzIHZhbHVlLlxuICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBtdXRlZCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgc2VsZi5fbXV0ZWQgPSBtdXRlZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gc2VsZi5fbXV0ZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gSWYgbm8gaWQgaXMgcGFzc2VkLCBnZXQgYWxsIElEJ3MgdG8gYmUgbXV0ZWQuXG4gICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuXG4gICAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIEdldCB0aGUgc291bmQuXG4gICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xuXG4gICAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICAgIHNvdW5kLl9tdXRlZCA9IG11dGVkO1xuXG4gICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmIHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKG11dGVkID8gMCA6IHNvdW5kLl92b2x1bWUsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLm11dGVkID0gSG93bGVyLl9tdXRlZCA/IHRydWUgOiBtdXRlZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZWxmLl9lbWl0KCdtdXRlJywgc291bmQuX2lkKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0L3NldCB0aGUgdm9sdW1lIG9mIHRoaXMgc291bmQgb3Igb2YgdGhlIEhvd2wgZ3JvdXAuIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGx5IHRha2UgMCwgMSBvciAyIGFyZ3VtZW50cy5cbiAgICAgKiAgIHZvbHVtZSgpIC0+IFJldHVybnMgdGhlIGdyb3VwJ3Mgdm9sdW1lIHZhbHVlLlxuICAgICAqICAgdm9sdW1lKGlkKSAtPiBSZXR1cm5zIHRoZSBzb3VuZCBpZCdzIGN1cnJlbnQgdm9sdW1lLlxuICAgICAqICAgdm9sdW1lKHZvbCkgLT4gU2V0cyB0aGUgdm9sdW1lIG9mIGFsbCBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxuICAgICAqICAgdm9sdW1lKHZvbCwgaWQpIC0+IFNldHMgdGhlIHZvbHVtZSBvZiBwYXNzZWQgc291bmQgaWQuXG4gICAgICogQHJldHVybiB7SG93bC9OdW1iZXJ9IFJldHVybnMgc2VsZiBvciBjdXJyZW50IHZvbHVtZS5cbiAgICAgKi9cbiAgICB2b2x1bWU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICB2YXIgdm9sLCBpZDtcblxuICAgICAgLy8gRGV0ZXJtaW5lIHRoZSB2YWx1ZXMgYmFzZWQgb24gYXJndW1lbnRzLlxuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIFJldHVybiB0aGUgdmFsdWUgb2YgdGhlIGdyb3Vwcycgdm9sdW1lLlxuICAgICAgICByZXR1cm4gc2VsZi5fdm9sdW1lO1xuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSB8fCBhcmdzLmxlbmd0aCA9PT0gMiAmJiB0eXBlb2YgYXJnc1sxXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gRmlyc3QgY2hlY2sgaWYgdGhpcyBpcyBhbiBJRCwgYW5kIGlmIG5vdCwgYXNzdW1lIGl0IGlzIGEgbmV3IHZvbHVtZS5cbiAgICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKCk7XG4gICAgICAgIHZhciBpbmRleCA9IGlkcy5pbmRleE9mKGFyZ3NbMF0pO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1swXSwgMTApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZvbCA9IHBhcnNlRmxvYXQoYXJnc1swXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPj0gMikge1xuICAgICAgICB2b2wgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xuICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMV0sIDEwKTtcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIHRoZSB2b2x1bWUgb3IgcmV0dXJuIHRoZSBjdXJyZW50IHZvbHVtZS5cbiAgICAgIHZhciBzb3VuZDtcbiAgICAgIGlmICh0eXBlb2Ygdm9sICE9PSAndW5kZWZpbmVkJyAmJiB2b2wgPj0gMCAmJiB2b2wgPD0gMSkge1xuICAgICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIGNoYW5nZSB2b2x1bWUgd2hlbiBjYXBhYmxlLlxuICAgICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XG4gICAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgICBldmVudDogJ3ZvbHVtZScsXG4gICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBzZWxmLnZvbHVtZS5hcHBseShzZWxmLCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IHRoZSBncm91cCB2b2x1bWUuXG4gICAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgc2VsZi5fdm9sdW1lID0gdm9sO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIG9uZSBvciBhbGwgdm9sdW1lcy5cbiAgICAgICAgaWQgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxpZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIC8vIEdldCB0aGUgc291bmQuXG4gICAgICAgICAgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRbaV0pO1xuXG4gICAgICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgICAgICBzb3VuZC5fdm9sdW1lID0gdm9sO1xuXG4gICAgICAgICAgICAvLyBTdG9wIGN1cnJlbnRseSBydW5uaW5nIGZhZGVzLlxuICAgICAgICAgICAgaWYgKCFhcmdzWzJdKSB7XG4gICAgICAgICAgICAgIHNlbGYuX3N0b3BGYWRlKGlkW2ldKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmIHNvdW5kLl9ub2RlICYmICFzb3VuZC5fbXV0ZWQpIHtcbiAgICAgICAgICAgICAgc291bmQuX25vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZSh2b2wsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzb3VuZC5fbm9kZSAmJiAhc291bmQuX211dGVkKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLnZvbHVtZSA9IHZvbCAqIEhvd2xlci52b2x1bWUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VsZi5fZW1pdCgndm9sdW1lJywgc291bmQuX2lkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNvdW5kID0gaWQgPyBzZWxmLl9zb3VuZEJ5SWQoaWQpIDogc2VsZi5fc291bmRzWzBdO1xuICAgICAgICByZXR1cm4gc291bmQgPyBzb3VuZC5fdm9sdW1lIDogMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZhZGUgYSBjdXJyZW50bHkgcGxheWluZyBzb3VuZCBiZXR3ZWVuIHR3byB2b2x1bWVzIChpZiBubyBpZCBpcyBwYXNzc2VkLCBhbGwgc291bmRzIHdpbGwgZmFkZSkuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBmcm9tIFRoZSB2YWx1ZSB0byBmYWRlIGZyb20gKDAuMCB0byAxLjApLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gdG8gICBUaGUgdm9sdW1lIHRvIGZhZGUgdG8gKDAuMCB0byAxLjApLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gbGVuICBUaW1lIGluIG1pbGxpc2Vjb25kcyB0byBmYWRlLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgICBUaGUgc291bmQgaWQgKG9taXQgdG8gZmFkZSBhbGwgc291bmRzKS5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIGZhZGU6IGZ1bmN0aW9uKGZyb20sIHRvLCBsZW4sIGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgZGlmZiA9IE1hdGguYWJzKGZyb20gLSB0byk7XG4gICAgICB2YXIgZGlyID0gZnJvbSA+IHRvID8gJ291dCcgOiAnaW4nO1xuICAgICAgdmFyIHN0ZXBzID0gZGlmZiAvIDAuMDE7XG4gICAgICB2YXIgc3RlcExlbiA9IChzdGVwcyA+IDApID8gbGVuIC8gc3RlcHMgOiBsZW47XG5cbiAgICAgIC8vIFNpbmNlIGJyb3dzZXJzIGNsYW1wIHRpbWVvdXRzIHRvIDRtcywgd2UgbmVlZCB0byBjbGFtcCBvdXIgc3RlcHMgdG8gdGhhdCB0b28uXG4gICAgICBpZiAoc3RlcExlbiA8IDQpIHtcbiAgICAgICAgc3RlcHMgPSBNYXRoLmNlaWwoc3RlcHMgLyAoNCAvIHN0ZXBMZW4pKTtcbiAgICAgICAgc3RlcExlbiA9IDQ7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gZmFkZSB3aGVuIGNhcGFibGUuXG4gICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XG4gICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICAgIGV2ZW50OiAnZmFkZScsXG4gICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuZmFkZShmcm9tLCB0bywgbGVuLCBpZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgIH1cblxuICAgICAgLy8gU2V0IHRoZSB2b2x1bWUgdG8gdGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAgc2VsZi52b2x1bWUoZnJvbSwgaWQpO1xuXG4gICAgICAvLyBGYWRlIHRoZSB2b2x1bWUgb2Ygb25lIG9yIGFsbCBzb3VuZHMuXG4gICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuICAgICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgICAvLyBDcmVhdGUgYSBsaW5lYXIgZmFkZSBvciBmYWxsIGJhY2sgdG8gdGltZW91dHMgd2l0aCBIVE1MNSBBdWRpby5cbiAgICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgICAgLy8gU3RvcCB0aGUgcHJldmlvdXMgZmFkZSBpZiBubyBzcHJpdGUgaXMgYmVpbmcgdXNlZCAob3RoZXJ3aXNlLCB2b2x1bWUgaGFuZGxlcyB0aGlzKS5cbiAgICAgICAgICBpZiAoIWlkKSB7XG4gICAgICAgICAgICBzZWxmLl9zdG9wRmFkZShpZHNbaV0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIElmIHdlIGFyZSB1c2luZyBXZWIgQXVkaW8sIGxldCB0aGUgbmF0aXZlIG1ldGhvZHMgZG8gdGhlIGFjdHVhbCBmYWRlLlxuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiAhc291bmQuX211dGVkKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgdmFyIGVuZCA9IGN1cnJlbnRUaW1lICsgKGxlbiAvIDEwMDApO1xuICAgICAgICAgICAgc291bmQuX3ZvbHVtZSA9IGZyb207XG4gICAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKGZyb20sIGN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUodG8sIGVuZCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHZvbCA9IGZyb207XG4gICAgICAgICAgc291bmQuX2ludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oc291bmRJZCwgc291bmQpIHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgdm9sdW1lIGFtb3VudCwgYnV0IG9ubHkgaWYgdGhlIHZvbHVtZSBzaG91bGQgY2hhbmdlLlxuICAgICAgICAgICAgaWYgKHN0ZXBzID4gMCkge1xuICAgICAgICAgICAgICB2b2wgKz0gKGRpciA9PT0gJ2luJyA/IDAuMDEgOiAtMC4wMSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgdm9sdW1lIGlzIGluIHRoZSByaWdodCBib3VuZHMuXG4gICAgICAgICAgICB2b2wgPSBNYXRoLm1heCgwLCB2b2wpO1xuICAgICAgICAgICAgdm9sID0gTWF0aC5taW4oMSwgdm9sKTtcblxuICAgICAgICAgICAgLy8gUm91bmQgdG8gd2l0aGluIDIgZGVjaW1hbCBwb2ludHMuXG4gICAgICAgICAgICB2b2wgPSBNYXRoLnJvdW5kKHZvbCAqIDEwMCkgLyAxMDA7XG5cbiAgICAgICAgICAgIC8vIENoYW5nZSB0aGUgdm9sdW1lLlxuICAgICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5fdm9sdW1lID0gdm9sO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgc291bmQuX3ZvbHVtZSA9IHZvbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNlbGYudm9sdW1lKHZvbCwgc291bmRJZCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFdoZW4gdGhlIGZhZGUgaXMgY29tcGxldGUsIHN0b3AgaXQgYW5kIGZpcmUgZXZlbnQuXG4gICAgICAgICAgICBpZiAodm9sID09PSB0bykge1xuICAgICAgICAgICAgICBjbGVhckludGVydmFsKHNvdW5kLl9pbnRlcnZhbCk7XG4gICAgICAgICAgICAgIHNvdW5kLl9pbnRlcnZhbCA9IG51bGw7XG4gICAgICAgICAgICAgIHNlbGYudm9sdW1lKHZvbCwgc291bmRJZCk7XG4gICAgICAgICAgICAgIHNlbGYuX2VtaXQoJ2ZhZGUnLCBzb3VuZElkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LmJpbmQoc2VsZiwgaWRzW2ldLCBzb3VuZCksIHN0ZXBMZW4pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBtZXRob2QgdGhhdCBzdG9wcyB0aGUgY3VycmVudGx5IHBsYXlpbmcgZmFkZSB3aGVuXG4gICAgICogYSBuZXcgZmFkZSBzdGFydHMsIHZvbHVtZSBpcyBjaGFuZ2VkIG9yIHRoZSBzb3VuZCBpcyBzdG9wcGVkLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgVGhlIHNvdW5kIGlkLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX3N0b3BGYWRlOiBmdW5jdGlvbihpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcblxuICAgICAgaWYgKHNvdW5kICYmIHNvdW5kLl9pbnRlcnZhbCkge1xuICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyhIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNsZWFySW50ZXJ2YWwoc291bmQuX2ludGVydmFsKTtcbiAgICAgICAgc291bmQuX2ludGVydmFsID0gbnVsbDtcbiAgICAgICAgc2VsZi5fZW1pdCgnZmFkZScsIGlkKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldC9zZXQgdGhlIGxvb3AgcGFyYW1ldGVyIG9uIGEgc291bmQuIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGx5IHRha2UgMCwgMSBvciAyIGFyZ3VtZW50cy5cbiAgICAgKiAgIGxvb3AoKSAtPiBSZXR1cm5zIHRoZSBncm91cCdzIGxvb3AgdmFsdWUuXG4gICAgICogICBsb29wKGlkKSAtPiBSZXR1cm5zIHRoZSBzb3VuZCBpZCdzIGxvb3AgdmFsdWUuXG4gICAgICogICBsb29wKGxvb3ApIC0+IFNldHMgdGhlIGxvb3AgdmFsdWUgZm9yIGFsbCBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxuICAgICAqICAgbG9vcChsb29wLCBpZCkgLT4gU2V0cyB0aGUgbG9vcCB2YWx1ZSBvZiBwYXNzZWQgc291bmQgaWQuXG4gICAgICogQHJldHVybiB7SG93bC9Cb29sZWFufSBSZXR1cm5zIHNlbGYgb3IgY3VycmVudCBsb29wIHZhbHVlLlxuICAgICAqL1xuICAgIGxvb3A6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICB2YXIgbG9vcCwgaWQsIHNvdW5kO1xuXG4gICAgICAvLyBEZXRlcm1pbmUgdGhlIHZhbHVlcyBmb3IgbG9vcCBhbmQgaWQuXG4gICAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gUmV0dXJuIHRoZSBncm91J3MgbG9vcCB2YWx1ZS5cbiAgICAgICAgcmV0dXJuIHNlbGYuX2xvb3A7XG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgbG9vcCA9IGFyZ3NbMF07XG4gICAgICAgICAgc2VsZi5fbG9vcCA9IGxvb3A7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gUmV0dXJuIHRoaXMgc291bmQncyBsb29wIHZhbHVlLlxuICAgICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKHBhcnNlSW50KGFyZ3NbMF0sIDEwKSk7XG4gICAgICAgICAgcmV0dXJuIHNvdW5kID8gc291bmQuX2xvb3AgOiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICBsb29wID0gYXJnc1swXTtcbiAgICAgICAgaWQgPSBwYXJzZUludChhcmdzWzFdLCAxMCk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIG5vIGlkIGlzIHBhc3NlZCwgZ2V0IGFsbCBJRCdzIHRvIGJlIGxvb3BlZC5cbiAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XG5cbiAgICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgICAgc291bmQuX2xvb3AgPSBsb29wO1xuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBzb3VuZC5fbm9kZSAmJiBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UpIHtcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wID0gbG9vcDtcbiAgICAgICAgICAgIGlmIChsb29wKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wU3RhcnQgPSBzb3VuZC5fc3RhcnQgfHwgMDtcbiAgICAgICAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmxvb3BFbmQgPSBzb3VuZC5fc3RvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldC9zZXQgdGhlIHBsYXliYWNrIHJhdGUgb2YgYSBzb3VuZC4gVGhpcyBtZXRob2QgY2FuIG9wdGlvbmFsbHkgdGFrZSAwLCAxIG9yIDIgYXJndW1lbnRzLlxuICAgICAqICAgcmF0ZSgpIC0+IFJldHVybnMgdGhlIGZpcnN0IHNvdW5kIG5vZGUncyBjdXJyZW50IHBsYXliYWNrIHJhdGUuXG4gICAgICogICByYXRlKGlkKSAtPiBSZXR1cm5zIHRoZSBzb3VuZCBpZCdzIGN1cnJlbnQgcGxheWJhY2sgcmF0ZS5cbiAgICAgKiAgIHJhdGUocmF0ZSkgLT4gU2V0cyB0aGUgcGxheWJhY2sgcmF0ZSBvZiBhbGwgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cbiAgICAgKiAgIHJhdGUocmF0ZSwgaWQpIC0+IFNldHMgdGhlIHBsYXliYWNrIHJhdGUgb2YgcGFzc2VkIHNvdW5kIGlkLlxuICAgICAqIEByZXR1cm4ge0hvd2wvTnVtYmVyfSBSZXR1cm5zIHNlbGYgb3IgdGhlIGN1cnJlbnQgcGxheWJhY2sgcmF0ZS5cbiAgICAgKi9cbiAgICByYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgdmFyIHJhdGUsIGlkO1xuXG4gICAgICAvLyBEZXRlcm1pbmUgdGhlIHZhbHVlcyBiYXNlZCBvbiBhcmd1bWVudHMuXG4gICAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gV2Ugd2lsbCBzaW1wbHkgcmV0dXJuIHRoZSBjdXJyZW50IHJhdGUgb2YgdGhlIGZpcnN0IG5vZGUuXG4gICAgICAgIGlkID0gc2VsZi5fc291bmRzWzBdLl9pZDtcbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgLy8gRmlyc3QgY2hlY2sgaWYgdGhpcyBpcyBhbiBJRCwgYW5kIGlmIG5vdCwgYXNzdW1lIGl0IGlzIGEgbmV3IHJhdGUgdmFsdWUuXG4gICAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcygpO1xuICAgICAgICB2YXIgaW5kZXggPSBpZHMuaW5kZXhPZihhcmdzWzBdKTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMF0sIDEwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByYXRlID0gcGFyc2VGbG9hdChhcmdzWzBdKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICByYXRlID0gcGFyc2VGbG9hdChhcmdzWzBdKTtcbiAgICAgICAgaWQgPSBwYXJzZUludChhcmdzWzFdLCAxMCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgcGxheWJhY2sgcmF0ZSBvciByZXR1cm4gdGhlIGN1cnJlbnQgdmFsdWUuXG4gICAgICB2YXIgc291bmQ7XG4gICAgICBpZiAodHlwZW9mIHJhdGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gY2hhbmdlIHBsYXliYWNrIHJhdGUgd2hlbiBjYXBhYmxlLlxuICAgICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XG4gICAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgICBldmVudDogJ3JhdGUnLFxuICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgc2VsZi5yYXRlLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgdGhlIGdyb3VwIHJhdGUuXG4gICAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgc2VsZi5fcmF0ZSA9IHJhdGU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcGRhdGUgb25lIG9yIGFsbCB2b2x1bWVzLlxuICAgICAgICBpZCA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPGlkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgICAgICBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZFtpXSk7XG5cbiAgICAgICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgICAgIC8vIEtlZXAgdHJhY2sgb2Ygb3VyIHBvc2l0aW9uIHdoZW4gdGhlIHJhdGUgY2hhbmdlZCBhbmQgdXBkYXRlIHRoZSBwbGF5YmFja1xuICAgICAgICAgICAgLy8gc3RhcnQgcG9zaXRpb24gc28gd2UgY2FuIHByb3Blcmx5IGFkanVzdCB0aGUgc2VlayBwb3NpdGlvbiBmb3IgdGltZSBlbGFwc2VkLlxuICAgICAgICAgICAgc291bmQuX3JhdGVTZWVrID0gc2VsZi5zZWVrKGlkW2ldKTtcbiAgICAgICAgICAgIHNvdW5kLl9wbGF5U3RhcnQgPSBzZWxmLl93ZWJBdWRpbyA/IEhvd2xlci5jdHguY3VycmVudFRpbWUgOiBzb3VuZC5fcGxheVN0YXJ0O1xuICAgICAgICAgICAgc291bmQuX3JhdGUgPSByYXRlO1xuXG4gICAgICAgICAgICAvLyBDaGFuZ2UgdGhlIHBsYXliYWNrIHJhdGUuXG4gICAgICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8gJiYgc291bmQuX25vZGUgJiYgc291bmQuX25vZGUuYnVmZmVyU291cmNlKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5wbGF5YmFja1JhdGUudmFsdWUgPSByYXRlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5wbGF5YmFja1JhdGUgPSByYXRlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSZXNldCB0aGUgdGltZXJzLlxuICAgICAgICAgICAgdmFyIHNlZWsgPSBzZWxmLnNlZWsoaWRbaV0pO1xuICAgICAgICAgICAgdmFyIGR1cmF0aW9uID0gKChzZWxmLl9zcHJpdGVbc291bmQuX3Nwcml0ZV1bMF0gKyBzZWxmLl9zcHJpdGVbc291bmQuX3Nwcml0ZV1bMV0pIC8gMTAwMCkgLSBzZWVrO1xuICAgICAgICAgICAgdmFyIHRpbWVvdXQgPSAoZHVyYXRpb24gKiAxMDAwKSAvIE1hdGguYWJzKHNvdW5kLl9yYXRlKTtcblxuICAgICAgICAgICAgLy8gU3RhcnQgYSBuZXcgZW5kIHRpbWVyIGlmIHNvdW5kIGlzIGFscmVhZHkgcGxheWluZy5cbiAgICAgICAgICAgIGlmIChzZWxmLl9lbmRUaW1lcnNbaWRbaV1dIHx8ICFzb3VuZC5fcGF1c2VkKSB7XG4gICAgICAgICAgICAgIHNlbGYuX2NsZWFyVGltZXIoaWRbaV0pO1xuICAgICAgICAgICAgICBzZWxmLl9lbmRUaW1lcnNbaWRbaV1dID0gc2V0VGltZW91dChzZWxmLl9lbmRlZC5iaW5kKHNlbGYsIHNvdW5kKSwgdGltZW91dCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3JhdGUnLCBzb3VuZC5faWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWQpO1xuICAgICAgICByZXR1cm4gc291bmQgPyBzb3VuZC5fcmF0ZSA6IHNlbGYuX3JhdGU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQvc2V0IHRoZSBzZWVrIHBvc2l0aW9uIG9mIGEgc291bmQuIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGx5IHRha2UgMCwgMSBvciAyIGFyZ3VtZW50cy5cbiAgICAgKiAgIHNlZWsoKSAtPiBSZXR1cm5zIHRoZSBmaXJzdCBzb3VuZCBub2RlJ3MgY3VycmVudCBzZWVrIHBvc2l0aW9uLlxuICAgICAqICAgc2VlayhpZCkgLT4gUmV0dXJucyB0aGUgc291bmQgaWQncyBjdXJyZW50IHNlZWsgcG9zaXRpb24uXG4gICAgICogICBzZWVrKHNlZWspIC0+IFNldHMgdGhlIHNlZWsgcG9zaXRpb24gb2YgdGhlIGZpcnN0IHNvdW5kIG5vZGUuXG4gICAgICogICBzZWVrKHNlZWssIGlkKSAtPiBTZXRzIHRoZSBzZWVrIHBvc2l0aW9uIG9mIHBhc3NlZCBzb3VuZCBpZC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsL051bWJlcn0gUmV0dXJucyBzZWxmIG9yIHRoZSBjdXJyZW50IHNlZWsgcG9zaXRpb24uXG4gICAgICovXG4gICAgc2VlazogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIHZhciBzZWVrLCBpZDtcblxuICAgICAgLy8gRGV0ZXJtaW5lIHRoZSB2YWx1ZXMgYmFzZWQgb24gYXJndW1lbnRzLlxuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIFdlIHdpbGwgc2ltcGx5IHJldHVybiB0aGUgY3VycmVudCBwb3NpdGlvbiBvZiB0aGUgZmlyc3Qgbm9kZS5cbiAgICAgICAgaWQgPSBzZWxmLl9zb3VuZHNbMF0uX2lkO1xuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAvLyBGaXJzdCBjaGVjayBpZiB0aGlzIGlzIGFuIElELCBhbmQgaWYgbm90LCBhc3N1bWUgaXQgaXMgYSBuZXcgc2VlayBwb3NpdGlvbi5cbiAgICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKCk7XG4gICAgICAgIHZhciBpbmRleCA9IGlkcy5pbmRleE9mKGFyZ3NbMF0pO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1swXSwgMTApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlkID0gc2VsZi5fc291bmRzWzBdLl9pZDtcbiAgICAgICAgICBzZWVrID0gcGFyc2VGbG9hdChhcmdzWzBdKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICBzZWVrID0gcGFyc2VGbG9hdChhcmdzWzBdKTtcbiAgICAgICAgaWQgPSBwYXJzZUludChhcmdzWzFdLCAxMCk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZXJlIGlzIG5vIElELCBiYWlsIG91dC5cbiAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIHNlZWsgd2hlbiBjYXBhYmxlLlxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICBldmVudDogJ3NlZWsnLFxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLnNlZWsuYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgIH1cblxuICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZCk7XG5cbiAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICBpZiAodHlwZW9mIHNlZWsgPT09ICdudW1iZXInICYmIHNlZWsgPj0gMCkge1xuICAgICAgICAgIC8vIFBhdXNlIHRoZSBzb3VuZCBhbmQgdXBkYXRlIHBvc2l0aW9uIGZvciByZXN0YXJ0aW5nIHBsYXliYWNrLlxuICAgICAgICAgIHZhciBwbGF5aW5nID0gc2VsZi5wbGF5aW5nKGlkKTtcbiAgICAgICAgICBpZiAocGxheWluZykge1xuICAgICAgICAgICAgc2VsZi5wYXVzZShpZCwgdHJ1ZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gTW92ZSB0aGUgcG9zaXRpb24gb2YgdGhlIHRyYWNrIGFuZCBjYW5jZWwgdGltZXIuXG4gICAgICAgICAgc291bmQuX3NlZWsgPSBzZWVrO1xuICAgICAgICAgIHNvdW5kLl9lbmRlZCA9IGZhbHNlO1xuICAgICAgICAgIHNlbGYuX2NsZWFyVGltZXIoaWQpO1xuXG4gICAgICAgICAgLy8gUmVzdGFydCB0aGUgcGxheWJhY2sgaWYgdGhlIHNvdW5kIHdhcyBwbGF5aW5nLlxuICAgICAgICAgIGlmIChwbGF5aW5nKSB7XG4gICAgICAgICAgICBzZWxmLnBsYXkoaWQsIHRydWUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgc2VlayBwb3NpdGlvbiBmb3IgSFRNTDUgQXVkaW8uXG4gICAgICAgICAgaWYgKCFzZWxmLl93ZWJBdWRpbyAmJiBzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgc291bmQuX25vZGUuY3VycmVudFRpbWUgPSBzZWVrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuX2VtaXQoJ3NlZWsnLCBpZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgICB2YXIgcmVhbFRpbWUgPSBzZWxmLnBsYXlpbmcoaWQpID8gSG93bGVyLmN0eC5jdXJyZW50VGltZSAtIHNvdW5kLl9wbGF5U3RhcnQgOiAwO1xuICAgICAgICAgICAgdmFyIHJhdGVTZWVrID0gc291bmQuX3JhdGVTZWVrID8gc291bmQuX3JhdGVTZWVrIC0gc291bmQuX3NlZWsgOiAwO1xuICAgICAgICAgICAgcmV0dXJuIHNvdW5kLl9zZWVrICsgKHJhdGVTZWVrICsgcmVhbFRpbWUgKiBNYXRoLmFicyhzb3VuZC5fcmF0ZSkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc291bmQuX25vZGUuY3VycmVudFRpbWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBhIHNwZWNpZmljIHNvdW5kIGlzIGN1cnJlbnRseSBwbGF5aW5nIG9yIG5vdCAoaWYgaWQgaXMgcHJvdmlkZWQpLCBvciBjaGVjayBpZiBhdCBsZWFzdCBvbmUgb2YgdGhlIHNvdW5kcyBpbiB0aGUgZ3JvdXAgaXMgcGxheWluZyBvciBub3QuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgaWQgVGhlIHNvdW5kIGlkIHRvIGNoZWNrLiBJZiBub25lIGlzIHBhc3NlZCwgdGhlIHdob2xlIHNvdW5kIGdyb3VwIGlzIGNoZWNrZWQuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiBwbGF5aW5nIGFuZCBmYWxzZSBpZiBub3QuXG4gICAgICovXG4gICAgcGxheWluZzogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gQ2hlY2sgdGhlIHBhc3NlZCBzb3VuZCBJRCAoaWYgYW55KS5cbiAgICAgIGlmICh0eXBlb2YgaWQgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZCk7XG4gICAgICAgIHJldHVybiBzb3VuZCA/ICFzb3VuZC5fcGF1c2VkIDogZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIE90aGVyd2lzZSwgbG9vcCB0aHJvdWdoIGFsbCBzb3VuZHMgYW5kIGNoZWNrIGlmIGFueSBhcmUgcGxheWluZy5cbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9zb3VuZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFzZWxmLl9zb3VuZHNbaV0uX3BhdXNlZCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBkdXJhdGlvbiBvZiB0aGlzIHNvdW5kLiBQYXNzaW5nIGEgc291bmQgaWQgd2lsbCByZXR1cm4gdGhlIHNwcml0ZSBkdXJhdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFRoZSBzb3VuZCBpZCB0byBjaGVjay4gSWYgbm9uZSBpcyBwYXNzZWQsIHJldHVybiBmdWxsIHNvdXJjZSBkdXJhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IEF1ZGlvIGR1cmF0aW9uIGluIHNlY29uZHMuXG4gICAgICovXG4gICAgZHVyYXRpb246IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgZHVyYXRpb24gPSBzZWxmLl9kdXJhdGlvbjtcblxuICAgICAgLy8gSWYgd2UgcGFzcyBhbiBJRCwgZ2V0IHRoZSBzb3VuZCBhbmQgcmV0dXJuIHRoZSBzcHJpdGUgbGVuZ3RoLlxuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcbiAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICBkdXJhdGlvbiA9IHNlbGYuX3Nwcml0ZVtzb3VuZC5fc3ByaXRlXVsxXSAvIDEwMDA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkdXJhdGlvbjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCBsb2FkZWQgc3RhdGUgb2YgdGhpcyBIb3dsLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gJ3VubG9hZGVkJywgJ2xvYWRpbmcnLCAnbG9hZGVkJ1xuICAgICAqL1xuICAgIHN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVW5sb2FkIGFuZCBkZXN0cm95IHRoZSBjdXJyZW50IEhvd2wgb2JqZWN0LlxuICAgICAqIFRoaXMgd2lsbCBpbW1lZGlhdGVseSBzdG9wIGFsbCBzb3VuZCBpbnN0YW5jZXMgYXR0YWNoZWQgdG8gdGhpcyBncm91cC5cbiAgICAgKi9cbiAgICB1bmxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBTdG9wIHBsYXlpbmcgYW55IGFjdGl2ZSBzb3VuZHMuXG4gICAgICB2YXIgc291bmRzID0gc2VsZi5fc291bmRzO1xuICAgICAgZm9yICh2YXIgaT0wOyBpPHNvdW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBTdG9wIHRoZSBzb3VuZCBpZiBpdCBpcyBjdXJyZW50bHkgcGxheWluZy5cbiAgICAgICAgaWYgKCFzb3VuZHNbaV0uX3BhdXNlZCkge1xuICAgICAgICAgIHNlbGYuc3RvcChzb3VuZHNbaV0uX2lkKTtcbiAgICAgICAgICBzZWxmLl9lbWl0KCdlbmQnLCBzb3VuZHNbaV0uX2lkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbW92ZSB0aGUgc291cmNlIG9yIGRpc2Nvbm5lY3QuXG4gICAgICAgIGlmICghc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgICAvLyBTZXQgdGhlIHNvdXJjZSB0byAwLXNlY29uZCBzaWxlbmNlIHRvIHN0b3AgYW55IGRvd25sb2FkaW5nLlxuICAgICAgICAgIHNvdW5kc1tpXS5fbm9kZS5zcmMgPSAnZGF0YTphdWRpby93YXY7YmFzZTY0LFVrbEdSaVFBQUFCWFFWWkZabTEwSUJBQUFBQUJBQUVBUkt3QUFJaFlBUUFDQUJBQVpHRjBZUUFBQUFBPSc7XG5cbiAgICAgICAgICAvLyBSZW1vdmUgYW55IGV2ZW50IGxpc3RlbmVycy5cbiAgICAgICAgICBzb3VuZHNbaV0uX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBzb3VuZHNbaV0uX2Vycm9yRm4sIGZhbHNlKTtcbiAgICAgICAgICBzb3VuZHNbaV0uX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihIb3dsZXIuX2NhblBsYXlFdmVudCwgc291bmRzW2ldLl9sb2FkRm4sIGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEVtcHR5IG91dCBhbGwgb2YgdGhlIG5vZGVzLlxuICAgICAgICBkZWxldGUgc291bmRzW2ldLl9ub2RlO1xuXG4gICAgICAgIC8vIE1ha2Ugc3VyZSBhbGwgdGltZXJzIGFyZSBjbGVhcmVkIG91dC5cbiAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihzb3VuZHNbaV0uX2lkKTtcblxuICAgICAgICAvLyBSZW1vdmUgdGhlIHJlZmVyZW5jZXMgaW4gdGhlIGdsb2JhbCBIb3dsZXIgb2JqZWN0LlxuICAgICAgICB2YXIgaW5kZXggPSBIb3dsZXIuX2hvd2xzLmluZGV4T2Yoc2VsZik7XG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgSG93bGVyLl9ob3dscy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIERlbGV0ZSB0aGlzIHNvdW5kIGZyb20gdGhlIGNhY2hlIChpZiBubyBvdGhlciBIb3dsIGlzIHVzaW5nIGl0KS5cbiAgICAgIHZhciByZW1DYWNoZSA9IHRydWU7XG4gICAgICBmb3IgKGk9MDsgaTxIb3dsZXIuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChIb3dsZXIuX2hvd2xzW2ldLl9zcmMgPT09IHNlbGYuX3NyYykge1xuICAgICAgICAgIHJlbUNhY2hlID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGNhY2hlICYmIHJlbUNhY2hlKSB7XG4gICAgICAgIGRlbGV0ZSBjYWNoZVtzZWxmLl9zcmNdO1xuICAgICAgfVxuXG4gICAgICAvLyBDbGVhciBnbG9iYWwgZXJyb3JzLlxuICAgICAgSG93bGVyLm5vQXVkaW8gPSBmYWxzZTtcblxuICAgICAgLy8gQ2xlYXIgb3V0IGBzZWxmYC5cbiAgICAgIHNlbGYuX3N0YXRlID0gJ3VubG9hZGVkJztcbiAgICAgIHNlbGYuX3NvdW5kcyA9IFtdO1xuICAgICAgc2VsZiA9IG51bGw7XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMaXN0ZW4gdG8gYSBjdXN0b20gZXZlbnQuXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgIGV2ZW50IEV2ZW50IG5hbWUuXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGZuICAgIExpc3RlbmVyIHRvIGNhbGwuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgIGlkICAgIChvcHRpb25hbCkgT25seSBsaXN0ZW4gdG8gZXZlbnRzIGZvciB0aGlzIHNvdW5kLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gICBvbmNlICAoSU5URVJOQUwpIE1hcmtzIGV2ZW50IHRvIGZpcmUgb25seSBvbmNlLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgb246IGZ1bmN0aW9uKGV2ZW50LCBmbiwgaWQsIG9uY2UpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBldmVudHMgPSBzZWxmWydfb24nICsgZXZlbnRdO1xuXG4gICAgICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGV2ZW50cy5wdXNoKG9uY2UgPyB7aWQ6IGlkLCBmbjogZm4sIG9uY2U6IG9uY2V9IDoge2lkOiBpZCwgZm46IGZufSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBjdXN0b20gZXZlbnQuIENhbGwgd2l0aG91dCBwYXJhbWV0ZXJzIHRvIHJlbW92ZSBhbGwgZXZlbnRzLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICBldmVudCBFdmVudCBuYW1lLlxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmbiAgICBMaXN0ZW5lciB0byByZW1vdmUuIExlYXZlIGVtcHR5IHRvIHJlbW92ZSBhbGwuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgIGlkICAgIChvcHRpb25hbCkgT25seSByZW1vdmUgZXZlbnRzIGZvciB0aGlzIHNvdW5kLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgb2ZmOiBmdW5jdGlvbihldmVudCwgZm4sIGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgZXZlbnRzID0gc2VsZlsnX29uJyArIGV2ZW50XTtcbiAgICAgIHZhciBpID0gMDtcblxuICAgICAgaWYgKGZuKSB7XG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBldmVudCBzdG9yZSBhbmQgcmVtb3ZlIHRoZSBwYXNzZWQgZnVuY3Rpb24uXG4gICAgICAgIGZvciAoaT0wOyBpPGV2ZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChmbiA9PT0gZXZlbnRzW2ldLmZuICYmIGlkID09PSBldmVudHNbaV0uaWQpIHtcbiAgICAgICAgICAgIGV2ZW50cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZXZlbnQpIHtcbiAgICAgICAgLy8gQ2xlYXIgb3V0IGFsbCBldmVudHMgb2YgdGhpcyB0eXBlLlxuICAgICAgICBzZWxmWydfb24nICsgZXZlbnRdID0gW107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDbGVhciBvdXQgYWxsIGV2ZW50cyBvZiBldmVyeSB0eXBlLlxuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHNlbGYpO1xuICAgICAgICBmb3IgKGk9MDsgaTxrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKChrZXlzW2ldLmluZGV4T2YoJ19vbicpID09PSAwKSAmJiBBcnJheS5pc0FycmF5KHNlbGZba2V5c1tpXV0pKSB7XG4gICAgICAgICAgICBzZWxmW2tleXNbaV1dID0gW107XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMaXN0ZW4gdG8gYSBjdXN0b20gZXZlbnQgYW5kIHJlbW92ZSBpdCBvbmNlIGZpcmVkLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICBldmVudCBFdmVudCBuYW1lLlxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmbiAgICBMaXN0ZW5lciB0byBjYWxsLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gICBpZCAgICAob3B0aW9uYWwpIE9ubHkgbGlzdGVuIHRvIGV2ZW50cyBmb3IgdGhpcyBzb3VuZC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIG9uY2U6IGZ1bmN0aW9uKGV2ZW50LCBmbiwgaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gU2V0dXAgdGhlIGV2ZW50IGxpc3RlbmVyLlxuICAgICAgc2VsZi5vbihldmVudCwgZm4sIGlkLCAxKTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEVtaXQgYWxsIGV2ZW50cyBvZiBhIHNwZWNpZmljIHR5cGUgYW5kIHBhc3MgdGhlIHNvdW5kIGlkLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gZXZlbnQgRXZlbnQgbmFtZS5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkICAgIFNvdW5kIElELlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gbXNnICAgTWVzc2FnZSB0byBnbyB3aXRoIGV2ZW50LlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX2VtaXQ6IGZ1bmN0aW9uKGV2ZW50LCBpZCwgbXNnKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgZXZlbnRzID0gc2VsZlsnX29uJyArIGV2ZW50XTtcblxuICAgICAgLy8gTG9vcCB0aHJvdWdoIGV2ZW50IHN0b3JlIGFuZCBmaXJlIGFsbCBmdW5jdGlvbnMuXG4gICAgICBmb3IgKHZhciBpPWV2ZW50cy5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XG4gICAgICAgIGlmICghZXZlbnRzW2ldLmlkIHx8IGV2ZW50c1tpXS5pZCA9PT0gaWQgfHwgZXZlbnQgPT09ICdsb2FkJykge1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgICAgIGZuLmNhbGwodGhpcywgaWQsIG1zZyk7XG4gICAgICAgICAgfS5iaW5kKHNlbGYsIGV2ZW50c1tpXS5mbiksIDApO1xuXG4gICAgICAgICAgLy8gSWYgdGhpcyBldmVudCB3YXMgc2V0dXAgd2l0aCBgb25jZWAsIHJlbW92ZSBpdC5cbiAgICAgICAgICBpZiAoZXZlbnRzW2ldLm9uY2UpIHtcbiAgICAgICAgICAgIHNlbGYub2ZmKGV2ZW50LCBldmVudHNbaV0uZm4sIGV2ZW50c1tpXS5pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBRdWV1ZSBvZiBhY3Rpb25zIGluaXRpYXRlZCBiZWZvcmUgdGhlIHNvdW5kIGhhcyBsb2FkZWQuXG4gICAgICogVGhlc2Ugd2lsbCBiZSBjYWxsZWQgaW4gc2VxdWVuY2UsIHdpdGggdGhlIG5leHQgb25seSBmaXJpbmdcbiAgICAgKiBhZnRlciB0aGUgcHJldmlvdXMgaGFzIGZpbmlzaGVkIGV4ZWN1dGluZyAoZXZlbiBpZiBhc3luYyBsaWtlIHBsYXkpLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX2xvYWRRdWV1ZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIGlmIChzZWxmLl9xdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciB0YXNrID0gc2VsZi5fcXVldWVbMF07XG5cbiAgICAgICAgLy8gZG9uJ3QgbW92ZSBvbnRvIHRoZSBuZXh0IHRhc2sgdW50aWwgdGhpcyBvbmUgaXMgZG9uZVxuICAgICAgICBzZWxmLm9uY2UodGFzay5ldmVudCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2VsZi5fcXVldWUuc2hpZnQoKTtcbiAgICAgICAgICBzZWxmLl9sb2FkUXVldWUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGFzay5hY3Rpb24oKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gcGxheWJhY2sgZW5kcyBhdCB0aGUgZW5kIG9mIHRoZSBkdXJhdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtTb3VuZH0gc291bmQgVGhlIHNvdW5kIG9iamVjdCB0byB3b3JrIHdpdGguXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBfZW5kZWQ6IGZ1bmN0aW9uKHNvdW5kKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgc3ByaXRlID0gc291bmQuX3Nwcml0ZTtcblxuICAgICAgLy8gU2hvdWxkIHRoaXMgc291bmQgbG9vcD9cbiAgICAgIHZhciBsb29wID0gISEoc291bmQuX2xvb3AgfHwgc2VsZi5fc3ByaXRlW3Nwcml0ZV1bMl0pO1xuXG4gICAgICAvLyBGaXJlIHRoZSBlbmRlZCBldmVudC5cbiAgICAgIHNlbGYuX2VtaXQoJ2VuZCcsIHNvdW5kLl9pZCk7XG5cbiAgICAgIC8vIFJlc3RhcnQgdGhlIHBsYXliYWNrIGZvciBIVE1MNSBBdWRpbyBsb29wLlxuICAgICAgaWYgKCFzZWxmLl93ZWJBdWRpbyAmJiBsb29wKSB7XG4gICAgICAgIHNlbGYuc3RvcChzb3VuZC5faWQsIHRydWUpLnBsYXkoc291bmQuX2lkKTtcbiAgICAgIH1cblxuICAgICAgLy8gUmVzdGFydCB0aGlzIHRpbWVyIGlmIG9uIGEgV2ViIEF1ZGlvIGxvb3AuXG4gICAgICBpZiAoc2VsZi5fd2ViQXVkaW8gJiYgbG9vcCkge1xuICAgICAgICBzZWxmLl9lbWl0KCdwbGF5Jywgc291bmQuX2lkKTtcbiAgICAgICAgc291bmQuX3NlZWsgPSBzb3VuZC5fc3RhcnQgfHwgMDtcbiAgICAgICAgc291bmQuX3JhdGVTZWVrID0gMDtcbiAgICAgICAgc291bmQuX3BsYXlTdGFydCA9IEhvd2xlci5jdHguY3VycmVudFRpbWU7XG5cbiAgICAgICAgdmFyIHRpbWVvdXQgPSAoKHNvdW5kLl9zdG9wIC0gc291bmQuX3N0YXJ0KSAqIDEwMDApIC8gTWF0aC5hYnMoc291bmQuX3JhdGUpO1xuICAgICAgICBzZWxmLl9lbmRUaW1lcnNbc291bmQuX2lkXSA9IHNldFRpbWVvdXQoc2VsZi5fZW5kZWQuYmluZChzZWxmLCBzb3VuZCksIHRpbWVvdXQpO1xuICAgICAgfVxuXG4gICAgICAvLyBNYXJrIHRoZSBub2RlIGFzIHBhdXNlZC5cbiAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiAhbG9vcCkge1xuICAgICAgICBzb3VuZC5fcGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgc291bmQuX2VuZGVkID0gdHJ1ZTtcbiAgICAgICAgc291bmQuX3NlZWsgPSBzb3VuZC5fc3RhcnQgfHwgMDtcbiAgICAgICAgc291bmQuX3JhdGVTZWVrID0gMDtcbiAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihzb3VuZC5faWQpO1xuXG4gICAgICAgIC8vIENsZWFuIHVwIHRoZSBidWZmZXIgc291cmNlLlxuICAgICAgICBzZWxmLl9jbGVhbkJ1ZmZlcihzb3VuZC5fbm9kZSk7XG5cbiAgICAgICAgLy8gQXR0ZW1wdCB0byBhdXRvLXN1c3BlbmQgQXVkaW9Db250ZXh0IGlmIG5vIHNvdW5kcyBhcmUgc3RpbGwgcGxheWluZy5cbiAgICAgICAgSG93bGVyLl9hdXRvU3VzcGVuZCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBXaGVuIHVzaW5nIGEgc3ByaXRlLCBlbmQgdGhlIHRyYWNrLlxuICAgICAgaWYgKCFzZWxmLl93ZWJBdWRpbyAmJiAhbG9vcCkge1xuICAgICAgICBzZWxmLnN0b3Aoc291bmQuX2lkKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENsZWFyIHRoZSBlbmQgdGltZXIgZm9yIGEgc291bmQgcGxheWJhY2suXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCBUaGUgc291bmQgSUQuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBfY2xlYXJUaW1lcjogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgaWYgKHNlbGYuX2VuZFRpbWVyc1tpZF0pIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHNlbGYuX2VuZFRpbWVyc1tpZF0pO1xuICAgICAgICBkZWxldGUgc2VsZi5fZW5kVGltZXJzW2lkXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgc291bmQgaWRlbnRpZmllZCBieSB0aGlzIElELCBvciByZXR1cm4gbnVsbC5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFNvdW5kIElEXG4gICAgICogQHJldHVybiB7T2JqZWN0fSAgICBTb3VuZCBvYmplY3Qgb3IgbnVsbC5cbiAgICAgKi9cbiAgICBfc291bmRCeUlkOiBmdW5jdGlvbihpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBMb29wIHRocm91Z2ggYWxsIHNvdW5kcyBhbmQgZmluZCB0aGUgb25lIHdpdGggdGhpcyBJRC5cbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9zb3VuZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGlkID09PSBzZWxmLl9zb3VuZHNbaV0uX2lkKSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGYuX3NvdW5kc1tpXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFuIGluYWN0aXZlIHNvdW5kIGZyb20gdGhlIHBvb2wgb3IgY3JlYXRlIGEgbmV3IG9uZS5cbiAgICAgKiBAcmV0dXJuIHtTb3VuZH0gU291bmQgcGxheWJhY2sgb2JqZWN0LlxuICAgICAqL1xuICAgIF9pbmFjdGl2ZVNvdW5kOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgc2VsZi5fZHJhaW4oKTtcblxuICAgICAgLy8gRmluZCB0aGUgZmlyc3QgaW5hY3RpdmUgbm9kZSB0byByZWN5Y2xlLlxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX3NvdW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc2VsZi5fc291bmRzW2ldLl9lbmRlZCkge1xuICAgICAgICAgIHJldHVybiBzZWxmLl9zb3VuZHNbaV0ucmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBJZiBubyBpbmFjdGl2ZSBub2RlIHdhcyBmb3VuZCwgY3JlYXRlIGEgbmV3IG9uZS5cbiAgICAgIHJldHVybiBuZXcgU291bmQoc2VsZik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERyYWluIGV4Y2VzcyBpbmFjdGl2ZSBzb3VuZHMgZnJvbSB0aGUgcG9vbC5cbiAgICAgKi9cbiAgICBfZHJhaW46IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGxpbWl0ID0gc2VsZi5fcG9vbDtcbiAgICAgIHZhciBjbnQgPSAwO1xuICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICAvLyBJZiB0aGVyZSBhcmUgbGVzcyBzb3VuZHMgdGhhbiB0aGUgbWF4IHBvb2wgc2l6ZSwgd2UgYXJlIGRvbmUuXG4gICAgICBpZiAoc2VsZi5fc291bmRzLmxlbmd0aCA8IGxpbWl0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gQ291bnQgdGhlIG51bWJlciBvZiBpbmFjdGl2ZSBzb3VuZHMuXG4gICAgICBmb3IgKGk9MDsgaTxzZWxmLl9zb3VuZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHNlbGYuX3NvdW5kc1tpXS5fZW5kZWQpIHtcbiAgICAgICAgICBjbnQrKztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBSZW1vdmUgZXhjZXNzIGluYWN0aXZlIHNvdW5kcywgZ29pbmcgaW4gcmV2ZXJzZSBvcmRlci5cbiAgICAgIGZvciAoaT1zZWxmLl9zb3VuZHMubGVuZ3RoIC0gMTsgaT49MDsgaS0tKSB7XG4gICAgICAgIGlmIChjbnQgPD0gbGltaXQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2VsZi5fc291bmRzW2ldLl9lbmRlZCkge1xuICAgICAgICAgIC8vIERpc2Nvbm5lY3QgdGhlIGF1ZGlvIHNvdXJjZSB3aGVuIHVzaW5nIFdlYiBBdWRpby5cbiAgICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8gJiYgc2VsZi5fc291bmRzW2ldLl9ub2RlKSB7XG4gICAgICAgICAgICBzZWxmLl9zb3VuZHNbaV0uX25vZGUuZGlzY29ubmVjdCgwKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBSZW1vdmUgc291bmRzIHVudGlsIHdlIGhhdmUgdGhlIHBvb2wgc2l6ZS5cbiAgICAgICAgICBzZWxmLl9zb3VuZHMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgIGNudC0tO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldCBhbGwgSUQncyBmcm9tIHRoZSBzb3VuZHMgcG9vbC5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIE9ubHkgcmV0dXJuIG9uZSBJRCBpZiBvbmUgaXMgcGFzc2VkLlxuICAgICAqIEByZXR1cm4ge0FycmF5fSAgICBBcnJheSBvZiBJRHMuXG4gICAgICovXG4gICAgX2dldFNvdW5kSWRzOiBmdW5jdGlvbihpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBpZiAodHlwZW9mIGlkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YXIgaWRzID0gW107XG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9zb3VuZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZHMucHVzaChzZWxmLl9zb3VuZHNbaV0uX2lkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpZHM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gW2lkXTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTG9hZCB0aGUgc291bmQgYmFjayBpbnRvIHRoZSBidWZmZXIgc291cmNlLlxuICAgICAqIEBwYXJhbSAge1NvdW5kfSBzb3VuZCBUaGUgc291bmQgb2JqZWN0IHRvIHdvcmsgd2l0aC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIF9yZWZyZXNoQnVmZmVyOiBmdW5jdGlvbihzb3VuZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBTZXR1cCB0aGUgYnVmZmVyIHNvdXJjZSBmb3IgcGxheWJhY2suXG4gICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UgPSBIb3dsZXIuY3R4LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmJ1ZmZlciA9IGNhY2hlW3NlbGYuX3NyY107XG5cbiAgICAgIC8vIENvbm5lY3QgdG8gdGhlIGNvcnJlY3Qgbm9kZS5cbiAgICAgIGlmIChzb3VuZC5fcGFubmVyKSB7XG4gICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5jb25uZWN0KHNvdW5kLl9wYW5uZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmNvbm5lY3Qoc291bmQuX25vZGUpO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXR1cCBsb29waW5nIGFuZCBwbGF5YmFjayByYXRlLlxuICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmxvb3AgPSBzb3VuZC5fbG9vcDtcbiAgICAgIGlmIChzb3VuZC5fbG9vcCkge1xuICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UubG9vcFN0YXJ0ID0gc291bmQuX3N0YXJ0IHx8IDA7XG4gICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wRW5kID0gc291bmQuX3N0b3A7XG4gICAgICB9XG4gICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UucGxheWJhY2tSYXRlLnZhbHVlID0gc291bmQuX3JhdGU7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQcmV2ZW50IG1lbW9yeSBsZWFrcyBieSBjbGVhbmluZyB1cCB0aGUgYnVmZmVyIHNvdXJjZSBhZnRlciBwbGF5YmFjay5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG5vZGUgU291bmQncyBhdWRpbyBub2RlIGNvbnRhaW5pbmcgdGhlIGJ1ZmZlciBzb3VyY2UuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBfY2xlYW5CdWZmZXI6IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgaWYgKHNlbGYuX3NjcmF0Y2hCdWZmZXIpIHtcbiAgICAgICAgbm9kZS5idWZmZXJTb3VyY2Uub25lbmRlZCA9IG51bGw7XG4gICAgICAgIG5vZGUuYnVmZmVyU291cmNlLmRpc2Nvbm5lY3QoMCk7XG4gICAgICAgIHRyeSB7IG5vZGUuYnVmZmVyU291cmNlLmJ1ZmZlciA9IHNlbGYuX3NjcmF0Y2hCdWZmZXI7IH0gY2F0Y2goZSkge31cbiAgICAgIH1cbiAgICAgIG5vZGUuYnVmZmVyU291cmNlID0gbnVsbDtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuICB9O1xuXG4gIC8qKiBTaW5nbGUgU291bmQgTWV0aG9kcyAqKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAvKipcbiAgICogU2V0dXAgdGhlIHNvdW5kIG9iamVjdCwgd2hpY2ggZWFjaCBub2RlIGF0dGFjaGVkIHRvIGEgSG93bCBncm91cCBpcyBjb250YWluZWQgaW4uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBob3dsIFRoZSBIb3dsIHBhcmVudCBncm91cC5cbiAgICovXG4gIHZhciBTb3VuZCA9IGZ1bmN0aW9uKGhvd2wpIHtcbiAgICB0aGlzLl9wYXJlbnQgPSBob3dsO1xuICAgIHRoaXMuaW5pdCgpO1xuICB9O1xuICBTb3VuZC5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBhIG5ldyBTb3VuZCBvYmplY3QuXG4gICAgICogQHJldHVybiB7U291bmR9XG4gICAgICovXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xuXG4gICAgICAvLyBTZXR1cCB0aGUgZGVmYXVsdCBwYXJhbWV0ZXJzLlxuICAgICAgc2VsZi5fbXV0ZWQgPSBwYXJlbnQuX211dGVkO1xuICAgICAgc2VsZi5fbG9vcCA9IHBhcmVudC5fbG9vcDtcbiAgICAgIHNlbGYuX3ZvbHVtZSA9IHBhcmVudC5fdm9sdW1lO1xuICAgICAgc2VsZi5fbXV0ZWQgPSBwYXJlbnQuX211dGVkO1xuICAgICAgc2VsZi5fcmF0ZSA9IHBhcmVudC5fcmF0ZTtcbiAgICAgIHNlbGYuX3NlZWsgPSAwO1xuICAgICAgc2VsZi5fcGF1c2VkID0gdHJ1ZTtcbiAgICAgIHNlbGYuX2VuZGVkID0gdHJ1ZTtcbiAgICAgIHNlbGYuX3Nwcml0ZSA9ICdfX2RlZmF1bHQnO1xuXG4gICAgICAvLyBHZW5lcmF0ZSBhIHVuaXF1ZSBJRCBmb3IgdGhpcyBzb3VuZC5cbiAgICAgIHNlbGYuX2lkID0gTWF0aC5yb3VuZChEYXRlLm5vdygpICogTWF0aC5yYW5kb20oKSk7XG5cbiAgICAgIC8vIEFkZCBpdHNlbGYgdG8gdGhlIHBhcmVudCdzIHBvb2wuXG4gICAgICBwYXJlbnQuX3NvdW5kcy5wdXNoKHNlbGYpO1xuXG4gICAgICAvLyBDcmVhdGUgdGhlIG5ldyBub2RlLlxuICAgICAgc2VsZi5jcmVhdGUoKTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbmQgc2V0dXAgYSBuZXcgc291bmQgb2JqZWN0LCB3aGV0aGVyIEhUTUw1IEF1ZGlvIG9yIFdlYiBBdWRpby5cbiAgICAgKiBAcmV0dXJuIHtTb3VuZH1cbiAgICAgKi9cbiAgICBjcmVhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHBhcmVudCA9IHNlbGYuX3BhcmVudDtcbiAgICAgIHZhciB2b2x1bWUgPSAoSG93bGVyLl9tdXRlZCB8fCBzZWxmLl9tdXRlZCB8fCBzZWxmLl9wYXJlbnQuX211dGVkKSA/IDAgOiBzZWxmLl92b2x1bWU7XG5cbiAgICAgIGlmIChwYXJlbnQuX3dlYkF1ZGlvKSB7XG4gICAgICAgIC8vIENyZWF0ZSB0aGUgZ2FpbiBub2RlIGZvciBjb250cm9sbGluZyB2b2x1bWUgKHRoZSBzb3VyY2Ugd2lsbCBjb25uZWN0IHRvIHRoaXMpLlxuICAgICAgICBzZWxmLl9ub2RlID0gKHR5cGVvZiBIb3dsZXIuY3R4LmNyZWF0ZUdhaW4gPT09ICd1bmRlZmluZWQnKSA/IEhvd2xlci5jdHguY3JlYXRlR2Fpbk5vZGUoKSA6IEhvd2xlci5jdHguY3JlYXRlR2FpbigpO1xuICAgICAgICBzZWxmLl9ub2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUodm9sdW1lLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgc2VsZi5fbm9kZS5wYXVzZWQgPSB0cnVlO1xuICAgICAgICBzZWxmLl9ub2RlLmNvbm5lY3QoSG93bGVyLm1hc3RlckdhaW4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZi5fbm9kZSA9IG5ldyBBdWRpbygpO1xuXG4gICAgICAgIC8vIExpc3RlbiBmb3IgZXJyb3JzIChodHRwOi8vZGV2LnczLm9yZy9odG1sNS9zcGVjLWF1dGhvci12aWV3L3NwZWMuaHRtbCNtZWRpYWVycm9yKS5cbiAgICAgICAgc2VsZi5fZXJyb3JGbiA9IHNlbGYuX2Vycm9yTGlzdGVuZXIuYmluZChzZWxmKTtcbiAgICAgICAgc2VsZi5fbm9kZS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHNlbGYuX2Vycm9yRm4sIGZhbHNlKTtcblxuICAgICAgICAvLyBMaXN0ZW4gZm9yICdjYW5wbGF5dGhyb3VnaCcgZXZlbnQgdG8gbGV0IHVzIGtub3cgdGhlIHNvdW5kIGlzIHJlYWR5LlxuICAgICAgICBzZWxmLl9sb2FkRm4gPSBzZWxmLl9sb2FkTGlzdGVuZXIuYmluZChzZWxmKTtcbiAgICAgICAgc2VsZi5fbm9kZS5hZGRFdmVudExpc3RlbmVyKEhvd2xlci5fY2FuUGxheUV2ZW50LCBzZWxmLl9sb2FkRm4sIGZhbHNlKTtcblxuICAgICAgICAvLyBTZXR1cCB0aGUgbmV3IGF1ZGlvIG5vZGUuXG4gICAgICAgIHNlbGYuX25vZGUuc3JjID0gcGFyZW50Ll9zcmM7XG4gICAgICAgIHNlbGYuX25vZGUucHJlbG9hZCA9ICdhdXRvJztcbiAgICAgICAgc2VsZi5fbm9kZS52b2x1bWUgPSB2b2x1bWUgKiBIb3dsZXIudm9sdW1lKCk7XG5cbiAgICAgICAgLy8gQmVnaW4gbG9hZGluZyB0aGUgc291cmNlLlxuICAgICAgICBzZWxmLl9ub2RlLmxvYWQoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSBwYXJhbWV0ZXJzIG9mIHRoaXMgc291bmQgdG8gdGhlIG9yaWdpbmFsIHN0YXRlIChmb3IgcmVjeWNsZSkuXG4gICAgICogQHJldHVybiB7U291bmR9XG4gICAgICovXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHBhcmVudCA9IHNlbGYuX3BhcmVudDtcblxuICAgICAgLy8gUmVzZXQgYWxsIG9mIHRoZSBwYXJhbWV0ZXJzIG9mIHRoaXMgc291bmQuXG4gICAgICBzZWxmLl9tdXRlZCA9IHBhcmVudC5fbXV0ZWQ7XG4gICAgICBzZWxmLl9sb29wID0gcGFyZW50Ll9sb29wO1xuICAgICAgc2VsZi5fdm9sdW1lID0gcGFyZW50Ll92b2x1bWU7XG4gICAgICBzZWxmLl9tdXRlZCA9IHBhcmVudC5fbXV0ZWQ7XG4gICAgICBzZWxmLl9yYXRlID0gcGFyZW50Ll9yYXRlO1xuICAgICAgc2VsZi5fc2VlayA9IDA7XG4gICAgICBzZWxmLl9yYXRlU2VlayA9IDA7XG4gICAgICBzZWxmLl9wYXVzZWQgPSB0cnVlO1xuICAgICAgc2VsZi5fZW5kZWQgPSB0cnVlO1xuICAgICAgc2VsZi5fc3ByaXRlID0gJ19fZGVmYXVsdCc7XG5cbiAgICAgIC8vIEdlbmVyYXRlIGEgbmV3IElEIHNvIHRoYXQgaXQgaXNuJ3QgY29uZnVzZWQgd2l0aCB0aGUgcHJldmlvdXMgc291bmQuXG4gICAgICBzZWxmLl9pZCA9IE1hdGgucm91bmQoRGF0ZS5ub3coKSAqIE1hdGgucmFuZG9tKCkpO1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSFRNTDUgQXVkaW8gZXJyb3IgbGlzdGVuZXIgY2FsbGJhY2suXG4gICAgICovXG4gICAgX2Vycm9yTGlzdGVuZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBGaXJlIGFuIGVycm9yIGV2ZW50IGFuZCBwYXNzIGJhY2sgdGhlIGNvZGUuXG4gICAgICBzZWxmLl9wYXJlbnQuX2VtaXQoJ2xvYWRlcnJvcicsIHNlbGYuX2lkLCBzZWxmLl9ub2RlLmVycm9yID8gc2VsZi5fbm9kZS5lcnJvci5jb2RlIDogMCk7XG5cbiAgICAgIC8vIENsZWFyIHRoZSBldmVudCBsaXN0ZW5lci5cbiAgICAgIHNlbGYuX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBzZWxmLl9lcnJvckxpc3RlbmVyLCBmYWxzZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhUTUw1IEF1ZGlvIGNhbnBsYXl0aHJvdWdoIGxpc3RlbmVyIGNhbGxiYWNrLlxuICAgICAqL1xuICAgIF9sb2FkTGlzdGVuZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHBhcmVudCA9IHNlbGYuX3BhcmVudDtcblxuICAgICAgLy8gUm91bmQgdXAgdGhlIGR1cmF0aW9uIHRvIGFjY291bnQgZm9yIHRoZSBsb3dlciBwcmVjaXNpb24gaW4gSFRNTDUgQXVkaW8uXG4gICAgICBwYXJlbnQuX2R1cmF0aW9uID0gTWF0aC5jZWlsKHNlbGYuX25vZGUuZHVyYXRpb24gKiAxMCkgLyAxMDtcblxuICAgICAgLy8gU2V0dXAgYSBzcHJpdGUgaWYgbm9uZSBpcyBkZWZpbmVkLlxuICAgICAgaWYgKE9iamVjdC5rZXlzKHBhcmVudC5fc3ByaXRlKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcGFyZW50Ll9zcHJpdGUgPSB7X19kZWZhdWx0OiBbMCwgcGFyZW50Ll9kdXJhdGlvbiAqIDEwMDBdfTtcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmVudC5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XG4gICAgICAgIHBhcmVudC5fc3RhdGUgPSAnbG9hZGVkJztcbiAgICAgICAgcGFyZW50Ll9lbWl0KCdsb2FkJyk7XG4gICAgICAgIHBhcmVudC5fbG9hZFF1ZXVlKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIENsZWFyIHRoZSBldmVudCBsaXN0ZW5lci5cbiAgICAgIHNlbGYuX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihIb3dsZXIuX2NhblBsYXlFdmVudCwgc2VsZi5fbG9hZEZuLCBmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKiBIZWxwZXIgTWV0aG9kcyAqKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICB2YXIgY2FjaGUgPSB7fTtcblxuICAvKipcbiAgICogQnVmZmVyIGEgc291bmQgZnJvbSBVUkwsIERhdGEgVVJJIG9yIGNhY2hlIGFuZCBkZWNvZGUgdG8gYXVkaW8gc291cmNlIChXZWIgQXVkaW8gQVBJKS5cbiAgICogQHBhcmFtICB7SG93bH0gc2VsZlxuICAgKi9cbiAgdmFyIGxvYWRCdWZmZXIgPSBmdW5jdGlvbihzZWxmKSB7XG4gICAgdmFyIHVybCA9IHNlbGYuX3NyYztcblxuICAgIC8vIENoZWNrIGlmIHRoZSBidWZmZXIgaGFzIGFscmVhZHkgYmVlbiBjYWNoZWQgYW5kIHVzZSBpdCBpbnN0ZWFkLlxuICAgIGlmIChjYWNoZVt1cmxdKSB7XG4gICAgICAvLyBTZXQgdGhlIGR1cmF0aW9uIGZyb20gdGhlIGNhY2hlLlxuICAgICAgc2VsZi5fZHVyYXRpb24gPSBjYWNoZVt1cmxdLmR1cmF0aW9uO1xuXG4gICAgICAvLyBMb2FkIHRoZSBzb3VuZCBpbnRvIHRoaXMgSG93bC5cbiAgICAgIGxvYWRTb3VuZChzZWxmKTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICgvXmRhdGE6W147XSs7YmFzZTY0LC8udGVzdCh1cmwpKSB7XG4gICAgICAvLyBEZWNvZGUgdGhlIGJhc2U2NCBkYXRhIFVSSSB3aXRob3V0IFhIUiwgc2luY2Ugc29tZSBicm93c2VycyBkb24ndCBzdXBwb3J0IGl0LlxuICAgICAgdmFyIGRhdGEgPSBhdG9iKHVybC5zcGxpdCgnLCcpWzFdKTtcbiAgICAgIHZhciBkYXRhVmlldyA9IG5ldyBVaW50OEFycmF5KGRhdGEubGVuZ3RoKTtcbiAgICAgIGZvciAodmFyIGk9MDsgaTxkYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGRhdGFWaWV3W2ldID0gZGF0YS5jaGFyQ29kZUF0KGkpO1xuICAgICAgfVxuXG4gICAgICBkZWNvZGVBdWRpb0RhdGEoZGF0YVZpZXcuYnVmZmVyLCBzZWxmKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTG9hZCB0aGUgYnVmZmVyIGZyb20gdGhlIFVSTC5cbiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwsIHRydWUpO1xuICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XG4gICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBnZXQgYSBzdWNjZXNzZnVsIHJlc3BvbnNlIGJhY2suXG4gICAgICAgIHZhciBjb2RlID0gKHhoci5zdGF0dXMgKyAnJylbMF07XG4gICAgICAgIGlmIChjb2RlICE9PSAnMCcgJiYgY29kZSAhPT0gJzInICYmIGNvZGUgIT09ICczJykge1xuICAgICAgICAgIHNlbGYuX2VtaXQoJ2xvYWRlcnJvcicsIG51bGwsICdGYWlsZWQgbG9hZGluZyBhdWRpbyBmaWxlIHdpdGggc3RhdHVzOiAnICsgeGhyLnN0YXR1cyArICcuJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVjb2RlQXVkaW9EYXRhKHhoci5yZXNwb25zZSwgc2VsZik7XG4gICAgICB9O1xuICAgICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYW4gZXJyb3IsIHN3aXRjaCB0byBIVE1MNSBBdWRpby5cbiAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgc2VsZi5faHRtbDUgPSB0cnVlO1xuICAgICAgICAgIHNlbGYuX3dlYkF1ZGlvID0gZmFsc2U7XG4gICAgICAgICAgc2VsZi5fc291bmRzID0gW107XG4gICAgICAgICAgZGVsZXRlIGNhY2hlW3VybF07XG4gICAgICAgICAgc2VsZi5sb2FkKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBzYWZlWGhyU2VuZCh4aHIpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogU2VuZCB0aGUgWEhSIHJlcXVlc3Qgd3JhcHBlZCBpbiBhIHRyeS9jYXRjaC5cbiAgICogQHBhcmFtICB7T2JqZWN0fSB4aHIgWEhSIHRvIHNlbmQuXG4gICAqL1xuICB2YXIgc2FmZVhoclNlbmQgPSBmdW5jdGlvbih4aHIpIHtcbiAgICB0cnkge1xuICAgICAgeGhyLnNlbmQoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB4aHIub25lcnJvcigpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogRGVjb2RlIGF1ZGlvIGRhdGEgZnJvbSBhbiBhcnJheSBidWZmZXIuXG4gICAqIEBwYXJhbSAge0FycmF5QnVmZmVyfSBhcnJheWJ1ZmZlciBUaGUgYXVkaW8gZGF0YS5cbiAgICogQHBhcmFtICB7SG93bH0gICAgICAgIHNlbGZcbiAgICovXG4gIHZhciBkZWNvZGVBdWRpb0RhdGEgPSBmdW5jdGlvbihhcnJheWJ1ZmZlciwgc2VsZikge1xuICAgIC8vIERlY29kZSB0aGUgYnVmZmVyIGludG8gYW4gYXVkaW8gc291cmNlLlxuICAgIEhvd2xlci5jdHguZGVjb2RlQXVkaW9EYXRhKGFycmF5YnVmZmVyLCBmdW5jdGlvbihidWZmZXIpIHtcbiAgICAgIGlmIChidWZmZXIgJiYgc2VsZi5fc291bmRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY2FjaGVbc2VsZi5fc3JjXSA9IGJ1ZmZlcjtcbiAgICAgICAgbG9hZFNvdW5kKHNlbGYsIGJ1ZmZlcik7XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLl9lbWl0KCdsb2FkZXJyb3InLCBudWxsLCAnRGVjb2RpbmcgYXVkaW8gZGF0YSBmYWlsZWQuJyk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNvdW5kIGlzIG5vdyBsb2FkZWQsIHNvIGZpbmlzaCBzZXR0aW5nIGV2ZXJ5dGhpbmcgdXAgYW5kIGZpcmUgdGhlIGxvYWRlZCBldmVudC5cbiAgICogQHBhcmFtICB7SG93bH0gc2VsZlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGJ1ZmZlciBUaGUgZGVjb2RlZCBidWZmZXIgc291bmQgc291cmNlLlxuICAgKi9cbiAgdmFyIGxvYWRTb3VuZCA9IGZ1bmN0aW9uKHNlbGYsIGJ1ZmZlcikge1xuICAgIC8vIFNldCB0aGUgZHVyYXRpb24uXG4gICAgaWYgKGJ1ZmZlciAmJiAhc2VsZi5fZHVyYXRpb24pIHtcbiAgICAgIHNlbGYuX2R1cmF0aW9uID0gYnVmZmVyLmR1cmF0aW9uO1xuICAgIH1cblxuICAgIC8vIFNldHVwIGEgc3ByaXRlIGlmIG5vbmUgaXMgZGVmaW5lZC5cbiAgICBpZiAoT2JqZWN0LmtleXMoc2VsZi5fc3ByaXRlKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHNlbGYuX3Nwcml0ZSA9IHtfX2RlZmF1bHQ6IFswLCBzZWxmLl9kdXJhdGlvbiAqIDEwMDBdfTtcbiAgICB9XG5cbiAgICAvLyBGaXJlIHRoZSBsb2FkZWQgZXZlbnQuXG4gICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgc2VsZi5fc3RhdGUgPSAnbG9hZGVkJztcbiAgICAgIHNlbGYuX2VtaXQoJ2xvYWQnKTtcbiAgICAgIHNlbGYuX2xvYWRRdWV1ZSgpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogU2V0dXAgdGhlIGF1ZGlvIGNvbnRleHQgd2hlbiBhdmFpbGFibGUsIG9yIHN3aXRjaCB0byBIVE1MNSBBdWRpbyBtb2RlLlxuICAgKi9cbiAgdmFyIHNldHVwQXVkaW9Db250ZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gQ2hlY2sgaWYgd2UgYXJlIHVzaW5nIFdlYiBBdWRpbyBhbmQgc2V0dXAgdGhlIEF1ZGlvQ29udGV4dCBpZiB3ZSBhcmUuXG4gICAgdHJ5IHtcbiAgICAgIGlmICh0eXBlb2YgQXVkaW9Db250ZXh0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBIb3dsZXIuY3R4ID0gbmV3IEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygd2Via2l0QXVkaW9Db250ZXh0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBIb3dsZXIuY3R4ID0gbmV3IHdlYmtpdEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgSG93bGVyLnVzaW5nV2ViQXVkaW8gPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIEhvd2xlci51c2luZ1dlYkF1ZGlvID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgYSB3ZWJ2aWV3IGlzIGJlaW5nIHVzZWQgb24gaU9TOCBvciBlYXJsaWVyIChyYXRoZXIgdGhhbiB0aGUgYnJvd3NlcikuXG4gICAgLy8gSWYgaXQgaXMsIGRpc2FibGUgV2ViIEF1ZGlvIGFzIGl0IGNhdXNlcyBjcmFzaGluZy5cbiAgICB2YXIgaU9TID0gKC9pUChob25lfG9kfGFkKS8udGVzdChIb3dsZXIuX25hdmlnYXRvciAmJiBIb3dsZXIuX25hdmlnYXRvci5wbGF0Zm9ybSkpO1xuICAgIHZhciBhcHBWZXJzaW9uID0gSG93bGVyLl9uYXZpZ2F0b3IgJiYgSG93bGVyLl9uYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaCgvT1MgKFxcZCspXyhcXGQrKV8/KFxcZCspPy8pO1xuICAgIHZhciB2ZXJzaW9uID0gYXBwVmVyc2lvbiA/IHBhcnNlSW50KGFwcFZlcnNpb25bMV0sIDEwKSA6IG51bGw7XG4gICAgaWYgKGlPUyAmJiB2ZXJzaW9uICYmIHZlcnNpb24gPCA5KSB7XG4gICAgICB2YXIgc2FmYXJpID0gL3NhZmFyaS8udGVzdChIb3dsZXIuX25hdmlnYXRvciAmJiBIb3dsZXIuX25hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSk7XG4gICAgICBpZiAoSG93bGVyLl9uYXZpZ2F0b3IgJiYgSG93bGVyLl9uYXZpZ2F0b3Iuc3RhbmRhbG9uZSAmJiAhc2FmYXJpIHx8IEhvd2xlci5fbmF2aWdhdG9yICYmICFIb3dsZXIuX25hdmlnYXRvci5zdGFuZGFsb25lICYmICFzYWZhcmkpIHtcbiAgICAgICAgSG93bGVyLnVzaW5nV2ViQXVkaW8gPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgYW5kIGV4cG9zZSB0aGUgbWFzdGVyIEdhaW5Ob2RlIHdoZW4gdXNpbmcgV2ViIEF1ZGlvICh1c2VmdWwgZm9yIHBsdWdpbnMgb3IgYWR2YW5jZWQgdXNhZ2UpLlxuICAgIGlmIChIb3dsZXIudXNpbmdXZWJBdWRpbykge1xuICAgICAgSG93bGVyLm1hc3RlckdhaW4gPSAodHlwZW9mIEhvd2xlci5jdHguY3JlYXRlR2FpbiA9PT0gJ3VuZGVmaW5lZCcpID8gSG93bGVyLmN0eC5jcmVhdGVHYWluTm9kZSgpIDogSG93bGVyLmN0eC5jcmVhdGVHYWluKCk7XG4gICAgICBIb3dsZXIubWFzdGVyR2Fpbi5nYWluLnZhbHVlID0gMTtcbiAgICAgIEhvd2xlci5tYXN0ZXJHYWluLmNvbm5lY3QoSG93bGVyLmN0eC5kZXN0aW5hdGlvbik7XG4gICAgfVxuXG4gICAgLy8gUmUtcnVuIHRoZSBzZXR1cCBvbiBIb3dsZXIuXG4gICAgSG93bGVyLl9zZXR1cCgpO1xuICB9O1xuXG4gIC8vIEFkZCBzdXBwb3J0IGZvciBBTUQgKEFzeW5jaHJvbm91cyBNb2R1bGUgRGVmaW5pdGlvbikgbGlicmFyaWVzIHN1Y2ggYXMgcmVxdWlyZS5qcy5cbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShbXSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBIb3dsZXI6IEhvd2xlcixcbiAgICAgICAgSG93bDogSG93bFxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIEFkZCBzdXBwb3J0IGZvciBDb21tb25KUyBsaWJyYXJpZXMgc3VjaCBhcyBicm93c2VyaWZ5LlxuICBpZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgZXhwb3J0cy5Ib3dsZXIgPSBIb3dsZXI7XG4gICAgZXhwb3J0cy5Ib3dsID0gSG93bDtcbiAgfVxuXG4gIC8vIERlZmluZSBnbG9iYWxseSBpbiBjYXNlIEFNRCBpcyBub3QgYXZhaWxhYmxlIG9yIHVudXNlZC5cbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgd2luZG93Lkhvd2xlckdsb2JhbCA9IEhvd2xlckdsb2JhbDtcbiAgICB3aW5kb3cuSG93bGVyID0gSG93bGVyO1xuICAgIHdpbmRvdy5Ib3dsID0gSG93bDtcbiAgICB3aW5kb3cuU291bmQgPSBTb3VuZDtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykgeyAvLyBBZGQgdG8gZ2xvYmFsIGluIE5vZGUuanMgKGZvciB0ZXN0aW5nLCBldGMpLlxuICAgIGdsb2JhbC5Ib3dsZXJHbG9iYWwgPSBIb3dsZXJHbG9iYWw7XG4gICAgZ2xvYmFsLkhvd2xlciA9IEhvd2xlcjtcbiAgICBnbG9iYWwuSG93bCA9IEhvd2w7XG4gICAgZ2xvYmFsLlNvdW5kID0gU291bmQ7XG4gIH1cbn0pKCk7XG5cblxuLyohXG4gKiAgU3BhdGlhbCBQbHVnaW4gLSBBZGRzIHN1cHBvcnQgZm9yIHN0ZXJlbyBhbmQgM0QgYXVkaW8gd2hlcmUgV2ViIEF1ZGlvIGlzIHN1cHBvcnRlZC5cbiAqICBcbiAqICBob3dsZXIuanMgdjIuMC4yXG4gKiAgaG93bGVyanMuY29tXG4gKlxuICogIChjKSAyMDEzLTIwMTYsIEphbWVzIFNpbXBzb24gb2YgR29sZEZpcmUgU3R1ZGlvc1xuICogIGdvbGRmaXJlc3R1ZGlvcy5jb21cbiAqXG4gKiAgTUlUIExpY2Vuc2VcbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIFNldHVwIGRlZmF1bHQgcHJvcGVydGllcy5cbiAgSG93bGVyR2xvYmFsLnByb3RvdHlwZS5fcG9zID0gWzAsIDAsIDBdO1xuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlLl9vcmllbnRhdGlvbiA9IFswLCAwLCAtMSwgMCwgMSwgMF07XG4gIFxuICAvKiogR2xvYmFsIE1ldGhvZHMgKiovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgLyoqXG4gICAqIEhlbHBlciBtZXRob2QgdG8gdXBkYXRlIHRoZSBzdGVyZW8gcGFubmluZyBwb3NpdGlvbiBvZiBhbGwgY3VycmVudCBIb3dscy5cbiAgICogRnV0dXJlIEhvd2xzIHdpbGwgbm90IHVzZSB0aGlzIHZhbHVlIHVubGVzcyBleHBsaWNpdGx5IHNldC5cbiAgICogQHBhcmFtICB7TnVtYmVyfSBwYW4gQSB2YWx1ZSBvZiAtMS4wIGlzIGFsbCB0aGUgd2F5IGxlZnQgYW5kIDEuMCBpcyBhbGwgdGhlIHdheSByaWdodC5cbiAgICogQHJldHVybiB7SG93bGVyL051bWJlcn0gICAgIFNlbGYgb3IgY3VycmVudCBzdGVyZW8gcGFubmluZyB2YWx1ZS5cbiAgICovXG4gIEhvd2xlckdsb2JhbC5wcm90b3R5cGUuc3RlcmVvID0gZnVuY3Rpb24ocGFuKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXG4gICAgaWYgKCFzZWxmLmN0eCB8fCAhc2VsZi5jdHgubGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgSG93bHMgYW5kIHVwZGF0ZSB0aGVpciBzdGVyZW8gcGFubmluZy5cbiAgICBmb3IgKHZhciBpPXNlbGYuX2hvd2xzLmxlbmd0aC0xOyBpPj0wOyBpLS0pIHtcbiAgICAgIHNlbGYuX2hvd2xzW2ldLnN0ZXJlbyhwYW4pO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQvc2V0IHRoZSBwb3NpdGlvbiBvZiB0aGUgbGlzdGVuZXIgaW4gM0QgY2FydGVzaWFuIHNwYWNlLiBTb3VuZHMgdXNpbmdcbiAgICogM0QgcG9zaXRpb24gd2lsbCBiZSByZWxhdGl2ZSB0byB0aGUgbGlzdGVuZXIncyBwb3NpdGlvbi5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB4IFRoZSB4LXBvc2l0aW9uIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB5IFRoZSB5LXBvc2l0aW9uIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB6IFRoZSB6LXBvc2l0aW9uIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHJldHVybiB7SG93bGVyL0FycmF5fSAgIFNlbGYgb3IgY3VycmVudCBsaXN0ZW5lciBwb3NpdGlvbi5cbiAgICovXG4gIEhvd2xlckdsb2JhbC5wcm90b3R5cGUucG9zID0gZnVuY3Rpb24oeCwgeSwgeikge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxuICAgIGlmICghc2VsZi5jdHggfHwgIXNlbGYuY3R4Lmxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBTZXQgdGhlIGRlZmF1bHRzIGZvciBvcHRpb25hbCAneScgJiAneicuXG4gICAgeSA9ICh0eXBlb2YgeSAhPT0gJ251bWJlcicpID8gc2VsZi5fcG9zWzFdIDogeTtcbiAgICB6ID0gKHR5cGVvZiB6ICE9PSAnbnVtYmVyJykgPyBzZWxmLl9wb3NbMl0gOiB6O1xuXG4gICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xuICAgICAgc2VsZi5fcG9zID0gW3gsIHksIHpdO1xuICAgICAgc2VsZi5jdHgubGlzdGVuZXIuc2V0UG9zaXRpb24oc2VsZi5fcG9zWzBdLCBzZWxmLl9wb3NbMV0sIHNlbGYuX3Bvc1syXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzZWxmLl9wb3M7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGY7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldC9zZXQgdGhlIGRpcmVjdGlvbiB0aGUgbGlzdGVuZXIgaXMgcG9pbnRpbmcgaW4gdGhlIDNEIGNhcnRlc2lhbiBzcGFjZS5cbiAgICogQSBmcm9udCBhbmQgdXAgdmVjdG9yIG11c3QgYmUgcHJvdmlkZWQuIFRoZSBmcm9udCBpcyB0aGUgZGlyZWN0aW9uIHRoZVxuICAgKiBmYWNlIG9mIHRoZSBsaXN0ZW5lciBpcyBwb2ludGluZywgYW5kIHVwIGlzIHRoZSBkaXJlY3Rpb24gdGhlIHRvcCBvZiB0aGVcbiAgICogbGlzdGVuZXIgaXMgcG9pbnRpbmcuIFRodXMsIHRoZXNlIHZhbHVlcyBhcmUgZXhwZWN0ZWQgdG8gYmUgYXQgcmlnaHQgYW5nbGVzXG4gICAqIGZyb20gZWFjaCBvdGhlci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB4ICAgVGhlIHgtb3JpZW50YXRpb24gb2YgdGhlIGxpc3RlbmVyLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHkgICBUaGUgeS1vcmllbnRhdGlvbiBvZiB0aGUgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSAge051bWJlcn0geiAgIFRoZSB6LW9yaWVudGF0aW9uIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB4VXAgVGhlIHgtb3JpZW50YXRpb24gb2YgdGhlIHRvcCBvZiB0aGUgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSAge051bWJlcn0geVVwIFRoZSB5LW9yaWVudGF0aW9uIG9mIHRoZSB0b3Agb2YgdGhlIGxpc3RlbmVyLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHpVcCBUaGUgei1vcmllbnRhdGlvbiBvZiB0aGUgdG9wIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHJldHVybiB7SG93bGVyL0FycmF5fSAgICAgUmV0dXJucyBzZWxmIG9yIHRoZSBjdXJyZW50IG9yaWVudGF0aW9uIHZlY3RvcnMuXG4gICAqL1xuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlLm9yaWVudGF0aW9uID0gZnVuY3Rpb24oeCwgeSwgeiwgeFVwLCB5VXAsIHpVcCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxuICAgIGlmICghc2VsZi5jdHggfHwgIXNlbGYuY3R4Lmxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBTZXQgdGhlIGRlZmF1bHRzIGZvciBvcHRpb25hbCAneScgJiAneicuXG4gICAgdmFyIG9yID0gc2VsZi5fb3JpZW50YXRpb247XG4gICAgeSA9ICh0eXBlb2YgeSAhPT0gJ251bWJlcicpID8gb3JbMV0gOiB5O1xuICAgIHogPSAodHlwZW9mIHogIT09ICdudW1iZXInKSA/IG9yWzJdIDogejtcbiAgICB4VXAgPSAodHlwZW9mIHhVcCAhPT0gJ251bWJlcicpID8gb3JbM10gOiB4VXA7XG4gICAgeVVwID0gKHR5cGVvZiB5VXAgIT09ICdudW1iZXInKSA/IG9yWzRdIDogeVVwO1xuICAgIHpVcCA9ICh0eXBlb2YgelVwICE9PSAnbnVtYmVyJykgPyBvcls1XSA6IHpVcDtcblxuICAgIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHtcbiAgICAgIHNlbGYuX29yaWVudGF0aW9uID0gW3gsIHksIHosIHhVcCwgeVVwLCB6VXBdO1xuICAgICAgc2VsZi5jdHgubGlzdGVuZXIuc2V0T3JpZW50YXRpb24oeCwgeSwgeiwgeFVwLCB5VXAsIHpVcCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBvcjtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICAvKiogR3JvdXAgTWV0aG9kcyAqKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAvKipcbiAgICogQWRkIG5ldyBwcm9wZXJ0aWVzIHRvIHRoZSBjb3JlIGluaXQuXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBfc3VwZXIgQ29yZSBpbml0IG1ldGhvZC5cbiAgICogQHJldHVybiB7SG93bH1cbiAgICovXG4gIEhvd2wucHJvdG90eXBlLmluaXQgPSAoZnVuY3Rpb24oX3N1cGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG8pIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gU2V0dXAgdXNlci1kZWZpbmVkIGRlZmF1bHQgcHJvcGVydGllcy5cbiAgICAgIHNlbGYuX29yaWVudGF0aW9uID0gby5vcmllbnRhdGlvbiB8fCBbMSwgMCwgMF07XG4gICAgICBzZWxmLl9zdGVyZW8gPSBvLnN0ZXJlbyB8fCBudWxsO1xuICAgICAgc2VsZi5fcG9zID0gby5wb3MgfHwgbnVsbDtcbiAgICAgIHNlbGYuX3Bhbm5lckF0dHIgPSB7XG4gICAgICAgIGNvbmVJbm5lckFuZ2xlOiB0eXBlb2Ygby5jb25lSW5uZXJBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLmNvbmVJbm5lckFuZ2xlIDogMzYwLFxuICAgICAgICBjb25lT3V0ZXJBbmdsZTogdHlwZW9mIG8uY29uZU91dGVyQW5nbGUgIT09ICd1bmRlZmluZWQnID8gby5jb25lT3V0ZXJBbmdsZSA6IDM2MCxcbiAgICAgICAgY29uZU91dGVyR2FpbjogdHlwZW9mIG8uY29uZU91dGVyR2FpbiAhPT0gJ3VuZGVmaW5lZCcgPyBvLmNvbmVPdXRlckdhaW4gOiAwLFxuICAgICAgICBkaXN0YW5jZU1vZGVsOiB0eXBlb2Ygby5kaXN0YW5jZU1vZGVsICE9PSAndW5kZWZpbmVkJyA/IG8uZGlzdGFuY2VNb2RlbCA6ICdpbnZlcnNlJyxcbiAgICAgICAgbWF4RGlzdGFuY2U6IHR5cGVvZiBvLm1heERpc3RhbmNlICE9PSAndW5kZWZpbmVkJyA/IG8ubWF4RGlzdGFuY2UgOiAxMDAwMCxcbiAgICAgICAgcGFubmluZ01vZGVsOiB0eXBlb2Ygby5wYW5uaW5nTW9kZWwgIT09ICd1bmRlZmluZWQnID8gby5wYW5uaW5nTW9kZWwgOiAnSFJURicsXG4gICAgICAgIHJlZkRpc3RhbmNlOiB0eXBlb2Ygby5yZWZEaXN0YW5jZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLnJlZkRpc3RhbmNlIDogMSxcbiAgICAgICAgcm9sbG9mZkZhY3RvcjogdHlwZW9mIG8ucm9sbG9mZkZhY3RvciAhPT0gJ3VuZGVmaW5lZCcgPyBvLnJvbGxvZmZGYWN0b3IgOiAxXG4gICAgICB9O1xuXG4gICAgICAvLyBTZXR1cCBldmVudCBsaXN0ZW5lcnMuXG4gICAgICBzZWxmLl9vbnN0ZXJlbyA9IG8ub25zdGVyZW8gPyBbe2ZuOiBvLm9uc3RlcmVvfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ucG9zID0gby5vbnBvcyA/IFt7Zm46IG8ub25wb3N9XSA6IFtdO1xuICAgICAgc2VsZi5fb25vcmllbnRhdGlvbiA9IG8ub25vcmllbnRhdGlvbiA/IFt7Zm46IG8ub25vcmllbnRhdGlvbn1dIDogW107XG5cbiAgICAgIC8vIENvbXBsZXRlIGluaXRpbGl6YXRpb24gd2l0aCBob3dsZXIuanMgY29yZSdzIGluaXQgZnVuY3Rpb24uXG4gICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgbyk7XG4gICAgfTtcbiAgfSkoSG93bC5wcm90b3R5cGUuaW5pdCk7XG5cbiAgLyoqXG4gICAqIEdldC9zZXQgdGhlIHN0ZXJlbyBwYW5uaW5nIG9mIHRoZSBhdWRpbyBzb3VyY2UgZm9yIHRoaXMgc291bmQgb3IgYWxsIGluIHRoZSBncm91cC5cbiAgICogQHBhcmFtICB7TnVtYmVyfSBwYW4gIEEgdmFsdWUgb2YgLTEuMCBpcyBhbGwgdGhlIHdheSBsZWZ0IGFuZCAxLjAgaXMgYWxsIHRoZSB3YXkgcmlnaHQuXG4gICAqIEBwYXJhbSAge051bWJlcn0gaWQgKG9wdGlvbmFsKSBUaGUgc291bmQgSUQuIElmIG5vbmUgaXMgcGFzc2VkLCBhbGwgaW4gZ3JvdXAgd2lsbCBiZSB1cGRhdGVkLlxuICAgKiBAcmV0dXJuIHtIb3dsL051bWJlcn0gICAgUmV0dXJucyBzZWxmIG9yIHRoZSBjdXJyZW50IHN0ZXJlbyBwYW5uaW5nIHZhbHVlLlxuICAgKi9cbiAgSG93bC5wcm90b3R5cGUuc3RlcmVvID0gZnVuY3Rpb24ocGFuLCBpZCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxuICAgIGlmICghc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gY2hhbmdlIHN0ZXJlbyBwYW4gd2hlbiBjYXBhYmxlLlxuICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcpIHtcbiAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICBldmVudDogJ3N0ZXJlbycsXG4gICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2VsZi5zdGVyZW8ocGFuLCBpZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgUGFubmVyU3RlcmVvTm9kZSBzdXBwb3J0IGFuZCBmYWxsYmFjayB0byBQYW5uZXJOb2RlIGlmIGl0IGRvZXNuJ3QgZXhpc3QuXG4gICAgdmFyIHBhbm5lclR5cGUgPSAodHlwZW9mIEhvd2xlci5jdHguY3JlYXRlU3RlcmVvUGFubmVyID09PSAndW5kZWZpbmVkJykgPyAnc3BhdGlhbCcgOiAnc3RlcmVvJztcblxuICAgIC8vIFNldHVwIHRoZSBncm91cCdzIHN0ZXJlbyBwYW5uaW5nIGlmIG5vIElEIGlzIHBhc3NlZC5cbiAgICBpZiAodHlwZW9mIGlkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gUmV0dXJuIHRoZSBncm91cCdzIHN0ZXJlbyBwYW5uaW5nIGlmIG5vIHBhcmFtZXRlcnMgYXJlIHBhc3NlZC5cbiAgICAgIGlmICh0eXBlb2YgcGFuID09PSAnbnVtYmVyJykge1xuICAgICAgICBzZWxmLl9zdGVyZW8gPSBwYW47XG4gICAgICAgIHNlbGYuX3BvcyA9IFtwYW4sIDAsIDBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuX3N0ZXJlbztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDaGFuZ2UgdGhlIHN0cmVvIHBhbm5pbmcgb2Ygb25lIG9yIGFsbCBzb3VuZHMgaW4gZ3JvdXAuXG4gICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcbiAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XG5cbiAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICBpZiAodHlwZW9mIHBhbiA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBzb3VuZC5fc3RlcmVvID0gcGFuO1xuICAgICAgICAgIHNvdW5kLl9wb3MgPSBbcGFuLCAwLCAwXTtcblxuICAgICAgICAgIGlmIChzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgLy8gSWYgd2UgYXJlIGZhbGxpbmcgYmFjaywgbWFrZSBzdXJlIHRoZSBwYW5uaW5nTW9kZWwgaXMgZXF1YWxwb3dlci5cbiAgICAgICAgICAgIHNvdW5kLl9wYW5uZXJBdHRyLnBhbm5pbmdNb2RlbCA9ICdlcXVhbHBvd2VyJztcblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYSBwYW5uZXIgc2V0dXAgYW5kIGNyZWF0ZSBhIG5ldyBvbmUgaWYgbm90LlxuICAgICAgICAgICAgaWYgKCFzb3VuZC5fcGFubmVyIHx8ICFzb3VuZC5fcGFubmVyLnBhbikge1xuICAgICAgICAgICAgICBzZXR1cFBhbm5lcihzb3VuZCwgcGFubmVyVHlwZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwYW5uZXJUeXBlID09PSAnc3BhdGlhbCcpIHtcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5zZXRQb3NpdGlvbihwYW4sIDAsIDApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wYW4udmFsdWUgPSBwYW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5fZW1pdCgnc3RlcmVvJywgc291bmQuX2lkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gc291bmQuX3N0ZXJlbztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQvc2V0IHRoZSAzRCBzcGF0aWFsIHBvc2l0aW9uIG9mIHRoZSBhdWRpbyBzb3VyY2UgZm9yIHRoaXMgc291bmQgb3JcbiAgICogYWxsIGluIHRoZSBncm91cC4gVGhlIG1vc3QgY29tbW9uIHVzYWdlIGlzIHRvIHNldCB0aGUgJ3gnIHBvc2l0aW9uIGZvclxuICAgKiBsZWZ0L3JpZ2h0IHBhbm5pbmcuIFNldHRpbmcgYW55IHZhbHVlIGhpZ2hlciB0aGFuIDEuMCB3aWxsIGJlZ2luIHRvXG4gICAqIGRlY3JlYXNlIHRoZSB2b2x1bWUgb2YgdGhlIHNvdW5kIGFzIGl0IG1vdmVzIGZ1cnRoZXIgYXdheS5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB4ICBUaGUgeC1wb3NpdGlvbiBvZiB0aGUgYXVkaW8gZnJvbSAtMTAwMC4wIHRvIDEwMDAuMC5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB5ICBUaGUgeS1wb3NpdGlvbiBvZiB0aGUgYXVkaW8gZnJvbSAtMTAwMC4wIHRvIDEwMDAuMC5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB6ICBUaGUgei1wb3NpdGlvbiBvZiB0aGUgYXVkaW8gZnJvbSAtMTAwMC4wIHRvIDEwMDAuMC5cbiAgICogQHBhcmFtICB7TnVtYmVyfSBpZCAob3B0aW9uYWwpIFRoZSBzb3VuZCBJRC4gSWYgbm9uZSBpcyBwYXNzZWQsIGFsbCBpbiBncm91cCB3aWxsIGJlIHVwZGF0ZWQuXG4gICAqIEByZXR1cm4ge0hvd2wvQXJyYXl9ICAgIFJldHVybnMgc2VsZiBvciB0aGUgY3VycmVudCAzRCBzcGF0aWFsIHBvc2l0aW9uOiBbeCwgeSwgel0uXG4gICAqL1xuICBIb3dsLnByb3RvdHlwZS5wb3MgPSBmdW5jdGlvbih4LCB5LCB6LCBpZCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxuICAgIGlmICghc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gY2hhbmdlIHBvc2l0aW9uIHdoZW4gY2FwYWJsZS5cbiAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XG4gICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgZXZlbnQ6ICdwb3MnLFxuICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYucG9zKHgsIHksIHosIGlkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIFNldCB0aGUgZGVmYXVsdHMgZm9yIG9wdGlvbmFsICd5JyAmICd6Jy5cbiAgICB5ID0gKHR5cGVvZiB5ICE9PSAnbnVtYmVyJykgPyAwIDogeTtcbiAgICB6ID0gKHR5cGVvZiB6ICE9PSAnbnVtYmVyJykgPyAtMC41IDogejtcblxuICAgIC8vIFNldHVwIHRoZSBncm91cCdzIHNwYXRpYWwgcG9zaXRpb24gaWYgbm8gSUQgaXMgcGFzc2VkLlxuICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBSZXR1cm4gdGhlIGdyb3VwJ3Mgc3BhdGlhbCBwb3NpdGlvbiBpZiBubyBwYXJhbWV0ZXJzIGFyZSBwYXNzZWQuXG4gICAgICBpZiAodHlwZW9mIHggPT09ICdudW1iZXInKSB7XG4gICAgICAgIHNlbGYuX3BvcyA9IFt4LCB5LCB6XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzZWxmLl9wb3M7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hhbmdlIHRoZSBzcGF0aWFsIHBvc2l0aW9uIG9mIG9uZSBvciBhbGwgc291bmRzIGluIGdyb3VwLlxuICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xuXG4gICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHNvdW5kLl9wb3MgPSBbeCwgeSwgel07XG5cbiAgICAgICAgICBpZiAoc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGlzIGEgcGFubmVyIHNldHVwIGFuZCBjcmVhdGUgYSBuZXcgb25lIGlmIG5vdC5cbiAgICAgICAgICAgIGlmICghc291bmQuX3Bhbm5lciB8fCBzb3VuZC5fcGFubmVyLnBhbikge1xuICAgICAgICAgICAgICBzZXR1cFBhbm5lcihzb3VuZCwgJ3NwYXRpYWwnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc291bmQuX3Bhbm5lci5zZXRQb3NpdGlvbih4LCB5LCB6KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZWxmLl9lbWl0KCdwb3MnLCBzb3VuZC5faWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBzb3VuZC5fcG9zO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGY7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldC9zZXQgdGhlIGRpcmVjdGlvbiB0aGUgYXVkaW8gc291cmNlIGlzIHBvaW50aW5nIGluIHRoZSAzRCBjYXJ0ZXNpYW4gY29vcmRpbmF0ZVxuICAgKiBzcGFjZS4gRGVwZW5kaW5nIG9uIGhvdyBkaXJlY3Rpb24gdGhlIHNvdW5kIGlzLCBiYXNlZCBvbiB0aGUgYGNvbmVgIGF0dHJpYnV0ZXMsXG4gICAqIGEgc291bmQgcG9pbnRpbmcgYXdheSBmcm9tIHRoZSBsaXN0ZW5lciBjYW4gYmUgcXVpZXQgb3Igc2lsZW50LlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHggIFRoZSB4LW9yaWVudGF0aW9uIG9mIHRoZSBzb3VyY2UuXG4gICAqIEBwYXJhbSAge051bWJlcn0geSAgVGhlIHktb3JpZW50YXRpb24gb2YgdGhlIHNvdXJjZS5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB6ICBUaGUgei1vcmllbnRhdGlvbiBvZiB0aGUgc291cmNlLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIChvcHRpb25hbCkgVGhlIHNvdW5kIElELiBJZiBub25lIGlzIHBhc3NlZCwgYWxsIGluIGdyb3VwIHdpbGwgYmUgdXBkYXRlZC5cbiAgICogQHJldHVybiB7SG93bC9BcnJheX0gICAgUmV0dXJucyBzZWxmIG9yIHRoZSBjdXJyZW50IDNEIHNwYXRpYWwgb3JpZW50YXRpb246IFt4LCB5LCB6XS5cbiAgICovXG4gIEhvd2wucHJvdG90eXBlLm9yaWVudGF0aW9uID0gZnVuY3Rpb24oeCwgeSwgeiwgaWQpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBTdG9wIHJpZ2h0IGhlcmUgaWYgbm90IHVzaW5nIFdlYiBBdWRpby5cbiAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIGNoYW5nZSBvcmllbnRhdGlvbiB3aGVuIGNhcGFibGUuXG4gICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgIGV2ZW50OiAnb3JpZW50YXRpb24nLFxuICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYub3JpZW50YXRpb24oeCwgeSwgeiwgaWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgLy8gU2V0IHRoZSBkZWZhdWx0cyBmb3Igb3B0aW9uYWwgJ3knICYgJ3onLlxuICAgIHkgPSAodHlwZW9mIHkgIT09ICdudW1iZXInKSA/IHNlbGYuX29yaWVudGF0aW9uWzFdIDogeTtcbiAgICB6ID0gKHR5cGVvZiB6ICE9PSAnbnVtYmVyJykgPyBzZWxmLl9vcmllbnRhdGlvblsyXSA6IHo7XG5cbiAgICAvLyBTZXR1cCB0aGUgZ3JvdXAncyBzcGF0aWFsIG9yaWVudGF0aW9uIGlmIG5vIElEIGlzIHBhc3NlZC5cbiAgICBpZiAodHlwZW9mIGlkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gUmV0dXJuIHRoZSBncm91cCdzIHNwYXRpYWwgb3JpZW50YXRpb24gaWYgbm8gcGFyYW1ldGVycyBhcmUgcGFzc2VkLlxuICAgICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xuICAgICAgICBzZWxmLl9vcmllbnRhdGlvbiA9IFt4LCB5LCB6XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzZWxmLl9vcmllbnRhdGlvbjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDaGFuZ2UgdGhlIHNwYXRpYWwgb3JpZW50YXRpb24gb2Ygb25lIG9yIGFsbCBzb3VuZHMgaW4gZ3JvdXAuXG4gICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcbiAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XG5cbiAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICBpZiAodHlwZW9mIHggPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgc291bmQuX29yaWVudGF0aW9uID0gW3gsIHksIHpdO1xuXG4gICAgICAgICAgaWYgKHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSBpcyBhIHBhbm5lciBzZXR1cCBhbmQgY3JlYXRlIGEgbmV3IG9uZSBpZiBub3QuXG4gICAgICAgICAgICBpZiAoIXNvdW5kLl9wYW5uZXIpIHtcbiAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHdlIGhhdmUgYSBwb3NpdGlvbiB0byBzZXR1cCB0aGUgbm9kZSB3aXRoLlxuICAgICAgICAgICAgICBpZiAoIXNvdW5kLl9wb3MpIHtcbiAgICAgICAgICAgICAgICBzb3VuZC5fcG9zID0gc2VsZi5fcG9zIHx8IFswLCAwLCAtMC41XTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHNldHVwUGFubmVyKHNvdW5kLCAnc3BhdGlhbCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzb3VuZC5fcGFubmVyLnNldE9yaWVudGF0aW9uKHgsIHksIHopO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuX2VtaXQoJ29yaWVudGF0aW9uJywgc291bmQuX2lkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gc291bmQuX29yaWVudGF0aW9uO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGY7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldC9zZXQgdGhlIHBhbm5lciBub2RlJ3MgYXR0cmlidXRlcyBmb3IgYSBzb3VuZCBvciBncm91cCBvZiBzb3VuZHMuXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGwgdGFrZSAwLCAxIG9yIDIgYXJndW1lbnRzLlxuICAgKiAgIHBhbm5lckF0dHIoKSAtPiBSZXR1cm5zIHRoZSBncm91cCdzIHZhbHVlcy5cbiAgICogICBwYW5uZXJBdHRyKGlkKSAtPiBSZXR1cm5zIHRoZSBzb3VuZCBpZCdzIHZhbHVlcy5cbiAgICogICBwYW5uZXJBdHRyKG8pIC0+IFNldCdzIHRoZSB2YWx1ZXMgb2YgYWxsIHNvdW5kcyBpbiB0aGlzIEhvd2wgZ3JvdXAuXG4gICAqICAgcGFubmVyQXR0cihvLCBpZCkgLT4gU2V0J3MgdGhlIHZhbHVlcyBvZiBwYXNzZWQgc291bmQgaWQuXG4gICAqXG4gICAqICAgQXR0cmlidXRlczpcbiAgICogICAgIGNvbmVJbm5lckFuZ2xlIC0gKDM2MCBieSBkZWZhdWx0KSBUaGVyZSB3aWxsIGJlIG5vIHZvbHVtZSByZWR1Y3Rpb24gaW5zaWRlIHRoaXMgYW5nbGUuXG4gICAqICAgICBjb25lT3V0ZXJBbmdsZSAtICgzNjAgYnkgZGVmYXVsdCkgVGhlIHZvbHVtZSB3aWxsIGJlIHJlZHVjZWQgdG8gYSBjb25zdGFudCB2YWx1ZSBvZlxuICAgKiAgICAgICAgICAgICAgICAgICAgICBgY29uZU91dGVyR2FpbmAgb3V0c2lkZSB0aGlzIGFuZ2xlLlxuICAgKiAgICAgY29uZU91dGVyR2FpbiAtICgwIGJ5IGRlZmF1bHQpIFRoZSBhbW91bnQgb2Ygdm9sdW1lIHJlZHVjdGlvbiBvdXRzaWRlIG9mIGBjb25lT3V0ZXJBbmdsZWAuXG4gICAqICAgICBkaXN0YW5jZU1vZGVsIC0gKCdpbnZlcnNlJyBieSBkZWZhdWx0KSBEZXRlcm1pbmVzIGFsZ29yaXRobSB0byB1c2UgdG8gcmVkdWNlIHZvbHVtZSBhcyBhdWRpbyBtb3Zlc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICBhd2F5IGZyb20gbGlzdGVuZXIuIENhbiBiZSBgbGluZWFyYCwgYGludmVyc2VgIG9yIGBleHBvbmVudGlhbGAuXG4gICAqICAgICBtYXhEaXN0YW5jZSAtICgxMDAwMCBieSBkZWZhdWx0KSBWb2x1bWUgd29uJ3QgcmVkdWNlIGJldHdlZW4gc291cmNlL2xpc3RlbmVyIGJleW9uZCB0aGlzIGRpc3RhbmNlLlxuICAgKiAgICAgcGFubmluZ01vZGVsIC0gKCdIUlRGJyBieSBkZWZhdWx0KSBEZXRlcm1pbmVzIHdoaWNoIHNwYXRpYWxpemF0aW9uIGFsZ29yaXRobSBpcyB1c2VkIHRvIHBvc2l0aW9uIGF1ZGlvLlxuICAgKiAgICAgICAgICAgICAgICAgICAgIENhbiBiZSBgSFJURmAgb3IgYGVxdWFscG93ZXJgLlxuICAgKiAgICAgcmVmRGlzdGFuY2UgLSAoMSBieSBkZWZhdWx0KSBBIHJlZmVyZW5jZSBkaXN0YW5jZSBmb3IgcmVkdWNpbmcgdm9sdW1lIGFzIHRoZSBzb3VyY2VcbiAgICogICAgICAgICAgICAgICAgICAgIG1vdmVzIGF3YXkgZnJvbSB0aGUgbGlzdGVuZXIuXG4gICAqICAgICByb2xsb2ZmRmFjdG9yIC0gKDEgYnkgZGVmYXVsdCkgSG93IHF1aWNrbHkgdGhlIHZvbHVtZSByZWR1Y2VzIGFzIHNvdXJjZSBtb3ZlcyBmcm9tIGxpc3RlbmVyLlxuICAgKiBcbiAgICogQHJldHVybiB7SG93bC9PYmplY3R9IFJldHVybnMgc2VsZiBvciBjdXJyZW50IHBhbm5lciBhdHRyaWJ1dGVzLlxuICAgKi9cbiAgSG93bC5wcm90b3R5cGUucGFubmVyQXR0ciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICB2YXIgbywgaWQsIHNvdW5kO1xuXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXG4gICAgaWYgKCFzZWxmLl93ZWJBdWRpbykge1xuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgLy8gRGV0ZXJtaW5lIHRoZSB2YWx1ZXMgYmFzZWQgb24gYXJndW1lbnRzLlxuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgLy8gUmV0dXJuIHRoZSBncm91cCdzIHBhbm5lciBhdHRyaWJ1dGUgdmFsdWVzLlxuICAgICAgcmV0dXJuIHNlbGYuX3Bhbm5lckF0dHI7XG4gICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgaWYgKHR5cGVvZiBhcmdzWzBdID09PSAnb2JqZWN0Jykge1xuICAgICAgICBvID0gYXJnc1swXTtcblxuICAgICAgICAvLyBTZXQgdGhlIGdyb3UncyBwYW5uZXIgYXR0cmlidXRlIHZhbHVlcy5cbiAgICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBzZWxmLl9wYW5uZXJBdHRyID0ge1xuICAgICAgICAgICAgY29uZUlubmVyQW5nbGU6IHR5cGVvZiBvLmNvbmVJbm5lckFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZUlubmVyQW5nbGUgOiBzZWxmLl9jb25lSW5uZXJBbmdsZSxcbiAgICAgICAgICAgIGNvbmVPdXRlckFuZ2xlOiB0eXBlb2Ygby5jb25lT3V0ZXJBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLmNvbmVPdXRlckFuZ2xlIDogc2VsZi5fY29uZU91dGVyQW5nbGUsXG4gICAgICAgICAgICBjb25lT3V0ZXJHYWluOiB0eXBlb2Ygby5jb25lT3V0ZXJHYWluICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZU91dGVyR2FpbiA6IHNlbGYuX2NvbmVPdXRlckdhaW4sXG4gICAgICAgICAgICBkaXN0YW5jZU1vZGVsOiB0eXBlb2Ygby5kaXN0YW5jZU1vZGVsICE9PSAndW5kZWZpbmVkJyA/IG8uZGlzdGFuY2VNb2RlbCA6IHNlbGYuX2Rpc3RhbmNlTW9kZWwsXG4gICAgICAgICAgICBtYXhEaXN0YW5jZTogdHlwZW9mIG8ubWF4RGlzdGFuY2UgIT09ICd1bmRlZmluZWQnID8gby5tYXhEaXN0YW5jZSA6IHNlbGYuX21heERpc3RhbmNlLFxuICAgICAgICAgICAgcGFubmluZ01vZGVsOiB0eXBlb2Ygby5wYW5uaW5nTW9kZWwgIT09ICd1bmRlZmluZWQnID8gby5wYW5uaW5nTW9kZWwgOiBzZWxmLl9wYW5uaW5nTW9kZWwsXG4gICAgICAgICAgICByZWZEaXN0YW5jZTogdHlwZW9mIG8ucmVmRGlzdGFuY2UgIT09ICd1bmRlZmluZWQnID8gby5yZWZEaXN0YW5jZSA6IHNlbGYuX3JlZkRpc3RhbmNlLFxuICAgICAgICAgICAgcm9sbG9mZkZhY3RvcjogdHlwZW9mIG8ucm9sbG9mZkZhY3RvciAhPT0gJ3VuZGVmaW5lZCcgPyBvLnJvbGxvZmZGYWN0b3IgOiBzZWxmLl9yb2xsb2ZmRmFjdG9yXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUmV0dXJuIHRoaXMgc291bmQncyBwYW5uZXIgYXR0cmlidXRlIHZhbHVlcy5cbiAgICAgICAgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQocGFyc2VJbnQoYXJnc1swXSwgMTApKTtcbiAgICAgICAgcmV0dXJuIHNvdW5kID8gc291bmQuX3Bhbm5lckF0dHIgOiBzZWxmLl9wYW5uZXJBdHRyO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcbiAgICAgIG8gPSBhcmdzWzBdO1xuICAgICAgaWQgPSBwYXJzZUludChhcmdzWzFdLCAxMCk7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHRoZSB2YWx1ZXMgb2YgdGhlIHNwZWNpZmllZCBzb3VuZHMuXG4gICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcbiAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xuXG4gICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgLy8gTWVyZ2UgdGhlIG5ldyB2YWx1ZXMgaW50byB0aGUgc291bmQuXG4gICAgICAgIHZhciBwYSA9IHNvdW5kLl9wYW5uZXJBdHRyO1xuICAgICAgICBwYSA9IHtcbiAgICAgICAgICBjb25lSW5uZXJBbmdsZTogdHlwZW9mIG8uY29uZUlubmVyQW5nbGUgIT09ICd1bmRlZmluZWQnID8gby5jb25lSW5uZXJBbmdsZSA6IHBhLmNvbmVJbm5lckFuZ2xlLFxuICAgICAgICAgIGNvbmVPdXRlckFuZ2xlOiB0eXBlb2Ygby5jb25lT3V0ZXJBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLmNvbmVPdXRlckFuZ2xlIDogcGEuY29uZU91dGVyQW5nbGUsXG4gICAgICAgICAgY29uZU91dGVyR2FpbjogdHlwZW9mIG8uY29uZU91dGVyR2FpbiAhPT0gJ3VuZGVmaW5lZCcgPyBvLmNvbmVPdXRlckdhaW4gOiBwYS5jb25lT3V0ZXJHYWluLFxuICAgICAgICAgIGRpc3RhbmNlTW9kZWw6IHR5cGVvZiBvLmRpc3RhbmNlTW9kZWwgIT09ICd1bmRlZmluZWQnID8gby5kaXN0YW5jZU1vZGVsIDogcGEuZGlzdGFuY2VNb2RlbCxcbiAgICAgICAgICBtYXhEaXN0YW5jZTogdHlwZW9mIG8ubWF4RGlzdGFuY2UgIT09ICd1bmRlZmluZWQnID8gby5tYXhEaXN0YW5jZSA6IHBhLm1heERpc3RhbmNlLFxuICAgICAgICAgIHBhbm5pbmdNb2RlbDogdHlwZW9mIG8ucGFubmluZ01vZGVsICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmluZ01vZGVsIDogcGEucGFubmluZ01vZGVsLFxuICAgICAgICAgIHJlZkRpc3RhbmNlOiB0eXBlb2Ygby5yZWZEaXN0YW5jZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLnJlZkRpc3RhbmNlIDogcGEucmVmRGlzdGFuY2UsXG4gICAgICAgICAgcm9sbG9mZkZhY3RvcjogdHlwZW9mIG8ucm9sbG9mZkZhY3RvciAhPT0gJ3VuZGVmaW5lZCcgPyBvLnJvbGxvZmZGYWN0b3IgOiBwYS5yb2xsb2ZmRmFjdG9yXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gVXBkYXRlIHRoZSBwYW5uZXIgdmFsdWVzIG9yIGNyZWF0ZSBhIG5ldyBwYW5uZXIgaWYgbm9uZSBleGlzdHMuXG4gICAgICAgIHZhciBwYW5uZXIgPSBzb3VuZC5fcGFubmVyO1xuICAgICAgICBpZiAocGFubmVyKSB7XG4gICAgICAgICAgcGFubmVyLmNvbmVJbm5lckFuZ2xlID0gcGEuY29uZUlubmVyQW5nbGU7XG4gICAgICAgICAgcGFubmVyLmNvbmVPdXRlckFuZ2xlID0gcGEuY29uZU91dGVyQW5nbGU7XG4gICAgICAgICAgcGFubmVyLmNvbmVPdXRlckdhaW4gPSBwYS5jb25lT3V0ZXJHYWluO1xuICAgICAgICAgIHBhbm5lci5kaXN0YW5jZU1vZGVsID0gcGEuZGlzdGFuY2VNb2RlbDtcbiAgICAgICAgICBwYW5uZXIubWF4RGlzdGFuY2UgPSBwYS5tYXhEaXN0YW5jZTtcbiAgICAgICAgICBwYW5uZXIucGFubmluZ01vZGVsID0gcGEucGFubmluZ01vZGVsO1xuICAgICAgICAgIHBhbm5lci5yZWZEaXN0YW5jZSA9IHBhLnJlZkRpc3RhbmNlO1xuICAgICAgICAgIHBhbm5lci5yb2xsb2ZmRmFjdG9yID0gcGEucm9sbG9mZkZhY3RvcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBNYWtlIHN1cmUgd2UgaGF2ZSBhIHBvc2l0aW9uIHRvIHNldHVwIHRoZSBub2RlIHdpdGguXG4gICAgICAgICAgaWYgKCFzb3VuZC5fcG9zKSB7XG4gICAgICAgICAgICBzb3VuZC5fcG9zID0gc2VsZi5fcG9zIHx8IFswLCAwLCAtMC41XTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBDcmVhdGUgYSBuZXcgcGFubmVyIG5vZGUuXG4gICAgICAgICAgc2V0dXBQYW5uZXIoc291bmQsICdzcGF0aWFsJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICAvKiogU2luZ2xlIFNvdW5kIE1ldGhvZHMgKiovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgLyoqXG4gICAqIEFkZCBuZXcgcHJvcGVydGllcyB0byB0aGUgY29yZSBTb3VuZCBpbml0LlxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gX3N1cGVyIENvcmUgU291bmQgaW5pdCBtZXRob2QuXG4gICAqIEByZXR1cm4ge1NvdW5kfVxuICAgKi9cbiAgU291bmQucHJvdG90eXBlLmluaXQgPSAoZnVuY3Rpb24oX3N1cGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHBhcmVudCA9IHNlbGYuX3BhcmVudDtcblxuICAgICAgLy8gU2V0dXAgdXNlci1kZWZpbmVkIGRlZmF1bHQgcHJvcGVydGllcy5cbiAgICAgIHNlbGYuX29yaWVudGF0aW9uID0gcGFyZW50Ll9vcmllbnRhdGlvbjtcbiAgICAgIHNlbGYuX3N0ZXJlbyA9IHBhcmVudC5fc3RlcmVvO1xuICAgICAgc2VsZi5fcG9zID0gcGFyZW50Ll9wb3M7XG4gICAgICBzZWxmLl9wYW5uZXJBdHRyID0gcGFyZW50Ll9wYW5uZXJBdHRyO1xuXG4gICAgICAvLyBDb21wbGV0ZSBpbml0aWxpemF0aW9uIHdpdGggaG93bGVyLmpzIGNvcmUgU291bmQncyBpbml0IGZ1bmN0aW9uLlxuICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG5cbiAgICAgIC8vIElmIGEgc3RlcmVvIG9yIHBvc2l0aW9uIHdhcyBzcGVjaWZpZWQsIHNldCBpdCB1cC5cbiAgICAgIGlmIChzZWxmLl9zdGVyZW8pIHtcbiAgICAgICAgcGFyZW50LnN0ZXJlbyhzZWxmLl9zdGVyZW8pO1xuICAgICAgfSBlbHNlIGlmIChzZWxmLl9wb3MpIHtcbiAgICAgICAgcGFyZW50LnBvcyhzZWxmLl9wb3NbMF0sIHNlbGYuX3Bvc1sxXSwgc2VsZi5fcG9zWzJdLCBzZWxmLl9pZCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSkoU291bmQucHJvdG90eXBlLmluaXQpO1xuXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgU291bmQucmVzZXQgbWV0aG9kIHRvIGNsZWFuIHVwIHByb3BlcnRpZXMgZnJvbSB0aGUgc3BhdGlhbCBwbHVnaW4uXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBfc3VwZXIgU291bmQgcmVzZXQgbWV0aG9kLlxuICAgKiBAcmV0dXJuIHtTb3VuZH1cbiAgICovXG4gIFNvdW5kLnByb3RvdHlwZS5yZXNldCA9IChmdW5jdGlvbihfc3VwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xuXG4gICAgICAvLyBSZXNldCBhbGwgc3BhdGlhbCBwbHVnaW4gcHJvcGVydGllcyBvbiB0aGlzIHNvdW5kLlxuICAgICAgc2VsZi5fb3JpZW50YXRpb24gPSBwYXJlbnQuX29yaWVudGF0aW9uO1xuICAgICAgc2VsZi5fcG9zID0gcGFyZW50Ll9wb3M7XG4gICAgICBzZWxmLl9wYW5uZXJBdHRyID0gcGFyZW50Ll9wYW5uZXJBdHRyO1xuXG4gICAgICAvLyBDb21wbGV0ZSByZXNldHRpbmcgb2YgdGhlIHNvdW5kLlxuICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgIH07XG4gIH0pKFNvdW5kLnByb3RvdHlwZS5yZXNldCk7XG5cbiAgLyoqIEhlbHBlciBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgcGFubmVyIG5vZGUgYW5kIHNhdmUgaXQgb24gdGhlIHNvdW5kLlxuICAgKiBAcGFyYW0gIHtTb3VuZH0gc291bmQgU3BlY2lmaWMgc291bmQgdG8gc2V0dXAgcGFubmluZyBvbi5cbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVHlwZSBvZiBwYW5uZXIgdG8gY3JlYXRlOiAnc3RlcmVvJyBvciAnc3BhdGlhbCcuXG4gICAqL1xuICB2YXIgc2V0dXBQYW5uZXIgPSBmdW5jdGlvbihzb3VuZCwgdHlwZSkge1xuICAgIHR5cGUgPSB0eXBlIHx8ICdzcGF0aWFsJztcblxuICAgIC8vIENyZWF0ZSB0aGUgbmV3IHBhbm5lciBub2RlLlxuICAgIGlmICh0eXBlID09PSAnc3BhdGlhbCcpIHtcbiAgICAgIHNvdW5kLl9wYW5uZXIgPSBIb3dsZXIuY3R4LmNyZWF0ZVBhbm5lcigpO1xuICAgICAgc291bmQuX3Bhbm5lci5jb25lSW5uZXJBbmdsZSA9IHNvdW5kLl9wYW5uZXJBdHRyLmNvbmVJbm5lckFuZ2xlO1xuICAgICAgc291bmQuX3Bhbm5lci5jb25lT3V0ZXJBbmdsZSA9IHNvdW5kLl9wYW5uZXJBdHRyLmNvbmVPdXRlckFuZ2xlO1xuICAgICAgc291bmQuX3Bhbm5lci5jb25lT3V0ZXJHYWluID0gc291bmQuX3Bhbm5lckF0dHIuY29uZU91dGVyR2FpbjtcbiAgICAgIHNvdW5kLl9wYW5uZXIuZGlzdGFuY2VNb2RlbCA9IHNvdW5kLl9wYW5uZXJBdHRyLmRpc3RhbmNlTW9kZWw7XG4gICAgICBzb3VuZC5fcGFubmVyLm1heERpc3RhbmNlID0gc291bmQuX3Bhbm5lckF0dHIubWF4RGlzdGFuY2U7XG4gICAgICBzb3VuZC5fcGFubmVyLnBhbm5pbmdNb2RlbCA9IHNvdW5kLl9wYW5uZXJBdHRyLnBhbm5pbmdNb2RlbDtcbiAgICAgIHNvdW5kLl9wYW5uZXIucmVmRGlzdGFuY2UgPSBzb3VuZC5fcGFubmVyQXR0ci5yZWZEaXN0YW5jZTtcbiAgICAgIHNvdW5kLl9wYW5uZXIucm9sbG9mZkZhY3RvciA9IHNvdW5kLl9wYW5uZXJBdHRyLnJvbGxvZmZGYWN0b3I7XG4gICAgICBzb3VuZC5fcGFubmVyLnNldFBvc2l0aW9uKHNvdW5kLl9wb3NbMF0sIHNvdW5kLl9wb3NbMV0sIHNvdW5kLl9wb3NbMl0pO1xuICAgICAgc291bmQuX3Bhbm5lci5zZXRPcmllbnRhdGlvbihzb3VuZC5fb3JpZW50YXRpb25bMF0sIHNvdW5kLl9vcmllbnRhdGlvblsxXSwgc291bmQuX29yaWVudGF0aW9uWzJdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc291bmQuX3Bhbm5lciA9IEhvd2xlci5jdHguY3JlYXRlU3RlcmVvUGFubmVyKCk7XG4gICAgICBzb3VuZC5fcGFubmVyLnBhbi52YWx1ZSA9IHNvdW5kLl9zdGVyZW87XG4gICAgfVxuXG4gICAgc291bmQuX3Bhbm5lci5jb25uZWN0KHNvdW5kLl9ub2RlKTtcblxuICAgIC8vIFVwZGF0ZSB0aGUgY29ubmVjdGlvbnMuXG4gICAgaWYgKCFzb3VuZC5fcGF1c2VkKSB7XG4gICAgICBzb3VuZC5fcGFyZW50LnBhdXNlKHNvdW5kLl9pZCwgdHJ1ZSkucGxheShzb3VuZC5faWQpO1xuICAgIH1cbiAgfTtcbn0pKCk7XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgcmVwbGFjZSA9IFN0cmluZy5wcm90b3R5cGUucmVwbGFjZTtcbnZhciBwZXJjZW50VHdlbnRpZXMgPSAvJTIwL2c7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICdkZWZhdWx0JzogJ1JGQzM5ODYnLFxuICAgIGZvcm1hdHRlcnM6IHtcbiAgICAgICAgUkZDMTczODogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVwbGFjZS5jYWxsKHZhbHVlLCBwZXJjZW50VHdlbnRpZXMsICcrJyk7XG4gICAgICAgIH0sXG4gICAgICAgIFJGQzM5ODY6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBSRkMxNzM4OiAnUkZDMTczOCcsXG4gICAgUkZDMzk4NjogJ1JGQzM5ODYnXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgc3RyaW5naWZ5ID0gcmVxdWlyZSgnLi9zdHJpbmdpZnknKTtcbnZhciBwYXJzZSA9IHJlcXVpcmUoJy4vcGFyc2UnKTtcbnZhciBmb3JtYXRzID0gcmVxdWlyZSgnLi9mb3JtYXRzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGZvcm1hdHM6IGZvcm1hdHMsXG4gICAgcGFyc2U6IHBhcnNlLFxuICAgIHN0cmluZ2lmeTogc3RyaW5naWZ5XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5cbnZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG52YXIgZGVmYXVsdHMgPSB7XG4gICAgYWxsb3dEb3RzOiBmYWxzZSxcbiAgICBhbGxvd1Byb3RvdHlwZXM6IGZhbHNlLFxuICAgIGFycmF5TGltaXQ6IDIwLFxuICAgIGRlY29kZXI6IHV0aWxzLmRlY29kZSxcbiAgICBkZWxpbWl0ZXI6ICcmJyxcbiAgICBkZXB0aDogNSxcbiAgICBwYXJhbWV0ZXJMaW1pdDogMTAwMCxcbiAgICBwbGFpbk9iamVjdHM6IGZhbHNlLFxuICAgIHN0cmljdE51bGxIYW5kbGluZzogZmFsc2Vcbn07XG5cbnZhciBwYXJzZVZhbHVlcyA9IGZ1bmN0aW9uIHBhcnNlUXVlcnlTdHJpbmdWYWx1ZXMoc3RyLCBvcHRpb25zKSB7XG4gICAgdmFyIG9iaiA9IHt9O1xuICAgIHZhciBwYXJ0cyA9IHN0ci5zcGxpdChvcHRpb25zLmRlbGltaXRlciwgb3B0aW9ucy5wYXJhbWV0ZXJMaW1pdCA9PT0gSW5maW5pdHkgPyB1bmRlZmluZWQgOiBvcHRpb25zLnBhcmFtZXRlckxpbWl0KTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIHBhcnQgPSBwYXJ0c1tpXTtcbiAgICAgICAgdmFyIHBvcyA9IHBhcnQuaW5kZXhPZignXT0nKSA9PT0gLTEgPyBwYXJ0LmluZGV4T2YoJz0nKSA6IHBhcnQuaW5kZXhPZignXT0nKSArIDE7XG5cbiAgICAgICAgdmFyIGtleSwgdmFsO1xuICAgICAgICBpZiAocG9zID09PSAtMSkge1xuICAgICAgICAgICAga2V5ID0gb3B0aW9ucy5kZWNvZGVyKHBhcnQpO1xuICAgICAgICAgICAgdmFsID0gb3B0aW9ucy5zdHJpY3ROdWxsSGFuZGxpbmcgPyBudWxsIDogJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBrZXkgPSBvcHRpb25zLmRlY29kZXIocGFydC5zbGljZSgwLCBwb3MpKTtcbiAgICAgICAgICAgIHZhbCA9IG9wdGlvbnMuZGVjb2RlcihwYXJ0LnNsaWNlKHBvcyArIDEpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzLmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgICAgICBvYmpba2V5XSA9IFtdLmNvbmNhdChvYmpba2V5XSkuY29uY2F0KHZhbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvYmpba2V5XSA9IHZhbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG59O1xuXG52YXIgcGFyc2VPYmplY3QgPSBmdW5jdGlvbiBwYXJzZU9iamVjdFJlY3Vyc2l2ZShjaGFpbiwgdmFsLCBvcHRpb25zKSB7XG4gICAgaWYgKCFjaGFpbi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG5cbiAgICB2YXIgcm9vdCA9IGNoYWluLnNoaWZ0KCk7XG5cbiAgICB2YXIgb2JqO1xuICAgIGlmIChyb290ID09PSAnW10nKSB7XG4gICAgICAgIG9iaiA9IFtdO1xuICAgICAgICBvYmogPSBvYmouY29uY2F0KHBhcnNlT2JqZWN0KGNoYWluLCB2YWwsIG9wdGlvbnMpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBvYmogPSBvcHRpb25zLnBsYWluT2JqZWN0cyA/IE9iamVjdC5jcmVhdGUobnVsbCkgOiB7fTtcbiAgICAgICAgdmFyIGNsZWFuUm9vdCA9IHJvb3QuY2hhckF0KDApID09PSAnWycgJiYgcm9vdC5jaGFyQXQocm9vdC5sZW5ndGggLSAxKSA9PT0gJ10nID8gcm9vdC5zbGljZSgxLCAtMSkgOiByb290O1xuICAgICAgICB2YXIgaW5kZXggPSBwYXJzZUludChjbGVhblJvb3QsIDEwKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgIWlzTmFOKGluZGV4KSAmJlxuICAgICAgICAgICAgcm9vdCAhPT0gY2xlYW5Sb290ICYmXG4gICAgICAgICAgICBTdHJpbmcoaW5kZXgpID09PSBjbGVhblJvb3QgJiZcbiAgICAgICAgICAgIGluZGV4ID49IDAgJiZcbiAgICAgICAgICAgIChvcHRpb25zLnBhcnNlQXJyYXlzICYmIGluZGV4IDw9IG9wdGlvbnMuYXJyYXlMaW1pdClcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBvYmogPSBbXTtcbiAgICAgICAgICAgIG9ialtpbmRleF0gPSBwYXJzZU9iamVjdChjaGFpbiwgdmFsLCBvcHRpb25zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9ialtjbGVhblJvb3RdID0gcGFyc2VPYmplY3QoY2hhaW4sIHZhbCwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb2JqO1xufTtcblxudmFyIHBhcnNlS2V5cyA9IGZ1bmN0aW9uIHBhcnNlUXVlcnlTdHJpbmdLZXlzKGdpdmVuS2V5LCB2YWwsIG9wdGlvbnMpIHtcbiAgICBpZiAoIWdpdmVuS2V5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBUcmFuc2Zvcm0gZG90IG5vdGF0aW9uIHRvIGJyYWNrZXQgbm90YXRpb25cbiAgICB2YXIga2V5ID0gb3B0aW9ucy5hbGxvd0RvdHMgPyBnaXZlbktleS5yZXBsYWNlKC9cXC4oW14uW10rKS9nLCAnWyQxXScpIDogZ2l2ZW5LZXk7XG5cbiAgICAvLyBUaGUgcmVnZXggY2h1bmtzXG5cbiAgICB2YXIgcGFyZW50ID0gL14oW15bXSopLztcbiAgICB2YXIgY2hpbGQgPSAvKFxcW1teW1xcXV0qXSkvZztcblxuICAgIC8vIEdldCB0aGUgcGFyZW50XG5cbiAgICB2YXIgc2VnbWVudCA9IHBhcmVudC5leGVjKGtleSk7XG5cbiAgICAvLyBTdGFzaCB0aGUgcGFyZW50IGlmIGl0IGV4aXN0c1xuXG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBpZiAoc2VnbWVudFsxXSkge1xuICAgICAgICAvLyBJZiB3ZSBhcmVuJ3QgdXNpbmcgcGxhaW4gb2JqZWN0cywgb3B0aW9uYWxseSBwcmVmaXgga2V5c1xuICAgICAgICAvLyB0aGF0IHdvdWxkIG92ZXJ3cml0ZSBvYmplY3QgcHJvdG90eXBlIHByb3BlcnRpZXNcbiAgICAgICAgaWYgKCFvcHRpb25zLnBsYWluT2JqZWN0cyAmJiBoYXMuY2FsbChPYmplY3QucHJvdG90eXBlLCBzZWdtZW50WzFdKSkge1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmFsbG93UHJvdG90eXBlcykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGtleXMucHVzaChzZWdtZW50WzFdKTtcbiAgICB9XG5cbiAgICAvLyBMb29wIHRocm91Z2ggY2hpbGRyZW4gYXBwZW5kaW5nIHRvIHRoZSBhcnJheSB1bnRpbCB3ZSBoaXQgZGVwdGhcblxuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAoKHNlZ21lbnQgPSBjaGlsZC5leGVjKGtleSkpICE9PSBudWxsICYmIGkgPCBvcHRpb25zLmRlcHRoKSB7XG4gICAgICAgIGkgKz0gMTtcbiAgICAgICAgaWYgKCFvcHRpb25zLnBsYWluT2JqZWN0cyAmJiBoYXMuY2FsbChPYmplY3QucHJvdG90eXBlLCBzZWdtZW50WzFdLnNsaWNlKDEsIC0xKSkpIHtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5hbGxvd1Byb3RvdHlwZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAga2V5cy5wdXNoKHNlZ21lbnRbMV0pO1xuICAgIH1cblxuICAgIC8vIElmIHRoZXJlJ3MgYSByZW1haW5kZXIsIGp1c3QgYWRkIHdoYXRldmVyIGlzIGxlZnRcblxuICAgIGlmIChzZWdtZW50KSB7XG4gICAgICAgIGtleXMucHVzaCgnWycgKyBrZXkuc2xpY2Uoc2VnbWVudC5pbmRleCkgKyAnXScpO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZU9iamVjdChrZXlzLCB2YWwsIG9wdGlvbnMpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc3RyLCBvcHRzKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBvcHRzIHx8IHt9O1xuXG4gICAgaWYgKG9wdGlvbnMuZGVjb2RlciAhPT0gbnVsbCAmJiBvcHRpb25zLmRlY29kZXIgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygb3B0aW9ucy5kZWNvZGVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0RlY29kZXIgaGFzIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgb3B0aW9ucy5kZWxpbWl0ZXIgPSB0eXBlb2Ygb3B0aW9ucy5kZWxpbWl0ZXIgPT09ICdzdHJpbmcnIHx8IHV0aWxzLmlzUmVnRXhwKG9wdGlvbnMuZGVsaW1pdGVyKSA/IG9wdGlvbnMuZGVsaW1pdGVyIDogZGVmYXVsdHMuZGVsaW1pdGVyO1xuICAgIG9wdGlvbnMuZGVwdGggPSB0eXBlb2Ygb3B0aW9ucy5kZXB0aCA9PT0gJ251bWJlcicgPyBvcHRpb25zLmRlcHRoIDogZGVmYXVsdHMuZGVwdGg7XG4gICAgb3B0aW9ucy5hcnJheUxpbWl0ID0gdHlwZW9mIG9wdGlvbnMuYXJyYXlMaW1pdCA9PT0gJ251bWJlcicgPyBvcHRpb25zLmFycmF5TGltaXQgOiBkZWZhdWx0cy5hcnJheUxpbWl0O1xuICAgIG9wdGlvbnMucGFyc2VBcnJheXMgPSBvcHRpb25zLnBhcnNlQXJyYXlzICE9PSBmYWxzZTtcbiAgICBvcHRpb25zLmRlY29kZXIgPSB0eXBlb2Ygb3B0aW9ucy5kZWNvZGVyID09PSAnZnVuY3Rpb24nID8gb3B0aW9ucy5kZWNvZGVyIDogZGVmYXVsdHMuZGVjb2RlcjtcbiAgICBvcHRpb25zLmFsbG93RG90cyA9IHR5cGVvZiBvcHRpb25zLmFsbG93RG90cyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucy5hbGxvd0RvdHMgOiBkZWZhdWx0cy5hbGxvd0RvdHM7XG4gICAgb3B0aW9ucy5wbGFpbk9iamVjdHMgPSB0eXBlb2Ygb3B0aW9ucy5wbGFpbk9iamVjdHMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMucGxhaW5PYmplY3RzIDogZGVmYXVsdHMucGxhaW5PYmplY3RzO1xuICAgIG9wdGlvbnMuYWxsb3dQcm90b3R5cGVzID0gdHlwZW9mIG9wdGlvbnMuYWxsb3dQcm90b3R5cGVzID09PSAnYm9vbGVhbicgPyBvcHRpb25zLmFsbG93UHJvdG90eXBlcyA6IGRlZmF1bHRzLmFsbG93UHJvdG90eXBlcztcbiAgICBvcHRpb25zLnBhcmFtZXRlckxpbWl0ID0gdHlwZW9mIG9wdGlvbnMucGFyYW1ldGVyTGltaXQgPT09ICdudW1iZXInID8gb3B0aW9ucy5wYXJhbWV0ZXJMaW1pdCA6IGRlZmF1bHRzLnBhcmFtZXRlckxpbWl0O1xuICAgIG9wdGlvbnMuc3RyaWN0TnVsbEhhbmRsaW5nID0gdHlwZW9mIG9wdGlvbnMuc3RyaWN0TnVsbEhhbmRsaW5nID09PSAnYm9vbGVhbicgPyBvcHRpb25zLnN0cmljdE51bGxIYW5kbGluZyA6IGRlZmF1bHRzLnN0cmljdE51bGxIYW5kbGluZztcblxuICAgIGlmIChzdHIgPT09ICcnIHx8IHN0ciA9PT0gbnVsbCB8fCB0eXBlb2Ygc3RyID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gb3B0aW9ucy5wbGFpbk9iamVjdHMgPyBPYmplY3QuY3JlYXRlKG51bGwpIDoge307XG4gICAgfVxuXG4gICAgdmFyIHRlbXBPYmogPSB0eXBlb2Ygc3RyID09PSAnc3RyaW5nJyA/IHBhcnNlVmFsdWVzKHN0ciwgb3B0aW9ucykgOiBzdHI7XG4gICAgdmFyIG9iaiA9IG9wdGlvbnMucGxhaW5PYmplY3RzID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IHt9O1xuXG4gICAgLy8gSXRlcmF0ZSBvdmVyIHRoZSBrZXlzIGFuZCBzZXR1cCB0aGUgbmV3IG9iamVjdFxuXG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh0ZW1wT2JqKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICAgIHZhciBuZXdPYmogPSBwYXJzZUtleXMoa2V5LCB0ZW1wT2JqW2tleV0sIG9wdGlvbnMpO1xuICAgICAgICBvYmogPSB1dGlscy5tZXJnZShvYmosIG5ld09iaiwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHV0aWxzLmNvbXBhY3Qob2JqKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcbnZhciBmb3JtYXRzID0gcmVxdWlyZSgnLi9mb3JtYXRzJyk7XG5cbnZhciBhcnJheVByZWZpeEdlbmVyYXRvcnMgPSB7XG4gICAgYnJhY2tldHM6IGZ1bmN0aW9uIGJyYWNrZXRzKHByZWZpeCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGZ1bmMtbmFtZS1tYXRjaGluZ1xuICAgICAgICByZXR1cm4gcHJlZml4ICsgJ1tdJztcbiAgICB9LFxuICAgIGluZGljZXM6IGZ1bmN0aW9uIGluZGljZXMocHJlZml4LCBrZXkpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBmdW5jLW5hbWUtbWF0Y2hpbmdcbiAgICAgICAgcmV0dXJuIHByZWZpeCArICdbJyArIGtleSArICddJztcbiAgICB9LFxuICAgIHJlcGVhdDogZnVuY3Rpb24gcmVwZWF0KHByZWZpeCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGZ1bmMtbmFtZS1tYXRjaGluZ1xuICAgICAgICByZXR1cm4gcHJlZml4O1xuICAgIH1cbn07XG5cbnZhciB0b0lTTyA9IERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nO1xuXG52YXIgZGVmYXVsdHMgPSB7XG4gICAgZGVsaW1pdGVyOiAnJicsXG4gICAgZW5jb2RlOiB0cnVlLFxuICAgIGVuY29kZXI6IHV0aWxzLmVuY29kZSxcbiAgICBzZXJpYWxpemVEYXRlOiBmdW5jdGlvbiBzZXJpYWxpemVEYXRlKGRhdGUpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBmdW5jLW5hbWUtbWF0Y2hpbmdcbiAgICAgICAgcmV0dXJuIHRvSVNPLmNhbGwoZGF0ZSk7XG4gICAgfSxcbiAgICBza2lwTnVsbHM6IGZhbHNlLFxuICAgIHN0cmljdE51bGxIYW5kbGluZzogZmFsc2Vcbn07XG5cbnZhciBzdHJpbmdpZnkgPSBmdW5jdGlvbiBzdHJpbmdpZnkoIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZnVuYy1uYW1lLW1hdGNoaW5nXG4gICAgb2JqZWN0LFxuICAgIHByZWZpeCxcbiAgICBnZW5lcmF0ZUFycmF5UHJlZml4LFxuICAgIHN0cmljdE51bGxIYW5kbGluZyxcbiAgICBza2lwTnVsbHMsXG4gICAgZW5jb2RlcixcbiAgICBmaWx0ZXIsXG4gICAgc29ydCxcbiAgICBhbGxvd0RvdHMsXG4gICAgc2VyaWFsaXplRGF0ZSxcbiAgICBmb3JtYXR0ZXJcbikge1xuICAgIHZhciBvYmogPSBvYmplY3Q7XG4gICAgaWYgKHR5cGVvZiBmaWx0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb2JqID0gZmlsdGVyKHByZWZpeCwgb2JqKTtcbiAgICB9IGVsc2UgaWYgKG9iaiBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgb2JqID0gc2VyaWFsaXplRGF0ZShvYmopO1xuICAgIH0gZWxzZSBpZiAob2JqID09PSBudWxsKSB7XG4gICAgICAgIGlmIChzdHJpY3ROdWxsSGFuZGxpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBlbmNvZGVyID8gZW5jb2RlcihwcmVmaXgpIDogcHJlZml4O1xuICAgICAgICB9XG5cbiAgICAgICAgb2JqID0gJyc7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBvYmogPT09ICdudW1iZXInIHx8IHR5cGVvZiBvYmogPT09ICdib29sZWFuJyB8fCB1dGlscy5pc0J1ZmZlcihvYmopKSB7XG4gICAgICAgIGlmIChlbmNvZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gW2Zvcm1hdHRlcihlbmNvZGVyKHByZWZpeCkpICsgJz0nICsgZm9ybWF0dGVyKGVuY29kZXIob2JqKSldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbZm9ybWF0dGVyKHByZWZpeCkgKyAnPScgKyBmb3JtYXR0ZXIoU3RyaW5nKG9iaikpXTtcbiAgICB9XG5cbiAgICB2YXIgdmFsdWVzID0gW107XG5cbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9XG5cbiAgICB2YXIgb2JqS2V5cztcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmaWx0ZXIpKSB7XG4gICAgICAgIG9iaktleXMgPSBmaWx0ZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgICAgICBvYmpLZXlzID0gc29ydCA/IGtleXMuc29ydChzb3J0KSA6IGtleXM7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmpLZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBrZXkgPSBvYmpLZXlzW2ldO1xuXG4gICAgICAgIGlmIChza2lwTnVsbHMgJiYgb2JqW2tleV0gPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICAgICAgdmFsdWVzID0gdmFsdWVzLmNvbmNhdChzdHJpbmdpZnkoXG4gICAgICAgICAgICAgICAgb2JqW2tleV0sXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVBcnJheVByZWZpeChwcmVmaXgsIGtleSksXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVBcnJheVByZWZpeCxcbiAgICAgICAgICAgICAgICBzdHJpY3ROdWxsSGFuZGxpbmcsXG4gICAgICAgICAgICAgICAgc2tpcE51bGxzLFxuICAgICAgICAgICAgICAgIGVuY29kZXIsXG4gICAgICAgICAgICAgICAgZmlsdGVyLFxuICAgICAgICAgICAgICAgIHNvcnQsXG4gICAgICAgICAgICAgICAgYWxsb3dEb3RzLFxuICAgICAgICAgICAgICAgIHNlcmlhbGl6ZURhdGUsXG4gICAgICAgICAgICAgICAgZm9ybWF0dGVyXG4gICAgICAgICAgICApKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlcyA9IHZhbHVlcy5jb25jYXQoc3RyaW5naWZ5KFxuICAgICAgICAgICAgICAgIG9ialtrZXldLFxuICAgICAgICAgICAgICAgIHByZWZpeCArIChhbGxvd0RvdHMgPyAnLicgKyBrZXkgOiAnWycgKyBrZXkgKyAnXScpLFxuICAgICAgICAgICAgICAgIGdlbmVyYXRlQXJyYXlQcmVmaXgsXG4gICAgICAgICAgICAgICAgc3RyaWN0TnVsbEhhbmRsaW5nLFxuICAgICAgICAgICAgICAgIHNraXBOdWxscyxcbiAgICAgICAgICAgICAgICBlbmNvZGVyLFxuICAgICAgICAgICAgICAgIGZpbHRlcixcbiAgICAgICAgICAgICAgICBzb3J0LFxuICAgICAgICAgICAgICAgIGFsbG93RG90cyxcbiAgICAgICAgICAgICAgICBzZXJpYWxpemVEYXRlLFxuICAgICAgICAgICAgICAgIGZvcm1hdHRlclxuICAgICAgICAgICAgKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWVzO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqZWN0LCBvcHRzKSB7XG4gICAgdmFyIG9iaiA9IG9iamVjdDtcbiAgICB2YXIgb3B0aW9ucyA9IG9wdHMgfHwge307XG5cbiAgICBpZiAob3B0aW9ucy5lbmNvZGVyICE9PSBudWxsICYmIG9wdGlvbnMuZW5jb2RlciAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvcHRpb25zLmVuY29kZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRW5jb2RlciBoYXMgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICB2YXIgZGVsaW1pdGVyID0gdHlwZW9mIG9wdGlvbnMuZGVsaW1pdGVyID09PSAndW5kZWZpbmVkJyA/IGRlZmF1bHRzLmRlbGltaXRlciA6IG9wdGlvbnMuZGVsaW1pdGVyO1xuICAgIHZhciBzdHJpY3ROdWxsSGFuZGxpbmcgPSB0eXBlb2Ygb3B0aW9ucy5zdHJpY3ROdWxsSGFuZGxpbmcgPT09ICdib29sZWFuJyA/IG9wdGlvbnMuc3RyaWN0TnVsbEhhbmRsaW5nIDogZGVmYXVsdHMuc3RyaWN0TnVsbEhhbmRsaW5nO1xuICAgIHZhciBza2lwTnVsbHMgPSB0eXBlb2Ygb3B0aW9ucy5za2lwTnVsbHMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMuc2tpcE51bGxzIDogZGVmYXVsdHMuc2tpcE51bGxzO1xuICAgIHZhciBlbmNvZGUgPSB0eXBlb2Ygb3B0aW9ucy5lbmNvZGUgPT09ICdib29sZWFuJyA/IG9wdGlvbnMuZW5jb2RlIDogZGVmYXVsdHMuZW5jb2RlO1xuICAgIHZhciBlbmNvZGVyID0gZW5jb2RlID8gKHR5cGVvZiBvcHRpb25zLmVuY29kZXIgPT09ICdmdW5jdGlvbicgPyBvcHRpb25zLmVuY29kZXIgOiBkZWZhdWx0cy5lbmNvZGVyKSA6IG51bGw7XG4gICAgdmFyIHNvcnQgPSB0eXBlb2Ygb3B0aW9ucy5zb3J0ID09PSAnZnVuY3Rpb24nID8gb3B0aW9ucy5zb3J0IDogbnVsbDtcbiAgICB2YXIgYWxsb3dEb3RzID0gdHlwZW9mIG9wdGlvbnMuYWxsb3dEb3RzID09PSAndW5kZWZpbmVkJyA/IGZhbHNlIDogb3B0aW9ucy5hbGxvd0RvdHM7XG4gICAgdmFyIHNlcmlhbGl6ZURhdGUgPSB0eXBlb2Ygb3B0aW9ucy5zZXJpYWxpemVEYXRlID09PSAnZnVuY3Rpb24nID8gb3B0aW9ucy5zZXJpYWxpemVEYXRlIDogZGVmYXVsdHMuc2VyaWFsaXplRGF0ZTtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuZm9ybWF0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBvcHRpb25zLmZvcm1hdCA9IGZvcm1hdHMuZGVmYXVsdDtcbiAgICB9IGVsc2UgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZm9ybWF0cy5mb3JtYXR0ZXJzLCBvcHRpb25zLmZvcm1hdCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBmb3JtYXQgb3B0aW9uIHByb3ZpZGVkLicpO1xuICAgIH1cbiAgICB2YXIgZm9ybWF0dGVyID0gZm9ybWF0cy5mb3JtYXR0ZXJzW29wdGlvbnMuZm9ybWF0XTtcbiAgICB2YXIgb2JqS2V5cztcbiAgICB2YXIgZmlsdGVyO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmZpbHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBmaWx0ZXIgPSBvcHRpb25zLmZpbHRlcjtcbiAgICAgICAgb2JqID0gZmlsdGVyKCcnLCBvYmopO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zLmZpbHRlcikpIHtcbiAgICAgICAgZmlsdGVyID0gb3B0aW9ucy5maWx0ZXI7XG4gICAgICAgIG9iaktleXMgPSBmaWx0ZXI7XG4gICAgfVxuXG4gICAgdmFyIGtleXMgPSBbXTtcblxuICAgIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fCBvYmogPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIHZhciBhcnJheUZvcm1hdDtcbiAgICBpZiAob3B0aW9ucy5hcnJheUZvcm1hdCBpbiBhcnJheVByZWZpeEdlbmVyYXRvcnMpIHtcbiAgICAgICAgYXJyYXlGb3JtYXQgPSBvcHRpb25zLmFycmF5Rm9ybWF0O1xuICAgIH0gZWxzZSBpZiAoJ2luZGljZXMnIGluIG9wdGlvbnMpIHtcbiAgICAgICAgYXJyYXlGb3JtYXQgPSBvcHRpb25zLmluZGljZXMgPyAnaW5kaWNlcycgOiAncmVwZWF0JztcbiAgICB9IGVsc2Uge1xuICAgICAgICBhcnJheUZvcm1hdCA9ICdpbmRpY2VzJztcbiAgICB9XG5cbiAgICB2YXIgZ2VuZXJhdGVBcnJheVByZWZpeCA9IGFycmF5UHJlZml4R2VuZXJhdG9yc1thcnJheUZvcm1hdF07XG5cbiAgICBpZiAoIW9iaktleXMpIHtcbiAgICAgICAgb2JqS2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgfVxuXG4gICAgaWYgKHNvcnQpIHtcbiAgICAgICAgb2JqS2V5cy5zb3J0KHNvcnQpO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqS2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIga2V5ID0gb2JqS2V5c1tpXTtcblxuICAgICAgICBpZiAoc2tpcE51bGxzICYmIG9ialtrZXldID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGtleXMgPSBrZXlzLmNvbmNhdChzdHJpbmdpZnkoXG4gICAgICAgICAgICBvYmpba2V5XSxcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIGdlbmVyYXRlQXJyYXlQcmVmaXgsXG4gICAgICAgICAgICBzdHJpY3ROdWxsSGFuZGxpbmcsXG4gICAgICAgICAgICBza2lwTnVsbHMsXG4gICAgICAgICAgICBlbmNvZGVyLFxuICAgICAgICAgICAgZmlsdGVyLFxuICAgICAgICAgICAgc29ydCxcbiAgICAgICAgICAgIGFsbG93RG90cyxcbiAgICAgICAgICAgIHNlcmlhbGl6ZURhdGUsXG4gICAgICAgICAgICBmb3JtYXR0ZXJcbiAgICAgICAgKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGtleXMuam9pbihkZWxpbWl0ZXIpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbnZhciBoZXhUYWJsZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFycmF5ID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICAgICAgICBhcnJheS5wdXNoKCclJyArICgoaSA8IDE2ID8gJzAnIDogJycpICsgaS50b1N0cmluZygxNikpLnRvVXBwZXJDYXNlKCkpO1xuICAgIH1cblxuICAgIHJldHVybiBhcnJheTtcbn0oKSk7XG5cbmV4cG9ydHMuYXJyYXlUb09iamVjdCA9IGZ1bmN0aW9uIChzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICB2YXIgb2JqID0gb3B0aW9ucyAmJiBvcHRpb25zLnBsYWluT2JqZWN0cyA/IE9iamVjdC5jcmVhdGUobnVsbCkgOiB7fTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAodHlwZW9mIHNvdXJjZVtpXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIG9ialtpXSA9IHNvdXJjZVtpXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG59O1xuXG5leHBvcnRzLm1lcmdlID0gZnVuY3Rpb24gKHRhcmdldCwgc291cmNlLCBvcHRpb25zKSB7XG4gICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHNvdXJjZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGFyZ2V0KSkge1xuICAgICAgICAgICAgdGFyZ2V0LnB1c2goc291cmNlKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgdGFyZ2V0W3NvdXJjZV0gPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFt0YXJnZXQsIHNvdXJjZV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdGFyZ2V0ICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gW3RhcmdldF0uY29uY2F0KHNvdXJjZSk7XG4gICAgfVxuXG4gICAgdmFyIG1lcmdlVGFyZ2V0ID0gdGFyZ2V0O1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRhcmdldCkgJiYgIUFycmF5LmlzQXJyYXkoc291cmNlKSkge1xuICAgICAgICBtZXJnZVRhcmdldCA9IGV4cG9ydHMuYXJyYXlUb09iamVjdCh0YXJnZXQsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGlmIChBcnJheS5pc0FycmF5KHRhcmdldCkgJiYgQXJyYXkuaXNBcnJheShzb3VyY2UpKSB7XG4gICAgICAgIHNvdXJjZS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgICAgICAgICBpZiAoaGFzLmNhbGwodGFyZ2V0LCBpKSkge1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXRbaV0gJiYgdHlwZW9mIHRhcmdldFtpXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W2ldID0gZXhwb3J0cy5tZXJnZSh0YXJnZXRbaV0sIGl0ZW0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W2ldID0gaXRlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHNvdXJjZSkucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBzb3VyY2Vba2V5XTtcblxuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFjYywga2V5KSkge1xuICAgICAgICAgICAgYWNjW2tleV0gPSBleHBvcnRzLm1lcmdlKGFjY1trZXldLCB2YWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhY2Nba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgbWVyZ2VUYXJnZXQpO1xufTtcblxuZXhwb3J0cy5kZWNvZGUgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzdHIucmVwbGFjZSgvXFwrL2csICcgJykpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG59O1xuXG5leHBvcnRzLmVuY29kZSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAvLyBUaGlzIGNvZGUgd2FzIG9yaWdpbmFsbHkgd3JpdHRlbiBieSBCcmlhbiBXaGl0ZSAobXNjZGV4KSBmb3IgdGhlIGlvLmpzIGNvcmUgcXVlcnlzdHJpbmcgbGlicmFyeS5cbiAgICAvLyBJdCBoYXMgYmVlbiBhZGFwdGVkIGhlcmUgZm9yIHN0cmljdGVyIGFkaGVyZW5jZSB0byBSRkMgMzk4NlxuICAgIGlmIChzdHIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuXG4gICAgdmFyIHN0cmluZyA9IHR5cGVvZiBzdHIgPT09ICdzdHJpbmcnID8gc3RyIDogU3RyaW5nKHN0cik7XG5cbiAgICB2YXIgb3V0ID0gJyc7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJpbmcubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGMgPSBzdHJpbmcuY2hhckNvZGVBdChpKTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBjID09PSAweDJEIHx8IC8vIC1cbiAgICAgICAgICAgIGMgPT09IDB4MkUgfHwgLy8gLlxuICAgICAgICAgICAgYyA9PT0gMHg1RiB8fCAvLyBfXG4gICAgICAgICAgICBjID09PSAweDdFIHx8IC8vIH5cbiAgICAgICAgICAgIChjID49IDB4MzAgJiYgYyA8PSAweDM5KSB8fCAvLyAwLTlcbiAgICAgICAgICAgIChjID49IDB4NDEgJiYgYyA8PSAweDVBKSB8fCAvLyBhLXpcbiAgICAgICAgICAgIChjID49IDB4NjEgJiYgYyA8PSAweDdBKSAvLyBBLVpcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBvdXQgKz0gc3RyaW5nLmNoYXJBdChpKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGMgPCAweDgwKSB7XG4gICAgICAgICAgICBvdXQgPSBvdXQgKyBoZXhUYWJsZVtjXTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGMgPCAweDgwMCkge1xuICAgICAgICAgICAgb3V0ID0gb3V0ICsgKGhleFRhYmxlWzB4QzAgfCAoYyA+PiA2KV0gKyBoZXhUYWJsZVsweDgwIHwgKGMgJiAweDNGKV0pO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYyA8IDB4RDgwMCB8fCBjID49IDB4RTAwMCkge1xuICAgICAgICAgICAgb3V0ID0gb3V0ICsgKGhleFRhYmxlWzB4RTAgfCAoYyA+PiAxMildICsgaGV4VGFibGVbMHg4MCB8ICgoYyA+PiA2KSAmIDB4M0YpXSArIGhleFRhYmxlWzB4ODAgfCAoYyAmIDB4M0YpXSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGkgKz0gMTtcbiAgICAgICAgYyA9IDB4MTAwMDAgKyAoKChjICYgMHgzRkYpIDw8IDEwKSB8IChzdHJpbmcuY2hhckNvZGVBdChpKSAmIDB4M0ZGKSk7XG4gICAgICAgIG91dCArPSBoZXhUYWJsZVsweEYwIHwgKGMgPj4gMTgpXSArIGhleFRhYmxlWzB4ODAgfCAoKGMgPj4gMTIpICYgMHgzRildICsgaGV4VGFibGVbMHg4MCB8ICgoYyA+PiA2KSAmIDB4M0YpXSArIGhleFRhYmxlWzB4ODAgfCAoYyAmIDB4M0YpXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBtYXgtbGVuXG4gICAgfVxuXG4gICAgcmV0dXJuIG91dDtcbn07XG5cbmV4cG9ydHMuY29tcGFjdCA9IGZ1bmN0aW9uIChvYmosIHJlZmVyZW5jZXMpIHtcbiAgICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgfHwgb2JqID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgdmFyIHJlZnMgPSByZWZlcmVuY2VzIHx8IFtdO1xuICAgIHZhciBsb29rdXAgPSByZWZzLmluZGV4T2Yob2JqKTtcbiAgICBpZiAobG9va3VwICE9PSAtMSkge1xuICAgICAgICByZXR1cm4gcmVmc1tsb29rdXBdO1xuICAgIH1cblxuICAgIHJlZnMucHVzaChvYmopO1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICB2YXIgY29tcGFjdGVkID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChvYmpbaV0gJiYgdHlwZW9mIG9ialtpXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBjb21wYWN0ZWQucHVzaChleHBvcnRzLmNvbXBhY3Qob2JqW2ldLCByZWZzKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmpbaV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgY29tcGFjdGVkLnB1c2gob2JqW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb21wYWN0ZWQ7XG4gICAgfVxuXG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIG9ialtrZXldID0gZXhwb3J0cy5jb21wYWN0KG9ialtrZXldLCByZWZzKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBvYmo7XG59O1xuXG5leHBvcnRzLmlzUmVnRXhwID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG59O1xuXG5leHBvcnRzLmlzQnVmZmVyID0gZnVuY3Rpb24gKG9iaikge1xuICAgIGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiAhIShvYmouY29uc3RydWN0b3IgJiYgb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyICYmIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlcihvYmopKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdG9EYXRlID0gcmVxdWlyZSgnLi9saWIvdG9EYXRlJyk7XG5cbnZhciBfdG9EYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvRGF0ZSk7XG5cbnZhciBfdG9GbG9hdCA9IHJlcXVpcmUoJy4vbGliL3RvRmxvYXQnKTtcblxudmFyIF90b0Zsb2F0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvRmxvYXQpO1xuXG52YXIgX3RvSW50ID0gcmVxdWlyZSgnLi9saWIvdG9JbnQnKTtcblxudmFyIF90b0ludDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90b0ludCk7XG5cbnZhciBfdG9Cb29sZWFuID0gcmVxdWlyZSgnLi9saWIvdG9Cb29sZWFuJyk7XG5cbnZhciBfdG9Cb29sZWFuMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvQm9vbGVhbik7XG5cbnZhciBfZXF1YWxzID0gcmVxdWlyZSgnLi9saWIvZXF1YWxzJyk7XG5cbnZhciBfZXF1YWxzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2VxdWFscyk7XG5cbnZhciBfY29udGFpbnMgPSByZXF1aXJlKCcuL2xpYi9jb250YWlucycpO1xuXG52YXIgX2NvbnRhaW5zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbnRhaW5zKTtcblxudmFyIF9tYXRjaGVzID0gcmVxdWlyZSgnLi9saWIvbWF0Y2hlcycpO1xuXG52YXIgX21hdGNoZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWF0Y2hlcyk7XG5cbnZhciBfaXNFbWFpbCA9IHJlcXVpcmUoJy4vbGliL2lzRW1haWwnKTtcblxudmFyIF9pc0VtYWlsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzRW1haWwpO1xuXG52YXIgX2lzVVJMID0gcmVxdWlyZSgnLi9saWIvaXNVUkwnKTtcblxudmFyIF9pc1VSTDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc1VSTCk7XG5cbnZhciBfaXNNQUNBZGRyZXNzID0gcmVxdWlyZSgnLi9saWIvaXNNQUNBZGRyZXNzJyk7XG5cbnZhciBfaXNNQUNBZGRyZXNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzTUFDQWRkcmVzcyk7XG5cbnZhciBfaXNJUCA9IHJlcXVpcmUoJy4vbGliL2lzSVAnKTtcblxudmFyIF9pc0lQMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzSVApO1xuXG52YXIgX2lzRlFETiA9IHJlcXVpcmUoJy4vbGliL2lzRlFETicpO1xuXG52YXIgX2lzRlFETjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc0ZRRE4pO1xuXG52YXIgX2lzQm9vbGVhbiA9IHJlcXVpcmUoJy4vbGliL2lzQm9vbGVhbicpO1xuXG52YXIgX2lzQm9vbGVhbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc0Jvb2xlYW4pO1xuXG52YXIgX2lzQWxwaGEgPSByZXF1aXJlKCcuL2xpYi9pc0FscGhhJyk7XG5cbnZhciBfaXNBbHBoYTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc0FscGhhKTtcblxudmFyIF9pc0FscGhhbnVtZXJpYyA9IHJlcXVpcmUoJy4vbGliL2lzQWxwaGFudW1lcmljJyk7XG5cbnZhciBfaXNBbHBoYW51bWVyaWMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNBbHBoYW51bWVyaWMpO1xuXG52YXIgX2lzTnVtZXJpYyA9IHJlcXVpcmUoJy4vbGliL2lzTnVtZXJpYycpO1xuXG52YXIgX2lzTnVtZXJpYzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc051bWVyaWMpO1xuXG52YXIgX2lzTG93ZXJjYXNlID0gcmVxdWlyZSgnLi9saWIvaXNMb3dlcmNhc2UnKTtcblxudmFyIF9pc0xvd2VyY2FzZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc0xvd2VyY2FzZSk7XG5cbnZhciBfaXNVcHBlcmNhc2UgPSByZXF1aXJlKCcuL2xpYi9pc1VwcGVyY2FzZScpO1xuXG52YXIgX2lzVXBwZXJjYXNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzVXBwZXJjYXNlKTtcblxudmFyIF9pc0FzY2lpID0gcmVxdWlyZSgnLi9saWIvaXNBc2NpaScpO1xuXG52YXIgX2lzQXNjaWkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNBc2NpaSk7XG5cbnZhciBfaXNGdWxsV2lkdGggPSByZXF1aXJlKCcuL2xpYi9pc0Z1bGxXaWR0aCcpO1xuXG52YXIgX2lzRnVsbFdpZHRoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzRnVsbFdpZHRoKTtcblxudmFyIF9pc0hhbGZXaWR0aCA9IHJlcXVpcmUoJy4vbGliL2lzSGFsZldpZHRoJyk7XG5cbnZhciBfaXNIYWxmV2lkdGgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNIYWxmV2lkdGgpO1xuXG52YXIgX2lzVmFyaWFibGVXaWR0aCA9IHJlcXVpcmUoJy4vbGliL2lzVmFyaWFibGVXaWR0aCcpO1xuXG52YXIgX2lzVmFyaWFibGVXaWR0aDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc1ZhcmlhYmxlV2lkdGgpO1xuXG52YXIgX2lzTXVsdGlieXRlID0gcmVxdWlyZSgnLi9saWIvaXNNdWx0aWJ5dGUnKTtcblxudmFyIF9pc011bHRpYnl0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc011bHRpYnl0ZSk7XG5cbnZhciBfaXNTdXJyb2dhdGVQYWlyID0gcmVxdWlyZSgnLi9saWIvaXNTdXJyb2dhdGVQYWlyJyk7XG5cbnZhciBfaXNTdXJyb2dhdGVQYWlyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzU3Vycm9nYXRlUGFpcik7XG5cbnZhciBfaXNJbnQgPSByZXF1aXJlKCcuL2xpYi9pc0ludCcpO1xuXG52YXIgX2lzSW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzSW50KTtcblxudmFyIF9pc0Zsb2F0ID0gcmVxdWlyZSgnLi9saWIvaXNGbG9hdCcpO1xuXG52YXIgX2lzRmxvYXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNGbG9hdCk7XG5cbnZhciBfaXNEZWNpbWFsID0gcmVxdWlyZSgnLi9saWIvaXNEZWNpbWFsJyk7XG5cbnZhciBfaXNEZWNpbWFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzRGVjaW1hbCk7XG5cbnZhciBfaXNIZXhhZGVjaW1hbCA9IHJlcXVpcmUoJy4vbGliL2lzSGV4YWRlY2ltYWwnKTtcblxudmFyIF9pc0hleGFkZWNpbWFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzSGV4YWRlY2ltYWwpO1xuXG52YXIgX2lzRGl2aXNpYmxlQnkgPSByZXF1aXJlKCcuL2xpYi9pc0RpdmlzaWJsZUJ5Jyk7XG5cbnZhciBfaXNEaXZpc2libGVCeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc0RpdmlzaWJsZUJ5KTtcblxudmFyIF9pc0hleENvbG9yID0gcmVxdWlyZSgnLi9saWIvaXNIZXhDb2xvcicpO1xuXG52YXIgX2lzSGV4Q29sb3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNIZXhDb2xvcik7XG5cbnZhciBfaXNNRCA9IHJlcXVpcmUoJy4vbGliL2lzTUQ1Jyk7XG5cbnZhciBfaXNNRDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc01EKTtcblxudmFyIF9pc0pTT04gPSByZXF1aXJlKCcuL2xpYi9pc0pTT04nKTtcblxudmFyIF9pc0pTT04yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNKU09OKTtcblxudmFyIF9pc0VtcHR5ID0gcmVxdWlyZSgnLi9saWIvaXNFbXB0eScpO1xuXG52YXIgX2lzRW1wdHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNFbXB0eSk7XG5cbnZhciBfaXNMZW5ndGggPSByZXF1aXJlKCcuL2xpYi9pc0xlbmd0aCcpO1xuXG52YXIgX2lzTGVuZ3RoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzTGVuZ3RoKTtcblxudmFyIF9pc0J5dGVMZW5ndGggPSByZXF1aXJlKCcuL2xpYi9pc0J5dGVMZW5ndGgnKTtcblxudmFyIF9pc0J5dGVMZW5ndGgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNCeXRlTGVuZ3RoKTtcblxudmFyIF9pc1VVSUQgPSByZXF1aXJlKCcuL2xpYi9pc1VVSUQnKTtcblxudmFyIF9pc1VVSUQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNVVUlEKTtcblxudmFyIF9pc01vbmdvSWQgPSByZXF1aXJlKCcuL2xpYi9pc01vbmdvSWQnKTtcblxudmFyIF9pc01vbmdvSWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNNb25nb0lkKTtcblxudmFyIF9pc0FmdGVyID0gcmVxdWlyZSgnLi9saWIvaXNBZnRlcicpO1xuXG52YXIgX2lzQWZ0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNBZnRlcik7XG5cbnZhciBfaXNCZWZvcmUgPSByZXF1aXJlKCcuL2xpYi9pc0JlZm9yZScpO1xuXG52YXIgX2lzQmVmb3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzQmVmb3JlKTtcblxudmFyIF9pc0luID0gcmVxdWlyZSgnLi9saWIvaXNJbicpO1xuXG52YXIgX2lzSW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNJbik7XG5cbnZhciBfaXNDcmVkaXRDYXJkID0gcmVxdWlyZSgnLi9saWIvaXNDcmVkaXRDYXJkJyk7XG5cbnZhciBfaXNDcmVkaXRDYXJkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzQ3JlZGl0Q2FyZCk7XG5cbnZhciBfaXNJU0lOID0gcmVxdWlyZSgnLi9saWIvaXNJU0lOJyk7XG5cbnZhciBfaXNJU0lOMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzSVNJTik7XG5cbnZhciBfaXNJU0JOID0gcmVxdWlyZSgnLi9saWIvaXNJU0JOJyk7XG5cbnZhciBfaXNJU0JOMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzSVNCTik7XG5cbnZhciBfaXNJU1NOID0gcmVxdWlyZSgnLi9saWIvaXNJU1NOJyk7XG5cbnZhciBfaXNJU1NOMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzSVNTTik7XG5cbnZhciBfaXNNb2JpbGVQaG9uZSA9IHJlcXVpcmUoJy4vbGliL2lzTW9iaWxlUGhvbmUnKTtcblxudmFyIF9pc01vYmlsZVBob25lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzTW9iaWxlUGhvbmUpO1xuXG52YXIgX2lzQ3VycmVuY3kgPSByZXF1aXJlKCcuL2xpYi9pc0N1cnJlbmN5Jyk7XG5cbnZhciBfaXNDdXJyZW5jeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc0N1cnJlbmN5KTtcblxudmFyIF9pc0lTTyA9IHJlcXVpcmUoJy4vbGliL2lzSVNPODYwMScpO1xuXG52YXIgX2lzSVNPMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzSVNPKTtcblxudmFyIF9pc0Jhc2UgPSByZXF1aXJlKCcuL2xpYi9pc0Jhc2U2NCcpO1xuXG52YXIgX2lzQmFzZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc0Jhc2UpO1xuXG52YXIgX2lzRGF0YVVSSSA9IHJlcXVpcmUoJy4vbGliL2lzRGF0YVVSSScpO1xuXG52YXIgX2lzRGF0YVVSSTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc0RhdGFVUkkpO1xuXG52YXIgX2x0cmltID0gcmVxdWlyZSgnLi9saWIvbHRyaW0nKTtcblxudmFyIF9sdHJpbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sdHJpbSk7XG5cbnZhciBfcnRyaW0gPSByZXF1aXJlKCcuL2xpYi9ydHJpbScpO1xuXG52YXIgX3J0cmltMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3J0cmltKTtcblxudmFyIF90cmltID0gcmVxdWlyZSgnLi9saWIvdHJpbScpO1xuXG52YXIgX3RyaW0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHJpbSk7XG5cbnZhciBfZXNjYXBlID0gcmVxdWlyZSgnLi9saWIvZXNjYXBlJyk7XG5cbnZhciBfZXNjYXBlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2VzY2FwZSk7XG5cbnZhciBfdW5lc2NhcGUgPSByZXF1aXJlKCcuL2xpYi91bmVzY2FwZScpO1xuXG52YXIgX3VuZXNjYXBlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VuZXNjYXBlKTtcblxudmFyIF9zdHJpcExvdyA9IHJlcXVpcmUoJy4vbGliL3N0cmlwTG93Jyk7XG5cbnZhciBfc3RyaXBMb3cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3RyaXBMb3cpO1xuXG52YXIgX3doaXRlbGlzdCA9IHJlcXVpcmUoJy4vbGliL3doaXRlbGlzdCcpO1xuXG52YXIgX3doaXRlbGlzdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93aGl0ZWxpc3QpO1xuXG52YXIgX2JsYWNrbGlzdCA9IHJlcXVpcmUoJy4vbGliL2JsYWNrbGlzdCcpO1xuXG52YXIgX2JsYWNrbGlzdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ibGFja2xpc3QpO1xuXG52YXIgX2lzV2hpdGVsaXN0ZWQgPSByZXF1aXJlKCcuL2xpYi9pc1doaXRlbGlzdGVkJyk7XG5cbnZhciBfaXNXaGl0ZWxpc3RlZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc1doaXRlbGlzdGVkKTtcblxudmFyIF9ub3JtYWxpemVFbWFpbCA9IHJlcXVpcmUoJy4vbGliL25vcm1hbGl6ZUVtYWlsJyk7XG5cbnZhciBfbm9ybWFsaXplRW1haWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbm9ybWFsaXplRW1haWwpO1xuXG52YXIgX3RvU3RyaW5nID0gcmVxdWlyZSgnLi9saWIvdXRpbC90b1N0cmluZycpO1xuXG52YXIgX3RvU3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvU3RyaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIHZlcnNpb24gPSAnNy4wLjAnO1xuXG52YXIgdmFsaWRhdG9yID0ge1xuICB2ZXJzaW9uOiB2ZXJzaW9uLFxuICB0b0RhdGU6IF90b0RhdGUyLmRlZmF1bHQsXG4gIHRvRmxvYXQ6IF90b0Zsb2F0Mi5kZWZhdWx0LFxuICB0b0ludDogX3RvSW50Mi5kZWZhdWx0LFxuICB0b0Jvb2xlYW46IF90b0Jvb2xlYW4yLmRlZmF1bHQsXG4gIGVxdWFsczogX2VxdWFsczIuZGVmYXVsdCxcbiAgY29udGFpbnM6IF9jb250YWluczIuZGVmYXVsdCxcbiAgbWF0Y2hlczogX21hdGNoZXMyLmRlZmF1bHQsXG4gIGlzRW1haWw6IF9pc0VtYWlsMi5kZWZhdWx0LFxuICBpc1VSTDogX2lzVVJMMi5kZWZhdWx0LFxuICBpc01BQ0FkZHJlc3M6IF9pc01BQ0FkZHJlc3MyLmRlZmF1bHQsXG4gIGlzSVA6IF9pc0lQMi5kZWZhdWx0LFxuICBpc0ZRRE46IF9pc0ZRRE4yLmRlZmF1bHQsXG4gIGlzQm9vbGVhbjogX2lzQm9vbGVhbjIuZGVmYXVsdCxcbiAgaXNBbHBoYTogX2lzQWxwaGEyLmRlZmF1bHQsXG4gIGlzQWxwaGFudW1lcmljOiBfaXNBbHBoYW51bWVyaWMyLmRlZmF1bHQsXG4gIGlzTnVtZXJpYzogX2lzTnVtZXJpYzIuZGVmYXVsdCxcbiAgaXNMb3dlcmNhc2U6IF9pc0xvd2VyY2FzZTIuZGVmYXVsdCxcbiAgaXNVcHBlcmNhc2U6IF9pc1VwcGVyY2FzZTIuZGVmYXVsdCxcbiAgaXNBc2NpaTogX2lzQXNjaWkyLmRlZmF1bHQsXG4gIGlzRnVsbFdpZHRoOiBfaXNGdWxsV2lkdGgyLmRlZmF1bHQsXG4gIGlzSGFsZldpZHRoOiBfaXNIYWxmV2lkdGgyLmRlZmF1bHQsXG4gIGlzVmFyaWFibGVXaWR0aDogX2lzVmFyaWFibGVXaWR0aDIuZGVmYXVsdCxcbiAgaXNNdWx0aWJ5dGU6IF9pc011bHRpYnl0ZTIuZGVmYXVsdCxcbiAgaXNTdXJyb2dhdGVQYWlyOiBfaXNTdXJyb2dhdGVQYWlyMi5kZWZhdWx0LFxuICBpc0ludDogX2lzSW50Mi5kZWZhdWx0LFxuICBpc0Zsb2F0OiBfaXNGbG9hdDIuZGVmYXVsdCxcbiAgaXNEZWNpbWFsOiBfaXNEZWNpbWFsMi5kZWZhdWx0LFxuICBpc0hleGFkZWNpbWFsOiBfaXNIZXhhZGVjaW1hbDIuZGVmYXVsdCxcbiAgaXNEaXZpc2libGVCeTogX2lzRGl2aXNpYmxlQnkyLmRlZmF1bHQsXG4gIGlzSGV4Q29sb3I6IF9pc0hleENvbG9yMi5kZWZhdWx0LFxuICBpc01ENTogX2lzTUQyLmRlZmF1bHQsXG4gIGlzSlNPTjogX2lzSlNPTjIuZGVmYXVsdCxcbiAgaXNFbXB0eTogX2lzRW1wdHkyLmRlZmF1bHQsXG4gIGlzTGVuZ3RoOiBfaXNMZW5ndGgyLmRlZmF1bHQsXG4gIGlzQnl0ZUxlbmd0aDogX2lzQnl0ZUxlbmd0aDIuZGVmYXVsdCxcbiAgaXNVVUlEOiBfaXNVVUlEMi5kZWZhdWx0LFxuICBpc01vbmdvSWQ6IF9pc01vbmdvSWQyLmRlZmF1bHQsXG4gIGlzQWZ0ZXI6IF9pc0FmdGVyMi5kZWZhdWx0LFxuICBpc0JlZm9yZTogX2lzQmVmb3JlMi5kZWZhdWx0LFxuICBpc0luOiBfaXNJbjIuZGVmYXVsdCxcbiAgaXNDcmVkaXRDYXJkOiBfaXNDcmVkaXRDYXJkMi5kZWZhdWx0LFxuICBpc0lTSU46IF9pc0lTSU4yLmRlZmF1bHQsXG4gIGlzSVNCTjogX2lzSVNCTjIuZGVmYXVsdCxcbiAgaXNJU1NOOiBfaXNJU1NOMi5kZWZhdWx0LFxuICBpc01vYmlsZVBob25lOiBfaXNNb2JpbGVQaG9uZTIuZGVmYXVsdCxcbiAgaXNDdXJyZW5jeTogX2lzQ3VycmVuY3kyLmRlZmF1bHQsXG4gIGlzSVNPODYwMTogX2lzSVNPMi5kZWZhdWx0LFxuICBpc0Jhc2U2NDogX2lzQmFzZTIuZGVmYXVsdCxcbiAgaXNEYXRhVVJJOiBfaXNEYXRhVVJJMi5kZWZhdWx0LFxuICBsdHJpbTogX2x0cmltMi5kZWZhdWx0LFxuICBydHJpbTogX3J0cmltMi5kZWZhdWx0LFxuICB0cmltOiBfdHJpbTIuZGVmYXVsdCxcbiAgZXNjYXBlOiBfZXNjYXBlMi5kZWZhdWx0LFxuICB1bmVzY2FwZTogX3VuZXNjYXBlMi5kZWZhdWx0LFxuICBzdHJpcExvdzogX3N0cmlwTG93Mi5kZWZhdWx0LFxuICB3aGl0ZWxpc3Q6IF93aGl0ZWxpc3QyLmRlZmF1bHQsXG4gIGJsYWNrbGlzdDogX2JsYWNrbGlzdDIuZGVmYXVsdCxcbiAgaXNXaGl0ZWxpc3RlZDogX2lzV2hpdGVsaXN0ZWQyLmRlZmF1bHQsXG4gIG5vcm1hbGl6ZUVtYWlsOiBfbm9ybWFsaXplRW1haWwyLmRlZmF1bHQsXG4gIHRvU3RyaW5nOiBfdG9TdHJpbmcyLmRlZmF1bHRcbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IHZhbGlkYXRvcjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbnZhciBhbHBoYSA9IGV4cG9ydHMuYWxwaGEgPSB7XG4gICdlbi1VUyc6IC9eW0EtWl0rJC9pLFxuICAnY3MtQ1onOiAvXltBLVrDgcSMxI7DicSaw43Fh8OTxZjFoMWkw5rFrsOdxb1dKyQvaSxcbiAgJ2RhLURLJzogL15bQS1aw4bDmMOFXSskL2ksXG4gICdkZS1ERSc6IC9eW0EtWsOEw5bDnMOfXSskL2ksXG4gICdlcy1FUyc6IC9eW0EtWsOBw4nDjcORw5PDmsOcXSskL2ksXG4gICdmci1GUic6IC9eW0EtWsOAw4LDhsOHw4nDiMOKw4vDj8OOw5TFksOZw5vDnMW4XSskL2ksXG4gICdubC1OTCc6IC9eW0EtWsOJw4vDj8OTw5bDnF0rJC9pLFxuICAnaHUtSFUnOiAvXltBLVrDgcOJw43Dk8OWxZDDmsOcxbBdKyQvaSxcbiAgJ3BsLVBMJzogL15bQS1axITEhsSYxZrFgcWDw5PFu8W5XSskL2ksXG4gICdwdC1QVCc6IC9eW0EtWsODw4HDgMOCw4fDicOKw43DlcOTw5TDmsOcXSskL2ksXG4gICdydS1SVSc6IC9eW9CQLdCv0IFdKyQvaSxcbiAgJ3NyLVJTQGxhdGluJzogL15bQS1axIzEhsW9xaDEkF0rJC9pLFxuICAnc3ItUlMnOiAvXlvQkC3Qr9CC0IjQidCK0IvQj10rJC9pLFxuICAndHItVFInOiAvXltBLVrDh8SexLDEscOWxZ7DnF0rJC9pLFxuICAndWstVUEnOiAvXlvQkC3Qr9CESdCH0pBdKyQvaSxcbiAgYXI6IC9eW9ih2KLYo9ik2KXYptin2KjYqdiq2KvYrNit2K7Yr9iw2LHYstiz2LTYtdi22LfYuNi52LrZgdmC2YPZhNmF2YbZh9mI2YnZitmL2YzZjdmO2Y/ZkNmR2ZLZsF0rJC9cbn07XG5cbnZhciBhbHBoYW51bWVyaWMgPSBleHBvcnRzLmFscGhhbnVtZXJpYyA9IHtcbiAgJ2VuLVVTJzogL15bMC05QS1aXSskL2ksXG4gICdjcy1DWic6IC9eWzAtOUEtWsOBxIzEjsOJxJrDjcWHw5PFmMWgxaTDmsWuw53FvV0rJC9pLFxuICAnZGEtREsnOiAvXlswLTlBLVrDhsOYw4VdJC9pLFxuICAnZGUtREUnOiAvXlswLTlBLVrDhMOWw5zDn10rJC9pLFxuICAnZXMtRVMnOiAvXlswLTlBLVrDgcOJw43DkcOTw5rDnF0rJC9pLFxuICAnZnItRlInOiAvXlswLTlBLVrDgMOCw4bDh8OJw4jDisOLw4/DjsOUxZLDmcObw5zFuF0rJC9pLFxuICAnaHUtSFUnOiAvXlswLTlBLVrDgcOJw43Dk8OWxZDDmsOcxbBdKyQvaSxcbiAgJ25sLU5MJzogL15bMC05QS1aw4nDi8OPw5PDlsOcXSskL2ksXG4gICdwbC1QTCc6IC9eWzAtOUEtWsSExIbEmMWaxYHFg8OTxbvFuV0rJC9pLFxuICAncHQtUFQnOiAvXlswLTlBLVrDg8OBw4DDgsOHw4nDisONw5XDk8OUw5rDnF0rJC9pLFxuICAncnUtUlUnOiAvXlswLTnQkC3Qr9CBXSskL2ksXG4gICdzci1SU0BsYXRpbic6IC9eWzAtOUEtWsSMxIbFvcWgxJBdKyQvaSxcbiAgJ3NyLVJTJzogL15bMC050JAt0K/QgtCI0InQitCL0I9dKyQvaSxcbiAgJ3RyLVRSJzogL15bMC05QS1aw4fEnsSwxLHDlsWew5xdKyQvaSxcbiAgJ3VrLVVBJzogL15bMC050JAt0K/QhEnQh9KQXSskL2ksXG4gIGFyOiAvXlvZoNmh2aLZo9mk2aXZptmn2ajZqTAtOdih2KLYo9ik2KXYptin2KjYqdiq2KvYrNit2K7Yr9iw2LHYstiz2LTYtdi22LfYuNi52LrZgdmC2YPZhNmF2YbZh9mI2YnZitmL2YzZjdmO2Y/ZkNmR2ZLZsF0rJC9cbn07XG5cbnZhciBlbmdsaXNoTG9jYWxlcyA9IGV4cG9ydHMuZW5nbGlzaExvY2FsZXMgPSBbJ0FVJywgJ0dCJywgJ0hLJywgJ0lOJywgJ05aJywgJ1pBJywgJ1pNJ107XG5cbmZvciAodmFyIGxvY2FsZSwgaSA9IDA7IGkgPCBlbmdsaXNoTG9jYWxlcy5sZW5ndGg7IGkrKykge1xuICBsb2NhbGUgPSAnZW4tJyArIGVuZ2xpc2hMb2NhbGVzW2ldO1xuICBhbHBoYVtsb2NhbGVdID0gYWxwaGFbJ2VuLVVTJ107XG4gIGFscGhhbnVtZXJpY1tsb2NhbGVdID0gYWxwaGFudW1lcmljWydlbi1VUyddO1xufVxuXG5hbHBoYVsncHQtQlInXSA9IGFscGhhWydwdC1QVCddO1xuYWxwaGFudW1lcmljWydwdC1CUiddID0gYWxwaGFudW1lcmljWydwdC1QVCddO1xuXG4vLyBTb3VyY2U6IGh0dHA6Ly93d3cubG9jYWxlcGxhbmV0LmNvbS9qYXZhL1xudmFyIGFyYWJpY0xvY2FsZXMgPSBleHBvcnRzLmFyYWJpY0xvY2FsZXMgPSBbJ0FFJywgJ0JIJywgJ0RaJywgJ0VHJywgJ0lRJywgJ0pPJywgJ0tXJywgJ0xCJywgJ0xZJywgJ01BJywgJ1FNJywgJ1FBJywgJ1NBJywgJ1NEJywgJ1NZJywgJ1ROJywgJ1lFJ107XG5cbmZvciAodmFyIF9sb2NhbGUsIF9pID0gMDsgX2kgPCBhcmFiaWNMb2NhbGVzLmxlbmd0aDsgX2krKykge1xuICBfbG9jYWxlID0gJ2FyLScgKyBhcmFiaWNMb2NhbGVzW19pXTtcbiAgYWxwaGFbX2xvY2FsZV0gPSBhbHBoYS5hcjtcbiAgYWxwaGFudW1lcmljW19sb2NhbGVdID0gYWxwaGFudW1lcmljLmFyO1xufSIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGJsYWNrbGlzdDtcblxudmFyIF9hc3NlcnRTdHJpbmcgPSByZXF1aXJlKCcuL3V0aWwvYXNzZXJ0U3RyaW5nJyk7XG5cbnZhciBfYXNzZXJ0U3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2VydFN0cmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGJsYWNrbGlzdChzdHIsIGNoYXJzKSB7XG4gICgwLCBfYXNzZXJ0U3RyaW5nMi5kZWZhdWx0KShzdHIpO1xuICByZXR1cm4gc3RyLnJlcGxhY2UobmV3IFJlZ0V4cCgnWycgKyBjaGFycyArICddKycsICdnJyksICcnKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGNvbnRhaW5zO1xuXG52YXIgX2Fzc2VydFN0cmluZyA9IHJlcXVpcmUoJy4vdXRpbC9hc3NlcnRTdHJpbmcnKTtcblxudmFyIF9hc3NlcnRTdHJpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXNzZXJ0U3RyaW5nKTtcblxudmFyIF90b1N0cmluZyA9IHJlcXVpcmUoJy4vdXRpbC90b1N0cmluZycpO1xuXG52YXIgX3RvU3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvU3RyaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gY29udGFpbnMoc3RyLCBlbGVtKSB7XG4gICgwLCBfYXNzZXJ0U3RyaW5nMi5kZWZhdWx0KShzdHIpO1xuICByZXR1cm4gc3RyLmluZGV4T2YoKDAsIF90b1N0cmluZzIuZGVmYXVsdCkoZWxlbSkpID49IDA7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBlcXVhbHM7XG5cbnZhciBfYXNzZXJ0U3RyaW5nID0gcmVxdWlyZSgnLi91dGlsL2Fzc2VydFN0cmluZycpO1xuXG52YXIgX2Fzc2VydFN0cmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hc3NlcnRTdHJpbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBlcXVhbHMoc3RyLCBjb21wYXJpc29uKSB7XG4gICgwLCBfYXNzZXJ0U3RyaW5nMi5kZWZhdWx0KShzdHIpO1xuICByZXR1cm4gc3RyID09PSBjb21wYXJpc29uO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGVzY2FwZTtcblxudmFyIF9hc3NlcnRTdHJpbmcgPSByZXF1aXJlKCcuL3V0aWwvYXNzZXJ0U3RyaW5nJyk7XG5cbnZhciBfYXNzZXJ0U3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2VydFN0cmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGVzY2FwZShzdHIpIHtcbiAgICAgICgwLCBfYXNzZXJ0U3RyaW5nMi5kZWZhdWx0KShzdHIpO1xuICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8mL2csICcmYW1wOycpLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKS5yZXBsYWNlKC8nL2csICcmI3gyNzsnKS5yZXBsYWNlKC88L2csICcmbHQ7JykucmVwbGFjZSgvPi9nLCAnJmd0OycpLnJlcGxhY2UoL1xcLy9nLCAnJiN4MkY7JykucmVwbGFjZSgvXFxcXC9nLCAnJiN4NUM7JykucmVwbGFjZSgvYC9nLCAnJiM5NjsnKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGlzQWZ0ZXI7XG5cbnZhciBfYXNzZXJ0U3RyaW5nID0gcmVxdWlyZSgnLi91dGlsL2Fzc2VydFN0cmluZycpO1xuXG52YXIgX2Fzc2VydFN0cmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hc3NlcnRTdHJpbmcpO1xuXG52YXIgX3RvRGF0ZSA9IHJlcXVpcmUoJy4vdG9EYXRlJyk7XG5cbnZhciBfdG9EYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvRGF0ZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGlzQWZ0ZXIoc3RyKSB7XG4gIHZhciBkYXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBTdHJpbmcobmV3IERhdGUoKSk7XG5cbiAgKDAsIF9hc3NlcnRTdHJpbmcyLmRlZmF1bHQpKHN0cik7XG4gIHZhciBjb21wYXJpc29uID0gKDAsIF90b0RhdGUyLmRlZmF1bHQpKGRhdGUpO1xuICB2YXIgb3JpZ2luYWwgPSAoMCwgX3RvRGF0ZTIuZGVmYXVsdCkoc3RyKTtcbiAgcmV0dXJuICEhKG9yaWdpbmFsICYmIGNvbXBhcmlzb24gJiYgb3JpZ2luYWwgPiBjb21wYXJpc29uKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGlzQWxwaGE7XG5cbnZhciBfYXNzZXJ0U3RyaW5nID0gcmVxdWlyZSgnLi91dGlsL2Fzc2VydFN0cmluZycpO1xuXG52YXIgX2Fzc2VydFN0cmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hc3NlcnRTdHJpbmcpO1xuXG52YXIgX2FscGhhID0gcmVxdWlyZSgnLi9hbHBoYScpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBpc0FscGhhKHN0cikge1xuICB2YXIgbG9jYWxlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnZW4tVVMnO1xuXG4gICgwLCBfYXNzZXJ0U3RyaW5nMi5kZWZhdWx0KShzdHIpO1xuICBpZiAobG9jYWxlIGluIF9hbHBoYS5hbHBoYSkge1xuICAgIHJldHVybiBfYWxwaGEuYWxwaGFbbG9jYWxlXS50ZXN0KHN0cik7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGxvY2FsZSBcXCcnICsgbG9jYWxlICsgJ1xcJycpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gaXNBbHBoYW51bWVyaWM7XG5cbnZhciBfYXNzZXJ0U3RyaW5nID0gcmVxdWlyZSgnLi91dGlsL2Fzc2VydFN0cmluZycpO1xuXG52YXIgX2Fzc2VydFN0cmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hc3NlcnRTdHJpbmcpO1xuXG52YXIgX2FscGhhID0gcmVxdWlyZSgnLi9hbHBoYScpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBpc0FscGhhbnVtZXJpYyhzdHIpIHtcbiAgdmFyIGxvY2FsZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ2VuLVVTJztcblxuICAoMCwgX2Fzc2VydFN0cmluZzIuZGVmYXVsdCkoc3RyKTtcbiAgaWYgKGxvY2FsZSBpbiBfYWxwaGEuYWxwaGFudW1lcmljKSB7XG4gICAgcmV0dXJuIF9hbHBoYS5hbHBoYW51bWVyaWNbbG9jYWxlXS50ZXN0KHN0cik7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGxvY2FsZSBcXCcnICsgbG9jYWxlICsgJ1xcJycpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gaXNBc2NpaTtcblxudmFyIF9hc3NlcnRTdHJpbmcgPSByZXF1aXJlKCcuL3V0aWwvYXNzZXJ0U3RyaW5nJyk7XG5cbnZhciBfYXNzZXJ0U3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2VydFN0cmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnRyb2wtcmVnZXggKi9cbnZhciBhc2NpaSA9IC9eW1xceDAwLVxceDdGXSskLztcbi8qIGVzbGludC1lbmFibGUgbm8tY29udHJvbC1yZWdleCAqL1xuXG5mdW5jdGlvbiBpc0FzY2lpKHN0cikge1xuICAoMCwgX2Fzc2VydFN0cmluZzIuZGVmYXVsdCkoc3RyKTtcbiAgcmV0dXJuIGFzY2lpLnRlc3Qoc3RyKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGlzQmFzZTY0O1xuXG52YXIgX2Fzc2VydFN0cmluZyA9IHJlcXVpcmUoJy4vdXRpbC9hc3NlcnRTdHJpbmcnKTtcblxudmFyIF9hc3NlcnRTdHJpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXNzZXJ0U3RyaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIG5vdEJhc2U2NCA9IC9bXkEtWjAtOStcXC89XS9pO1xuXG5mdW5jdGlvbiBpc0Jhc2U2NChzdHIpIHtcbiAgKDAsIF9hc3NlcnRTdHJpbmcyLmRlZmF1bHQpKHN0cik7XG4gIHZhciBsZW4gPSBzdHIubGVuZ3RoO1xuICBpZiAoIWxlbiB8fCBsZW4gJSA0ICE9PSAwIHx8IG5vdEJhc2U2NC50ZXN0KHN0cikpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGZpcnN0UGFkZGluZ0NoYXIgPSBzdHIuaW5kZXhPZignPScpO1xuICByZXR1cm4gZmlyc3RQYWRkaW5nQ2hhciA9PT0gLTEgfHwgZmlyc3RQYWRkaW5nQ2hhciA9PT0gbGVuIC0gMSB8fCBmaXJzdFBhZGRpbmdDaGFyID09PSBsZW4gLSAyICYmIHN0cltsZW4gLSAxXSA9PT0gJz0nO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gaXNCZWZvcmU7XG5cbnZhciBfYXNzZXJ0U3RyaW5nID0gcmVxdWlyZSgnLi91dGlsL2Fzc2VydFN0cmluZycpO1xuXG52YXIgX2Fzc2VydFN0cmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hc3NlcnRTdHJpbmcpO1xuXG52YXIgX3RvRGF0ZSA9IHJlcXVpcmUoJy4vdG9EYXRlJyk7XG5cbnZhciBfdG9EYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvRGF0ZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGlzQmVmb3JlKHN0cikge1xuICB2YXIgZGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogU3RyaW5nKG5ldyBEYXRlKCkpO1xuXG4gICgwLCBfYXNzZXJ0U3RyaW5nMi5kZWZhdWx0KShzdHIpO1xuICB2YXIgY29tcGFyaXNvbiA9ICgwLCBfdG9EYXRlMi5kZWZhdWx0KShkYXRlKTtcbiAgdmFyIG9yaWdpbmFsID0gKDAsIF90b0RhdGUyLmRlZmF1bHQpKHN0cik7XG4gIHJldHVybiAhIShvcmlnaW5hbCAmJiBjb21wYXJpc29uICYmIG9yaWdpbmFsIDwgY29tcGFyaXNvbik7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBpc0Jvb2xlYW47XG5cbnZhciBfYXNzZXJ0U3RyaW5nID0gcmVxdWlyZSgnLi91dGlsL2Fzc2VydFN0cmluZycpO1xuXG52YXIgX2Fzc2VydFN0cmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hc3NlcnRTdHJpbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBpc0Jvb2xlYW4oc3RyKSB7XG4gICgwLCBfYXNzZXJ0U3RyaW5nMi5kZWZhdWx0KShzdHIpO1xuICByZXR1cm4gWyd0cnVlJywgJ2ZhbHNlJywgJzEnLCAnMCddLmluZGV4T2Yoc3RyKSA+PSAwO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGlzQnl0ZUxlbmd0aDtcblxudmFyIF9hc3NlcnRTdHJpbmcgPSByZXF1aXJlKCcuL3V0aWwvYXNzZXJ0U3RyaW5nJyk7XG5cbnZhciBfYXNzZXJ0U3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2VydFN0cmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qIGVzbGludC1kaXNhYmxlIHByZWZlci1yZXN0LXBhcmFtcyAqL1xuZnVuY3Rpb24gaXNCeXRlTGVuZ3RoKHN0ciwgb3B0aW9ucykge1xuICAoMCwgX2Fzc2VydFN0cmluZzIuZGVmYXVsdCkoc3RyKTtcbiAgdmFyIG1pbiA9IHZvaWQgMDtcbiAgdmFyIG1heCA9IHZvaWQgMDtcbiAgaWYgKCh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2Yob3B0aW9ucykpID09PSAnb2JqZWN0Jykge1xuICAgIG1pbiA9IG9wdGlvbnMubWluIHx8IDA7XG4gICAgbWF4ID0gb3B0aW9ucy5tYXg7XG4gIH0gZWxzZSB7XG4gICAgLy8gYmFja3dhcmRzIGNvbXBhdGliaWxpdHk6IGlzQnl0ZUxlbmd0aChzdHIsIG1pbiBbLCBtYXhdKVxuICAgIG1pbiA9IGFyZ3VtZW50c1sxXTtcbiAgICBtYXggPSBhcmd1bWVudHNbMl07XG4gIH1cbiAgdmFyIGxlbiA9IGVuY29kZVVSSShzdHIpLnNwbGl0KC8lLi58Li8pLmxlbmd0aCAtIDE7XG4gIHJldHVybiBsZW4gPj0gbWluICYmICh0eXBlb2YgbWF4ID09PSAndW5kZWZpbmVkJyB8fCBsZW4gPD0gbWF4KTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGlzQ3JlZGl0Q2FyZDtcblxudmFyIF9hc3NlcnRTdHJpbmcgPSByZXF1aXJlKCcuL3V0aWwvYXNzZXJ0U3RyaW5nJyk7XG5cbnZhciBfYXNzZXJ0U3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2VydFN0cmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbnZhciBjcmVkaXRDYXJkID0gL14oPzo0WzAtOV17MTJ9KD86WzAtOV17M30pP3w1WzEtNV1bMC05XXsxNH18KDIyMlsxLTldfDIyWzMtOV1bMC05XXwyWzMtNl1bMC05XXsyfXwyN1swMV1bMC05XXwyNzIwKVswLTldezEyfXw2KD86MDExfDVbMC05XVswLTldKVswLTldezEyfXwzWzQ3XVswLTldezEzfXwzKD86MFswLTVdfFs2OF1bMC05XSlbMC05XXsxMX18KD86MjEzMXwxODAwfDM1XFxkezN9KVxcZHsxMX0pfDYyWzAtOV17MTR9JC87XG4vKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cblxuZnVuY3Rpb24gaXNDcmVkaXRDYXJkKHN0cikge1xuICAoMCwgX2Fzc2VydFN0cmluZzIuZGVmYXVsdCkoc3RyKTtcbiAgdmFyIHNhbml0aXplZCA9IHN0ci5yZXBsYWNlKC9bXjAtOV0rL2csICcnKTtcbiAgaWYgKCFjcmVkaXRDYXJkLnRlc3Qoc2FuaXRpemVkKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgc3VtID0gMDtcbiAgdmFyIGRpZ2l0ID0gdm9pZCAwO1xuICB2YXIgdG1wTnVtID0gdm9pZCAwO1xuICB2YXIgc2hvdWxkRG91YmxlID0gdm9pZCAwO1xuICBmb3IgKHZhciBpID0gc2FuaXRpemVkLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgZGlnaXQgPSBzYW5pdGl6ZWQuc3Vic3RyaW5nKGksIGkgKyAxKTtcbiAgICB0bXBOdW0gPSBwYXJzZUludChkaWdpdCwgMTApO1xuICAgIGlmIChzaG91bGREb3VibGUpIHtcbiAgICAgIHRtcE51bSAqPSAyO1xuICAgICAgaWYgKHRtcE51bSA+PSAxMCkge1xuICAgICAgICBzdW0gKz0gdG1wTnVtICUgMTAgKyAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3VtICs9IHRtcE51bTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3VtICs9IHRtcE51bTtcbiAgICB9XG4gICAgc2hvdWxkRG91YmxlID0gIXNob3VsZERvdWJsZTtcbiAgfVxuICByZXR1cm4gISEoc3VtICUgMTAgPT09IDAgPyBzYW5pdGl6ZWQgOiBmYWxzZSk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBpc0N1cnJlbmN5O1xuXG52YXIgX21lcmdlID0gcmVxdWlyZSgnLi91dGlsL21lcmdlJyk7XG5cbnZhciBfbWVyZ2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWVyZ2UpO1xuXG52YXIgX2Fzc2VydFN0cmluZyA9IHJlcXVpcmUoJy4vdXRpbC9hc3NlcnRTdHJpbmcnKTtcblxudmFyIF9hc3NlcnRTdHJpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXNzZXJ0U3RyaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gY3VycmVuY3lSZWdleChvcHRpb25zKSB7XG4gIHZhciBzeW1ib2wgPSAnKFxcXFwnICsgb3B0aW9ucy5zeW1ib2wucmVwbGFjZSgvXFwuL2csICdcXFxcLicpICsgJyknICsgKG9wdGlvbnMucmVxdWlyZV9zeW1ib2wgPyAnJyA6ICc/JyksXG4gICAgICBuZWdhdGl2ZSA9ICctPycsXG4gICAgICB3aG9sZV9kb2xsYXJfYW1vdW50X3dpdGhvdXRfc2VwID0gJ1sxLTldXFxcXGQqJyxcbiAgICAgIHdob2xlX2RvbGxhcl9hbW91bnRfd2l0aF9zZXAgPSAnWzEtOV1cXFxcZHswLDJ9KFxcXFwnICsgb3B0aW9ucy50aG91c2FuZHNfc2VwYXJhdG9yICsgJ1xcXFxkezN9KSonLFxuICAgICAgdmFsaWRfd2hvbGVfZG9sbGFyX2Ftb3VudHMgPSBbJzAnLCB3aG9sZV9kb2xsYXJfYW1vdW50X3dpdGhvdXRfc2VwLCB3aG9sZV9kb2xsYXJfYW1vdW50X3dpdGhfc2VwXSxcbiAgICAgIHdob2xlX2RvbGxhcl9hbW91bnQgPSAnKCcgKyB2YWxpZF93aG9sZV9kb2xsYXJfYW1vdW50cy5qb2luKCd8JykgKyAnKT8nLFxuICAgICAgZGVjaW1hbF9hbW91bnQgPSAnKFxcXFwnICsgb3B0aW9ucy5kZWNpbWFsX3NlcGFyYXRvciArICdcXFxcZHsyfSk/JztcbiAgdmFyIHBhdHRlcm4gPSB3aG9sZV9kb2xsYXJfYW1vdW50ICsgZGVjaW1hbF9hbW91bnQ7XG5cbiAgLy8gZGVmYXVsdCBpcyBuZWdhdGl2ZSBzaWduIGJlZm9yZSBzeW1ib2wsIGJ1dCB0aGVyZSBhcmUgdHdvIG90aGVyIG9wdGlvbnMgKGJlc2lkZXMgcGFyZW5zKVxuICBpZiAob3B0aW9ucy5hbGxvd19uZWdhdGl2ZXMgJiYgIW9wdGlvbnMucGFyZW5zX2Zvcl9uZWdhdGl2ZXMpIHtcbiAgICBpZiAob3B0aW9ucy5uZWdhdGl2ZV9zaWduX2FmdGVyX2RpZ2l0cykge1xuICAgICAgcGF0dGVybiArPSBuZWdhdGl2ZTtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMubmVnYXRpdmVfc2lnbl9iZWZvcmVfZGlnaXRzKSB7XG4gICAgICBwYXR0ZXJuID0gbmVnYXRpdmUgKyBwYXR0ZXJuO1xuICAgIH1cbiAgfVxuXG4gIC8vIFNvdXRoIEFmcmljYW4gUmFuZCwgZm9yIGV4YW1wbGUsIHVzZXMgUiAxMjMgKHNwYWNlKSBhbmQgUi0xMjMgKG5vIHNwYWNlKVxuICBpZiAob3B0aW9ucy5hbGxvd19uZWdhdGl2ZV9zaWduX3BsYWNlaG9sZGVyKSB7XG4gICAgcGF0dGVybiA9ICcoICg/IVxcXFwtKSk/JyArIHBhdHRlcm47XG4gIH0gZWxzZSBpZiAob3B0aW9ucy5hbGxvd19zcGFjZV9hZnRlcl9zeW1ib2wpIHtcbiAgICBwYXR0ZXJuID0gJyA/JyArIHBhdHRlcm47XG4gIH0gZWxzZSBpZiAob3B0aW9ucy5hbGxvd19zcGFjZV9hZnRlcl9kaWdpdHMpIHtcbiAgICBwYXR0ZXJuICs9ICcoICg/ISQpKT8nO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMuc3ltYm9sX2FmdGVyX2RpZ2l0cykge1xuICAgIHBhdHRlcm4gKz0gc3ltYm9sO1xuICB9IGVsc2Uge1xuICAgIHBhdHRlcm4gPSBzeW1ib2wgKyBwYXR0ZXJuO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMuYWxsb3dfbmVnYXRpdmVzKSB7XG4gICAgaWYgKG9wdGlvbnMucGFyZW5zX2Zvcl9uZWdhdGl2ZXMpIHtcbiAgICAgIHBhdHRlcm4gPSAnKFxcXFwoJyArIHBhdHRlcm4gKyAnXFxcXCl8JyArIHBhdHRlcm4gKyAnKSc7XG4gICAgfSBlbHNlIGlmICghKG9wdGlvbnMubmVnYXRpdmVfc2lnbl9iZWZvcmVfZGlnaXRzIHx8IG9wdGlvbnMubmVnYXRpdmVfc2lnbl9hZnRlcl9kaWdpdHMpKSB7XG4gICAgICBwYXR0ZXJuID0gbmVnYXRpdmUgKyBwYXR0ZXJuO1xuICAgIH1cbiAgfVxuXG4gIC8qIGVzbGludC1kaXNhYmxlIHByZWZlci10ZW1wbGF0ZSAqL1xuICByZXR1cm4gbmV3IFJlZ0V4cCgnXicgK1xuICAvLyBlbnN1cmUgdGhlcmUncyBhIGRvbGxhciBhbmQvb3IgZGVjaW1hbCBhbW91bnQsIGFuZCB0aGF0XG4gIC8vIGl0IGRvZXNuJ3Qgc3RhcnQgd2l0aCBhIHNwYWNlIG9yIGEgbmVnYXRpdmUgc2lnbiBmb2xsb3dlZCBieSBhIHNwYWNlXG4gICcoPyEtPyApKD89LipcXFxcZCknICsgcGF0dGVybiArICckJyk7XG4gIC8qIGVzbGludC1lbmFibGUgcHJlZmVyLXRlbXBsYXRlICovXG59XG5cbnZhciBkZWZhdWx0X2N1cnJlbmN5X29wdGlvbnMgPSB7XG4gIHN5bWJvbDogJyQnLFxuICByZXF1aXJlX3N5bWJvbDogZmFsc2UsXG4gIGFsbG93X3NwYWNlX2FmdGVyX3N5bWJvbDogZmFsc2UsXG4gIHN5bWJvbF9hZnRlcl9kaWdpdHM6IGZhbHNlLFxuICBhbGxvd19uZWdhdGl2ZXM6IHRydWUsXG4gIHBhcmVuc19mb3JfbmVnYXRpdmVzOiBmYWxzZSxcbiAgbmVnYXRpdmVfc2lnbl9iZWZvcmVfZGlnaXRzOiBmYWxzZSxcbiAgbmVnYXRpdmVfc2lnbl9hZnRlcl9kaWdpdHM6IGZhbHNlLFxuICBhbGxvd19uZWdhdGl2ZV9zaWduX3BsYWNlaG9sZGVyOiBmYWxzZSxcbiAgdGhvdXNhbmRzX3NlcGFyYXRvcjogJywnLFxuICBkZWNpbWFsX3NlcGFyYXRvcjogJy4nLFxuICBhbGxvd19zcGFjZV9hZnRlcl9kaWdpdHM6IGZhbHNlXG59O1xuXG5mdW5jdGlvbiBpc0N1cnJlbmN5KHN0ciwgb3B0aW9ucykge1xuICAoMCwgX2Fzc2VydFN0cmluZzIuZGVmYXVsdCkoc3RyKTtcbiAgb3B0aW9ucyA9ICgwLCBfbWVyZ2UyLmRlZmF1bHQpKG9wdGlvbnMsIGRlZmF1bHRfY3VycmVuY3lfb3B0aW9ucyk7XG4gIHJldHVybiBjdXJyZW5jeVJlZ2V4KG9wdGlvbnMpLnRlc3Qoc3RyKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGlzRGF0YVVSSTtcblxudmFyIF9hc3NlcnRTdHJpbmcgPSByZXF1aXJlKCcuL3V0aWwvYXNzZXJ0U3RyaW5nJyk7XG5cbnZhciBfYXNzZXJ0U3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2VydFN0cmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBkYXRhVVJJID0gL15cXHMqZGF0YTooW2Etel0rXFwvW2EtejAtOVxcLVxcK10rKDtbYS16XFwtXSs9W2EtejAtOVxcLV0rKT8pPyg7YmFzZTY0KT8sW2EtejAtOSFcXCQmJyxcXChcXClcXCpcXCssOz1cXC1cXC5ffjpAXFwvXFw/JVxcc10qXFxzKiQvaTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBtYXgtbGVuXG5cbmZ1bmN0aW9uIGlzRGF0YVVSSShzdHIpIHtcbiAgKDAsIF9hc3NlcnRTdHJpbmcyLmRlZmF1bHQpKHN0cik7XG4gIHJldHVybiBkYXRhVVJJLnRlc3Qoc3RyKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGlzRGVjaW1hbDtcblxudmFyIF9hc3NlcnRTdHJpbmcgPSByZXF1aXJlKCcuL3V0aWwvYXNzZXJ0U3RyaW5nJyk7XG5cbnZhciBfYXNzZXJ0U3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2VydFN0cmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBkZWNpbWFsID0gL15bLStdPyhbMC05XSt8XFwuWzAtOV0rfFswLTldK1xcLlswLTldKykkLztcblxuZnVuY3Rpb24gaXNEZWNpbWFsKHN0cikge1xuICAoMCwgX2Fzc2VydFN0cmluZzIuZGVmYXVsdCkoc3RyKTtcbiAgcmV0dXJuIHN0ciAhPT0gJycgJiYgZGVjaW1hbC50ZXN0KHN0cik7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBpc0RpdmlzaWJsZUJ5O1xuXG52YXIgX2Fzc2VydFN0cmluZyA9IHJlcXVpcmUoJy4vdXRpbC9hc3NlcnRTdHJpbmcnKTtcblxudmFyIF9hc3NlcnRTdHJpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXNzZXJ0U3RyaW5nKTtcblxudmFyIF90b0Zsb2F0ID0gcmVxdWlyZSgnLi90b0Zsb2F0Jyk7XG5cbnZhciBfdG9GbG9hdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90b0Zsb2F0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gaXNEaXZpc2libGVCeShzdHIsIG51bSkge1xuICAoMCwgX2Fzc2VydFN0cmluZzIuZGVmYXVsdCkoc3RyKTtcbiAgcmV0dXJuICgwLCBfdG9GbG9hdDIuZGVmYXVsdCkoc3RyKSAlIHBhcnNlSW50KG51bSwgMTApID09PSAwO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gaXNFbWFpbDtcblxudmFyIF9hc3NlcnRTdHJpbmcgPSByZXF1aXJlKCcuL3V0aWwvYXNzZXJ0U3RyaW5nJyk7XG5cbnZhciBfYXNzZXJ0U3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2VydFN0cmluZyk7XG5cbnZhciBfbWVyZ2UgPSByZXF1aXJlKCcuL3V0aWwvbWVyZ2UnKTtcblxudmFyIF9tZXJnZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tZXJnZSk7XG5cbnZhciBfaXNCeXRlTGVuZ3RoID0gcmVxdWlyZSgnLi9pc0J5dGVMZW5ndGgnKTtcblxudmFyIF9pc0J5dGVMZW5ndGgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNCeXRlTGVuZ3RoKTtcblxudmFyIF9pc0ZRRE4gPSByZXF1aXJlKCcuL2lzRlFETicpO1xuXG52YXIgX2lzRlFETjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc0ZRRE4pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgZGVmYXVsdF9lbWFpbF9vcHRpb25zID0ge1xuICBhbGxvd19kaXNwbGF5X25hbWU6IGZhbHNlLFxuICByZXF1aXJlX2Rpc3BsYXlfbmFtZTogZmFsc2UsXG4gIGFsbG93X3V0ZjhfbG9jYWxfcGFydDogdHJ1ZSxcbiAgcmVxdWlyZV90bGQ6IHRydWVcbn07XG5cbi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnRyb2wtcmVnZXggKi9cbnZhciBkaXNwbGF5TmFtZSA9IC9eW2EtelxcZCEjXFwkJSYnXFwqXFwrXFwtXFwvPVxcP1xcXl9ge1xcfH1+XFwuXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXStbYS16XFxkISNcXCQlJidcXCpcXCtcXC1cXC89XFw/XFxeX2B7XFx8fX5cXC5cXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZcXHNdKjwoLispPiQvaTtcbnZhciBlbWFpbFVzZXJQYXJ0ID0gL15bYS16XFxkISNcXCQlJidcXCpcXCtcXC1cXC89XFw/XFxeX2B7XFx8fX5dKyQvaTtcbnZhciBxdW90ZWRFbWFpbFVzZXIgPSAvXihbXFxzXFx4MDEtXFx4MDhcXHgwYlxceDBjXFx4MGUtXFx4MWZcXHg3ZlxceDIxXFx4MjMtXFx4NWJcXHg1ZC1cXHg3ZV18KFxcXFxbXFx4MDEtXFx4MDlcXHgwYlxceDBjXFx4MGQtXFx4N2ZdKSkqJC9pO1xudmFyIGVtYWlsVXNlclV0ZjhQYXJ0ID0gL15bYS16XFxkISNcXCQlJidcXCpcXCtcXC1cXC89XFw/XFxeX2B7XFx8fX5cXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKyQvaTtcbnZhciBxdW90ZWRFbWFpbFVzZXJVdGY4ID0gL14oW1xcc1xceDAxLVxceDA4XFx4MGJcXHgwY1xceDBlLVxceDFmXFx4N2ZcXHgyMVxceDIzLVxceDViXFx4NWQtXFx4N2VcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdfChcXFxcW1xceDAxLVxceDA5XFx4MGJcXHgwY1xceDBkLVxceDdmXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKiQvaTtcbi8qIGVzbGludC1lbmFibGUgbWF4LWxlbiAqL1xuLyogZXNsaW50LWVuYWJsZSBuby1jb250cm9sLXJlZ2V4ICovXG5cbmZ1bmN0aW9uIGlzRW1haWwoc3RyLCBvcHRpb25zKSB7XG4gICgwLCBfYXNzZXJ0U3RyaW5nMi5kZWZhdWx0KShzdHIpO1xuICBvcHRpb25zID0gKDAsIF9tZXJnZTIuZGVmYXVsdCkob3B0aW9ucywgZGVmYXVsdF9lbWFpbF9vcHRpb25zKTtcblxuICBpZiAob3B0aW9ucy5yZXF1aXJlX2Rpc3BsYXlfbmFtZSB8fCBvcHRpb25zLmFsbG93X2Rpc3BsYXlfbmFtZSkge1xuICAgIHZhciBkaXNwbGF5X2VtYWlsID0gc3RyLm1hdGNoKGRpc3BsYXlOYW1lKTtcbiAgICBpZiAoZGlzcGxheV9lbWFpbCkge1xuICAgICAgc3RyID0gZGlzcGxheV9lbWFpbFsxXTtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMucmVxdWlyZV9kaXNwbGF5X25hbWUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICB2YXIgcGFydHMgPSBzdHIuc3BsaXQoJ0AnKTtcbiAgdmFyIGRvbWFpbiA9IHBhcnRzLnBvcCgpO1xuICB2YXIgdXNlciA9IHBhcnRzLmpvaW4oJ0AnKTtcblxuICB2YXIgbG93ZXJfZG9tYWluID0gZG9tYWluLnRvTG93ZXJDYXNlKCk7XG4gIGlmIChsb3dlcl9kb21haW4gPT09ICdnbWFpbC5jb20nIHx8IGxvd2VyX2RvbWFpbiA9PT0gJ2dvb2dsZW1haWwuY29tJykge1xuICAgIHVzZXIgPSB1c2VyLnJlcGxhY2UoL1xcLi9nLCAnJykudG9Mb3dlckNhc2UoKTtcbiAgfVxuXG4gIGlmICghKDAsIF9pc0J5dGVMZW5ndGgyLmRlZmF1bHQpKHVzZXIsIHsgbWF4OiA2NCB9KSB8fCAhKDAsIF9pc0J5dGVMZW5ndGgyLmRlZmF1bHQpKGRvbWFpbiwgeyBtYXg6IDI1NiB9KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICghKDAsIF9pc0ZRRE4yLmRlZmF1bHQpKGRvbWFpbiwgeyByZXF1aXJlX3RsZDogb3B0aW9ucy5yZXF1aXJlX3RsZCB9KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICh1c2VyWzBdID09PSAnXCInKSB7XG4gICAgdXNlciA9IHVzZXIuc2xpY2UoMSwgdXNlci5sZW5ndGggLSAxKTtcbiAgICByZXR1cm4gb3B0aW9ucy5hbGxvd191dGY4X2xvY2FsX3BhcnQgPyBxdW90ZWRFbWFpbFVzZXJVdGY4LnRlc3QodXNlcikgOiBxdW90ZWRFbWFpbFVzZXIudGVzdCh1c2VyKTtcbiAgfVxuXG4gIHZhciBwYXR0ZXJuID0gb3B0aW9ucy5hbGxvd191dGY4X2xvY2FsX3BhcnQgPyBlbWFpbFVzZXJVdGY4UGFydCA6IGVtYWlsVXNlclBhcnQ7XG5cbiAgdmFyIHVzZXJfcGFydHMgPSB1c2VyLnNwbGl0KCcuJyk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdXNlcl9wYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIGlmICghcGF0dGVybi50ZXN0KHVzZXJfcGFydHNbaV0pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBpc0VtcHR5O1xuXG52YXIgX2Fzc2VydFN0cmluZyA9IHJlcXVpcmUoJy4vdXRpbC9hc3NlcnRTdHJpbmcnKTtcblxudmFyIF9hc3NlcnRTdHJpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXNzZXJ0U3RyaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gaXNFbXB0eShzdHIpIHtcbiAgKDAsIF9hc3NlcnRTdHJpbmcyLmRlZmF1bHQpKHN0cik7XG4gIHJldHVybiBzdHIubGVuZ3RoID09PSAwO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gaXNGRFFOO1xuXG52YXIgX2Fzc2VydFN0cmluZyA9IHJlcXVpcmUoJy4vdXRpbC9hc3NlcnRTdHJpbmcnKTtcblxudmFyIF9hc3NlcnRTdHJpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXNzZXJ0U3RyaW5nKTtcblxudmFyIF9tZXJnZSA9IHJlcXVpcmUoJy4vdXRpbC9tZXJnZScpO1xuXG52YXIgX21lcmdlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21lcmdlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGRlZmF1bHRfZnFkbl9vcHRpb25zID0ge1xuICByZXF1aXJlX3RsZDogdHJ1ZSxcbiAgYWxsb3dfdW5kZXJzY29yZXM6IGZhbHNlLFxuICBhbGxvd190cmFpbGluZ19kb3Q6IGZhbHNlXG59O1xuXG5mdW5jdGlvbiBpc0ZEUU4oc3RyLCBvcHRpb25zKSB7XG4gICgwLCBfYXNzZXJ0U3RyaW5nMi5kZWZhdWx0KShzdHIpO1xuICBvcHRpb25zID0gKDAsIF9tZXJnZTIuZGVmYXVsdCkob3B0aW9ucywgZGVmYXVsdF9mcWRuX29wdGlvbnMpO1xuXG4gIC8qIFJlbW92ZSB0aGUgb3B0aW9uYWwgdHJhaWxpbmcgZG90IGJlZm9yZSBjaGVja2luZyB2YWxpZGl0eSAqL1xuICBpZiAob3B0aW9ucy5hbGxvd190cmFpbGluZ19kb3QgJiYgc3RyW3N0ci5sZW5ndGggLSAxXSA9PT0gJy4nKSB7XG4gICAgc3RyID0gc3RyLnN1YnN0cmluZygwLCBzdHIubGVuZ3RoIC0gMSk7XG4gIH1cbiAgdmFyIHBhcnRzID0gc3RyLnNwbGl0KCcuJyk7XG4gIGlmIChvcHRpb25zLnJlcXVpcmVfdGxkKSB7XG4gICAgdmFyIHRsZCA9IHBhcnRzLnBvcCgpO1xuICAgIGlmICghcGFydHMubGVuZ3RoIHx8ICEvXihbYS16XFx1MDBhMS1cXHVmZmZmXXsyLH18eG5bYS16MC05LV17Mix9KSQvaS50ZXN0KHRsZCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgZm9yICh2YXIgcGFydCwgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIHBhcnQgPSBwYXJ0c1tpXTtcbiAgICBpZiAob3B0aW9ucy5hbGxvd191bmRlcnNjb3Jlcykge1xuICAgICAgcGFydCA9IHBhcnQucmVwbGFjZSgvXy9nLCAnJyk7XG4gICAgfVxuICAgIGlmICghL15bYS16XFx1MDBhMS1cXHVmZmZmMC05LV0rJC9pLnRlc3QocGFydCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKC9bXFx1ZmYwMS1cXHVmZjVlXS8udGVzdChwYXJ0KSkge1xuICAgICAgLy8gZGlzYWxsb3cgZnVsbC13aWR0aCBjaGFyc1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAocGFydFswXSA9PT0gJy0nIHx8IHBhcnRbcGFydC5sZW5ndGggLSAxXSA9PT0gJy0nKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gaXNGbG9hdDtcblxudmFyIF9hc3NlcnRTdHJpbmcgPSByZXF1aXJlKCcuL3V0aWwvYXNzZXJ0U3RyaW5nJyk7XG5cbnZhciBfYXNzZXJ0U3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2VydFN0cmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBmbG9hdCA9IC9eKD86Wy0rXSk/KD86WzAtOV0rKT8oPzpcXC5bMC05XSopPyg/OltlRV1bXFwrXFwtXT8oPzpbMC05XSspKT8kLztcblxuZnVuY3Rpb24gaXNGbG9hdChzdHIsIG9wdGlvbnMpIHtcbiAgKDAsIF9hc3NlcnRTdHJpbmcyLmRlZmF1bHQpKHN0cik7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBpZiAoc3RyID09PSAnJyB8fCBzdHIgPT09ICcuJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gZmxvYXQudGVzdChzdHIpICYmICghb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnbWluJykgfHwgc3RyID49IG9wdGlvbnMubWluKSAmJiAoIW9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ21heCcpIHx8IHN0ciA8PSBvcHRpb25zLm1heCkgJiYgKCFvcHRpb25zLmhhc093blByb3BlcnR5KCdsdCcpIHx8IHN0ciA8IG9wdGlvbnMubHQpICYmICghb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnZ3QnKSB8fCBzdHIgPiBvcHRpb25zLmd0KTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZnVsbFdpZHRoID0gdW5kZWZpbmVkO1xuZXhwb3J0cy5kZWZhdWx0ID0gaXNGdWxsV2lkdGg7XG5cbnZhciBfYXNzZXJ0U3RyaW5nID0gcmVxdWlyZSgnLi91dGlsL2Fzc2VydFN0cmluZycpO1xuXG52YXIgX2Fzc2VydFN0cmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hc3NlcnRTdHJpbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgZnVsbFdpZHRoID0gZXhwb3J0cy5mdWxsV2lkdGggPSAvW15cXHUwMDIwLVxcdTAwN0VcXHVGRjYxLVxcdUZGOUZcXHVGRkEwLVxcdUZGRENcXHVGRkU4LVxcdUZGRUUwLTlhLXpBLVpdLztcblxuZnVuY3Rpb24gaXNGdWxsV2lkdGgoc3RyKSB7XG4gICgwLCBfYXNzZXJ0U3RyaW5nMi5kZWZhdWx0KShzdHIpO1xuICByZXR1cm4gZnVsbFdpZHRoLnRlc3Qoc3RyKTtcbn0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmhhbGZXaWR0aCA9IHVuZGVmaW5lZDtcbmV4cG9ydHMuZGVmYXVsdCA9IGlzSGFsZldpZHRoO1xuXG52YXIgX2Fzc2VydFN0cmluZyA9IHJlcXVpcmUoJy4vdXRpbC9hc3NlcnRTdHJpbmcnKTtcblxudmFyIF9hc3NlcnRTdHJpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXNzZXJ0U3RyaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGhhbGZXaWR0aCA9IGV4cG9ydHMuaGFsZldpZHRoID0gL1tcXHUwMDIwLVxcdTAwN0VcXHVGRjYxLVxcdUZGOUZcXHVGRkEwLVxcdUZGRENcXHVGRkU4LVxcdUZGRUUwLTlhLXpBLVpdLztcblxuZnVuY3Rpb24gaXNIYWxmV2lkdGgoc3RyKSB7XG4gICgwLCBfYXNzZXJ0U3RyaW5nMi5kZWZhdWx0KShzdHIpO1xuICByZXR1cm4gaGFsZldpZHRoLnRlc3Qoc3RyKTtcbn0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBpc0hleENvbG9yO1xuXG52YXIgX2Fzc2VydFN0cmluZyA9IHJlcXVpcmUoJy4vdXRpbC9hc3NlcnRTdHJpbmcnKTtcblxudmFyIF9hc3NlcnRTdHJpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXNzZXJ0U3RyaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGhleGNvbG9yID0gL14jPyhbMC05QS1GXXszfXxbMC05QS1GXXs2fSkkL2k7XG5cbmZ1bmN0aW9uIGlzSGV4Q29sb3Ioc3RyKSB7XG4gICgwLCBfYXNzZXJ0U3RyaW5nMi5kZWZhdWx0KShzdHIpO1xuICByZXR1cm4gaGV4Y29sb3IudGVzdChzdHIpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gaXNIZXhhZGVjaW1hbDtcblxudmFyIF9hc3NlcnRTdHJpbmcgPSByZXF1aXJlKCcuL3V0aWwvYXNzZXJ0U3RyaW5nJyk7XG5cbnZhciBfYXNzZXJ0U3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2VydFN0cmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBoZXhhZGVjaW1hbCA9IC9eWzAtOUEtRl0rJC9pO1xuXG5mdW5jdGlvbiBpc0hleGFkZWNpbWFsKHN0cikge1xuICAoMCwgX2Fzc2VydFN0cmluZzIuZGVmYXVsdCkoc3RyKTtcbiAgcmV0dXJuIGhleGFkZWNpbWFsLnRlc3Qoc3RyKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGlzSVA7XG5cbnZhciBfYXNzZXJ0U3RyaW5nID0gcmVxdWlyZSgnLi91dGlsL2Fzc2VydFN0cmluZycpO1xuXG52YXIgX2Fzc2VydFN0cmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hc3NlcnRTdHJpbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgaXB2NE1heWJlID0gL14oXFxkezEsM30pXFwuKFxcZHsxLDN9KVxcLihcXGR7MSwzfSlcXC4oXFxkezEsM30pJC87XG52YXIgaXB2NkJsb2NrID0gL15bMC05QS1GXXsxLDR9JC9pO1xuXG5mdW5jdGlvbiBpc0lQKHN0cikge1xuICB2YXIgdmVyc2lvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJyc7XG5cbiAgKDAsIF9hc3NlcnRTdHJpbmcyLmRlZmF1bHQpKHN0cik7XG4gIHZlcnNpb24gPSBTdHJpbmcodmVyc2lvbik7XG4gIGlmICghdmVyc2lvbikge1xuICAgIHJldHVybiBpc0lQKHN0ciwgNCkgfHwgaXNJUChzdHIsIDYpO1xuICB9IGVsc2UgaWYgKHZlcnNpb24gPT09ICc0Jykge1xuICAgIGlmICghaXB2NE1heWJlLnRlc3Qoc3RyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgcGFydHMgPSBzdHIuc3BsaXQoJy4nKS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gYSAtIGI7XG4gICAgfSk7XG4gICAgcmV0dXJuIHBhcnRzWzNdIDw9IDI1NTtcbiAgfSBlbHNlIGlmICh2ZXJzaW9uID09PSAnNicpIHtcbiAgICB2YXIgYmxvY2tzID0gc3RyLnNwbGl0KCc6Jyk7XG4gICAgdmFyIGZvdW5kT21pc3Npb25CbG9jayA9IGZhbHNlOyAvLyBtYXJrZXIgdG8gaW5kaWNhdGUgOjpcblxuICAgIC8vIEF0IGxlYXN0IHNvbWUgT1MgYWNjZXB0IHRoZSBsYXN0IDMyIGJpdHMgb2YgYW4gSVB2NiBhZGRyZXNzXG4gICAgLy8gKGkuZS4gMiBvZiB0aGUgYmxvY2tzKSBpbiBJUHY0IG5vdGF0aW9uLCBhbmQgUkZDIDM0OTMgc2F5c1xuICAgIC8vIHRoYXQgJzo6ZmZmZjphLmIuYy5kJyBpcyB2YWxpZCBmb3IgSVB2NC1tYXBwZWQgSVB2NiBhZGRyZXNzZXMsXG4gICAgLy8gYW5kICc6OmEuYi5jLmQnIGlzIGRlcHJlY2F0ZWQsIGJ1dCBhbHNvIHZhbGlkLlxuICAgIHZhciBmb3VuZElQdjRUcmFuc2l0aW9uQmxvY2sgPSBpc0lQKGJsb2Nrc1tibG9ja3MubGVuZ3RoIC0gMV0sIDQpO1xuICAgIHZhciBleHBlY3RlZE51bWJlck9mQmxvY2tzID0gZm91bmRJUHY0VHJhbnNpdGlvbkJsb2NrID8gNyA6IDg7XG5cbiAgICBpZiAoYmxvY2tzLmxlbmd0aCA+IGV4cGVjdGVkTnVtYmVyT2ZCbG9ja3MpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gaW5pdGlhbCBvciBmaW5hbCA6OlxuICAgIGlmIChzdHIgPT09ICc6OicpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoc3RyLnN1YnN0cigwLCAyKSA9PT0gJzo6Jykge1xuICAgICAgYmxvY2tzLnNoaWZ0KCk7XG4gICAgICBibG9ja3Muc2hpZnQoKTtcbiAgICAgIGZvdW5kT21pc3Npb25CbG9jayA9IHRydWU7XG4gICAgfSBlbHNlIGlmIChzdHIuc3Vic3RyKHN0ci5sZW5ndGggLSAyKSA9PT0gJzo6Jykge1xuICAgICAgYmxvY2tzLnBvcCgpO1xuICAgICAgYmxvY2tzLnBvcCgpO1xuICAgICAgZm91bmRPbWlzc2lvbkJsb2NrID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJsb2Nrcy5sZW5ndGg7ICsraSkge1xuICAgICAgLy8gdGVzdCBmb3IgYSA6OiB3aGljaCBjYW4gbm90IGJlIGF0IHRoZSBzdHJpbmcgc3RhcnQvZW5kXG4gICAgICAvLyBzaW5jZSB0aG9zZSBjYXNlcyBoYXZlIGJlZW4gaGFuZGxlZCBhYm92ZVxuICAgICAgaWYgKGJsb2Nrc1tpXSA9PT0gJycgJiYgaSA+IDAgJiYgaSA8IGJsb2Nrcy5sZW5ndGggLSAxKSB7XG4gICAgICAgIGlmIChmb3VuZE9taXNzaW9uQmxvY2spIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIG11bHRpcGxlIDo6IGluIGFkZHJlc3NcbiAgICAgICAgfVxuICAgICAgICBmb3VuZE9taXNzaW9uQmxvY2sgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChmb3VuZElQdjRUcmFuc2l0aW9uQmxvY2sgJiYgaSA9PT0gYmxvY2tzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgLy8gaXQgaGFzIGJlZW4gY2hlY2tlZCBiZWZvcmUgdGhhdCB0aGUgbGFzdFxuICAgICAgICAvLyBibG9jayBpcyBhIHZhbGlkIElQdjQgYWRkcmVzc1xuICAgICAgfSBlbHNlIGlmICghaXB2NkJsb2NrLnRlc3QoYmxvY2tzW2ldKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChmb3VuZE9taXNzaW9uQmxvY2spIHtcbiAgICAgIHJldHVybiBibG9ja3MubGVuZ3RoID49IDE7XG4gICAgfVxuICAgIHJldHVybiBibG9ja3MubGVuZ3RoID09PSBleHBlY3RlZE51bWJlck9mQmxvY2tzO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGlzSVNCTjtcblxudmFyIF9hc3NlcnRTdHJpbmcgPSByZXF1aXJlKCcuL3V0aWwvYXNzZXJ0U3RyaW5nJyk7XG5cbnZhciBfYXNzZXJ0U3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2VydFN0cmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBpc2JuMTBNYXliZSA9IC9eKD86WzAtOV17OX1YfFswLTldezEwfSkkLztcbnZhciBpc2JuMTNNYXliZSA9IC9eKD86WzAtOV17MTN9KSQvO1xudmFyIGZhY3RvciA9IFsxLCAzXTtcblxuZnVuY3Rpb24gaXNJU0JOKHN0cikge1xuICB2YXIgdmVyc2lvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJyc7XG5cbiAgKDAsIF9hc3NlcnRTdHJpbmcyLmRlZmF1bHQpKHN0cik7XG4gIHZlcnNpb24gPSBTdHJpbmcodmVyc2lvbik7XG4gIGlmICghdmVyc2lvbikge1xuICAgIHJldHVybiBpc0lTQk4oc3RyLCAxMCkgfHwgaXNJU0JOKHN0ciwgMTMpO1xuICB9XG4gIHZhciBzYW5pdGl6ZWQgPSBzdHIucmVwbGFjZSgvW1xccy1dKy9nLCAnJyk7XG4gIHZhciBjaGVja3N1bSA9IDA7XG4gIHZhciBpID0gdm9pZCAwO1xuICBpZiAodmVyc2lvbiA9PT0gJzEwJykge1xuICAgIGlmICghaXNibjEwTWF5YmUudGVzdChzYW5pdGl6ZWQpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAoaSA9IDA7IGkgPCA5OyBpKyspIHtcbiAgICAgIGNoZWNrc3VtICs9IChpICsgMSkgKiBzYW5pdGl6ZWQuY2hhckF0KGkpO1xuICAgIH1cbiAgICBpZiAoc2FuaXRpemVkLmNoYXJBdCg5KSA9PT0gJ1gnKSB7XG4gICAgICBjaGVja3N1bSArPSAxMCAqIDEwO1xuICAgIH0gZWxzZSB7XG4gICAgICBjaGVja3N1bSArPSAxMCAqIHNhbml0aXplZC5jaGFyQXQoOSk7XG4gICAgfVxuICAgIGlmIChjaGVja3N1bSAlIDExID09PSAwKSB7XG4gICAgICByZXR1cm4gISFzYW5pdGl6ZWQ7XG4gICAgfVxuICB9IGVsc2UgaWYgKHZlcnNpb24gPT09ICcxMycpIHtcbiAgICBpZiAoIWlzYm4xM01heWJlLnRlc3Qoc2FuaXRpemVkKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgY2hlY2tzdW0gKz0gZmFjdG9yW2kgJSAyXSAqIHNhbml0aXplZC5jaGFyQXQoaSk7XG4gICAgfVxuICAgIGlmIChzYW5pdGl6ZWQuY2hhckF0KDEyKSAtICgxMCAtIGNoZWNrc3VtICUgMTApICUgMTAgPT09IDApIHtcbiAgICAgIHJldHVybiAhIXNhbml0aXplZDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gaXNJU0lOO1xuXG52YXIgX2Fzc2VydFN0cmluZyA9IHJlcXVpcmUoJy4vdXRpbC9hc3NlcnRTdHJpbmcnKTtcblxudmFyIF9hc3NlcnRTdHJpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXNzZXJ0U3RyaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGlzaW4gPSAvXltBLVpdezJ9WzAtOUEtWl17OX1bMC05XSQvO1xuXG5mdW5jdGlvbiBpc0lTSU4oc3RyKSB7XG4gICgwLCBfYXNzZXJ0U3RyaW5nMi5kZWZhdWx0KShzdHIpO1xuICBpZiAoIWlzaW4udGVzdChzdHIpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGNoZWNrc3VtU3RyID0gc3RyLnJlcGxhY2UoL1tBLVpdL2csIGZ1bmN0aW9uIChjaGFyYWN0ZXIpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQoY2hhcmFjdGVyLCAzNik7XG4gIH0pO1xuXG4gIHZhciBzdW0gPSAwO1xuICB2YXIgZGlnaXQgPSB2b2lkIDA7XG4gIHZhciB0bXBOdW0gPSB2b2lkIDA7XG4gIHZhciBzaG91bGREb3VibGUgPSB0cnVlO1xuICBmb3IgKHZhciBpID0gY2hlY2tzdW1TdHIubGVuZ3RoIC0gMjsgaSA+PSAwOyBpLS0pIHtcbiAgICBkaWdpdCA9IGNoZWNrc3VtU3RyLnN1YnN0cmluZyhpLCBpICsgMSk7XG4gICAgdG1wTnVtID0gcGFyc2VJbnQoZGlnaXQsIDEwKTtcbiAgICBpZiAoc2hvdWxkRG91YmxlKSB7XG4gICAgICB0bXBOdW0gKj0gMjtcbiAgICAgIGlmICh0bXBOdW0gPj0gMTApIHtcbiAgICAgICAgc3VtICs9IHRtcE51bSArIDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdW0gKz0gdG1wTnVtO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzdW0gKz0gdG1wTnVtO1xuICAgIH1cbiAgICBzaG91bGREb3VibGUgPSAhc2hvdWxkRG91YmxlO1xuICB9XG5cbiAgcmV0dXJuIHBhcnNlSW50KHN0ci5zdWJzdHIoc3RyLmxlbmd0aCAtIDEpLCAxMCkgPT09ICgxMDAwMCAtIHN1bSkgJSAxMDtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuaXNvODYwMSA9IHVuZGVmaW5lZDtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHN0cikge1xuICAoMCwgX2Fzc2VydFN0cmluZzIuZGVmYXVsdCkoc3RyKTtcbiAgcmV0dXJuIGlzbzg2MDEudGVzdChzdHIpO1xufTtcblxudmFyIF9hc3NlcnRTdHJpbmcgPSByZXF1aXJlKCcuL3V0aWwvYXNzZXJ0U3RyaW5nJyk7XG5cbnZhciBfYXNzZXJ0U3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2VydFN0cmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbi8vIGZyb20gaHR0cDovL2dvby5nbC8wZWpISFdcbnZhciBpc284NjAxID0gZXhwb3J0cy5pc284NjAxID0gL14oW1xcKy1dP1xcZHs0fSg/IVxcZHsyfVxcYikpKCgtPykoKDBbMS05XXwxWzAtMl0pKFxcMyhbMTJdXFxkfDBbMS05XXwzWzAxXSkpP3xXKFswLTRdXFxkfDVbMC0yXSkoLT9bMS03XSk/fCgwMFsxLTldfDBbMS05XVxcZHxbMTJdXFxkezJ9fDMoWzAtNV1cXGR8NlsxLTZdKSkpKFtUXFxzXSgoKFswMV1cXGR8MlswLTNdKSgoOj8pWzAtNV1cXGQpP3wyNDo/MDApKFtcXC4sXVxcZCsoPyE6KSk/KT8oXFwxN1swLTVdXFxkKFtcXC4sXVxcZCspPyk/KFt6Wl18KFtcXCstXSkoWzAxXVxcZHwyWzAtM10pOj8oWzAtNV1cXGQpPyk/KT8pPyQvO1xuLyogZXNsaW50LWVuYWJsZSBtYXgtbGVuICovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gaXNJU1NOO1xuXG52YXIgX2Fzc2VydFN0cmluZyA9IHJlcXVpcmUoJy4vdXRpbC9hc3NlcnRTdHJpbmcnKTtcblxudmFyIF9hc3NlcnRTdHJpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXNzZXJ0U3RyaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGlzc24gPSAnXlxcXFxkezR9LT9cXFxcZHszfVtcXFxcZFhdJCc7XG5cbmZ1bmN0aW9uIGlzSVNTTihzdHIpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gICgwLCBfYXNzZXJ0U3RyaW5nMi5kZWZhdWx0KShzdHIpO1xuICB2YXIgdGVzdElzc24gPSBpc3NuO1xuICB0ZXN0SXNzbiA9IG9wdGlvbnMucmVxdWlyZV9oeXBoZW4gPyB0ZXN0SXNzbi5yZXBsYWNlKCc/JywgJycpIDogdGVzdElzc247XG4gIHRlc3RJc3NuID0gb3B0aW9ucy5jYXNlX3NlbnNpdGl2ZSA/IG5ldyBSZWdFeHAodGVzdElzc24pIDogbmV3IFJlZ0V4cCh0ZXN0SXNzbiwgJ2knKTtcbiAgaWYgKCF0ZXN0SXNzbi50ZXN0KHN0cikpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGlzc25EaWdpdHMgPSBzdHIucmVwbGFjZSgnLScsICcnKTtcbiAgdmFyIHBvc2l0aW9uID0gODtcbiAgdmFyIGNoZWNrc3VtID0gMDtcbiAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gIHRyeSB7XG4gICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gaXNzbkRpZ2l0c1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgIHZhciBkaWdpdCA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICB2YXIgZGlnaXRWYWx1ZSA9IGRpZ2l0LnRvVXBwZXJDYXNlKCkgPT09ICdYJyA/IDEwIDogK2RpZ2l0O1xuICAgICAgY2hlY2tzdW0gKz0gZGlnaXRWYWx1ZSAqIHBvc2l0aW9uO1xuICAgICAgLS1wb3NpdGlvbjtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNoZWNrc3VtICUgMTEgPT09IDA7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gaXNJbjtcblxudmFyIF9hc3NlcnRTdHJpbmcgPSByZXF1aXJlKCcuL3V0aWwvYXNzZXJ0U3RyaW5nJyk7XG5cbnZhciBfYXNzZXJ0U3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2VydFN0cmluZyk7XG5cbnZhciBfdG9TdHJpbmcgPSByZXF1aXJlKCcuL3V0aWwvdG9TdHJpbmcnKTtcblxudmFyIF90b1N0cmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90b1N0cmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGlzSW4oc3RyLCBvcHRpb25zKSB7XG4gICgwLCBfYXNzZXJ0U3RyaW5nMi5kZWZhdWx0KShzdHIpO1xuICB2YXIgaSA9IHZvaWQgMDtcbiAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvcHRpb25zKSA9PT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgIHZhciBhcnJheSA9IFtdO1xuICAgIGZvciAoaSBpbiBvcHRpb25zKSB7XG4gICAgICBpZiAoe30uaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCBpKSkge1xuICAgICAgICBhcnJheVtpXSA9ICgwLCBfdG9TdHJpbmcyLmRlZmF1bHQpKG9wdGlvbnNbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXkuaW5kZXhPZihzdHIpID49IDA7XG4gIH0gZWxzZSBpZiAoKHR5cGVvZiBvcHRpb25zID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihvcHRpb25zKSkgPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMuaGFzT3duUHJvcGVydHkoc3RyKTtcbiAgfSBlbHNlIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLmluZGV4T2YgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gb3B0aW9ucy5pbmRleE9mKHN0cikgPj0gMDtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBpc0ludDtcblxudmFyIF9hc3NlcnRTdHJpbmcgPSByZXF1aXJlKCcuL3V0aWwvYXNzZXJ0U3RyaW5nJyk7XG5cbnZhciBfYXNzZXJ0U3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2VydFN0cmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBpbnQgPSAvXig/OlstK10/KD86MHxbMS05XVswLTldKikpJC87XG52YXIgaW50TGVhZGluZ1plcm9lcyA9IC9eWy0rXT9bMC05XSskLztcblxuZnVuY3Rpb24gaXNJbnQoc3RyLCBvcHRpb25zKSB7XG4gICgwLCBfYXNzZXJ0U3RyaW5nMi5kZWZhdWx0KShzdHIpO1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAvLyBHZXQgdGhlIHJlZ2V4IHRvIHVzZSBmb3IgdGVzdGluZywgYmFzZWQgb24gd2hldGhlclxuICAvLyBsZWFkaW5nIHplcm9lcyBhcmUgYWxsb3dlZCBvciBub3QuXG4gIHZhciByZWdleCA9IG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2FsbG93X2xlYWRpbmdfemVyb2VzJykgJiYgIW9wdGlvbnMuYWxsb3dfbGVhZGluZ196ZXJvZXMgPyBpbnQgOiBpbnRMZWFkaW5nWmVyb2VzO1xuXG4gIC8vIENoZWNrIG1pbi9tYXgvbHQvZ3RcbiAgdmFyIG1pbkNoZWNrUGFzc2VkID0gIW9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ21pbicpIHx8IHN0ciA+PSBvcHRpb25zLm1pbjtcbiAgdmFyIG1heENoZWNrUGFzc2VkID0gIW9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ21heCcpIHx8IHN0ciA8PSBvcHRpb25zLm1heDtcbiAgdmFyIGx0Q2hlY2tQYXNzZWQgPSAhb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnbHQnKSB8fCBzdHIgPCBvcHRpb25zLmx0O1xuICB2YXIgZ3RDaGVja1Bhc3NlZCA9ICFvcHRpb25zLmhhc093blByb3BlcnR5KCdndCcpIHx8IHN0ciA+IG9wdGlvbnMuZ3Q7XG5cbiAgcmV0dXJuIHJlZ2V4LnRlc3Qoc3RyKSAmJiBtaW5DaGVja1Bhc3NlZCAmJiBtYXhDaGVja1Bhc3NlZCAmJiBsdENoZWNrUGFzc2VkICYmIGd0Q2hlY2tQYXNzZWQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gaXNKU09OO1xuXG52YXIgX2Fzc2VydFN0cmluZyA9IHJlcXVpcmUoJy4vdXRpbC9hc3NlcnRTdHJpbmcnKTtcblxudmFyIF9hc3NlcnRTdHJpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXNzZXJ0U3RyaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gaXNKU09OKHN0cikge1xuICAoMCwgX2Fzc2VydFN0cmluZzIuZGVmYXVsdCkoc3RyKTtcbiAgdHJ5IHtcbiAgICB2YXIgb2JqID0gSlNPTi5wYXJzZShzdHIpO1xuICAgIHJldHVybiAhIW9iaiAmJiAodHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2Yob2JqKSkgPT09ICdvYmplY3QnO1xuICB9IGNhdGNoIChlKSB7LyogaWdub3JlICovfVxuICByZXR1cm4gZmFsc2U7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gaXNMZW5ndGg7XG5cbnZhciBfYXNzZXJ0U3RyaW5nID0gcmVxdWlyZSgnLi91dGlsL2Fzc2VydFN0cmluZycpO1xuXG52YXIgX2Fzc2VydFN0cmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hc3NlcnRTdHJpbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItcmVzdC1wYXJhbXMgKi9cbmZ1bmN0aW9uIGlzTGVuZ3RoKHN0ciwgb3B0aW9ucykge1xuICAoMCwgX2Fzc2VydFN0cmluZzIuZGVmYXVsdCkoc3RyKTtcbiAgdmFyIG1pbiA9IHZvaWQgMDtcbiAgdmFyIG1heCA9IHZvaWQgMDtcbiAgaWYgKCh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2Yob3B0aW9ucykpID09PSAnb2JqZWN0Jykge1xuICAgIG1pbiA9IG9wdGlvbnMubWluIHx8IDA7XG4gICAgbWF4ID0gb3B0aW9ucy5tYXg7XG4gIH0gZWxzZSB7XG4gICAgLy8gYmFja3dhcmRzIGNvbXBhdGliaWxpdHk6IGlzTGVuZ3RoKHN0ciwgbWluIFssIG1heF0pXG4gICAgbWluID0gYXJndW1lbnRzWzFdO1xuICAgIG1heCA9IGFyZ3VtZW50c1syXTtcbiAgfVxuICB2YXIgc3Vycm9nYXRlUGFpcnMgPSBzdHIubWF0Y2goL1tcXHVEODAwLVxcdURCRkZdW1xcdURDMDAtXFx1REZGRl0vZykgfHwgW107XG4gIHZhciBsZW4gPSBzdHIubGVuZ3RoIC0gc3Vycm9nYXRlUGFpcnMubGVuZ3RoO1xuICByZXR1cm4gbGVuID49IG1pbiAmJiAodHlwZW9mIG1heCA9PT0gJ3VuZGVmaW5lZCcgfHwgbGVuIDw9IG1heCk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBpc0xvd2VyY2FzZTtcblxudmFyIF9hc3NlcnRTdHJpbmcgPSByZXF1aXJlKCcuL3V0aWwvYXNzZXJ0U3RyaW5nJyk7XG5cbnZhciBfYXNzZXJ0U3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2VydFN0cmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGlzTG93ZXJjYXNlKHN0cikge1xuICAoMCwgX2Fzc2VydFN0cmluZzIuZGVmYXVsdCkoc3RyKTtcbiAgcmV0dXJuIHN0ciA9PT0gc3RyLnRvTG93ZXJDYXNlKCk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBpc01BQ0FkZHJlc3M7XG5cbnZhciBfYXNzZXJ0U3RyaW5nID0gcmVxdWlyZSgnLi91dGlsL2Fzc2VydFN0cmluZycpO1xuXG52YXIgX2Fzc2VydFN0cmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hc3NlcnRTdHJpbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgbWFjQWRkcmVzcyA9IC9eKFswLTlhLWZBLUZdWzAtOWEtZkEtRl06KXs1fShbMC05YS1mQS1GXVswLTlhLWZBLUZdKSQvO1xuXG5mdW5jdGlvbiBpc01BQ0FkZHJlc3Moc3RyKSB7XG4gICgwLCBfYXNzZXJ0U3RyaW5nMi5kZWZhdWx0KShzdHIpO1xuICByZXR1cm4gbWFjQWRkcmVzcy50ZXN0KHN0cik7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBpc01ENTtcblxudmFyIF9hc3NlcnRTdHJpbmcgPSByZXF1aXJlKCcuL3V0aWwvYXNzZXJ0U3RyaW5nJyk7XG5cbnZhciBfYXNzZXJ0U3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2VydFN0cmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBtZDUgPSAvXlthLWYwLTldezMyfSQvO1xuXG5mdW5jdGlvbiBpc01ENShzdHIpIHtcbiAgKDAsIF9hc3NlcnRTdHJpbmcyLmRlZmF1bHQpKHN0cik7XG4gIHJldHVybiBtZDUudGVzdChzdHIpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gaXNNb2JpbGVQaG9uZTtcblxudmFyIF9hc3NlcnRTdHJpbmcgPSByZXF1aXJlKCcuL3V0aWwvYXNzZXJ0U3RyaW5nJyk7XG5cbnZhciBfYXNzZXJ0U3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2VydFN0cmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbnZhciBwaG9uZXMgPSB7XG4gICdhci1EWic6IC9eKFxcKz8yMTN8MCkoNXw2fDcpXFxkezh9JC8sXG4gICdhci1TWSc6IC9eKCE/KFxcKz85NjMpfDApPzlcXGR7OH0kLyxcbiAgJ2FyLVNBJzogL14oIT8oXFwrPzk2Nil8MCk/NVxcZHs4fSQvLFxuICAnZW4tVVMnOiAvXihcXCs/MSk/WzItOV1cXGR7Mn1bMi05XSg/ITExKVxcZHs2fSQvLFxuICAnY3MtQ1onOiAvXihcXCs/NDIwKT8gP1sxLTldWzAtOV17Mn0gP1swLTldezN9ID9bMC05XXszfSQvLFxuICAnZGUtREUnOiAvXihcXCs/NDlbIFxcLlxcLV0pPyhbXFwoXXsxfVswLTldezEsNn1bXFwpXSk/KFswLTkgXFwuXFwtXFwvXXszLDIwfSkoKHh8ZXh0fGV4dGVuc2lvbilbIF0/WzAtOV17MSw0fSk/JC8sXG4gICdkYS1ESyc6IC9eKFxcKz80NSk/KFxcZHs4fSkkLyxcbiAgJ2VsLUdSJzogL14oXFwrPzMwKT8oNjlcXGR7OH0pJC8sXG4gICdlbi1BVSc6IC9eKFxcKz82MXwwKTRcXGR7OH0kLyxcbiAgJ2VuLUdCJzogL14oXFwrPzQ0fDApN1xcZHs5fSQvLFxuICAnZW4tSEsnOiAvXihcXCs/ODUyXFwtPyk/WzU2OV1cXGR7M31cXC0/XFxkezR9JC8sXG4gICdlbi1JTic6IC9eKFxcKz85MXwwKT9bNzg5XVxcZHs5fSQvLFxuICAnZW4tTkcnOiAvXihcXCs/MjM0fDApP1s3ODldXFxkezl9JC8sXG4gICdlbi1OWic6IC9eKFxcKz82NHwwKTJcXGR7Nyw5fSQvLFxuICAnZW4tWkEnOiAvXihcXCs/Mjd8MClcXGR7OX0kLyxcbiAgJ2VuLVpNJzogL14oXFwrPzI2KT8wOVs1NjddXFxkezd9JC8sXG4gICdlcy1FUyc6IC9eKFxcKz8zNCk/KDZcXGR7MX18N1sxMjM0XSlcXGR7N30kLyxcbiAgJ2ZpLUZJJzogL14oXFwrPzM1OHwwKVxccz8oNCgwfDF8Mnw0fDUpP3w1MClcXHM/KFxcZFxccz8pezQsOH1cXGQkLyxcbiAgJ2ZyLUZSJzogL14oXFwrPzMzfDApWzY3XVxcZHs4fSQvLFxuICAnaGUtSUwnOiAvXihcXCs5NzJ8MCkoWzIzNDg5XXw1WzAyNDhdfDc3KVsxLTldXFxkezZ9LyxcbiAgJ2h1LUhVJzogL14oXFwrPzM2KSgyMHwzMHw3MClcXGR7N30kLyxcbiAgJ2l0LUlUJzogL14oXFwrPzM5KT9cXHM/M1xcZHsyfSA/XFxkezYsN30kLyxcbiAgJ2phLUpQJzogL14oXFwrPzgxfDApXFxkezEsNH1bIFxcLV0/XFxkezEsNH1bIFxcLV0/XFxkezR9JC8sXG4gICdtcy1NWSc6IC9eKFxcKz82PzAxKXsxfSgoWzE0NV17MX0oXFwtfFxccyk/XFxkezcsOH0pfChbMjM2Nzg5XXsxfShcXHN8XFwtKT9cXGR7N30pKSQvLFxuICAnbmItTk8nOiAvXihcXCs/NDcpP1s0OV1cXGR7N30kLyxcbiAgJ25sLUJFJzogL14oXFwrPzMyfDApND9cXGR7OH0kLyxcbiAgJ25uLU5PJzogL14oXFwrPzQ3KT9bNDldXFxkezd9JC8sXG4gICdwbC1QTCc6IC9eKFxcKz80OCk/ID9bNS04XVxcZCA/XFxkezN9ID9cXGR7Mn0gP1xcZHsyfSQvLFxuICAncHQtQlInOiAvXihcXCs/NTV8MClcXC0/WzEtOV17Mn1cXC0/WzItOV17MX1cXGR7Myw0fVxcLT9cXGR7NH0kLyxcbiAgJ3B0LVBUJzogL14oXFwrPzM1MSk/OVsxMjM2XVxcZHs3fSQvLFxuICAncm8tUk8nOiAvXihcXCs/ND8wKVxccz83XFxkezJ9KFxcL3xcXHN8XFwufFxcLSk/XFxkezN9KFxcc3xcXC58XFwtKT9cXGR7M30kLyxcbiAgJ2VuLVBLJzogL14oKFxcKzkyKXwoMDA5MikpLXswLDF9XFxkezN9LXswLDF9XFxkezd9JHxeXFxkezExfSR8XlxcZHs0fS1cXGR7N30kLyxcbiAgJ3J1LVJVJzogL14oXFwrPzd8OCk/OVxcZHs5fSQvLFxuICAnc3ItUlMnOiAvXihcXCszODE2fDA2KVstIFxcZF17NSw5fSQvLFxuICAndHItVFInOiAvXihcXCs/OTB8MCk/NVxcZHs5fSQvLFxuICAndmktVk4nOiAvXihcXCs/ODR8MCk/KCgxKDIoWzAtOV0pfDYoWzItOV0pfDg4fDk5KSl8KDkoKD8hNSlbMC05XSkpKShbMC05XXs3fSkkLyxcbiAgJ3poLUNOJzogL14oXFwrPzA/ODZcXC0/KT8xWzM0NTc4OV1cXGR7OX0kLyxcbiAgJ3poLVRXJzogL14oXFwrPzg4NlxcLT98MCk/OVxcZHs4fSQvXG59O1xuLyogZXNsaW50LWVuYWJsZSBtYXgtbGVuICovXG5cbi8vIGFsaWFzZXNcbnBob25lc1snZW4tQ0EnXSA9IHBob25lc1snZW4tVVMnXTtcbnBob25lc1snZnItQkUnXSA9IHBob25lc1snbmwtQkUnXTtcbnBob25lc1snemgtSEsnXSA9IHBob25lc1snZW4tSEsnXTtcblxuZnVuY3Rpb24gaXNNb2JpbGVQaG9uZShzdHIsIGxvY2FsZSkge1xuICAoMCwgX2Fzc2VydFN0cmluZzIuZGVmYXVsdCkoc3RyKTtcbiAgaWYgKGxvY2FsZSBpbiBwaG9uZXMpIHtcbiAgICByZXR1cm4gcGhvbmVzW2xvY2FsZV0udGVzdChzdHIpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGlzTW9uZ29JZDtcblxudmFyIF9hc3NlcnRTdHJpbmcgPSByZXF1aXJlKCcuL3V0aWwvYXNzZXJ0U3RyaW5nJyk7XG5cbnZhciBfYXNzZXJ0U3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2VydFN0cmluZyk7XG5cbnZhciBfaXNIZXhhZGVjaW1hbCA9IHJlcXVpcmUoJy4vaXNIZXhhZGVjaW1hbCcpO1xuXG52YXIgX2lzSGV4YWRlY2ltYWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNIZXhhZGVjaW1hbCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGlzTW9uZ29JZChzdHIpIHtcbiAgKDAsIF9hc3NlcnRTdHJpbmcyLmRlZmF1bHQpKHN0cik7XG4gIHJldHVybiAoMCwgX2lzSGV4YWRlY2ltYWwyLmRlZmF1bHQpKHN0cikgJiYgc3RyLmxlbmd0aCA9PT0gMjQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBpc011bHRpYnl0ZTtcblxudmFyIF9hc3NlcnRTdHJpbmcgPSByZXF1aXJlKCcuL3V0aWwvYXNzZXJ0U3RyaW5nJyk7XG5cbnZhciBfYXNzZXJ0U3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2VydFN0cmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnRyb2wtcmVnZXggKi9cbnZhciBtdWx0aWJ5dGUgPSAvW15cXHgwMC1cXHg3Rl0vO1xuLyogZXNsaW50LWVuYWJsZSBuby1jb250cm9sLXJlZ2V4ICovXG5cbmZ1bmN0aW9uIGlzTXVsdGlieXRlKHN0cikge1xuICAoMCwgX2Fzc2VydFN0cmluZzIuZGVmYXVsdCkoc3RyKTtcbiAgcmV0dXJuIG11bHRpYnl0ZS50ZXN0KHN0cik7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBpc051bWVyaWM7XG5cbnZhciBfYXNzZXJ0U3RyaW5nID0gcmVxdWlyZSgnLi91dGlsL2Fzc2VydFN0cmluZycpO1xuXG52YXIgX2Fzc2VydFN0cmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hc3NlcnRTdHJpbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgbnVtZXJpYyA9IC9eWy0rXT9bMC05XSskLztcblxuZnVuY3Rpb24gaXNOdW1lcmljKHN0cikge1xuICAoMCwgX2Fzc2VydFN0cmluZzIuZGVmYXVsdCkoc3RyKTtcbiAgcmV0dXJuIG51bWVyaWMudGVzdChzdHIpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gaXNTdXJyb2dhdGVQYWlyO1xuXG52YXIgX2Fzc2VydFN0cmluZyA9IHJlcXVpcmUoJy4vdXRpbC9hc3NlcnRTdHJpbmcnKTtcblxudmFyIF9hc3NlcnRTdHJpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXNzZXJ0U3RyaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIHN1cnJvZ2F0ZVBhaXIgPSAvW1xcdUQ4MDAtXFx1REJGRl1bXFx1REMwMC1cXHVERkZGXS87XG5cbmZ1bmN0aW9uIGlzU3Vycm9nYXRlUGFpcihzdHIpIHtcbiAgKDAsIF9hc3NlcnRTdHJpbmcyLmRlZmF1bHQpKHN0cik7XG4gIHJldHVybiBzdXJyb2dhdGVQYWlyLnRlc3Qoc3RyKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGlzVVJMO1xuXG52YXIgX2Fzc2VydFN0cmluZyA9IHJlcXVpcmUoJy4vdXRpbC9hc3NlcnRTdHJpbmcnKTtcblxudmFyIF9hc3NlcnRTdHJpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXNzZXJ0U3RyaW5nKTtcblxudmFyIF9pc0ZRRE4gPSByZXF1aXJlKCcuL2lzRlFETicpO1xuXG52YXIgX2lzRlFETjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc0ZRRE4pO1xuXG52YXIgX2lzSVAgPSByZXF1aXJlKCcuL2lzSVAnKTtcblxudmFyIF9pc0lQMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzSVApO1xuXG52YXIgX21lcmdlID0gcmVxdWlyZSgnLi91dGlsL21lcmdlJyk7XG5cbnZhciBfbWVyZ2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWVyZ2UpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgZGVmYXVsdF91cmxfb3B0aW9ucyA9IHtcbiAgcHJvdG9jb2xzOiBbJ2h0dHAnLCAnaHR0cHMnLCAnZnRwJ10sXG4gIHJlcXVpcmVfdGxkOiB0cnVlLFxuICByZXF1aXJlX3Byb3RvY29sOiBmYWxzZSxcbiAgcmVxdWlyZV9ob3N0OiB0cnVlLFxuICByZXF1aXJlX3ZhbGlkX3Byb3RvY29sOiB0cnVlLFxuICBhbGxvd191bmRlcnNjb3JlczogZmFsc2UsXG4gIGFsbG93X3RyYWlsaW5nX2RvdDogZmFsc2UsXG4gIGFsbG93X3Byb3RvY29sX3JlbGF0aXZlX3VybHM6IGZhbHNlXG59O1xuXG52YXIgd3JhcHBlZF9pcHY2ID0gL15cXFsoW15cXF1dKylcXF0oPzo6KFswLTldKykpPyQvO1xuXG5mdW5jdGlvbiBpc1JlZ0V4cChvYmopIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBSZWdFeHBdJztcbn1cblxuZnVuY3Rpb24gY2hlY2tIb3N0KGhvc3QsIG1hdGNoZXMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIG1hdGNoID0gbWF0Y2hlc1tpXTtcbiAgICBpZiAoaG9zdCA9PT0gbWF0Y2ggfHwgaXNSZWdFeHAobWF0Y2gpICYmIG1hdGNoLnRlc3QoaG9zdCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGlzVVJMKHVybCwgb3B0aW9ucykge1xuICAoMCwgX2Fzc2VydFN0cmluZzIuZGVmYXVsdCkodXJsKTtcbiAgaWYgKCF1cmwgfHwgdXJsLmxlbmd0aCA+PSAyMDgzIHx8IC9bXFxzPD5dLy50ZXN0KHVybCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHVybC5pbmRleE9mKCdtYWlsdG86JykgPT09IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgb3B0aW9ucyA9ICgwLCBfbWVyZ2UyLmRlZmF1bHQpKG9wdGlvbnMsIGRlZmF1bHRfdXJsX29wdGlvbnMpO1xuICB2YXIgcHJvdG9jb2wgPSB2b2lkIDAsXG4gICAgICBhdXRoID0gdm9pZCAwLFxuICAgICAgaG9zdCA9IHZvaWQgMCxcbiAgICAgIGhvc3RuYW1lID0gdm9pZCAwLFxuICAgICAgcG9ydCA9IHZvaWQgMCxcbiAgICAgIHBvcnRfc3RyID0gdm9pZCAwLFxuICAgICAgc3BsaXQgPSB2b2lkIDAsXG4gICAgICBpcHY2ID0gdm9pZCAwO1xuXG4gIHNwbGl0ID0gdXJsLnNwbGl0KCcjJyk7XG4gIHVybCA9IHNwbGl0LnNoaWZ0KCk7XG5cbiAgc3BsaXQgPSB1cmwuc3BsaXQoJz8nKTtcbiAgdXJsID0gc3BsaXQuc2hpZnQoKTtcblxuICBzcGxpdCA9IHVybC5zcGxpdCgnOi8vJyk7XG4gIGlmIChzcGxpdC5sZW5ndGggPiAxKSB7XG4gICAgcHJvdG9jb2wgPSBzcGxpdC5zaGlmdCgpO1xuICAgIGlmIChvcHRpb25zLnJlcXVpcmVfdmFsaWRfcHJvdG9jb2wgJiYgb3B0aW9ucy5wcm90b2NvbHMuaW5kZXhPZihwcm90b2NvbCkgPT09IC0xKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9IGVsc2UgaWYgKG9wdGlvbnMucmVxdWlyZV9wcm90b2NvbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIGlmIChvcHRpb25zLmFsbG93X3Byb3RvY29sX3JlbGF0aXZlX3VybHMgJiYgdXJsLnN1YnN0cigwLCAyKSA9PT0gJy8vJykge1xuICAgIHNwbGl0WzBdID0gdXJsLnN1YnN0cigyKTtcbiAgfVxuICB1cmwgPSBzcGxpdC5qb2luKCc6Ly8nKTtcblxuICBzcGxpdCA9IHVybC5zcGxpdCgnLycpO1xuICB1cmwgPSBzcGxpdC5zaGlmdCgpO1xuXG4gIGlmICh1cmwgPT09ICcnICYmICFvcHRpb25zLnJlcXVpcmVfaG9zdCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgc3BsaXQgPSB1cmwuc3BsaXQoJ0AnKTtcbiAgaWYgKHNwbGl0Lmxlbmd0aCA+IDEpIHtcbiAgICBhdXRoID0gc3BsaXQuc2hpZnQoKTtcbiAgICBpZiAoYXV0aC5pbmRleE9mKCc6JykgPj0gMCAmJiBhdXRoLnNwbGl0KCc6JykubGVuZ3RoID4gMikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICBob3N0bmFtZSA9IHNwbGl0LmpvaW4oJ0AnKTtcblxuICBwb3J0X3N0ciA9IGlwdjYgPSBudWxsO1xuICB2YXIgaXB2Nl9tYXRjaCA9IGhvc3RuYW1lLm1hdGNoKHdyYXBwZWRfaXB2Nik7XG4gIGlmIChpcHY2X21hdGNoKSB7XG4gICAgaG9zdCA9ICcnO1xuICAgIGlwdjYgPSBpcHY2X21hdGNoWzFdO1xuICAgIHBvcnRfc3RyID0gaXB2Nl9tYXRjaFsyXSB8fCBudWxsO1xuICB9IGVsc2Uge1xuICAgIHNwbGl0ID0gaG9zdG5hbWUuc3BsaXQoJzonKTtcbiAgICBob3N0ID0gc3BsaXQuc2hpZnQoKTtcbiAgICBpZiAoc3BsaXQubGVuZ3RoKSB7XG4gICAgICBwb3J0X3N0ciA9IHNwbGl0LmpvaW4oJzonKTtcbiAgICB9XG4gIH1cblxuICBpZiAocG9ydF9zdHIgIT09IG51bGwpIHtcbiAgICBwb3J0ID0gcGFyc2VJbnQocG9ydF9zdHIsIDEwKTtcbiAgICBpZiAoIS9eWzAtOV0rJC8udGVzdChwb3J0X3N0cikgfHwgcG9ydCA8PSAwIHx8IHBvcnQgPiA2NTUzNSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGlmICghKDAsIF9pc0lQMi5kZWZhdWx0KShob3N0KSAmJiAhKDAsIF9pc0ZRRE4yLmRlZmF1bHQpKGhvc3QsIG9wdGlvbnMpICYmICghaXB2NiB8fCAhKDAsIF9pc0lQMi5kZWZhdWx0KShpcHY2LCA2KSkgJiYgaG9zdCAhPT0gJ2xvY2FsaG9zdCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBob3N0ID0gaG9zdCB8fCBpcHY2O1xuXG4gIGlmIChvcHRpb25zLmhvc3Rfd2hpdGVsaXN0ICYmICFjaGVja0hvc3QoaG9zdCwgb3B0aW9ucy5ob3N0X3doaXRlbGlzdCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKG9wdGlvbnMuaG9zdF9ibGFja2xpc3QgJiYgY2hlY2tIb3N0KGhvc3QsIG9wdGlvbnMuaG9zdF9ibGFja2xpc3QpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBpc1VVSUQ7XG5cbnZhciBfYXNzZXJ0U3RyaW5nID0gcmVxdWlyZSgnLi91dGlsL2Fzc2VydFN0cmluZycpO1xuXG52YXIgX2Fzc2VydFN0cmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hc3NlcnRTdHJpbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgdXVpZCA9IHtcbiAgMzogL15bMC05QS1GXXs4fS1bMC05QS1GXXs0fS0zWzAtOUEtRl17M30tWzAtOUEtRl17NH0tWzAtOUEtRl17MTJ9JC9pLFxuICA0OiAvXlswLTlBLUZdezh9LVswLTlBLUZdezR9LTRbMC05QS1GXXszfS1bODlBQl1bMC05QS1GXXszfS1bMC05QS1GXXsxMn0kL2ksXG4gIDU6IC9eWzAtOUEtRl17OH0tWzAtOUEtRl17NH0tNVswLTlBLUZdezN9LVs4OUFCXVswLTlBLUZdezN9LVswLTlBLUZdezEyfSQvaSxcbiAgYWxsOiAvXlswLTlBLUZdezh9LVswLTlBLUZdezR9LVswLTlBLUZdezR9LVswLTlBLUZdezR9LVswLTlBLUZdezEyfSQvaVxufTtcblxuZnVuY3Rpb24gaXNVVUlEKHN0cikge1xuICB2YXIgdmVyc2lvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ2FsbCc7XG5cbiAgKDAsIF9hc3NlcnRTdHJpbmcyLmRlZmF1bHQpKHN0cik7XG4gIHZhciBwYXR0ZXJuID0gdXVpZFt2ZXJzaW9uXTtcbiAgcmV0dXJuIHBhdHRlcm4gJiYgcGF0dGVybi50ZXN0KHN0cik7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBpc1VwcGVyY2FzZTtcblxudmFyIF9hc3NlcnRTdHJpbmcgPSByZXF1aXJlKCcuL3V0aWwvYXNzZXJ0U3RyaW5nJyk7XG5cbnZhciBfYXNzZXJ0U3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2VydFN0cmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGlzVXBwZXJjYXNlKHN0cikge1xuICAoMCwgX2Fzc2VydFN0cmluZzIuZGVmYXVsdCkoc3RyKTtcbiAgcmV0dXJuIHN0ciA9PT0gc3RyLnRvVXBwZXJDYXNlKCk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBpc1ZhcmlhYmxlV2lkdGg7XG5cbnZhciBfYXNzZXJ0U3RyaW5nID0gcmVxdWlyZSgnLi91dGlsL2Fzc2VydFN0cmluZycpO1xuXG52YXIgX2Fzc2VydFN0cmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hc3NlcnRTdHJpbmcpO1xuXG52YXIgX2lzRnVsbFdpZHRoID0gcmVxdWlyZSgnLi9pc0Z1bGxXaWR0aCcpO1xuXG52YXIgX2lzSGFsZldpZHRoID0gcmVxdWlyZSgnLi9pc0hhbGZXaWR0aCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBpc1ZhcmlhYmxlV2lkdGgoc3RyKSB7XG4gICgwLCBfYXNzZXJ0U3RyaW5nMi5kZWZhdWx0KShzdHIpO1xuICByZXR1cm4gX2lzRnVsbFdpZHRoLmZ1bGxXaWR0aC50ZXN0KHN0cikgJiYgX2lzSGFsZldpZHRoLmhhbGZXaWR0aC50ZXN0KHN0cik7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBpc1doaXRlbGlzdGVkO1xuXG52YXIgX2Fzc2VydFN0cmluZyA9IHJlcXVpcmUoJy4vdXRpbC9hc3NlcnRTdHJpbmcnKTtcblxudmFyIF9hc3NlcnRTdHJpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXNzZXJ0U3RyaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gaXNXaGl0ZWxpc3RlZChzdHIsIGNoYXJzKSB7XG4gICgwLCBfYXNzZXJ0U3RyaW5nMi5kZWZhdWx0KShzdHIpO1xuICBmb3IgKHZhciBpID0gc3RyLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgaWYgKGNoYXJzLmluZGV4T2Yoc3RyW2ldKSA9PT0gLTEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBsdHJpbTtcblxudmFyIF9hc3NlcnRTdHJpbmcgPSByZXF1aXJlKCcuL3V0aWwvYXNzZXJ0U3RyaW5nJyk7XG5cbnZhciBfYXNzZXJ0U3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2VydFN0cmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGx0cmltKHN0ciwgY2hhcnMpIHtcbiAgKDAsIF9hc3NlcnRTdHJpbmcyLmRlZmF1bHQpKHN0cik7XG4gIHZhciBwYXR0ZXJuID0gY2hhcnMgPyBuZXcgUmVnRXhwKCdeWycgKyBjaGFycyArICddKycsICdnJykgOiAvXlxccysvZztcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKHBhdHRlcm4sICcnKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IG1hdGNoZXM7XG5cbnZhciBfYXNzZXJ0U3RyaW5nID0gcmVxdWlyZSgnLi91dGlsL2Fzc2VydFN0cmluZycpO1xuXG52YXIgX2Fzc2VydFN0cmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hc3NlcnRTdHJpbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBtYXRjaGVzKHN0ciwgcGF0dGVybiwgbW9kaWZpZXJzKSB7XG4gICgwLCBfYXNzZXJ0U3RyaW5nMi5kZWZhdWx0KShzdHIpO1xuICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHBhdHRlcm4pICE9PSAnW29iamVjdCBSZWdFeHBdJykge1xuICAgIHBhdHRlcm4gPSBuZXcgUmVnRXhwKHBhdHRlcm4sIG1vZGlmaWVycyk7XG4gIH1cbiAgcmV0dXJuIHBhdHRlcm4udGVzdChzdHIpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gbm9ybWFsaXplRW1haWw7XG5cbnZhciBfaXNFbWFpbCA9IHJlcXVpcmUoJy4vaXNFbWFpbCcpO1xuXG52YXIgX2lzRW1haWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNFbWFpbCk7XG5cbnZhciBfbWVyZ2UgPSByZXF1aXJlKCcuL3V0aWwvbWVyZ2UnKTtcblxudmFyIF9tZXJnZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tZXJnZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBkZWZhdWx0X25vcm1hbGl6ZV9lbWFpbF9vcHRpb25zID0ge1xuICAvLyBUaGUgZm9sbG93aW5nIG9wdGlvbnMgYXBwbHkgdG8gYWxsIGVtYWlsIGFkZHJlc3Nlc1xuICAvLyBMb3dlcmNhc2VzIHRoZSBsb2NhbCBwYXJ0IG9mIHRoZSBlbWFpbCBhZGRyZXNzLlxuICAvLyBQbGVhc2Ugbm90ZSB0aGlzIG1heSB2aW9sYXRlIFJGQyA1MzIxIGFzIHBlciBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS85ODA4MzMyLzE5MjAyNCkuXG4gIC8vIFRoZSBkb21haW4gaXMgYWx3YXlzIGxvd2VyY2FzZWQsIGFzIHBlciBSRkMgMTAzNVxuICBhbGxfbG93ZXJjYXNlOiB0cnVlLFxuXG4gIC8vIFRoZSBmb2xsb3dpbmcgY29udmVyc2lvbnMgYXJlIHNwZWNpZmljIHRvIEdNYWlsXG4gIC8vIExvd2VyY2FzZXMgdGhlIGxvY2FsIHBhcnQgb2YgdGhlIEdNYWlsIGFkZHJlc3MgKGtub3duIHRvIGJlIGNhc2UtaW5zZW5zaXRpdmUpXG4gIGdtYWlsX2xvd2VyY2FzZTogdHJ1ZSxcbiAgLy8gUmVtb3ZlcyBkb3RzIGZyb20gdGhlIGxvY2FsIHBhcnQgb2YgdGhlIGVtYWlsIGFkZHJlc3MsIGFzIHRoYXQncyBpZ25vcmVkIGJ5IEdNYWlsXG4gIGdtYWlsX3JlbW92ZV9kb3RzOiB0cnVlLFxuICAvLyBSZW1vdmVzIHRoZSBzdWJhZGRyZXNzIChlLmcuIFwiK2Zvb1wiKSBmcm9tIHRoZSBlbWFpbCBhZGRyZXNzXG4gIGdtYWlsX3JlbW92ZV9zdWJhZGRyZXNzOiB0cnVlLFxuICAvLyBDb252ZXJzdHMgdGhlIGdvb2dsZW1haWwuY29tIGRvbWFpbiB0byBnbWFpbC5jb21cbiAgZ21haWxfY29udmVydF9nb29nbGVtYWlsZG90Y29tOiB0cnVlLFxuXG4gIC8vIFRoZSBmb2xsb3dpbmcgY29udmVyc2lvbnMgYXJlIHNwZWNpZmljIHRvIE91dGxvb2suY29tIC8gV2luZG93cyBMaXZlIC8gSG90bWFpbFxuICAvLyBMb3dlcmNhc2VzIHRoZSBsb2NhbCBwYXJ0IG9mIHRoZSBPdXRsb29rLmNvbSBhZGRyZXNzIChrbm93biB0byBiZSBjYXNlLWluc2Vuc2l0aXZlKVxuICBvdXRsb29rZG90Y29tX2xvd2VyY2FzZTogdHJ1ZSxcbiAgLy8gUmVtb3ZlcyB0aGUgc3ViYWRkcmVzcyAoZS5nLiBcIitmb29cIikgZnJvbSB0aGUgZW1haWwgYWRkcmVzc1xuICBvdXRsb29rZG90Y29tX3JlbW92ZV9zdWJhZGRyZXNzOiB0cnVlLFxuXG4gIC8vIFRoZSBmb2xsb3dpbmcgY29udmVyc2lvbnMgYXJlIHNwZWNpZmljIHRvIFlhaG9vXG4gIC8vIExvd2VyY2FzZXMgdGhlIGxvY2FsIHBhcnQgb2YgdGhlIFlhaG9vIGFkZHJlc3MgKGtub3duIHRvIGJlIGNhc2UtaW5zZW5zaXRpdmUpXG4gIHlhaG9vX2xvd2VyY2FzZTogdHJ1ZSxcbiAgLy8gUmVtb3ZlcyB0aGUgc3ViYWRkcmVzcyAoZS5nLiBcIi1mb29cIikgZnJvbSB0aGUgZW1haWwgYWRkcmVzc1xuICB5YWhvb19yZW1vdmVfc3ViYWRkcmVzczogdHJ1ZSxcblxuICAvLyBUaGUgZm9sbG93aW5nIGNvbnZlcnNpb25zIGFyZSBzcGVjaWZpYyB0byBpQ2xvdWRcbiAgLy8gTG93ZXJjYXNlcyB0aGUgbG9jYWwgcGFydCBvZiB0aGUgaUNsb3VkIGFkZHJlc3MgKGtub3duIHRvIGJlIGNhc2UtaW5zZW5zaXRpdmUpXG4gIGljbG91ZF9sb3dlcmNhc2U6IHRydWUsXG4gIC8vIFJlbW92ZXMgdGhlIHN1YmFkZHJlc3MgKGUuZy4gXCIrZm9vXCIpIGZyb20gdGhlIGVtYWlsIGFkZHJlc3NcbiAgaWNsb3VkX3JlbW92ZV9zdWJhZGRyZXNzOiB0cnVlXG59O1xuXG4vLyBMaXN0IG9mIGRvbWFpbnMgdXNlZCBieSBpQ2xvdWRcbnZhciBpY2xvdWRfZG9tYWlucyA9IFsnaWNsb3VkLmNvbScsICdtZS5jb20nXTtcblxuLy8gTGlzdCBvZiBkb21haW5zIHVzZWQgYnkgT3V0bG9vay5jb20gYW5kIGl0cyBwcmVkZWNlc3NvcnNcbi8vIFRoaXMgbGlzdCBpcyBsaWtlbHkgaW5jb21wbGV0ZS5cbi8vIFBhcnRpYWwgcmVmZXJlbmNlOlxuLy8gaHR0cHM6Ly9ibG9ncy5vZmZpY2UuY29tLzIwMTMvMDQvMTcvb3V0bG9vay1jb20tZ2V0cy10d28tc3RlcC12ZXJpZmljYXRpb24tc2lnbi1pbi1ieS1hbGlhcy1hbmQtbmV3LWludGVybmF0aW9uYWwtZG9tYWlucy9cbnZhciBvdXRsb29rZG90Y29tX2RvbWFpbnMgPSBbJ2hvdG1haWwuYXQnLCAnaG90bWFpbC5iZScsICdob3RtYWlsLmNhJywgJ2hvdG1haWwuY2wnLCAnaG90bWFpbC5jby5pbCcsICdob3RtYWlsLmNvLm56JywgJ2hvdG1haWwuY28udGgnLCAnaG90bWFpbC5jby51aycsICdob3RtYWlsLmNvbScsICdob3RtYWlsLmNvbS5hcicsICdob3RtYWlsLmNvbS5hdScsICdob3RtYWlsLmNvbS5icicsICdob3RtYWlsLmNvbS5ncicsICdob3RtYWlsLmNvbS5teCcsICdob3RtYWlsLmNvbS5wZScsICdob3RtYWlsLmNvbS50cicsICdob3RtYWlsLmNvbS52bicsICdob3RtYWlsLmN6JywgJ2hvdG1haWwuZGUnLCAnaG90bWFpbC5kaycsICdob3RtYWlsLmVzJywgJ2hvdG1haWwuZnInLCAnaG90bWFpbC5odScsICdob3RtYWlsLmlkJywgJ2hvdG1haWwuaWUnLCAnaG90bWFpbC5pbicsICdob3RtYWlsLml0JywgJ2hvdG1haWwuanAnLCAnaG90bWFpbC5rcicsICdob3RtYWlsLmx2JywgJ2hvdG1haWwubXknLCAnaG90bWFpbC5waCcsICdob3RtYWlsLnB0JywgJ2hvdG1haWwuc2EnLCAnaG90bWFpbC5zZycsICdob3RtYWlsLnNrJywgJ2xpdmUuYmUnLCAnbGl2ZS5jby51aycsICdsaXZlLmNvbScsICdsaXZlLmNvbS5hcicsICdsaXZlLmNvbS5teCcsICdsaXZlLmRlJywgJ2xpdmUuZXMnLCAnbGl2ZS5ldScsICdsaXZlLmZyJywgJ2xpdmUuaXQnLCAnbGl2ZS5ubCcsICdtc24uY29tJywgJ291dGxvb2suYXQnLCAnb3V0bG9vay5iZScsICdvdXRsb29rLmNsJywgJ291dGxvb2suY28uaWwnLCAnb3V0bG9vay5jby5ueicsICdvdXRsb29rLmNvLnRoJywgJ291dGxvb2suY29tJywgJ291dGxvb2suY29tLmFyJywgJ291dGxvb2suY29tLmF1JywgJ291dGxvb2suY29tLmJyJywgJ291dGxvb2suY29tLmdyJywgJ291dGxvb2suY29tLnBlJywgJ291dGxvb2suY29tLnRyJywgJ291dGxvb2suY29tLnZuJywgJ291dGxvb2suY3onLCAnb3V0bG9vay5kZScsICdvdXRsb29rLmRrJywgJ291dGxvb2suZXMnLCAnb3V0bG9vay5mcicsICdvdXRsb29rLmh1JywgJ291dGxvb2suaWQnLCAnb3V0bG9vay5pZScsICdvdXRsb29rLmluJywgJ291dGxvb2suaXQnLCAnb3V0bG9vay5qcCcsICdvdXRsb29rLmtyJywgJ291dGxvb2subHYnLCAnb3V0bG9vay5teScsICdvdXRsb29rLnBoJywgJ291dGxvb2sucHQnLCAnb3V0bG9vay5zYScsICdvdXRsb29rLnNnJywgJ291dGxvb2suc2snLCAncGFzc3BvcnQuY29tJ107XG5cbi8vIExpc3Qgb2YgZG9tYWlucyB1c2VkIGJ5IFlhaG9vIE1haWxcbi8vIFRoaXMgbGlzdCBpcyBsaWtlbHkgaW5jb21wbGV0ZVxudmFyIHlhaG9vX2RvbWFpbnMgPSBbJ3JvY2tldG1haWwuY29tJywgJ3lhaG9vLmNhJywgJ3lhaG9vLmNvLnVrJywgJ3lhaG9vLmNvbScsICd5YWhvby5kZScsICd5YWhvby5mcicsICd5YWhvby5pbicsICd5YWhvby5pdCcsICd5bWFpbC5jb20nXTtcblxuZnVuY3Rpb24gbm9ybWFsaXplRW1haWwoZW1haWwsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9ICgwLCBfbWVyZ2UyLmRlZmF1bHQpKG9wdGlvbnMsIGRlZmF1bHRfbm9ybWFsaXplX2VtYWlsX29wdGlvbnMpO1xuXG4gIGlmICghKDAsIF9pc0VtYWlsMi5kZWZhdWx0KShlbWFpbCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgcmF3X3BhcnRzID0gZW1haWwuc3BsaXQoJ0AnKTtcbiAgdmFyIGRvbWFpbiA9IHJhd19wYXJ0cy5wb3AoKTtcbiAgdmFyIHVzZXIgPSByYXdfcGFydHMuam9pbignQCcpO1xuICB2YXIgcGFydHMgPSBbdXNlciwgZG9tYWluXTtcblxuICAvLyBUaGUgZG9tYWluIGlzIGFsd2F5cyBsb3dlcmNhc2VkLCBhcyBpdCdzIGNhc2UtaW5zZW5zaXRpdmUgcGVyIFJGQyAxMDM1XG4gIHBhcnRzWzFdID0gcGFydHNbMV0udG9Mb3dlckNhc2UoKTtcblxuICBpZiAocGFydHNbMV0gPT09ICdnbWFpbC5jb20nIHx8IHBhcnRzWzFdID09PSAnZ29vZ2xlbWFpbC5jb20nKSB7XG4gICAgLy8gQWRkcmVzcyBpcyBHTWFpbFxuICAgIGlmIChvcHRpb25zLmdtYWlsX3JlbW92ZV9zdWJhZGRyZXNzKSB7XG4gICAgICBwYXJ0c1swXSA9IHBhcnRzWzBdLnNwbGl0KCcrJylbMF07XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmdtYWlsX3JlbW92ZV9kb3RzKSB7XG4gICAgICBwYXJ0c1swXSA9IHBhcnRzWzBdLnJlcGxhY2UoL1xcLi9nLCAnJyk7XG4gICAgfVxuICAgIGlmICghcGFydHNbMF0ubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmFsbF9sb3dlcmNhc2UgfHwgb3B0aW9ucy5nbWFpbF9sb3dlcmNhc2UpIHtcbiAgICAgIHBhcnRzWzBdID0gcGFydHNbMF0udG9Mb3dlckNhc2UoKTtcbiAgICB9XG4gICAgcGFydHNbMV0gPSBvcHRpb25zLmdtYWlsX2NvbnZlcnRfZ29vZ2xlbWFpbGRvdGNvbSA/ICdnbWFpbC5jb20nIDogcGFydHNbMV07XG4gIH0gZWxzZSBpZiAofmljbG91ZF9kb21haW5zLmluZGV4T2YocGFydHNbMV0pKSB7XG4gICAgLy8gQWRkcmVzcyBpcyBpQ2xvdWRcbiAgICBpZiAob3B0aW9ucy5pY2xvdWRfcmVtb3ZlX3N1YmFkZHJlc3MpIHtcbiAgICAgIHBhcnRzWzBdID0gcGFydHNbMF0uc3BsaXQoJysnKVswXTtcbiAgICB9XG4gICAgaWYgKCFwYXJ0c1swXS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuYWxsX2xvd2VyY2FzZSB8fCBvcHRpb25zLmljbG91ZF9sb3dlcmNhc2UpIHtcbiAgICAgIHBhcnRzWzBdID0gcGFydHNbMF0udG9Mb3dlckNhc2UoKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAofm91dGxvb2tkb3Rjb21fZG9tYWlucy5pbmRleE9mKHBhcnRzWzFdKSkge1xuICAgIC8vIEFkZHJlc3MgaXMgT3V0bG9vay5jb21cbiAgICBpZiAob3B0aW9ucy5vdXRsb29rZG90Y29tX3JlbW92ZV9zdWJhZGRyZXNzKSB7XG4gICAgICBwYXJ0c1swXSA9IHBhcnRzWzBdLnNwbGl0KCcrJylbMF07XG4gICAgfVxuICAgIGlmICghcGFydHNbMF0ubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmFsbF9sb3dlcmNhc2UgfHwgb3B0aW9ucy5vdXRsb29rZG90Y29tX2xvd2VyY2FzZSkge1xuICAgICAgcGFydHNbMF0gPSBwYXJ0c1swXS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbiAgfSBlbHNlIGlmICh+eWFob29fZG9tYWlucy5pbmRleE9mKHBhcnRzWzFdKSkge1xuICAgIC8vIEFkZHJlc3MgaXMgWWFob29cbiAgICBpZiAob3B0aW9ucy55YWhvb19yZW1vdmVfc3ViYWRkcmVzcykge1xuICAgICAgdmFyIGNvbXBvbmVudHMgPSBwYXJ0c1swXS5zcGxpdCgnLScpO1xuICAgICAgcGFydHNbMF0gPSBjb21wb25lbnRzLmxlbmd0aCA+IDEgPyBjb21wb25lbnRzLnNsaWNlKDAsIC0xKS5qb2luKCctJykgOiBjb21wb25lbnRzWzBdO1xuICAgIH1cbiAgICBpZiAoIXBhcnRzWzBdLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5hbGxfbG93ZXJjYXNlIHx8IG9wdGlvbnMueWFob29fbG93ZXJjYXNlKSB7XG4gICAgICBwYXJ0c1swXSA9IHBhcnRzWzBdLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKG9wdGlvbnMuYWxsX2xvd2VyY2FzZSkge1xuICAgIC8vIEFueSBvdGhlciBhZGRyZXNzXG4gICAgcGFydHNbMF0gPSBwYXJ0c1swXS50b0xvd2VyQ2FzZSgpO1xuICB9XG4gIHJldHVybiBwYXJ0cy5qb2luKCdAJyk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBydHJpbTtcblxudmFyIF9hc3NlcnRTdHJpbmcgPSByZXF1aXJlKCcuL3V0aWwvYXNzZXJ0U3RyaW5nJyk7XG5cbnZhciBfYXNzZXJ0U3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2VydFN0cmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIHJ0cmltKHN0ciwgY2hhcnMpIHtcbiAgKDAsIF9hc3NlcnRTdHJpbmcyLmRlZmF1bHQpKHN0cik7XG4gIHZhciBwYXR0ZXJuID0gY2hhcnMgPyBuZXcgUmVnRXhwKCdbJyArIGNoYXJzICsgJ10nKSA6IC9cXHMvO1xuXG4gIHZhciBpZHggPSBzdHIubGVuZ3RoIC0gMTtcbiAgd2hpbGUgKGlkeCA+PSAwICYmIHBhdHRlcm4udGVzdChzdHJbaWR4XSkpIHtcbiAgICBpZHgtLTtcbiAgfVxuXG4gIHJldHVybiBpZHggPCBzdHIubGVuZ3RoID8gc3RyLnN1YnN0cigwLCBpZHggKyAxKSA6IHN0cjtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHN0cmlwTG93O1xuXG52YXIgX2Fzc2VydFN0cmluZyA9IHJlcXVpcmUoJy4vdXRpbC9hc3NlcnRTdHJpbmcnKTtcblxudmFyIF9hc3NlcnRTdHJpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXNzZXJ0U3RyaW5nKTtcblxudmFyIF9ibGFja2xpc3QgPSByZXF1aXJlKCcuL2JsYWNrbGlzdCcpO1xuXG52YXIgX2JsYWNrbGlzdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ibGFja2xpc3QpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBzdHJpcExvdyhzdHIsIGtlZXBfbmV3X2xpbmVzKSB7XG4gICgwLCBfYXNzZXJ0U3RyaW5nMi5kZWZhdWx0KShzdHIpO1xuICB2YXIgY2hhcnMgPSBrZWVwX25ld19saW5lcyA/ICdcXFxceDAwLVxcXFx4MDlcXFxceDBCXFxcXHgwQ1xcXFx4MEUtXFxcXHgxRlxcXFx4N0YnIDogJ1xcXFx4MDAtXFxcXHgxRlxcXFx4N0YnO1xuICByZXR1cm4gKDAsIF9ibGFja2xpc3QyLmRlZmF1bHQpKHN0ciwgY2hhcnMpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdG9Cb29sZWFuO1xuXG52YXIgX2Fzc2VydFN0cmluZyA9IHJlcXVpcmUoJy4vdXRpbC9hc3NlcnRTdHJpbmcnKTtcblxudmFyIF9hc3NlcnRTdHJpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXNzZXJ0U3RyaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gdG9Cb29sZWFuKHN0ciwgc3RyaWN0KSB7XG4gICgwLCBfYXNzZXJ0U3RyaW5nMi5kZWZhdWx0KShzdHIpO1xuICBpZiAoc3RyaWN0KSB7XG4gICAgcmV0dXJuIHN0ciA9PT0gJzEnIHx8IHN0ciA9PT0gJ3RydWUnO1xuICB9XG4gIHJldHVybiBzdHIgIT09ICcwJyAmJiBzdHIgIT09ICdmYWxzZScgJiYgc3RyICE9PSAnJztcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHRvRGF0ZTtcblxudmFyIF9hc3NlcnRTdHJpbmcgPSByZXF1aXJlKCcuL3V0aWwvYXNzZXJ0U3RyaW5nJyk7XG5cbnZhciBfYXNzZXJ0U3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2VydFN0cmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIHRvRGF0ZShkYXRlKSB7XG4gICgwLCBfYXNzZXJ0U3RyaW5nMi5kZWZhdWx0KShkYXRlKTtcbiAgZGF0ZSA9IERhdGUucGFyc2UoZGF0ZSk7XG4gIHJldHVybiAhaXNOYU4oZGF0ZSkgPyBuZXcgRGF0ZShkYXRlKSA6IG51bGw7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB0b0Zsb2F0O1xuXG52YXIgX2Fzc2VydFN0cmluZyA9IHJlcXVpcmUoJy4vdXRpbC9hc3NlcnRTdHJpbmcnKTtcblxudmFyIF9hc3NlcnRTdHJpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXNzZXJ0U3RyaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gdG9GbG9hdChzdHIpIHtcbiAgKDAsIF9hc3NlcnRTdHJpbmcyLmRlZmF1bHQpKHN0cik7XG4gIHJldHVybiBwYXJzZUZsb2F0KHN0cik7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB0b0ludDtcblxudmFyIF9hc3NlcnRTdHJpbmcgPSByZXF1aXJlKCcuL3V0aWwvYXNzZXJ0U3RyaW5nJyk7XG5cbnZhciBfYXNzZXJ0U3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2VydFN0cmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIHRvSW50KHN0ciwgcmFkaXgpIHtcbiAgKDAsIF9hc3NlcnRTdHJpbmcyLmRlZmF1bHQpKHN0cik7XG4gIHJldHVybiBwYXJzZUludChzdHIsIHJhZGl4IHx8IDEwKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHRyaW07XG5cbnZhciBfcnRyaW0gPSByZXF1aXJlKCcuL3J0cmltJyk7XG5cbnZhciBfcnRyaW0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcnRyaW0pO1xuXG52YXIgX2x0cmltID0gcmVxdWlyZSgnLi9sdHJpbScpO1xuXG52YXIgX2x0cmltMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2x0cmltKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gdHJpbShzdHIsIGNoYXJzKSB7XG4gIHJldHVybiAoMCwgX3J0cmltMi5kZWZhdWx0KSgoMCwgX2x0cmltMi5kZWZhdWx0KShzdHIsIGNoYXJzKSwgY2hhcnMpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHVuZXNjYXBlO1xuXG52YXIgX2Fzc2VydFN0cmluZyA9IHJlcXVpcmUoJy4vdXRpbC9hc3NlcnRTdHJpbmcnKTtcblxudmFyIF9hc3NlcnRTdHJpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXNzZXJ0U3RyaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gdW5lc2NhcGUoc3RyKSB7XG4gICAgICAoMCwgX2Fzc2VydFN0cmluZzIuZGVmYXVsdCkoc3RyKTtcbiAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvJmFtcDsvZywgJyYnKS5yZXBsYWNlKC8mcXVvdDsvZywgJ1wiJykucmVwbGFjZSgvJiN4Mjc7L2csIFwiJ1wiKS5yZXBsYWNlKC8mbHQ7L2csICc8JykucmVwbGFjZSgvJmd0Oy9nLCAnPicpLnJlcGxhY2UoLyYjeDJGOy9nLCAnLycpLnJlcGxhY2UoLyYjOTY7L2csICdgJyk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBhc3NlcnRTdHJpbmc7XG5mdW5jdGlvbiBhc3NlcnRTdHJpbmcoaW5wdXQpIHtcbiAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGlzIGxpYnJhcnkgKHZhbGlkYXRvci5qcykgdmFsaWRhdGVzIHN0cmluZ3Mgb25seScpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBtZXJnZTtcbmZ1bmN0aW9uIG1lcmdlKCkge1xuICB2YXIgb2JqID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgdmFyIGRlZmF1bHRzID0gYXJndW1lbnRzWzFdO1xuXG4gIGZvciAodmFyIGtleSBpbiBkZWZhdWx0cykge1xuICAgIGlmICh0eXBlb2Ygb2JqW2tleV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBvYmpba2V5XSA9IGRlZmF1bHRzW2tleV07XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmo7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gdG9TdHJpbmc7XG5mdW5jdGlvbiB0b1N0cmluZyhpbnB1dCkge1xuICBpZiAoKHR5cGVvZiBpbnB1dCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoaW5wdXQpKSA9PT0gJ29iamVjdCcgJiYgaW5wdXQgIT09IG51bGwpIHtcbiAgICBpZiAodHlwZW9mIGlucHV0LnRvU3RyaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpbnB1dCA9IGlucHV0LnRvU3RyaW5nKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlucHV0ID0gJ1tvYmplY3QgT2JqZWN0XSc7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlucHV0ID09PSBudWxsIHx8IHR5cGVvZiBpbnB1dCA9PT0gJ3VuZGVmaW5lZCcgfHwgaXNOYU4oaW5wdXQpICYmICFpbnB1dC5sZW5ndGgpIHtcbiAgICBpbnB1dCA9ICcnO1xuICB9XG4gIHJldHVybiBTdHJpbmcoaW5wdXQpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gd2hpdGVsaXN0O1xuXG52YXIgX2Fzc2VydFN0cmluZyA9IHJlcXVpcmUoJy4vdXRpbC9hc3NlcnRTdHJpbmcnKTtcblxudmFyIF9hc3NlcnRTdHJpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXNzZXJ0U3RyaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gd2hpdGVsaXN0KHN0ciwgY2hhcnMpIHtcbiAgKDAsIF9hc3NlcnRTdHJpbmcyLmRlZmF1bHQpKHN0cik7XG4gIHJldHVybiBzdHIucmVwbGFjZShuZXcgUmVnRXhwKCdbXicgKyBjaGFycyArICddKycsICdnJyksICcnKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsImV4cG9ydHMucnVuQW5pbWF0aW9ucyA9IGZhbHNlO1xuZXhwb3J0cy5wb3AgPSB0cnVlO1xuZXhwb3J0cy5jYW52YXNJZCA9ICdjYW52YXMnO1xuZXhwb3J0cy5tYXhTaGFwZXMgPSAyMDtcbmV4cG9ydHMucG9zdEtleSA9ICdtZWxsb24nO1xuXG5leHBvcnRzLnBhbGV0dGUgPSB7XG4gIGNvbG9yczogW1wiIzIwMTcxQ1wiLCBcIiMxRTJBNDNcIiwgXCIjMjgzNzdEXCIsIFwiIzM1Mjc0N1wiLCBcIiNDQTJFMjZcIiwgXCIjOUEyQTFGXCIsIFwiI0RBNkMyNlwiLCBcIiM0NTMxMjFcIiwgXCIjOTE2QTQ3XCIsIFwiI0RBQUQyN1wiLCBcIiM3RjdEMzFcIixcIiMyQjVFMkVcIl0sXG4gIGNvbG9yTmFtZXM6IHtcbiAgICBcIiMyMDE3MUNcIjogXCJibGFja1wiLFxuICAgIFwiIzFFMkE0M1wiOiBcImJsdWVcIixcbiAgICBcIiMyODM3N0RcIjogXCJibHVlXCIsXG4gICAgXCIjMzUyNzQ3XCI6IFwiYmx1ZVwiLFxuICAgIFwiI0NBMkUyNlwiOiBcInJlZFwiLFxuICAgIFwiIzlBMkExRlwiOiBcInJlZFwiLFxuICAgIFwiI0RBNkMyNlwiOiBcIm9yYW5nZVwiLFxuICAgIFwiIzQ1MzEyMVwiOiBcImJyb3duXCIsXG4gICAgXCIjOTE2QTQ3XCI6IFwiYnJvd25cIixcbiAgICBcIiNEQUFEMjdcIjogXCJvcmFuZ2VcIixcbiAgICBcIiM3RjdEMzFcIjogXCJncmVlblwiLFxuICAgIFwiIzJCNUUyRVwiOiBcImdyZWVuXCJcbiAgfSxcbiAgZ3JhZGllbnRzOiB7XG4gICAgJyMyMDE3MUMnOiBbJyMyMDE3MUMnLCAnIzAwMDAwMCddLFxuICAgICcjMUUyQTQzJzogWycjMUUyQTQzJywgJyMyNjMxNjYnXSxcbiAgICAnIzI4Mzc3RCc6IFsnIzI4Mzc3RCcsICcjMUU0Njk1J10sXG4gICAgJyMzNTI3NDcnOiBbJyMzNTI3NDcnLCAnIzQ1MDA1QiddLFxuICAgICcjQ0EyRTI2JzogWycjQ0EyRTI2JywgJyM5QjM1MkYnXSxcbiAgICAnIzlBMkExRic6IFsnIzlBMkExRicsICcjQ0QzNjIxJ10sXG4gICAgJyNEQTZDMjYnOiBbJyNEQTZDMjYnLCAnI0JENDgyMCddLFxuICAgICcjNDUzMTIxJzogWycjNDUzMTIxJywgJyMyODE4MDYnXSxcbiAgICAnIzkxNkE0Nyc6IFsnIzkxNkE0NycsICcjNjIzQTIyJ10sXG4gICAgJyNEQUFEMjcnOiBbJyNEQUFEMjcnLCAnI0FGODcxRCddLFxuICAgICcjN0Y3RDMxJzogWycjN0Y3RDMxJywgJyM1NTU4MjcnXSxcbiAgICAnIzJCNUUyRSc6IFsnIzJCNUUyRScsICcjMTY0NTFEJ10sXG4gIH0sXG4gIHBvcHM6IFtcIiMwMEFERUZcIiwgXCIjRjI4NUE1XCIsIFwiIzdEQzU3RlwiLCBcIiNGNkVCMTZcIiwgXCIjRjRFQUUwXCJdLFxuICBjb2xvclNpemU6IDIwLFxuICBzZWxlY3RlZENvbG9yU2l6ZTogMzBcbn07XG5cbmV4cG9ydHMuY29udGV4dHVhbFR1dHMgPSBbXG4gIHtcbiAgICB0eXBlOiBcImZpbGxcIixcbiAgICBjb3B5OiBcIjxzdHJvbmc+RG91YmxlLXRhcDwvc3Ryb25nPiBhIGZpbGxlZCBzaGFwZSB0byA8c3Ryb25nPlVORklMTDwvc3Ryb25nPiBpdC4gUmVwZWF0IHRvIDxzdHJvbmc+RklMTDwvc3Ryb25nPiBhbiB1bmZpbGxlZCBzaGFwZS5cIixcbiAgfSxcbiAge1xuICAgIHR5cGU6IFwicGluY2hcIixcbiAgICBjb3B5OiBcIjxzdHJvbmc+UGluY2g8L3N0cm9uZz4gc2hhcGVzIHdpdGggPHN0cm9uZz5UV08gRklOR0VSUzwvc3Ryb25nPiB0byA8c3Ryb25nPnJlc2l6ZTwvc3Ryb25nPiBhbmQgPHN0cm9uZz5tb3ZlPC9zdHJvbmc+IHRoZW0uXCIsXG4gIH0sXG4gIHtcbiAgICB0eXBlOiBcInN3aXBlXCIsXG4gICAgY29weTogXCJUbyA8c3Ryb25nPnJlbW92ZTwvc3Ryb25nPiBzaGFwZXMsIDxzdHJvbmc+cGluY2g8L3N0cm9uZz4gd2l0aCA8c3Ryb25nPnR3byBmaW5nZXJzPC9zdHJvbmc+IHRoZW4gPHN0cm9uZz5zd2lwZTwvc3Ryb25nPiBvciBoaXQgPHN0cm9uZz51bmRvPC9zdHJvbmc+LlwiXG4gIH0sXG5dO1xuIiwiY29uc3QgY29uZmlnID0gcmVxdWlyZSgnLi9jbGllbnQtY29uZmlnJyk7XG5cbmV4cG9ydCBjb25zdCB0cmFuc3BhcmVudCA9IG5ldyBDb2xvcigwLCAwKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhdGhDb2xvck5hbWUocGF0aCkge1xuICBsZXQgaGV4Q29sb3IgPSBwYXRoLnBhcmVudC5kYXRhLm9yaWdpbmFsQ29sb3I7XG4gIC8vIGxldCBoZXhDb2xvciA9IHBhdGguc3Ryb2tlQ29sb3IudG9DU1ModHJ1ZSk7IC8vIFRoaXMgZmFpbHMgd2hlbiBpdCdzIGEgZ3JhZGllbnRcbiAgcmV0dXJuIGdldENvbG9yTmFtZShoZXhDb2xvcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb2xvck5hbWUoY29sb3IpIHtcbiAgaWYgKGNvbG9yKSB7XG4gICAgY29sb3IgPSBjb2xvci50b1VwcGVyQ2FzZSgpOyAvLyBtYWtlIHN1cmVcbiAgICBpZiAoY29sb3IgaW4gY29uZmlnLnBhbGV0dGUuY29sb3JOYW1lcykge1xuICAgICAgcmV0dXJuIGNvbmZpZy5wYWxldHRlLmNvbG9yTmFtZXNbY29sb3JdO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJhbmRvbVBvcCgpIHtcbiAgY29uc3QgcG9wcyA9IGNvbmZpZy5wYWxldHRlLnBvcHM7XG4gIHJldHVybiBwb3BzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBvcHMubGVuZ3RoKV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbmRleGVkUG9wQ29sb3IoaW5kZXgpIHtcbiAgY29uc3QgcG9wcyA9IGNvbmZpZy5wYWxldHRlLnBvcHM7XG4gIHJldHVybiBwb3BzW2luZGV4ICUgcG9wcy5sZW5ndGhdO1xufVxuIiwiKGZ1bmN0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblxuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKFtdLCBmYWN0b3J5KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9PSBcInVuZGVmaW5lZFwiICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gIH0gZWxzZSB7XG4gICAgcm9vdC5TaGFwZURldGVjdG9yID0gZmFjdG9yeSgpO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uKCkge1xuXG4gIHZhciBfbmJTYW1wbGVQb2ludHM7XG4gIHZhciBfc3F1YXJlU2l6ZSA9IDI1MDtcbiAgdmFyIF9waGkgPSAwLjUgKiAoLTEuMCArIE1hdGguc3FydCg1LjApKTtcbiAgdmFyIF9hbmdsZVJhbmdlID0gZGVnMlJhZCg0NS4wKTtcbiAgdmFyIF9hbmdsZVByZWNpc2lvbiA9IGRlZzJSYWQoMi4wKTtcbiAgdmFyIF9oYWxmRGlhZ29uYWwgPSBNYXRoLnNxcnQoX3NxdWFyZVNpemUgKiBfc3F1YXJlU2l6ZSArIF9zcXVhcmVTaXplICogX3NxdWFyZVNpemUpICogMC41O1xuICB2YXIgX29yaWdpbiA9IHtcbiAgICB4OiAwLFxuICAgIHk6IDBcbiAgfTtcblxuICBmdW5jdGlvbiBkZWcyUmFkKGQpIHtcblxuICAgIHJldHVybiBkICogTWF0aC5QSSAvIDE4MC4wO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGdldERpc3RhbmNlKGEsIGIpIHtcblxuICAgIHZhciBkeCA9IGIueCAtIGEueDtcbiAgICB2YXIgZHkgPSBiLnkgLSBhLnk7XG5cbiAgICByZXR1cm4gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgfTtcblxuICBmdW5jdGlvbiBTdHJva2UocG9pbnRzLCBuYW1lKSB7XG5cbiAgICB0aGlzLnBvaW50cyA9IHBvaW50cztcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMucHJvY2Vzc1N0cm9rZSgpO1xuICB9O1xuXG4gIFN0cm9rZS5wcm90b3R5cGUucHJvY2Vzc1N0cm9rZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgdGhpcy5wb2ludHMgPSB0aGlzLnJlc2FtcGxlKCk7XG4gICAgdGhpcy5zZXRDZW50cm9pZCgpO1xuICAgIHRoaXMucG9pbnRzID0gdGhpcy5yb3RhdGVCeSgtdGhpcy5pbmRpY2F0aXZlQW5nbGUoKSk7XG4gICAgdGhpcy5wb2ludHMgPSB0aGlzLnNjYWxlVG9TcXVhcmUoKTtcbiAgICB0aGlzLnNldENlbnRyb2lkKCk7XG4gICAgdGhpcy5wb2ludHMgPSB0aGlzLnRyYW5zbGF0ZVRvT3JpZ2luKCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBTdHJva2UucHJvdG90eXBlLnJlc2FtcGxlID0gZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgbG9jYWxEaXN0YW5jZSwgcTtcbiAgICB2YXIgaW50ZXJ2YWwgPSB0aGlzLnN0cm9rZUxlbmd0aCgpIC8gKF9uYlNhbXBsZVBvaW50cyAtIDEpO1xuICAgIHZhciBkaXN0YW5jZSA9IDAuMDtcbiAgICB2YXIgbmV3UG9pbnRzID0gW3RoaXMucG9pbnRzWzBdXTtcblxuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdGhpcy5wb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxvY2FsRGlzdGFuY2UgPSBnZXREaXN0YW5jZSh0aGlzLnBvaW50c1tpIC0gMV0sIHRoaXMucG9pbnRzW2ldKTtcblxuICAgICAgaWYgKGRpc3RhbmNlICsgbG9jYWxEaXN0YW5jZSA+PSBpbnRlcnZhbCkge1xuICAgICAgICBxID0ge1xuICAgICAgICAgIHg6IHRoaXMucG9pbnRzW2kgLSAxXS54ICsgKChpbnRlcnZhbCAtIGRpc3RhbmNlKSAvIGxvY2FsRGlzdGFuY2UpICogKHRoaXMucG9pbnRzW2ldLnggLSB0aGlzLnBvaW50c1tpIC0gMV0ueCksXG4gICAgICAgICAgeTogdGhpcy5wb2ludHNbaSAtIDFdLnkgKyAoKGludGVydmFsIC0gZGlzdGFuY2UpIC8gbG9jYWxEaXN0YW5jZSkgKiAodGhpcy5wb2ludHNbaV0ueSAtIHRoaXMucG9pbnRzW2kgLSAxXS55KVxuICAgICAgICB9O1xuXG4gICAgICAgIG5ld1BvaW50cy5wdXNoKHEpO1xuICAgICAgICB0aGlzLnBvaW50cy5zcGxpY2UoaSwgMCwgcSk7XG4gICAgICAgIGRpc3RhbmNlID0gMC4wO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGlzdGFuY2UgKz0gbG9jYWxEaXN0YW5jZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobmV3UG9pbnRzLmxlbmd0aCA9PT0gX25iU2FtcGxlUG9pbnRzIC0gMSkge1xuICAgICAgbmV3UG9pbnRzLnB1c2godGhpcy5wb2ludHNbdGhpcy5wb2ludHMubGVuZ3RoIC0gMV0pO1xuICAgIH1cblxuICAgIHJldHVybiBuZXdQb2ludHM7XG4gIH07XG5cbiAgU3Ryb2tlLnByb3RvdHlwZS5yb3RhdGVCeSA9IGZ1bmN0aW9uKGFuZ2xlKSB7XG5cbiAgICB2YXIgcG9pbnQ7XG4gICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICB2YXIgc2luID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgIHZhciBuZXdQb2ludHMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHBvaW50ID0gdGhpcy5wb2ludHNbaV07XG5cbiAgICAgIG5ld1BvaW50cy5wdXNoKHtcbiAgICAgICAgeDogKHBvaW50LnggLSB0aGlzLmMueCkgKiBjb3MgLSAocG9pbnQueSAtIHRoaXMuYy55KSAqIHNpbiArIHRoaXMuYy54LFxuICAgICAgICB5OiAocG9pbnQueCAtIHRoaXMuYy54KSAqIHNpbiArIChwb2ludC55IC0gdGhpcy5jLnkpICogY29zICsgdGhpcy5jLnlcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBuZXdQb2ludHM7XG4gIH07XG5cbiAgU3Ryb2tlLnByb3RvdHlwZS5zY2FsZVRvU3F1YXJlID0gZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgcG9pbnQ7XG4gICAgdmFyIG5ld1BvaW50cyA9IFtdXG4gICAgdmFyIGJveCA9IHtcbiAgICAgIG1pblg6ICtJbmZpbml0eSxcbiAgICAgIG1heFg6IC1JbmZpbml0eSxcbiAgICAgIG1pblk6ICtJbmZpbml0eSxcbiAgICAgIG1heFk6IC1JbmZpbml0eVxuICAgIH07XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBwb2ludCA9IHRoaXMucG9pbnRzW2ldO1xuXG4gICAgICBib3gubWluWCA9IE1hdGgubWluKGJveC5taW5YLCBwb2ludC54KTtcbiAgICAgIGJveC5taW5ZID0gTWF0aC5taW4oYm94Lm1pblksIHBvaW50LnkpO1xuICAgICAgYm94Lm1heFggPSBNYXRoLm1heChib3gubWF4WCwgcG9pbnQueCk7XG4gICAgICBib3gubWF4WSA9IE1hdGgubWF4KGJveC5tYXhZLCBwb2ludC55KTtcbiAgICB9XG5cbiAgICBib3gud2lkdGggPSBib3gubWF4WCAtIGJveC5taW5YO1xuICAgIGJveC5oZWlnaHQgPSBib3gubWF4WSAtIGJveC5taW5ZO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHRoaXMucG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBwb2ludCA9IHRoaXMucG9pbnRzW2ldO1xuXG4gICAgICBuZXdQb2ludHMucHVzaCh7XG4gICAgICAgIHg6IHBvaW50LnggKiAoX3NxdWFyZVNpemUgLyBib3gud2lkdGgpLFxuICAgICAgICB5OiBwb2ludC55ICogKF9zcXVhcmVTaXplIC8gYm94LmhlaWdodClcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBuZXdQb2ludHM7XG4gIH07XG5cbiAgU3Ryb2tlLnByb3RvdHlwZS50cmFuc2xhdGVUb09yaWdpbiA9IGZ1bmN0aW9uKHBvaW50cykge1xuXG4gICAgdmFyIHBvaW50O1xuICAgIHZhciBuZXdQb2ludHMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHBvaW50ID0gdGhpcy5wb2ludHNbaV07XG5cbiAgICAgIG5ld1BvaW50cy5wdXNoKHtcbiAgICAgICAgeDogcG9pbnQueCArIF9vcmlnaW4ueCAtIHRoaXMuYy54LFxuICAgICAgICB5OiBwb2ludC55ICsgX29yaWdpbi55IC0gdGhpcy5jLnlcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBuZXdQb2ludHM7XG4gIH07XG5cbiAgU3Ryb2tlLnByb3RvdHlwZS5zZXRDZW50cm9pZCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgdmFyIHBvaW50O1xuICAgIHRoaXMuYyA9IHtcbiAgICAgIHg6IDAuMCxcbiAgICAgIHk6IDAuMFxuICAgIH07XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBwb2ludCA9IHRoaXMucG9pbnRzW2ldO1xuXG4gICAgICB0aGlzLmMueCArPSBwb2ludC54O1xuICAgICAgdGhpcy5jLnkgKz0gcG9pbnQueTtcbiAgICB9XG5cbiAgICB0aGlzLmMueCAvPSB0aGlzLnBvaW50cy5sZW5ndGg7XG4gICAgdGhpcy5jLnkgLz0gdGhpcy5wb2ludHMubGVuZ3RoO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgU3Ryb2tlLnByb3RvdHlwZS5pbmRpY2F0aXZlQW5nbGUgPSBmdW5jdGlvbigpIHtcblxuICAgIHJldHVybiBNYXRoLmF0YW4yKHRoaXMuYy55IC0gdGhpcy5wb2ludHNbMF0ueSwgdGhpcy5jLnggLSB0aGlzLnBvaW50c1swXS54KTtcbiAgfTtcblxuICBTdHJva2UucHJvdG90eXBlLnN0cm9rZUxlbmd0aCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgdmFyIGQgPSAwLjA7XG5cbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IHRoaXMucG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBkICs9IGdldERpc3RhbmNlKHRoaXMucG9pbnRzW2kgLSAxXSwgdGhpcy5wb2ludHNbaV0pO1xuICAgIH1cblxuICAgIHJldHVybiBkO1xuICB9O1xuXG4gIFN0cm9rZS5wcm90b3R5cGUuZGlzdGFuY2VBdEJlc3RBbmdsZSA9IGZ1bmN0aW9uKHBhdHRlcm4pIHtcblxuICAgIHZhciBhID0gLV9hbmdsZVJhbmdlO1xuICAgIHZhciBiID0gX2FuZ2xlUmFuZ2U7XG4gICAgdmFyIHgxID0gX3BoaSAqIGEgKyAoMS4wIC0gX3BoaSkgKiBiO1xuICAgIHZhciBmMSA9IHRoaXMuZGlzdGFuY2VBdEFuZ2xlKHBhdHRlcm4sIHgxKTtcbiAgICB2YXIgeDIgPSAoMS4wIC0gX3BoaSkgKiBhICsgX3BoaSAqIGI7XG4gICAgdmFyIGYyID0gdGhpcy5kaXN0YW5jZUF0QW5nbGUocGF0dGVybiwgeDIpO1xuXG4gICAgd2hpbGUgKE1hdGguYWJzKGIgLSBhKSA+IF9hbmdsZVByZWNpc2lvbikge1xuXG4gICAgICBpZiAoZjEgPCBmMikge1xuICAgICAgICBiID0geDI7XG4gICAgICAgIHgyID0geDE7XG4gICAgICAgIGYyID0gZjE7XG4gICAgICAgIHgxID0gX3BoaSAqIGEgKyAoMS4wIC0gX3BoaSkgKiBiO1xuICAgICAgICBmMSA9IHRoaXMuZGlzdGFuY2VBdEFuZ2xlKHBhdHRlcm4sIHgxKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGEgPSB4MTtcbiAgICAgICAgeDEgPSB4MjtcbiAgICAgICAgZjEgPSBmMjtcbiAgICAgICAgeDIgPSAoMS4wIC0gX3BoaSkgKiBhICsgX3BoaSAqIGI7XG4gICAgICAgIGYyID0gdGhpcy5kaXN0YW5jZUF0QW5nbGUocGF0dGVybiwgeDIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBNYXRoLm1pbihmMSwgZjIpO1xuICB9O1xuXG4gIFN0cm9rZS5wcm90b3R5cGUuZGlzdGFuY2VBdEFuZ2xlID0gZnVuY3Rpb24ocGF0dGVybiwgYW5nbGUpIHtcblxuICAgIHZhciBzdHJva2VQb2ludHMgPSB0aGlzLnJvdGF0ZUJ5KGFuZ2xlKTtcbiAgICB2YXIgcGF0dGVyblBvaW50cyA9IHBhdHRlcm4ucG9pbnRzO1xuICAgIHZhciBkID0gMC4wO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJva2VQb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGQgKz0gZ2V0RGlzdGFuY2Uoc3Ryb2tlUG9pbnRzW2ldLCBwYXR0ZXJuUG9pbnRzW2ldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZCAvIHN0cm9rZVBvaW50cy5sZW5ndGg7XG4gIH07XG5cbiAgZnVuY3Rpb24gU2hhcGVEZXRlY3RvcihwYXR0ZXJucywgb3B0aW9ucykge1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdGhpcy50aHJlc2hvbGQgPSBvcHRpb25zLnRocmVzaG9sZCB8fCAwO1xuICAgIF9uYlNhbXBsZVBvaW50cyA9IG9wdGlvbnMubmJTYW1wbGVQb2ludHMgfHwgNjQ7XG5cbiAgICB0aGlzLnBhdHRlcm5zID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdHRlcm5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmxlYXJuKHBhdHRlcm5zW2ldLm5hbWUsIHBhdHRlcm5zW2ldLnBvaW50cyk7XG4gICAgfVxuICB9XG5cbiAgU2hhcGVEZXRlY3Rvci5kZWZhdWx0U2hhcGVzID0gW1xuICAgIHtcbiAgICAgIHBvaW50czogW3sgeDogMCwgeTogNTAgfSwgeyB4OiAxMDAsIHk6IDUwIH1dLFxuICAgICAgbmFtZTogXCJsaW5lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIHBvaW50czogW3sgeDogNTAsIHk6IDAgfSwgeyB4OiA1MCwgeTogMTAwIH1dLFxuICAgICAgbmFtZTogXCJsaW5lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIHBvaW50czogW3sgeDogMCwgeTogMCB9LCB7IHg6IDEwMCwgeTogMTAwIH1dLFxuICAgICAgbmFtZTogXCJsaW5lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIHBvaW50czogW3tcInhcIjogODksXCJ5XCI6IDE2NH0se1wieFwiOiA5MCxcInlcIjogMTYyfSx7XCJ4XCI6IDkyLFwieVwiOiAxNjJ9LHtcInhcIjogOTQsXCJ5XCI6IDE2NH0se1wieFwiOiA5NSxcInlcIjogMTY2fSx7XCJ4XCI6IDk2LFwieVwiOiAxNjl9LHtcInhcIjogOTcsXCJ5XCI6IDE3MX0se1wieFwiOiA5OSxcInlcIjogMTc1fSx7XCJ4XCI6IDEwMSxcInlcIjogMTc4fSx7XCJ4XCI6IDEwMyxcInlcIjogMTgyfSx7XCJ4XCI6IDEwNixcInlcIjogMTg5fSx7XCJ4XCI6IDEwOCxcInlcIjogMTk0fSx7XCJ4XCI6IDExMSxcInlcIjogMTk5fSx7XCJ4XCI6IDExNCxcInlcIjogMjA0fSx7XCJ4XCI6IDExNyxcInlcIjogMjA5fSx7XCJ4XCI6IDExOSxcInlcIjogMjE0fSx7XCJ4XCI6IDEyMixcInlcIjogMjE4fSx7XCJ4XCI6IDEyNCxcInlcIjogMjIyfSx7XCJ4XCI6IDEyNixcInlcIjogMjI1fSx7XCJ4XCI6IDEyOCxcInlcIjogMjI4fSx7XCJ4XCI6IDEzMCxcInlcIjogMjI5fSx7XCJ4XCI6IDEzMyxcInlcIjogMjMzfSx7XCJ4XCI6IDEzNCxcInlcIjogMjM2fSx7XCJ4XCI6IDEzNixcInlcIjogMjM5fSx7XCJ4XCI6IDEzOCxcInlcIjogMjQwfSx7XCJ4XCI6IDEzOSxcInlcIjogMjQyfSx7XCJ4XCI6IDE0MCxcInlcIjogMjQ0fSx7XCJ4XCI6IDE0MixcInlcIjogMjQyfSx7XCJ4XCI6IDE0MixcInlcIjogMjQwfSx7XCJ4XCI6IDE0MixcInlcIjogMjM3fSx7XCJ4XCI6IDE0MyxcInlcIjogMjM1fSx7XCJ4XCI6IDE0MyxcInlcIjogMjMzfSx7XCJ4XCI6IDE0NSxcInlcIjogMjI5fSx7XCJ4XCI6IDE0NixcInlcIjogMjI2fSx7XCJ4XCI6IDE0OCxcInlcIjogMjE3fSx7XCJ4XCI6IDE0OSxcInlcIjogMjA4fSx7XCJ4XCI6IDE0OSxcInlcIjogMjA1fSx7XCJ4XCI6IDE1MSxcInlcIjogMTk2fSx7XCJ4XCI6IDE1MSxcInlcIjogMTkzfSx7XCJ4XCI6IDE1MyxcInlcIjogMTgyfSx7XCJ4XCI6IDE1NSxcInlcIjogMTcyfSx7XCJ4XCI6IDE1NyxcInlcIjogMTY1fSx7XCJ4XCI6IDE1OSxcInlcIjogMTYwfSx7XCJ4XCI6IDE2MixcInlcIjogMTU1fSx7XCJ4XCI6IDE2NCxcInlcIjogMTUwfSx7XCJ4XCI6IDE2NSxcInlcIjogMTQ4fSx7XCJ4XCI6IDE2NixcInlcIjogMTQ2fV0sXG4gICAgICBuYW1lOiBcImxpbmVcIlxuICAgIH0sXG4gICAge1xuICAgICAgcG9pbnRzOiBbe1wieFwiOiA5MSxcInlcIjogMTg1fSx7XCJ4XCI6IDkzLFwieVwiOiAxODV9LHtcInhcIjogOTUsXCJ5XCI6IDE4NX0se1wieFwiOiA5NyxcInlcIjogMTg1fSx7XCJ4XCI6IDEwMCxcInlcIjogMTg4fSx7XCJ4XCI6IDEwMixcInlcIjogMTg5fSx7XCJ4XCI6IDEwNCxcInlcIjogMTkwfSx7XCJ4XCI6IDEwNixcInlcIjogMTkzfSx7XCJ4XCI6IDEwOCxcInlcIjogMTk1fSx7XCJ4XCI6IDExMCxcInlcIjogMTk4fSx7XCJ4XCI6IDExMixcInlcIjogMjAxfSx7XCJ4XCI6IDExNCxcInlcIjogMjA0fSx7XCJ4XCI6IDExNSxcInlcIjogMjA3fSx7XCJ4XCI6IDExNyxcInlcIjogMjEwfSx7XCJ4XCI6IDExOCxcInlcIjogMjEyfSx7XCJ4XCI6IDEyMCxcInlcIjogMjE0fSx7XCJ4XCI6IDEyMSxcInlcIjogMjE3fSx7XCJ4XCI6IDEyMixcInlcIjogMjE5fSx7XCJ4XCI6IDEyMyxcInlcIjogMjIyfSx7XCJ4XCI6IDEyNCxcInlcIjogMjI0fSx7XCJ4XCI6IDEyNixcInlcIjogMjI2fSx7XCJ4XCI6IDEyNyxcInlcIjogMjI5fSx7XCJ4XCI6IDEyOSxcInlcIjogMjMxfSx7XCJ4XCI6IDEzMCxcInlcIjogMjMzfSx7XCJ4XCI6IDEyOSxcInlcIjogMjMxfSx7XCJ4XCI6IDEyOSxcInlcIjogMjI4fSx7XCJ4XCI6IDEyOSxcInlcIjogMjI2fSx7XCJ4XCI6IDEyOSxcInlcIjogMjI0fSx7XCJ4XCI6IDEyOSxcInlcIjogMjIxfSx7XCJ4XCI6IDEyOSxcInlcIjogMjE4fSx7XCJ4XCI6IDEyOSxcInlcIjogMjEyfSx7XCJ4XCI6IDEyOSxcInlcIjogMjA4fSx7XCJ4XCI6IDEzMCxcInlcIjogMTk4fSx7XCJ4XCI6IDEzMixcInlcIjogMTg5fSx7XCJ4XCI6IDEzNCxcInlcIjogMTgyfSx7XCJ4XCI6IDEzNyxcInlcIjogMTczfSx7XCJ4XCI6IDE0MyxcInlcIjogMTY0fSx7XCJ4XCI6IDE0NyxcInlcIjogMTU3fSx7XCJ4XCI6IDE1MSxcInlcIjogMTUxfSx7XCJ4XCI6IDE1NSxcInlcIjogMTQ0fSx7XCJ4XCI6IDE2MSxcInlcIjogMTM3fSx7XCJ4XCI6IDE2NSxcInlcIjogMTMxfSx7XCJ4XCI6IDE3MSxcInlcIjogMTIyfSx7XCJ4XCI6IDE3NCxcInlcIjogMTE4fSx7XCJ4XCI6IDE3NixcInlcIjogMTE0fSx7XCJ4XCI6IDE3NyxcInlcIjogMTEyfSx7XCJ4XCI6IDE3NyxcInlcIjogMTE0fSx7XCJ4XCI6IDE3NSxcInlcIjogMTE2fSx7XCJ4XCI6IDE3MyxcInlcIjogMTE4fV0sXG4gICAgICBuYW1lOiBcImxpbmVcIlxuICAgIH0sXG4gICAge1xuICAgICAgcG9pbnRzOiBbe1wieFwiOjExMyxcInlcIjo2OH0se1wieFwiOjg2LFwieVwiOjc5fSx7XCJ4XCI6NjMsXCJ5XCI6MTMxfSx7XCJ4XCI6NzgsXCJ5XCI6MTQ3fSx7XCJ4XCI6MTU2LFwieVwiOjE0OX0se1wieFwiOjE5NSxcInlcIjoxMDB9LHtcInhcIjoxODksXCJ5XCI6Nzl9LHtcInhcIjoxMjUuNzM0OTcsXCJ5XCI6NjIuODExNjh9XSxcbiAgICAgIG5hbWU6IFwiY2lyY2xlXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIHBvaW50czogW3tcInhcIjo5OCxcInlcIjo2N30se1wieFwiOjc3LFwieVwiOjg1fSx7XCJ4XCI6NzcsXCJ5XCI6MTYyfSx7XCJ4XCI6MTc5LFwieVwiOjE1Nn0se1wieFwiOjE5NyxcInlcIjoxMjN9LHtcInhcIjoxNjcsXCJ5XCI6NjN9LHtcInhcIjoxNDEsXCJ5XCI6NjF9LHtcInhcIjoxMTAsXCJ5XCI6NTl9LHtcInhcIjoxMDYuNTExOTIsXCJ5XCI6NTkuNzA0MDd9XSxcbiAgICAgIG5hbWU6IFwiY2lyY2xlXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIHBvaW50czogW3tcInhcIjo2MCxcInlcIjo0N30se1wieFwiOjQzLFwieVwiOjk2fSx7XCJ4XCI6NTIsXCJ5XCI6MjA2fSx7XCJ4XCI6NjMsXCJ5XCI6MjQ2fSx7XCJ4XCI6MTE4LFwieVwiOjI5Nn0se1wieFwiOjE0NCxcInlcIjoyNDZ9LHtcInhcIjoxNDEsXCJ5XCI6MTQ3fSx7XCJ4XCI6MTMzLFwieVwiOjEyOX0se1wieFwiOjExMyxcInlcIjo4MH0se1wieFwiOjYwLjQyNzM4LFwieVwiOjQ1Ljc2ODEzfV0sXG4gICAgICBuYW1lOiBcImNpcmNsZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBwb2ludHM6IFt7XCJ4XCI6IDEyNyxcInlcIjogMTQxfSx7XCJ4XCI6IDEyNCxcInlcIjogMTQwfSx7XCJ4XCI6IDEyMCxcInlcIjogMTM5fSx7XCJ4XCI6IDExOCxcInlcIjogMTM5fSx7XCJ4XCI6IDExNixcInlcIjogMTM5fSx7XCJ4XCI6IDExMSxcInlcIjogMTQwfSx7XCJ4XCI6IDEwOSxcInlcIjogMTQxfSx7XCJ4XCI6IDEwNCxcInlcIjogMTQ0fSx7XCJ4XCI6IDEwMCxcInlcIjogMTQ3fSx7XCJ4XCI6IDk2LFwieVwiOiAxNTJ9LHtcInhcIjogOTMsXCJ5XCI6IDE1N30se1wieFwiOiA5MCxcInlcIjogMTYzfSx7XCJ4XCI6IDg3LFwieVwiOiAxNjl9LHtcInhcIjogODUsXCJ5XCI6IDE3NX0se1wieFwiOiA4MyxcInlcIjogMTgxfSx7XCJ4XCI6IDgyLFwieVwiOiAxOTB9LHtcInhcIjogODIsXCJ5XCI6IDE5NX0se1wieFwiOiA4MyxcInlcIjogMjAwfSx7XCJ4XCI6IDg0LFwieVwiOiAyMDV9LHtcInhcIjogODgsXCJ5XCI6IDIxM30se1wieFwiOiA5MSxcInlcIjogMjE2fSx7XCJ4XCI6IDk2LFwieVwiOiAyMTl9LHtcInhcIjogMTAzLFwieVwiOiAyMjJ9LHtcInhcIjogMTA4LFwieVwiOiAyMjR9LHtcInhcIjogMTExLFwieVwiOiAyMjR9LHtcInhcIjogMTIwLFwieVwiOiAyMjR9LHtcInhcIjogMTMzLFwieVwiOiAyMjN9LHtcInhcIjogMTQyLFwieVwiOiAyMjJ9LHtcInhcIjogMTUyLFwieVwiOiAyMTh9LHtcInhcIjogMTYwLFwieVwiOiAyMTR9LHtcInhcIjogMTY3LFwieVwiOiAyMTB9LHtcInhcIjogMTczLFwieVwiOiAyMDR9LHtcInhcIjogMTc4LFwieVwiOiAxOTh9LHtcInhcIjogMTc5LFwieVwiOiAxOTZ9LHtcInhcIjogMTgyLFwieVwiOiAxODh9LHtcInhcIjogMTgyLFwieVwiOiAxNzd9LHtcInhcIjogMTc4LFwieVwiOiAxNjd9LHtcInhcIjogMTcwLFwieVwiOiAxNTB9LHtcInhcIjogMTYzLFwieVwiOiAxMzh9LHtcInhcIjogMTUyLFwieVwiOiAxMzB9LHtcInhcIjogMTQzLFwieVwiOiAxMjl9LHtcInhcIjogMTQwLFwieVwiOiAxMzF9LHtcInhcIjogMTI5LFwieVwiOiAxMzZ9LHtcInhcIjogMTI2LFwieVwiOiAxMzl9XSxcbiAgICAgIG5hbWU6IFwiY2lyY2xlXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIHBvaW50czogW3tcInhcIjo1MTYsXCJ5XCI6Mjg0fSx7XCJ4XCI6NDk2LFwieVwiOjMxOX0se1wieFwiOjQ5NixcInlcIjozMjl9LHtcInhcIjo1MTMsXCJ5XCI6MzI5fSx7XCJ4XCI6NTUwLFwieVwiOjMyNH0se1wieFwiOjY5NixcInlcIjozMDV9LHtcInhcIjo3MzcsXCJ5XCI6Mjk4fSx7XCJ4XCI6NzQ2LFwieVwiOjI5Mn0se1wieFwiOjczNCxcInlcIjoyNzh9LHtcInhcIjo3MDksXCJ5XCI6MjUyfSx7XCJ4XCI6NjY0LFwieVwiOjE5M31dLFxuICAgICAgbmFtZTogXCJ0cmlhbmdsZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBwb2ludHM6IFt7XCJ4XCI6MTc5LFwieVwiOjE1OX0se1wieFwiOjE1MixcInlcIjoyOTB9LHtcInhcIjoxNDMsXCJ5XCI6MzM2fSx7XCJ4XCI6MTQyLFwieVwiOjM1NX0se1wieFwiOjE2MCxcInlcIjozNDh9LHtcInhcIjoyMDgsXCJ5XCI6MzM3fSx7XCJ4XCI6MjQxLFwieVwiOjMzMH0se1wieFwiOjI1NixcInlcIjozMjh9LHtcInhcIjoyNTQsXCJ5XCI6MzE1fSx7XCJ4XCI6MjM4LFwieVwiOjI3N30se1wieFwiOjIxMCxcInlcIjoyMDB9LHtcInhcIjoxODIuOTQzNTYsXCJ5XCI6MTEwLjQ1NjU2fV0sXG4gICAgICBuYW1lOiBcInRyaWFuZ2xlXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIHBvaW50czogW3tcInhcIjoxMDUsXCJ5XCI6MzM1fSx7XCJ4XCI6MTE1LFwieVwiOjM2Mn0se1wieFwiOjEyOCxcInlcIjozMzh9LHtcInhcIjoxNjMsXCJ5XCI6MjcxfSx7XCJ4XCI6MjQxLFwieVwiOjEzNX0se1wieFwiOjI2MSxcInlcIjoxMDR9LHtcInhcIjoyNjcsXCJ5XCI6OTh9LHtcInhcIjoyNjEsXCJ5XCI6MTAyfSx7XCJ4XCI6MjM2LFwieVwiOjExOX0se1wieFwiOjE1MSxcInlcIjoxOTV9LHtcInhcIjoxMDgsXCJ5XCI6MjM1fSx7XCJ4XCI6ODMsXCJ5XCI6MjY3fSx7XCJ4XCI6NzkuOTI2MTYsXCJ5XCI6MjcwLjkzNDUxfV0sXG4gICAgICBuYW1lOiBcInRyaWFuZ2xlXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIHBvaW50czogW3tcInhcIjogMTM3LFwieVwiOiAxMzl9LHtcInhcIjogMTM1LFwieVwiOiAxNDF9LHtcInhcIjogMTMzLFwieVwiOiAxNDR9LHtcInhcIjogMTMyLFwieVwiOiAxNDZ9LHtcInhcIjogMTMwLFwieVwiOiAxNDl9LHtcInhcIjogMTI4LFwieVwiOiAxNTF9LHtcInhcIjogMTI2LFwieVwiOiAxNTV9LHtcInhcIjogMTIzLFwieVwiOiAxNjB9LHtcInhcIjogMTIwLFwieVwiOiAxNjZ9LHtcInhcIjogMTE2LFwieVwiOiAxNzF9LHtcInhcIjogMTEyLFwieVwiOiAxNzd9LHtcInhcIjogMTA3LFwieVwiOiAxODN9LHtcInhcIjogMTAyLFwieVwiOiAxODh9LHtcInhcIjogMTAwLFwieVwiOiAxOTF9LHtcInhcIjogOTUsXCJ5XCI6IDE5NX0se1wieFwiOiA5MCxcInlcIjogMTk5fSx7XCJ4XCI6IDg2LFwieVwiOiAyMDN9LHtcInhcIjogODIsXCJ5XCI6IDIwNn0se1wieFwiOiA4MCxcInlcIjogMjA5fSx7XCJ4XCI6IDc1LFwieVwiOiAyMTN9LHtcInhcIjogNzMsXCJ5XCI6IDIxM30se1wieFwiOiA3MCxcInlcIjogMjE2fSx7XCJ4XCI6IDY3LFwieVwiOiAyMTl9LHtcInhcIjogNjQsXCJ5XCI6IDIyMX0se1wieFwiOiA2MSxcInlcIjogMjIzfSx7XCJ4XCI6IDYwLFwieVwiOiAyMjV9LHtcInhcIjogNjIsXCJ5XCI6IDIyNn0se1wieFwiOiA2NSxcInlcIjogMjI1fSx7XCJ4XCI6IDY3LFwieVwiOiAyMjZ9LHtcInhcIjogNzQsXCJ5XCI6IDIyNn0se1wieFwiOiA3NyxcInlcIjogMjI3fSx7XCJ4XCI6IDg1LFwieVwiOiAyMjl9LHtcInhcIjogOTEsXCJ5XCI6IDIzMH0se1wieFwiOiA5OSxcInlcIjogMjMxfSx7XCJ4XCI6IDEwOCxcInlcIjogMjMyfSx7XCJ4XCI6IDExNixcInlcIjogMjMzfSx7XCJ4XCI6IDEyNSxcInlcIjogMjMzfSx7XCJ4XCI6IDEzNCxcInlcIjogMjM0fSx7XCJ4XCI6IDE0NSxcInlcIjogMjMzfSx7XCJ4XCI6IDE1MyxcInlcIjogMjMyfSx7XCJ4XCI6IDE2MCxcInlcIjogMjMzfSx7XCJ4XCI6IDE3MCxcInlcIjogMjM0fSx7XCJ4XCI6IDE3NyxcInlcIjogMjM1fSx7XCJ4XCI6IDE3OSxcInlcIjogMjM2fSx7XCJ4XCI6IDE4NixcInlcIjogMjM3fSx7XCJ4XCI6IDE5MyxcInlcIjogMjM4fSx7XCJ4XCI6IDE5OCxcInlcIjogMjM5fSx7XCJ4XCI6IDIwMCxcInlcIjogMjM3fSx7XCJ4XCI6IDIwMixcInlcIjogMjM5fSx7XCJ4XCI6IDIwNCxcInlcIjogMjM4fSx7XCJ4XCI6IDIwNixcInlcIjogMjM0fSx7XCJ4XCI6IDIwNSxcInlcIjogMjMwfSx7XCJ4XCI6IDIwMixcInlcIjogMjIyfSx7XCJ4XCI6IDE5NyxcInlcIjogMjE2fSx7XCJ4XCI6IDE5MixcInlcIjogMjA3fSx7XCJ4XCI6IDE4NixcInlcIjogMTk4fSx7XCJ4XCI6IDE3OSxcInlcIjogMTg5fSx7XCJ4XCI6IDE3NCxcInlcIjogMTgzfSx7XCJ4XCI6IDE3MCxcInlcIjogMTc4fSx7XCJ4XCI6IDE2NCxcInlcIjogMTcxfSx7XCJ4XCI6IDE2MSxcInlcIjogMTY4fSx7XCJ4XCI6IDE1NCxcInlcIjogMTYwfSx7XCJ4XCI6IDE0OCxcInlcIjogMTU1fSx7XCJ4XCI6IDE0MyxcInlcIjogMTUwfSx7XCJ4XCI6IDEzOCxcInlcIjogMTQ4fSx7XCJ4XCI6IDEzNixcInlcIjogMTQ4fV0sXG4gICAgICBuYW1lOiBcInRyaWFuZ2xlXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIHBvaW50czogW3t4OiAwLCB5OiAwfSwge3g6IDAsIHk6IDUwfSwge3g6IDUwLCB5OiA1MH0sIHt4OiA1MCwgeTogMH1dLFxuICAgICAgbmFtZTogXCJzcXVhcmVcIlxuICAgIH0sXG4gICAge1xuICAgICAgcG9pbnRzOiBbe3g6IDAsIHk6IDB9LCB7eDogMCwgeTogMTAwfSwge3g6IDUwLCB5OiAxMDB9LCB7eDogNTAsIHk6IDB9XSxcbiAgICAgIG5hbWU6IFwic3F1YXJlXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIHBvaW50czogW3tcInhcIjogNzgsXCJ5XCI6IDE0OX0se1wieFwiOiA3OCxcInlcIjogMTUzfSx7XCJ4XCI6IDc4LFwieVwiOiAxNTd9LHtcInhcIjogNzgsXCJ5XCI6IDE2MH0se1wieFwiOiA3OSxcInlcIjogMTYyfSx7XCJ4XCI6IDc5LFwieVwiOiAxNjR9LHtcInhcIjogNzksXCJ5XCI6IDE2N30se1wieFwiOiA3OSxcInlcIjogMTY5fSx7XCJ4XCI6IDc5LFwieVwiOiAxNzN9LHtcInhcIjogNzksXCJ5XCI6IDE3OH0se1wieFwiOiA3OSxcInlcIjogMTgzfSx7XCJ4XCI6IDgwLFwieVwiOiAxODl9LHtcInhcIjogODAsXCJ5XCI6IDE5M30se1wieFwiOiA4MCxcInlcIjogMTk4fSx7XCJ4XCI6IDgwLFwieVwiOiAyMDJ9LHtcInhcIjogODEsXCJ5XCI6IDIwOH0se1wieFwiOiA4MSxcInlcIjogMjEwfSx7XCJ4XCI6IDgxLFwieVwiOiAyMTZ9LHtcInhcIjogODIsXCJ5XCI6IDIyMn0se1wieFwiOiA4MixcInlcIjogMjI0fSx7XCJ4XCI6IDgyLFwieVwiOiAyMjd9LHtcInhcIjogODMsXCJ5XCI6IDIyOX0se1wieFwiOiA4MyxcInlcIjogMjMxfSx7XCJ4XCI6IDg1LFwieVwiOiAyMzB9LHtcInhcIjogODgsXCJ5XCI6IDIzMn0se1wieFwiOiA5MCxcInlcIjogMjMzfSx7XCJ4XCI6IDkyLFwieVwiOiAyMzJ9LHtcInhcIjogOTQsXCJ5XCI6IDIzM30se1wieFwiOiA5OSxcInlcIjogMjMyfSx7XCJ4XCI6IDEwMixcInlcIjogMjMzfSx7XCJ4XCI6IDEwNixcInlcIjogMjMzfSx7XCJ4XCI6IDEwOSxcInlcIjogMjM0fSx7XCJ4XCI6IDExNyxcInlcIjogMjM1fSx7XCJ4XCI6IDEyMyxcInlcIjogMjM2fSx7XCJ4XCI6IDEyNixcInlcIjogMjM2fSx7XCJ4XCI6IDEzNSxcInlcIjogMjM3fSx7XCJ4XCI6IDE0MixcInlcIjogMjM4fSx7XCJ4XCI6IDE0NSxcInlcIjogMjM4fSx7XCJ4XCI6IDE1MixcInlcIjogMjM4fSx7XCJ4XCI6IDE1NCxcInlcIjogMjM5fSx7XCJ4XCI6IDE2NSxcInlcIjogMjM4fSx7XCJ4XCI6IDE3NCxcInlcIjogMjM3fSx7XCJ4XCI6IDE3OSxcInlcIjogMjM2fSx7XCJ4XCI6IDE4NixcInlcIjogMjM1fSx7XCJ4XCI6IDE5MSxcInlcIjogMjM1fSx7XCJ4XCI6IDE5NSxcInlcIjogMjMzfSx7XCJ4XCI6IDE5NyxcInlcIjogMjMzfSx7XCJ4XCI6IDIwMCxcInlcIjogMjMzfSx7XCJ4XCI6IDIwMSxcInlcIjogMjM1fSx7XCJ4XCI6IDIwMSxcInlcIjogMjMzfSx7XCJ4XCI6IDE5OSxcInlcIjogMjMxfSx7XCJ4XCI6IDE5OCxcInlcIjogMjI2fSx7XCJ4XCI6IDE5OCxcInlcIjogMjIwfSx7XCJ4XCI6IDE5NixcInlcIjogMjA3fSx7XCJ4XCI6IDE5NSxcInlcIjogMTk1fSx7XCJ4XCI6IDE5NSxcInlcIjogMTgxfSx7XCJ4XCI6IDE5NSxcInlcIjogMTczfSx7XCJ4XCI6IDE5NSxcInlcIjogMTYzfSx7XCJ4XCI6IDE5NCxcInlcIjogMTU1fSx7XCJ4XCI6IDE5MixcInlcIjogMTQ1fSx7XCJ4XCI6IDE5MixcInlcIjogMTQzfSx7XCJ4XCI6IDE5MixcInlcIjogMTM4fSx7XCJ4XCI6IDE5MSxcInlcIjogMTM1fSx7XCJ4XCI6IDE5MSxcInlcIjogMTMzfSx7XCJ4XCI6IDE5MSxcInlcIjogMTMwfSx7XCJ4XCI6IDE5MCxcInlcIjogMTI4fSx7XCJ4XCI6IDE4OCxcInlcIjogMTI5fSx7XCJ4XCI6IDE4NixcInlcIjogMTI5fSx7XCJ4XCI6IDE4MSxcInlcIjogMTMyfSx7XCJ4XCI6IDE3MyxcInlcIjogMTMxfSx7XCJ4XCI6IDE2MixcInlcIjogMTMxfSx7XCJ4XCI6IDE1MSxcInlcIjogMTMyfSx7XCJ4XCI6IDE0OSxcInlcIjogMTMyfSx7XCJ4XCI6IDEzOCxcInlcIjogMTMyfSx7XCJ4XCI6IDEzNixcInlcIjogMTMyfSx7XCJ4XCI6IDEyMixcInlcIjogMTMxfSx7XCJ4XCI6IDEyMCxcInlcIjogMTMxfSx7XCJ4XCI6IDEwOSxcInlcIjogMTMwfSx7XCJ4XCI6IDEwNyxcInlcIjogMTMwfSx7XCJ4XCI6IDkwLFwieVwiOiAxMzJ9LHtcInhcIjogODEsXCJ5XCI6IDEzM30se1wieFwiOiA3NixcInlcIjogMTMzfV0sXG4gICAgICBuYW1lOiBcInNxdWFyZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBwb2ludHM6IFt7XCJ4XCI6NjcsXCJ5XCI6MTcyfSx7XCJ4XCI6ODAsXCJ5XCI6ODV9LHtcInhcIjo4MyxcInlcIjo1OH0se1wieFwiOjgzLFwieVwiOjU0fSx7XCJ4XCI6MTM2LFwieVwiOjExMH0se1wieFwiOjE1NyxcInlcIjoxMzZ9LHtcInhcIjoxNjIsXCJ5XCI6MTQwfSx7XCJ4XCI6MTY2LFwieVwiOjE0M30se1wieFwiOjgwLFwieVwiOjEyNH0se1wieFwiOjQ1LFwieVwiOjExNn0se1wieFwiOjM3LFwieVwiOjExNH0se1wieFwiOjMxLFwieVwiOjExM30se1wieFwiOjUyLFwieVwiOjEwNn0se1wieFwiOjEwMSxcInlcIjo4Nn0se1wieFwiOjEzMSxcInlcIjo3NX0se1wieFwiOjE1NyxcInlcIjo2M30se1wieFwiOjE2MyxcInlcIjo2Mn0se1wieFwiOjE1OCxcInlcIjo2NH0se1wieFwiOjE1MyxcInlcIjo3M30se1wieFwiOjEyOCxcInlcIjoxMDN9LHtcInhcIjo3MSxcInlcIjoxNzB9XSxcbiAgICAgIG5hbWU6IFwib3RoZXJcIlxuICAgIH0sXG4gICAge1xuICAgICAgcG9pbnRzOiBbe1wieFwiOjMwLFwieVwiOjY5fSx7XCJ4XCI6MTE2LFwieVwiOjExOH0se1wieFwiOjkwLFwieVwiOjE2NH0se1wieFwiOjc1LFwieVwiOjExN30se1wieFwiOjE1NyxcInlcIjo4M30se1wieFwiOjE4MixcInlcIjoxNDB9LHtcInhcIjoxNTUsXCJ5XCI6MTYzfSx7XCJ4XCI6MTQ0LFwieVwiOjExOX0se1wieFwiOjIyMSxcInlcIjo1NH1dLFxuICAgICAgbmFtZTogXCJvdGhlclwiXG4gICAgfSxcbiAgICB7XG4gICAgICBwb2ludHM6IFt7XCJ4XCI6ODcsXCJ5XCI6NzZ9LHtcInhcIjo2MixcInlcIjo3M30se1wieFwiOjEwMCxcInlcIjo5OH0se1wieFwiOjEwNyxcInlcIjo1N30se1wieFwiOjYxLFwieVwiOjM4fSx7XCJ4XCI6NzMsXCJ5XCI6MTM3fV0sXG4gICAgICBuYW1lOiBcIm90aGVyXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIHBvaW50czogW3tcInhcIjogMTIzLFwieVwiOiAxMjl9LHtcInhcIjogMTIzLFwieVwiOiAxMzF9LHtcInhcIjogMTI0LFwieVwiOiAxMzN9LHtcInhcIjogMTI1LFwieVwiOiAxMzZ9LHtcInhcIjogMTI3LFwieVwiOiAxNDB9LHtcInhcIjogMTI5LFwieVwiOiAxNDJ9LHtcInhcIjogMTMzLFwieVwiOiAxNDh9LHtcInhcIjogMTM3LFwieVwiOiAxNTR9LHtcInhcIjogMTQzLFwieVwiOiAxNTh9LHtcInhcIjogMTQ1LFwieVwiOiAxNjF9LHtcInhcIjogMTQ4LFwieVwiOiAxNjR9LHtcInhcIjogMTUzLFwieVwiOiAxNzB9LHtcInhcIjogMTU4LFwieVwiOiAxNzZ9LHtcInhcIjogMTYwLFwieVwiOiAxNzh9LHtcInhcIjogMTY0LFwieVwiOiAxODN9LHtcInhcIjogMTY4LFwieVwiOiAxODh9LHtcInhcIjogMTcxLFwieVwiOiAxOTF9LHtcInhcIjogMTc1LFwieVwiOiAxOTZ9LHtcInhcIjogMTc4LFwieVwiOiAyMDB9LHtcInhcIjogMTgwLFwieVwiOiAyMDJ9LHtcInhcIjogMTgxLFwieVwiOiAyMDV9LHtcInhcIjogMTg0LFwieVwiOiAyMDh9LHtcInhcIjogMTg2LFwieVwiOiAyMTB9LHtcInhcIjogMTg3LFwieVwiOiAyMTN9LHtcInhcIjogMTg4LFwieVwiOiAyMTV9LHtcInhcIjogMTg2LFwieVwiOiAyMTJ9LHtcInhcIjogMTgzLFwieVwiOiAyMTF9LHtcInhcIjogMTc3LFwieVwiOiAyMDh9LHtcInhcIjogMTY5LFwieVwiOiAyMDZ9LHtcInhcIjogMTYyLFwieVwiOiAyMDV9LHtcInhcIjogMTU0LFwieVwiOiAyMDd9LHtcInhcIjogMTQ1LFwieVwiOiAyMDl9LHtcInhcIjogMTM3LFwieVwiOiAyMTB9LHtcInhcIjogMTI5LFwieVwiOiAyMTR9LHtcInhcIjogMTIyLFwieVwiOiAyMTd9LHtcInhcIjogMTE4LFwieVwiOiAyMTh9LHtcInhcIjogMTExLFwieVwiOiAyMjF9LHtcInhcIjogMTA5LFwieVwiOiAyMjJ9LHtcInhcIjogMTEwLFwieVwiOiAyMTl9LHtcInhcIjogMTEyLFwieVwiOiAyMTd9LHtcInhcIjogMTE4LFwieVwiOiAyMDl9LHtcInhcIjogMTIwLFwieVwiOiAyMDd9LHtcInhcIjogMTI4LFwieVwiOiAxOTZ9LHtcInhcIjogMTM1LFwieVwiOiAxODd9LHtcInhcIjogMTM4LFwieVwiOiAxODN9LHtcInhcIjogMTQ4LFwieVwiOiAxNjd9LHtcInhcIjogMTU3LFwieVwiOiAxNTN9LHtcInhcIjogMTYzLFwieVwiOiAxNDV9LHtcInhcIjogMTY1LFwieVwiOiAxNDJ9LHtcInhcIjogMTcyLFwieVwiOiAxMzN9LHtcInhcIjogMTc3LFwieVwiOiAxMjd9LHtcInhcIjogMTc5LFwieVwiOiAxMjd9LHtcInhcIjogMTgwLFwieVwiOiAxMjV9XSxcbiAgICAgIG5hbWU6IFwib3RoZXJcIlxuICAgIH0sXG4gICAge1xuICAgICAgcG9pbnRzOiBbe1wieFwiOiA4MSxcInlcIjogMjE5fSx7XCJ4XCI6IDg0LFwieVwiOiAyMTh9LHtcInhcIjogODYsXCJ5XCI6IDIyMH0se1wieFwiOiA4OCxcInlcIjogMjIwfSx7XCJ4XCI6IDkwLFwieVwiOiAyMjB9LHtcInhcIjogOTIsXCJ5XCI6IDIxOX0se1wieFwiOiA5NSxcInlcIjogMjIwfSx7XCJ4XCI6IDk3LFwieVwiOiAyMTl9LHtcInhcIjogOTksXCJ5XCI6IDIyMH0se1wieFwiOiAxMDIsXCJ5XCI6IDIxOH0se1wieFwiOiAxMDUsXCJ5XCI6IDIxN30se1wieFwiOiAxMDcsXCJ5XCI6IDIxNn0se1wieFwiOiAxMTAsXCJ5XCI6IDIxNn0se1wieFwiOiAxMTMsXCJ5XCI6IDIxNH0se1wieFwiOiAxMTYsXCJ5XCI6IDIxMn0se1wieFwiOiAxMTgsXCJ5XCI6IDIxMH0se1wieFwiOiAxMjEsXCJ5XCI6IDIwOH0se1wieFwiOiAxMjQsXCJ5XCI6IDIwNX0se1wieFwiOiAxMjYsXCJ5XCI6IDIwMn0se1wieFwiOiAxMjksXCJ5XCI6IDE5OX0se1wieFwiOiAxMzIsXCJ5XCI6IDE5Nn0se1wieFwiOiAxMzYsXCJ5XCI6IDE5MX0se1wieFwiOiAxMzksXCJ5XCI6IDE4N30se1wieFwiOiAxNDIsXCJ5XCI6IDE4Mn0se1wieFwiOiAxNDQsXCJ5XCI6IDE3OX0se1wieFwiOiAxNDYsXCJ5XCI6IDE3NH0se1wieFwiOiAxNDgsXCJ5XCI6IDE3MH0se1wieFwiOiAxNDksXCJ5XCI6IDE2OH0se1wieFwiOiAxNTEsXCJ5XCI6IDE2Mn0se1wieFwiOiAxNTIsXCJ5XCI6IDE2MH0se1wieFwiOiAxNTIsXCJ5XCI6IDE1N30se1wieFwiOiAxNTIsXCJ5XCI6IDE1NX0se1wieFwiOiAxNTIsXCJ5XCI6IDE1MX0se1wieFwiOiAxNTIsXCJ5XCI6IDE0OX0se1wieFwiOiAxNTIsXCJ5XCI6IDE0Nn0se1wieFwiOiAxNDksXCJ5XCI6IDE0Mn0se1wieFwiOiAxNDgsXCJ5XCI6IDEzOX0se1wieFwiOiAxNDUsXCJ5XCI6IDEzN30se1wieFwiOiAxNDEsXCJ5XCI6IDEzNX0se1wieFwiOiAxMzksXCJ5XCI6IDEzNX0se1wieFwiOiAxMzQsXCJ5XCI6IDEzNn0se1wieFwiOiAxMzAsXCJ5XCI6IDE0MH0se1wieFwiOiAxMjgsXCJ5XCI6IDE0Mn0se1wieFwiOiAxMjYsXCJ5XCI6IDE0NX0se1wieFwiOiAxMjIsXCJ5XCI6IDE1MH0se1wieFwiOiAxMTksXCJ5XCI6IDE1OH0se1wieFwiOiAxMTcsXCJ5XCI6IDE2M30se1wieFwiOiAxMTUsXCJ5XCI6IDE3MH0se1wieFwiOiAxMTQsXCJ5XCI6IDE3NX0se1wieFwiOiAxMTcsXCJ5XCI6IDE4NH0se1wieFwiOiAxMjAsXCJ5XCI6IDE5MH0se1wieFwiOiAxMjUsXCJ5XCI6IDE5OX0se1wieFwiOiAxMjksXCJ5XCI6IDIwM30se1wieFwiOiAxMzMsXCJ5XCI6IDIwOH0se1wieFwiOiAxMzgsXCJ5XCI6IDIxM30se1wieFwiOiAxNDUsXCJ5XCI6IDIxNX0se1wieFwiOiAxNTUsXCJ5XCI6IDIxOH0se1wieFwiOiAxNjQsXCJ5XCI6IDIxOX0se1wieFwiOiAxNjYsXCJ5XCI6IDIxOX0se1wieFwiOiAxNzcsXCJ5XCI6IDIxOX0se1wieFwiOiAxODIsXCJ5XCI6IDIxOH0se1wieFwiOiAxOTIsXCJ5XCI6IDIxNn0se1wieFwiOiAxOTYsXCJ5XCI6IDIxM30se1wieFwiOiAxOTksXCJ5XCI6IDIxMn0se1wieFwiOiAyMDEsXCJ5XCI6IDIxMX1dLFxuICAgICAgbmFtZTogXCJvdGhlclwiXG4gICAgfSxcbiAgICB7XG4gICAgICBwb2ludHM6IFt7XCJ4XCI6IDc1LFwieVwiOiAyNTB9LHtcInhcIjogNzUsXCJ5XCI6IDI0N30se1wieFwiOiA3NyxcInlcIjogMjQ0fSx7XCJ4XCI6IDc4LFwieVwiOiAyNDJ9LHtcInhcIjogNzksXCJ5XCI6IDIzOX0se1wieFwiOiA4MCxcInlcIjogMjM3fSx7XCJ4XCI6IDgyLFwieVwiOiAyMzR9LHtcInhcIjogODIsXCJ5XCI6IDIzMn0se1wieFwiOiA4NCxcInlcIjogMjI5fSx7XCJ4XCI6IDg1LFwieVwiOiAyMjV9LHtcInhcIjogODcsXCJ5XCI6IDIyMn0se1wieFwiOiA4OCxcInlcIjogMjE5fSx7XCJ4XCI6IDg5LFwieVwiOiAyMTZ9LHtcInhcIjogOTEsXCJ5XCI6IDIxMn0se1wieFwiOiA5MixcInlcIjogMjA4fSx7XCJ4XCI6IDk0LFwieVwiOiAyMDR9LHtcInhcIjogOTUsXCJ5XCI6IDIwMX0se1wieFwiOiA5NixcInlcIjogMTk2fSx7XCJ4XCI6IDk3LFwieVwiOiAxOTR9LHtcInhcIjogOTgsXCJ5XCI6IDE5MX0se1wieFwiOiAxMDAsXCJ5XCI6IDE4NX0se1wieFwiOiAxMDIsXCJ5XCI6IDE3OH0se1wieFwiOiAxMDQsXCJ5XCI6IDE3M30se1wieFwiOiAxMDQsXCJ5XCI6IDE3MX0se1wieFwiOiAxMDUsXCJ5XCI6IDE2NH0se1wieFwiOiAxMDYsXCJ5XCI6IDE1OH0se1wieFwiOiAxMDcsXCJ5XCI6IDE1Nn0se1wieFwiOiAxMDcsXCJ5XCI6IDE1Mn0se1wieFwiOiAxMDgsXCJ5XCI6IDE0NX0se1wieFwiOiAxMDksXCJ5XCI6IDE0MX0se1wieFwiOiAxMTAsXCJ5XCI6IDEzOX0se1wieFwiOiAxMTIsXCJ5XCI6IDEzM30se1wieFwiOiAxMTMsXCJ5XCI6IDEzMX0se1wieFwiOiAxMTYsXCJ5XCI6IDEyN30se1wieFwiOiAxMTcsXCJ5XCI6IDEyNX0se1wieFwiOiAxMTksXCJ5XCI6IDEyMn0se1wieFwiOiAxMjEsXCJ5XCI6IDEyMX0se1wieFwiOiAxMjMsXCJ5XCI6IDEyMH0se1wieFwiOiAxMjUsXCJ5XCI6IDEyMn0se1wieFwiOiAxMjUsXCJ5XCI6IDEyNX0se1wieFwiOiAxMjcsXCJ5XCI6IDEzMH0se1wieFwiOiAxMjgsXCJ5XCI6IDEzM30se1wieFwiOiAxMzEsXCJ5XCI6IDE0M30se1wieFwiOiAxMzYsXCJ5XCI6IDE1M30se1wieFwiOiAxNDAsXCJ5XCI6IDE2M30se1wieFwiOiAxNDQsXCJ5XCI6IDE3Mn0se1wieFwiOiAxNDUsXCJ5XCI6IDE3NX0se1wieFwiOiAxNTEsXCJ5XCI6IDE4OX0se1wieFwiOiAxNTYsXCJ5XCI6IDIwMX0se1wieFwiOiAxNjEsXCJ5XCI6IDIxM30se1wieFwiOiAxNjYsXCJ5XCI6IDIyNX0se1wieFwiOiAxNjksXCJ5XCI6IDIzM30se1wieFwiOiAxNzEsXCJ5XCI6IDIzNn0se1wieFwiOiAxNzQsXCJ5XCI6IDI0M30se1wieFwiOiAxNzcsXCJ5XCI6IDI0N30se1wieFwiOiAxNzgsXCJ5XCI6IDI0OX0se1wieFwiOiAxNzksXCJ5XCI6IDI1MX0se1wieFwiOiAxODAsXCJ5XCI6IDI1M30se1wieFwiOiAxODAsXCJ5XCI6IDI1NX0se1wieFwiOiAxNzksXCJ5XCI6IDI1N30se1wieFwiOiAxNzcsXCJ5XCI6IDI1N30se1wieFwiOiAxNzQsXCJ5XCI6IDI1NX0se1wieFwiOiAxNjksXCJ5XCI6IDI1MH0se1wieFwiOiAxNjQsXCJ5XCI6IDI0N30se1wieFwiOiAxNjAsXCJ5XCI6IDI0NX0se1wieFwiOiAxNDksXCJ5XCI6IDIzOH0se1wieFwiOiAxMzgsXCJ5XCI6IDIzMH0se1wieFwiOiAxMjcsXCJ5XCI6IDIyMX0se1wieFwiOiAxMjQsXCJ5XCI6IDIyMH0se1wieFwiOiAxMTIsXCJ5XCI6IDIxMn0se1wieFwiOiAxMTAsXCJ5XCI6IDIxMH0se1wieFwiOiA5NixcInlcIjogMjAxfSx7XCJ4XCI6IDg0LFwieVwiOiAxOTV9LHtcInhcIjogNzQsXCJ5XCI6IDE5MH0se1wieFwiOiA2NCxcInlcIjogMTgyfSx7XCJ4XCI6IDU1LFwieVwiOiAxNzV9LHtcInhcIjogNTEsXCJ5XCI6IDE3Mn0se1wieFwiOiA0OSxcInlcIjogMTcwfSx7XCJ4XCI6IDUxLFwieVwiOiAxNjl9LHtcInhcIjogNTYsXCJ5XCI6IDE2OX0se1wieFwiOiA2NixcInlcIjogMTY5fSx7XCJ4XCI6IDc4LFwieVwiOiAxNjh9LHtcInhcIjogOTIsXCJ5XCI6IDE2Nn0se1wieFwiOiAxMDcsXCJ5XCI6IDE2NH0se1wieFwiOiAxMjMsXCJ5XCI6IDE2MX0se1wieFwiOiAxNDAsXCJ5XCI6IDE2Mn0se1wieFwiOiAxNTYsXCJ5XCI6IDE2Mn0se1wieFwiOiAxNzEsXCJ5XCI6IDE2MH0se1wieFwiOiAxNzMsXCJ5XCI6IDE2MH0se1wieFwiOiAxODYsXCJ5XCI6IDE2MH0se1wieFwiOiAxOTUsXCJ5XCI6IDE2MH0se1wieFwiOiAxOTgsXCJ5XCI6IDE2MX0se1wieFwiOiAyMDMsXCJ5XCI6IDE2M30se1wieFwiOiAyMDgsXCJ5XCI6IDE2M30se1wieFwiOiAyMDYsXCJ5XCI6IDE2NH0se1wieFwiOiAyMDAsXCJ5XCI6IDE2N30se1wieFwiOiAxODcsXCJ5XCI6IDE3Mn0se1wieFwiOiAxNzQsXCJ5XCI6IDE3OX0se1wieFwiOiAxNzIsXCJ5XCI6IDE4MX0se1wieFwiOiAxNTMsXCJ5XCI6IDE5Mn0se1wieFwiOiAxMzcsXCJ5XCI6IDIwMX0se1wieFwiOiAxMjMsXCJ5XCI6IDIxMX0se1wieFwiOiAxMTIsXCJ5XCI6IDIyMH0se1wieFwiOiA5OSxcInlcIjogMjI5fSx7XCJ4XCI6IDkwLFwieVwiOiAyMzd9LHtcInhcIjogODAsXCJ5XCI6IDI0NH0se1wieFwiOiA3MyxcInlcIjogMjUwfSx7XCJ4XCI6IDY5LFwieVwiOiAyNTR9LHtcInhcIjogNjksXCJ5XCI6IDI1Mn1dLFxuICAgICAgbmFtZTogXCJvdGhlclwiXG4gICAgfSxcbiAgXTtcblxuICBTaGFwZURldGVjdG9yLnByb3RvdHlwZS5zcG90ID0gZnVuY3Rpb24ocG9pbnRzLCBwYXR0ZXJuTmFtZSkge1xuXG4gICAgaWYgKHBhdHRlcm5OYW1lID09IG51bGwpIHtcbiAgICAgIHBhdHRlcm5OYW1lID0gJyc7XG4gICAgfVxuXG4gICAgdmFyIGRpc3RhbmNlLCBwYXR0ZXJuLCBzY29yZTtcbiAgICB2YXIgc3Ryb2tlID0gbmV3IFN0cm9rZShwb2ludHMpO1xuICAgIHZhciBiZXN0RGlzdGFuY2UgPSArSW5maW5pdHk7XG4gICAgdmFyIGJlc3RQYXR0ZXJuID0gbnVsbDtcbiAgICB2YXIgYmVzdFNjb3JlID0gMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wYXR0ZXJucy5sZW5ndGg7IGkrKykge1xuICAgICAgcGF0dGVybiA9IHRoaXMucGF0dGVybnNbaV07XG5cbiAgICAgIGlmIChwYXR0ZXJuLm5hbWUuaW5kZXhPZihwYXR0ZXJuTmFtZSkgPiAtMSkge1xuICAgICAgICBkaXN0YW5jZSA9IHN0cm9rZS5kaXN0YW5jZUF0QmVzdEFuZ2xlKHBhdHRlcm4pO1xuICAgICAgICBzY29yZSA9IDEuMCAtIGRpc3RhbmNlIC8gX2hhbGZEaWFnb25hbDtcblxuICAgICAgICBpZiAoZGlzdGFuY2UgPCBiZXN0RGlzdGFuY2UgJiYgc2NvcmUgPiB0aGlzLnRocmVzaG9sZCkge1xuICAgICAgICAgIGJlc3REaXN0YW5jZSA9IGRpc3RhbmNlO1xuICAgICAgICAgIGJlc3RQYXR0ZXJuID0gcGF0dGVybi5uYW1lO1xuICAgICAgICAgIGJlc3RTY29yZSA9IHNjb3JlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHBhdHRlcm46IGJlc3RQYXR0ZXJuLFxuICAgICAgc2NvcmU6IGJlc3RTY29yZVxuICAgIH07XG4gIH07XG5cbiAgU2hhcGVEZXRlY3Rvci5wcm90b3R5cGUubGVhcm4gPSBmdW5jdGlvbihuYW1lLCBwb2ludHMpIHtcblxuICAgIHJldHVybiB0aGlzLnBhdHRlcm5zLnB1c2gobmV3IFN0cm9rZShwb2ludHMsIG5hbWUpKTtcbiAgfTtcblxuICByZXR1cm4gU2hhcGVEZXRlY3Rvcjtcbn0pKTtcbiIsImNvbnN0IHRvdWNoID0gcmVxdWlyZSgnLi90b3VjaCcpO1xuY29uc3QgdWkgPSByZXF1aXJlKCcuL3VpJyk7XG5jb25zdCBvdmVybGF5cyA9IHJlcXVpcmUoJy4vb3ZlcmxheXMnKTtcbmNvbnN0IHZpZGVvID0gcmVxdWlyZSgnLi92aWRlbycpO1xuY29uc3QgdGltaW5nID0gcmVxdWlyZSgnLi90aW1pbmcnKTtcbmNvbnN0IHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcbmNvbnN0IHNvdW5kID0gcmVxdWlyZSgnLi9zb3VuZCcpO1xuY29uc3Qgc2hhcGUgPSByZXF1aXJlKCcuL3NoYXBlJyk7XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNldFdpbmRvdygpIHtcbiAgd2luZG93LmthbiA9IHtcbiAgICBjdXJyZW50Q29sb3I6ICcjMkI1RTJFJyxcbiAgICBjb21wb3NpdGlvbjogW10sXG4gICAgY29tcG9zaXRpb25JbnRlcnZhbDogbnVsbCxcbiAgICBjb21wb3NpdGlvblRpbWVvdXQ6IG51bGwsXG4gICAgc291bmRUaW1lb3V0czogW10sXG4gICAgbGFzdEV2ZW50OiBudWxsLFxuICAgIGludGVyYWN0aW9uOiBmYWxzZSxcbiAgICBtb3ZlczogW10sXG4gICAgcGxheWluZzogZmFsc2UsXG4gICAgcGluY2hpbmc6IGZhbHNlLFxuICAgIHBpbmNoZWRHcm91cDogbnVsbCxcbiAgICBwaW5jaGVkVHV0OiBudWxsLFxuICAgIHBhdGhEYXRhOiB7fSxcbiAgICBzaGFwZVBhdGg6IG51bGwsXG4gICAgcHJldkFuZ2xlOiBudWxsLFxuICAgIHNpZGVzOiBbXSxcbiAgICBzaWRlOiBbXSxcbiAgICBjb3JuZXJzOiBbXSxcbiAgICBsYXN0U2NhbGU6IDEsXG4gICAgbGFzdFJvdGF0aW9uOiAwLFxuICAgIG9yaWdpbmFsUG9zaXRpb246IG51bGwsXG4gICAgdHV0b3JpYWxDb21wbGV0aW9uOiB7XG4gICAgICBcImZpbGxcIjogZmFsc2UsXG4gICAgICBcInBpbmNoXCI6IGZhbHNlLFxuICAgICAgXCJzd2lwZVwiOiBmYWxzZVxuICAgIH0sXG4gICAgaW5hY3Rpdml0eVRpbWVvdXQ6IG51bGwsXG4gICAgcGxheVByb21wdFRpbWVvdXQ6IG51bGwsXG4gICAgdXNlckhhc0RyYXduRmlyc3RTaGFwZTogZmFsc2UsXG4gICAgZmlyc3RUaW1lUGxheWluZzogdHJ1ZSxcbiAgICBzaGFwZXNTaW5jZVR1dDogMCxcbiAgICByZWZyZXNoQ2hlY2tJbnRlcnZhbDogbnVsbCxcbiAgICBzaGE6IG51bGwsXG4gICAgc2NoZWR1bGVkT3ZlcmxheTogbnVsbCxcbiAgICBjb250aW51ZUNvdW50ZG93bkludGVydmFsOiBudWxsLFxuICAgIHNoYXBlU291bmRzOiBudWxsLFxuICB9O1xufVxuXG4kKHdpbmRvdykub24oJ2xvYWQnLCBmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gcnVuKCkge1xuICAgIHJlc2V0V2luZG93KCk7XG4gICAgdXRpbC5zZXRTaGEoKTtcbiAgICB1aS5pbml0KCk7XG4gICAgb3ZlcmxheXMuaW5pdCgpO1xuICAgIHRpbWluZy5pbml0KCk7XG4gICAgc2hhcGUuaW5pdCgpO1xuICAgIHNvdW5kLmluaXQoKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAvLyBzb3VuZC5pbml0KCkgaXMgYXN5bmMgYmVjYXVzZSBpdCBsb2FkcyBpbiB0aGUgc291bmQgZmlsZXNcbiAgICAgICAgdG91Y2guaW5pdCgpO1xuICAgICAgfSlcbiAgICAgIC5mYWlsKChlKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ2Vycm9yIGluaXR0aW5nIHNoYXBlIHNvdW5kczonLCBlKTtcbiAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICB9KVxuICB9XG5cbiAgdHJ5IHtcbiAgICBydW4oKTtcbiAgfSBjYXRjaChlKSB7XG4gICAgY29uc29sZS5lcnJvcihlKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIC8vIHdhaXQgNSBzZWNvbmRzIHRoZW4gcmVsb2FkXG4gICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcbiAgICB9LCA1ICogMTAwMCk7XG4gIH1cbn0pO1xuIiwiY29uc3QgY29uZmlnID0gcmVxdWlyZSgnLi9jbGllbnQtY29uZmlnJyk7XG5cbmNvbnN0IHZhbGlkYXRvciA9IHJlcXVpcmUoJ3ZhbGlkYXRvcicpO1xuXG5jb25zdCB0b3VjaCA9IHJlcXVpcmUoJy4vdG91Y2gnKTtcbmNvbnN0IHZpZGVvID0gcmVxdWlyZSgnLi92aWRlbycpO1xuY29uc3QgdGltaW5nID0gcmVxdWlyZSgnLi90aW1pbmcnKTtcbmNvbnN0IHR1dG9yaWFsID0gcmVxdWlyZSgnLi90dXRvcmlhbCcpO1xuY29uc3QgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5jb25zdCBoYW1tZXJDYW52YXMgPSB0b3VjaC5oYW1tZXJDYW52YXM7XG5cbmNvbnN0ICRib2R5ID0gJCgnYm9keScpO1xuY29uc3QgdGFwRXZlbnQgPSAnY2xpY2sgdGFwIHRvdWNoJztcblxuY29uc3QgJGNhcmRzV3JhcCA9ICRib2R5LmZpbmQoJy5vdmVybGF5LnRpcHMgLmNhcmQtd3JhcCcpO1xuY29uc3QgJGNhcmRJdGVtcyA9ICRjYXJkc1dyYXAuZmluZCgnYXJ0aWNsZScpO1xuY29uc3QgY2FyZHNDb3VudCA9ICRjYXJkSXRlbXMubGVuZ3RoO1xuY29uc3QgJGZvb3RlciA9ICRib2R5LmZpbmQoJy5vdmVybGF5LnRpcHMgLmZvb3RlcicpO1xuXG5jb25zdCAkc2hhcmVQaG9uZSA9ICRib2R5LmZpbmQoJyNwaG9uZScpO1xuY29uc3QgJHNoYXJlS2V5cGFkID0gJGJvZHkuZmluZCgnLmtleXBhZCcpO1xuXG5jb25zdCBhbGxPdmVybGF5cyA9IFsnaW50cm8nLCAncGxheS1wcm9tcHQnLCAnc2hhcmUtcHJvbXB0JywgJ2NvbnRpbnVlJywgJ3RpcHMnLCAnc2hhcmUnLCAnc2hhcmUtcHJlcGFyZScsICdzaGFyZS1jb25maXJtYXRpb24nXTtcbmNvbnN0IG92ZXJsYXlPcGVuQ2xhc3NlcyA9IGFsbE92ZXJsYXlzLm1hcCgob3ZlcmxheSkgPT4gYCR7b3ZlcmxheX0tYWN0aXZlYCkuam9pbignICcpO1xuXG5jb25zdCBvdmVybGF5QWN0aXZlQ2xhc3MgPSAnb3ZlcmxheS1hY3RpdmUnO1xuXG5leHBvcnQgZnVuY3Rpb24gb3Blbk92ZXJsYXkob3ZlcmxheU5hbWUpIHtcbiAgLy8gY29uc29sZS5sb2coJ2F0dGVtcHRpbmcgdG8gb3BlbiBvdmVybGF5Jywgb3ZlcmxheU5hbWUpO1xuICBpZiAod2luZG93Lmthbi5vdmVybGF5cyA9PT0gZmFsc2UpIHJldHVybjtcbiAgaWYgKGFsbE92ZXJsYXlzLmluY2x1ZGVzKG92ZXJsYXlOYW1lKSkge1xuICAgIGlmICh3aW5kb3cua2FuLnBpbmNoaW5nID09PSB0cnVlIHx8IHdpbmRvdy5rYW4ucGFubmluZyA9PT0gdHJ1ZSkge1xuICAgICAgaWYgKG92ZXJsYXlOYW1lID09PSAnY29udGludWUnKSB7XG4gICAgICAgIHRpbWluZy5wcmV2ZW50SW5hY3Rpdml0eVRpbWVvdXQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdzY2hlZHVsaW5nIG92ZXJsYXknLCBvdmVybGF5TmFtZSk7XG4gICAgICAgIHdpbmRvdy5rYW4uc2NoZWR1bGVkT3ZlcmxheSA9IG92ZXJsYXlOYW1lO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjbG9zZUFuZFJlc2V0T3ZlcmxheXMoKTtcbiAgICB0dXRvcmlhbC5oaWRlQ29udGV4dHVhbFR1dHMoKTtcbiAgICAkYm9keS5hZGRDbGFzcyhvdmVybGF5QWN0aXZlQ2xhc3MpO1xuICAgICRib2R5LmZpbmQoJy5vdmVybGF5LmNsb3NlYWJsZTpub3QoLnRpcHMpOm5vdCguc2hhcmUtcGhvbmUpJykub24odGFwRXZlbnQsICgpID0+IHtcbiAgICAgIGNsb3NlQW5kUmVzZXRPdmVybGF5cygpO1xuICAgIH0pO1xuXG4gICAgc3dpdGNoIChvdmVybGF5TmFtZSkge1xuICAgICAgY2FzZSAnaW50cm8nOlxuICAgICAgICBvcGVuSW50cm9PdmVybGF5KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncGxheS1wcm9tcHQnOlxuICAgICAgICBpZiAodXRpbC5hbnlTaGFwZXNPbkNhbnZhcygpKSB7XG4gICAgICAgICAgb3BlblBsYXlQcm9tcHRPdmVybGF5KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2luZG93Lmthbi5wbGF5UHJvbXB0VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgb3Blbk92ZXJsYXkoJ3BsYXktcHJvbXB0Jyk7XG4gICAgICAgICAgfSwgdGltaW5nLnBsYXlQcm9tcHREZWxheSAvIDIpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc2hhcmUtcHJvbXB0JzpcbiAgICAgICAgb3BlblNoYXJlUHJvbXB0T3ZlcmxheSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2NvbnRpbnVlJzpcbiAgICAgICAgb3BlbkNvbnRpbnVlT3ZlcmxheSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RpcHMnOlxuICAgICAgICBvcGVuVGlwc092ZXJsYXkoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzaGFyZSc6XG4gICAgICAgIG9wZW5TaGFyZU92ZXJsYXkoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzaGFyZS1wcmVwYXJlJzpcbiAgICAgICAgb3BlblNoYXJlUHJlcGFyZU92ZXJsYXkoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzaGFyZS1jb25maXJtYXRpb24nOlxuICAgICAgICBvcGVuU2hhcmVDb25maXJtYXRpb25PdmVybGF5KCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBjb25zb2xlLmxvZygndW5hYmxlIHRvIG9wZW4gdW5rbm93biBvdmVybGF5Jywgb3ZlcmxheU5hbWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG9wZW5JbnRyb092ZXJsYXkoKSB7XG4gICRib2R5LmFkZENsYXNzKCdpbnRyby1hY3RpdmUnKTtcbn1cblxuZnVuY3Rpb24gb3BlblBsYXlQcm9tcHRPdmVybGF5KCkge1xuICAkYm9keS5hZGRDbGFzcygncGxheS1wcm9tcHQtYWN0aXZlJyk7XG59XG5cbmZ1bmN0aW9uIG9wZW5TaGFyZVByb21wdE92ZXJsYXkoKSB7XG4gICRib2R5LmFkZENsYXNzKCdzaGFyZS1wcm9tcHQtYWN0aXZlJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNldENvbnRpbnVlQ291bnRkb3duKCkge1xuICAkKCcub3ZlcmxheS5jb250aW51ZSAuY291bnRkb3duLW51bScpLmh0bWwocGFyc2VJbnQodGltaW5nLmNvbnRpbnVlSW5hY3Rpdml0eURlbGF5IC8gMTAwMCkpO1xuICBjbGVhckludGVydmFsKHdpbmRvdy5rYW4uY29udGludWVDb3VudGRvd25JbnRlcnZhbCk7XG59XG5cbmZ1bmN0aW9uIG9wZW5Db250aW51ZU92ZXJsYXkoKSB7XG4gICRib2R5LmFkZENsYXNzKCdjb250aW51ZS1hY3RpdmUnKTtcblxuICByZXNldENvbnRpbnVlQ291bnRkb3duKCk7XG4gIGNsZWFyVGltZW91dCh3aW5kb3cua2FuLmluYWN0aXZpdHlUaW1lb3V0KTtcbiAgY2xlYXJUaW1lb3V0KHdpbmRvdy5rYW4ucGxheVByb21wdFRpbWVvdXQpO1xuXG4gIHdpbmRvdy5rYW4uY29udGludWVDb3VudGRvd25JbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICBsZXQgJGNvdW50ZG93bk51bVdyYXAgPSAkKCcub3ZlcmxheS5jb250aW51ZSAuY291bnRkb3duLW51bScpO1xuICAgIGxldCBjb3VudCA9IHBhcnNlSW50KCRjb3VudGRvd25OdW1XcmFwLmh0bWwoKSk7XG4gICAgaWYgKGNvdW50ID4gMSkge1xuICAgICAgJGNvdW50ZG93bk51bVdyYXAuaHRtbChjb3VudCAtIDEpO1xuICAgIH1cbiAgfSwgMTAwMCk7XG5cbiAgd2luZG93Lmthbi5pbmFjdGl2aXR5VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIHZpZGVvLmVudGVyVHV0b3JpYWxNb2RlKCk7XG4gIH0sIHRpbWluZy5jb250aW51ZUluYWN0aXZpdHlEZWxheSk7XG59XG5cbmZ1bmN0aW9uIG9wZW5UaXBzT3ZlcmxheSgpIHtcbiAgJGJvZHkuYWRkQ2xhc3MoJ3RpcHMtYWN0aXZlJyk7XG4gIGFjdGl2YXRlVGlwc0NhcmRzKCk7XG59XG5cbmZ1bmN0aW9uIG9wZW5TaGFyZU92ZXJsYXkoKSB7XG4gICRib2R5LmFkZENsYXNzKCdzaGFyZS1hY3RpdmUnKTtcbn1cblxuZnVuY3Rpb24gb3BlblNoYXJlUHJlcGFyZU92ZXJsYXkoKSB7XG4gICRib2R5LmFkZENsYXNzKCdzaGFyZS1wcmVwYXJlLWFjdGl2ZScpO1xufVxuXG5mdW5jdGlvbiBvcGVuU2hhcmVDb25maXJtYXRpb25PdmVybGF5KCkge1xuICAkYm9keS5hZGRDbGFzcygnc2hhcmUtY29uZmlybWF0aW9uLWFjdGl2ZScpO1xufVxuXG4vLyBjYXJkIHNsaWRlciBuYXZpZ2F0aW9uXG5leHBvcnQgZnVuY3Rpb24gY2FyZE5hdk5leHQoKSB7XG4gIGxldCAkb2xkID0gJGJvZHkuZmluZCgnLmNhcmQtd3JhcCAuY3VycmVudCcpO1xuICBsZXQgJG5ldyA9ICgkb2xkLm5leHQoKS5sZW5ndGgpID8gJG9sZC5uZXh0KCkgOiAkY2FyZEl0ZW1zLmZpcnN0KCk7XG4gIGxldCAkbmV4dCA9ICgkbmV3Lm5leHQoKS5sZW5ndGgpID8gJG5ldy5uZXh0KCkgOiAkY2FyZEl0ZW1zLmZpcnN0KCk7XG4gIGxldCAkdGhpcmQgPSAoJG5leHQubmV4dCgpLmxlbmd0aCkgPyAkbmV4dC5uZXh0KCkgOiAkY2FyZEl0ZW1zLmZpcnN0KCkubmV4dCgpO1xuICBsZXQgc2xpZGUgPSAkbmV3LmluZGV4KCk7XG4gICRvbGQucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygncmVtb3ZlJyk7XG4gICRuZXcucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygnY3VycmVudCcpO1xuICAkbmV4dC5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCduZXh0Jyk7XG4gICR0aGlyZC5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCd0aGlyZCcpO1xuICB1cGRhdGVDYXJkQ291bnRlcihzbGlkZSArIDEsIGNhcmRzQ291bnQpO1xuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAkb2xkLnJlbW92ZUNsYXNzKCk7XG4gIH0sIDYwMCk7XG59XG5cbi8vIHRpcHMgY2FyZCBpbnRlcmFjdGlvbnNcbmZ1bmN0aW9uIGNhcmRJbnRlcmFjdGlvbnMoKSB7XG4gIGxldCB0aW1lT2ZMYXN0SW50ZXJhY3Rpb24gPSAwO1xuXG4gICRib2R5LmZpbmQoJy5vdmVybGF5LmNsb3NlYWJsZScpLm9uKHRhcEV2ZW50LCBlID0+IHtcbiAgICBjb25zdCBjdXJyZW50VGltZSA9IERhdGUubm93KCk7XG4gICAgaWYgKHRpbWVPZkxhc3RJbnRlcmFjdGlvbiA+IChjdXJyZW50VGltZSAtIDI1MCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGltZU9mTGFzdEludGVyYWN0aW9uID0gY3VycmVudFRpbWU7XG5cbiAgICBpZiAoICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5jYXJkLXdyYXAnKS5sZW5ndGggPT0gMSApIHtcbiAgICAgIC8vIGRpcmVjdGx5IG9uIGEgY2FyZCwgbmF2aWdhdGUgdG8gdGhlIG5leHQgb25lXG4gICAgICBjb25zb2xlLmxvZygnaGknKTtcbiAgICAgIC8vIGNhcmROYXZOZXh0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKCdubycpO1xuICAgICAgLy8gb3V0c2lkZSBlbGVtZW50cywgY2xvc2UgZXZlcnl0aGluZyBhbmQgcmVzZXRcbiAgICAgIGNsb3NlQW5kUmVzZXRPdmVybGF5cygpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlc2V0VGlwcygpIHtcbiAgJGNhcmRJdGVtcy5yZW1vdmVDbGFzcygpO1xuICAkc2hhcmVQaG9uZS5odG1sKCcnKTtcbn1cblxuLy8gY2xvc2UgYW5kIHJlc2V0IHRpcHNcbmV4cG9ydCBmdW5jdGlvbiBjbG9zZUFuZFJlc2V0T3ZlcmxheXMoKSB7XG4gICRib2R5LnJlbW92ZUNsYXNzKCdvdmVybGF5LWFjdGl2ZScpO1xuICAkYm9keS5yZW1vdmVDbGFzcyhvdmVybGF5T3BlbkNsYXNzZXMpO1xuICByZXNldFRpcHMoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzeW5jQ2xvc2VPdmVybGF5c0FmdGVyRHVyYXRpb24oZHVyYXRpb24pIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGxldCBjbG9zZU92ZXJsYXlUaW1lb3V0ID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgY2xvc2VPdmVybGF5VGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGNsb3NlQW5kUmVzZXRPdmVybGF5cygpO1xuICAgICAgICByZXNvbHZlKCdhc3luY0Nsb3NlT3ZlcmxheXNBZnRlckR1cmF0aW9uIGRvbmUnKTtcbiAgICAgIH0sIGR1cmF0aW9uKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIGNsZWFyVGltZW91dChjbG9zZU92ZXJsYXlUaW1lb3V0KTtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9XG4gIH0pXG59XG5cbi8vIGRlYWwgYSBmcmVzaCBzdGFjayBvZiBjYXJkc1xuZnVuY3Rpb24gYWN0aXZhdGVUaXBzQ2FyZHMoKSB7XG4gIGxldCAkbmV3ID0gJGNhcmRJdGVtcy5maXJzdCgpO1xuICBsZXQgJG5leHQgPSAoJG5ldy5uZXh0KCkubGVuZ3RoKSA/ICRuZXcubmV4dCgpIDogJGNhcmRJdGVtcy5maXJzdCgpO1xuICBsZXQgJHRoaXJkID0gKCRuZXh0Lm5leHQoKS5sZW5ndGgpID8gJG5leHQubmV4dCgpIDogJGNhcmRJdGVtcy5maXJzdCgpLm5leHQoKTtcbiAgJGNhcmRJdGVtcy5yZW1vdmVDbGFzcygpO1xuICAkbmV3LnJlbW92ZUNsYXNzKCkuYWRkQ2xhc3MoJ2N1cnJlbnQnKTtcbiAgJG5leHQucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygnbmV4dCcpO1xuICAkdGhpcmQucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygndGhpcmQnKTtcbiAgdXBkYXRlQ2FyZENvdW50ZXIoMSwgY2FyZHNDb3VudCk7XG59XG5cbi8vIGNvdW50aW5nIGNhcmRzXG5mdW5jdGlvbiB1cGRhdGVDYXJkQ291bnRlcihjdXJyZW50LCB0b3RhbCkge1xuICAkZm9vdGVyLmZpbmQoJy5jdXJyZW50JykuaHRtbChjdXJyZW50KTtcbiAgJGZvb3Rlci5maW5kKCcubmV4dCcpLmh0bWwodG90YWwpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXN5bmNXYWl0Rm9yV2VsbEZvcm1lZFBob25lTnVtYmVyKHMzSWQpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIC8vIG5vcm1hbCBpbmFjdGl2aXR5IHRpbWVvdXQgaXMgZGlzYWJsZWQsIHN0YXJ0IGFuIGFsdGVybmF0ZSBvbmVcbiAgICBsZXQgaW5hY3Rpdml0eVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgcmVqZWN0KCd0aW1lb3V0Jyk7XG4gICAgfSwgdGltaW5nLmNvbnRpbnVlSW5hY3Rpdml0eURlbGF5IC8gMik7XG5cbiAgICAkc2hhcmVLZXlwYWQuZmluZCgnLnNlbmQnKS5vbih0YXBFdmVudCwgZSA9PiB7XG4gICAgICBjb25zdCBwaG9uZU51bVdpdGhIeXBoZW5zID0gJHNoYXJlUGhvbmUudGV4dCgpO1xuICAgICAgbGV0IHBob25lTnVtUmF3ID0gcGhvbmVOdW1XaXRoSHlwaGVucy5yZXBsYWNlKC9cXEQvZywnJyk7XG5cbiAgICAgIGlmICh2YWxpZGF0b3IuaXNNb2JpbGVQaG9uZShwaG9uZU51bVJhdywgJ2VuLVVTJykpIHtcbiAgICAgICAgaWYocGhvbmVOdW1SYXcubGVuZ3RoID09IDEwKSBwaG9uZU51bVJhdyA9ICcxJyArIHBob25lTnVtUmF3O1xuICAgICAgICBjbGVhclRpbWVvdXQoaW5hY3Rpdml0eVRpbWVvdXQpO1xuICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICBwaG9uZTogcGhvbmVOdW1SYXcsXG4gICAgICAgICAgczNJZDogczNJZFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdtYWxmb3JtZWQgcGhvbmUgbnVtYmVyJyk7XG4gICAgICAgIC8vIHNob3cgZXJyb3IhXG4gICAgICB9XG4gICAgfSk7XG4gIH0pXG59XG5cbi8vIHBob25lIGlucHV0c1xuZnVuY3Rpb24gcGhvbmVOdW1iZXJJbnB1dHMoKSB7XG4gIC8vIG1hc2sgdGhlIG91dHB1dFxuICAkc2hhcmVQaG9uZS5tYXNrKCcwMDAtMDAwLTAwMDAnKTtcbiAgLy8gZ2V0IGludGVyYWN0aW9ucyBmcm9tIHRoZSBrZXlwYWRcbiAgJHNoYXJlS2V5cGFkLmZpbmQoJy5udW0nKS5vbih0YXBFdmVudCwgZSA9PiB7XG4gICAgbGV0IHBob25lTnVtYmVyID0gJHNoYXJlUGhvbmUuaHRtbCgpLnRvU3RyaW5nKCkgKyAkKGUudGFyZ2V0KS5odG1sKCkudG9TdHJpbmcoKTtcbiAgICBwaG9uZU51bWJlciA9ICRzaGFyZVBob25lLm1hc2tlZChwaG9uZU51bWJlcik7XG4gICAgJHNoYXJlUGhvbmUuaHRtbChwaG9uZU51bWJlcik7XG4gIH0pO1xuICAvLyBjbGVhciB0aGUgZGlzcGxheVxuICAkc2hhcmVLZXlwYWQuZmluZCgnLmNsZWFyJykub24odGFwRXZlbnQsIGUgPT4ge1xuICAgICRzaGFyZVBob25lLmh0bWwoJycpO1xuICB9KTtcblxuICAvLyAkKCdib2R5LnNoYXJlLWFjdGl2ZScpLm9uKHRhcEV2ZW50LCBmdW5jdGlvbihlKSB7XG4gIC8vICAgaWYgKCQoZS50YXJnZXQpLmNsb3Nlc3QoJycpKVxuICAvLyB9KVxufVxuXG4vLyBcInJhbmRvbWx5XCIgcGxhY2UgZmlkZGx5IGJpdHMgb24gdGhlIGNhcmRzXG5mdW5jdGlvbiByYW5kb21DYXJkR3JhcGhpY3MoKSB7XG4gICRib2R5LmZpbmQoJy5jYXJkLXdyYXAgYXJ0aWNsZScpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgY29uc3QgbnVtQmcgPSA2OyAvLyA2IGRpZmZlcmVudCBiZ3Mgc3BlY2lmaWVkIGluIGNzc1xuICAgICQoZWwpLmF0dHIoJ2RhdGEtYmcnLCBpICUgbnVtQmcpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gaW5pdFRpcHMoKSB7XG4gIGNhcmRJbnRlcmFjdGlvbnMoKTtcbn1cblxuZnVuY3Rpb24gaW5pdFNoYXJlKCkge1xuICBwaG9uZU51bWJlcklucHV0cygpO1xuICByYW5kb21DYXJkR3JhcGhpY3MoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoKSB7XG4gIGluaXRUaXBzKCk7XG4gIGluaXRTaGFyZSgpO1xufVxuIiwiY29uc3QgU2hhcGVEZXRlY3RvciA9IHJlcXVpcmUoJy4vbGliL3NoYXBlLWRldGVjdG9yJyk7XG5cbmNvbnN0IGNvbmZpZyA9IHJlcXVpcmUoJy4vY2xpZW50LWNvbmZpZycpO1xuXG5jb25zdCB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5jb25zdCBjb2xvciA9IHJlcXVpcmUoJy4vY29sb3InKTtcblxuZXhwb3J0IGxldCBrZWVwYWxpdmVTaGFwZTtcblxuZXhwb3J0IGNvbnN0IGNvcm5lclRocmVzaG9sZERlZyA9IDMwO1xuZXhwb3J0IGNvbnN0IHRocmVzaG9sZERpc3RNdWx0aXBsaWVyID0gMC4xO1xuXG5leHBvcnQgY29uc3QgZGV0ZWN0b3IgPSBuZXcgU2hhcGVEZXRlY3RvcihTaGFwZURldGVjdG9yLmRlZmF1bHRTaGFwZXMpO1xuXG5leHBvcnQgY29uc3Qgc2hhcGVOYW1lcyA9IFtcImxpbmVcIiwgXCJjaXJjbGVcIiwgXCJzcXVhcmVcIiwgXCJ0cmlhbmdsZVwiLCBcIm90aGVyXCJdO1xuXG5mdW5jdGlvbiBjbGVhclBvcHMoKSB7XG4gIGNvbnN0IHBvcHMgPSB1dGlsLmdldEFsbFBvcHMoKTtcbiAgcG9wcy5mb3JFYWNoKChwb3ApID0+IHBvcC5yZW1vdmUoKSk7XG59XG5cbmxldCBrZWVwYWxpdmVJbnRlcnZhbCA9IG51bGw7XG5cbi8vIHRoZSBjYW52YXMgcmVjb3JkZXIgYXV0b21hdGljYWxseSB0cmltcyAnc3RpbGwnIGZyYW1lcywgc28gSSBhZGQgYSBzZW1pdHJhbnNwYXJlbnQgMXB4IHNxdWFyZSB0byB0cmljayB0aGUgcmVjb3JkZXIgaW50byByZWNvcmRpbmcgOilcbmZ1bmN0aW9uIGluaXRLZWVwYWxpdmVTaGFwZSgpIHtcbiAga2VlcGFsaXZlU2hhcGUgPSBQYXRoLlJlY3RhbmdsZSh7XG4gICBwb2ludDogWzEsIDFdLFxuICAgc2l6ZTogWzEsIDFdLFxuICAgc3Ryb2tlQ29sb3I6IG5ldyBDb2xvcigwLCAwLjAwMSksXG4gICB2aXNpYmxlOiBmYWxzZSxcbiAgIG5hbWU6ICdrZWVwYWxpdmUnXG4gfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydEtlZXBhbGl2ZUFuaW1hdGlvbigpIHtcbiAga2VlcGFsaXZlU2hhcGUudmlzaWJsZSA9IHRydWU7XG4gIGtlZXBhbGl2ZUludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgIGtlZXBhbGl2ZVNoYXBlLnJvdGF0aW9uICs9IDU7XG4gIH0sIDQwKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBzdG9wS2VlcGFsaXZlQW5pbWF0aW9uKCkge1xuICBrZWVwYWxpdmVTaGFwZS52aXNpYmxlID0gZmFsc2U7XG4gIGNsZWFySW50ZXJ2YWwoa2VlcGFsaXZlSW50ZXJ2YWwpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVzdHJveUdyb3VwUG9wcyhncm91cCkge1xuICAvLyBjb25zb2xlLmxvZygnZGVzdHJveWluZyBwb3BzJyk7XG4gIGNvbnN0IGdyb3VwUG9wc0JlZm9yZSA9IHV0aWwuZ2V0R3JvdXBQb3BzKGdyb3VwKTtcbiAgLy8gY29uc29sZS5sb2coJ3BvcHMgdG8gYmUgZGVzdHJveWVkJywgZ3JvdXBQb3BzQmVmb3JlKTtcbiAgaWYgKGdyb3VwUG9wc0JlZm9yZS5sZW5ndGggPiAwKSB7XG4gICAgZ3JvdXBQb3BzQmVmb3JlLmZvckVhY2goKHBvcCkgPT4gcG9wLnJlbW92ZSgpKTtcbiAgfVxuICBjb25zdCBncm91cFBvcHNBZnRlciA9IHV0aWwuZ2V0R3JvdXBQb3BzKGdyb3VwKTtcbiAgLy8gY29uc29sZS5sb2coJ2dyb3VwIHBvcHMgYWZ0ZXInLCBncm91cFBvcHNBZnRlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWxsSW5Hcm91cFBvcHNCeUlkKGdyb3VwSWQpIHtcbiAgY29uc3QgZ3JvdXAgPSBwYXBlci5wcm9qZWN0LmdldEl0ZW0oe1xuICAgIGNsYXNzTmFtZTogJ0dyb3VwJyxcbiAgICBtYXRjaDogKGVsKSA9PiBlbC5pZCA9PT0gZ3JvdXBJZFxuICB9KTtcblxuICBpZiAoISFncm91cCAmJiBncm91cC5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgZ3JvdXAuY2hpbGRyZW4uZm9yRWFjaCgoZ3JvdXBDaGlsZCkgPT4ge1xuICAgICAgaWYgKGdyb3VwQ2hpbGQubmFtZSA9PT0gJ2xvb3AnKSB7XG4gICAgICAgIHRvZ2dsZUZpbGwoZ3JvdXBDaGlsZCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZUZpbGwoaXRlbSkge1xuICBjb25zdCB0cmFuc3BhcmVudCA9IGNvbG9yLnRyYW5zcGFyZW50O1xuICAvLyBjb25zb2xlLmxvZygnaGl0Jyk7XG4gIGxldCBwYXJlbnQgPSBpdGVtLnBhcmVudDtcblxuICAvLyBjb25zb2xlLmxvZygnaGl0IGl0ZW0nLCBpdGVtKTtcbiAgLy8gY29uc29sZS5sb2coJ2hpdCBwYXJlbnQnLCBwYXJlbnQpO1xuXG4gIGlmIChpdGVtLmRhdGEuaW50ZXJpb3IpIHtcbiAgICAvLyBjb25zb2xlLmxvZygnaW50ZXJpb3InKTtcbiAgICBpdGVtLmRhdGEudHJhbnNwYXJlbnQgPSAhaXRlbS5kYXRhLnRyYW5zcGFyZW50O1xuXG4gICAgaWYgKGl0ZW0uZGF0YS50cmFuc3BhcmVudCkge1xuICAgICAgLy8gY29uc29sZS5sb2coJ3RyYW5zcGFyZW50Jyk7XG4gICAgICBpdGVtLmZpbGxDb2xvciA9IHRyYW5zcGFyZW50O1xuICAgICAgaXRlbS5zdHJva2VDb2xvciA9IHRyYW5zcGFyZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBjb25zb2xlLmxvZygnbm90IHRyYW5zcGFyZW50Jyk7XG4gICAgICBpdGVtLmZpbGxDb2xvciA9IHBhcmVudC5kYXRhLmNvbG9yO1xuICAgICAgaXRlbS5zdHJva2VDb2xvciA9IHBhcmVudC5kYXRhLmNvbG9yO1xuICAgIH1cblxuICAgIHdpbmRvdy5rYW4ubW92ZXMucHVzaCh7XG4gICAgICB0eXBlOiAnZmlsbENoYW5nZScsXG4gICAgICBpZDogaXRlbS5pZCxcbiAgICAgIGZpbGw6IHBhcmVudC5kYXRhLmNvbG9yLFxuICAgICAgdHJhbnNwYXJlbnQ6IGl0ZW0uZGF0YS50cmFuc3BhcmVudFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIC8vIGNvbnNvbGUubG9nKCdub3QgaW50ZXJpb3InKTtcbiAgICAvLyBjaGVjayBpZiBpdGVtIGlzIGEgcG9wLCBiZWNhdXNlIHRoZW4gd2UnbGwgZmlsbCB0aGUgcG9wJ3MgcGFyZW50XG4gICAgaWYgKCEhaXRlbS5kYXRhICYmIGl0ZW0uZGF0YS5wb3AgPT09IHRydWUpIHtcbiAgICAgIGlmICghIWl0ZW0ucGFyZW50KSB7XG4gICAgICAgIGlmIChjb25maWcucG9wID09PSB0cnVlKSB7XG4gICAgICAgICAgZmlsbEluR3JvdXBQb3BzQnlJZChpdGVtLnBhcmVudC5pZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFuVXBHcm91cChncm91cCkge1xuICAvLyBjb25zb2xlLmxvZygnY2xlYW5pbmcgdXAgZ3JvdXAnKTtcbiAgY29uc3QgYWNjZXB0YWJsZU5hbWVzID0gWydtYXNrJywgJ291dGVyJywgJ3NoYXBlUGF0aCcsICdsb29wJywgJ3BvcCddO1xuXG4gIGdyb3VwLmNoaWxkcmVuLmZvckVhY2goKGdyb3VwQ2hpbGQpID0+IHtcbiAgICBpZiAoZ3JvdXBDaGlsZC5uYW1lID09PSBudWxsIHx8ICFhY2NlcHRhYmxlTmFtZXMuaW5jbHVkZXMoZ3JvdXBDaGlsZC5uYW1lKSB8fCAhZ3JvdXBDaGlsZC5sZW5ndGggPiAwKSB7XG4gICAgICBncm91cENoaWxkLnJlbW92ZSgpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGdyb3VwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlUG9wcygpIHtcbiAgY29uc3QgZnJlc2hHcm91cHMgPSB1dGlsLmdldEZyZXNoR3JvdXBzKCk7XG4gIGNvbnN0IHBvcENhbmRpZGF0ZXMgPSB1dGlsLmdldFBvcENhbmRpZGF0ZXMoKTtcbiAgY29uc3QgYWxsUG9wcyA9IHV0aWwuZ2V0QWxsUG9wcygpO1xuICBwb3BDYW5kaWRhdGVzLnJldmVyc2UoKTtcbiAgLy8gY29uc29sZS5sb2coJ2ZyZXNoR3JvdXBzJywgZnJlc2hHcm91cHMpO1xuICAvLyBjb25zb2xlLmxvZygncG9wQ2FuZGlkYXRlcycsIHBvcENhbmRpZGF0ZXMpO1xuICAvLyBjbGVhclBvcHMoKTtcblxuICBmcmVzaEdyb3Vwcy5mb3JFYWNoKChmcmVzaEdyb3VwLCBpKSA9PiB7XG4gICAgLy8gaWYgKGkgPj0gNCkgcmV0dXJuO1xuICAgIC8vIGNvbnNvbGUubG9nKCdmcmVzaEdyb3VwJywgZnJlc2hHcm91cCk7XG5cbiAgICBjb25zdCBmcmVzaE91dGVyID0gZnJlc2hHcm91cC5fbmFtZWRDaGlsZHJlbi5tYXNrWzBdO1xuICAgIGZyZXNoT3V0ZXIuYnJpbmdUb0Zyb250KCk7XG4gICAgLy8gZnJlc2hPdXRlci52aXNpYmxlID0gdHJ1ZTtcbiAgICAvLyBmcmVzaE91dGVyLmZpbGxDb2xvciA9ICdibGFjayc7XG4gICAgLy8gZnJlc2hPdXRlci5zZWxlY3RlZCA9IHRydWU7XG4gICAgLy8gY29uc29sZS5sb2coJ2ZyZXNoT3V0ZXInLCBmcmVzaE91dGVyKTtcbiAgICAvLyBmcmVzaE91dGVyLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICBwb3BDYW5kaWRhdGVzLmZvckVhY2goKG90aGVyR3JvdXAsIGopID0+IHtcbiAgICAgIGNvbnN0IG90aGVyR3JvdXBPdXRlciA9IG90aGVyR3JvdXAuX25hbWVkQ2hpbGRyZW4ubWFza1swXTtcbiAgICAgIGlmIChmcmVzaEdyb3VwLmlkICE9PSBvdGhlckdyb3VwLmlkKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdvdGhlckdyb3VwJywgb3RoZXJHcm91cCk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdvdGhlckdyb3VwT3V0ZXInLCBvdGhlckdyb3VwT3V0ZXIpO1xuICAgICAgICAvLyBvdGhlckdyb3VwT3V0ZXIuZmlsbENvbG9yID0gJ3doaXRlJztcbiAgICAgICAgb3RoZXJHcm91cE91dGVyLmJyaW5nVG9Gcm9udCgpO1xuICAgICAgICBsZXQgdGhpc1BvcCA9IGZyZXNoT3V0ZXIuaW50ZXJzZWN0KG90aGVyR3JvdXBPdXRlcik7XG4gICAgICAgIGlmICghIXRoaXNQb3AgJiYgdGhpc1BvcC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgLy8gY29uc3QgcG9wQ29sb3IgPSBjb2xvci5nZXRJbmRleGVkUG9wQ29sb3IoaSArIGopO1xuICAgICAgICAgIGNvbnN0IHBvcENvbG9yID0gY29sb3IuZ2V0UmFuZG9tUG9wKCk7XG4gICAgICAgICAgdGhpc1BvcC5maWxsQ29sb3IgPSBwb3BDb2xvcjtcbiAgICAgICAgICB0aGlzUG9wLnN0cm9rZUNvbG9yID0gcG9wQ29sb3I7XG4gICAgICAgICAgdGhpc1BvcC5kYXRhLnBvcCA9IHRydWU7XG4gICAgICAgICAgdGhpc1BvcC5uYW1lID0gJ3BvcCc7XG4gICAgICAgICAgdGhpc1BvcC5kYXRhLnBvcEdyb3VwID0gZnJlc2hHcm91cC5pZDtcbiAgICAgICAgICB0aGlzUG9wLmRhdGEuaW50ZXJzZWN0aW5nR3JvdXAgPSBvdGhlckdyb3VwLmlkO1xuICAgICAgICAgIHRoaXNQb3AudmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgdGhpc1BvcC5jbG9zZWQgPSB0cnVlO1xuICAgICAgICAgIHRoaXNQb3AuYnJpbmdUb0Zyb250KCk7XG4gICAgICAgICAgZnJlc2hHcm91cC5hZGRDaGlsZCh0aGlzUG9wKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNsZWFuVXBHcm91cChmcmVzaEdyb3VwKTtcblxuICAgICAgICAvLyBmaWd1cmUgb3V0IGlmIHRoaXMgcG9wIGludGVyc2VjdHMgYW55IG90aGVyIHBvcHNcbiAgICAgICAgLy8gYWxsUG9wcy5mb3JFYWNoKChvdGhlclBvcCwgaykgPT4ge1xuICAgICAgICAvLyAgIGNvbnNvbGUubG9nKCdjaGVja2luZyBvdGhlciBwb3AnLCBvdGhlclBvcCk7XG4gICAgICAgIC8vICAgaWYgKHRoaXNQb3AuaWQgIT09IG90aGVyUG9wLmlkICYmIHRoaXNQb3AuaW50ZXJzZWN0cyhvdGhlclBvcCkpIHtcbiAgICAgICAgLy8gICAgIGxldCBwb3BJbnRlcnNlY3Rpb24gPSB0aGlzUG9wLmdldEludGVyc2VjdGlvbnMob3RoZXJQb3ApO1xuICAgICAgICAvLyAgICAgaWYgKCEhcG9wSW50ZXJzZWN0aW9uICYmIHBvcEludGVyc2VjdGlvbi5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vICAgICAgIHBvcEludGVyc2VjdGlvbiA9IG5ldyBQYXRoKFtwb3BJbnRlcnNlY3Rpb25dKVxuICAgICAgICAvLyAgICAgICBjb25zb2xlLmxvZygncG9wSW50ZXJzZWN0aW9uJywgcG9wSW50ZXJzZWN0aW9uKTtcbiAgICAgICAgLy8gICAgICAgLy8gY29uc3QgcG9wQ29sb3IgPSBjb2xvci5nZXRJbmRleGVkUG9wQ29sb3IoaSArIGogKyBrKTtcbiAgICAgICAgLy8gICAgICAgY29uc3QgcG9wQ29sb3IgPSBjb2xvci5nZXRSYW5kb21Qb3AoKTtcbiAgICAgICAgLy8gICAgICAgcG9wSW50ZXJzZWN0aW9uLmRhdGEucG9wID0gdHJ1ZTtcbiAgICAgICAgLy8gICAgICAgcG9wSW50ZXJzZWN0aW9uLmZpbGxDb2xvciA9IHBvcENvbG9yXG4gICAgICAgIC8vICAgICAgIHBvcEludGVyc2VjdGlvbi5zdHJva2VDb2xvciA9IHBvcENvbG9yO1xuICAgICAgICAvLyAgICAgICBwb3BJbnRlcnNlY3Rpb24udmlzaWJsZSA9IHRydWU7XG4gICAgICAgIC8vICAgICAgIHBvcEludGVyc2VjdGlvbi5jbG9zZWQgPSB0cnVlO1xuICAgICAgICAvLyAgICAgICBwb3BJbnRlcnNlY3Rpb24uYnJpbmdUb0Zyb250KCk7XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vICAgfVxuICAgICAgICAvLyB9KTtcblxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZnJlc2hHcm91cC5kYXRhLmZyZXNoID0gZmFsc2U7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0T3V0bGluZUdyb3VwKHRydWVkU2hhcGUpIHtcbiAgLy8gY29uc29sZS5sb2coJ3RydWVkU2hhcGUnLCB0cnVlZFNoYXBlKTtcbiAgbGV0IG91dGVyUGF0aCA9IG5ldyBQYXRoKCk7XG4gIG91dGVyUGF0aC5uYW1lID0gJ291dGVyJztcbiAgb3V0ZXJQYXRoLnZpc2libGUgPSB0cnVlO1xuXG4gIGxldCBtaWRkbGVQYXRoID0gbmV3IFBhdGgoKTtcbiAgbWlkZGxlUGF0aC5uYW1lID0gJ21pZGRsZSc7XG4gIGxldCBzaXplcyA9IFtdO1xuICBsZXQgYW5nbGUgPSBudWxsLCBsYXN0QW5nbGUgPSBudWxsLCBhbmdsZURlbHRhO1xuXG4gIGxldCBmaXJzdFRvcCA9IG51bGwsIGZpcnN0Qm90dG9tID0gbnVsbDtcbiAgbGV0IGxhc3RUb3AgPSBudWxsLCBsYXN0Qm90dG9tID0gbnVsbDtcblxuICBpZiAoISh0cnVlZFNoYXBlLmxlbmd0aCA+IDApKSByZXR1cm4gbmV3IEdyb3VwKG91dGVyUGF0aCwgbWlkZGxlUGF0aCk7XG5cbiAgbWlkZGxlUGF0aC5hZGQodHJ1ZWRTaGFwZS5maXJzdFNlZ21lbnQucG9pbnQpO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdHJ1ZWRTaGFwZS5sZW5ndGg7IGkgKz0gMTApIHtcbiAgICB3aGlsZSAoc2l6ZXMubGVuZ3RoID4gMTApIHtcbiAgICAgIHNpemVzLnNoaWZ0KCk7XG4gICAgfVxuXG4gICAgY29uc3Qgc2l6ZSA9IE1hdGgucmFuZG9tKCkgKiA5OyAvLyBUaGlzIGlzIGp1c3QgcmFuZG9tIHZhcmlhbmNlXG4gICAgc2l6ZXMucHVzaChzaXplKTtcblxuICAgIGxldCBjdW1TaXplID0gMDtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IHNpemVzLmxlbmd0aDsgaisrKSB7XG4gICAgICBjdW1TaXplICs9IHNpemVzW2pdO1xuICAgIH1cbiAgICBsZXQgYXZnU2l6ZSA9IE1hdGgubWF4KDUsICgoY3VtU2l6ZSAvIHNpemVzLmxlbmd0aCkgKyBzaXplKSAvIDIpO1xuXG4gICAgY29uc3QgcG9pbnQgPSB0cnVlZFNoYXBlLmdldFBvaW50QXQoaSk7XG4gICAgY29uc3Qgbm9ybWFsID0gdHJ1ZWRTaGFwZS5nZXROb3JtYWxBdChpKTtcblxuICAgIGNvbnN0IHRvcCA9IG5ldyBQb2ludChwb2ludC54ICsgbm9ybWFsLnggKiBhdmdTaXplLCBwb2ludC55ICsgbm9ybWFsLnkgKiBhdmdTaXplKTtcbiAgICBjb25zdCBib3R0b20gPSBuZXcgUG9pbnQocG9pbnQueCAtIG5vcm1hbC54ICogYXZnU2l6ZSwgcG9pbnQueSAtIG5vcm1hbC55ICogYXZnU2l6ZSk7XG5cbiAgICAvLyBjb25zb2xlLmxvZygncG9pbnQnLCBwb2ludCwgJ25vcm1hbCcsIG5vcm1hbCk7XG4gICAgLy8gY29uc29sZS5sb2coJ3RvcCcsIHRvcCwgJ2JvdHRvbScsIGJvdHRvbSk7XG5cbiAgICBvdXRlclBhdGguYWRkKHRvcCk7XG4gICAgb3V0ZXJQYXRoLmluc2VydCgwLCBib3R0b20pO1xuICAgIG1pZGRsZVBhdGguYWRkKHBvaW50KTtcblxuICAgIGxhc3RBbmdsZSA9IGFuZ2xlO1xuXG4gICAgaWYgKGkgPT0gMTApIHtcbiAgICAgIGZpcnN0VG9wID0gdG9wO1xuICAgICAgZmlyc3RCb3R0b20gPSBib3R0b207XG4gICAgfSBlbHNlIHtcbiAgICAgIGxhc3RUb3AgPSB0b3A7XG4gICAgICBsYXN0Qm90dG9tID0gYm90dG9tO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0cnVlZFNoYXBlLmNsb3NlZCA9PT0gdHJ1ZSkge1xuICAgIGNvbnN0IGNlbnRlclRvcCA9IG5ldyBQb2ludCgoZmlyc3RUb3AueCArIGxhc3RUb3AueCkgLyAyLCAoZmlyc3RUb3AueSArIGxhc3RUb3AueSkgLyAyKTtcbiAgICBjb25zdCBjZW50ZXJCb3R0b20gPSBuZXcgUG9pbnQoKGZpcnN0Qm90dG9tLnggKyBsYXN0Qm90dG9tLngpIC8gMiwgKGZpcnN0Qm90dG9tLnkgKyBsYXN0Qm90dG9tLnkpIC8gMik7XG4gICAgY29uc3QgY2VudGVyID0gbmV3IFBvaW50KChjZW50ZXJUb3AueCArIGNlbnRlckJvdHRvbS54KSAvIDIsIChjZW50ZXJUb3AueSArIGNlbnRlckJvdHRvbS55KSAvIDIpO1xuXG4gICAgb3V0ZXJQYXRoLmFkZChjZW50ZXJUb3ApO1xuICAgIG91dGVyUGF0aC5pbnNlcnQoMCwgY2VudGVyQm90dG9tKTtcbiAgICBtaWRkbGVQYXRoLmFkZChjZW50ZXIpO1xuXG4gICAgb3V0ZXJQYXRoLmFkZChmaXJzdFRvcCk7XG4gICAgb3V0ZXJQYXRoLmluc2VydCgwLCBmaXJzdEJvdHRvbSk7XG4gICAgbWlkZGxlUGF0aC5jbG9zZWQgPSB0cnVlO1xuICB9XG5cbiAgb3V0ZXJQYXRoLmZsYXR0ZW4oNTApO1xuICBtaWRkbGVQYXRoLmZsYXR0ZW4oNTApO1xuICBvdXRlclBhdGguc2ltcGxpZnkoKTtcbiAgbWlkZGxlUGF0aC5zaW1wbGlmeSgpO1xuXG4gIG91dGVyUGF0aC5zZWxlY3RlZCA9IGZhbHNlO1xuICAvLyBtaWRkbGVQYXRoLnNlbGVjdGVkID0gdHJ1ZTtcbiAgb3V0ZXJQYXRoLm5hbWUgPSAnb3V0ZXInO1xuICBtaWRkbGVQYXRoLm5hbWUgPSAnbWlkZGxlJztcbiAgY29uc3QgcmV0dXJuR3JvdXAgPSBuZXcgR3JvdXAob3V0ZXJQYXRoLCBtaWRkbGVQYXRoKTtcbiAgcmV0dXJuIHJldHVybkdyb3VwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJ1ZWRTaGFwZShwYXRoKSB7XG4gIGxldCBwYXRoQ2xvbmUgPSBwYXRoLmNsb25lKCk7XG4gIHBhdGhDbG9uZS52aXNpYmxlID0gZmFsc2U7XG4gIC8vIGNvbnNvbGUubG9nKCdwYXRoQ2xvbmUnLCBwYXRoQ2xvbmUpO1xuICBsZXQgY29tcGxldGVkUGF0aCA9IGdldENvbXBsZXRlZFBhdGgocGF0aENsb25lKTtcbiAgLy8gY29tcGxldGVkUGF0aC5yZWR1Y2UoKTtcblxuICAvLyB0cnVlIHRoZSBwYXRoIVxuICBsZXQgdHJ1ZWRQYXRoID0gY29tcGxldGVkUGF0aDtcbiAgLy8gY29uc29sZS5sb2coJ3RydWVkUGF0aCcsIHRydWVkUGF0aCk7XG5cbiAgdHJ1ZWRQYXRoLnN0cm9rZVdpZHRoID0gcGF0aENsb25lLnN0cm9rZVdpZHRoO1xuXG4gIHBhdGhDbG9uZS5yZW1vdmUoKTtcbiAgcmV0dXJuIHRydWVkUGF0aDtcbn1cblxuLy8gZXh0ZW5kIG9yIHRyaW0gcGF0aCBpZiB0aGUgZW5kcyBhcmUgY2xvc2VcbmV4cG9ydCBmdW5jdGlvbiBnZXRDb21wbGV0ZWRQYXRoKHBhdGgpIHtcbiAgbGV0IHBhdGhDbG9uZSA9IHBhdGguY2xvbmUoKTtcbiAgcGF0aENsb25lLnZpc2libGUgPSBmYWxzZTtcbiAgcGF0aENsb25lLnJlZHVjZSgpO1xuICBwYXRoQ2xvbmUuc2ltcGxpZnkoKTtcblxuICBsZXQgaW50ZXJzZWN0aW9ucyA9IHBhdGhDbG9uZS5nZXRJbnRlcnNlY3Rpb25zKCk7XG5cbiAgaWYgKGludGVyc2VjdGlvbnMubGVuZ3RoID4gMCkge1xuICAgIC8vIHRyaW0gcGF0aCBpZiBlbmRzIGFyZSBjbG9zZVxuICAgIGxldCB0cmltbWVkUGF0aCA9IGdldFRyaW1tZWRQYXRoKHBhdGhDbG9uZSk7XG5cbiAgICBwYXRoQ2xvbmUucmVtb3ZlKCk7XG5cbiAgICByZXR1cm4gdHJpbW1lZFBhdGg7XG4gIH0gZWxzZSB7XG4gICAgLy8gZXh0ZW5kIHBhdGggdG8gc2VlIGlmIGFuIGludGVyc2VjdGlvbiBpcyBuZWFyXG4gICAgbGV0IGV4dGVuZGVkUGF0aCA9IGdldEV4dGVuZGVkUGF0aChwYXRoQ2xvbmUpO1xuICAgIGxldCBpbnRlcnNlY3Rpb25zID0gZXh0ZW5kZWRQYXRoLmdldEludGVyc2VjdGlvbnMoKTtcblxuICAgIC8vIHBhdGhDbG9uZS5yZW1vdmUoKTtcblxuICAgIGlmIChpbnRlcnNlY3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIHRyaW0gZXh0cmEgZXh0ZW5kZWQgcGF0aFxuICAgICAgbGV0IHRyaW1tZWRQYXRoID0gZ2V0VHJpbW1lZFBhdGgoZXh0ZW5kZWRQYXRoKTtcbiAgICAgIGV4dGVuZGVkUGF0aC5yZW1vdmUoKTtcbiAgICAgIHJldHVybiB0cmltbWVkUGF0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZXh0ZW5kZWQgcGF0aCBkb2VzIG5vdCBpbnRlcnNlY3QsIHJldHVybiB0aGUgb3JpZ2luYWwgcGF0aFxuICAgICAgZXh0ZW5kZWRQYXRoLnJlcGxhY2VXaXRoKGdldEJydXRlRXh0ZW5kZWRQYXRoKHBhdGhDbG9uZSkpO1xuICAgICAgaWYgKGV4dGVuZGVkUGF0aCAhPT0gbnVsbCkge1xuICAgICAgICBsZXQgaW50ZXJzZWN0aW9ucyA9IGV4dGVuZGVkUGF0aC5nZXRJbnRlcnNlY3Rpb25zKCk7XG5cbiAgICAgICAgaWYgKGludGVyc2VjdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGxldCB0cmltbWVkUGF0aCA9IGdldFRyaW1tZWRQYXRoKGV4dGVuZGVkUGF0aCk7XG4gICAgICAgICAgZXh0ZW5kZWRQYXRoLnJlbW92ZSgpO1xuICAgICAgICAgIHJldHVybiB0cmltbWVkUGF0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghIWV4dGVuZGVkUGF0aCAmJiBleHRlbmRlZFBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGV4dGVuZGVkUGF0aC5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBwYXRoQ2xvbmUudmlzaWJsZSA9IHRydWU7XG4gICAgICByZXR1cm4gcGF0aENsb25lO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2hhcGVQcmVkaWN0aW9uKHBhdGgpIHtcbiAgbGV0IHByZWRpY3Rpb24gPSB7fTtcblxuICBsZXQgc2hhcGVKU09OID0gcGF0aC5leHBvcnRKU09OKCk7XG4gIGxldCBzaGFwZURhdGEgPSBwcm9jZXNzU2hhcGVEYXRhKHNoYXBlSlNPTik7XG4gIC8vIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHNoYXBlRGF0YSkpO1xuICBsZXQgc2hhcGVQcmVkaWN0aW9uID0gZGV0ZWN0b3Iuc3BvdChzaGFwZURhdGEpO1xuXG4gIGlmIChzaGFwZVByZWRpY3Rpb24uc2NvcmUgPT09IDApIHtcbiAgICAvLyBhbGdvcml0aG0gZG9lc24ndCBsaWtlIHZlcnRpY2FsIGxpbmVzIGZvciBzb21lIHJlYXNvblxuICAgIC8vIGlmIHRoZSBjZXJ0YWludHkgaXMgMCBpdCdzIHByb2JhYmx5IGEgbGluZVxuICAgIHByZWRpY3Rpb24ucGF0dGVybiA9IFwibGluZVwiO1xuICAgIHByZWRpY3Rpb24uc2NvcmUgPSAwLjk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHNoYXBlUHJlZGljdGlvbi5zY29yZSA+IDAuNSkge1xuICAgICAgcHJlZGljdGlvbi5wYXR0ZXJuID0gc2hhcGVQcmVkaWN0aW9uLnBhdHRlcm47XG4gICAgfSBlbHNlIHtcbiAgICAgIHByZWRpY3Rpb24ucGF0dGVybiA9IFwib3RoZXJcIjtcbiAgICB9XG4gICAgcHJlZGljdGlvbi5zY29yZSA9IHNoYXBlUHJlZGljdGlvbi5zY29yZTtcbiAgfVxuXG4gIGlmIChwYXRoLmNsb3NlZCA9PT0gdHJ1ZSkge1xuICAgIGNvbnN0IGNsb3NlZFNoYXBlcyA9IFsndHJpYW5nbGUnLCAnc3F1YXJlJywgJ2NpcmNsZSddO1xuICAgIGlmIChjbG9zZWRTaGFwZXMuaW5jbHVkZXMocHJlZGljdGlvbi5wYXR0ZXJuKSA9PT0gZmFsc2UpIHtcbiAgICAgIC8vIGNsb3NlZCBzaGFwZSBzaG91bGQgYmUgb25lIG9mIHRoZSBhYm92ZSwgbWFrZSBhIHJhbmRvbSBwaWNrXG4gICAgICBwcmVkaWN0aW9uLnBhdHRlcm4gPSB1dGlsLnJhbmRvbVBpY2soY2xvc2VkU2hhcGVzKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAocGF0aC5pbnRlcnNlY3RzKHBhdGgpID09PSB0cnVlKSB7XG4gICAgcHJlZGljdGlvbi5wYXR0ZXJuID0gJ290aGVyJztcbiAgICAvLyBjb25zdCBpbnRlcnNlY3RpbmdTaGFwZXMgPSBbJ3RyaWFuZ2xlJywgJ3NxdWFyZScsICdjaXJjbGUnLCAnb3RoZXInXTtcbiAgICAvLyBpZiAoaW50ZXJzZWN0aW5nU2hhcGVzLmluY2x1ZGVzKHByZWRpY3Rpb24ucGF0dGVybikgPT09IGZhbHNlKSB7XG4gICAgLy8gICBwcmVkaWN0aW9uLnBhdHRlcm4gPSB1dGlsLnJhbmRvbVBpY2soaW50ZXJzZWN0aW5nU2hhcGVzKTtcbiAgICAvLyB9XG4gIH0gZWxzZSB7XG4gICAgcHJlZGljdGlvbi5wYXR0ZXJuID0gJ2xpbmUnOyAvLyBsaW5lcyBhcmUgdGhlIG9ubHkgc2hhcGUgdGhhdCBpcyBub3QgY2xvc2VkIGFuZCBkb2VzIG5vdCBpbnRlcnNlY3RcbiAgfVxuXG4gIC8vIGNvbnNvbGUubG9nKCdzaGFwZSBwcmVkaWN0aW9uJywgcHJlZGljdGlvbik7XG5cbiAgcmV0dXJuIHByZWRpY3Rpb247XG59XG5cbi8vIGZsb29ycyB0aGUgY29vcmRpbmF0ZXMgb2YgYSBwb2ludFxuZXhwb3J0IGZ1bmN0aW9uIGdldEludGVnZXJQb2ludChwb2ludCkge1xuICByZXR1cm4gbmV3IFBvaW50KE1hdGguZmxvb3IocG9pbnQueCksIE1hdGguZmxvb3IocG9pbnQueSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5naWZ5UG9pbnQocG9pbnQpIHtcbiAgcmV0dXJuIGAke01hdGguZmxvb3IocG9pbnQueCl9LCR7TWF0aC5mbG9vcihwb2ludC55KX1gO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VQb2ludChwb2ludFN0cikge1xuICBsZXQgc3BsaXQgPSBwb2ludFN0ci5zcGxpdCgnLCcpLm1hcCgobnVtKSA9PiBNYXRoLmZsb29yKG51bSkpO1xuXG4gIGlmIChzcGxpdC5sZW5ndGggPj0gMikge1xuICAgIHJldHVybiBuZXcgUG9pbnQoc3BsaXRbMF0sIHNwbGl0WzFdKTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2xvc2VzdFBvaW50RnJvbVBhdGhEYXRhKHBvaW50LCBwYXRoRGF0YSkge1xuICBsZXQgbGVhc3REaXN0YW5jZSwgY2xvc2VzdFBvaW50O1xuXG4gIEJhc2UuZWFjaChwYXRoRGF0YSwgKGRhdHVtLCBpKSA9PiB7XG4gICAgbGV0IGRpc3RhbmNlID0gcG9pbnQuZ2V0RGlzdGFuY2UoZGF0dW0ucG9pbnQpO1xuICAgIGlmICghbGVhc3REaXN0YW5jZSB8fCBkaXN0YW5jZSA8IGxlYXN0RGlzdGFuY2UpIHtcbiAgICAgIGxlYXN0RGlzdGFuY2UgPSBkaXN0YW5jZTtcbiAgICAgIGNsb3Nlc3RQb2ludCA9IGRhdHVtLnBvaW50O1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGNsb3Nlc3RQb2ludCB8fCBwb2ludDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb2Nlc3NTaGFwZURhdGEoanNvbikge1xuICBsZXQgcmV0dXJuU2hhcGUgPSBbXTtcbiAgbGV0IGpzb25PYmogPSBKU09OLnBhcnNlKGpzb24pWzFdOyAvLyB6ZXJvIGluZGV4IGlzIHN0cmluZ2lmaWVkIHR5cGUgKGUuZy4gXCJQYXRoXCIpXG5cbiAgaWYgKCdzZWdtZW50cycgaW4ganNvbk9iaikge1xuICAgIGxldCBzZWdtZW50cyA9IGpzb25PYmouc2VnbWVudHM7XG4gICAgQmFzZS5lYWNoKHNlZ21lbnRzLCAoc2VnbWVudCwgaSkgPT4ge1xuICAgICAgaWYgKHNlZ21lbnQubGVuZ3RoID09PSAzKSB7XG4gICAgICAgIGxldCBwb3NpdGlvbkluZm8gPSBzZWdtZW50WzBdOyAvLyBpbmRleGVzIDEgYW5kIDIgYXJlIHN1cGVyZmx1b3VzIG1hdHJpeCBkZXRhaWxzXG4gICAgICAgIHJldHVyblNoYXBlLnB1c2goe1xuICAgICAgICAgIHg6IHBvc2l0aW9uSW5mb1swXSxcbiAgICAgICAgICB5OiBwb3NpdGlvbkluZm9bMV1cbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVyblNoYXBlLnB1c2goe1xuICAgICAgICAgIHg6IHNlZ21lbnRbMF0sXG4gICAgICAgICAgeTogc2VnbWVudFsxXVxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJldHVyblNoYXBlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmluZEludGVyaW9yQ3VydmVzKHBhdGgpIHtcbiAgY29uc3QgdHJhbnNwYXJlbnQgPSBjb2xvci50cmFuc3BhcmVudDtcblxuICBsZXQgaW50ZXJpb3JDdXJ2ZXMgPSBbXTtcblxuICBsZXQgcGF0aENsb25lID0gcGF0aC5jbG9uZSgpO1xuICBsZXQgaW50ZXJzZWN0aW9ucyA9IHBhdGhDbG9uZS5nZXRJbnRlcnNlY3Rpb25zKCk7XG5cbiAgaWYgKGludGVyc2VjdGlvbnMubGVuZ3RoID4gMCkge1xuICAgIGxldCBkaXZpZGVkUGF0aCA9IHBhdGhDbG9uZS5yZXNvbHZlQ3Jvc3NpbmdzKCk7XG4gICAgLy8gY29uc29sZS5sb2coZGl2aWRlZFBhdGgpO1xuXG4gICAgaWYgKGRpdmlkZWRQYXRoLmNsYXNzTmFtZSA9PT0gJ0NvbXBvdW5kUGF0aCcpIHtcbiAgICAgIEJhc2UuZWFjaChkaXZpZGVkUGF0aC5jaGlsZHJlbiwgKGNoaWxkLCBpKSA9PiB7XG4gICAgICAgIGlmIChjaGlsZC5sZW5ndGggPiAwICYmIGNoaWxkLmNsb3NlZCkge1xuICAgICAgICAgIGxldCBlbmNsb3NlZExvb3AgPSBjaGlsZC5jbG9uZSgpO1xuICAgICAgICAgIGlmIChwYXRoQ2xvbmUuY2xvc2VkKSB7XG4gICAgICAgICAgICBlbmNsb3NlZExvb3AuZmlsbENvbG9yID0gcGF0aENsb25lLnN0cm9rZUNvbG9yO1xuICAgICAgICAgICAgZW5jbG9zZWRMb29wLmRhdGEuaW50ZXJpb3IgPSB0cnVlO1xuICAgICAgICAgICAgZW5jbG9zZWRMb29wLmRhdGEudHJhbnNwYXJlbnQgPSBmYWxzZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZW5jbG9zZWRMb29wLmZpbGxDb2xvciA9IHRyYW5zcGFyZW50O1xuICAgICAgICAgICAgZW5jbG9zZWRMb29wLmRhdGEudHJhbnNwYXJlbnQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbmNsb3NlZExvb3AuZGF0YS5pbnRlcmlvciA9IHRydWU7XG4gICAgICAgICAgZW5jbG9zZWRMb29wLnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgIGVuY2xvc2VkTG9vcC5jbG9zZWQgPSB0cnVlO1xuICAgICAgICAgIGludGVyaW9yQ3VydmVzLnB1c2goZW5jbG9zZWRMb29wKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHBhdGhDbG9uZS5jbG9zZWQpIHtcbiAgICAgICAgbGV0IGVuY2xvc2VkTG9vcCA9IHBhdGhDbG9uZS5jbG9uZSgpO1xuICAgICAgICBlbmNsb3NlZExvb3AudmlzaWJsZSA9IHRydWU7XG4gICAgICAgIGVuY2xvc2VkTG9vcC5maWxsQ29sb3IgPSBwYXRoQ2xvbmUuc3Ryb2tlQ29sb3I7XG4gICAgICAgIGVuY2xvc2VkTG9vcC5kYXRhLmludGVyaW9yID0gdHJ1ZTtcbiAgICAgICAgZW5jbG9zZWRMb29wLmRhdGEudHJhbnNwYXJlbnQgPSBmYWxzZTtcbiAgICAgICAgaW50ZXJpb3JDdXJ2ZXMucHVzaChlbmNsb3NlZExvb3ApO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAocGF0aENsb25lLmNsb3NlZCkge1xuICAgICAgbGV0IGVuY2xvc2VkTG9vcCA9IHBhdGhDbG9uZS5jbG9uZSgpO1xuICAgICAgZW5jbG9zZWRMb29wLnZpc2libGUgPSB0cnVlO1xuICAgICAgZW5jbG9zZWRMb29wLmZpbGxDb2xvciA9IHBhdGhDbG9uZS5zdHJva2VDb2xvcjtcbiAgICAgIGVuY2xvc2VkTG9vcC5kYXRhLmludGVyaW9yID0gdHJ1ZTtcbiAgICAgIGVuY2xvc2VkTG9vcC5kYXRhLnRyYW5zcGFyZW50ID0gZmFsc2U7XG4gICAgICBpbnRlcmlvckN1cnZlcy5wdXNoKGVuY2xvc2VkTG9vcCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGludGVyaW9yQ3VydmVzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RXh0ZW5kZWRQYXRoKHBhdGgsIGJydXRlRm9yY2UgPSBmYWxzZSkge1xuICBsZXQgZXh0ZW5kZWRQYXRoID0gcGF0aC5jbG9uZSgpO1xuICBleHRlbmRlZFBhdGgudmlzaWJsZSA9IGZhbHNlO1xuXG4gIGNvbnN0IHRocmVzaG9sZERpc3QgPSB0aHJlc2hvbGREaXN0TXVsdGlwbGllciAqIGV4dGVuZGVkUGF0aC5sZW5ndGg7XG5cbiAgY29uc3QgZmlyc3RTZWdtZW50ID0gZXh0ZW5kZWRQYXRoLmZpcnN0U2VnbWVudDtcbiAgY29uc3QgbmV4dFNlZ21lbnQgPSBmaXJzdFNlZ21lbnQubmV4dDtcbiAgY29uc3Qgc3RhcnRBbmdsZSA9IE1hdGguYXRhbjIobmV4dFNlZ21lbnQucG9pbnQueSAtIGZpcnN0U2VnbWVudC5wb2ludC55LCBuZXh0U2VnbWVudC5wb2ludC54IC0gZmlyc3RTZWdtZW50LnBvaW50LngpOyAvLyByYWRcbiAgY29uc3QgaW52ZXJzZVN0YXJ0QW5nbGUgPSBzdGFydEFuZ2xlICsgTWF0aC5QSTtcbiAgY29uc3QgZXh0ZW5kZWRTdGFydFBvaW50ID0gbmV3IFBvaW50KGZpcnN0U2VnbWVudC5wb2ludC54ICsgKE1hdGguY29zKGludmVyc2VTdGFydEFuZ2xlKSAqIHRocmVzaG9sZERpc3QgLyAyKSwgZmlyc3RTZWdtZW50LnBvaW50LnkgKyAoTWF0aC5zaW4oaW52ZXJzZVN0YXJ0QW5nbGUpICogdGhyZXNob2xkRGlzdCAvIDIpKTtcbiAgZXh0ZW5kZWRQYXRoLmluc2VydCgwLCBleHRlbmRlZFN0YXJ0UG9pbnQpO1xuXG4gIGNvbnN0IGxhc3RTZWdtZW50ID0gZXh0ZW5kZWRQYXRoLmxhc3RTZWdtZW50O1xuICBjb25zdCBwZW5TZWdtZW50ID0gbGFzdFNlZ21lbnQucHJldmlvdXM7IC8vIHBlbnVsdGltYXRlXG4gIGNvbnN0IGVuZEFuZ2xlID0gTWF0aC5hdGFuMihsYXN0U2VnbWVudC5wb2ludC55IC0gcGVuU2VnbWVudC5wb2ludC55LCBsYXN0U2VnbWVudC5wb2ludC54IC0gcGVuU2VnbWVudC5wb2ludC54KTsgLy8gcmFkXG4gIGNvbnN0IGV4dGVuZGVkRW5kUG9pbnQgPSBuZXcgUG9pbnQobGFzdFNlZ21lbnQucG9pbnQueCArIChNYXRoLmNvcyhlbmRBbmdsZSkgKiB0aHJlc2hvbGREaXN0IC8gMiksIGxhc3RTZWdtZW50LnBvaW50LnkgKyAoTWF0aC5zaW4oZW5kQW5nbGUpICogdGhyZXNob2xkRGlzdCAvIDIpKTtcbiAgZXh0ZW5kZWRQYXRoLmFkZChleHRlbmRlZEVuZFBvaW50KTtcblxuICAvLyBleHRlbmRlZFBhdGgudmlzaWJsZSA9IHRydWU7XG5cbiAgcmV0dXJuIGV4dGVuZGVkUGF0aDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEJydXRlRXh0ZW5kZWRQYXRoKHBhdGgpIHtcbiAgbGV0IGV4dGVuZGVkUGF0aCA9IHBhdGguY2xvbmUoKTtcbiAgZXh0ZW5kZWRQYXRoLnZpc2libGUgPSBmYWxzZTtcblxuICBjb25zdCB0aHJlc2hvbGREaXN0ID0gdGhyZXNob2xkRGlzdE11bHRpcGxpZXIgKiBleHRlbmRlZFBhdGgubGVuZ3RoO1xuICBjb25zdCBmaXJzdFBvaW50ID0gZXh0ZW5kZWRQYXRoLmZpcnN0U2VnbWVudC5wb2ludDtcbiAgY29uc3QgbGFzdFBvaW50ID0gZXh0ZW5kZWRQYXRoLmxhc3RTZWdtZW50LnBvaW50O1xuXG4gIGlmIChmaXJzdFBvaW50LmdldERpc3RhbmNlKGxhc3RQb2ludCkgPCB0aHJlc2hvbGREaXN0KSB7XG4gICAgZXh0ZW5kZWRQYXRoLmluc2VydCgwLCBsYXN0UG9pbnQpO1xuICAgIGV4dGVuZGVkUGF0aC5hZGQoZmlyc3RQb2ludCk7XG4gICAgZXh0ZW5kZWRQYXRoLmNsb3NlZCA9IHRydWU7XG4gICAgZXh0ZW5kZWRQYXRoLnVuaXRlKCk7XG4gICAgbGV0IGNyb3NzaW5ncyA9IGV4dGVuZGVkUGF0aC5yZXNvbHZlQ3Jvc3NpbmdzKCk7XG4gICAgaWYgKCEhY3Jvc3NpbmdzICYmICEhY3Jvc3NpbmdzLmNoaWxkcmVuICYmIGNyb3NzaW5ncy5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICBsZXQgbWF4QXJlYSA9IDAsIG1heENoaWxkID0gbnVsbDtcbiAgICAgIGNyb3NzaW5ncy5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xuICAgICAgICBpZiAoY2hpbGQuYXJlYSA+IG1heEFyZWEpIHtcbiAgICAgICAgICBtYXhDaGlsZCA9IGNoaWxkO1xuICAgICAgICAgIG1heEFyZWEgPSBjaGlsZC5hcmVhO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZXh0ZW5kZWRQYXRoID0gbWF4Q2hpbGQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGV4dGVuZGVkUGF0aDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRyaW1tZWRQYXRoKHBhdGgpIHtcbiAgbGV0IHBhdGhDbG9uZSA9IHBhdGguY2xvbmUoKTtcbiAgcGF0aENsb25lLnZpc2libGUgPSBmYWxzZTtcblxuICBsZXQgZmlyc3RQb2ludCA9IHBhdGhDbG9uZS5maXJzdFNlZ21lbnQucG9pbnQ7XG4gIGxldCBsYXN0UG9pbnQgPSBwYXRoQ2xvbmUubGFzdFNlZ21lbnQucG9pbnQ7XG4gIGxldCB0aHJlc2hvbGREaXN0ID0gdGhyZXNob2xkRGlzdE11bHRpcGxpZXIgKiBwYXRoQ2xvbmUubGVuZ3RoO1xuXG4gIGxldCBpbnRlcnNlY3Rpb25zID0gcGF0aENsb25lLmdldEludGVyc2VjdGlvbnMoKTtcbiAgaW50ZXJzZWN0aW9ucy5mb3JFYWNoKChpbnRlcnNlY3Rpb24sIGkpID0+IHtcbiAgICBpZiAoaW50ZXJzZWN0aW9uLm9mZnNldCA9PT0gMCkge1xuICAgICAgaW50ZXJzZWN0aW9ucy5zcGxpY2UoaSwgMSk7XG4gICAgfVxuICB9KTtcblxuICAvLyBjb25zb2xlLmxvZygnaW50ZXJzZWN0aW9ucycsIGludGVyc2VjdGlvbnMpO1xuXG4gIGlmIChpbnRlcnNlY3Rpb25zLmxlbmd0aCA9PSAxKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnRlcnNlY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgaW50ZXJzZWN0aW9uUG9pbnQgPSBpbnRlcnNlY3Rpb25zW2ldLnBvaW50O1xuXG4gICAgICAvLyBpZiB0aGUgYXZlcmFnZSBvZiB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgZmlyc3QgYW5kIGxhc3QgcG9pbnRzIGFuZCB0aGUgaW50ZXJzZWN0aW9uIHBvaW50IGlzIHdpdGhpbiB0aGUgdGhyZXNob2xkLCB0cmltXG4gICAgICBpZiAoZmlyc3RQb2ludC5nZXREaXN0YW5jZShpbnRlcnNlY3Rpb25Qb2ludCkgKyBsYXN0UG9pbnQuZ2V0RGlzdGFuY2UoaW50ZXJzZWN0aW9uUG9pbnQpIDwgMiAqIHRocmVzaG9sZERpc3QpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3RyaW1taW5nIHBhdGgnKTtcbiAgICAgICAgbGV0IGRpdmlkZWRQYXRoID0gcGF0aENsb25lLmNsb25lKCk7IC8vIHJlc29sdmUgY3Jvc3NpbmdzIHNlZW1zIHRvIG1vZGlmeSB0aGUgcGF0aCBpdCB3YXMgcGFzc2VkLCBzbyBtYWtlIGFuIGV4dHJhIGNsb25lIHRvIGJlIHNhZmVcbiAgICAgICAgZGl2aWRlZFBhdGgudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICBsZXQgcGF0aENyb3NzaW5ncyA9IGRpdmlkZWRQYXRoLnJlc29sdmVDcm9zc2luZ3MoKTtcblxuICAgICAgICBpZiAocGF0aENyb3NzaW5ncy5jbGFzc05hbWUgPT09ICdDb21wb3VuZFBhdGgnICYmIHBhdGhDcm9zc2luZ3MuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcGF0aENyb3NzaW5ncy5jaGlsZHJlbi5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gcGF0aENyb3NzaW5ncy5jaGlsZHJlbltqXTtcbiAgICAgICAgICAgIGlmIChjaGlsZC5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgLy8gY2hpbGQuc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICBkaXZpZGVkUGF0aCA9IGRpdmlkZWRQYXRoLnN1YnRyYWN0KGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkaXZpZGVkUGF0aC5zZWxlY3RlZCA9IHRydWU7XG5cbiAgICAgICAgbGV0IHRyaW1tZWRQYXRoID0gcGF0aENsb25lLnN1YnRyYWN0KGRpdmlkZWRQYXRoKTtcbiAgICAgICAgaWYgKHRyaW1tZWRQYXRoLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHBhdGhDbG9uZTtcbiAgICAgICAgaWYgKHRyaW1tZWRQYXRoLmNsYXNzTmFtZSA9PT0gJ0NvbXBvdW5kUGF0aCcgJiYgdHJpbW1lZFBhdGguY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGxldCBjbG9zZWRDaGlsZHJlbiA9IFtdO1xuICAgICAgICAgIHRyaW1tZWRQYXRoLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkLCBpKSA9PiB7XG4gICAgICAgICAgICBpZiAoY2hpbGQubGVuZ3RoID4gMCAmJiBjaGlsZC5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgbGV0IGNoaWxkQ2xvbmUgPSBjaGlsZC5jbG9uZSgpO1xuICAgICAgICAgICAgICBjaGlsZENsb25lLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgY2xvc2VkQ2hpbGRyZW4ucHVzaChjaGlsZENsb25lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmIChjbG9zZWRDaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpZiAoY2xvc2VkQ2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAvLyBmb3Igc29tZSByZWFzb24gdGhlcmUgYXJlIG1vcmUgdGhhbiBvbmUgY2xvc2VkIGNoaWxkcmVuLCBtZXJnZSB0aGVtXG4gICAgICAgICAgICAgIGxldCBhY2N1bXVsYXRvciA9IGNsb3NlZENoaWxkcmVuWzBdO1xuXG4gICAgICAgICAgICAgIGZvciAobGV0IGogPSAxOyBqIDwgY2xvc2VkQ2hpbGRyZW4ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBhY2N1bXVsYXRvciA9IGFjY3VtdWxhdG9yLnVuaXRlKGNsb3NlZENoaWxkcmVuW2pdKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChhY2N1bXVsYXRvci5sZW5ndGggPiAwICYmIGFjY3VtdWxhdG9yLmNsYXNzTmFtZSA9PT0gJ1BhdGgnKSB7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3RyaW1tZWQgYWNjdW11bGF0b3InLCBhY2N1bXVsYXRvcik7XG4gICAgICAgICAgICAgICAgbGV0IG5ld1BhdGggPSBuZXcgUGF0aCgpO1xuICAgICAgICAgICAgICAgIG5ld1BhdGguY29weUNvbnRlbnQoYWNjdW11bGF0b3IpO1xuICAgICAgICAgICAgICAgIG5ld1BhdGguY29weUF0dHJpYnV0ZXMocGF0aENsb25lKTtcbiAgICAgICAgICAgICAgICBhY2N1bXVsYXRvci5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBwYXRoQ2xvbmUucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgZGl2aWRlZFBhdGgucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgdHJpbW1lZFBhdGgucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld1BhdGg7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGF0aENsb25lLnJlbW92ZSgpO1xuICAgICAgICAgICAgZGl2aWRlZFBhdGgucmVtb3ZlKCk7XG4gICAgICAgICAgICB0cmltbWVkUGF0aC5yZW1vdmUoKTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd0cmltbWVkIGNsb3NlZENoaWxkcmVuWzBdJywgY2xvc2VkQ2hpbGRyZW5bMF0pO1xuICAgICAgICAgICAgcmV0dXJuIGNsb3NlZENoaWxkcmVuWzBdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCd0cmltbWVkIHBhdGggcmV0dXJuJywgdHJpbW1lZFBhdGgpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZygncGF0aCBjbG9uZScsIHBhdGhDbG9uZSk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdkaXZpZGVkUGF0aCcsIGRpdmlkZWRQYXRoKTtcbiAgICAgICAgcGF0aENsb25lLnJlbW92ZSgpO1xuICAgICAgICBkaXZpZGVkUGF0aC5yZW1vdmUoKTtcbiAgICAgICAgcmV0dXJuIHRyaW1tZWRQYXRoO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIG5vIGNsb3NlIGludGVyc2VjdGlvbiB3ZXJlIGZvdW5kIHNvIG5vdGhpbmcgY2FuIGJlIHRyaW1tZWRcbiAgICByZXR1cm4gcGF0aENsb25lO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBwYXRoO1xuICB9XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGhpdFRlc3RHcm91cEJvdW5kcyhwb2ludCkge1xuICBsZXQgZ3JvdXBzID0gdXRpbC5nZXRWaXNpYmxlR3JvdXBzKCk7XG4gIHJldHVybiBoaXRUZXN0Qm91bmRzKHBvaW50LCBncm91cHMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGl0VGVzdEJvdW5kcyhwb2ludCwgY2hpbGRyZW4pIHtcbiAgaWYgKCFwb2ludCkgcmV0dXJuIG51bGw7XG5cbiAgZm9yIChsZXQgaSA9IGNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgbGV0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgbGV0IGJvdW5kcyA9IGNoaWxkLnN0cm9rZUJvdW5kcztcbiAgICBpZiAocG9pbnQuaXNJbnNpZGUoY2hpbGQuc3Ryb2tlQm91bmRzKSkge1xuICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHtcbiAgaW5pdEtlZXBhbGl2ZVNoYXBlKCk7XG59XG4iLCJjb25zdCBjb25maWcgPSByZXF1aXJlKCcuL2NsaWVudC1jb25maWcnKTtcblxuY29uc3QgUHJvbWlzZSA9IHJlcXVpcmUoJ2JsdWViaXJkJyk7XG5jb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7XG5jb25zdCBxcyA9IHJlcXVpcmUoJ3FzJyk7XG5cbmNvbnN0IHVpID0gcmVxdWlyZSgnLi91aScpO1xuY29uc3QgdGltaW5nID0gcmVxdWlyZSgnLi90aW1pbmcnKTtcbmNvbnN0IG92ZXJsYXlzID0gcmVxdWlyZSgnLi9vdmVybGF5cycpO1xuY29uc3Qgc291bmQgPSByZXF1aXJlKCcuL3NvdW5kJyk7XG5jb25zdCB2aWRlbyA9IHJlcXVpcmUoJy4vdmlkZW8nKTtcblxuY29uc3QgZHJhd0NhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbmZpZy5jYW52YXNJZCk7XG5cbmZ1bmN0aW9uIGFzeW5jU3RvcEF1ZGlvUmVjb3JkaW5nQW5kRXhwb3J0QmxvYihyZWNvcmRlcikge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdHJ5IHtcbiAgICAgIHJlY29yZGVyLnN0b3AoKTtcbiAgICAgIHJlY29yZGVyLmV4cG9ydFdBVihmdW5jdGlvbihibG9iKSB7XG4gICAgICAgIHJlc29sdmUoYmxvYik7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhc3luY1N0b3BWaWRlb1JlY29yZGluZ0FuZEV4cG9ydEJsb2IocmVjb3JkZXIpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHRyeSB7XG4gICAgICByZWNvcmRlci5zdG9wUmVjb3JkaW5nKGZ1bmN0aW9uKCkge1xuICAgICAgICBsZXQgYmxvYiA9IHJlY29yZGVyLmdldEJsb2IoKTtcbiAgICAgICAgcmVzb2x2ZShibG9iKTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3luY1JlY29yZCgpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhdWRpb1JlY29yZGVyID0gbmV3IFJlY29yZGVyKEhvd2xlci5tYXN0ZXJHYWluLCB7XG4gICAgICAgIHdvcmtlclBhdGg6ICcvanMvbGliL3JlY29yZGVyV29ya2VyLmpzJ1xuICAgICAgfSk7XG4gICAgICBjb25zdCBjYW52YXNSZWNvcmRlciA9IFJlY29yZFJUQyhkcmF3Q2FudmFzLCB7XG4gICAgICAgIHR5cGU6ICdjYW52YXMnXG4gICAgICB9KTtcblxuICAgICAgSG93bGVyLm11dGUoZmFsc2UpO1xuICAgICAgY2FudmFzUmVjb3JkZXIuc3RhcnRSZWNvcmRpbmcoKTtcbiAgICAgIGF1ZGlvUmVjb3JkZXIucmVjb3JkKCk7XG5cbiAgICAgIHNvdW5kLmFzeW5jUGxheUNvbXBvc2l0aW9uT25jZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW2FzeW5jU3RvcEF1ZGlvUmVjb3JkaW5nQW5kRXhwb3J0QmxvYihhdWRpb1JlY29yZGVyKSwgYXN5bmNTdG9wVmlkZW9SZWNvcmRpbmdBbmRFeHBvcnRCbG9iKGNhbnZhc1JlY29yZGVyKV0pXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24odmFsdWVzKSB7XG4gICAgICAgICAgICBsZXQgW2F1ZGlvQmxvYiwgdmlkZW9CbG9iXSA9IHZhbHVlcztcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdhdWRpb0Jsb2InLCBhdWRpb0Jsb2IpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3ZpZGVvQmxvYicsIHZpZGVvQmxvYik7XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZW5kaW5nIGZpbGVzJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2F1ZGlvJywgYXVkaW9CbG9iKTtcbiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgndmlkZW8nLCB2aWRlb0Jsb2IpO1xuXG4gICAgICAgICAgICBheGlvcy5wb3N0KCcvcHJvY2VzcycsIGZvcm1EYXRhKVxuICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgczNJZCA9IHJlc3AuZGF0YTtcbiAgICAgICAgICAgICAgICAvLyBmaXJlIHNoYXJlIG1vZGFsXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShzM0lkKTtcbiAgICAgICAgICAgICAgICAvLyB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGAvcHJvY2Vzcz9pZD0ke3ZpZGVvSWR9YDtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAvLyB0aGVyZSB3YXMgYW4gZXJyb3IgdXBsb2FkaW5nIVxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSkuZXJyb3IoKGUpID0+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFthc3luY1N0b3BBdWRpb1JlY29yZGluZ0FuZEV4cG9ydEJsb2IoYXVkaW9SZWNvcmRlciksIGFzeW5jU3RvcFZpZGVvUmVjb3JkaW5nQW5kRXhwb3J0QmxvYihjYW52YXNSZWNvcmRlcildKVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHZhbHVlcykge1xuICAgICAgICAgICAgY29uc29sZS5sb2codmFsdWVzKVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZmluYWxseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfVxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXN5bmNBZGRDb21wb3NpdGlvblRvRGIoZGF0YSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHMzSWQgPSBkYXRhLnMzSWQ7XG4gICAgICBjb25zdCBwaG9uZSA9IGRhdGEucGhvbmU7XG4gICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHFzLnN0cmluZ2lmeSh7XG4gICAgICAgIHMzSWQ6IHMzSWQsXG4gICAgICAgIHBob25lOiBwaG9uZSxcbiAgICAgICAgcG9zdEtleTogY29uZmlnLnBvc3RLZXlcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2NvbXBvc2l0aW9uL25ldz8nICsgcXVlcnlTdHJpbmcpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJlc29sdmUoJ2NvbXBvc2l0aW9uIHN1Y2Nlc3NmdWxseSBwb3N0ZWQnKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH1cbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZVNoYXJlUHJlc3NlZCgpIHtcbiAgY29uc29sZS5sb2coJ3NoYXJlUHJlc3NlZCcpO1xuICBvdmVybGF5cy5vcGVuT3ZlcmxheSgnc2hhcmUtcHJlcGFyZScpO1xuICBjbGVhckludGVydmFsKHdpbmRvdy5rYW4uaW5hY3Rpdml0eVRpbWVvdXQpO1xuICB1aS5lbnRlclNoYXJlTW9kZSgpO1xuICBvdmVybGF5cy5hc3luY0Nsb3NlT3ZlcmxheXNBZnRlckR1cmF0aW9uKDEwMDAgKiAxKVxuICAgIC8vIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgIC8vICAgcmV0dXJuIGFzeW5jUmVjb3JkKCk7XG4gICAgLy8gfSlcbiAgICAudGhlbihmdW5jdGlvbihzM0lkKSB7XG4gICAgICBjb25zb2xlLmxvZygncmVjb3JkaW5nIGRvbmUnKTtcbiAgICAgIHVpLmV4aXRTaGFyZU1vZGUoKTtcbiAgICAgIG92ZXJsYXlzLm9wZW5PdmVybGF5KCdzaGFyZScpO1xuICAgICAgcmV0dXJuIG92ZXJsYXlzLmFzeW5jV2FpdEZvcldlbGxGb3JtZWRQaG9uZU51bWJlcihzM0lkKVxuICAgIH0pXG4gICAgLnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgY29uc29sZS5sb2coJ3JlY2VpdmVkIHdlbGwgZm9ybWVkIHBob25lIG51bWJlcicpO1xuICAgICAgcmV0dXJuIGFzeW5jQWRkQ29tcG9zaXRpb25Ub0RiKHJlc3ApO1xuICAgIH0pXG4gICAgLy8gLmNhdGNoKGZ1bmN0aW9uKGUpIHtcbiAgICAvLyAgIC8vIGNvdWxkIGJlIGEgdGltZSBvdXQ/XG4gICAgLy8gICBjb25zb2xlLmxvZygnc29tZXRoaW5nIHdlbnQgd3JvbmcnLCBlKTtcbiAgICAvLyB9KVxuICAgIC8vIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgIC8vIH0pXG4gICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAvLyBjbG9zZSBvdmVybGF5XG4gICAgICBvdmVybGF5cy5vcGVuT3ZlcmxheSgnc2hhcmUtY29uZmlybWF0aW9uJyk7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICB2aWRlby5lbnRlclR1dG9yaWFsTW9kZSgpO1xuICAgICAgfSwgMTAwMCAqIDQpO1xuICAgICAgY29uc29sZS5sb2coJ2Nsb3NlIG92ZXJsYXknKTtcbiAgICB9KVxuICAgIC5jYXRjaChmdW5jdGlvbihlKSB7XG4gICAgICAvLyBjbG9zZSBvdmVybGF5XG4gICAgICBjb25zb2xlLmxvZygnZXJyb3IgaW4gc2hhcmUgbW9kZSwgZ29pbmcgaW50byB0dXRvcmlhbCcpO1xuICAgICAgdWkuZXhpdFNoYXJlTW9kZSgpOyAvLyBtYWtlIHN1cmVcbiAgICAgIHZpZGVvLmVudGVyVHV0b3JpYWxNb2RlKCk7XG4gICAgfSlcbn1cbiIsInJlcXVpcmUoJ2hvd2xlcicpO1xuY29uc3QgUHJvbWlzZSA9IHJlcXVpcmUoXCJibHVlYmlyZFwiKTtcblxuY29uc3QgdWkgPSByZXF1aXJlKCcuL3VpJyk7XG5jb25zdCBzaGFwZSA9IHJlcXVpcmUoJy4vc2hhcGUnKTtcbmNvbnN0IGNvbG9yID0gcmVxdWlyZSgnLi9jb2xvcicpO1xuY29uc3Qgb3ZlcmxheXMgPSByZXF1aXJlKCcuL292ZXJsYXlzJyk7XG5jb25zdCB0dXRvcmlhbCA9IHJlcXVpcmUoJy4vdHV0b3JpYWwnKTtcbmNvbnN0IHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcblxuY29uc3QgJGJvZHkgPSAkKCdib2R5Jyk7XG5cbmNvbnN0IG1lYXN1cmVzID0gNDtcbmNvbnN0IGJwbSA9IDEyMDtcbmNvbnN0IGJlYXRMZW5ndGggPSAoNjAgLyBicG0pICogMTAwMDsgLy8gbXNcbmNvbnN0IG1lYXN1cmVMZW5ndGggPSBiZWF0TGVuZ3RoICogNDtcbmV4cG9ydCBjb25zdCBjb21wb3NpdGlvbkxlbmd0aCA9IG1lYXN1cmVMZW5ndGggKiBtZWFzdXJlcztcblxuZXhwb3J0IGNvbnN0IHBsYXlpbmdDbGFzcyA9ICdwbGF5aW5nJztcbmV4cG9ydCBjb25zdCBwbGF5RW5hYmxlZENsYXNzID0gJ3BsYXktZW5hYmxlZCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xuICByZXR1cm4gYXN5bmNJbml0U2hhcGVTb3VuZHMoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlaW5pdFNoYXBlU291bmRzKCkge1xuICByZXR1cm4gYXN5bmNJbml0U2hhcGVTb3VuZHMoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNoYXBlU291bmRPYmoocGF0aCkge1xuICBjb25zdCB2aWV3V2lkdGggPSBwYXBlci52aWV3LnZpZXdTaXplLndpZHRoO1xuICBjb25zdCB2aWV3SGVpZ2h0ID0gcGFwZXIudmlldy52aWV3U2l6ZS5oZWlnaHQ7XG4gIGNvbnN0IHNoYXBlU291bmRzID0gd2luZG93Lmthbi5zaGFwZVNvdW5kcyB8fCBpbml0U2hhcGVTb3VuZHMoKTtcbiAgLy8gYWxlcnQoSlNPTi5zdHJpbmdpZnkod2luZG93Lmthbi5zaGFwZVNvdW5kcykpO1xuICAvLyBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeSh3aW5kb3cua2FuLnNoYXBlU291bmRzKSk7XG5cbiAgbGV0IHNoYXBlUHJlZGljdGlvbiA9IHNoYXBlLmdldFNoYXBlUHJlZGljdGlvbihwYXRoKTtcbiAgbGV0IGNvbG9yTmFtZSA9IGNvbG9yLmdldFBhdGhDb2xvck5hbWUocGF0aCk7XG4gIGlmIChjb2xvck5hbWUgPT09IG51bGwpIGNvbG9yTmFtZSA9ICdibGFjayc7IC8vIGp1c3QgaW4gY2FzZVxuXG4gIGNvbnN0IHF1YW50aXplZFNvdW5kU3RhcnRUaW1lID0gcXVhbnRpemVMZW5ndGgocGF0aC5ib3VuZHMueCAvIHZpZXdXaWR0aCAqIGNvbXBvc2l0aW9uTGVuZ3RoKTsgLy8gbXNcbiAgY29uc3QgcXVhbnRpemVkU291bmREdXJhdGlvbiA9IHF1YW50aXplTGVuZ3RoKHBhdGguYm91bmRzLndpZHRoIC8gdmlld1dpZHRoICogY29tcG9zaXRpb25MZW5ndGgpOyAvLyBtc1xuXG4gIGxldCBzb3VuZE9iaiA9IHt9O1xuICBzb3VuZE9iai5zb3VuZCA9IHNoYXBlU291bmRzW3NoYXBlUHJlZGljdGlvbi5wYXR0ZXJuXTtcbiAgc291bmRPYmouc3RhcnRUaW1lID0gcXVhbnRpemVkU291bmRTdGFydFRpbWU7XG4gIHNvdW5kT2JqLmR1cmF0aW9uID0gcXVhbnRpemVkU291bmREdXJhdGlvbjtcbiAgc291bmRPYmoucGF0aElkID0gcGF0aC5pZDtcbiAgc291bmRPYmouc3ByaXRlTmFtZSA9IGNvbG9yTmFtZTtcbiAgc291bmRPYmouZ3JvdXBJZCA9IHBhdGgucGFyZW50LmlkO1xuICBzb3VuZE9iai5wbGF5ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgc291bmRPYmouc291bmQucGxheShzb3VuZE9iai5zcHJpdGVOYW1lKTtcbiAgICAgIHNvdW5kT2JqLnNvdW5kLm9uKCdlbmQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVzb2x2ZShgR3JvdXAgJHtzb3VuZE9iai5ncm91cElkfSBkb25lIHBsYXlpbmcgc291bmRgKTtcbiAgICAgIH0pO1xuICAgICAgc291bmRPYmouc291bmQub24oJ2xvYWRlcnJvcicsIGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QoYEdyb3VwICR7c291bmRPYmouZ3JvdXBJZH0gZmFpbGVkIHRvIGxvYWQgc291bmRgKTtcbiAgICAgIH0pO1xuICAgIH0pXG4gIH1cblxuXG4gIHJldHVybiBzb3VuZE9iajtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0UGxheWluZygpIHtcbiAgLy8gY29uc29sZS5sb2coJ2ZpcnN0IHRpbWUnLCB3aW5kb3cua2FuLmZpcnN0VGltZVBsYXlpbmcpO1xuICBpZiAoJGJvZHkuaGFzQ2xhc3MocGxheUVuYWJsZWRDbGFzcykpIHtcbiAgICAkYm9keS5hZGRDbGFzcyhwbGF5aW5nQ2xhc3MpO1xuXG4gICAgSG93bGVyLm11dGUoZmFsc2UpO1xuXG4gICAgd2luZG93Lmthbi5wbGF5aW5nID0gdHJ1ZTtcblxuICAgIGlmICh3aW5kb3cua2FuLmZpcnN0VGltZVBsYXlpbmcgPT09IHRydWUpIHtcbiAgICAgIHdpbmRvdy5rYW4uZmlyc3RUaW1lUGxheWluZyA9IGZhbHNlO1xuICAgICAgc3RhcnRDb21wb3NpdGlvbih3aW5kb3cua2FuLmNvbXBvc2l0aW9uLCBmYWxzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXJ0Q29tcG9zaXRpb24od2luZG93Lmthbi5jb21wb3NpdGlvbiwgdHJ1ZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHdpbmRvdy5rYW4ucGxheWluZyA9IGZhbHNlO1xuICAgICRib2R5LnJlbW92ZUNsYXNzKHBsYXlpbmdDbGFzcyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0b3BQbGF5aW5nKG11dGUgPSBmYWxzZSkge1xuICBpZiAoISFtdXRlKSB7XG4gICAgSG93bGVyLm11dGUodHJ1ZSk7XG4gIH1cblxuICB3aW5kb3cua2FuLnBsYXlpbmcgPSBmYWxzZTtcbiAgJGJvZHkucmVtb3ZlQ2xhc3MocGxheWluZ0NsYXNzKTtcblxuICBzdG9wQ29tcG9zaXRpb24oKTtcbn1cblxuZnVuY3Rpb24gYXN5bmNHZXRTaGFwZVNvdW5kRnJvbVNoYXBlTmFtZShzaGFwZU5hbWUpIHtcbiAgY29uc3Qgc2hhcGVTb3VuZEpTT05QYXRoID0gYC4vYXVkaW8vc2hhcGVzLyR7c2hhcGVOYW1lfS8ke3NoYXBlTmFtZX0uanNvbmA7XG4gIHJldHVybiAkLmdldEpTT04oc2hhcGVTb3VuZEpTT05QYXRoKS50aGVuKChyZXNwKSA9PiB7XG4gICAgY29uc3Qgc2hhcGVTb3VuZERhdGEgPSBmb3JtYXRTaGFwZVNvdW5kRGF0YShzaGFwZU5hbWUsIHJlc3ApO1xuICAgIGNvbnN0IHNvdW5kID0gbmV3IEhvd2woc2hhcGVTb3VuZERhdGEpO1xuICAgIHJldHVybiB7XG4gICAgICBzaGFwZU5hbWU6IHNoYXBlTmFtZSxcbiAgICAgIHNvdW5kOiBzb3VuZFxuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3luY0luaXRTaGFwZVNvdW5kcygpIHtcbiAgbGV0IHJldHVyblNvdW5kcyA9IHt9O1xuICBjb25zdCBleHRlbnNpb25zID0gWydvZ2cnLCAnbTRhJywgJ21wMycsICdhYzMnXTtcblxuICBjb25zdCBzaGFwZU5hbWVzID0gc2hhcGUuc2hhcGVOYW1lcztcbiAgbGV0IHByb21pc2VzID0gW107XG4gIEJhc2UuZWFjaChzaGFwZU5hbWVzLCAoc2hhcGVOYW1lKSA9PiB7XG4gICAgcHJvbWlzZXMucHVzaChhc3luY0dldFNoYXBlU291bmRGcm9tU2hhcGVOYW1lKHNoYXBlTmFtZSkpO1xuICB9KTtcblxuICByZXR1cm4gJC53aGVuLmFwcGx5KCQsIHByb21pc2VzKS5kb25lKGZ1bmN0aW9uKCkge1xuICAgIGxldCByZXR1cm5Tb3VuZHMgPSB7fTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGFyZyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgIHJldHVyblNvdW5kc1thcmcuc2hhcGVOYW1lXSA9IGFyZy5zb3VuZDtcbiAgICB9XG5cbiAgICB3aW5kb3cua2FuLnNoYXBlU291bmRzID0gcmV0dXJuU291bmRzO1xuICAgIHJldHVybiByZXR1cm5Tb3VuZHM7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0U2hhcGVTb3VuZERhdGEoc2hhcGVOYW1lLCBkYXRhKSB7XG4gIGxldCByZXR1cm5EYXRhID0ge307XG5cbiAgcmV0dXJuRGF0YS5zcmMgPSBkYXRhLnVybHMubWFwKCh1cmwpID0+IGAuL2F1ZGlvL3NoYXBlcy8ke3NoYXBlTmFtZX0vJHt1cmx9YCk7XG4gIHJldHVybkRhdGEuc3ByaXRlID0gZGF0YS5zcHJpdGU7XG4gIHJldHVybkRhdGEuaHRtbDUgPSBmYWxzZTtcbiAgcmV0dXJuRGF0YS5sb29wID0gZmFsc2U7XG5cbiAgcmV0dXJuIHJldHVybkRhdGE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBxdWFudGl6ZUxlbmd0aChkdXJhdGlvbikge1xuICBjb25zdCBzbWFsbGVzdER1cmF0aW9uID0gKDYwIC8gYnBtKTtcbiAgY29uc3QgcmV0dXJuRHVyYXRpb24gPSBNYXRoLmZsb29yKGR1cmF0aW9uIC8gc21hbGxlc3REdXJhdGlvbikgKiBzbWFsbGVzdER1cmF0aW9uO1xuXG4gIGlmIChyZXR1cm5EdXJhdGlvbiA+IDApIHtcbiAgICByZXR1cm4gcmV0dXJuRHVyYXRpb247XG4gIH0gZWxzZSB7XG4gICAgLy8gYWx3YXlzIHJldHVybiBzb21ldGhpbmcgZ3JlYXRlciB0aGFuIHplcm9cbiAgICByZXR1cm4gc21hbGxlc3REdXJhdGlvbjtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcXVhbnRpemVQb3NpdGlvbihwb3NpdGlvbiwgdmlld1dpZHRoKSB7XG4gIGNvbnN0IHNtYWxsZXN0SW50ZXJ2YWwgPSB2aWV3V2lkdGggLyAoNCAqIG1lYXN1cmVzKTtcbiAgcmV0dXJuIHJldHVyblBvc2l0aW9uID0gTWF0aC5mbG9vcihwb3NpdGlvbiAvIHNtYWxsZXN0SW50ZXJ2YWwpICogc21hbGxlc3RJbnRlcnZhbDtcbn1cblxuZnVuY3Rpb24gYXN5bmNQbGF5U2hhcGUoc2hhcGUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIFByb21pc2UuYWxsKFthc3luY1BsYXlTaGFwZVNvdW5kKHNoYXBlKSwgYXN5bmNQbGF5U2hhcGVBbmltYXRpb24oc2hhcGUpXSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgcmVzb2x2ZShgR3JvdXAgJHtzaGFwZS5ncm91cElkfSBmdWxseSBkb25lIHBsYXlpbmdgKTtcbiAgICAgIH0pXG4gICAgICAuZXJyb3IoKGUpID0+IHtcbiAgICAgICAgcmVqZWN0KGBHcm91cCAke3NoYXBlLmdyb3VwSWR9IGVycm9yZWQgd2hpbGUgcGxheWluZzogJHtlfWApO1xuICAgICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhc3luY1BsYXlTaGFwZVNvdW5kKHNoYXBlKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICB0cnkge1xuICAgICAgLy8gY29uc29sZS5sb2coJ3BsYXlpbmc6ICcsIHNoYXBlLnNvdW5kLCBzaGFwZS5zcHJpdGVOYW1lLCBzaGFwZS5zdGFydFRpbWUpO1xuICAgICAgc2hhcGUucGxheSgpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIHJlc29sdmUocmVzKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24oZSkge1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIHJlamVjdChgRXJyb3IgcGxheWluZyBzaGFwZSBzb3VuZDogJHtlfWApO1xuICAgIH1cblxuICB9KTtcbn1cblxuZnVuY3Rpb24gYXN5bmNQbGF5U2hhcGVBbmltYXRpb24oc2hhcGUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGNvbnN0IGl0ZW0gPSBwYXBlci5wcm9qZWN0LmdldEl0ZW0oe1xuICAgICAgY2xhc3NOYW1lOiAnUGF0aCcsXG4gICAgICBtYXRjaDogZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgcmV0dXJuIChlbC5pZCA9PT0gc2hhcGUucGF0aElkKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoISFpdGVtKSB7XG4gICAgICBsZXQgZ3JvdXAgPSBpdGVtLnBhcmVudDtcbiAgICAgIGdyb3VwLmRhdGEuYW5pbWF0aW5nID0gdHJ1ZTtcbiAgICAgIGNvbnN0IHRvdGFsRHVyYXRpb24gPSBtZWFzdXJlTGVuZ3RoIC8gMjtcbiAgICAgIGdyb3VwLmFuaW1hdGUoW1xuICAgICAgICB7XG4gICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgc2NhbGU6IDEsXG4gICAgICAgICAgICByb3RhdGU6IC01LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgIGR1cmF0aW9uOiB0b3RhbER1cmF0aW9uIC8gNCxcbiAgICAgICAgICAgIGVhc2luZzogXCJlYXNlSW5PdXRcIixcbiAgICAgICAgICAgIC8vIGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vICAgY29uc29sZS5sb2coJ2FuaW1hdGlvbiBzdGVwIDEnKVxuICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICBzY2FsZTogMS4xNSxcbiAgICAgICAgICAgIHJvdGF0ZTogNSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICBkdXJhdGlvbjogdG90YWxEdXJhdGlvbiAvIDIsXG4gICAgICAgICAgICBlYXNpbmc6IFwiZWFzZUluT3V0XCIsXG4gICAgICAgICAgICAvLyBjb21wbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyAgIGNvbnNvbGUubG9nKCdhbmltYXRpb24gc3RlcCAyJylcbiAgICAgICAgICAgIC8vIH0sXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgc2NhbGU6IDEsXG4gICAgICAgICAgICByb3RhdGU6IDAsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgZHVyYXRpb246IHRvdGFsRHVyYXRpb24gLyA0LFxuICAgICAgICAgICAgZWFzaW5nOiBcImVhc2VJbk91dFwiLFxuICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICB0aGlzLmRhdGEuYW5pbWF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgIHJlc29sdmUoYEdyb3VwICR7Z3JvdXAuaWR9IGRvbmUgYW5pbWF0aW5nYCk7XG4gICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdhbmltYXRpb24gc3RlcCAzJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVqZWN0KCdJdGVtIG5vdCBzcGVjaWZpZWQuIENvdWxkIG5vdCBhbmltYXRlJyk7XG4gICAgfVxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlU2hhcGVGcm9tQ29tcG9zaXRpb24oc2hhcGVHcm91cCkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHdpbmRvdy5rYW4uY29tcG9zaXRpb24ubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgc291bmQgPSB3aW5kb3cua2FuLmNvbXBvc2l0aW9uW2ldO1xuXG4gICAgaWYgKCdncm91cElkJyBpbiBzb3VuZCkge1xuICAgICAgaWYgKHNvdW5kLmdyb3VwSWQgPT09IHNoYXBlR3JvdXAuaWQpIHtcbiAgICAgICAgd2luZG93Lmthbi5jb21wb3NpdGlvbi5zcGxpY2UoaSwgMSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCdwYXRoSWQnIGluIHNvdW5kKSB7XG4gICAgICBsZXQgaXRlbSA9IGdldEl0ZW1zKHtcbiAgICAgICAgbWF0Y2g6IGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgcmV0dXJuIGVsLmlkID09PSBzb3VuZC5wYXRoSWRcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoaXRlbS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGlmICghIWl0ZW0ucGFyZW50ICYmIGl0ZW0ucGFyZW50LmNsYXNzTmFtZSA9PT0gJ0dyb3VwJyAmJiBpdGVtLnBhcmVudC5pZCA9PT0gc2hhcGVHcm91cC5pZCkge1xuICAgICAgICAgIHdpbmRvdy5rYW4uY29tcG9zaXRpb24uc3BsaWNlKGksIDEpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJTb3VuZFRpbWVvdXRzKCkge1xuICBpZiAod2luZG93Lmthbi5zb3VuZFRpbWVvdXRzLmxlbmd0aCA+IDApIHtcbiAgICB3aW5kb3cua2FuLnNvdW5kVGltZW91dHMuZm9yRWFjaCgoc291bmRUaW1lb3V0KSA9PiB7XG4gICAgICBjbGVhclRpbWVvdXQoc291bmRUaW1lb3V0KTtcbiAgICB9KTtcbiAgfVxuXG4gIHdpbmRvdy5rYW4uc291bmRUaW1lb3V0cyA9IFtdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRDb21wb3NpdGlvbihjb21wb3NpdGlvbiwgbG9vcCA9IGZhbHNlKSB7XG4gIHN0b3BDb21wb3NpdGlvbigpO1xuICB0dXRvcmlhbC5oaWRlQ29udGV4dHVhbFR1dHMoKTtcblxuICBjbGVhclRpbWVvdXQod2luZG93Lmthbi5wbGF5UHJvbXB0VGltZW91dCk7XG5cbiAgbGV0IGl0ZXJhdGlvbnMgPSAwO1xuICBwbGF5Q29tcG9zaXRpb25GaXJzdFRpbWUoKTtcblxuICBmdW5jdGlvbiBwbGF5Q29tcG9zaXRpb25GaXJzdFRpbWUoKSB7XG4gICAgY2xlYXJTb3VuZFRpbWVvdXRzKCk7XG4gICAgLy8gY29uc29sZS5sb2coJ3BsYXlpbmcgY29tcG9zaXRpb24gZmlyc3QgdGltZScpO1xuICAgIGxldCB0cmltbWVkQ29tcG9zaXRpb25PYmogPSBnZXRUcmltbWVkQ29tcG9zaXRpb25PYmooY29tcG9zaXRpb24pO1xuXG4gICAgQmFzZS5lYWNoKHRyaW1tZWRDb21wb3NpdGlvbk9iai5jb21wb3NpdGlvbiwgKHNoYXBlLCBpKSA9PiB7XG4gICAgICBsZXQgc291bmRUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmICghd2luZG93Lmthbi5wbGF5aW5nKSB7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coJ25vdCBwbGF5aW5nLCByZXR1cm5pbmcnKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2hhcGUuc3ByaXRlTmFtZSA9PT0gbnVsbCkge1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCclY3NoYXBlIGlzIG51bGwnLCAnY29sb3I6cmVkJywgc2hhcGUpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGFzeW5jUGxheVNoYXBlKHNoYXBlKS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgICAgICB9KS5lcnJvcigoZSkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBwbGF5aW5nIHNoYXBlJywgZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSwgc2hhcGUuc3RhcnRUaW1lKTtcbiAgICAgIHdpbmRvdy5rYW4uc291bmRUaW1lb3V0cy5wdXNoKHNvdW5kVGltZW91dCk7XG4gICAgfSk7XG5cbiAgICBpdGVyYXRpb25zKys7XG4gICAgd2luZG93Lmthbi5jb21wb3NpdGlvblRpbWVvdXQgPSBzZXRUaW1lb3V0KHJlcGVhdENvbXBvc2l0aW9uLCBjb21wb3NpdGlvbkxlbmd0aCAtIHRyaW1tZWRDb21wb3NpdGlvbk9iai5zdGFydFRpbWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGxheUNvbXBvc2l0aW9uT25jZSgpIHtcbiAgICBjbGVhclNvdW5kVGltZW91dHMoKTtcbiAgICAvLyBjb25zb2xlLmxvZygncmVwZWF0Jyk7XG4gICAgQmFzZS5lYWNoKGNvbXBvc2l0aW9uLCAoc2hhcGUsIGkpID0+IHtcbiAgICAgIGxldCBzb3VuZFRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKCF3aW5kb3cua2FuLnBsYXlpbmcpIHtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZygnbm90IHBsYXlpbmcsIHJldHVyaW5nJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3BsYXlpbmc6ICcsIHNoYXBlLnNvdW5kLCBzaGFwZS5zcHJpdGVOYW1lLCBzaGFwZS5zdGFydFRpbWUpO1xuICAgICAgICBhc3luY1BsYXlTaGFwZShzaGFwZSkudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2cocmVzKTtcbiAgICAgICAgfSkuZXJyb3IoKGUpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3IgcGxheWluZyBzaGFwZScsIGUpO1xuICAgICAgICB9KTtcbiAgICAgIH0sIHNoYXBlLnN0YXJ0VGltZSk7XG4gICAgICB3aW5kb3cua2FuLnNvdW5kVGltZW91dHMucHVzaChzb3VuZFRpbWVvdXQpO1xuICAgIH0pO1xuICAgIGl0ZXJhdGlvbnMrKztcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlcGVhdENvbXBvc2l0aW9uKCkge1xuICAgIGlmIChsb29wID09PSB0cnVlKSB7XG4gICAgICBwbGF5Q29tcG9zaXRpb25PbmNlKCk7XG4gICAgICB3aW5kb3cua2FuLmNvbXBvc2l0aW9uSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChwbGF5Q29tcG9zaXRpb25PbmNlLCBjb21wb3NpdGlvbkxlbmd0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpdGVyYXRpb25zIDwgMikge1xuICAgICAgICBwbGF5Q29tcG9zaXRpb25PbmNlKCk7XG4gICAgICAgIHNldFRpbWVvdXQocmVwZWF0Q29tcG9zaXRpb24sIGNvbXBvc2l0aW9uTGVuZ3RoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0b3BQbGF5aW5nKCk7XG4gICAgICAgIG92ZXJsYXlzLm9wZW5PdmVybGF5KCdzaGFyZS1wcm9tcHQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzeW5jUGxheUNvbXBvc2l0aW9uTXVsdGlwbGVUaW1lcyhyZXBlYXRzID0gMSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgbGV0IHByb21pc2VkUmVwZWF0cyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXBlYXRzOyBpKyspIHtcbiAgICAgIHByb21pc2VkUmVwZWF0cy5wdXNoKGFzeW5jUGxheUNvbXBvc2l0aW9uT25jZSgpKTtcbiAgICB9XG5cbiAgICBQcm9taXNlLmVhY2gocHJvbWlzZWRSZXBlYXRzLCBmdW5jdGlvbigpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdyZXBlYXQnKTtcbiAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgIHJlc29sdmUoJ1JlcGVhdHMgZG9uZScpO1xuICAgIH0pLmVycm9yKChlKSA9PiB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXN5bmNQbGF5Q29tcG9zaXRpb25PbmNlKCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgY29uc3QgY29tcG9zaXRpb24gPSB3aW5kb3cua2FuLmNvbXBvc2l0aW9uO1xuICAgIGNvbnN0IHN0YXJ0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIGNsZWFyU291bmRUaW1lb3V0cygpO1xuXG4gICAgbGV0IHNoYXBlUHJvbWlzZXMgPSBbXTtcblxuICAgIHNoYXBlLnN0YXJ0S2VlcGFsaXZlQW5pbWF0aW9uKCk7XG5cbiAgICBCYXNlLmVhY2goY29tcG9zaXRpb24sIChzaGFwZSwgaSkgPT4ge1xuICAgICAgc2hhcGVQcm9taXNlcy5wdXNoKGFzeW5jUGxheVNoYXBlV2l0aERlbGF5KHNoYXBlKSk7XG4gICAgfSk7XG5cbiAgICBQcm9taXNlLmFsbChzaGFwZVByb21pc2VzKS50aGVuKChyZXMpID0+IHtcbiAgICAgIGNvbnN0IGVuZFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgIGNvbnN0IHBsYXlUaW1lID0gZW5kVGltZSAtIHN0YXJ0VGltZTtcblxuICAgICAgLy8gd2FpdCBmb3IgY29tcG9zaXRpb24gdG8gYmUgZnVsbHkgZG9uZSBiZWZvcmUgcmVwZWF0aW5nIChwbGF5IGlzIG5hdHVyYWxseSB0cnVuY2F0ZWQgd2hlbiB0aGUgbGFzdCBzaGFwZSBmaW5pc2hlcyBwbGF5aW5nKVxuICAgICAgaWYgKHBsYXlUaW1lIDwgY29tcG9zaXRpb25MZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuZGVsYXkoY29tcG9zaXRpb25MZW5ndGggLSBwbGF5VGltZSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgc2hhcGUuc3RvcEtlZXBhbGl2ZUFuaW1hdGlvbigpO1xuICAgICAgICAgIHJlc29sdmUoYENvbXBvc2l0aW9uIGZ1bGx5IGRvbmUsIGFmdGVyIGEgd2FpdGApO1xuICAgICAgICB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2hhcGUuc3RvcEtlZXBhbGl2ZUFuaW1hdGlvbigpO1xuICAgICAgICByZXNvbHZlKGBDb21wb3NpdGlvbiBmdWxseSBkb25lLCB3aXRoIG5vIHdhaXRgKTtcbiAgICAgIH1cbiAgICB9KS5lcnJvcigoZSkgPT4ge1xuICAgICAgc2hhcGUuc3RvcEtlZXBhbGl2ZUFuaW1hdGlvbigpO1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0pO1xuICB9KVxufVxuXG5mdW5jdGlvbiBhc3luY1BsYXlTaGFwZVdpdGhEZWxheShzaGFwZSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgY29uc3Qgc291bmRUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAvLyBjb25zb2xlLmxvZygncGxheWluZzogJywgc2hhcGUuc291bmQsIHNoYXBlLnNwcml0ZU5hbWUsIHNoYXBlLnN0YXJ0VGltZSk7XG4gICAgICBhc3luY1BsYXlTaGFwZShzaGFwZSkudGhlbigocmVzKSA9PiB7XG4gICAgICAgIHJlc29sdmUocmVzKTtcbiAgICAgIH0pLmVycm9yKChlKSA9PiB7XG4gICAgICAgIHJlamVjdChgRXJyb3IgcGxheWluZyBzaGFwZSB3aXRoIGRlbGF5OiAke2V9YCk7XG4gICAgICB9KTtcbiAgICB9LCBzaGFwZS5zdGFydFRpbWUpO1xuICAgIHdpbmRvdy5rYW4uc291bmRUaW1lb3V0cy5wdXNoKHNvdW5kVGltZW91dCk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RvcENvbXBvc2l0aW9uKCkge1xuICBjbGVhckludGVydmFsKHdpbmRvdy5rYW4uY29tcG9zaXRpb25JbnRlcnZhbCk7XG4gIGNsZWFyVGltZW91dCh3aW5kb3cua2FuLmNvbXBvc2l0aW9uVGltZW91dCk7XG4gIGNsZWFyU291bmRUaW1lb3V0cygpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJpbW1lZENvbXBvc2l0aW9uT2JqKGNvbXBvc2l0aW9uKSB7XG4gIGxldCBmaXJzdFRpbWUgPSAwO1xuICBsZXQgdHJpbW1lZENvbXBvc2l0aW9uID0gW107XG4gIGxldCBzdGFydFRpbWUgPSBnZXRDb21wb3NpdGlvblN0YXJ0VGltZShjb21wb3NpdGlvbik7XG5cbiAgY29tcG9zaXRpb24uZm9yRWFjaCgoc291bmQpID0+IHtcbiAgICBsZXQgbW9kaWZpZWRTb3VuZCA9IHV0aWwuc2hhbGxvd0NvcHkoc291bmQpO1xuICAgIG1vZGlmaWVkU291bmQuc3RhcnRUaW1lID0gc291bmQuc3RhcnRUaW1lIC0gc3RhcnRUaW1lO1xuICAgIGlmIChtb2RpZmllZFNvdW5kLnN0YXJ0VGltZSA8IDApIG1vZGlmaWVkU291bmQuc3RhcnRUaW1lID0gMDsgLy8gdGhpcyBzaG91bGRuJ3QgaGFwcGVuXG4gICAgdHJpbW1lZENvbXBvc2l0aW9uLnB1c2gobW9kaWZpZWRTb3VuZCk7XG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgY29tcG9zaXRpb246IHRyaW1tZWRDb21wb3NpdGlvbixcbiAgICBzdGFydFRpbWU6IHN0YXJ0VGltZVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldENvbXBvc2l0aW9uU3RhcnRUaW1lKGNvbXBvc2l0aW9uKSB7XG4gIGxldCBzdGFydFRpbWUgPSBjb21wb3NpdGlvbkxlbmd0aDtcblxuICBjb21wb3NpdGlvbi5mb3JFYWNoKChzb3VuZCkgPT4ge1xuICAgIC8vIGNvbnNvbGUubG9nKHNvdW5kKTtcbiAgICAvLyBjb25zb2xlLmxvZyhzb3VuZC5zdGFydFRpbWUpXG4gICAgaWYgKCdzdGFydFRpbWUnIGluIHNvdW5kICYmIHNvdW5kLnN0YXJ0VGltZSA8IHN0YXJ0VGltZSkge1xuICAgICAgc3RhcnRUaW1lID0gc291bmQuc3RhcnRUaW1lO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gY29uc29sZS5sb2coJ3N0YXJ0IHRpbWUnLCBzdGFydFRpbWUpO1xuXG4gIGlmIChzdGFydFRpbWUgIT09IGNvbXBvc2l0aW9uTGVuZ3RoKSB7XG4gICAgcmV0dXJuIHN0YXJ0VGltZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gMDtcbiAgfVxufVxuIiwiY29uc3Qgb3ZlcmxheXMgPSByZXF1aXJlKCcuL292ZXJsYXlzJyk7XG5jb25zdCB2aWRlbyA9IHJlcXVpcmUoJy4vdmlkZW8nKTtcbmNvbnN0IHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcblxuY29uc3QgJGJvZHkgPSAkKCdib2R5Jyk7XG5cbmV4cG9ydCBjb25zdCBkcmF3SW5hY3Rpdml0eURlbGF5ID0gNDAgKiAxMDAwOyAvLyBtc1xuZXhwb3J0IGNvbnN0IGNvbnRpbnVlSW5hY3Rpdml0eURlbGF5ID0gMzAgKiAxMDAwOyAvLyBtc1xuZXhwb3J0IGNvbnN0IHBsYXlQcm9tcHREZWxheSA9IDYwICogMTAwMDsgLy8gbXM7XG5leHBvcnQgY29uc3QgaW5wdXREZWxheSA9IDEwMDsgLy8gbXNcbmV4cG9ydCBjb25zdCByZWZyZXNoQ2hlY2tEZWxheSA9IDYwICogMTAwMDsgLy8gbXNcbmV4cG9ydCBjb25zdCBvdmVybGF5RGVsYXkgPSAxMDAwOyAvLyBtc1xuXG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHtcbiAgaWYgKHdpbmRvdy5sb2NhdGlvbi5oYXNoLmxlbmd0aCA+IDAgJiYgd2luZG93LmxvY2F0aW9uLmhhc2ggPT0gJyNkZXYnKSB7XG4gICAgd2luZG93Lmthbi5vdmVybGF5cyA9IGZhbHNlO1xuICAgIHZpZGVvLnBhdXNlVmlkZW8oKTtcbiAgICB2aWRlby5leGl0VHV0b3JpYWxNb2RlKCk7XG4gIH0gZWxzZSB7XG4gICAgdmlkZW8uZW50ZXJUdXRvcmlhbE1vZGUoKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJldmVudEluYWN0aXZpdHlUaW1lb3V0KCkge1xuICBjb25zb2xlLmxvZyhgcHJldmVudCB0aW1lb3V0OiAke3V0aWwuZ2V0VGltZSgpfWApO1xuICAvLyBvdmVybGF5cy5jbG9zZUFuZFJlc2V0T3ZlcmxheXMoKTtcblxuICBjbGVhclRpbWVvdXQod2luZG93Lmthbi5pbmFjdGl2aXR5VGltZW91dCk7XG4gIGNsZWFySW50ZXJ2YWwod2luZG93Lmthbi5jb250aW51ZUNvdW50ZG93bkludGVydmFsKTtcblxuICB3aW5kb3cua2FuLmluYWN0aXZpdHlUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgb3ZlcmxheXMub3Blbk92ZXJsYXkoJ2NvbnRpbnVlJyk7XG4gIH0sIGRyYXdJbmFjdGl2aXR5RGVsYXkpO1xufVxuIiwicmVxdWlyZSgnaGFtbWVyanMnKTtcblxuY29uc3QgY29uZmlnID0gcmVxdWlyZSgnLi9jbGllbnQtY29uZmlnJyk7XG5jb25zdCBzb3VuZCA9IHJlcXVpcmUoJy4vc291bmQnKTtcbmNvbnN0IGNvbG9yID0gcmVxdWlyZSgnLi9jb2xvcicpO1xuY29uc3Qgc2hhcGUgPSByZXF1aXJlKCcuL3NoYXBlJyk7XG5jb25zdCB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5jb25zdCB0dXRvcmlhbCA9IHJlcXVpcmUoJy4vdHV0b3JpYWwnKTtcbmNvbnN0IHRpbWluZyA9IHJlcXVpcmUoJy4vdGltaW5nJyk7XG5jb25zdCBvdmVybGF5cyA9IHJlcXVpcmUoJy4vb3ZlcmxheXMnKTtcbmNvbnN0IHVpID0gcmVxdWlyZSgnLi91aScpO1xuXG5jb25zdCAkYm9keSA9ICQoJ2JvZHknKTtcblxuY29uc3QgaGl0T3B0aW9ucyA9IHtcbiAgc2VnbWVudHM6IGZhbHNlLFxuICBzdHJva2U6IHRydWUsXG4gIGZpbGw6IHRydWUsXG4gIHRvbGVyYW5jZTogNVxufTtcblxuY29uc3QgbWluU2hhcGVTaXplID0gMTAwO1xuY29uc3QgbWF4U2hhcGVMZW5ndGggPSA1MDAwO1xuY29uc3QgbWF4U2NhbGVGYWN0b3IgPSAwLjg7XG5cbmxldCBvdXRlclBhdGg7XG5sZXQgc2l6ZXMgPSBbXTtcbmxldCBzaXplO1xubGV0IGN1bVNpemU7XG5sZXQgcHJldlBvaW50O1xuXG5leHBvcnQgbGV0IGhhbW1lclRpcHM7XG5leHBvcnQgbGV0IGhhbW1lckNhbnZhcztcblxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoKSB7XG4gIGhhbW1lclRpcHMgPSBuZXcgSGFtbWVyLk1hbmFnZXIodWkudGlwc092ZXJsYXkpO1xuICBoYW1tZXJUaXBzLmFkZChuZXcgSGFtbWVyLlN3aXBlKHsgZGlyZWN0aW9uOiBIYW1tZXIuRElSRUNUSU9OX0FMTCB9KSk7XG4gIGhhbW1lclRpcHMub24oJ3N3aXBlJywgb3ZlcmxheXMuY2FyZE5hdk5leHQpO1xuXG4gIGhhbW1lckNhbnZhcyA9IG5ldyBIYW1tZXIuTWFuYWdlcih1aS5kcmF3Q2FudmFzKTtcbiAgaGFtbWVyQ2FudmFzLmFkZChuZXcgSGFtbWVyLlRhcCh7IGV2ZW50OiAnZG91YmxldGFwJywgdGFwczogMiwgaW50ZXJ2YWw6IDQwMCwgdGltZTogMTUwLCBwb3NUaHJlc2hvbGQ6IDUwIH0pKTtcbiAgaGFtbWVyQ2FudmFzLmFkZChuZXcgSGFtbWVyLlRhcCh7IGV2ZW50OiAnc2luZ2xldGFwJyB9KSk7XG4gIGhhbW1lckNhbnZhcy5hZGQobmV3IEhhbW1lci5QYW4oeyBkaXJlY3Rpb246IEhhbW1lci5ESVJFQ1RJT05fQUxMIH0pKTtcbiAgaGFtbWVyQ2FudmFzLmFkZChuZXcgSGFtbWVyLlBpbmNoKCkpO1xuXG4gIGhhbW1lckNhbnZhcy5nZXQoJ2RvdWJsZXRhcCcpLnJlY29nbml6ZVdpdGgoJ3NpbmdsZXRhcCcpO1xuICAvLyBoYW1tZXJDYW52YXMuZ2V0KCdzaW5nbGV0YXAnKS5yZXF1aXJlRmFpbHVyZSgnZG91YmxldGFwJyk7XG4gIGhhbW1lckNhbnZhcy5nZXQoJ3BhbicpLnJlcXVpcmVGYWlsdXJlKCdwaW5jaCcpO1xuICBoYW1tZXJDYW52YXMuZ2V0KCdwaW5jaCcpLnJlcXVpcmVGYWlsdXJlKCdwYW4nKTtcblxuICAvLyBoYW1tZXJDYW52YXMub24oJ3NpbmdsZXRhcCcsIHNpbmdsZVRhcCk7XG4gIGhhbW1lckNhbnZhcy5vbignZG91YmxldGFwJywgZG91YmxlVGFwKTtcblxuICBoYW1tZXJDYW52YXMub24oJ3BhbnN0YXJ0JywgcGFuU3RhcnQpO1xuICBoYW1tZXJDYW52YXMub24oJ3Bhbm1vdmUnLCBwYW5Nb3ZlKTtcbiAgaGFtbWVyQ2FudmFzLm9uKCdwYW5lbmQnLCBwYW5FbmQpO1xuICAvLyBoYW1tZXJDYW52YXMub24oJ3BhbmNhbmNlbCcsIHBhbkNhbmNlbCk7XG5cbiAgaGFtbWVyQ2FudmFzLm9uKCdwaW5jaHN0YXJ0JywgcGluY2hTdGFydCk7XG4gIGhhbW1lckNhbnZhcy5vbigncGluY2htb3ZlJywgcGluY2hNb3ZlKTtcbiAgaGFtbWVyQ2FudmFzLm9uKCdwaW5jaGVuZCcsIHBpbmNoRW5kKTtcbiAgLy8gaGFtbWVyQ2FudmFzLm9uKCdwaW5jaGNhbmNlbCcsIHBpbmNoQ2FuY2VsKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVuYWJsZUFsbEV2ZW50cyhlbmFibGUgPSB0cnVlKSB7XG4gIGVuYWJsZVRhcEV2ZW50cyhlbmFibGUpO1xuICBlbmFibGVQYW5BbmRQaW5jaEV2ZW50cyhlbmFibGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGlzYWJsZUFsbEV2ZW50cygpIHtcbiAgZW5hYmxlQWxsRXZlbnRzKGZhbHNlKTtcbn1cblxuZnVuY3Rpb24gZW5hYmxlUGFuQW5kUGluY2hFdmVudHMoZW5hYmxlID0gdHJ1ZSkge1xuICBlbmFibGUgPSBlbmFibGUgPT09IHRydWU7XG4gIGVuYWJsZVBhbkV2ZW50cyhlbmFibGUpO1xuICBlbmFibGVQaW5jaEV2ZW50cyhlbmFibGUpO1xufVxuXG5mdW5jdGlvbiBlbmFibGVUYXBFdmVudHMoZW5hYmxlID0gdHJ1ZSkge1xuICBlbmFibGUgPSBlbmFibGUgPT09IHRydWU7XG4gIGhhbW1lckNhbnZhcy5nZXQoJ3NpbmdsZXRhcCcpLnNldCh7ZW5hYmxlOiBlbmFibGV9KTtcbiAgaGFtbWVyQ2FudmFzLmdldCgnZG91YmxldGFwJykuc2V0KHtlbmFibGU6IGVuYWJsZX0pO1xufVxuXG5mdW5jdGlvbiBkaXNhYmxlVGFwRXZlbnRzKCkge1xuICBlbmFibGVUYXBFdmVudHMoZmFsc2UpO1xufVxuXG5mdW5jdGlvbiBlbmFibGVQYW5FdmVudHMoZW5hYmxlID0gdHJ1ZSkge1xuICBlbmFibGUgPSBlbmFibGUgPT09IHRydWU7XG5cbiAgaGFtbWVyQ2FudmFzLmdldCgncGFuJykuc2V0KHtlbmFibGU6IGVuYWJsZX0pO1xuICAvLyBoYW1tZXJDYW52YXMuZ2V0KCdwYW5zdGFydCcpLnNldCh7ZW5hYmxlOiBlbmFibGV9KTtcbiAgLy8gaGFtbWVyQ2FudmFzLmdldCgncGFubW92ZScpLnNldCh7ZW5hYmxlOiBlbmFibGV9KTtcbiAgLy8gaGFtbWVyQ2FudmFzLmdldCgncGFuZW5kJykuc2V0KHtlbmFibGU6IGVuYWJsZX0pO1xufVxuXG5mdW5jdGlvbiBkaXNhYmxlUGFuRXZlbnRzKCkge1xuICBlbmFibGVQYW5FdmVudHMoZmFsc2UpO1xufVxuXG5mdW5jdGlvbiBlbmFibGVQaW5jaEV2ZW50cyhlbmFibGUgPSB0cnVlKSB7XG4gIGVuYWJsZSA9IGVuYWJsZSA9PT0gdHJ1ZTtcblxuICBoYW1tZXJDYW52YXMuZ2V0KCdwaW5jaCcpLnNldCh7ZW5hYmxlOiBlbmFibGV9KTtcbiAgLy8gaGFtbWVyQ2FudmFzLmdldCgncGluY2hzdGFydCcpLnNldCh7ZW5hYmxlOiBlbmFibGV9KTtcbiAgLy8gaGFtbWVyQ2FudmFzLmdldCgncGluY2htb3ZlJykuc2V0KHtlbmFibGU6IGVuYWJsZX0pO1xuICAvLyBoYW1tZXJDYW52YXMuZ2V0KCdwaW5jaGVuZCcpLnNldCh7ZW5hYmxlOiBlbmFibGV9KTtcbn1cblxuZnVuY3Rpb24gZGlzYWJsZVBpbmNoRXZlbnRzKCkge1xuICBlbmFibGVQaW5jaEV2ZW50cyhmYWxzZSk7XG59XG5cbmZ1bmN0aW9uIHNpbmdsZVRhcChldmVudCkge1xuICAvLyBjb25zb2xlLmxvZyhldmVudC50YXJnZXQpO1xuICAvLyBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAvLyBpZiAoIWV2ZW50VGFyZ2V0SXNPbkNhbnZhcyhldmVudCkpIHJldHVybjtcbiAgdHV0b3JpYWwuaGlkZUNvbnRleHR1YWxUdXRzKCk7XG4gIC8vICQoZXZlbnQudGFyZ2V0KS5jbGljaygpO1xuXG4gIC8vIHNvdW5kLnN0b3BQbGF5aW5nKCk7XG4gIC8vIGlmICghZXZlbnRUYXJnZXRJc09uQ2FudmFzKGV2ZW50KSkgcmV0dXJuO1xuICAvLyBjb25zb2xlLmxvZyhldmVudCk7XG4gIC8vIHR1dG9yaWFsLmhpZGVDb250ZXh0dWFsVHV0cygpO1xuICAvL1xuICAvLyBzb3VuZC5zdG9wUGxheWluZygpO1xuICAvL1xuICBjb25zdCBwb2ludGVyID0gZXZlbnQuY2VudGVyLFxuICAgICAgcG9pbnQgPSBuZXcgUG9pbnQocG9pbnRlci54LCBwb2ludGVyLnkpLFxuICAgICAgaGl0UmVzdWx0ID0gcGFwZXIucHJvamVjdC5oaXRUZXN0KHBvaW50LCBoaXRPcHRpb25zKTtcblxuICBpZiAoaGl0UmVzdWx0KSB7XG4gICAgbGV0IGl0ZW0gPSBoaXRSZXN1bHQuaXRlbTtcbiAgICAvLyBpdGVtLnNlbGVjdGVkID0gIWl0ZW0uc2VsZWN0ZWQ7XG4gICAgY29uc29sZS5sb2coaXRlbSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZG91YmxlVGFwKGV2ZW50KSB7XG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIC8vIGNvbnNvbGUubG9nKCdkb3VibGV0YXAnKTtcblxuICBjb25zdCBwb2ludGVyID0gZXZlbnQuY2VudGVyLFxuICAgICAgcG9pbnQgPSBuZXcgUG9pbnQocG9pbnRlci54LCBwb2ludGVyLnkpLFxuICAgICAgaGl0UmVzdWx0ID0gcGFwZXIucHJvamVjdC5oaXRUZXN0KHBvaW50LCBoaXRPcHRpb25zKTtcblxuICBpZiAoIWV2ZW50VGFyZ2V0SXNPbkNhbnZhcyhldmVudCkpIHJldHVybjtcblxuXG4gIGlmIChoaXRSZXN1bHQpIHtcbiAgICBzaGFwZS50b2dnbGVGaWxsKGhpdFJlc3VsdC5pdGVtKTtcbiAgICB0dXRvcmlhbC5oaWRlQ29udGV4dHVhbFR1dEJ5TmFtZSgnZmlsbCcpO1xuXG4gIH0gZWxzZSB7XG4gICAgd2luZG93Lmthbi5waW5jaGVkR3JvdXAgPSBudWxsO1xuICAgIC8vIGNvbnNvbGUubG9nKCdoaXQgbm8gaXRlbScpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBhblN0YXJ0KGV2ZW50KSB7XG4gIC8vIGNvbnNvbGUubG9nKGV2ZW50KTtcbiAgLy8gY29uc29sZS5sb2coJ3BhbnN0YXJ0Jyk7XG4gIC8vIHBhcGVyLnByb2plY3QuYWN0aXZlTGF5ZXIucmVtb3ZlQ2hpbGRyZW4oKTsgLy8gUkVNT1ZFXG4gIC8vIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIHRpbWluZy5wcmV2ZW50SW5hY3Rpdml0eVRpbWVvdXQoKTtcblxuICBpZiAoIWV2ZW50VGFyZ2V0SXNPbkNhbnZhcyhldmVudCkpIHtcbiAgICB3aW5kb3cua2FuLnBhbm5pbmcgPSBmYWxzZTtcbiAgICAvLyBjaGVjayBpZiB0aXBzIG1vZGFsIGlzIHVwXG4gICAgaWYgKCRib2R5Lmhhc0NsYXNzKCdvdmVybGF5LWFjdGl2ZSB0aXBzLWFjdGl2ZScpKSB7XG4gICAgICAvLyBpZiBzbywgZ28gdG8gbmV4dCB0aXAgY2FyZFxuICAgICAgb3ZlcmxheXMuY2FyZE5hdk5leHQoKTtcbiAgICB9XG4gICAgZXZlbnQuc3JjRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgd2luZG93Lmthbi5wYW5uaW5nID0gdHJ1ZTtcbiAgdHV0b3JpYWwuaGlkZUNvbnRleHR1YWxUdXRzKCk7XG5cbiAgaGFtbWVyQ2FudmFzLm9mZigncGFuc3RhcnQnKTtcbiAgLy8gaGFtbWVyQ2FudmFzLmdldCgncGFuJykuc2V0KHtlbmFibGU6IGZhbHNlfSk7XG4gIGRpc2FibGVQaW5jaEV2ZW50cygpO1xuICBkaXNhYmxlVGFwRXZlbnRzKCk7XG5cbiAgLy8gaWdub3JlIG90aGVyIHRvdWNoIGlucHV0c1xuICAvLyBpZiAod2luZG93Lmthbi5waW5jaGluZykgcmV0dXJuO1xuICAvLyBpZiAoIShldmVudC5jaGFuZ2VkUG9pbnRlcnMgJiYgZXZlbnQuY2hhbmdlZFBvaW50ZXJzLmxlbmd0aCA+IDApKSByZXR1cm47XG4gIC8vIGlmIChldmVudC5jaGFuZ2VkUG9pbnRlcnMubGVuZ3RoID4gMSkge1xuICAvLyAgIGNvbnNvbGUubG9nKCdldmVudC5jaGFuZ2VkUG9pbnRlcnMgPiAxJyk7XG4gIC8vIH1cblxuICBzb3VuZC5zdG9wUGxheWluZygpO1xuXG4gIHdpbmRvdy5rYW4ucHJldkFuZ2xlID0gTWF0aC5hdGFuMihldmVudC52ZWxvY2l0eVksIGV2ZW50LnZlbG9jaXR5WCk7XG5cbiAgY29uc3QgcG9pbnRlciA9IGV2ZW50LmNlbnRlcjtcbiAgY29uc3QgcG9pbnQgPSBuZXcgUG9pbnQocG9pbnRlci54LCBwb2ludGVyLnkpO1xuXG4gIG91dGVyUGF0aCA9IG5ldyBQYXRoKCk7XG4gIG91dGVyUGF0aC5maWxsQ29sb3IgPSB3aW5kb3cua2FuLmN1cnJlbnRDb2xvcjtcbiAgLy8gb3V0ZXJQYXRoLmZpbGxDb2xvciA9IG5ldyBDb2xvcigwLCAwLjUpO1xuXG4gIHNpemVzID0gW107XG5cbiAgbGV0IHNoYXBlUGF0aCA9IG5ldyBQYXRoKHtcbiAgICBzdHJva2VDb2xvcjogd2luZG93Lmthbi5jdXJyZW50Q29sb3IsXG4gICAgbmFtZTogJ3NoYXBlUGF0aCcsXG4gICAgc3Ryb2tlV2lkdGg6IDUsXG4gICAgdmlzaWJsZTogZmFsc2UsXG4gICAgc3Ryb2tlQ2FwOiAncm91bmQnXG4gIH0pO1xuXG4gIHNoYXBlUGF0aC5hZGQocG9pbnQpO1xuXG4gIHdpbmRvdy5rYW4ucGF0aERhdGFbc2hhcGUuc3RyaW5naWZ5UG9pbnQocG9pbnQpXSA9IHtcbiAgICBwb2ludDogcG9pbnQsXG4gICAgZmlyc3Q6IHRydWVcbiAgfTtcblxuICB3aW5kb3cua2FuLnNoYXBlUGF0aCA9IHNoYXBlUGF0aDtcbn1cblxuZnVuY3Rpb24gcGFuTW92ZShldmVudCkge1xuICAvLyBjb25zb2xlLmxvZygncGFubW92ZScpO1xuICAvLyBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICBpZiAoIWV2ZW50VGFyZ2V0SXNPbkNhbnZhcyhldmVudCkpIHtcbiAgICBldmVudC5zcmNFdmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHdpbmRvdy5rYW4ucGFubmluZyAhPT0gdHJ1ZSkgcmV0dXJuO1xuXG4gIC8vIGRvbid0IGxldCB0aGUgdXNlciBkcmF3IHBhc3QgdGhlIG1heCBsZW5ndGhcbiAgaWYgKHdpbmRvdy5rYW4uc2hhcGVQYXRoLmxlbmd0aCA8PSBtYXhTaGFwZUxlbmd0aCkge1xuICAgIGNvbnN0IHBvaW50ZXIgPSBldmVudC5jZW50ZXI7XG4gICAgbGV0IHBvaW50ID0gbmV3IFBvaW50KHBvaW50ZXIueCwgcG9pbnRlci55KTtcblxuICAgIGxldCBhbmdsZSA9IE1hdGguYXRhbjIoZXZlbnQudmVsb2NpdHlZLCBldmVudC52ZWxvY2l0eVgpO1xuICAgIGxldCBwcmV2QW5nbGUgPSB3aW5kb3cua2FuLnByZXZBbmdsZTtcbiAgICBsZXQgYW5nbGVEZWx0YSA9IHV0aWwuYW5nbGVEZWx0YShhbmdsZSwgcHJldkFuZ2xlKTtcbiAgICB3aW5kb3cua2FuLnByZXZBbmdsZSA9IGFuZ2xlO1xuXG4gICAgd2hpbGUgKHNpemVzLmxlbmd0aCA+IDEwKSB7XG4gICAgICBzaXplcy5zaGlmdCgpO1xuICAgIH1cbiAgICBpZiAoc2l6ZXMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgZGlzdCA9IHByZXZQb2ludC5nZXREaXN0YW5jZShwb2ludCk7XG5cbiAgICAgIC8vIFRoZXNlIGFyZSBiYXNlZCBvbiBhY2NlbGVyYXRpb25cbiAgICAgIHNpemUgPSBNYXRoLnJhbmRvbSgpICogMTA7IC8vIFRoaXMgaXMganVzdCByYW5kb20gdmFyaWFuY2VcblxuICAgICAgY3VtU2l6ZSA9IDA7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHNpemVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGN1bVNpemUgKz0gc2l6ZXNbal07XG4gICAgICB9XG4gICAgICAvLyBjb25zdCBhdmdTaXplID0gKChjdW1TaXplIC8gc2l6ZXMubGVuZ3RoKSArIHNpemUpIC8gMjtcbiAgICAgIGNvbnN0IGF2Z1NpemUgPSBNYXRoLm1heCg1LCAoKGN1bVNpemUgLyBzaXplcy5sZW5ndGgpICsgc2l6ZSkgLyAyKTtcblxuICAgICAgY29uc3QgaGFsZlBvaW50WCA9IChwb2ludC54ICsgcHJldlBvaW50LngpIC8gMjtcbiAgICAgIGNvbnN0IGhhbGZQb2ludFkgPSAocG9pbnQueSArIHByZXZQb2ludC55KSAvIDI7XG4gICAgICBjb25zdCBoYWxmUG9pbnQgPSBuZXcgUG9pbnQoaGFsZlBvaW50WCwgaGFsZlBvaW50WSk7XG5cbiAgICAgIGNvbnN0IHRvcFggPSBoYWxmUG9pbnQueCArIE1hdGguY29zKGFuZ2xlIC0gTWF0aC5QSS8yKSAqIGF2Z1NpemU7XG4gICAgICBjb25zdCB0b3BZID0gaGFsZlBvaW50LnkgKyBNYXRoLnNpbihhbmdsZSAtIE1hdGguUEkvMikgKiBhdmdTaXplO1xuICAgICAgY29uc3QgdG9wID0gbmV3IFBvaW50KHRvcFgsIHRvcFkpO1xuXG4gICAgICBjb25zdCBib3R0b21YID0gaGFsZlBvaW50LnggKyBNYXRoLmNvcyhhbmdsZSArIE1hdGguUEkvMikgKiBhdmdTaXplO1xuICAgICAgY29uc3QgYm90dG9tWSA9IGhhbGZQb2ludC55ICsgTWF0aC5zaW4oYW5nbGUgKyBNYXRoLlBJLzIpICogYXZnU2l6ZTtcbiAgICAgIGNvbnN0IGJvdHRvbSA9IG5ldyBQb2ludChib3R0b21YLCBib3R0b21ZKTtcblxuICAgICAgb3V0ZXJQYXRoLmFkZCh0b3ApO1xuICAgICAgb3V0ZXJQYXRoLmluc2VydCgwLCBib3R0b20pO1xuICAgICAgb3V0ZXJQYXRoLnNtb290aCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzaXplID0gNTtcbiAgICB9XG5cbiAgICBzaXplcy5wdXNoKHNpemUpO1xuICAgIHByZXZQb2ludCA9IHBvaW50O1xuXG4gICAgd2luZG93Lmthbi5wYXRoRGF0YVtzaGFwZS5zdHJpbmdpZnlQb2ludChwb2ludCldID0ge1xuICAgICAgcG9pbnQ6IHBvaW50LFxuICAgICAgc3BlZWQ6IE1hdGguYWJzKGV2ZW50Lm92ZXJhbGxWZWxvY2l0eSksXG4gICAgICBhbmdsZTogYW5nbGVcbiAgICB9O1xuXG4gICAgd2luZG93Lmthbi5zaGFwZVBhdGguYWRkKHBvaW50KTtcbiAgfSBlbHNlIHtcbiAgICB3aW5kb3cua2FuLnNoYXBlUGF0aC5kYXRhLnRvb0xvbmcgPSB0cnVlO1xuICB9XG5cbiAgcGFwZXIudmlldy5kcmF3KCk7XG59XG5cbmZ1bmN0aW9uIHBhbkVuZChldmVudCkge1xuICAvLyBjb25zb2xlLmxvZygncGFuZW5kJyk7XG4gIC8vIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIGlmICghZXZlbnRUYXJnZXRJc09uQ2FudmFzKGV2ZW50KSkge1xuICAgIGV2ZW50LnNyY0V2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAod2luZG93Lmthbi5wYW5uaW5nICE9PSB0cnVlKSByZXR1cm47XG5cbiAgY29uc3QgcG9pbnRlciA9IGV2ZW50LmNlbnRlcjtcbiAgY29uc3QgcG9pbnQgPSBuZXcgUG9pbnQocG9pbnRlci54LCBwb2ludGVyLnkpO1xuXG4gIGNvbnN0IHRyYW5zcGFyZW50ID0gY29sb3IudHJhbnNwYXJlbnQ7XG4gIGNvbnN0IGNvbG9yTmFtZSA9IGNvbG9yLmdldENvbG9yTmFtZSh3aW5kb3cua2FuLmN1cnJlbnRDb2xvcik7XG5cbiAgbGV0IG1vdmUgPSB7IHR5cGU6ICduZXdHcm91cCcgfTtcblxuICBsZXQgc2hhcGVQYXRoID0gd2luZG93Lmthbi5zaGFwZVBhdGg7XG5cbiAgaWYgKHNoYXBlUGF0aC5sZW5ndGggPD0gbWF4U2hhcGVMZW5ndGgpIHtcbiAgICBzaGFwZVBhdGguYWRkKHBvaW50KTtcbiAgfVxuICBvdXRlclBhdGgudmlzaWJsZSA9IGZhbHNlO1xuXG4gIGlmIChzaGFwZVBhdGgubGVuZ3RoIDwgbWluU2hhcGVTaXplIHx8IChzaGFwZVBhdGguZGF0YSAmJiBzaGFwZVBhdGguZGF0YS50b29Mb25nID09PSB0cnVlKSkge1xuICAgIC8vIGNvbnNvbGUubG9nKCdwYXRoIGlzIHRvbyBzaG9ydCcpO1xuICAgIHNoYXBlUGF0aC5yZW1vdmUoKTtcbiAgICBoYW1tZXJDYW52YXMub24oJ3BhbnN0YXJ0JywgcGFuU3RhcnQpO1xuICAgIGVuYWJsZVBhbkFuZFBpbmNoRXZlbnRzKCk7XG4gICAgZW5hYmxlVGFwRXZlbnRzKCk7XG4gICAgd2luZG93Lmthbi5wYW5uaW5nID0gZmFsc2U7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgdmlzaWJsZUdyb3VwcyA9IHV0aWwuZ2V0VmlzaWJsZUdyb3VwcygpO1xuICBpZiAodmlzaWJsZUdyb3Vwcy5sZW5ndGggPj0gY29uZmlnLm1heFNoYXBlcykge1xuICAgIC8vIHRvbyBtYW55IHNoYXBlcyBvbiBjYW52YXMsIHJlbW92ZSBmaXJzdCBzaGFwZVxuICAgIC8vIFRPRE86IHBsYWNlIG9uIG1vdmVzIHN0YWNrIHNvIHRoYXQgdGhleSBjYW4gYmUgcmVzdG9yZWQgd2l0aCBhbiB1bmRvXG4gICAgY29uc3QgZmlyc3RHcm91cCA9IHZpc2libGVHcm91cHNbMF07XG4gICAgc2hhcGUuZGVzdHJveUdyb3VwUG9wcyhmaXJzdEdyb3VwKTtcbiAgICBzb3VuZC5yZW1vdmVTaGFwZUZyb21Db21wb3NpdGlvbihmaXJzdEdyb3VwKTtcbiAgICBtb3ZlLnJlbW92ZWRHcm91cCA9IGZpcnN0R3JvdXA7XG4gICAgLy8gZmlyc3RHcm91cC5yZW1vdmUoKTtcbiAgICBmaXJzdEdyb3VwLnZpc2libGUgPSBmYWxzZTtcbiAgfVxuXG4gIHdpbmRvdy5rYW4ucGF0aERhdGFbc2hhcGUuc3RyaW5naWZ5UG9pbnQocG9pbnQpXSA9IHtcbiAgICBwb2ludDogcG9pbnQsXG4gICAgbGFzdDogdHJ1ZVxuICB9O1xuXG4gIGxldCBncm91cCA9IG5ldyBHcm91cCgpO1xuXG4gIGxldCB0cnVlZFNoYXBlID0gc2hhcGUuZ2V0VHJ1ZWRTaGFwZShzaGFwZVBhdGgpO1xuXG4gIC8vIGdyb3VwLmRhdGEuY29sb3IgPSB0cnVlZFNoYXBlLnN0cm9rZUNvbG9yO1xuICAvLyBjb25zb2xlLmxvZygnY3VycmVudEdyYWRpZW50OicsIGNvbmZpZy5wYWxldHRlLmdyYWRpZW50c1t3aW5kb3cua2FuLmN1cnJlbnRDb2xvcl0pO1xuXG4gIGNvbnN0IHNoYXBlU2l6ZSA9IHRydWVkU2hhcGUuc3Ryb2tlQm91bmRzO1xuICBjb25zdCBjZW50ZXJQb2ludCA9IG5ldyBQb2ludChzaGFwZVNpemUud2lkdGggLyAyLCBzaGFwZVNpemUuaGVpZ2h0IC8gMik7XG4gIGNvbnN0IGFuZ2xlID0gdXRpbC5yYWQoTWF0aC5yYW5kb20oKSAqIDM2MCk7XG4gIGNvbnN0IGdyYWRpZW50U2l6ZSA9IChzaGFwZVNpemUud2lkdGggKyBzaGFwZVNpemUuaGVpZ2h0KSAvIDQ7XG4gIGNvbnN0IG9yaWdpblggPSBjZW50ZXJQb2ludC54ICsgTWF0aC5jb3MoYW5nbGUgLSBNYXRoLlBJLzIpICogZ3JhZGllbnRTaXplO1xuICBjb25zdCBvcmlnaW5ZID0gY2VudGVyUG9pbnQueSArIE1hdGguc2luKGFuZ2xlIC0gTWF0aC5QSS8yKSAqIGdyYWRpZW50U2l6ZTtcbiAgY29uc3QgZGVzdGluYXRpb25YID0gY2VudGVyUG9pbnQueCArIE1hdGguY29zKGFuZ2xlICsgTWF0aC5QSS8yKSAqIGdyYWRpZW50U2l6ZTtcbiAgY29uc3QgZGVzdGluYXRpb25ZID0gY2VudGVyUG9pbnQueSArIE1hdGguc2luKGFuZ2xlICsgTWF0aC5QSS8yKSAqIGdyYWRpZW50U2l6ZTtcblxuICBjb25zdCBvcmlnaW4gPSBuZXcgUG9pbnQob3JpZ2luWCArIHNoYXBlU2l6ZS54LCBvcmlnaW5ZICsgc2hhcGVTaXplLnkpO1xuICBjb25zdCBkZXN0aW5hdGlvbiA9IG5ldyBQb2ludChkZXN0aW5hdGlvblggKyBzaGFwZVNpemUueCwgZGVzdGluYXRpb25ZICsgc2hhcGVTaXplLnkpO1xuICAvLyBncm91cC5hZGRDaGlsZChuZXcgUGF0aC5DaXJjbGUoe1xuICAvLyAgIGNlbnRlcjogb3JpZ2luLFxuICAvLyAgIHJhZGl1czogNSxcbiAgLy8gICBmaWxsQ29sb3I6ICdyZWQnLFxuICAvLyB9KSk7XG4gIC8vIGdyb3VwLmFkZENoaWxkKG5ldyBQYXRoLkNpcmNsZSh7XG4gIC8vICAgY2VudGVyOiBkZXN0aW5hdGlvbixcbiAgLy8gICByYWRpdXM6IDUsXG4gIC8vICAgZmlsbENvbG9yOiAnZ3JlZW4nLFxuICAvLyB9KSk7XG4gIGdyb3VwLmRhdGEub3JpZ2luYWxDb2xvciA9IHdpbmRvdy5rYW4uY3VycmVudENvbG9yO1xuICBncm91cC5kYXRhLmNvbG9yID0ge1xuICAgIGdyYWRpZW50OiB7XG4gICAgICBzdG9wczogY29uZmlnLnBhbGV0dGUuZ3JhZGllbnRzW3dpbmRvdy5rYW4uY3VycmVudENvbG9yXSxcbiAgICB9LFxuICAgIG9yaWdpbjogb3JpZ2luLFxuICAgIGRlc3RpbmF0aW9uOiBkZXN0aW5hdGlvbixcbiAgfTtcbiAgZ3JvdXAuZGF0YS5zY2FsZSA9IDE7IC8vIGluaXQgdmFyaWFibGUgdG8gdHJhY2sgc2NhbGUgY2hhbmdlc1xuICBncm91cC5kYXRhLnJvdGF0aW9uID0gMDsgLy8gaW5pdCB2YXJpYWJsZSB0byB0cmFjayByb3RhdGlvbiBjaGFuZ2VzXG4gIGdyb3VwLmRhdGEuZnJlc2ggPSB0cnVlO1xuXG4gIHNoYXBlUGF0aC5yZW1vdmUoKTtcbiAgdHJ1ZWRTaGFwZS52aXNpYmxlID0gZmFsc2U7XG4gIHRydWVkU2hhcGUuc3Ryb2tlQ29sb3IgPSBuZXcgQ29sb3IoMCwgMCk7XG4gIHdpbmRvdy5rYW4uc2hhcGVQYXRoID0gdHJ1ZWRTaGFwZTtcbiAgdHJ1ZWRTaGFwZS5uYW1lID0gJ3NoYXBlUGF0aCc7XG5cbiAgaWYgKCEodHJ1ZWRTaGFwZS5sZW5ndGggPiAwKSkge1xuICAgIHRydWVkU2hhcGUucmVtb3ZlKCk7XG4gICAgZ3JvdXAucmVtb3ZlKCk7XG4gICAgd2luZG93Lmthbi5wYW5uaW5nID0gZmFsc2U7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZ3JvdXAuYWRkQ2hpbGQodHJ1ZWRTaGFwZSk7XG5cbiAgbGV0IHNoYXBlU291bmRPYmogPSBzb3VuZC5nZXRTaGFwZVNvdW5kT2JqKHRydWVkU2hhcGUpO1xuICB3aW5kb3cua2FuLmNvbXBvc2l0aW9uLnB1c2goc2hhcGVTb3VuZE9iaik7XG5cbiAgdHJ1ZWRTaGFwZS52aXNpYmxlID0gZmFsc2U7XG4gIGNvbnN0IG91dGxpbmVHcm91cCA9IHNoYXBlLmdldE91dGxpbmVHcm91cCh0cnVlZFNoYXBlKTtcbiAgY29uc3Qgb3V0bGluZSA9IG91dGxpbmVHcm91cC5fbmFtZWRDaGlsZHJlbi5vdXRlclswXS5jbG9uZSgpO1xuICBvdXRsaW5lLm5hbWUgPSAnb3V0ZXInO1xuICBvdXRsaW5lLmZpbGxDb2xvciA9IHdpbmRvdy5rYW4uY3VycmVudENvbG9yO1xuICBvdXRsaW5lLmZpbGxDb2xvciA9IGdyb3VwLmRhdGEuY29sb3I7XG5cbiAgY29uc3Qgb3V0bGluZUNlbnRlciA9IG91dGxpbmVHcm91cC5fbmFtZWRDaGlsZHJlbi5taWRkbGVbMF0uY2xvbmUoKTtcbiAgb3V0bGluZUNlbnRlci5zdHJva2VDb2xvciA9IGdyb3VwLmRhdGEuY29sb3I7XG4gIG91dGxpbmVDZW50ZXIudmlzaWJsZSA9IGZhbHNlO1xuICBncm91cC5hZGRDaGlsZChvdXRsaW5lKTtcbiAgb3V0bGluZS5zZW5kVG9CYWNrKCk7XG5cbiAgb3V0bGluZUdyb3VwLnJlbW92ZSgpO1xuXG4gIGxldCBzaGFwZU1hc2sgPSBvdXRsaW5lLmNsb25lKCk7XG4gIHNoYXBlTWFzay5maWxsQ29sb3IgPSBvdXRsaW5lLmZpbGxDb2xvcjtcbiAgc2hhcGVNYXNrLnN0cm9rZUNvbG9yID0gb3V0bGluZS5zdHJva2VDb2xvcjtcbiAgc2hhcGVNYXNrLmNsb3NlZCA9IHRydWU7XG5cbiAgbGV0IGVuY2xvc2VkTG9vcHMgPSBzaGFwZS5maW5kSW50ZXJpb3JDdXJ2ZXMob3V0bGluZUNlbnRlcik7XG4gIGlmIChlbmNsb3NlZExvb3BzLmxlbmd0aCA+IDAgfHwgdHJ1ZWRTaGFwZS5jbG9zZWQgPT09IHRydWUpIHtcbiAgICBncm91cC5kYXRhLmxpbmUgPSBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICBncm91cC5kYXRhLmxpbmUgPSB0cnVlO1xuICB9XG5cbiAgZW5jbG9zZWRMb29wcy5mb3JFYWNoKChsb29wKSA9PiB7XG4gICAgc2hhcGVNYXNrLnVuaXRlKGxvb3ApO1xuICAgIHNoYXBlTWFzay5zZW5kVG9CYWNrKCk7XG4gICAgbG9vcC5uYW1lID0gJ2xvb3AnO1xuICAgIGxvb3AuZGF0YS5sb29wID0gdHJ1ZTtcbiAgICBsb29wLnZpc2libGUgPSB0cnVlO1xuICAgIGdyb3VwLmFkZENoaWxkKGxvb3ApO1xuICB9KTtcblxuXG4gIHNoYXBlTWFzay51bml0ZSgpO1xuICBsZXQgY3Jvc3NpbmdzID0gc2hhcGVNYXNrLnJlc29sdmVDcm9zc2luZ3MoKTtcbiAgaWYgKCEhY3Jvc3NpbmdzICYmICEhY3Jvc3NpbmdzLmNoaWxkcmVuICYmIGNyb3NzaW5ncy5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgbGV0IG1heEFyZWEgPSAwLCBtYXhDaGlsZCA9IG51bGw7XG4gICAgY3Jvc3NpbmdzLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgICBpZiAoY2hpbGQuYXJlYSA+IG1heEFyZWEpIHtcbiAgICAgICAgbWF4Q2hpbGQgPSBjaGlsZDtcbiAgICAgICAgbWF4QXJlYSA9IGNoaWxkLmFyZWE7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBzaGFwZU1hc2sgPSBtYXhDaGlsZDtcbiAgfVxuXG4gIG91dGxpbmVDZW50ZXIucmVtb3ZlKCk7XG4gIHNoYXBlTWFzay52aXNpYmxlID0gZmFsc2U7XG4gIHNoYXBlTWFzay5uYW1lID0gJ21hc2snO1xuICBzaGFwZU1hc2suZGF0YS5tYXNrID0gdHJ1ZTtcbiAgZ3JvdXAuYWRkQ2hpbGQoc2hhcGVNYXNrKTtcbiAgc2hhcGVNYXNrLnNlbmRUb0JhY2soKTtcblxuICBzaGFwZS5jbGVhblVwR3JvdXAoZ3JvdXApO1xuXG4gIG1vdmUuaWQgPSBncm91cC5pZDtcbiAgd2luZG93Lmthbi5tb3Zlcy5wdXNoKG1vdmUpO1xuXG5cbiAgdWkudW5kaXRoZXJCdXR0b25zQnlOYW1lKFsnbmV3JywgJ3VuZG8nLCAncGxheS1zdG9wJywgJ3NoYXJlJ10pO1xuICAkYm9keS5hZGRDbGFzcyhzb3VuZC5wbGF5RW5hYmxlZENsYXNzKTtcblxuICBpZiAod2luZG93Lmthbi51c2VySGFzRHJhd25GaXJzdFNoYXBlICE9PSB0cnVlKSB7XG4gICAgLy8gZmlyc3Qgc2hhcGUhXG4gICAgLy8gc2V0IHBsYXkgcHJvbXB0IHRpbWVvdXRcbiAgICB3aW5kb3cua2FuLnBsYXlQcm9tcHRUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBvdmVybGF5cy5vcGVuT3ZlcmxheSgncGxheS1wcm9tcHQnKTtcbiAgICB9LCB0aW1pbmcucGxheVByb21wdERlbGF5KTtcblxuICAgIHdpbmRvdy5rYW4udXNlckhhc0RyYXduRmlyc3RTaGFwZSA9IHRydWU7XG4gIH1cblxuICBpZiAoY29uZmlnLnJ1bkFuaW1hdGlvbnMpIHtcbiAgICBjb25zdCBzY2FsZUZhY3RvciA9IDAuOTtcbiAgICBncm91cC5hbmltYXRlKFxuICAgICAgW3tcbiAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgIHNjYWxlOiBzY2FsZUZhY3RvclxuICAgICAgICB9LFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIGR1cmF0aW9uOiAxMDAsXG4gICAgICAgICAgZWFzaW5nOiBcImVhc2VPdXRcIixcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgIHNjYWxlOiAxIC8gc2NhbGVGYWN0b3JcbiAgICAgICAgfSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBkdXJhdGlvbjogMTAwLFxuICAgICAgICAgIGVhc2luZzogXCJlYXNlSW5cIixcbiAgICAgICAgfVxuICAgICAgfV1cbiAgICApO1xuICB9XG5cbiAgaWYgKCF0dXRvcmlhbC5hbGxUdXRzQ29tcGxldGVkKCkpIHtcbiAgICBjb25zdCB0dXRvcmlhbENvbXBsZXRpb24gPSB3aW5kb3cua2FuLnR1dG9yaWFsQ29tcGxldGlvbjtcbiAgICBsZXQgdHV0TmFtZSA9IG51bGw7XG5cbiAgICBpZiAoIXR1dG9yaWFsQ29tcGxldGlvblsnZmlsbCddICYmIHRydWVkU2hhcGUuY2xvc2VkKSB7XG4gICAgICB0dXROYW1lID0gJ2ZpbGwnO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgZ3JvdXBzID0gcGFwZXIucHJvamVjdC5nZXRJdGVtcyh7XG4gICAgICAgIG1hdGNoOiBmdW5jdGlvbihlbCkge1xuICAgICAgICAgIHJldHVybiBlbC5jbGFzc05hbWUgPT09ICdHcm91cCdcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoIXR1dG9yaWFsQ29tcGxldGlvblsncGluY2gnXSAmJiBncm91cHMubGVuZ3RoID49IDMpIHtcbiAgICAgICAgdHV0TmFtZSA9ICdwaW5jaCc7XG4gICAgICB9IGVsc2UgaWYgKCF0dXRvcmlhbENvbXBsZXRpb25bJ3N3aXBlJ10gJiYgZ3JvdXBzLmxlbmd0aCA+PSA1KSB7XG4gICAgICAgIHR1dE5hbWUgPSAnc3dpcGUnO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0dXROYW1lICE9PSBudWxsKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZyhgJHt0dXROYW1lfSB0dXRvcmlhbGApO1xuICAgICAgdHV0b3JpYWwuYWRkQ29udGV4dHVhbFR1dCh0dXROYW1lKTtcbiAgICAgIHdpbmRvdy5rYW4udHV0b3JpYWxDb21wbGV0aW9uW3R1dE5hbWVdID0gdHJ1ZTtcbiAgICAgIGdyb3VwLmRhdGEudHV0ID0gdHV0TmFtZTtcbiAgICB9XG4gIH1cblxuICBpZiAod2luZG93Lmthbi5zY2hlZHVsZWRPdmVybGF5ICE9PSBudWxsKSB7XG4gICAgbGV0IHNjaGVkdWxlZE92ZXJsYXkgPSB3aW5kb3cua2FuLnNjaGVkdWxlZE92ZXJsYXk7XG4gICAgd2luZG93Lmthbi5zY2hlZHVsZWRPdmVybGF5ID0gbnVsbDtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIG92ZXJsYXlzLm9wZW5PdmVybGF5KHNjaGVkdWxlZE92ZXJsYXkpO1xuICAgIH0sIHRpbWluZy5vdmVybGF5RGVsYXkpO1xuICB9XG5cbiAgc2hhcGVTb3VuZE9iai5wbGF5KCk7XG5cbiAgLy8gY29uc29sZS5sb2coJ3BhbiBkb25lJyk7XG4gIGhhbW1lckNhbnZhcy5zZXQoeyBlbmFibGU6IGZhbHNlIH0pO1xuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBoYW1tZXJDYW52YXMuc2V0KHsgZW5hYmxlOiB0cnVlIH0pO1xuICAgIGNvbnNvbGUubG9nKCd0b3VjaCBlbmFibGVkJyk7XG4gICAgaGFtbWVyQ2FudmFzLm9uKCdwYW5zdGFydCcsIHBhblN0YXJ0KTtcbiAgICBlbmFibGVQYW5BbmRQaW5jaEV2ZW50cygpO1xuICAgIGVuYWJsZVRhcEV2ZW50cygpO1xuXG4gICAgd2luZG93Lmthbi5wYW5uaW5nID0gZmFsc2U7XG4gIH0sIHRpbWluZy5pbnB1dERlbGF5KTtcblxuICBpZiAoY29uZmlnLnBvcCA9PT0gdHJ1ZSkge1xuICAgIHNoYXBlLnVwZGF0ZVBvcHMoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwYW5DYW5jZWwoZXZlbnQpIHtcbiAgY29uc29sZS5sb2coJ3BhbmNhbmNlbCcpO1xuICBldmVudC5zcmNFdmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgLy8gZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICBoYW1tZXJDYW52YXMuc2V0KHsgZW5hYmxlOiB0cnVlIH0pO1xuICBoYW1tZXJDYW52YXMub24oJ3BhbnN0YXJ0JywgcGFuU3RhcnQpO1xuICBlbmFibGVQYW5BbmRQaW5jaEV2ZW50cygpO1xuICBlbmFibGVUYXBFdmVudHMoKTtcbiAgd2luZG93Lmthbi5wYW5uaW5nID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHBpbmNoU3RhcnQoZXZlbnQpIHtcbiAgLy8gY29uc29sZS5sb2coJ3BpbmNoc3RhcnQnKTtcbiAgdGltaW5nLnByZXZlbnRJbmFjdGl2aXR5VGltZW91dCgpO1xuICB0dXRvcmlhbC5oaWRlQ29udGV4dHVhbFR1dHMoKTtcbiAgd2luZG93Lmthbi5pbnRlcmFjdGluZyA9IHRydWU7XG4gIHdpbmRvdy5rYW4ucGluY2hpbmcgPSB0cnVlO1xuICAvLyBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIC8vIGhhbW1lckNhbnZhcy5nZXQoJ3BpbmNoc3RhcnQnKS5zZXQoe2VuYWJsZTogZmFsc2V9KTtcbiAgaGFtbWVyQ2FudmFzLm9mZigncGluY2hzdGFydCcpO1xuICBkaXNhYmxlUGFuRXZlbnRzKCk7XG4gIGRpc2FibGVUYXBFdmVudHMoKTtcblxuICBpZiAoIWV2ZW50VGFyZ2V0SXNPbkNhbnZhcyhldmVudCkpIHJldHVybjtcblxuICBzb3VuZC5zdG9wUGxheWluZygpO1xuXG4gIGNvbnN0IHBvaW50ZXIgPSBldmVudC5jZW50ZXIsXG4gICAgICBwb2ludCA9IG5ldyBQb2ludChwb2ludGVyLngsIHBvaW50ZXIueSksXG4gICAgICBoaXRSZXN1bHQgPSBzaGFwZS5oaXRUZXN0R3JvdXBCb3VuZHMocG9pbnQpO1xuXG4gIGlmIChoaXRSZXN1bHQpIHtcbiAgICB3aW5kb3cua2FuLnBpbmNoaW5nID0gdHJ1ZTtcbiAgICB3aW5kb3cua2FuLnBpbmNoZWRHcm91cCA9IGhpdFJlc3VsdDtcbiAgICB3aW5kb3cua2FuLmxhc3RTY2FsZSA9IDE7XG4gICAgd2luZG93Lmthbi5sYXN0Um90YXRpb24gPSBldmVudC5yb3RhdGlvbjtcblxuICAgIHdpbmRvdy5rYW4ub3JpZ2luYWxQb3NpdGlvbiA9IGhpdFJlc3VsdC5wb3NpdGlvbjtcbiAgICB3aW5kb3cua2FuLm9yaWdpbmFsUm90YXRpb24gPSBoaXRSZXN1bHQuZGF0YS5yb3RhdGlvbjtcbiAgICB3aW5kb3cua2FuLm9yaWdpbmFsU2NhbGUgPSBoaXRSZXN1bHQuZGF0YS5zY2FsZTtcbiAgICBoaXRSZXN1bHQuZGF0YS50aHJvd24gPSBmYWxzZTtcblxuICAgIGlmIChjb25maWcucG9wID09PSB0cnVlKSB7XG4gICAgICBzaGFwZS5kZXN0cm95R3JvdXBQb3BzKGhpdFJlc3VsdCk7XG4gICAgfVxuXG4gICAgaGl0UmVzdWx0LmJyaW5nVG9Gcm9udCgpO1xuXG4gICAgaWYgKGhpdFJlc3VsdC5kYXRhLnR1dCAmJiBoaXRSZXN1bHQuZGF0YS50dXQubGVuZ3RoID4gMCkge1xuICAgICAgbGV0ICR0dXQgPSAkKGAudHV0W2RhdGEtdHV0LXR5cGU9JyR7aGl0UmVzdWx0LmRhdGEudHV0fSddYCk7XG4gICAgICBpZiAoJHR1dCkge1xuICAgICAgICB3aW5kb3cua2FuLnBpbmNoZWRUdXQgPSAkdHV0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93Lmthbi5waW5jaGVkVHV0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgd2luZG93Lmthbi5waW5jaGVkVHV0ID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBpZiAoY29uZmlnLnJ1bkFuaW1hdGlvbnMpIHtcbiAgICAvLyAgIGhpdFJlc3VsdC5hbmltYXRlKHtcbiAgICAvLyAgICAgcHJvcGVydGllczoge1xuICAgIC8vICAgICAgIHNjYWxlOiAxLjI1XG4gICAgLy8gICAgIH0sXG4gICAgLy8gICAgIHNldHRpbmdzOiB7XG4gICAgLy8gICAgICAgZHVyYXRpb246IDEwMCxcbiAgICAvLyAgICAgICBlYXNpbmc6IFwiZWFzZU91dFwiLFxuICAgIC8vICAgICB9XG4gICAgLy8gICB9KTtcbiAgICAvLyB9XG4gIH0gZWxzZSB7XG4gICAgd2luZG93Lmthbi5waW5jaGVkR3JvdXAgPSBudWxsO1xuICAgIHdpbmRvdy5rYW4ucGluY2hlZFR1dCA9IG51bGw7XG4gICAgLy8gY29uc29sZS5sb2coJ2hpdCBubyBpdGVtJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcGluY2hNb3ZlKGV2ZW50KSB7XG4gIC8vIGNvbnNvbGUubG9nKCdwaW5jaE1vdmUnKTtcbiAgLy8gZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICBjb25zdCB2aWV3V2lkdGggPSBwYXBlci52aWV3LnZpZXdTaXplLndpZHRoO1xuICBjb25zdCB2aWV3SGVpZ2h0ID0gcGFwZXIudmlldy52aWV3U2l6ZS5oZWlnaHQ7XG4gIGxldCBwaW5jaGVkR3JvdXAgPSB3aW5kb3cua2FuLnBpbmNoZWRHcm91cDtcbiAgbGV0ICRwaW5jaGVkVHV0ID0gd2luZG93Lmthbi5waW5jaGVkVHV0O1xuXG4gIGlmICghIXBpbmNoZWRHcm91cCkge1xuICAgIGxldCBjdXJyZW50U2NhbGUgPSBldmVudC5zY2FsZTtcbiAgICBsZXQgc2NhbGVEZWx0YTtcblxuICAgIHR1dG9yaWFsLmhpZGVDb250ZXh0dWFsVHV0QnlOYW1lKCdwaW5jaCcpO1xuXG4gICAgaWYgKHBpbmNoZWRHcm91cC5ib3VuZHMud2lkdGggPCBtaW5TaGFwZVNpemUgfHwgcGluY2hlZEdyb3VwLmJvdW5kcy5oZWlnaHQgPCBtaW5TaGFwZVNpemUpIHtcbiAgICAgIC8vIG9ubHkgYWxsb3cgYSBzaGFwZSB0byBzY2FsZSBkb3duIGlmIGl0IGlzIGxhcmdlciB0aGFuIHRoZSBtaW5pbXVtIHNpemVcbiAgICAgIHNjYWxlRGVsdGEgPSAxLjE7XG4gICAgfSBlbHNlIGlmIChwaW5jaGVkR3JvdXAuYm91bmRzLndpZHRoID49IHBhcGVyLnZpZXcudmlld1NpemUud2lkdGggfHxcbiAgICAgICAgcGluY2hlZEdyb3VwLmJvdW5kcy5oZWlnaHQgPj0gcGFwZXIudmlldy52aWV3U2l6ZS5oZWlnaHQpIHtcbiAgICAgIC8vIG9ubHkgYWxsb3cgc2hhcGUgdG8gc2NhbGUgdXAgaWYgaXQgZml0cyBpbiB0aGUgdmlld3BvcnRcbiAgICAgIHNjYWxlRGVsdGEgPSAwLjk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjYWxlRGVsdGEgPSBjdXJyZW50U2NhbGUgLyB3aW5kb3cua2FuLmxhc3RTY2FsZTtcbiAgICB9XG5cbiAgICB3aW5kb3cua2FuLmxhc3RTY2FsZSA9IGN1cnJlbnRTY2FsZTtcblxuICAgIGxldCBjdXJyZW50Um90YXRpb24gPSBldmVudC5yb3RhdGlvbjtcbiAgICBsZXQgcm90YXRpb25EZWx0YSA9IGN1cnJlbnRSb3RhdGlvbiAtIHdpbmRvdy5rYW4ubGFzdFJvdGF0aW9uO1xuICAgIHdpbmRvdy5rYW4ubGFzdFJvdGF0aW9uID0gY3VycmVudFJvdGF0aW9uO1xuXG4gICAgLy8gY29uc29sZS5sb2coYHNjYWxpbmcgYnkgJHtzY2FsZURlbHRhfWApO1xuICAgIC8vIGNvbnNvbGUubG9nKGByb3RhdGluZyBieSAke3JvdGF0aW9uRGVsdGF9YCk7XG5cbiAgICBjb25zdCBjZW50ZXJQb2ludCA9IGV2ZW50LmNlbnRlcjtcbiAgICBwaW5jaGVkR3JvdXAucG9zaXRpb24gPSBjZW50ZXJQb2ludDtcbiAgICBpZiAoISEkcGluY2hlZFR1dCkge1xuICAgICAgdHV0b3JpYWwubW92ZUNvbnRleHR1YWxUdXQoJHBpbmNoZWRUdXQsIGNlbnRlclBvaW50KTtcbiAgICB9XG5cbiAgICBpZiAoc2NhbGVEZWx0YSAhPT0gMSkge1xuICAgICAgcGluY2hlZEdyb3VwLnNjYWxlKHNjYWxlRGVsdGEpO1xuXG4gICAgICAvLyBjaGVjayBpZiBzY2FsaW5nIHdlbnQgYXdyeSwgY2Fubm90IGJlIHRvbyBiaWcgb3IgdG9vIHNtYWxsXG4gICAgICAvLyBoeXBvdGVudXNlIG11c3QgZml0IHdpdGhpbiB2aWV3IGJvdW5kc1xuICAgICAgY29uc3QgaHlwb3QgPSB1dGlsLmh5cG90KHBpbmNoZWRHcm91cC5ib3VuZHMud2lkdGgsIHBpbmNoZWRHcm91cC5ib3VuZHMuaGVpZ2h0KTtcbiAgICAgIGNvbnN0IHZpZXdIeXBvdCA9IHV0aWwuaHlwb3QocGFwZXIudmlldy52aWV3U2l6ZS53aWR0aCwgcGFwZXIudmlldy52aWV3U2l6ZS5oZWlnaHQpXG4gICAgICBpZiAoaHlwb3QgPj0gdmlld0h5cG90KSB7XG4gICAgICAgIC8vIHNoYXBlIGlzIHRvbyBiaWcsIGJyaW5nIGl0IGJhY2sgZG93biB0byBzaXplXG4gICAgICAgIHNjYWxlRGVsdGEgPSB2aWV3SHlwb3QgKiBtYXhTY2FsZUZhY3RvciAvIGh5cG90O1xuICAgICAgICBwaW5jaGVkR3JvdXAuc2NhbGUoc2NhbGVEZWx0YSk7XG4gICAgICB9IGVsc2UgaWYgKGh5cG90IDw9IG1pblNoYXBlU2l6ZSkge1xuICAgICAgICBzY2FsZURlbHRhID0gbWluU2hhcGVTaXplIC8gaHlwb3Q7XG4gICAgICAgIHBpbmNoZWRHcm91cC5zY2FsZShzY2FsZURlbHRhKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcGluY2hlZEdyb3VwLnJvdGF0ZShyb3RhdGlvbkRlbHRhKTtcblxuICAgIHBpbmNoZWRHcm91cC5kYXRhLnNjYWxlICo9IHNjYWxlRGVsdGE7XG4gICAgcGluY2hlZEdyb3VwLmRhdGEucm90YXRpb24gKz0gcm90YXRpb25EZWx0YTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwaW5jaEVuZChldmVudCkge1xuICAvLyBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIHdpbmRvdy5rYW4ubGFzdEV2ZW50ID0gZXZlbnQ7XG4gIGxldCBwaW5jaGVkR3JvdXAgPSB3aW5kb3cua2FuLnBpbmNoZWRHcm91cDtcbiAgbGV0ICRwaW5jaGVkVHV0ID0gd2luZG93Lmthbi5waW5jaGVkVHV0O1xuICBsZXQgb3JpZ2luYWxQb3NpdGlvbiA9IHdpbmRvdy5rYW4ub3JpZ2luYWxQb3NpdGlvbjtcbiAgbGV0IG9yaWdpbmFsUm90YXRpb24gPSB3aW5kb3cua2FuLm9yaWdpbmFsUm90YXRpb247XG4gIGxldCBvcmlnaW5hbFNjYWxlID0gd2luZG93Lmthbi5vcmlnaW5hbFNjYWxlO1xuXG4gIGlmICghIXBpbmNoZWRHcm91cCkge1xuICAgIHBpbmNoZWRHcm91cC5kYXRhLmZyZXNoID0gdHJ1ZTtcbiAgICBsZXQgbW92ZSA9IHtcbiAgICAgIGlkOiBwaW5jaGVkR3JvdXAuaWQsXG4gICAgICB0eXBlOiAndHJhbnNmb3JtJ1xuICAgIH07XG4gICAgaWYgKHBpbmNoZWRHcm91cC5wb3NpdGlvbiAhPSBvcmlnaW5hbFBvc2l0aW9uKSB7XG4gICAgICBtb3ZlLnBvc2l0aW9uID0gb3JpZ2luYWxQb3NpdGlvbjtcbiAgICB9XG5cbiAgICBpZiAocGluY2hlZEdyb3VwLmRhdGEucm90YXRpb24gIT0gb3JpZ2luYWxSb3RhdGlvbikge1xuICAgICAgbW92ZS5yb3RhdGlvbiA9IG9yaWdpbmFsUm90YXRpb24gLSBwaW5jaGVkR3JvdXAuZGF0YS5yb3RhdGlvbjtcbiAgICB9XG5cbiAgICBpZiAocGluY2hlZEdyb3VwLmRhdGEuc2NhbGUgIT0gb3JpZ2luYWxTY2FsZSkge1xuICAgICAgbW92ZS5zY2FsZSA9IG9yaWdpbmFsU2NhbGUgLyBwaW5jaGVkR3JvdXAuZGF0YS5zY2FsZTtcbiAgICB9XG5cbiAgICBpZiAocGluY2hlZEdyb3VwLmNoaWxkcmVuLmxlbmd0aCA+IDAgJiYgcGluY2hlZEdyb3VwLl9uYW1lZENoaWxkcmVuLnNoYXBlUGF0aCAmJiBwaW5jaGVkR3JvdXAuX25hbWVkQ2hpbGRyZW4uc2hhcGVQYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIHVwZGF0ZSBzaGFwZVBhdGggc291bmQgb2JqZWN0IGlmIHBvc3NpYmxlXG4gICAgICBzb3VuZC5yZW1vdmVTaGFwZUZyb21Db21wb3NpdGlvbihwaW5jaGVkR3JvdXApOyAvLyBzb3VuZCBpcyBub3cgd3JvbmdcblxuICAgICAgbGV0IHNoYXBlUGF0aCA9IHBpbmNoZWRHcm91cC5fbmFtZWRDaGlsZHJlbi5zaGFwZVBhdGhbMF07XG4gICAgICBsZXQgc2hhcGVTb3VuZE9iaiA9IHNvdW5kLmdldFNoYXBlU291bmRPYmooc2hhcGVQYXRoKTtcbiAgICAgIHdpbmRvdy5rYW4uY29tcG9zaXRpb24ucHVzaChzaGFwZVNvdW5kT2JqKTtcbiAgICB9XG5cbiAgICB3aW5kb3cua2FuLm1vdmVzLnB1c2gobW92ZSk7XG5cbiAgICBpZiAoTWF0aC5hYnMoZXZlbnQudmVsb2NpdHkpID4gMSkge1xuICAgICAgdHV0b3JpYWwuaGlkZUNvbnRleHR1YWxUdXRCeU5hbWUoJ3N3aXBlJyk7XG5cbiAgICAgIC8vIGhpZGUgYW55IGNvbm5lY3RlZCB0dXRzXG4gICAgICBpZiAoISEkcGluY2hlZFR1dCkge1xuICAgICAgICB0dXRvcmlhbC5oaWRlQ29udGV4dHVhbFR1dCgkcGluY2hlZFR1dCk7XG4gICAgICB9XG4gICAgICAvLyBkaXNwb3NlIG9mIGdyb3VwIG9mZnNjcmVlblxuICAgICAgaWYgKGNvbmZpZy5wb3AgPT09IHRydWUpIHtcbiAgICAgICAgc2hhcGUuZGVzdHJveUdyb3VwUG9wcyhwaW5jaGVkR3JvdXApO1xuICAgICAgICBwaW5jaGVkR3JvdXAuZGF0YS5mcmVzaCA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBwaW5jaGVkR3JvdXAuZGF0YS50aHJvd24gPSB0cnVlO1xuICAgICAgdGhyb3dQaW5jaGVkR3JvdXAoKTtcbiAgICB9XG5cbiAgICAvLyBpZiAoY29uZmlnLnJ1bkFuaW1hdGlvbnMpIHtcbiAgICAvLyAgIHBpbmNoZWRHcm91cC5hbmltYXRlKHtcbiAgICAvLyAgICAgcHJvcGVydGllczoge1xuICAgIC8vICAgICAgIHNjYWxlOiAwLjhcbiAgICAvLyAgICAgfSxcbiAgICAvLyAgICAgc2V0dGluZ3M6IHtcbiAgICAvLyAgICAgICBkdXJhdGlvbjogMTAwLFxuICAgIC8vICAgICAgIGVhc2luZzogXCJlYXNlT3V0XCIsXG4gICAgLy8gICAgIH1cbiAgICAvLyAgIH0pO1xuICAgIC8vIH1cbiAgfSBlbHNlIHtcbiAgICB3aW5kb3cua2FuLnBpbmNoZWRHcm91cCA9IG51bGw7XG4gIH1cblxuICAvLyBpZiBhbiBvdmVybGF5IHdhcyBpbnRlcnJ1cHRlZCwgb3BlbiBpdCB1cCBub3dcbiAgaWYgKHdpbmRvdy5rYW4uc2NoZWR1bGVkT3ZlcmxheSAhPT0gbnVsbCkge1xuICAgIGxldCBzY2hlZHVsZWRPdmVybGF5ID0gd2luZG93Lmthbi5zY2hlZHVsZWRPdmVybGF5O1xuICAgIHdpbmRvdy5rYW4uc2NoZWR1bGVkT3ZlcmxheSA9IG51bGw7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBvdmVybGF5cy5vcGVuT3ZlcmxheShzY2hlZHVsZWRPdmVybGF5KTtcbiAgICB9LCB0aW1pbmcub3ZlcmxheURlbGF5KTtcbiAgfVxuXG4gIHdpbmRvdy5rYW4ucGluY2hpbmcgPSBmYWxzZTtcblxuICBpZiAoY29uZmlnLnBvcCA9PT0gdHJ1ZSkge1xuICAgIHNoYXBlLnVwZGF0ZVBvcHMoKTtcbiAgfVxuXG4gIC8vIGNvbnNvbGUubG9nKCdwaW5jaCBkb25lJyk7XG4gIC8vIGhhbW1lckNhbnZhcy5zZXQoeyBlbmFibGU6IGZhbHNlIH0pO1xuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygndG91Y2ggZW5hYmxlZCcpO1xuICAgIGhhbW1lckNhbnZhcy5vbigncGluY2hzdGFydCcsIHBpbmNoU3RhcnQpO1xuICAgIGVuYWJsZVBhbkFuZFBpbmNoRXZlbnRzKCk7XG4gICAgZW5hYmxlVGFwRXZlbnRzKCk7XG4gICAgLy8gaGFtbWVyQ2FudmFzLnNldCh7IGVuYWJsZTogdHJ1ZSB9KTtcbiAgICAvLyBoYW1tZXJDYW52YXMub24oJ3BpbmNoc3RhcnQnLCBwaW5jaFN0YXJ0KTtcbiAgICAvLyBlbmFibGVQYW5BbmRQaW5jaEV2ZW50cygpO1xuICAgIC8vIGVuYWJsZVRhcEV2ZW50cygpO1xuICAgIC8vIHdpbmRvdy5rYW4ucGluY2hpbmcgPSBmYWxzZTtcbiAgICAvLyB3aW5kb3cua2FuLnBpbmNoZWRHcm91cCA9IG51bGw7XG4gIH0sIHRpbWluZy5pbnB1dERlbGF5KTtcbn1cblxuZnVuY3Rpb24gcGluY2hDYW5jZWwoZXZlbnQpIHtcbiAgLy8gY29uc29sZS5sb2coZXZlbnQpO1xuICBldmVudC5zcmNFdmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgY29uc29sZS5sb2coJ3BpbmNoY2FuY2VsJyk7XG4gIC8vIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgaGFtbWVyQ2FudmFzLnNldCh7IGVuYWJsZTogdHJ1ZSB9KTtcbiAgaGFtbWVyQ2FudmFzLm9uKCdwaW5jaHN0YXJ0JywgcGluY2hTdGFydCk7XG4gIGVuYWJsZVBhbkFuZFBpbmNoRXZlbnRzKCk7XG4gIGVuYWJsZVRhcEV2ZW50cygpO1xuXG4gIHdpbmRvdy5rYW4ucGluY2hpbmcgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gdGhyb3dQaW5jaGVkR3JvdXAoKSB7XG5cbiAgY29uc3QgdmVsb2NpdHlNdWx0aXBsaWVyID0gMjU7XG4gIGNvbnN0IGxhc3RFdmVudCA9IHdpbmRvdy5rYW4ubGFzdEV2ZW50O1xuICBjb25zdCB2aWV3V2lkdGggPSBwYXBlci52aWV3LnZpZXdTaXplLndpZHRoO1xuICBjb25zdCB2aWV3SGVpZ2h0ID0gcGFwZXIudmlldy52aWV3U2l6ZS5oZWlnaHQ7XG4gIGxldCBwaW5jaGVkR3JvdXAgPSB3aW5kb3cua2FuLnBpbmNoZWRHcm91cDtcblxuICBpZiAocGluY2hlZEdyb3VwID09PSBudWxsIHx8IChwaW5jaGVkR3JvdXAuZGF0YSAmJiBwaW5jaGVkR3JvdXAuZGF0YS50aHJvd24gPT09IGZhbHNlKSkgcmV0dXJuO1xuICBpZiAocGluY2hlZEdyb3VwLnBvc2l0aW9uLnggPD0gMCAtIHBpbmNoZWRHcm91cC5ib3VuZHMud2lkdGggfHxcbiAgICAgIHBpbmNoZWRHcm91cC5wb3NpdGlvbi54ID49IHZpZXdXaWR0aCArIHBpbmNoZWRHcm91cC5ib3VuZHMud2lkdGggfHxcbiAgICAgIHBpbmNoZWRHcm91cC5wb3NpdGlvbi55IDw9IDAgLSBwaW5jaGVkR3JvdXAuYm91bmRzLmhlaWdodCB8fFxuICAgICAgcGluY2hlZEdyb3VwLnBvc2l0aW9uLnkgPj0gdmlld0hlaWdodCArIHBpbmNoZWRHcm91cC5ib3VuZHMuaGVpZ2h0KSB7XG4gICAgICAgIHBpbmNoZWRHcm91cC5kYXRhLm9mZlNjcmVlbiA9IHRydWU7XG4gICAgICAgIHBpbmNoZWRHcm91cC52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHNvdW5kLnJlbW92ZVNoYXBlRnJvbUNvbXBvc2l0aW9uKHBpbmNoZWRHcm91cCk7XG4gICAgICAgIHdpbmRvdy5rYW4ucGluY2hlZEdyb3VwID0gbnVsbDtcbiAgICByZXR1cm47XG4gIH1cbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRocm93UGluY2hlZEdyb3VwKTtcbiAgY29uc3QgbmV3WCA9IHBpbmNoZWRHcm91cC5wb3NpdGlvbi54ICsgbGFzdEV2ZW50LnZlbG9jaXR5WCAqIHZlbG9jaXR5TXVsdGlwbGllcjtcbiAgY29uc3QgbmV3WSA9IHBpbmNoZWRHcm91cC5wb3NpdGlvbi55ICsgbGFzdEV2ZW50LnZlbG9jaXR5WSAqIHZlbG9jaXR5TXVsdGlwbGllcjtcbiAgY29uc3QgbmV3UG9zID0gbmV3IFBvaW50KG5ld1gsIG5ld1kpO1xuICBwaW5jaGVkR3JvdXAucG9zaXRpb24gPSBuZXdQb3M7XG59XG5cbmZ1bmN0aW9uIGV2ZW50VGFyZ2V0SXNPbkNhbnZhcyhldmVudCkge1xuICBpZiAoIWV2ZW50KSByZXR1cm4gZmFsc2U7XG4gIGlmIChldmVudC50YXJnZXQgIT0gdWkuZHJhd0NhbnZhcykgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gdHJ1ZTtcblxufVxuIiwiY29uc3QgY29uZmlnID0gcmVxdWlyZSgnLi9jbGllbnQtY29uZmlnJyk7XG5cbmNvbnN0IGNvbnRleHR1YWxUdXRzID0gY29uZmlnLmNvbnRleHR1YWxUdXRzO1xuY29uc3QgdHV0QXJyb3dIZWlnaHQgPSAxNjtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFR1dEJ5TmFtZSh0dXROYW1lKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY29udGV4dHVhbFR1dHMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgdHV0T2JqID0gY29udGV4dHVhbFR1dHNbaV07XG5cbiAgICBpZiAodHV0T2JqLnR5cGUgPT09IHR1dE5hbWUpIHtcbiAgICAgIHJldHVybiB0dXRPYmouY29weTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFsbFR1dHNDb21wbGV0ZWQoKSB7XG4gIGNvbnN0IHR1dG9yaWFsQ29tcGxldGlvbk9iaiA9IHdpbmRvdy5rYW4udHV0b3JpYWxDb21wbGV0aW9uO1xuICBsZXQgY29tcGxldGlvbiA9IHRydWU7XG5cbiAgT2JqZWN0LmtleXModHV0b3JpYWxDb21wbGV0aW9uT2JqKS5mb3JFYWNoKChrZXksIHZhbCkgPT4ge1xuICAgIGNvbXBsZXRpb24gPSBjb21wbGV0aW9uICYmIHR1dG9yaWFsQ29tcGxldGlvbk9ialtrZXldO1xuICB9KTtcblxuICByZXR1cm4gY29tcGxldGlvbiA9PT0gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZENvbnRleHR1YWxUdXQodHV0TmFtZSkge1xuICBpZiAoISF3aW5kb3cua2FuLnNoYXBlUGF0aCAmJiB3aW5kb3cua2FuLnNoYXBlUGF0aC5sZW5ndGggPiAwKSB7XG4gICAgaGlkZUNvbnRleHR1YWxUdXRzKCk7XG4gICAgd2luZG93Lmthbi5zaGFwZXNTaW5jZVR1dCA9IDA7XG5cbiAgICBsZXQgc2hhcGVQYXRoID0gd2luZG93Lmthbi5zaGFwZVBhdGg7XG4gICAgbGV0IHNoYXBlQ2VudGVyID0gc2hhcGVQYXRoLmJvdW5kcy5jZW50ZXI7XG5cbiAgICBsZXQgdHV0Q29weSA9IGdldFR1dEJ5TmFtZSh0dXROYW1lKTtcblxuICAgIGlmICh0dXRDb3B5ICE9PSBudWxsKSB7XG4gICAgICBjb25zdCAkdHV0ID0gJChgLnR1dFtkYXRhLXR1dC10eXBlPScke3R1dE5hbWV9J11gKTtcbiAgICAgIGlmICgkdHV0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgdHV0UG9zID0gZ2V0VHV0UG9zaXRpb25Gcm9tQ2VudGVyKCR0dXQsIHNoYXBlQ2VudGVyKTtcbiAgICAgICAgJHR1dC5jc3Moe3RvcDogYCR7dHV0UG9zLnl9cHhgLCBsZWZ0OiBgJHt0dXRQb3MueH1weGAsIHZpc2liaWxpdHk6ICd2aXNpYmxlJ30pO1xuICAgICAgICAkdHV0LmFkZENsYXNzKCdhbmltYXRlZCBib3VuY2VJbicpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaGlkZUNvbnRleHR1YWxUdXQoJHR1dCkge1xuICAkdHV0LmNzcyh7dmlzaWJpbGl0eTogJ2hpZGRlbid9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhpZGVDb250ZXh0dWFsVHV0QnlOYW1lKHR1dE5hbWUpIHtcbiAgY29uc3QgJHR1dCA9ICQoYC50dXRbZGF0YS10dXQtdHlwZT0nJHt0dXROYW1lfSddYCk7XG4gIGhpZGVDb250ZXh0dWFsVHV0KCR0dXQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGlkZUNvbnRleHR1YWxUdXRzKCkge1xuICBjb25zdCAkdHV0cyA9ICQoJy5jb250ZXh0dWFsLXR1dHMgLnR1dCcpO1xuICAkdHV0cy5jc3Moe3Zpc2liaWxpdHk6ICdoaWRkZW4nfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNldENvbnRleHR1YWxUdXRzKCkge1xuICBoaWRlQ29udGV4dHVhbFR1dHMoKTtcbiAgd2luZG93Lmthbi50dXRvcmlhbENvbXBsZXRpb24gPSB7XG4gICAgXCJmaWxsXCI6IGZhbHNlLFxuICAgIFwicGluY2hcIjogZmFsc2UsXG4gICAgXCJzd2lwZVwiOiBmYWxzZVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbW92ZUNvbnRleHR1YWxUdXQoJHR1dCwgY2VudGVyUG9pbnQpIHtcbiAgbGV0IHR1dFBvcyA9IGdldFR1dFBvc2l0aW9uRnJvbUNlbnRlcigkdHV0LCBjZW50ZXJQb2ludCk7XG4gICR0dXQuY3NzKHt0b3A6IGAke3R1dFBvcy55fXB4YCwgbGVmdDogYCR7dHV0UG9zLnh9cHhgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUdXRQb3NpdGlvbkZyb21DZW50ZXIoJHR1dCwgY2VudGVyUG9pbnQpIHtcbiAgY29uc3QgdHV0V2lkdGggPSAkdHV0Lm91dGVyV2lkdGgoKTtcbiAgY29uc3QgdHV0SGVpZ2h0ID0gJHR1dC5vdXRlckhlaWdodCgpO1xuICBjb25zdCBsZWZ0UG9zID0gY2VudGVyUG9pbnQueCAtICh0dXRXaWR0aCAvIDIpO1xuICBjb25zdCB0b3BQb3MgPSBjZW50ZXJQb2ludC55IC0gdHV0SGVpZ2h0IC0gdHV0QXJyb3dIZWlnaHQ7XG4gIHJldHVybiBuZXcgUG9pbnQobGVmdFBvcywgdG9wUG9zKTtcbn1cbiIsImNvbnN0IGNvbmZpZyA9IHJlcXVpcmUoJy4vY2xpZW50LWNvbmZpZycpO1xucmVxdWlyZSgnaG93bGVyJyk7XG5cbmNvbnN0IHNvdW5kID0gcmVxdWlyZSgnLi9zb3VuZCcpO1xuY29uc3QgdHV0b3JpYWwgPSByZXF1aXJlKCcuL3R1dG9yaWFsJyk7XG5jb25zdCBvdmVybGF5cyA9IHJlcXVpcmUoJy4vb3ZlcmxheXMnKTtcbmNvbnN0IHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcbmNvbnN0IGNvbG9yID0gcmVxdWlyZSgnLi9jb2xvcicpO1xuY29uc3Qgc2hhcGUgPSByZXF1aXJlKCcuL3NoYXBlJyk7XG5jb25zdCBzaGFyZSA9IHJlcXVpcmUoJy4vc2hhcmUnKTtcbmNvbnN0IHRvdWNoID0gcmVxdWlyZSgnLi90b3VjaCcpO1xuXG5jb25zdCAkYm9keSA9ICQoJ2JvZHknKTtcbmNvbnN0IHRhcEV2ZW50ID0gJ2NsaWNrIHRhcCB0b3VjaCc7XG5cbmNvbnN0IHBsYXlpbmdDbGFzcyA9IHNvdW5kLnBsYXlpbmdDbGFzcztcbmNvbnN0IHBsYXlFbmFibGVkQ2xhc3MgPSBzb3VuZC5wbGF5RW5hYmxlZENsYXNzO1xuXG5jb25zdCAkbmV3QnV0dG9uID0gJCgnLmNvbnRyb2xzIC5uZXcnKTtcbmNvbnN0ICR1bmRvQnV0dG9uID0gJCgnLmNvbnRyb2xzIC51bmRvJyk7XG5jb25zdCAkcGxheUJ1dHRvbiA9ICQoJy5jb250cm9scyAucGxheS1zdG9wJyk7XG5jb25zdCAkc2hhcmVCdXR0b24gPSAkKCcuY29udHJvbHMgLnNoYXJlJyk7XG5jb25zdCAkdGlwc0J1dHRvbiA9ICQoJy5jb250cm9scyAudGlwcycpO1xuXG5leHBvcnQgY29uc3QgZHJhd0NhbnZhcyA9ICQoJyNjYW52YXMnKVswXTtcbmV4cG9ydCBjb25zdCB0aXBzT3ZlcmxheSA9ICQoJy5vdmVybGF5LnRpcHMnKVswXTtcblxuY29uc3QgZGl0aGVyZWRDbGFzcyA9ICdkaXRoZXJlZCc7XG5jb25zdCBzaGFyZU1vZGVDbGFzcyA9ICdzaGFyZS1tb2RlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoKSB7XG4gIGluaXRMb2dvUmVmcmVzaCgpO1xuICBpbml0Q29sb3JQYWxldHRlKCk7XG4gIGluaXROZXdCdXR0b24oKTtcbiAgaW5pdFVuZG9CdXR0b24oKTtcbiAgaW5pdFBsYXlCdXR0b24oKTtcbiAgaW5pdFRpcHNCdXR0b24oKTtcbiAgaW5pdFNoYXJlQnV0dG9uKCk7XG4gIGluaXRDb250ZXh0dWFsVHV0cygpO1xuICByZXNldENhbnZhcygpO1xufVxuXG5mdW5jdGlvbiBkaXRoZXJBbGxCdXR0b25zKCkge1xuICAkKCcuY29udHJvbHMgPiAqJykuYWRkQ2xhc3MoZGl0aGVyZWRDbGFzcyk7XG59XG5cbmZ1bmN0aW9uIHVuZGl0aGVyQWxsQnV0dG9ucygpIHtcbiAgJChgLmNvbnRyb2xzIC4ke2RpdGhlcmVkQ2xhc3N9YCkucmVtb3ZlQ2xhc3MoZGl0aGVyZWRDbGFzcyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXRoZXJCdXR0b25zQnlOYW1lKGJ1dHRvbk5hbWVzLCB1bmRpdGhlciA9IGZhbHNlKSB7XG4gIGlmIChidXR0b25OYW1lcy5sZW5ndGggPiAwKSB7XG4gICAgaWYgKCQuaXNBcnJheShidXR0b25OYW1lcykpIHtcbiAgICAgIGJ1dHRvbk5hbWVzLmZvckVhY2goKG5hbWUpID0+IGRpdGhlckJ1dHRvbkJ5TmFtZShuYW1lLCB1bmRpdGhlcikpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkaXRoZXJCdXR0b25CeU5hbWUoYnV0dG9uTmFtZXMsIHVuZGl0aGVyKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVuZGl0aGVyQnV0dG9uc0J5TmFtZShidXR0b25OYW1lcykge1xuICBkaXRoZXJCdXR0b25zQnlOYW1lKGJ1dHRvbk5hbWVzLCB0cnVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRpdGhlckJ1dHRvbkJ5TmFtZShidXR0b25OYW1lLCB1bmRpdGhlciA9IGZhbHNlKSB7XG4gIGxldCAkYnV0dG9uID0gJChgLmNvbnRyb2xzIC4ke2J1dHRvbk5hbWV9YCk7XG4gIC8vIGNvbnNvbGUubG9nKCRidXR0b24pO1xuICBpZiAoJGJ1dHRvbi5sZW5ndGggPiAwKSB7XG4gICAgaWYgKHVuZGl0aGVyICE9PSB0cnVlKSB7XG4gICAgICAkYnV0dG9uLmFkZENsYXNzKGRpdGhlcmVkQ2xhc3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkYnV0dG9uLnJlbW92ZUNsYXNzKGRpdGhlcmVkQ2xhc3MpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5kaXRoZXJCdXR0b25CeU5hbWUoYnV0dG9uTmFtZSkge1xuICBkaXRoZXJCdXR0b25CeU5hbWUoYnV0dG9uTmFtZSwgdHJ1ZSk7XG59XG5cbmZ1bmN0aW9uIHVuZGl0aGVyQnV0dG9uc0J5TmFtZShidXR0b25OYW1lcykge1xuICBkaXRoZXJCdXR0b25zQnlOYW1lKGJ1dHRvbk5hbWVzLCB0cnVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVudGVyU2hhcmVNb2RlKCkge1xuICBzb3VuZC5zdG9wUGxheWluZyh0cnVlKTtcbiAgZGl0aGVyQWxsQnV0dG9ucygpO1xuICBjbGVhclRpbWVvdXQod2luZG93Lmthbi5wbGF5UHJvbXB0VGltZW91dCk7XG4gIHRvdWNoLmRpc2FibGVBbGxFdmVudHMoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4aXRTaGFyZU1vZGUoKSB7XG4gIHVuZGl0aGVyQWxsQnV0dG9ucygpO1xuICBIb3dsZXIubXV0ZShmYWxzZSk7XG4gIHRvdWNoLmVuYWJsZUFsbEV2ZW50cygpO1xufVxuXG5mdW5jdGlvbiBuZXdQcmVzc2VkKCkge1xuICAvLyBjb25zb2xlLmxvZygnbmV3IHByZXNzZWQnKTtcbiAgd2luZG93Lmthbi5jb21wb3NpdGlvbiA9IFtdO1xuICBwYXBlci5wcm9qZWN0LmFjdGl2ZUxheWVyLnJlbW92ZUNoaWxkcmVuKCk7XG4gIHR1dG9yaWFsLmhpZGVDb250ZXh0dWFsVHV0cygpO1xuICBkaXRoZXJCdXR0b25zQnlOYW1lKFsndW5kbycsICduZXcnLCAncGxheS1zdG9wJywgJ3NoYXJlJ10pO1xuICBzb3VuZC5zdG9wUGxheWluZygpO1xuICAvLyB3aW5kb3cua2FuLnVzZXJIYXNEcmF3bkZpcnN0U2hhcGUgPSBmYWxzZTtcbiAgLy8gdHV0b3JpYWwucmVzZXRDb250ZXh0dWFsVHV0cygpO1xufVxuXG5mdW5jdGlvbiB1bmRvUHJlc3NlZCgpIHtcbiAgc291bmQuc3RvcFBsYXlpbmcoKTtcbiAgdHV0b3JpYWwuaGlkZUNvbnRleHR1YWxUdXRzKCk7XG5cbiAgY29uc3QgdHJhbnNwYXJlbnQgPSBuZXcgQ29sb3IoMCwgMCk7XG4gIC8vIGNvbnNvbGUubG9nKCd1bmRvIHByZXNzZWQnKTtcbiAgaWYgKCEod2luZG93Lmthbi5tb3Zlcy5sZW5ndGggPiAwKSkge1xuICAgIC8vIGNvbnNvbGUubG9nKCdubyBtb3ZlcyB5ZXQnKTtcbiAgICB3aW5kb3cua2FuLnVzZXJIYXNEcmF3bkZpcnN0U2hhcGUgPSBmYWxzZTtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgbGFzdE1vdmUgPSB3aW5kb3cua2FuLm1vdmVzLnBvcCgpO1xuICBsZXQgaXRlbSA9IHByb2plY3QuZ2V0SXRlbSh7XG4gICAgaWQ6IGxhc3RNb3ZlLmlkXG4gIH0pO1xuXG4gIGlmIChpdGVtKSB7XG4gICAgaXRlbS52aXNpYmxlID0gdHJ1ZTsgLy8gbWFrZSBzdXJlXG4gICAgc3dpdGNoKGxhc3RNb3ZlLnR5cGUpIHtcbiAgICAgIGNhc2UgJ25ld0dyb3VwJzpcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3JlbW92aW5nIGdyb3VwJyk7XG4gICAgICAgIHNvdW5kLnJlbW92ZVNoYXBlRnJvbUNvbXBvc2l0aW9uKGl0ZW0pO1xuICAgICAgICB1dGlsLmNsZWFyR3JvdXBQb3BzKGl0ZW0pO1xuICAgICAgICBpdGVtLnJlbW92ZSgpO1xuXG4gICAgICAgIGlmICgncmVtb3ZlZEdyb3VwJyBpbiBsYXN0TW92ZSkge1xuICAgICAgICAgIC8vIGJyaW5nIGJhY2sgcmVtb3ZlZCBncm91cFxuICAgICAgICAgIGxhc3RNb3ZlLnJlbW92ZWRHcm91cC52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICBsYXN0TW92ZS5yZW1vdmVkR3JvdXAuZGF0YS5mcmVzaCA9IHRydWU7XG4gICAgICAgICAgc2hhcGUudXBkYXRlUG9wcygpO1xuICAgICAgICB9XG5cblxuICAgICAgICBjb25zdCBudW1Hcm91cHMgPSB1dGlsLmdldE51bUdyb3VwcygpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnbnVtR3JvdXBzJywgbnVtR3JvdXBzKTtcblxuICAgICAgICBpZiAobnVtR3JvdXBzIDw9IDApIHtcbiAgICAgICAgICBkaXRoZXJCdXR0b25zQnlOYW1lKFsndW5kbycsICduZXcnLCAncGxheS1zdG9wJywgJ3NoYXJlJ10pO1xuICAgICAgICAgICRib2R5LnJlbW92ZUNsYXNzKHNvdW5kLnBsYXlFbmFibGVkQ2xhc3MpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVuZGl0aGVyQnV0dG9uc0J5TmFtZShbJ3VuZG8nLCAnbmV3JywgJ3BsYXktc3RvcCcsICdzaGFyZSddKTtcbiAgICAgICAgICAkYm9keS5hZGRDbGFzcyhzb3VuZC5wbGF5RW5hYmxlZENsYXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZmlsbENoYW5nZSc6XG4gICAgICAgIGlmIChsYXN0TW92ZS50cmFuc3BhcmVudCkge1xuICAgICAgICAgIGl0ZW0uZmlsbENvbG9yID0gbGFzdE1vdmUuZmlsbDtcbiAgICAgICAgICBpdGVtLnN0cm9rZUNvbG9yID0gbGFzdE1vdmUuZmlsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtLmZpbGxDb2xvciA9IHRyYW5zcGFyZW50O1xuICAgICAgICAgIGl0ZW0uc3Ryb2tlQ29sb3IgPSB0cmFuc3BhcmVudDtcbiAgICAgICAgfVxuICAgICAgY2FzZSAndHJhbnNmb3JtJzpcbiAgICAgICAgaXRlbS5kYXRhLmZyZXNoID0gdHJ1ZTtcbiAgICAgICAgaWYgKCEhbGFzdE1vdmUucG9zaXRpb24pIHtcbiAgICAgICAgICBpdGVtLnBvc2l0aW9uID0gbGFzdE1vdmUucG9zaXRpb25cbiAgICAgICAgICBpZiAoaXRlbS5kYXRhICYmIGl0ZW0uZGF0YS50dXQgJiYgaXRlbS5kYXRhLnR1dC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBpdGVtIGhhcyBjb25uZWN0ZWQgY29udGV4dHVhbCB0dXQsIG1vdmUgaXQgdG8gdGhlIHJpZ2h0IHBsYWNlXG4gICAgICAgICAgICBjb25zdCAkdHV0ID0gJChgLnR1dFtkYXRhLXR1dC10eXBlPScke3R1dE5hbWV9J11gKTtcbiAgICAgICAgICAgIHR1dG9yaWFsLm1vdmVDb250ZXh0dWFsVHV0KCR0dXQsIGxhc3RNb3ZlLnBvc2l0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEhbGFzdE1vdmUucm90YXRpb24pIHtcbiAgICAgICAgICBpdGVtLnJvdGF0aW9uID0gbGFzdE1vdmUucm90YXRpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEhbGFzdE1vdmUuc2NhbGUpIHtcbiAgICAgICAgICBpdGVtLnNjYWxlKGxhc3RNb3ZlLnNjYWxlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLnBvcCA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHNoYXBlLnVwZGF0ZVBvcHMoKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCd1bmtub3duIGNhc2UnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gY29uc29sZS5sb2coJ2NvdWxkIG5vdCBmaW5kIG1hdGNoaW5nIGl0ZW0nKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwbGF5UHJlc3NlZCgpIHtcbiAgLy8gY29uc29sZS5sb2coJ3BsYXkgcHJlc3NlZCcpO1xuICAvLyBzb3VuZC5zdG9wQ29tcG9zaXRpb24oKTtcbiAgLy8gb3ZlcmxheXMuY2xvc2VBbmRSZXNldE92ZXJsYXlzKCk7XG4gIC8vIHR1dG9yaWFsLmhpZGVDb250ZXh0dWFsVHV0cygpO1xuICBsZXQgcGxheWluZyA9IHdpbmRvdy5rYW4ucGxheWluZztcbiAgLy8gY29uc29sZS5sb2cocGxheWluZywgdXRpbC5nZXROdW1Hcm91cHMoKSA+IDIsICFwbGF5aW5nICYmIHV0aWwuZ2V0TnVtR3JvdXBzKCkgPiAyLCAkYm9keSk7XG5cbiAgY2xlYXJUaW1lb3V0KHdpbmRvdy5rYW4ucGxheVByb21wdFRpbWVvdXQpO1xuICBpZiAoIXBsYXlpbmcgJiYgdXRpbC5nZXROdW1Hcm91cHMoKSA+IDIpIHtcbiAgICAvLyBjb25zb2xlLmxvZygnc3RhcnRpbmcgcGxheWluZycpO1xuICAgIHNvdW5kLnN0YXJ0UGxheWluZygpO1xuICB9IGVsc2Uge1xuICAgIC8vIGNvbnNvbGUubG9nKCdzdG9wcGluZyBwbGF5aW5nJyk7XG4gICAgc291bmQuc3RvcFBsYXlpbmcodHJ1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdGlwc1ByZXNzZWQoKSB7XG4gIHNvdW5kLnN0b3BQbGF5aW5nKCk7XG4gIG92ZXJsYXlzLm9wZW5PdmVybGF5KCd0aXBzJyk7XG4gIC8vIGNvbnNvbGUubG9nKCd0aXBzIHByZXNzZWQnKTtcbn1cblxuZnVuY3Rpb24gaW5pdExvZ29SZWZyZXNoKCkge1xuICAkKCcubWFpbi1sb2dvJykub24odGFwRXZlbnQsIGZ1bmN0aW9uKCkge1xuICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gaW5pdENvbG9yUGFsZXR0ZSgpIHtcbiAgY29uc3QgJHBhbGV0dGVXcmFwID0gJCgndWwucGFsZXR0ZS1jb2xvcnMnKTtcbiAgY29uc3QgJHBhbGV0dGVDb2xvcnMgPSAkcGFsZXR0ZVdyYXAuZmluZCgnbGknKTtcbiAgY29uc3QgcGFsZXR0ZUNvbG9yU2l6ZSA9IDIwO1xuICBjb25zdCBwYWxldHRlU2VsZWN0ZWRDb2xvclNpemUgPSAzMDtcbiAgY29uc3QgcGFsZXR0ZVNlbGVjdGVkQ2xhc3MgPSAncGFsZXR0ZS1zZWxlY3RlZCc7XG5cbiAgLy8gaG9vayB1cCBjbGlja1xuICAkcGFsZXR0ZUNvbG9ycy5vbignY2xpY2sgdGFwIHRvdWNoJywgZnVuY3Rpb24oKSB7XG4gICAgaWYgKCEkYm9keS5oYXNDbGFzcyhwbGF5aW5nQ2xhc3MpKSB7XG4gICAgICBsZXQgJHN2ZyA9ICQodGhpcykuZmluZCgnc3ZnLnBhbGV0dGUtY29sb3InKTtcblxuICAgICAgaWYgKCEkc3ZnLmhhc0NsYXNzKHBhbGV0dGVTZWxlY3RlZENsYXNzKSkge1xuICAgICAgICAkKCcuJyArIHBhbGV0dGVTZWxlY3RlZENsYXNzKVxuICAgICAgICAgIC5yZW1vdmVDbGFzcyhwYWxldHRlU2VsZWN0ZWRDbGFzcylcbiAgICAgICAgICAuYXR0cignd2lkdGgnLCBwYWxldHRlQ29sb3JTaXplKVxuICAgICAgICAgIC5hdHRyKCdoZWlnaHQnLCBwYWxldHRlQ29sb3JTaXplKVxuICAgICAgICAgIC5maW5kKCdyZWN0JylcbiAgICAgICAgICAuYXR0cigncngnLCAwKVxuICAgICAgICAgIC5hdHRyKCdyeScsIDApO1xuXG4gICAgICAgICRzdmcuYWRkQ2xhc3MocGFsZXR0ZVNlbGVjdGVkQ2xhc3MpXG4gICAgICAgICAgLmF0dHIoJ3dpZHRoJywgcGFsZXR0ZVNlbGVjdGVkQ29sb3JTaXplKVxuICAgICAgICAgIC5hdHRyKCdoZWlnaHQnLCBwYWxldHRlU2VsZWN0ZWRDb2xvclNpemUpXG4gICAgICAgICAgLmZpbmQoJ3JlY3QnKVxuICAgICAgICAgIC5hdHRyKCdyeCcsIHBhbGV0dGVTZWxlY3RlZENvbG9yU2l6ZSAvIDIpXG4gICAgICAgICAgLmF0dHIoJ3J5JywgcGFsZXR0ZVNlbGVjdGVkQ29sb3JTaXplIC8gMilcblxuICAgICAgICB3aW5kb3cua2FuLmN1cnJlbnRDb2xvciA9ICRzdmcuZmluZCgncmVjdCcpLmF0dHIoJ2ZpbGwnKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJyVjY29sb3InLCAnY29sb3I6cmVkJywgY29sb3IuZ2V0Q29sb3JOYW1lKHdpbmRvdy5rYW4uY3VycmVudENvbG9yKSk7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGluaXROZXdCdXR0b24oKSB7XG4gICQoJy5tYWluLWNvbnRyb2xzIC5uZXcnKS5vbih0YXBFdmVudCwgZnVuY3Rpb24oKSB7XG4gICAgaWYgKCEkYm9keS5oYXNDbGFzcyhwbGF5aW5nQ2xhc3MpKSB7XG4gICAgICBuZXdQcmVzc2VkKCk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gaW5pdFVuZG9CdXR0b24oKSB7XG4gICQoJy5tYWluLWNvbnRyb2xzIC51bmRvJykub24odGFwRXZlbnQsIGZ1bmN0aW9uKCkge1xuICAgIGlmICghJGJvZHkuaGFzQ2xhc3MocGxheWluZ0NsYXNzKSkge1xuICAgICAgdW5kb1ByZXNzZWQoKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBpbml0UGxheUJ1dHRvbigpIHtcbiAgJCgnLm1haW4tY29udHJvbHMgLnBsYXktc3RvcCAucGxheScpLm9uKHRhcEV2ZW50LCBzb3VuZC5zdGFydFBsYXlpbmcpO1xuICAkKCcubWFpbi1jb250cm9scyAucGxheS1zdG9wIC5zdG9wJykub24odGFwRXZlbnQsIHNvdW5kLnN0b3BQbGF5aW5nKTtcbn1cblxuZnVuY3Rpb24gaW5pdFRpcHNCdXR0b24oKSB7XG4gICQoJy5jb250cm9scyAudGlwcycpLm9uKHRhcEV2ZW50LCBmdW5jdGlvbigpIHtcbiAgICBpZiAoISRib2R5Lmhhc0NsYXNzKHBsYXlpbmdDbGFzcykpIHtcbiAgICAgIHRpcHNQcmVzc2VkKCk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gaW5pdFNoYXJlQnV0dG9uKCkge1xuICAkKCcuY29udHJvbHMgLnNoYXJlJykub24odGFwRXZlbnQsIHNoYXJlLmhhbmRsZVNoYXJlUHJlc3NlZCk7XG59XG5cbmZ1bmN0aW9uIGluaXRDb250ZXh0dWFsVHV0cygpIHtcbiAgY29uc3QgJHR1dHMgPSAkKCcuY29udGV4dHVhbC10dXRzIC50dXQnKTtcbiAgJHR1dHMub24odGFwRXZlbnQsIGZ1bmN0aW9uKCkge1xuICAgICQodGhpcykuY3NzKHt2aXNpYmlsaXR5OiAnaGlkZGVuJ30pO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0Q2FudmFzKCkge1xuICBwYXBlci5wcm9qZWN0LmNsZWFyKCk7XG5cbiAgLy8gYWRkIHJhbmRvbSBiYWNrZ3JvdW5kXG4gIHBhcGVyLnByb2plY3QuYWN0aXZlTGF5ZXIubmFtZSA9ICdiYWNrZ3JvdW5kJztcbiAgY29uc3QgbnVtQ2FudmFzc2VzID0gMTA7XG4gIGNvbnN0IHJhbmRvbUNhbnZhc0luZGV4ID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogKG51bUNhbnZhc3NlcyAtIDEpKSArIDE7IC8vIFsxLCBudW1DYW52YXNzZXNdXG4gIGNvbnN0IGNhbnZhc0JnID0gbmV3IFJhc3RlcihgY2FudmFzLSR7cmFuZG9tQ2FudmFzSW5kZXh9YCk7XG4gIGNhbnZhc0JnLm5hbWUgPSAnY2FudmFzQmcnO1xuICBjYW52YXNCZy5wb3NpdGlvbiA9IHBhcGVyLnZpZXcuY2VudGVyO1xuXG4gIC8vIGFkZCBjYW52YXMgbGF5ZXJcbiAgY29uc3Qgc2NhbGVGYWN0b3JIb3Jpem9udGFsID0gcGFwZXIudmlldy52aWV3U2l6ZS53aWR0aCAvIGNhbnZhc0JnLnNpemUud2lkdGg7XG4gIGNvbnN0IHNjYWxlRmFjdG9yVmVydGljYWwgPSBwYXBlci52aWV3LnZpZXdTaXplLmhlaWdodCAvIGNhbnZhc0JnLnNpemUuaGVpZ2h0O1xuICBjYW52YXNCZy5zY2FsZShNYXRoLm1heChzY2FsZUZhY3Rvckhvcml6b250YWwsIHNjYWxlRmFjdG9yVmVydGljYWwpKTtcbiAgbGV0IGxheWVyID0gbmV3IExheWVyKCk7IC8vIGluaXQgbmV3IGxheWVyIHRoYXQgYWxsIG90aGVyIHNoYXBlcyB3aWxsIGJlIGRyYXduIHVwb25cbiAgcGFwZXIucHJvamVjdC5hY3RpdmVMYXllci5uYW1lID0gJ2NhbnZhcyc7XG59XG4iLCJjb25zdCBjb25maWcgPSByZXF1aXJlKCcuL2NsaWVudC1jb25maWcnKTtcblxuLy8gQ29udmVydHMgZnJvbSBkZWdyZWVzIHRvIHJhZGlhbnMuXG5leHBvcnQgZnVuY3Rpb24gcmFkKGRlZ3JlZXMpIHtcbiAgcmV0dXJuIGRlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwO1xufTtcblxuLy8gQ29udmVydHMgZnJvbSByYWRpYW5zIHRvIGRlZ3JlZXMuXG5leHBvcnQgZnVuY3Rpb24gZGVnKHJhZGlhbnMpIHtcbiAgcmV0dXJuIHJhZGlhbnMgKiAxODAgLyBNYXRoLlBJO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGh5cG90KGEsIGIpIHtcbiAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhhLCAyKSArIE1hdGgucG93KGIsIDIpKTsgLy8gcHl0aGFnb3JlYW4hXG59XG5cbi8vIHJldHVybnMgYWJzb2x1dGUgdmFsdWUgb2YgdGhlIGRlbHRhIG9mIHR3byBhbmdsZXMgaW4gcmFkaWFuc1xuZXhwb3J0IGZ1bmN0aW9uIGFuZ2xlRGVsdGEoeCwgeSkge1xuICByZXR1cm4gTWF0aC5hYnMoTWF0aC5hdGFuMihNYXRoLnNpbih5IC0geCksIE1hdGguY29zKHkgLSB4KSkpOztcbn1cblxuLy8gZGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzXG5leHBvcnQgZnVuY3Rpb24gZGVsdGEocDEsIHAyKSB7XG4gIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3cocDEueCAtIHAyLngsIDIpICsgTWF0aC5wb3cocDEueSAtIHAyLnksIDIpKTsgLy8gcHl0aGFnb3JlYW4hXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaW1lKCkge1xuICByZXR1cm4gbmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE51bVZpc2libGVHcm91cHMoKSB7XG4gIGNvbnN0IGdyb3VwcyA9IGdldFZpc2libGVHcm91cHMoKTtcbiAgcmV0dXJuIGdyb3Vwcy5sZW5ndGg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRWaXNpYmxlR3JvdXBzKCkge1xuICByZXR1cm4gcGFwZXIucHJvamVjdC5nZXRJdGVtcyh7XG4gICAgY2xhc3NOYW1lOiAnR3JvdXAnLFxuICAgIG1hdGNoOiAoZWwpID0+IGVsLnZpc2libGUgPT09IHRydWVcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBbGxHcm91cHMoKSB7XG4gIHJldHVybiBwYXBlci5wcm9qZWN0LmdldEl0ZW1zKHtcbiAgICBjbGFzc05hbWU6ICdHcm91cCdcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhbnlTaGFwZXNPbkNhbnZhcygpIHtcbiAgY29uc3QgZ3JvdXBzID0gZ2V0VmlzaWJsZUdyb3VwcygpO1xuICByZXR1cm4gZ3JvdXBzLmxlbmd0aCA+IDA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXROdW1Hcm91cHMoKSB7XG4gIGNvbnN0IGdyb3VwcyA9IGdldFZpc2libGVHcm91cHMoKTtcbiAgLy8gY29uc29sZS5sb2coJ251bWdyb3VwcycsIGdyb3Vwcy5sZW5ndGgpO1xuICByZXR1cm4gZ3JvdXBzLmxlbmd0aDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZyZXNoR3JvdXBzKCkge1xuICByZXR1cm4gcGFwZXIucHJvamVjdC5nZXRJdGVtcyh7XG4gICAgY2xhc3NOYW1lOiAnR3JvdXAnLFxuICAgIG1hdGNoOiAoZWwpID0+IGVsLmRhdGEgJiYgZWwuZGF0YS5saW5lID09PSBmYWxzZSAmJiBlbC5kYXRhLmZyZXNoID09PSB0cnVlXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWxsUG9wcygpIHtcbiAgcmV0dXJuIHBhcGVyLnByb2plY3QuZ2V0SXRlbXMoe1xuICAgIG1hdGNoOiAoZWwpID0+IGVsLmRhdGEgJiYgZWwuZGF0YS5wb3AgPT09IHRydWVcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhckdyb3VwUG9wcyhncm91cCkge1xuICBjb25zdCBwb3BzID0gZ2V0R3JvdXBQb3BzKGdyb3VwKTtcbiAgcG9wcy5mb3JFYWNoKChwb3ApID0+IHBvcC5yZW1vdmUoKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRHcm91cFBvcHMoZ3JvdXApIHtcbiAgLy8gY29uc29sZS5sb2coJ2dyb3VwIHBvcCBncm91cCcsIGdyb3VwLmlkLCBncm91cCk7XG4gIGxldCByZXR1cm5Qb3BzID0gW107XG5cbiAgaWYgKGdyb3VwLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICBjb25zdCBncm91cFBvcHMgPSBncm91cC5nZXRJdGVtcyh7XG4gICAgICBtYXRjaDogKGVsKSA9PiBlbC5kYXRhICYmIGVsLmRhdGEucG9wID09PSB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuUG9wcyA9IHJldHVyblBvcHMuY29uY2F0KGdyb3VwUG9wcyk7XG4gIH1cblxuICBjb25zdCBpbnRlcnNlY3RpbmdQb3BzID0gcGFwZXIucHJvamVjdC5nZXRJdGVtcyh7XG4gICAgbWF0Y2g6IChlbCkgPT4gZWwuZGF0YSAmJiBlbC5kYXRhLnBvcCA9PT0gdHJ1ZSAmJiBlbC5kYXRhLmludGVyc2VjdGluZ0dyb3VwID09PSBncm91cC5pZFxuICB9KTtcblxuICBpZiAoaW50ZXJzZWN0aW5nUG9wcy5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuUG9wcyA9IHJldHVyblBvcHMuY29uY2F0KGludGVyc2VjdGluZ1BvcHMpO1xuICB9XG5cbiAgcmV0dXJuIHJldHVyblBvcHM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQb3BDYW5kaWRhdGVzKCkge1xuICByZXR1cm4gcGFwZXIucHJvamVjdC5nZXRJdGVtcyh7XG4gICAgY2xhc3NOYW1lOiAnR3JvdXAnLFxuICAgIG1hdGNoOiAoZWwpID0+IGVsLmRhdGEgJiYgZWwuZGF0YS5saW5lID09PSBmYWxzZSAmJiBlbC52aXNpYmxlID09PSB0cnVlXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0U2hhKCkge1xuICAkLmdldCgnL2hhc2gnKVxuICAgIC5kb25lKGZ1bmN0aW9uKHJlcykge1xuICAgICAgY29uc29sZS5sb2coJ2N1cnJlbnQgaGFzaDonLCByZXMpO1xuICAgICAgd2luZG93Lmthbi5oYXNoID0gcmVzO1xuICAgIH0pXG4gICAgLmZhaWwoZnVuY3Rpb24oZSkge1xuICAgICAgY29uc29sZS5lcnJvcignZXJyb3IgZ2V0dGluZyBoYXNoOicsIGUpO1xuICAgIH0pO1xufVxuXG4vLyBodHRwOi8vYmxvZy5zb3Vsc2Vydi5uZXQvdW5kZXJzdGFuZGluZy1vYmplY3QtY2xvbmluZy1pbi1qYXZhc2NyaXB0LXBhcnQtaS9cbmV4cG9ydCBmdW5jdGlvbiBzaGFsbG93Q29weSggb3JpZ2luYWwgKSB7XG4gICAgLy8gRmlyc3QgY3JlYXRlIGFuIGVtcHR5IG9iamVjdCB3aXRoXG4gICAgLy8gc2FtZSBwcm90b3R5cGUgb2Ygb3VyIG9yaWdpbmFsIHNvdXJjZVxuICAgIHZhciBjbG9uZSA9IE9iamVjdC5jcmVhdGUoIE9iamVjdC5nZXRQcm90b3R5cGVPZiggb3JpZ2luYWwgKSApIDtcblxuICAgIHZhciBpLCBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoIG9yaWdpbmFsICkgO1xuXG4gICAgZm9yICggaSA9IDAgOyBpIDwga2V5cy5sZW5ndGggOyBpICsrICkge1xuICAgICAgLy8gY29weSBlYWNoIHByb3BlcnR5IGludG8gdGhlIGNsb25lXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoIGNsb25lICwga2V5c1sgaSBdICxcbiAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciggb3JpZ2luYWwgLCBrZXlzWyBpIF0gKVxuICAgICAgKSA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNsb25lIDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbVBpY2soYXJyYXkpIHtcbiAgaWYgKGFycmF5Lmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gYXJyYXlbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYXJyYXkubGVuZ3RoKV07XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cbiIsImNvbnN0IGNvbmZpZyA9IHJlcXVpcmUoJy4vY2xpZW50LWNvbmZpZycpO1xuXG5jb25zdCBtYWluID0gcmVxdWlyZSgnLi9tYWluJyk7XG5jb25zdCBvdmVybGF5cyA9IHJlcXVpcmUoJy4vb3ZlcmxheXMnKTtcbmNvbnN0IHRpbWluZyA9IHJlcXVpcmUoJy4vdGltaW5nJyk7XG5jb25zdCB1aSA9IHJlcXVpcmUoJy4vdWknKTtcbmNvbnN0IHNvdW5kID0gcmVxdWlyZSgnLi9zb3VuZCcpO1xuXG5jb25zdCAkYm9keSA9ICQoJ2JvZHknKTtcbmNvbnN0IHRhcEV2ZW50ID0gJ2NsaWNrIHRhcCB0b3VjaCc7XG5cbmV4cG9ydCBjb25zdCB2aWRlb1BsYXlpbmdDbGFzcyA9ICd2aWRlby1wbGF5aW5nJztcblxuY29uc3QgJHZpZGVvV3JhcHBlciA9ICRib2R5LmZpbmQoJyN2aWRlby13cmFwJyk7XG5jb25zdCAkdmlkZW8gPSAkdmlkZW9XcmFwcGVyLmZpbmQoJ3ZpZGVvJyk7XG5cbmV4cG9ydCBmdW5jdGlvbiBlbnRlclR1dG9yaWFsTW9kZSgpIHtcbiAgY29uc29sZS5sb2coJ2VudGVyaW5nIHR1dG9yaWFsIG1vZGUnKTtcbiAgcGxheVZpZGVvKCk7XG4gICRib2R5LmFkZENsYXNzKHZpZGVvUGxheWluZ0NsYXNzKTtcbiAgY2xlYXJUaW1lb3V0KHdpbmRvdy5rYW4uaW5hY3Rpdml0eVRpbWVvdXQpO1xuICBjbGVhckludGVydmFsKHdpbmRvdy5rYW4uY29udGludWVDb3VudGRvd25JbnRlcnZhbCk7XG4gICRib2R5Lm9mZih0YXBFdmVudCwgdGltaW5nLnByZXZlbnRJbmFjdGl2aXR5VGltZW91dCk7XG4gICRib2R5Lm9uKHRhcEV2ZW50LCBleGl0VHV0b3JpYWxNb2RlKTtcbiAgbWFpbi5yZXNldFdpbmRvdygpO1xuICB1aS5yZXNldENhbnZhcygpO1xuICB3aW5kb3cua2FuLnJlZnJlc2hDaGVja0ludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICQuZ2V0KCcvaGFzaCcpXG4gICAgICAuZG9uZShmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgaWYgKHJlcyAhPT0gd2luZG93Lmthbi5oYXNoKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2RpZmZlcmVudCBoYXNoLCByZWxvYWRpbmcnKTtcbiAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5mYWlsKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignZXJyb3IgZ2V0dGluZyBoYXNoOicsIGUpO1xuICAgICAgfSk7XG4gIH0sIHRpbWluZy5yZWZyZXNoQ2hlY2tEZWxheSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleGl0VHV0b3JpYWxNb2RlKCkge1xuICBjb25zb2xlLmxvZygnZXhpdGluZyB0dXRvcmlhbCBtb2RlJyk7XG4gIHNvdW5kLnJlaW5pdFNoYXBlU291bmRzKClcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICBjbGVhckludGVydmFsKHdpbmRvdy5rYW4ucmVmcmVzaENoZWNrSW50ZXJ2YWwpO1xuICAgICAgSG93bGVyLm11dGUoZmFsc2UpO1xuICAgICAgcGF1c2VWaWRlbygpO1xuICAgICAgJGJvZHkub2ZmKHRhcEV2ZW50LCBleGl0VHV0b3JpYWxNb2RlKTtcbiAgICAgICRib2R5Lm9uKHRhcEV2ZW50LCB0aW1pbmcucHJldmVudEluYWN0aXZpdHlUaW1lb3V0KTtcbiAgICAgICRib2R5LnJlbW92ZUNsYXNzKHZpZGVvUGxheWluZ0NsYXNzKTtcbiAgICAgIGNsZWFyVGltZW91dCh3aW5kb3cua2FuLmluYWN0aXZpdHlUaW1lb3V0KTtcbiAgICAgIGNsZWFySW50ZXJ2YWwod2luZG93Lmthbi5jb250aW51ZUNvdW50ZG93bkludGVydmFsKTtcblxuICAgICAgb3ZlcmxheXMub3Blbk92ZXJsYXkoJ2ludHJvJyk7XG5cbiAgICAgIHdpbmRvdy5rYW4uaW5hY3Rpdml0eVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgb3ZlcmxheXMub3Blbk92ZXJsYXkoJ2NvbnRpbnVlJyk7XG4gICAgICB9LCB0aW1pbmcuY29udGludWVJbmFjdGl2aXR5RGVsYXkpO1xuICAgIH0pXG4gIC5mYWlsKChlKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcignZXJyb3IgaW5pdHRpbmcgc2hhcGUgc291bmRzOicsIGUpO1xuICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdXNlVmlkZW8oKSB7XG4gICR2aWRlby5nZXQoMCkucGF1c2UoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBsYXlWaWRlbygpIHtcbiAgJHZpZGVvLmdldCgwKS5wbGF5KCk7XG59XG4iXX0=\n"]}