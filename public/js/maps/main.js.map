{"version":3,"sources":["main.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","runAnimations","canvasId","palette","colors","colorNames","#20171C","#1E2A43","#28377D","#352747","#CA2E26","#9A2A1F","#DA6C26","#453121","#916A47","#DAAD27","#7F7D31","#2B5E2E","gradients","pops","colorSize","selectedColorSize","contextualTuts","type","copy","2","window","document","exportName","undefined","setTimeoutContext","fn","timeout","context","setTimeout","bindFn","invokeArrayArg","arg","Array","isArray","each","obj","iterator","forEach","hasOwnProperty","deprecate","method","name","message","deprecationMessage","stack","replace","log","console","warn","apply","this","arguments","inherit","child","base","properties","childP","baseP","prototype","Object","create","constructor","_super","assign","boolOrFn","val","args","TYPE_FUNCTION","ifUndefined","val1","val2","addEventListeners","target","types","handler","splitStr","addEventListener","removeEventListeners","removeEventListener","hasParent","node","parent","parentNode","inStr","str","find","indexOf","trim","split","inArray","src","findByKey","toArray","slice","uniqueArray","key","sort","results","values","push","b","prefixed","property","prefix","prop","camelProp","toUpperCase","VENDOR_PREFIXES","uniqueId","_uniqueId","getWindowForElement","element","doc","ownerDocument","defaultView","parentWindow","Input","manager","callback","self","options","inputTarget","domHandler","ev","enable","init","createInputInstance","Type","inputClass","SUPPORT_POINTER_EVENTS","PointerEventInput","SUPPORT_ONLY_TOUCH","TouchInput","SUPPORT_TOUCH","TouchMouseInput","MouseInput","inputHandler","eventType","input","pointersLen","pointers","changedPointersLen","changedPointers","isFirst","INPUT_START","isFinal","INPUT_END","INPUT_CANCEL","session","computeInputData","emit","recognize","prevInput","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","center","getCenter","timeStamp","now","deltaTime","angle","getAngle","distance","getDistance","computeDeltaXY","offsetDirection","getDirection","deltaX","deltaY","overallVelocity","getVelocity","overallVelocityX","x","overallVelocityY","y","abs","scale","getScale","rotation","getRotation","maxPointers","computeIntervalInputData","srcEvent","offset","offsetDelta","prevDelta","velocity","velocityX","velocityY","direction","last","lastInterval","COMPUTE_INTERVAL","v","clientX","round","clientY","DIRECTION_NONE","DIRECTION_LEFT","DIRECTION_RIGHT","DIRECTION_UP","DIRECTION_DOWN","p1","p2","props","PROPS_XY","Math","sqrt","atan2","PI","start","end","PROPS_CLIENT_XY","evEl","MOUSE_ELEMENT_EVENTS","evWin","MOUSE_WINDOW_EVENTS","pressed","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","store","pointerEvents","SingleTouchInput","evTarget","SINGLE_TOUCH_TARGET_EVENTS","SINGLE_TOUCH_WINDOW_EVENTS","started","normalizeSingleTouches","all","touches","changed","changedTouches","concat","TOUCH_TARGET_EVENTS","targetIds","getTouches","allTouches","INPUT_MOVE","identifier","targetTouches","changedTargetTouches","filter","touch","mouse","primaryTouch","lastTouches","recordTouches","eventData","setLastTouch","lastTouch","lts","removeLastTouch","splice","DEDUP_TIMEOUT","isSyntheticEvent","dx","dy","DEDUP_DISTANCE","TouchAction","value","set","cleanTouchActions","actions","TOUCH_ACTION_NONE","hasPanX","TOUCH_ACTION_PAN_X","hasPanY","TOUCH_ACTION_PAN_Y","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_AUTO","getTouchActionProps","NATIVE_TOUCH_ACTION","touchMap","cssSupports","CSS","supports","Recognizer","defaults","id","state","STATE_POSSIBLE","simultaneous","requireFail","stateStr","STATE_CANCELLED","STATE_ENDED","STATE_CHANGED","STATE_BEGAN","directionStr","getRecognizerByNameIfManager","otherRecognizer","recognizer","get","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","count","Hammer","recognizers","preset","Manager","handlers","oldCssProps","touchAction","toggleCssProps","item","add","recognizeWith","requireFailure","style","cssProps","triggerDomEvent","event","data","gestureEvent","createEvent","initEvent","gesture","dispatchEvent","TEST_ELEMENT","createElement","Date","TypeError","output","index","source","nextKey","extend","dest","merge","keys","MOBILE_REGEX","test","navigator","userAgent","INPUT_TYPE_TOUCH","INPUT_TYPE_PEN","INPUT_TYPE_MOUSE","INPUT_TYPE_KINECT","DIRECTION_HORIZONTAL","DIRECTION_VERTICAL","DIRECTION_ALL","destroy","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","button","which","pointerType","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","3","4","5","MSPointerEvent","PointerEvent","removePointer","eventTypeNormalized","toLowerCase","isTouch","storeIndex","pointerId","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","TOUCH_INPUT_MAP","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","PREFIXED_TOUCH_ACTION","TOUCH_ACTION_COMPUTE","TOUCH_ACTION_MAP","compute","update","getTouchAction","join","preventDefaults","prevented","preventDefault","hasNone","isTapPointer","isTapMovement","isTapTouchTime","preventSrc","STATE_RECOGNIZED","STATE_FAILED","dropRecognizeWith","dropRequireFailure","hasRequireFailures","canRecognizeWith","additionalEvent","tryEmit","canEmit","inputDataClone","process","reset","attrTest","optionPointers","isRecognized","isValid","threshold","directionTest","hasMoved","inOut","time","validPointers","validMovement","validTime","clearTimeout","taps","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","VERSION","domEvents","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","STOP","FORCED_STOP","stop","force","stopped","curRecognizer","existing","remove","on","events","off","Tap","Pan","Swipe","Pinch","Rotate","Press","freeGlobal","define","amd","global","HowlerGlobal","Howler","_codecs","_howls","_muted","_volume","_canPlayEvent","_navigator","masterGain","noAudio","usingWebAudio","autoSuspend","ctx","mobileAutoEnable","_setup","volume","vol","parseFloat","setupAudioContext","gain","_webAudio","ids","_getSoundIds","j","sound","_soundById","_node","mute","muted","unload","close","codecs","ext","_autoSuspend","Audio","oncanplaythrough","_setupCodecs","audioTest","err","canPlayType","mpegTest","checkOpera","match","isOldOpera","parseInt","mp3","mpeg","opus","ogg","oga","wav","aac","caf","m4a","mp4","weba","webm","dolby","flac","_enableMobileAudio","isMobile","maxTouchPoints","msMaxTouchPoints","_mobileEnabled","_mobileUnloaded","sampleRate","_scratchBuffer","createBuffer","unlock","createBufferSource","buffer","connect","destination","noteOn","onended","disconnect","suspend","_sounds","_paused","_suspendTimer","then","_resumeAfterSuspend","_autoResume","resume","_emit","Howl","error","_autoplay","autoplay","_format","format","_html5","html5","_loop","loop","_pool","pool","_preload","preload","_rate","rate","_sprite","sprite","_src","_duration","_state","_endTimers","_queue","_onend","onend","_onfade","onfade","_onload","onload","_onloaderror","onloaderror","_onpause","onpause","_onplay","onplay","_onstop","onstop","_onmute","onmute","_onvolume","onvolume","_onrate","onrate","_onseek","onseek","_onresume","action","play","load","url","exec","location","protocol","Sound","loadBuffer","internal","num","_ended","_id","_inactiveSound","seek","max","_seek","duration","_start","_stop","playWebAudio","_refreshBuffer","setValueAtTime","currentTime","_playStart","bufferSource","noteGrainOn","Infinity","bind","isRunning","once","_clearTimer","playHtml5","playbackRate","loadedNoReadyState","ejecta","readyState","isCocoonJS","listener","pause","_rateSeek","_stopFade","noteOff","_cleanBuffer","isNaN","fade","from","to","len","diff","dir","steps","stepLen","ceil","linearRampToValueAtTime","_interval","setInterval","soundId","min","clearInterval","cancelScheduledValues","loopStart","loopEnd","realTime","playing","rateSeek","sounds","_errorFn","_loadFn","remCache","cache","msg","_loadQueue","task","shift","_drain","limit","cnt","_panner","howl","_parent","random","createGain","createGainNode","paused","_errorListener","_loadListener","__default","loadSound","atob","dataView","Uint8Array","charCodeAt","decodeAudioData","xhr","XMLHttpRequest","open","responseType","status","response","onerror","safeXhrSend","send","arraybuffer","AudioContext","webkitAudioContext","iOS","platform","appVersion","version","safari","standalone","_pos","_orientation","stereo","pan","pos","z","setPosition","orientation","xUp","yUp","zUp","or","setOrientation","_stereo","_pannerAttr","coneInnerAngle","coneOuterAngle","coneOuterGain","distanceModel","maxDistance","panningModel","refDistance","rolloffFactor","_onstereo","onstereo","_onpos","onpos","_onorientation","onorientation","pannerType","createStereoPanner","setupPanner","pannerAttr","_coneInnerAngle","_coneOuterAngle","_coneOuterGain","_distanceModel","_maxDistance","_panningModel","_refDistance","_rolloffFactor","pa","panner","createPanner","getPathColorName","path","hexColor","originalColor","getColorName","color","config","defineProperty","transparent","Color","./../../config","root","factory","ShapeDetector","deg2Rad","d","Stroke","points","processStroke","patterns","_nbSamplePoints","nbSamplePoints","learn","_squareSize","_phi","_angleRange","_anglePrecision","_halfDiagonal","_origin","resample","setCentroid","rotateBy","indicativeAngle","scaleToSquare","translateToOrigin","localDistance","q","strokeLength","newPoints","point","cos","sin","c","box","minX","maxX","minY","maxY","width","height","distanceAtBestAngle","pattern","x1","f1","distanceAtAngle","x2","f2","strokePoints","patternPoints","defaultShapes","spot","patternName","score","stroke","bestDistance","bestPattern","bestScore","6","resetWindow","kan","currentColor","composition","compositionInterval","compositionTimeout","soundTimeouts","lastEvent","interaction","moves","pinching","pinchedGroup","pinchedTut","pathData","shapePath","prevAngle","sides","side","corners","lastScale","lastRotation","originalPosition","tutorialCompletion","fill","pinch","swipe","inactivityTimeout","playPromptTimeout","userHasDrawnFirstShape","firstTimePlaying","shapesSinceTut","refreshCheckInterval","sha","ui","overlays","timing","util","$","ready","run","setSha","reload","./overlays","./timing","./touch","./ui","./util","./video","7","openOverlay","overlayName","allOverlays","includes","closeAndResetOverlays","tutorial","hideContextualTuts","$body","addClass","overlayActiveClass","tapEvent","openIntroOverlay","anyShapesOnCanvas","openPlayPromptOverlay","playPromptDelay","openSharePromptOverlay","openContinueOverlay","openTipsOverlay","openShareOverlay","video","enterTutorialMode","continueInactivityDelay","activateTipsCards","cardNavNext","$old","$new","next","$cardItems","first","$next","$third","slide","removeClass","updateCardCounter","cardsCount","cardInteractions","timeOfLastInteraction","closest","resetTips","$sharePhone","html","overlayOpenClasses","current","total","$footer","phoneNumberInputs","mask","$shareKeypad","phoneNumber","toString","masked","randomCardGraphics","el","attr","initTips","initShare","hammerCanvas","$cardsWrap","map","overlay","./tutorial","8","getOutlineGroup","truedShape","outerPath","Path","middlePath","sizes","firstTop","firstBottom","lastTop","lastBottom","Group","firstSegment","size","cumSize","avgSize","prevPoint","getPointAt","nextPoint","Point","topX","topY","top","bottomX","bottomY","bottom","insert","closed","centerTop","centerBottom","smooth","returnGroup","getTruedShape","pathClone","clone","visible","completedPath","getCompletedPath","truedPath","strokeWidth","reduce","simplify","intersections","getIntersections","trimmedPath","getTrimmedPath","extendedPath","getExtendedPath","_intersections","_trimmedPath","getBruteExtendedPath","_intersections2","_trimmedPath2","getShapePrediction","prediction","shapeJSON","exportJSON","shapeData","processShapeData","shapePrediction","detector","getIntegerPoint","floor","stringifyPoint","parsePoint","pointStr","getClosestPointFromPathData","leastDistance","closestPoint","Base","datum","json","returnShape","jsonObj","JSON","parse","segments","segment","positionInfo","findInteriorCurves","interiorCurves","dividedPath","resolveCrossings","className","children","enclosedLoop","fillColor","strokeColor","interior","_enclosedLoop","thresholdDist","thresholdDistMultiplier","nextSegment","startAngle","inverseStartAngle","extendedStartPoint","lastSegment","penSegment","previous","endAngle","extendedEndPoint","firstPoint","lastPoint","intersectionPoint","pathCrossings","subtract","_ret","closedChildren","childClone","accumulator","_j","unite","newPath","copyContent","copyAttributes","_typeof","hitTestGroupBounds","groups","getAllGroups","hitTestBounds","strokeBounds","isInside","Symbol","cornerThresholdDeg","shapeNames","./color","./lib/shape-detector","9","getShapeSoundObj","viewWidth","paper","view","viewSize","shape","colorName","quantizedSoundStartTime","quantizeLength","bounds","compositionLength","quantizedSoundDuration","soundObj","startTime","pathId","spriteName","groupId","startPlaying","hasClass","playEnabledClass","playingClass","startComposition","stopPlaying","stopComposition","initShapeSounds","returnSounds","shapeName","shapeSoundJSONPath","getJSON","resp","shapeSoundData","formatShapeSoundData","returnData","urls","smallestDuration","bpm","returnDuration","quantizePosition","position","smallestInterval","measures","returnPosition","animateNote","project","getItem","group","animate","translate","rotate","settings","easing","removeShapeFromComposition","shapeGroup","getItems","clearSoundTimeouts","soundTimeout","playCompositionFirstTime","trimmedCompositionObj","getTrimmedCompositionObj","iterations","repeatComposition","playCompositionOnce","trimmedComposition","getCompositionStartTime","modifiedSound","beatLength","measureLength","./shape","howler","10","hash","pauseVideo","exitTutorialMode","preventInactivityTimeout","getTime","drawInactivityDelay","inputDelay","refreshCheckDelay","11","hammerTips","tipsOverlay","canvas","doubleTap","panStart","panMove","panEnd","pinchStart","pinchMove","pinchEnd","enablePanAndPinchEvents","enablePanEvents","enablePinchEvents","enableTapEvents","disableTapEvents","disablePanEvents","disablePinchEvents","pointer","hitResult","hitTest","hitOptions","eventTargetIsOnCanvas","hideContextualTutByName","panning","stopPropagation","strokeCap","rad","angleDelta","halfPointX","halfPointY","halfPoint","speed","draw","minShapeSize","shapeSize","centerPoint","gradientSize","originX","originY","destinationX","destinationY","origin","gradient","stops","addChild","shapeSoundObj","outlineGroup","outline","_namedChildren","outer","outlineCenter","middle","sendToBack","enclosedLoops","unditherButtonsByName","scaleFactor","allTutsCompleted","tutName","_groups","addContextualTut","tut","scheduledOverlay","overlayDelay","interacting","originalRotation","originalScale","bringToFront","$tut","$pinchedTut","currentScale","scaleDelta","currentRotation","rotationDelta","moveContextualTut","maxScaleFactor","_bounds","move","hideContextualTut","throwPinchedGroup","velocityMultiplier","viewHeight","offScreen","requestAnimationFrame","newX","newY","newPos","tolerance","./sound","hammerjs","12","getTutByName","tutObj","tutorialCompletionObj","completion","shapeCenter","tutCopy","tutPos","getTutPositionFromCenter","css","left","visibility","$tuts","resetContextualTuts","tutWidth","outerWidth","tutHeight","outerHeight","leftPos","topPos","tutArrowHeight","13","initLogoRefresh","initColorPalette","initNewButton","initUndoButton","initPlayButton","initTipsButton","initShareButton","initContextualTuts","resetCanvas","ditherButtonsByName","buttonNames","undither","ditherButtonByName","buttonName","$button","ditheredClass","unditherButtonByName","newPressed","activeLayer","removeChildren","undoPressed","lastMove","pop","numGroups","getNumGroups","tipsPressed","sharePressed","$paletteWrap","$paletteColors","paletteColorSize","paletteSelectedColorSize","paletteSelectedClass","$svg","clear","numCanvasses","randomCanvasIndex","canvasBg","Raster","scaleFactorHorizontal","scaleFactorVertical","Layer","14","degrees","deg","radians","delta","pow","toLocaleTimeString","done","res","fail","15","playVideo","videoPlayingClass","main","$video","$videoWrapper","./main"],"mappings":"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AAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAClmCxI,KAAM,SAEN4tB,SAAWtlB,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,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AAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MACl5DxI,KAAM,WAEN4tB,SAAWtlB,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,KAAQF,EAAK,GAAIE,EAAK,KAAQF,EAAK,GAAIE,EAAK,KAAQF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,IAAKE,EAAK,KAAQF,EAAK,IAAKE,EAAK,KAAQF,EAAK,IAAKE,EAAK,KAAQF,EAAK,IAAKE,EAAK,KAAQF,EAAK,IAAKE,EAAK,KAAQF,EAAK,IAAKE,EAAK,KAAQF,EAAK,IAAKE,EAAK,MAASF,EAAK,GAAIE,EAAK,MACvexI,KAAM,UAEN4tB,SAAWtlB,EAAK,GAAIE,EAAK,KAAQF,EAAK,IAAKE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,IAAKE,EAAK,KAAQF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,KACrNxI,KAAM,UAEN4tB,SAAWtlB,EAAK,GAAIE,EAAK,KAAQF,EAAK,GAAIE,EAAK,KAAQF,EAAK,IAAKE,EAAK,KAAQF,EAAK,IAAKE,EAAK,KAAQF,EAAK,GAAIE,EAAK,KAAQF,EAAK,GAAIE,EAAK,MACzIxI,KAAM,UAEN4tB,SAAWtlB,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAC1vCxI,KAAM,UAEN4tB,SAAWtlB,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MACjhDxI,KAAM,UAEN4tB,SAAWtlB,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK;GAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,IAAKE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MAASF,EAAK,GAAIE,EAAK,MACphFxI,KAAM,UAGRwtB,EAAcvsB,UAAUsvB,KAAO,SAAU3C,EAAQ4C,GAE5B,MAAfA,IACFA,EAAc,GAShB,KAAK,GAND5oB,GAAUkoB,EAASW,EACnBC,EAAS,GAAI/C,GAAOC,GACpB+C,IAAgBjM,EAAAA,GAChBkM,EAAc,KACdC,EAAY,EAEPr0B,EAAI,EAAGA,EAAIiE,KAAKqtB,SAAS/wB,OAAQP,IACxCszB,EAAUrvB,KAAKqtB,SAAStxB,GAEpBszB,EAAQ9vB,KAAK6C,QAAQ2tB,IAAe,IACtC5oB,EAAW8oB,EAAOb,oBAAoBC,GACtCW,EAAQ,EAAM7oB,EAAW0mB,EAErB1mB,EAAW+oB,GAAgBF,EAAQhwB,KAAKqX,YAC1C6Y,EAAe/oB,EACfgpB,EAAcd,EAAQ9vB,KACtB6wB,EAAYJ,GAKlB,QACEX,QAASc,EACTH,MAAOI,IAIXrD,EAAcvsB,UAAUgtB,MAAQ,SAAUjuB,EAAM4tB,GAE9C,MAAOntB,MAAKqtB,SAASpqB,KAAK,GAAIiqB,GAAOC,EAAQ5tB,KAGxCwtB,SAGHsD,GAAG,SAASv0B,EAAQU,EAAOJ,GACjC,YAaA,SAASk0B,KACPpyB,OAAOqyB,KACLC,aAAc,UACdC,eACAC,oBAAqB,KACrBC,mBAAoB,KACpBC,iBACAC,UAAW,KACXC,aAAa,EACbC,SACAzK,SAAS,EACT0K,UAAU,EACVC,aAAc,KACdC,WAAY,KACZC,YACAC,UAAW,KACXC,UAAW,KACXC,SACAC,QACAC,WACAC,UAAW,EACXC,aAAc,EACdC,iBAAkB,KAClBC,oBACEC,MAAQ,EACRC,OAAS,EACTC,OAAS,GAEXC,kBAAmB,KACnBC,kBAAmB,KACnBC,wBAAwB,EACxBC,kBAAkB,EAClBC,eAAgB,EAChBC,qBAAsB,KACtBC,IAAK,MA7CT7xB,OAAOgsB,eAAerwB,EAAS,cAC7BgR,OAAO,IAEThR,EAAQk0B,YAAcA,CACtB,IAAInkB,GAAQrQ,EAAQ,WAChBy2B,EAAKz2B,EAAQ,QACb02B,EAAW12B,EAAQ,cAEnB22B,GADQ32B,EAAQ,WACPA,EAAQ,aACjB42B,EAAO52B,EAAQ,SAwCnB62B,GAAEx0B,UAAUy0B,MAAM,WAChB,QAASC,KACPvC,IACAoC,EAAKI,SACLP,EAAG5tB,OACHwH,EAAMxH,OACN6tB,EAAS7tB,OACT8tB,EAAO9tB,OAGT,IACEkuB,IACA,MAAOv3B,GACPuE,QAAQ4f,MAAMnkB,GACdoD,WAAW,WAETikB,SAASoQ,UACR,UAIJC,aAAa,EAAEC,WAAW,GAAGC,UAAU,GAAGC,OAAO,GAAGC,SAAS,GAAGC,UAAU,KAAKC,GAAG,SAASx3B,EAAQU,EAAOJ,GAC7G,YAqCA,SAASm3B,GAAYC,GACnB,GAAIt1B,OAAOqyB,IAAIiC,YAAa,EAC5B,GAAIiB,EAAYC,SAASF,GAQvB,OAPAG,IACAC,EAASC,qBACTC,EAAMC,SAASC,GACfF,EAAM3xB,KAAK,uBAAuBmX,GAAG2a,EAAU,WAC7CN,MAGMH,GACN,IAAK,QACHU,GACA,MACF,KAAK,cACCxB,EAAKyB,oBACPC,IAEAl2B,OAAOqyB,IAAI0B,kBAAoBvzB,WAAW,WACxC60B,EAAY,gBACXd,EAAO4B,gBAAkB,EAE9B,MACF,KAAK,eACHC,GACA,MACF,KAAK,WACHC,GACA,MACF,KAAK,OACHC,GACA,MACF,KAAK,QACHC,QAIJ50B,SAAQD,IAAI,iCAAkC4zB,GAIlD,QAASU,KACPJ,EAAMC,SAAS,gBAGjB,QAASK,KACPN,EAAMC,SAAS,sBAGjB,QAASO,KACPR,EAAMC,SAAS,uBAGjB,QAASQ,KACPT,EAAMC,SAAS,mBAEflc,aAAa3Z,OAAOqyB,IAAIyB,mBACxBna,aAAa3Z,OAAOqyB,IAAI0B,mBAExB/zB,OAAOqyB,IAAIyB,kBAAoBtzB,WAAW,WACxCg2B,EAAMC,qBACLlC,EAAOmC,yBAGZ,QAASJ,KACPV,EAAMC,SAAS,eACfc,IAGF,QAASJ,KACPX,EAAMC,SAAS,gBAIjB,QAASe,KACP,GAAIC,GAAOjB,EAAM3xB,KAAK,uBAClB6yB,EAAOD,EAAKE,OAAO34B,OAASy4B,EAAKE,OAASC,EAAWC,QACrDC,EAAQJ,EAAKC,OAAO34B,OAAS04B,EAAKC,OAASC,EAAWC,QACtDE,EAASD,EAAMH,OAAO34B,OAAS84B,EAAMH,OAASC,EAAWC,QAAQF,OACjEK,EAAQN,EAAKjjB,OACjBgjB,GAAKQ,cAAcxB,SAAS,UAC5BiB,EAAKO,cAAcxB,SAAS,WAC5BqB,EAAMG,cAAcxB,SAAS,QAC7BsB,EAAOE,cAAcxB,SAAS,SAC9ByB,EAAkBF,EAAQ,EAAGG,GAC7B/2B,WAAW,WACTq2B,EAAKQ,eACJ,KAIL,QAASG,KACP,GAAIC,GAAwB,CAE5B7B,GAAM3xB,KAAK,YAAYmX,GAAG2a,EAAU,SAAU34B,GAC5C,GAAIuoB,GAAcjS,KAAK7K,KACnB4uB,GAAwB9R,EAAc,MAG1C8R,EAAwB9R,EAEwB,GAA5C8O,EAAEr3B,EAAEgG,QAAQs0B,QAAQ,cAAct5B,OAEpCw4B,IAGAnB,OAKN,QAASkC,KACPX,EAAWK,cACXO,EAAYC,KAAK,IAInB,QAASpC,KACPG,EAAMyB,YAAY,kBAClBzB,EAAMyB,YAAYS,GAClBH,IAIF,QAAShB,KACP,GAAIG,GAAOE,EAAWC,QAClBC,EAAQJ,EAAKC,OAAO34B,OAAS04B,EAAKC,OAASC,EAAWC,QACtDE,EAASD,EAAMH,OAAO34B,OAAS84B,EAAMH,OAASC,EAAWC,QAAQF,MACrEC,GAAWK,cACXP,EAAKO,cAAcxB,SAAS,WAC5BqB,EAAMG,cAAcxB,SAAS,QAC7BsB,EAAOE,cAAcxB,SAAS,SAC9ByB,EAAkB,EAAGC,GAIvB,QAASD,GAAkBS,EAASC,GAClCC,EAAQh0B,KAAK,YAAY4zB,KAAKE,GAC9BE,EAAQh0B,KAAK,SAAS4zB,KAAKG,GAI7B,QAASE,KAEPN,EAAYO,KAAK,gBAEjBC,EAAan0B,KAAK,QAAQmX,GAAG2a,EAAU,SAAU34B,GAC/C,GAAIi7B,GAAcT,EAAYC,OAAOS,WAAa7D,EAAEr3B,EAAEgG,QAAQy0B,OAAOS,UACrED,GAAcT,EAAYW,OAAOF,GACjCT,EAAYC,KAAKQ,KAGnBD,EAAan0B,KAAK,UAAUmX,GAAG2a,EAAU,SAAU34B,GACjDw6B,EAAYC,KAAK,MAOrB,QAASW,KACP5C,EAAM3xB,KAAK,sBAAsBnD,KAAK,SAAUjD,EAAG46B,GACjDhE,EAAEgE,GAAIC,KAAK,UAAW76B,KAI1B,QAAS86B,KACPnB,IAGF,QAASoB,KACPV,IACAM,IAGF,QAAS/xB,KACPkyB,IACAC,IApNFr2B,OAAOgsB,eAAerwB,EAAS,cAC7BgR,OAAO,IAEThR,EAAQm3B,YAAcA,EACtBn3B,EAAQ04B,YAAcA,EACtB14B,EAAQu3B,sBAAwBA,EAChCv3B,EAAQuI,KAAOA,CACf,IAEIwH,IAFSrQ,EAAQ,kBAETA,EAAQ,YAChB44B,EAAQ54B,EAAQ,WAChB22B,EAAS32B,EAAQ,YACjB83B,EAAW93B,EAAQ,cACnB42B,EAAO52B,EAAQ,UAIfg4B,GAFe3nB,EAAM4qB,aAEbpE,EAAE,SACVsB,EAAW,kBAEX+C,EAAalD,EAAM3xB,KAAK,4BACxB+yB,EAAa8B,EAAW70B,KAAK,WAC7BszB,EAAaP,EAAW54B,OACxB65B,EAAUrC,EAAM3xB,KAAK,yBAErB2zB,EAAchC,EAAM3xB,KAAK,UACzBm0B,EAAexC,EAAM3xB,KAAK,WAE1BsxB,GAAe,QAAS,cAAe,eAAgB,WAAY,OAAQ,SAC3EuC,EAAqBvC,EAAYwD,IAAI,SAAUC,GACjD,MAAOA,GAAU,YAChBthB,KAAK,KAEJoe,EAAqB,mBAsLtBpH,iBAAiB,EAAEqG,WAAW,GAAGC,UAAU,GAAGiE,aAAa,GAAG/D,SAAS,GAAGC,UAAU,KAAK+D,GAAG,SAASt7B,EAAQU,EAAOJ,GACvH,YAmCA,SAASi7B,GAAgBC,GACvBz3B,QAAQD,IAAI,aAAc03B,EAC1B,IAAIC,GAAY,GAAIC,KACpBD,GAAUh4B,KAAO,OAEjB,IAAIk4B,GAAa,GAAID,KACrBC,GAAWl4B,KAAO,QAClB,IAAIm4B,MACAzwB,EAAQ,OAER0wB,EAAW,KACXC,EAAc,KACdC,EAAU,KACVC,EAAa,IAEjB,MAAMR,EAAWh7B,OAAS,GAAI,MAAO,IAAIy7B,OAAMR,EAAWE,EAG1DA,GAAW5mB,IAAIymB,EAAWU,aAAavJ,MAEvC,KAAK,GAAI1yB,GAAI,GAAIA,EAAIu7B,EAAWh7B,OAAS,GAAIP,GAAK,GAAI,CACpD,KAAO27B,EAAMp7B,OAAS,IACpBo7B,EAAM1Q,OAGR,IAAIiR,GAAuB,EAAhBluB,KAAKwd,QAChBmQ,GAAMz0B,KAAKg1B,EAGX,KAAK,GADDC,GAAU,EACLxc,EAAI,EAAGA,EAAIgc,EAAMp7B,OAAQof,IAChCwc,GAAWR,EAAMhc,EAEnB,IAAIyc,GAAUpuB,KAAKsZ,IAAI,GAAI6U,EAAUR,EAAMp7B,OAAS27B,GAAQ,GAExDG,EAAYd,EAAWe,WAAWt8B,EAAI,IACtCu8B,EAAYhB,EAAWe,WAAWt8B,EAAI,IACtC0yB,EAAQ,GAAI8J,QAAOH,EAAUvwB,EAAIywB,EAAUzwB,GAAK,GAAIuwB,EAAUrwB,EAAIuwB,EAAUvwB,GAAK,EAErFd,GAAQ8C,KAAKE,MAAMquB,EAAUvwB,EAAIqwB,EAAUrwB,EAAGuwB,EAAUzwB,EAAIuwB,EAAUvwB,EAEtE,IAAI2wB,GAAO/J,EAAM5mB,EAAIkC,KAAK2kB,IAAIznB,EAAQ8C,KAAKG,GAAK,GAAKiuB,EACjDM,EAAOhK,EAAM1mB,EAAIgC,KAAK4kB,IAAI1nB,EAAQ8C,KAAKG,GAAK,GAAKiuB,EACjDO,EAAM,GAAIH,OAAMC,EAAMC,GAEtBE,EAAUlK,EAAM5mB,EAAIkC,KAAK2kB,IAAIznB,EAAQ8C,KAAKG,GAAK,GAAKiuB,EACpDS,EAAUnK,EAAM1mB,EAAIgC,KAAK4kB,IAAI1nB,EAAQ8C,KAAKG,GAAK,GAAKiuB,EACpDU,EAAS,GAAIN,OAAMI,EAASC,EAEhCrB,GAAU1mB,IAAI6nB,GACdnB,EAAUuB,OAAO,EAAGD,GACpBpB,EAAW5mB,IAAI4d,GAEN,IAAL1yB,GACF47B,EAAWe,EACXd,EAAciB,IAQdhB,EAAUa,EACVZ,EAAae,GAiBjB,GAAIvB,EAAWyB,UAAW,EAAM,CAC9B,GAAIC,GAAY,GAAIT,QAAOZ,EAAS9vB,EAAIgwB,EAAQhwB,GAAK,GAAI8vB,EAAS5vB,EAAI8vB,EAAQ9vB,GAAK,GAC/EkxB,EAAe,GAAIV,QAAOX,EAAY/vB,EAAIiwB,EAAWjwB,GAAK,GAAI+vB,EAAY7vB,EAAI+vB,EAAW/vB,GAAK,GAC9FnB,EAAS,GAAI2xB,QAAOS,EAAUnxB,EAAIoxB,EAAapxB,GAAK,GAAImxB,EAAUjxB,EAAIkxB,EAAalxB,GAAK,EAE5FwvB,GAAU1mB,IAAImoB,GACdzB,EAAUuB,OAAO,EAAGG,GACpBxB,EAAW5mB,IAAIjK,GAOf2wB,EAAU1mB,IAAI8mB,GACdJ,EAAUuB,OAAO,EAAGlB,GACpBH,EAAWsB,QAAS,EAoCtBxB,EAAU2B,SACVzB,EAAWyB,SACX3B,EAAUh4B,KAAO,QACjBk4B,EAAWl4B,KAAO,QAClB,IAAI45B,GAAc,GAAIpB,OAAMR,EAAWE,EACvC,OAAO0B,GAGT,QAASC,GAAcjN,GACrB,GAAIkN,GAAYlN,EAAKmN,OACrBD,GAAUE,SAAU,CACpB,IAAIC,GAAgBC,EAAiBJ,GAGjCK,EAAYF,CAKhB,OAHAE,GAAUC,YAAcN,EAAUM,YAElCN,EAAUhgB,SACHqgB,EAIT,QAASD,GAAiBtN,GACxB,GAAIkN,GAAYlN,EAAKmN,OACrBD,GAAUE,SAAU,EACpBF,EAAUO,SACVP,EAAUQ,UAEV,IAAIC,GAAgBT,EAAUU,kBAE9B,IAAID,EAAcx9B,OAAS,EAAG,CAE5B,GAAI09B,GAAcC,EAAeZ,EAIjC,OAFAA,GAAUhgB,SAEH2gB,EAGP,GAAIE,GAAeC,EAAgBd,GAC/Be,EAAiBF,EAAaH,kBAIlC,IAAIK,EAAe99B,OAAS,EAAG,CAE7B,GAAI+9B,GAAeJ,EAAeC,EAElC,OADAA,GAAa7gB,SACNghB,EAGPH,EAAa7gB,SACb6gB,EAAeI,EAAqBjB,EACpC,IAAIkB,GAAkBL,EAAaH,kBAEnC,IAAIQ,EAAgBj+B,OAAS,EAAG,CAC9B,GAAIk+B,GAAgBP,EAAeC,EAEnC,OADAA,GAAa7gB,SACNmhB,EAGT,MAAOnB,GAKb,QAASoB,GAAmBtO,GAC1B,GAAIuO,MAEAC,EAAYxO,EAAKyO,aACjBC,EAAYC,EAAiBH,GAE7BI,EAAkBC,EAASlL,KAAK+K,EAkBpC,OAhB8B,KAA1BE,EAAgB/K,OAGlB0K,EAAWrL,QAAU,OACrBqL,EAAW1K,MAAQ,KAEf+K,EAAgB/K,MAAQ,GAC1B0K,EAAWrL,QAAU0L,EAAgB1L,QAErCqL,EAAWrL,QAAU,QAEvBqL,EAAW1K,MAAQ+K,EAAgB/K,OAGrCnwB,QAAQD,IAAI86B,GAELA,EAIT,QAASO,GAAgBxM,GACvB,MAAO,IAAI8J,OAAMxuB,KAAKmxB,MAAMzM,EAAM5mB,GAAIkC,KAAKmxB,MAAMzM,EAAM1mB,IAGzD,QAASozB,GAAe1M,GACtB,MAAO1kB,MAAKmxB,MAAMzM,EAAM5mB,GAAK,IAAMkC,KAAKmxB,MAAMzM,EAAM1mB,GAGtD,QAASqzB,GAAWC,GAClB,GAAI/4B,GAAQ+4B,EAAS/4B,MAAM,KAAK20B,IAAI,SAAUjU,GAC5C,MAAOjZ,MAAKmxB,MAAMlY,IAGpB,OAAI1gB,GAAMhG,QAAU,EACX,GAAIi8B,OAAMj2B,EAAM,GAAIA,EAAM,IAG5B,KAGT,QAASg5B,GAA4B7M,EAAO0C,GAC1C,GAAIoK,GAAgB,OAChBC,EAAe,MAUnB,OARAC,MAAKz8B,KAAKmyB,EAAU,SAAUuK,EAAO3/B,GACnC,GAAIoL,GAAWsnB,EAAMrnB,YAAYs0B,EAAMjN,SAClC8M,GAAiBp0B,EAAWo0B,KAC/BA,EAAgBp0B,EAChBq0B,EAAeE,EAAMjN,SAIlB+M,GAAgB/M,EAGzB,QAASqM,GAAiBa,GACxB,GAAIC,MACAC,EAAUC,KAAKC,MAAMJ,GAAM,EAE/B,IAAI,YAAcE,GAAS,CACzB,GAAIG,GAAWH,EAAQG,QACvBP,MAAKz8B,KAAKg9B,EAAU,SAAUC,EAASlgC,GACrC,GAAuB,IAAnBkgC,EAAQ3/B,OAAc,CACxB,GAAI4/B,GAAeD,EAAQ,EAC3BL,GAAY34B,MACV4E,EAAGq0B,EAAa,GAChBn0B,EAAGm0B,EAAa,SAGlBN,GAAY34B,MACV4E,EAAGo0B,EAAQ,GACXl0B,EAAGk0B,EAAQ,OAKnB,MAAOL,GAGT,QAASO,GAAmBhQ,GAC1B,GAAIO,GAAcH,EAAMG,YAEpB0P,KAEA/C,EAAYlN,EAAKmN,OAAQR,QAAQ,IACjCgB,EAAgBT,EAAUU,kBAE9B,IAAID,EAAcx9B,OAAS,EAAG,CAC5B,GAAI+/B,GAAchD,EAAUiD,kBAG5B,IAA8B,iBAA1BD,EAAYE,UACdd,KAAKz8B,KAAKq9B,EAAYG,SAAU,SAAUr8B,EAAOpE,GAC/C,GAAIoE,EAAM7D,OAAS,GAAK6D,EAAM44B,OAAQ,CACpC,GAAI0D,GAAet8B,EAAMm5B,OAAQR,QAAQ,GACrCO,GAAUN,QACZ0D,EAAaC,UAAYrD,EAAUsD,YACnCF,EAAarrB,KAAKwrB,UAAW,EAC7BH,EAAarrB,KAAKsb,aAAc,IAEhC+P,EAAaC,UAAYhQ,EACzB+P,EAAarrB,KAAKsb,aAAc,GAElC+P,EAAarrB,KAAKwrB,UAAW,EAC7BH,EAAalD,SAAU,EACvBkD,EAAa1D,QAAS,EACtBqD,EAAen5B,KAAKw5B,UAIxB,IAAIpD,EAAUN,OAAQ,CACpB,GAAI0D,GAAepD,EAAUC,OAAQR,QAAQ,GAC7C2D,GAAalD,SAAU,EACvBkD,EAAaC,UAAYrD,EAAUsD,YACnCF,EAAarrB,KAAKwrB,UAAW,EAC7BH,EAAarrB,KAAKsb,aAAc,EAChC0P,EAAen5B,KAAKw5B,QAIxB,IAAIpD,EAAUN,OAAQ,CACpB,GAAI8D,GAAgBxD,EAAUC,OAAQR,QAAQ,GAC9C+D,GAActD,SAAU,EACxBsD,EAAcH,UAAYrD,EAAUsD,YACpCE,EAAczrB,KAAKwrB,UAAW,EAC9BC,EAAczrB,KAAKsb,aAAc,EACjC0P,EAAen5B,KAAK45B,GAIxB,MAAOT,GAGT,QAASjC,GAAgBhO,GACvB,GAEI+N,IAFaj6B,UAAU3D,OAAS,GAAsB+B,SAAjB4B,UAAU,IAAmBA,UAAU,GAE7DksB,EAAKmN,QACxBY,GAAaX,SAAU,CAEvB,IAAIuD,GAAgBC,EAA0B7C,EAAa59B,OAEvD07B,EAAekC,EAAalC,aAC5BgF,EAAchF,EAAa/C,KAC3BgI,EAAalzB,KAAKE,MAAM+yB,EAAYvO,MAAM1mB,EAAIiwB,EAAavJ,MAAM1mB,EAAGi1B,EAAYvO,MAAM5mB,EAAImwB,EAAavJ,MAAM5mB,GAC7Gq1B,EAAoBD,EAAalzB,KAAKG,GACtCizB,EAAqB,GAAI5E,OAAMP,EAAavJ,MAAM5mB,EAAIkC,KAAK2kB,IAAIwO,GAAqBJ,EAAgB,EAAG9E,EAAavJ,MAAM1mB,EAAIgC,KAAK4kB,IAAIuO,GAAqBJ,EAAgB,EAChL5C,GAAapB,OAAO,EAAGqE,EAEvB,IAAIC,GAAclD,EAAakD,YAC3BC,EAAaD,EAAYE,SACzBC,EAAWxzB,KAAKE,MAAMmzB,EAAY3O,MAAM1mB,EAAIs1B,EAAW5O,MAAM1mB,EAAGq1B,EAAY3O,MAAM5mB,EAAIw1B,EAAW5O,MAAM5mB,GACvG21B,EAAmB,GAAIjF,OAAM6E,EAAY3O,MAAM5mB,EAAIkC,KAAK2kB,IAAI6O,GAAYT,EAAgB,EAAGM,EAAY3O,MAAM1mB,EAAIgC,KAAK4kB,IAAI4O,GAAYT,EAAgB,EAG1J,OAFA5C,GAAarpB,IAAI2sB,GAEVtD,EAGT,QAASI,GAAqBnO,GAC5B,GAAI+N,GAAe/N,EAAKmN,OACxBY,GAAaX,SAAU,CAEvB,IAAIuD,GAAgBC,EAA0B7C,EAAa59B,OACvDmhC,EAAavD,EAAalC,aAAavJ,MACvCiP,EAAYxD,EAAakD,YAAY3O,KAOzC,OALIgP,GAAWr2B,YAAYs2B,GAAaZ,IACtC5C,EAAapB,OAAO,EAAG4E,GACvBxD,EAAarpB,IAAI4sB,IAGZvD,EAGT,QAASD,GAAe9N,GACtB,GAAIkN,GAAYlN,EAAKmN,OACrBD,GAAUE,SAAU,CAEpB,IAAIkE,GAAapE,EAAUrB,aAAavJ,MACpCiP,EAAYrE,EAAU+D,YAAY3O,MAClCqO,EAAgBC,EAA0B1D,EAAU/8B,OAEpDw9B,EAAgBT,EAAUU,kBAE9B,IAA4B,GAAxBD,EAAcx9B,OAAa,CAC7B,IAAK,GAAIP,GAAI,EAAGA,EAAI+9B,EAAcx9B,OAAQP,IAAK,CAC7C,GAAI4hC,GAAoB7D,EAAc/9B,GAAG0yB,KAGzC,IAAIgP,EAAWr2B,YAAYu2B,GAAqBD,EAAUt2B,YAAYu2B,GAAqB,EAAIb,EAAe,CAC5Gj9B,QAAQD,IAAI,gBACZ,IAAIy8B,GAAchD,EAAUC,OAC5B+C,GAAY9C,SAAU,CACtB,IAAIqE,GAAgBvB,EAAYC,kBAEhC,IAAgC,iBAA5BsB,EAAcrB,WAAgCqB,EAAcpB,SAASlgC,OAAS,EAChF,IAAK,GAAIof,GAAI,EAAGA,EAAIkiB,EAAcpB,SAASlgC,OAAQof,IAAK,CACtD,GAAIvb,GAAQy9B,EAAcpB,SAAS9gB,EAC/Bvb,GAAM44B,SAERsD,EAAcA,EAAYwB,SAAS19B,IAOzC,GAAI65B,GAAcX,EAAUwE,SAASxB,EACrC,IAA2B,IAAvBrC,EAAY19B,OAAc,MAAO+8B,EACrC,IAA8B,iBAA1BW,EAAYuC,WAAgCvC,EAAYwC,SAASlgC,OAAS,EAAG,CAC/E,GAAIwhC,GAAO,WACT,GAAIC,KASJ,IARA/D,EAAYwC,SAASr9B,QAAQ,SAAUgB,EAAOpE,GAC5C,GAAIoE,EAAM7D,OAAS,GAAK6D,EAAM44B,OAAQ,CACpC,GAAIiF,GAAa79B,EAAMm5B,OACvB0E,GAAWzE,SAAU,EACrBwE,EAAe96B,KAAK+6B,MAIpBD,EAAezhC,OAAS,EAAG,CAC7B,GAAIyhC,EAAezhC,OAAS,EAAG,CAI7B,IAAK,GAFD2hC,GAAcF,EAAe,GAExBG,EAAK,EAAGA,EAAKH,EAAezhC,OAAQ4hC,IAC3CD,EAAcA,EAAYE,MAAMJ,EAAeG,GAGjD,IAAID,EAAY3hC,OAAS,GAA+B,SAA1B2hC,EAAY1B,UAAsB,CAC9D18B,QAAQD,IAAI,sBAAuBq+B,EACnC,IAAIG,GAAU,GAAI5G,KAOlB,OANA4G,GAAQC,YAAYJ,GACpBG,EAAQE,eAAejF,GACvB4E,EAAY5kB,SACZggB,EAAUhgB,SACVgjB,EAAYhjB,SACZ2gB,EAAY3gB,UAEVnQ,EAAGk1B,IAST,MAJA/E,GAAUhgB,SACVgjB,EAAYhjB,SACZ2gB,EAAY3gB,SACZxZ,QAAQD,IAAI,4BAA6Bm+B,EAAe,KAEtD70B,EAAG60B,EAAe,OAKxB,IAAoE,YAA/C,mBAATD,GAAuB,YAAcS,EAAQT,IAAqB,MAAOA,GAAK50B,EAQ5F,MALArJ,SAAQD,IAAI,sBAAuBo6B,GACnCn6B,QAAQD,IAAI,aAAcy5B,GAC1Bx5B,QAAQD,IAAI,cAAey8B,GAC3BhD,EAAUhgB,SACVgjB,EAAYhjB,SACL2gB,GAKX,MAAOX,GAEP,MAAOA,GAIX,QAASmF,GAAmB/P,GAC1B,GAAIgQ,GAAS/L,EAAKgM,cAClB,OAAOC,GAAclQ,EAAOgQ,GAG9B,QAASE,GAAclQ,EAAO+N,GAC5B,IAAK/N,EAAO,MAAO,KAEnB,KAAK,GAAI1yB,GAAIygC,EAASlgC,OAAS,EAAGP,GAAK,EAAGA,IAAK,CAC7C,GAAIoE,GAAQq8B,EAASzgC,EACRoE,GAAMy+B,YACnB,IAAInQ,EAAMoQ,SAAS1+B,EAAMy+B,cACvB,MAAOz+B,GAIX,MAAO,MAhhBTM,OAAOgsB,eAAerwB,EAAS,cAC7BgR,OAAO,GAGT,IAAImxB,GAA4B,kBAAXO,SAAoD,gBAApBA,QAAO5/B,SAAwB,SAAUD,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAX6/B,SAAyB7/B,EAAI0B,cAAgBm+B,QAAU7/B,IAAQ6/B,OAAOt+B,UAAY,eAAkBvB,GAEtQ7C,GAAQi7B,gBAAkBA,EAC1Bj7B,EAAQg9B,cAAgBA,EACxBh9B,EAAQq9B,iBAAmBA,EAC3Br9B,EAAQq+B,mBAAqBA,EAC7Br+B,EAAQ6+B,gBAAkBA,EAC1B7+B,EAAQ++B,eAAiBA,EACzB/+B,EAAQg/B,WAAaA,EACrBh/B,EAAQk/B,4BAA8BA,EACtCl/B,EAAQ0+B,iBAAmBA,EAC3B1+B,EAAQ+/B,mBAAqBA,EAC7B//B,EAAQ+9B,gBAAkBA,EAC1B/9B,EAAQk+B,qBAAuBA,EAC/Bl+B,EAAQ69B,eAAiBA,EACzB79B,EAAQoiC,mBAAqBA,EAC7BpiC,EAAQuiC,cAAgBA,CACxB,IAAI5R,GAAgBjxB,EAAQ,wBAExB42B,EAAO52B,EAAQ,UACfywB,EAAQzwB,EAAQ,WAGhBihC,GADqB3gC,EAAQ2iC,mBAAqB,GACxB3iC,EAAQ2gC,wBAA0B,IAE5D/B,EAAW5+B,EAAQ4+B,SAAW,GAAIjO,GAAcA,EAAc8C,cAEjDzzB,GAAQ4iC,YAAc,OAAQ,SAAU,SAAU,WAAY,WAof5EC,UAAU,EAAEC,uBAAuB,EAAE9L,SAAS,KAAK+L,GAAG,SAASrjC,EAAQU,EAAOJ,GACjF,YAwCA,SAASgjC,GAAiBjT,GACxB,GAAIkT,GAAYC,MAAMC,KAAKC,SAAStQ,MAGhC6L,GAFauE,MAAMC,KAAKC,SAASrQ,OAEfsQ,EAAMhF,mBAAmBtO,IAC3CuT,EAAYnT,EAAML,iBAAiBC,EACrB,QAAduT,IAAoBA,EAAY,QAEpC,IAAIC,GAA0BC,EAAezT,EAAK0T,OAAOh4B,EAAIw3B,EAAYS,GACrEC,EAAyBH,EAAezT,EAAK0T,OAAO3Q,MAAQmQ,EAAYS,GAExEE,IAUJ,OATAA,GAASrkB,MAAQ6K,EAAOuU,EAAgB1L,SACxC2Q,EAASC,UAAYN,EACrBK,EAASzc,SAAWwc,EACpBC,EAASE,OAAS/T,EAAK5d,GACvByxB,EAASG,WAAaT,EAChBvT,EAAKpqB,QAAoC,UAA1BoqB,EAAKpqB,OAAOw6B,YAC/ByD,EAASI,QAAUjU,EAAKpqB,OAAOwM,IAG1ByxB,EAGT,QAASK,KACPxgC,QAAQD,IAAI,aAAc1B,OAAOqyB,IAAI4B,kBACjC2B,EAAMwM,SAASC,IACjBzM,EAAMC,SAASyM,GAEfpmB,OAAO0B,MAAK,GAEZ5d,OAAOqyB,IAAIjK,SAAU,EAEjBpoB,OAAOqyB,IAAI4B,oBAAqB,GAClCj0B,OAAOqyB,IAAI4B,kBAAmB,EAC9BsO,EAAiBviC,OAAOqyB,IAAIE,aAAa,IAEzCgQ,EAAiBviC,OAAOqyB,IAAIE,aAAa,KAG3CvyB,OAAOqyB,IAAIjK,SAAU,EACrBwN,EAAMyB,YAAYiL,GAClB3gC,QAAQD,IAAI,wBAIhB,QAAS8gC,KACP,GAAI5kB,GAAO7b,UAAU3D,OAAS,GAAsB+B,SAAjB4B,UAAU,IAAmBA,UAAU,EAEpE6b,IACJ1B,OAAO0B,MAAK,GAGd5d,OAAOqyB,IAAIjK,SAAU,EACrBwN,EAAMyB,YAAYiL,GAElBG,IAGF,QAASC,KACP,GAAIC,MAGA7B,EAAaS,EAAMT,UAWvB,OAVAvD,MAAKz8B,KAAKggC,EAAY,SAAU8B,GAC9B,GAAIC,GAAqB,kBAAoBD,EAAY,IAAMA,EAAY,OAE3EnO,GAAEqO,QAAQD,EAAoB,SAAUE,GACtC,GAAIC,GAAiBC,EAAqBL,EAAWG,GACjDtlB,EAAQ,GAAI6D,MAAK0hB,EACrBL,GAAaC,GAAanlB,MAIvBklB,EAGT,QAASM,GAAqBL,EAAW1vB,GACvC,GAAIgwB,KAQJ,OANAA,GAAW5+B,IAAM4O,EAAKiwB,KAAKpK,IAAI,SAAUxU,GACvC,MAAO,kBAAoBqe,EAAY,IAAMre,IAE/C2e,EAAW3gB,OAASrP,EAAKqP,OACzB2gB,EAAWnhB,MAAO,EAEXmhB,EAGT,QAASxB,GAAerc,GACtB,GAAI+d,GAAmB,GAAKC,EACxBC,EAAiBz3B,KAAKmxB,MAAM3X,EAAW+d,GAAoBA,CAE/D,OAAIE,GAAiB,EACZA,EAGAF,EAIX,QAASG,GAAiBC,EAAUrC,GAClC,GAAIsC,GAAmBtC,GAAa,EAAIuC,EACxC,OAAOC,gBAAiB93B,KAAKmxB,MAAMwG,EAAWC,GAAoBA,EAGpE,QAASG,GAAYrC,GACnB,GAAI7uB,GAAO0uB,MAAMyC,QAAQC,SACvBzF,UAAW,OACX1f,MAAO,SAAe8Z,GACpB,MAAOA,GAAGpoB,KAAOkxB,EAAMS,SAG3B,IAAMtvB,EAAM,CACV,GAAIqxB,GAAQrxB,EAAK7O,MACjBkgC,GAAMC,UACJ7hC,YACE4H,MAAO,KACPk6B,UAAW,GAAI7C,OAAM/G,MAAM,GAAI,GAC/B6J,QAAQ,IAEVC,UACE9e,SAAU,IACV+e,OAAQ,eAGVjiC,YACE4H,MAAO,KACPk6B,UAAW,GAAI7C,OAAM/G,MAAM,GAAI,GAC/B6J,OAAQ,IAEVC,UACE9e,SAAU,IACV+e,OAAQ,eAGVjiC,YACE4H,MAAO,EACPk6B,UAAW,GAAI7C,OAAM/G,MAAM,EAAG,GAC9B6J,OAAQ,GAEVC,UACE9e,SAAU,IACV+e,OAAQ,iBAMhB,QAASC,GAA2BC,GA4BlC,IAAK,GA3BDxiB,IAAQ,SAAejkB,GACzB,GAAI4f,GAAQzd,OAAOqyB,IAAIE,YAAY10B,EAEnC,IAAI,WAAa4f,IACf,GAAIA,EAAMykB,UAAYoC,EAAWj0B,GAE/B,MADArQ,QAAOqyB,IAAIE,YAAY5jB,OAAO9Q,EAAG,IAE/BmN,EAAG,YAGF,IAAI,UAAYyS,GAAO,CAC5B,GAAI/K,GAAO6xB,UACT5lB,MAAO,SAAe8Z,GACpB,MAAOA,GAAGpoB,KAAOoN,EAAMukB,SAG3B,IAAItvB,EAAKtU,OAAS,GACVsU,EAAK7O,QAAoC,UAA1B6O,EAAK7O,OAAOw6B,WAAyB3rB,EAAK7O,OAAOwM,KAAOi0B,EAAWj0B,GAEtF,MADArQ,QAAOqyB,IAAIE,YAAY5jB,OAAO9Q,EAAG,IAE/BmN,EAAG,WAOJnN,EAAI,EAAGA,EAAImC,OAAOqyB,IAAIE,YAAYn0B,OAAQP,IAAK,CACtD,GAAI+hC,GAAO9d,EAAMjkB,EAEjB,IAAoE,YAA/C,mBAAT+hC,GAAuB,YAAcS,EAAQT,IAAqB,MAAOA,GAAK50B,GAI9F,QAASw5B,KACHxkC,OAAOqyB,IAAIK,cAAct0B,OAAS,GACpC4B,OAAOqyB,IAAIK,cAAczxB,QAAQ,SAAUwjC,GACzC9qB,aAAa8qB,KAIjBzkC,OAAOqyB,IAAIK,iBAGb,QAAS6P,GAAiBhQ,GAUxB,QAASmS,KACPF,IACA7iC,QAAQD,IAAI,iCACZ,IAAIijC,GAAwBC,EAAyBrS,EAErDgL,MAAKz8B,KAAK6jC,EAAsBpS,YAAa,SAAUgP,EAAO1jC,GAC5D,GAAI4mC,GAAejkC,WAAW,WAC5B,MAAKR,QAAOqyB,IAAIjK,QAKS,OAArBmZ,EAAMU,eACRtgC,SAAQD,IAAI,kBAAmB,YAAa6/B,IAG5C5/B,QAAQD,IAAI,WAAY6/B,GAE1BA,EAAM9jB,MAAM4G,KAAKkd,EAAMU,gBACvB2B,GAAYrC,QAXV5/B,SAAQD,IAAI,0BAYb6/B,EAAMQ,UACT/hC,QAAOqyB,IAAIK,cAAc3tB,KAAK0/B,KAGhCI,IACA7kC,OAAOqyB,IAAII,mBAAqBjyB,WAAWskC,EAAmBlD,EAAoB+C,EAAsB5C,WAG1G,QAASgD,KACPP,IACA7iC,QAAQD,IAAI,UACZ67B,KAAKz8B,KAAKyxB,EAAa,SAAUgP,EAAO1jC,GACtC,GAAI4mC,GAAejkC,WAAW,WAC5B,MAAKR,QAAOqyB,IAAIjK,SAKhBmZ,EAAM9jB,MAAM4G,KAAKkd,EAAMU,gBACvB2B,GAAYrC,QALV5/B,SAAQD,IAAI,0BAMb6/B,EAAMQ,UACT/hC,QAAOqyB,IAAIK,cAAc3tB,KAAK0/B,KAEhCI,IAGF,QAASC,KACH/iB,KAAS,GACXgjB,IACA/kC,OAAOqyB,IAAIG,oBAAsB5K,YAAYmd,EAAqBnD,IAE9DiD,EAAa,GACfE,IACAvkC,WAAWskC,EAAmBlD,KAE9BjgC,QAAQD,IAAI,eACZ8gC,IACAlO,EAASe,YAAY,iBAlE3B,GAAItT,GAAOhgB,UAAU3D,OAAS,GAAsB+B,SAAjB4B,UAAU,IAAmBA,UAAU,EAE1E0gC,KAEA9gC,QAAQD,IAAIk0B,EAEZ,IAAIiP,GAAa,CACjBH,KAiEF,QAASjC,KACP1a,cAAc/nB,OAAOqyB,IAAIG,qBACzB7Y,aAAa3Z,OAAOqyB,IAAII,oBACxB+R,IAGF,QAASI,GAAyBrS,GAChC,GACIyS,MACAjD,EAAYkD,EAAwB1S,EASxC,OAPAA,GAAYtxB,QAAQ,SAAUwc,GAC5B,GAAIynB,GAAgBznB,CACpBynB,GAAcnD,WAAaA,EACvBmD,EAAcnD,UAAY,IAAGmD,EAAcnD,UAAY,GAC3DiD,EAAmBjgC,KAAKmgC,MAIxB3S,YAAayS,EACbjD,UAAWA,GAIf,QAASkD,GAAwB1S,GAC/B,GAAIwP,GAAYH,CAYhB,OAVArP,GAAYtxB,QAAQ,SAAUwc,GAC5B9b,QAAQD,IAAI+b,GACZ9b,QAAQD,IAAI+b,EAAMskB,WACd,aAAetkB,IAASA,EAAMskB,UAAYA,IAC5CA,EAAYtkB,EAAMskB,aAItBpgC,QAAQD,IAAI,aAAcqgC,GAEtBA,IAAcH,EACTG,EAEA,EAzVXx/B,OAAOgsB,eAAerwB,EAAS,cAC7BgR,OAAO,GAGT,IAAImxB,GAA4B,kBAAXO,SAAoD,gBAApBA,QAAO5/B,SAAwB,SAAUD,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAX6/B,SAAyB7/B,EAAI0B,cAAgBm+B,QAAU7/B,IAAQ6/B,OAAOt+B,UAAY,eAAkBvB,GAEtQ7C,GAAQgjC,iBAAmBA,EAC3BhjC,EAAQikC,aAAeA,EACvBjkC,EAAQskC,YAAcA,EACtBtkC,EAAQwkC,gBAAkBA,EAC1BxkC,EAAQ+kC,qBAAuBA,EAC/B/kC,EAAQwjC,eAAiBA,EACzBxjC,EAAQqlC,iBAAmBA,EAC3BrlC,EAAQmmC,2BAA6BA,EACrCnmC,EAAQsmC,mBAAqBA,EAC7BtmC,EAAQqkC,iBAAmBA,EAC3BrkC,EAAQukC,gBAAkBA,EAC1BvkC,EAAQ0mC,yBAA2BA,EACnChnC,EAAQ,SAER,IACI2jC,IADK3jC,EAAQ,QACLA,EAAQ,YAChBywB,EAAQzwB,EAAQ,WAChB02B,EAAW12B,EAAQ,cAEnB0qB,EAASoa,IAET9M,EAAQnB,EAAE,QAEViP,EAAW,EACXL,EAAM,IACN8B,EAAa,GAAK9B,EAAM,IACxB+B,EAA6B,EAAbD,EAChBvD,EAAoB1jC,EAAQ0jC,kBAAoBwD,EAAgB1B,EAEhEpB,EAAepkC,EAAQokC,aAAe,UACtCD,EAAmBnkC,EAAQmkC,iBAAmB,iBAyT/CtB,UAAU,EAAEjM,aAAa,EAAEuQ,UAAU,EAAEpQ,OAAO,GAAGqQ,OAAS,IAAIC,IAAI,SAAS3nC,EAAQU,EAAOJ,GAC7F,YAmBA,SAASuI,KACHzG,OAAOykB,SAAS+gB,KAAKpnC,OAAS,GAA6B,QAAxB4B,OAAOykB,SAAS+gB,MACrDxlC,OAAOqyB,IAAIiC,UAAW,EACtBkC,EAAMiP,aACNjP,EAAMkP,oBAENlP,EAAMC,oBAIV,QAASkP,KACPhkC,QAAQD,IAAI,oBAAsB8yB,EAAKoR,WAGvCjsB,aAAa3Z,OAAOqyB,IAAIyB,mBAExB9zB,OAAOqyB,IAAIyB,kBAAoBtzB,WAAW,WACxC8zB,EAASe,YAAY,aACpBwQ,GAnCLtjC,OAAOgsB,eAAerwB,EAAS,cAC7BgR,OAAO,IAEThR,EAAQuI,KAAOA,EACfvI,EAAQynC,yBAA2BA,CACnC,IAAIrR,GAAW12B,EAAQ,cACnB44B,EAAQ54B,EAAQ,WAChB42B,EAAO52B,EAAQ,UAIfioC,GAFQpR,EAAE,QAEYv2B,EAAQ2nC,oBAAsB,IAC1B3nC,GAAQw4B,wBAA0B,IAC1Cx4B,EAAQi4B,gBAAkB,IAC/Bj4B,EAAQ4nC,WAAa,IACd5nC,EAAQ6nC,kBAAoB,MAuBjDjR,aAAa,EAAEI,SAAS,GAAGC,UAAU,KAAK6Q,IAAI,SAASpoC,EAAQU,EAAOJ,GACzE,YAuCA,SAASuI,KACPvI,EAAQ+nC,WAAaA,EAAa,GAAI/zB,QAAOG,QAAQgiB,EAAG6R,aACxDD,EAAWtzB,IAAI,GAAIT,QAAOuJ,OAAQ7Q,UAAWsH,OAAO4C,iBACpDmxB,EAAW7qB,GAAG,QAASkZ,EAASsC,aAEhC14B,EAAQ26B,aAAeA,EAAe,GAAI3mB,QAAOG,QAAQgiB,EAAG8R,QAC5DtN,EAAalmB,IAAI,GAAIT,QAAOqJ,KAAMtI,MAAO,YAAa2G,KAAM,EAAGC,SAAU,IAAKN,KAAM,IAAKO,aAAc,MACvG+e,EAAalmB,IAAI,GAAIT,QAAOqJ,KAAMtI,MAAO,eACzC4lB,EAAalmB,IAAI,GAAIT,QAAOsJ,KAAM5Q,UAAWsH,OAAO4C,iBACpD+jB,EAAalmB,IAAI,GAAIT,QAAOwJ,OAE5Bmd,EAAa1nB,IAAI,aAAayB,cAAc,aAE5CimB,EAAa1nB,IAAI,OAAO0B,eAAe,SACvCgmB,EAAa1nB,IAAI,SAAS0B,eAAe,OAGzCgmB,EAAazd,GAAG,YAAagrB,GAE7BvN,EAAazd,GAAG,WAAYirB,GAC5BxN,EAAazd,GAAG,UAAWkrB,GAC3BzN,EAAazd,GAAG,SAAUmrB,GAG1B1N,EAAazd,GAAG,aAAcorB,GAC9B3N,EAAazd,GAAG,YAAaqrB,GAC7B5N,EAAazd,GAAG,WAAYsrB,GAI9B,QAASC,KACPC,IACAC,IAGF,QAASC,KACP,GAAItgC,KAASzE,UAAU3D,OAAS,GAAsB+B,SAAjB4B,UAAU,KAAmBA,UAAU,EAE5EyE,GAASA,KAAW,EACpBqyB,EAAa1nB,IAAI,aAAahC,KAAM3I,OAAQA,IAC5CqyB,EAAa1nB,IAAI,aAAahC,KAAM3I,OAAQA,IAG9C,QAASugC,KACPD,GAAgB,GAGlB,QAASF,KACP,GAAIpgC,KAASzE,UAAU3D,OAAS,GAAsB+B,SAAjB4B,UAAU,KAAmBA,UAAU,EAE5EyE,GAASA,KAAW,EAEpBqyB,EAAa1nB,IAAI,OAAOhC,KAAM3I,OAAQA,IAMxC,QAASwgC,KACPJ,GAAgB,GAGlB,QAASC,KACP,GAAIrgC,KAASzE,UAAU3D,OAAS,GAAsB+B,SAAjB4B,UAAU,KAAmBA,UAAU,EAE5EyE,GAASA,KAAW,EAEpBqyB,EAAa1nB,IAAI,SAAShC,KAAM3I,OAAQA,IAM1C,QAASygC,KACPJ,GAAkB,GA4BpB,QAAST,GAAUnzB,GACjBA,EAAM4E,gBAEN,IAAIqvB,GAAUj0B,EAAMvK,OAChB6nB,EAAQ,GAAI8J,OAAM6M,EAAQv9B,EAAGu9B,EAAQr9B,GACrCs9B,EAAY/F,MAAMyC,QAAQuD,QAAQ7W,EAAO8W,EAE7C,IAAKC,EAAsBr0B,GAA3B,CAEA,GAAIub,GAAcH,EAAMG,WAExB,IAAI2Y,EAAW,CACb,GAAIz0B,GAAOy0B,EAAUz0B,KACjB7O,EAAS6O,EAAK7O,MAElB6xB,GAAS6R,wBAAwB,QAE7B70B,EAAKQ,KAAKwrB,UACZhsB,EAAKQ,KAAKsb,aAAe9b,EAAKQ,KAAKsb,YAE/B9b,EAAKQ,KAAKsb,aACZ9b,EAAK8rB,UAAYhQ,EACjB9b,EAAK+rB,YAAcjQ,IAEnB9b,EAAK8rB,UAAY36B,EAAOqP,KAAKmb,MAC7B3b,EAAK+rB,YAAc56B,EAAOqP,KAAKmb,OAGjCruB,OAAOqyB,IAAIQ,MAAM9tB,MACflF,KAAM,aACNwQ,GAAIqC,EAAKrC,GACTsjB,KAAM9vB,EAAOqP,KAAKmb,MAClBG,YAAa9b,EAAKQ,KAAKsb,eAGzB7sB,QAAQD,IAAI,oBAGd1B,QAAOqyB,IAAIU,aAAe,KAC1BpxB,QAAQD,IAAI,gBAIhB,QAAS2kC,GAASpzB,GAMhB,IAAKq0B,EAAsBr0B,GASzB,MARAjT,QAAOqyB,IAAImV,SAAU,EACrBjT,EAAOoR,2BAEH/P,EAAMwM,SAAS,+BAEjB9N,EAASsC,kBAEX3jB,GAAM5I,SAASo9B,iBAIjBznC,QAAOqyB,IAAImV,SAAU,EACrB9R,EAASC,qBAETkD,EAAavd,IAAI,YAEjB2rB,IACAF,IASAtpB,EAAM+kB,cAENxiC,OAAOqyB,IAAIc,UAAYtnB,KAAKE,MAAMkH,EAAMtI,UAAWsI,EAAMvI,UAEzD,IAAIw8B,GAAUj0B,EAAMvK,OAChB6nB,EAAQ,GAAI8J,OAAM6M,EAAQv9B,EAAGu9B,EAAQr9B,EAEzCwvB,GAAY,GAAIC,MAChBD,EAAUmF,UAAYx+B,OAAOqyB,IAAIC,aAGjCkH,IAEA,IAAItG,GAAY,GAAIoG,OAClBmF,YAAaz+B,OAAOqyB,IAAIC,aACxBjxB,KAAM,YACNo6B,YAAa,EACbJ,SAAS,EACTqM,UAAW,SAGbxU,GAAUvgB,IAAI4d,GAOdvwB,OAAOqyB,IAAIY,SAASsO,EAAMtE,eAAe1M,KACvCA,MAAOA,EACP0G,OAAO,GAGTj3B,OAAOqyB,IAAIa,UAAYA,EAGzB,QAASoT,GAAQrzB,GAGf,GAFAtR,QAAQD,IAAI,YAEP4lC,EAAsBr0B,GAEzB,WADAA,GAAM5I,SAASo9B,iBAGjB,IAAIznC,OAAOqyB,IAAImV,WAAY,EAA3B,CAEA,GAEIN,IAFoB1S,EAAKmT,IAAIpG,EAAMV,oBAEzB5tB,EAAMvK,QAChB6nB,EAAQ,GAAI8J,OAAM6M,EAAQv9B,EAAGu9B,EAAQr9B,GAErCd,EAAQ8C,KAAKE,MAAMkH,EAAMtI,UAAWsI,EAAMvI,WAC1CyoB,EAAYnzB,OAAOqyB,IAAIc,SACVqB,GAAKoT,WAAW7+B,EAAOoqB,EAuBxC,KAtBAnzB,OAAOqyB,IAAIc,UAAYpqB,EAsBhBywB,EAAMp7B,OAAS,IACpBo7B,EAAM1Q,OAER,IAAI0Q,EAAMp7B,OAAS,EAAG,CACT87B,EAAUhxB,YAAYqnB,EAKjCwJ,GAAuB,GAAhBluB,KAAKwd,SAEZ2Q,EAAU,CACV,KAAK,GAAIxc,GAAI,EAAGA,EAAIgc,EAAMp7B,OAAQof,IAChCwc,GAAWR,EAAMhc,EAGnB,IAAIyc,GAAUpuB,KAAKsZ,IAAI,GAAI6U,EAAUR,EAAMp7B,OAAS27B,GAAQ,GAExD8N,GAActX,EAAM5mB,EAAIuwB,EAAUvwB,GAAK,EACvCm+B,GAAcvX,EAAM1mB,EAAIqwB,EAAUrwB,GAAK,EACvCk+B,EAAY,GAAI1N,OAAMwN,EAAYC,GAElCxN,EAAOyN,EAAUp+B,EAAIkC,KAAK2kB,IAAIznB,EAAQ8C,KAAKG,GAAK,GAAKiuB,EACrDM,EAAOwN,EAAUl+B,EAAIgC,KAAK4kB,IAAI1nB,EAAQ8C,KAAKG,GAAK,GAAKiuB,EACrDO,EAAM,GAAIH,OAAMC,EAAMC,GAEtBE,EAAUsN,EAAUp+B,EAAIkC,KAAK2kB,IAAIznB,EAAQ8C,KAAKG,GAAK,GAAKiuB,EACxDS,EAAUqN,EAAUl+B,EAAIgC,KAAK4kB,IAAI1nB,EAAQ8C,KAAKG,GAAK,GAAKiuB,EACxDU,EAAS,GAAIN,OAAMI,EAASC,EAEhCrB,GAAU1mB,IAAI6nB,GACdnB,EAAUuB,OAAO,EAAGD,GACpBtB,EAAU2B,aAEVjB,GAAO,CAGTP,GAAMz0B,KAAKg1B,GACXG,EAAY3J,EAEZvwB,OAAOqyB,IAAIY,SAASsO,EAAMtE,eAAe1M,KACvCA,MAAOA,EACPyX,MAAOn8B,KAAK/B,IAAImJ,EAAMzJ,iBACtBT,MAAOA,GAGT/I,OAAOqyB,IAAIa,UAAUvgB,IAAI4d,GAIzB6Q,MAAMC,KAAK4G,QAGb,QAAS1B,GAAOtzB,GAGd,GAFAtR,QAAQD,IAAI,WAEP4lC,EAAsBr0B,GAEzB,WADAA,GAAM5I,SAASo9B,iBAGjB,IAAIznC,OAAOqyB,IAAImV,WAAY,EAA3B,CAEA,GAAIN,GAAUj0B,EAAMvK,OAChB6nB,EAAQ,GAAI8J,OAAM6M,EAAQv9B,EAAGu9B,EAAQr9B,GAKrCqpB,GAHc7E,EAAMG,YACRH,EAAMD,aAAapuB,OAAOqyB,IAAIC,cAE9BtyB,OAAOqyB,IAAIa,UAQ3B,IAHAA,EAAUvgB,IAAI4d,GACd8I,EAAUgC,SAAU,EAEhBnI,EAAU90B,OAAS8pC,EAOrB,MANAvmC,SAAQD,IAAI,qBACZwxB,EAAU/X,SACV0d,EAAazd,GAAG,WAAYirB,GAC5BM,IACAG,SACA9mC,OAAOqyB,IAAImV,SAAU,EAIvBxnC,QAAOqyB,IAAIY,SAASsO,EAAMtE,eAAe1M,KACvCA,MAAOA,EACP1lB,MAAM,EAOR,IAAIk5B,GAAQ,GAAIlK,OAEZT,EAAamI,EAAMrG,cAAchI,EAGrCvxB,SAAQD,IAAI,mBAAoB4sB,EAAO7vB,QAAQe,UAAUQ,OAAOqyB,IAAIC,cAEpE,IAAI6V,GAAY/O,EAAWsH,aACvB0H,EAAc,GAAI/N,OAAM8N,EAAUnX,MAAQ,EAAGmX,EAAUlX,OAAS,GAChEloB,EAAQyrB,EAAKmT,IAAoB,IAAhB97B,KAAKwd,UACtBgf,GAAgBF,EAAUnX,MAAQmX,EAAUlX,QAAU,EACtDqX,EAAUF,EAAYz+B,EAAIkC,KAAK2kB,IAAIznB,EAAQ8C,KAAKG,GAAK,GAAKq8B,EAC1DE,EAAUH,EAAYv+B,EAAIgC,KAAK4kB,IAAI1nB,EAAQ8C,KAAKG,GAAK,GAAKq8B,EAC1DG,EAAeJ,EAAYz+B,EAAIkC,KAAK2kB,IAAIznB,EAAQ8C,KAAKG,GAAK,GAAKq8B,EAC/DI,EAAeL,EAAYv+B,EAAIgC,KAAK4kB,IAAI1nB,EAAQ8C,KAAKG,GAAK,GAAKq8B,EAE/DK,EAAS,GAAIrO,OAAMiO,EAAUH,EAAUx+B,EAAG4+B,EAAUJ,EAAUt+B,GAC9D4W,EAAc,GAAI4Z,OAAMmO,EAAeL,EAAUx+B,EAAG8+B,EAAeN,EAAUt+B,EA6BjF,IAlBAk6B,EAAM7wB,KAAKib,cAAgBnuB,OAAOqyB,IAAIC,aACtCyR,EAAM7wB,KAAKmb,OACTsa,UACEC,MAAOta,EAAO7vB,QAAQe,UAAUQ,OAAOqyB,IAAIC,eAE7CoW,OAAQA,EACRjoB,YAAaA,GAEfsjB,EAAM7wB,KAAKnJ,MAAQ,EACnBg6B,EAAM7wB,KAAKjJ,SAAW,EAEtBipB,EAAU/X,SACVie,EAAWiC,SAAU,EAErBjC,EAAWqF,YAAc,GAAIhQ,OAAM,EAAG,GACtCzuB,OAAOqyB,IAAIa,UAAYkG,EACvBA,EAAW/3B,KAAO,cAEZ+3B,EAAWh7B,OAAS,GAIxB,MAHAg7B,GAAWje,SACX4oB,EAAM5oB,cACNnb,OAAOqyB,IAAImV,SAAU,EAIvBzD,GAAM8E,SAASzP,EAEf,IAAI0P,GAAgBrrB,EAAMyjB,iBAAiB9H,EAC3Cp5B,QAAOqyB,IAAIE,YAAYxtB,KAAK+jC,GAE5B1P,EAAWiC,SAAU,CACrB,IAAI0N,GAAexH,EAAMpI,gBAAgBC,EACzCz3B,SAAQD,IAAI,eAAgBqnC,EAC5B,IAAIC,GAAUD,EAAaE,eAAeC,MAAM,EAChDF,GAAQxK,UAAYx+B,OAAOqyB,IAAIC,aAC/B0W,EAAQxK,UAAYuF,EAAM7wB,KAAKmb,KAE/B,IAAI8a,GAAgBJ,EAAaE,eAAeG,OAAO,EACvDD,GAAc1K,YAAcsF,EAAM7wB,KAAKmb,MACvC8a,EAAc9N,SAAU,EAExB0I,EAAM8E,SAASG,GAIfA,EAAQK,YAMR,IAAIC,GAAgB/H,EAAMtD,mBAAmBkL,EAgB7C,IAfAxnC,QAAQD,IAAI,gBAAiB4nC,GAC7B/L,KAAKz8B,KAAKwoC,EAAe,SAAUvnB,EAAMlkB,GACvCkmC,EAAM8E,SAAS9mB,GACfA,EAAKsnB,eAKPrpC,OAAOqyB,IAAIQ,MAAM9tB,MACflF,KAAM,WACNwQ,GAAI0zB,EAAM1zB,KAGZgkB,EAAGkV,uBAAuB,MAAO,SAE7BvpC,OAAOqyB,IAAI2B,0BAA2B,EAGxCh0B,OAAOqyB,IAAI0B,kBAAoBvzB,WAAW,WACxC8zB,EAASe,YAAY,gBACpBd,EAAO4B,iBAEVn2B,OAAOqyB,IAAI2B,wBAAyB,MAC/B,CACL,GAAIuM,GAAS/L,EAAKgM,cACdD,GAAOniC,QAAU,IACnBw3B,EAAMC,SAASpY,EAAM4kB,kBACrBhO,EAAGkV,uBAAuB,YAAa,WAEzC5nC,QAAQD,IAAI6+B,EAAOniC,OAAQw3B,EAAMwM,SAAS3kB,EAAM4kB,mBAGlD,GAAI/T,EAAO/vB,cAAe,CACxB,GAAIirC,GAAc,EAClBzF,GAAMC,UACJ7hC,YACE4H,MAAOy/B,GAETrF,UACE9e,SAAU,IACV+e,OAAQ,aAGVjiC,YACE4H,MAAO,EAAIy/B,GAEbrF,UACE9e,SAAU,IACV+e,OAAQ,aAKd,IAAK1O,EAAS+T,mBAAoB,CAChC,GAAI/V,GAAqB1zB,OAAOqyB,IAAIqB,mBAChCgW,EAAU,IAEd,KAAKhW,EAAyB,MAAK0F,EAAWyB,OAC5C6O,EAAU,WACL,CACL,GAAIC,GAAUvI,MAAMyC,QAAQU,UAC1B5lB,MAAO,SAAe8Z,GACpB,MAAwB,UAAjBA,EAAG4F,cAGT3K,EAA0B,OAAKiW,EAAQvrC,QAAU,EACpDsrC,EAAU,SACAhW,EAA0B,OAAKiW,EAAQvrC,QAAU,IAC3DsrC,EAAU,SAIE,OAAZA,IACF/nC,QAAQD,IAAIgoC,EAAU,aACtBhU,EAASkU,iBAAiBF,GAC1B1pC,OAAOqyB,IAAIqB,mBAAmBgW,IAAW,EACzC3F,EAAM7wB,KAAK22B,IAAMH,GAOe,OAAhC1pC,OAAOqyB,IAAIyX,mBACb9pC,OAAOqyB,IAAIyX,iBAAmB,KAE9BtpC,WAAW,WACT8zB,EAASe,YAAYr1B,OAAOqyB,IAAIyX,mBAC/BvV,EAAOwV,eAGZpoC,QAAQD,IAAI,YACZm3B,EAAa1pB,KAAM3I,QAAQ,IAC3BhG,WAAW,WACTq4B,EAAa1pB,KAAM3I,QAAQ,IAC3B7E,QAAQD,IAAI,iBACZm3B,EAAazd,GAAG,WAAYirB,GAC5BM,IACAG,IAEA9mC,OAAOqyB,IAAImV,SAAU,GACpBjT,EAAOuR,aAeZ,QAASU,GAAWvzB,GAYlB,GAXAtR,QAAQD,IAAI,cACZg0B,EAASC,qBACT31B,OAAOqyB,IAAI2X,aAAc,EACzBhqC,OAAOqyB,IAAIS,UAAW,EAItB+F,EAAavd,IAAI,cACjB0rB,IACAD,IAEKO,EAAsBr0B,GAA3B,CAEAtR,QAAQD,IAAI,aAAcuR,EAAMvK,QAChC+U,EAAM+kB,aAEN,IAAI0E,GAAUj0B,EAAMvK,OAChB6nB,EAAQ,GAAI8J,OAAM6M,EAAQv9B,EAAGu9B,EAAQr9B,GACrCs9B,EAAY5F,EAAMjB,mBAAmB/P,EAEzC,IAAI4W,EAYF,GAXAnnC,OAAOqyB,IAAIS,UAAW,EACtB9yB,OAAOqyB,IAAIU,aAAeoU,EAC1BnnC,OAAOqyB,IAAIkB,UAAY,EACvBvzB,OAAOqyB,IAAImB,aAAevgB,EAAMhJ,SAEhCjK,OAAOqyB,IAAIoB,iBAAmB0T,EAAU3D,SACxCxjC,OAAOqyB,IAAI4X,iBAAmB9C,EAAUj0B,KAAKjJ,SAC7CjK,OAAOqyB,IAAI6X,cAAgB/C,EAAUj0B,KAAKnJ,MAE1Co9B,EAAUgD,eAENhD,EAAUj0B,KAAK22B,KAAO1C,EAAUj0B,KAAK22B,IAAIzrC,OAAS,EAAG,CACvD,GAAIgsC,GAAO3V,EAAE,uBAA0B0S,EAAUj0B,KAAK22B,IAAM,KACxDO,GACFpqC,OAAOqyB,IAAIW,WAAaoX,EAExBpqC,OAAOqyB,IAAIW,WAAa,SAG1BhzB,QAAOqyB,IAAIW,WAAa,SAe1BhzB,QAAOqyB,IAAIU,aAAe,KAC1B/yB,OAAOqyB,IAAIW,WAAa,KACxBrxB,QAAQD,IAAI,gBAIhB,QAAS+kC,GAAUxzB,GACjBtR,QAAQD,IAAI,YAGZ,IAEIqxB,IAFYqO,MAAMC,KAAKC,SAAStQ,MACnBoQ,MAAMC,KAAKC,SAASrQ,OAClBjxB,OAAOqyB,IAAIU,cAC1BsX,EAAcrqC,OAAOqyB,IAAIW,UAE7B,IAAMD,EAAc,CAClB,GAAIuX,GAAer3B,EAAMlJ,MACrBwgC,EAAa,MAEjB7U,GAAS6R,wBAAwB,SAI/BgD,EAFExX,EAAa4O,OAAO3Q,MAAQkX,GAAgBnV,EAAa4O,OAAO1Q,OAASiX,EAE9D,IACJnV,EAAa4O,OAAO3Q,OAASoQ,MAAMC,KAAKC,SAAStQ,OAAS+B,EAAa4O,OAAO1Q,QAAUmQ,MAAMC,KAAKC,SAASrQ,OAExG,GAEAqZ,EAAetqC,OAAOqyB,IAAIkB,UAGzCvzB,OAAOqyB,IAAIkB,UAAY+W,CAEvB,IAAIE,GAAkBv3B,EAAMhJ,SACxBwgC,EAAgBD,EAAkBxqC,OAAOqyB,IAAImB,YACjDxzB,QAAOqyB,IAAImB,aAAegX,CAK1B,IAAIpC,GAAcn1B,EAAMvK,MAMxB,IALAqqB,EAAayQ,SAAW4E,EAClBiC,GACJ3U,EAASgV,kBAAkBL,EAAajC,GAGvB,IAAfmC,EAIF,GAHAxX,EAAahpB,MAAMwgC,GAGfxX,EAAa4O,OAAO3Q,OAASoQ,MAAMC,KAAKC,SAAStQ,MAAQ2Z,GAAkB5X,EAAa4O,OAAO1Q,QAAUmQ,MAAMC,KAAKC,SAASrQ,OAAS0Z,EAAgB,CAExJ,GAAIC,GAAU7X,EAAa4O,MAEzB4I,GADEK,EAAQ5Z,MAAQ4Z,EAAQ3Z,OACbmQ,MAAMC,KAAKC,SAAStQ,MAAQ2Z,EAAiBC,EAAQ5Z,MAErDoQ,MAAMC,KAAKC,SAASrQ,OAAS0Z,EAAiBC,EAAQ3Z,OAErE8B,EAAahpB,MAAMwgC,QACVxX,EAAa4O,OAAO3Q,OAASkX,GAAgBnV,EAAa4O,OAAO1Q,QAAUiX,KAElFqC,EADE5I,OAAO3Q,MAAQ2Q,OAAO1Q,OACXiX,EAAevG,OAAO3Q,MAEtBkX,EAAevG,OAAO3Q,MAErC+B,EAAahpB,MAAMwgC,GAGvBxX,GAAamR,OAAOuG,GAEpB1X,EAAa7f,KAAKnJ,OAASwgC,EAC3BxX,EAAa7f,KAAKjJ,UAAYwgC,GAIlC,QAAS/D,GAASzzB,GAChBtR,QAAQD,IAAI,YAGZ1B,OAAOqyB,IAAIM,UAAY1f,CACvB,IAAI8f,GAAe/yB,OAAOqyB,IAAIU,aAC1BsX,EAAcrqC,OAAOqyB,IAAIW,WACzBS,EAAmBzzB,OAAOqyB,IAAIoB,iBAC9BwW,EAAmBjqC,OAAOqyB,IAAI4X,iBAC9BC,EAAgBlqC,OAAOqyB,IAAI6X,aAE/B,IAAMnX,EAAc,CAClBA,EAAa7f,KAAKsE,QAAS,CAC3B,IAAIqzB,IACFx6B,GAAI0iB,EAAa1iB,GACjBxQ,KAAM,YAcR,IAZIkzB,EAAayQ,UAAY/P,IAC3BoX,EAAKrH,SAAW/P,GAGdV,EAAa7f,KAAKjJ,UAAYggC,IAChCY,EAAK5gC,SAAWggC,EAAmBlX,EAAa7f,KAAKjJ,UAGnD8oB,EAAa7f,KAAKnJ,OAASmgC,IAC7BW,EAAK9gC,MAAQmgC,EAAgBnX,EAAa7f,KAAKnJ,OAG7CgpB,EAAauL,SAASlgC,OAAS,GAAK20B,EAAakW,eAAe/V,WAAaH,EAAakW,eAAe/V,UAAU90B,OAAS,EAAG,CAEjIqf,EAAM4mB,2BAA2BtR,EAEjC,IAAIG,GAAYH,EAAakW,eAAe/V,UAAU,GAClD4V,EAAgBrrB,EAAMyjB,iBAAiBhO,EAC3ClzB,QAAOqyB,IAAIE,YAAYxtB,KAAK+jC,GAG9B9oC,OAAOqyB,IAAIQ,MAAM9tB,KAAK8lC,GAElBh/B,KAAK/B,IAAImJ,EAAMxI,UAAY,IAC7BirB,EAAS6R,wBAAwB,SAG3B8C,GACJ3U,EAASoV,kBAAkBT,GAG7BU,SAeF/qC,QAAOqyB,IAAIU,aAAe,IAIQ,QAAhC/yB,OAAOqyB,IAAIyX,mBACb9pC,OAAOqyB,IAAIyX,iBAAmB,KAE9BtpC,WAAW,WACT8zB,EAASe,YAAYr1B,OAAOqyB,IAAIyX,mBAC/BvV,EAAOwV,eAGZ/pC,OAAOqyB,IAAIS,UAAW,EAEtBnxB,QAAQD,IAAI,cAEZlB,WAAW,WACTmB,QAAQD,IAAI,iBACZm3B,EAAazd,GAAG,aAAcorB,GAC9BG,IACAG,KAOCvS,EAAOuR,YAiBZ,QAASiF,KACP,GAAIC,GAAqB,GACrBrY,EAAY3yB,OAAOqyB,IAAIM,UACvBwO,EAAYC,MAAMC,KAAKC,SAAStQ,MAChCia,EAAa7J,MAAMC,KAAKC,SAASrQ,OACjC8B,EAAe/yB,OAAOqyB,IAAIU,YAE9B,IAAqB,OAAjBA,EAAJ,CAEA,GAAIA,EAAayQ,SAAS75B,GAAK,EAAIopB,EAAa4O,OAAO3Q,OAAS+B,EAAayQ,SAAS75B,GAAKw3B,EAAYpO,EAAa4O,OAAO3Q,OAAS+B,EAAayQ,SAAS35B,GAAK,EAAIkpB,EAAa4O,OAAO1Q,QAAU8B,EAAayQ,SAAS35B,GAAKohC,EAAalY,EAAa4O,OAAO1Q,OAK3P,MAJA8B,GAAa7f,KAAKg4B,WAAY,EAC9BnY,EAAasI,SAAU,EACvB5d,EAAM4mB,2BAA2BtR,QACjC/yB,OAAOqyB,IAAIU,aAAe,KAG5BoY,uBAAsBJ,EACtB,IAAIK,GAAOrY,EAAayQ,SAAS75B,EAAIgpB,EAAUjoB,UAAYsgC,EACvDK,EAAOtY,EAAayQ,SAAS35B,EAAI8oB,EAAUhoB,UAAYqgC,EACvDM,EAAS,GAAIjR,OAAM+Q,EAAMC,EAC7BtY,GAAayQ,SAAW8H,GAG1B,QAAShE,GAAsBr0B,GAC7B,QAAKA,GACDA,EAAM7P,QAAUixB,EAAG8R,OA50BzB5jC,OAAOgsB,eAAerwB,EAAS,cAC7BgR,OAAO,IAEThR,EAAQuI,KAAOA,EACf7I,EAAQ,WAER,IAAI0wB,GAAS1wB,EAAQ,kBACjB6f,EAAQ7f,EAAQ,WAChBywB,EAAQzwB,EAAQ,WAChB2jC,EAAQ3jC,EAAQ,WAChB42B,EAAO52B,EAAQ,UACf83B,EAAW93B,EAAQ,cACnB22B,EAAS32B,EAAQ,YACjB02B,EAAW12B,EAAQ,cACnBy2B,EAAKz2B,EAAQ,QAEbg4B,EAAQnB,EAAE,QAEV4S,GACFvJ,UAAU,EACV/L,QAAQ,EACR4B,MAAM,EACN4X,UAAW,GAGTrD,EAAe,IACfyC,EAAiB,GAEjBtR,EAAY,OACZG,KACAO,EAAO,OACPC,EAAU,OACVE,EAAY,OAEZ+L,EAAa/nC,EAAQ+nC,WAAa,OAClCpN,EAAe36B,EAAQ26B,aAAe,SA6yBvCnK,iBAAiB,EAAEqS,UAAU,EAAEjM,aAAa,EAAEuQ,UAAU,EAAEmG,UAAU,EAAEzW,WAAW,GAAGkE,aAAa,GAAGhE,OAAO,GAAGC,SAAS,GAAGuW,SAAW,IAAIC,IAAI,SAAS9tC,EAAQU,EAAOJ,GACxK,YAmBA,SAASytC,GAAajC,GACpB,IAAK,GAAI7rC,GAAI,EAAGA,EAAI+B,EAAexB,OAAQP,IAAK,CAC9C,GAAI+tC,GAAShsC,EAAe/B,EAE5B,IAAI+tC,EAAO/rC,OAAS6pC,EAClB,MAAOkC,GAAO9rC,KAIlB,MAAO,MAGT,QAAS2pC,KACP,GAAIoC,GAAwB7rC,OAAOqyB,IAAIqB,mBACnCoY,GAAa,CAMjB,OAJAvpC,QAAO4R,KAAK03B,GAAuB5qC,QAAQ,SAAU0D,EAAK9B,GACxDipC,EAAaA,GAAcD,EAAsBlnC,KAG5CmnC,KAAe,EAGxB,QAASlC,GAAiBF,GACxB,GAAM1pC,OAAOqyB,IAAIa,WAAalzB,OAAOqyB,IAAIa,UAAU90B,OAAS,EAAG,CAC7Du3B,IACA31B,OAAOqyB,IAAI6B,eAAiB,CAE5B,IAAIhB,GAAYlzB,OAAOqyB,IAAIa,UACvB6Y,EAAc7Y,EAAUyO,OAAOj5B,OAE/BsjC,EAAUL,EAAajC,EAE3B,IAAgB,OAAZsC,EAAkB,CACpB,GAAI5B,GAAO3V,EAAE,uBAA0BiV,EAAU,KACjD,IAAIU,EAAKhsC,OAAS,EAAG,CACnB,GAAI6tC,GAASC,EAAyB9B,EAAM2B,EAC5C3B,GAAK+B,KAAM3R,IAAKyR,EAAOpiC,EAAI,KAAMuiC,KAAMH,EAAOtiC,EAAI,KAAM0iC,WAAY,YACpEjC,EAAKvU,SAAS,wBAMtB,QAASiV,GAAkBV,GACzBA,EAAK+B,KAAME,WAAY,WAGzB,QAAS9E,GAAwBmC,GAC/B,GAAIU,GAAO3V,EAAE,uBAA0BiV,EAAU,KACjDoB,GAAkBV,GAGpB,QAASzU,KACP,GAAI2W,GAAQ7X,EAAE,wBACd6X,GAAMH,KAAME,WAAY,WAG1B,QAASE,KACP5W,IACA31B,OAAOqyB,IAAIqB,oBACTC,MAAQ,EACRC,OAAS,EACTC,OAAS,GAIb,QAAS6W,GAAkBN,EAAMhC,GAC/B,GAAI6D,GAASC,EAAyB9B,EAAMhC,EAC5CgC,GAAK+B,KAAM3R,IAAKyR,EAAOpiC,EAAI,KAAMuiC,KAAMH,EAAOtiC,EAAI,OAGpD,QAASuiC,GAAyB9B,EAAMhC,GACtC,GAAIoE,GAAWpC,EAAKqC,aAChBC,EAAYtC,EAAKuC,cACjBC,EAAUxE,EAAYz+B,EAAI6iC,EAAW,EACrCK,EAASzE,EAAYv+B,EAAI6iC,EAAYI,CACzC,OAAO,IAAIzS,OAAMuS,EAASC,GA9F5BtqC,OAAOgsB,eAAerwB,EAAS,cAC7BgR,OAAO,IAEThR,EAAQytC,aAAeA,EACvBztC,EAAQurC,iBAAmBA,EAC3BvrC,EAAQ0rC,iBAAmBA,EAC3B1rC,EAAQ4sC,kBAAoBA,EAC5B5sC,EAAQqpC,wBAA0BA,EAClCrpC,EAAQy3B,mBAAqBA,EAC7Bz3B,EAAQquC,oBAAsBA,EAC9BruC,EAAQwsC,kBAAoBA,EAC5BxsC,EAAQguC,yBAA2BA,CACnC,IAAI5d,GAAS1wB,EAAQ,kBAEjBgC,EAAiB0uB,EAAO1uB,eACxBktC,EAAiB,KAkFlBpe,iBAAiB,IAAIqe,IAAI,SAASnvC,EAAQU,EAAOJ,GACpD,YAkCA,SAASuI,KACPumC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IAOF,QAASC,GAAoBC,GAC3B,GAAIC,GAAW5rC,UAAU3D,OAAS,GAAsB+B,SAAjB4B,UAAU,IAAmBA,UAAU,EAE1E2rC,GAAYtvC,OAAS,IACnBq2B,EAAE5zB,QAAQ6sC,GACZA,EAAYzsC,QAAQ,SAAUI,GAC5B,MAAOusC,GAAmBvsC,EAAMssC,KAGlCC,EAAmBF,EAAaC,IAKtC,QAASpE,GAAsBmE,GAC7BD,EAAoBC,GAAa,GAGnC,QAASE,GAAmBC,GAC1B,GAAIF,GAAW5rC,UAAU3D,OAAS,GAAsB+B,SAAjB4B,UAAU,IAAmBA,UAAU,GAE1E+rC,EAAUrZ,EAAE,cAAgBoZ,EAChClsC,SAAQD,IAAIosC,GACRA,EAAQ1vC,OAAS,IACfuvC,KAAa,EACfG,EAAQjY,SAASkY,GAEjBD,EAAQzW,YAAY0W,IAK1B,QAASC,GAAqBH,GAC5BD,EAAmBC,GAAY,GAGjC,QAAStE,GAAsBmE,GAC7BD,EAAoBC,GAAa,GAGnC,QAASO,KACPtsC,QAAQD,IAAI,eACZ1B,OAAOqyB,IAAIE,eACX6O,MAAMyC,QAAQqK,YAAYC,iBAC1BzY,EAASC,qBACT8X,GAAqB,OAAQ,MAAO,YAAa,UACjDhwB,EAAM+kB,cAKR,QAAS4L,KACP3wB,EAAM+kB,cACN9M,EAASC,oBAET,IAAInH,GAAc,GAAIC,OAAM,EAAG,EAE/B,IADA9sB,QAAQD,IAAI,kBACN1B,OAAOqyB,IAAIQ,MAAMz0B,OAAS,GAG9B,MAFAuD,SAAQD,IAAI,qBACZ1B,OAAOqyB,IAAI2B,wBAAyB,EAItC,IAAIqa,GAAWruC,OAAOqyB,IAAIQ,MAAMyb,MAC5B57B,EAAOmxB,QAAQC,SACjBzzB,GAAIg+B,EAASh+B,IAGf,IAAIqC,EAEF,OADAA,EAAK2oB,SAAU,EACPgT,EAASxuC,MACf,IAAK,WACH8B,QAAQD,IAAI,kBACZ+b,EAAM4mB,2BAA2B3xB,GACjCA,EAAKyI,QAEL,IAAIozB,GAAY/Z,EAAKga,cACrB7sC,SAAQD,IAAI,YAAa6sC,GAErBA,GAAa,GACfd,GAAqB,OAAQ,QAG3Bc,EAAY,GACdd,GAAqB,YAAa,UAClC7X,EAAMyB,YAAY5Z,EAAM4kB,oBAExBkH,GAAuB,YAAa,UACpC3T,EAAMC,SAASpY,EAAM4kB,kBAEvB,MACF,KAAK,aACCgM,EAAS7f,aACX9b,EAAK8rB,UAAY6P,EAAS1a,KAC1BjhB,EAAK+rB,YAAc4P,EAAS1a,OAE5BjhB,EAAK8rB,UAAYhQ,EACjB9b,EAAK+rB,YAAcjQ,EAEvB,KAAK,YACH,GAAM6f,EAAS7K,WACb9wB,EAAK8wB,SAAW6K,EAAS7K,SACrB9wB,EAAKQ,MAAQR,EAAKQ,KAAK22B,KAAOn3B,EAAKQ,KAAK22B,IAAIzrC,OAAS,GAAG,CAE1D,GAAIgsC,GAAO3V,EAAE,uBAA0BiV,QAAU,KACjDhU,GAASgV,kBAAkBN,EAAMiE,EAAS7K,UAGxC6K,EAASpkC,WACbyI,EAAKzI,SAAWokC,EAASpkC,UAErBokC,EAAStkC,OACb2I,EAAK3I,MAAMskC,EAAStkC,MAEtB,MACF,SACEpI,QAAQD,IAAI,oBAGhBC,SAAQD,IAAI,gCAsBhB,QAAS+sC,KACPhxB,EAAM+kB,cACNlO,EAASe,YAAY,QACrB1zB,QAAQD,IAAI,gBAGd,QAASgtC,KACP/sC,QAAQD,IAAI,iBACZ+b,EAAM+kB,cACF5M,EAAMwM,SAAS3kB,EAAM4kB,mBACvB/N,EAASe,YAAY,SAIzB,QAAS2X,KACPvY,EAAE,cAAcrZ,GAAG2a,EAAU,WAC3BtR,SAASoQ,WAIb,QAASoY,KACP,GAAI0B,GAAela,EAAE,qBACjBma,EAAiBD,EAAa1qC,KAAK,MACnC4qC,EAAmB,GACnBC,EAA2B,GAC3BC,EAAuB,kBAG3BH,GAAexzB,GAAG,kBAAmB,WACnC,IAAKwa,EAAMwM,SAASE,GAAe,CACjC,GAAI0M,GAAOva,EAAE3yB,MAAMmC,KAAK,oBAEnB+qC,GAAK5M,SAAS2M,KACjBta,EAAE,IAAMsa,GAAsB1X,YAAY0X,GAAsBrW,KAAK,QAASmW,GAAkBnW,KAAK,SAAUmW,GAAkB5qC,KAAK,QAAQy0B,KAAK,KAAM,GAAGA,KAAK,KAAM,GAEvKsW,EAAKnZ,SAASkZ,GAAsBrW,KAAK,QAASoW,GAA0BpW,KAAK,SAAUoW,GAA0B7qC,KAAK,QAAQy0B,KAAK,KAAMoW,EAA2B,GAAGpW,KAAK,KAAMoW,EAA2B,GAEjN9uC,OAAOqyB,IAAIC,aAAe0c,EAAK/qC,KAAK,QAAQy0B,KAAK,QACjD/2B,QAAQD,IAAI,UAAW,YAAa2sB,EAAMD,aAAapuB,OAAOqyB,IAAIC,mBAM1E,QAAS4a,KACPzY,EAAE,uBAAuBrZ,GAAG2a,EAAU,WAC/BH,EAAMwM,SAASE,IAClB2L,MAKN,QAASd,KACP1Y,EAAE,wBAAwBrZ,GAAG2a,EAAU,WAChCH,EAAMwM,SAASE,IAClB8L,MAKN,QAAShB,KACP3Y,EAAE,mCAAmCrZ,GAAG2a,EAAUtY,EAAM0kB,cACxD1N,EAAE,mCAAmCrZ,GAAG2a,EAAUtY,EAAM+kB,aAG1D,QAAS6K,KACP5Y,EAAE,mBAAmBrZ,GAAG2a,EAAU,WAC3BH,EAAMwM,SAASE,IAClBmM,MAKN,QAASnB,KACP7Y,EAAE,oBAAoBrZ,GAAG2a,EAAU,WAC5BH,EAAMwM,SAASE,IAClBoM,MAKN,QAASnB,KACP,GAAIjB,GAAQ7X,EAAE,wBACd6X,GAAMlxB,GAAG2a,EAAU,WACjBtB,EAAE3yB,MAAMqqC,KAAME,WAAY,aAI9B,QAASmB,KACPpM,MAAMyC,QAAQoL,QAGd7N,MAAMyC,QAAQqK,YAAY7sC,KAAO,YACjC,IAAI6tC,GAAe,GACfC,EAAoBtjC,KAAKX,MAAMW,KAAKwd,UAAY6lB,EAAe,IAAM,EACrEE,EAAW,GAAIC,QAAO,UAAYF,EACtCC,GAAS/tC,KAAO,WAChB+tC,EAAS5L,SAAWpC,MAAMC,KAAK34B,MAG/B,IAAI4mC,GAAwBlO,MAAMC,KAAKC,SAAStQ,MAAQoe,EAASrV,KAAK/I,MAClEue,EAAsBnO,MAAMC,KAAKC,SAASrQ,OAASme,EAASrV,KAAK9I,MACrEme,GAASrlC,MAAM8B,KAAKsZ,IAAImqB,EAAuBC,GACnC,IAAIC,MAChBpO,OAAMyC,QAAQqK,YAAY7sC,KAAO,SArSnCkB,OAAOgsB,eAAerwB,EAAS,cAC7BgR,OAAO,IAEThR,EAAQuI,KAAOA,EACfvI,EAAQuvC,oBAAsBA,EAC9BvvC,EAAQqrC,sBAAwBA,EAChCrrC,EAAQ0vC,mBAAqBA,EAC7B1vC,EAAQ8vC,qBAAuBA,EAC/B9vC,EAAQsvC,YAAcA,CACtB,IAAI/vB,GAAQ7f,EAAQ,WAChB83B,EAAW93B,EAAQ,cACnB02B,EAAW12B,EAAQ,cACnB42B,EAAO52B,EAAQ,UACfywB,EAAQzwB,EAAQ,WAEhBg4B,EAAQnB,EAAE,QACVsB,EAAW,kBAEXuM,EAAe7kB,EAAM6kB,aAYrByL,GAXmBtwB,EAAM4kB,iBAEZ5N,EAAE,kBACDA,EAAE,mBACFA,EAAE,wBACDA,EAAE,oBACHA,EAAE,mBAEPv2B,EAAQioC,OAAS1R,EAAE,WAAW,GACzBv2B,EAAQgoC,YAAczR,EAAE,iBAAiB,GAEvC,cA0QjBsM,UAAU,EAAEjM,aAAa,EAAE0W,UAAU,EAAEvS,aAAa,GAAG/D,SAAS,KAAKua,IAAI,SAAS7xC,EAAQU,EAAOJ,GACpG,YAiBA,SAASypC,GAAI+H,GACX,MAAOA,GAAU7jC,KAAKG,GAAK,IAI7B,QAAS2jC,GAAIC,GACX,MAAiB,KAAVA,EAAgB/jC,KAAKG,GAI9B,QAAS47B,GAAWj+B,EAAGE,GACrB,MAAOgC,MAAK/B,IAAI+B,KAAKE,MAAMF,KAAK4kB,IAAI5mB,EAAIF,GAAIkC,KAAK2kB,IAAI3mB,EAAIF,KAI3D,QAASkmC,GAAMpkC,EAAIC,GACjB,MAAOG,MAAKC,KAAKD,KAAKikC,IAAIrkC,EAAG9B,EAAI+B,EAAG/B,EAAG,GAAKkC,KAAKikC,IAAIrkC,EAAG5B,EAAI6B,EAAG7B,EAAG,IAGpE,QAAS+7B,KACP,OAAO,GAAIlyB,OAAOq8B,qBAGpB,QAASvP,KACP,MAAOY,OAAMyC,QAAQU,UACnB5lB,MAAO,SAAe8Z,GACpB,MAAwB,UAAjBA,EAAG4F,aAKhB,QAASpI,KACP,GAAIsK,GAASC,GACb,OAAOD,GAAOniC,OAAS,EAGzB,QAASowC,KACP,GAAIjO,GAASC,GAEb,OADA7+B,SAAQD,IAAI,YAAa6+B,EAAOniC,QACzBmiC,EAAOniC,OAGhB,QAASw2B,KACPH,EAAEtjB,IAAI,SAAS6+B,KAAK,SAAUC,GAC5BtuC,QAAQD,IAAI,gBAAiBuuC,GAC7BjwC,OAAOqyB,IAAImT,KAAOyK,IACjBC,KAAK,SAAU9yC,GAChBuE,QAAQ4f,MAAM,sBAAuBnkB,KA9DzCmF,OAAOgsB,eAAerwB,EAAS,cAC7BgR,OAAO,IAEThR,EAAQypC,IAAMA,EACdzpC,EAAQyxC,IAAMA,EACdzxC,EAAQ0pC,WAAaA,EACrB1pC,EAAQ2xC,MAAQA,EAChB3xC,EAAQ0nC,QAAUA,EAClB1nC,EAAQsiC,aAAeA,EACvBtiC,EAAQ+3B,kBAAoBA,EAC5B/3B,EAAQswC,aAAeA,EACvBtwC,EAAQ02B,OAASA,CACJh3B,GAAQ,oBAsDlB8wB,iBAAiB,IAAIyhB,IAAI,SAASvyC,EAAQU,EAAOJ,GACpD,YAwBA,SAASu4B,KACP90B,QAAQD,IAAI,0BACZ0uC,IACAxa,EAAMC,SAASwa,GACf12B,aAAa3Z,OAAOqyB,IAAIyB,mBACxB8B,EAAMta,IAAIya,EAAUxB,EAAOoR,0BAC3B/P,EAAMxa,GAAG2a,EAAU2P,GACnB4K,EAAKle,cACLiC,EAAGmZ,cACHxtC,OAAOqyB,IAAI8B,qBAAuBvM,YAAY,WAC5C6M,EAAEtjB,IAAI,SAAS6+B,KAAK,SAAUC,GACxBA,IAAQjwC,OAAOqyB,IAAImT,OACrB7jC,QAAQD,IAAI,6BACZ+iB,SAASoQ,YAEVqb,KAAK,SAAU9yC,GAChBuE,QAAQ4f,MAAM,sBAAuBnkB,MAEtCm3B,EAAOwR,mBAGZ,QAASL,KACP/jC,QAAQD,IAAI,yBACZqmB,cAAc/nB,OAAOqyB,IAAI8B,sBAEzBsR,IACA7P,EAAMta,IAAIya,EAAU2P,GACpB9P,EAAMxa,GAAG2a,EAAUxB,EAAOoR,0BAC1B/P,EAAMyB,YAAYgZ;AAClB12B,aAAa3Z,OAAOqyB,IAAIyB,mBAExBQ,EAASe,YAAY,SAErBr1B,OAAOqyB,IAAIyB,kBAAoBtzB,WAAW,WACxC8zB,EAASe,YAAY,aACpBd,EAAOmC,yBAGZ,QAAS+O,KACP8K,EAAOp/B,IAAI,GAAGwV,QAGhB,QAASypB,KACPG,EAAOp/B,IAAI,GAAGkT,OAjEhB9hB,OAAOgsB,eAAerwB,EAAS,cAC7BgR,OAAO,IAEThR,EAAQu4B,kBAAoBA,EAC5Bv4B,EAAQwnC,iBAAmBA,EAC3BxnC,EAAQunC,WAAaA,EACrBvnC,EAAQkyC,UAAYA,CACpB,IAEIE,IAFS1yC,EAAQ,kBAEVA,EAAQ,WACf02B,EAAW12B,EAAQ,cACnB22B,EAAS32B,EAAQ,YACjBy2B,EAAKz2B,EAAQ,QAEbg4B,EAAQnB,EAAE,QACVsB,EAAW,kBAEXsa,EAAoBnyC,EAAQmyC,kBAAoB,gBAEhDG,EAAgB5a,EAAM3xB,KAAK,eAC3BssC,EAASC,EAAcvsC,KAAK,WAgD7ByqB,iBAAiB,EAAE+hB,SAAS,EAAE3b,aAAa,EAAEC,WAAW,GAAGE,OAAO,UAAU","file":"../main.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\nexports.runAnimations = false;\nexports.canvasId = 'canvas';\n\nexports.palette = {\n  colors: [\"#20171C\", \"#1E2A43\", \"#28377D\", \"#352747\", \"#CA2E26\", \"#9A2A1F\", \"#DA6C26\", \"#453121\", \"#916A47\", \"#DAAD27\", \"#7F7D31\", \"#2B5E2E\"],\n  colorNames: {\n    \"#20171C\": \"black\",\n    \"#1E2A43\": \"blue\",\n    \"#28377D\": \"blue\",\n    \"#352747\": \"blue\",\n    \"#CA2E26\": \"red\",\n    \"#9A2A1F\": \"red\",\n    \"#DA6C26\": \"orange\",\n    \"#453121\": \"brown\",\n    \"#916A47\": \"brown\",\n    \"#DAAD27\": \"orange\",\n    \"#7F7D31\": \"green\",\n    \"#2B5E2E\": \"green\"\n  },\n  gradients: {\n    '#20171C': ['#20171C', '#000000'],\n    '#1E2A43': ['#1E2A43', '#263166'],\n    '#28377D': ['#28377D', '#1E4695'],\n    '#352747': ['#352747', '#45005B'],\n    '#CA2E26': ['#CA2E26', '#9B352F'],\n    '#9A2A1F': ['#9A2A1F', '#CD3621'],\n    '#DA6C26': ['#DA6C26', '#BD4820'],\n    '#453121': ['#453121', '#281806'],\n    '#916A47': ['#916A47', '#623A22'],\n    '#DAAD27': ['#DAAD27', '#AF871D'],\n    '#7F7D31': ['#7F7D31', '#555827'],\n    '#2B5E2E': ['#2B5E2E', '#16451D']\n  },\n  pops: [\"#00ADEF\", \"#F285A5\", \"#7DC57F\", \"#F6EB16\", \"#F4EAE0\"],\n  colorSize: 20,\n  selectedColorSize: 30\n};\n\nexports.contextualTuts = [{\n  type: \"fill\",\n  copy: \"<strong>Double-tap</strong> a filled shape to <strong>UNFILL</strong> it. Repeat to <strong>FILL</strong> an unfilled shape.\"\n}, {\n  type: \"pinch\",\n  copy: \"<strong>Pinch</strong> shapes with <strong>TWO FINGERS</strong> to <strong>resize</strong> and <strong>move</strong> them.\"\n}, {\n  type: \"swipe\",\n  copy: \"To <strong>remove</strong> shapes, <strong>pinch</strong> with <strong>two fingers</strong> then <strong>swipe</strong> or hit <strong>undo</strong>.\"\n}];\n\n},{}],2:[function(require,module,exports){\n/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (typeof define === 'function' && define.amd) {\n    define(function() {\n        return Hammer;\n    });\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n\n},{}],3:[function(require,module,exports){\n(function (global){\n/*!\n *  howler.js v2.0.2\n *  howlerjs.com\n *\n *  (c) 2013-2016, James Simpson of GoldFire Studios\n *  goldfirestudios.com\n *\n *  MIT License\n */\n\n(function() {\n\n  'use strict';\n\n  /** Global Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create the global controller. All contained methods and properties apply\n   * to all sounds that are currently playing or will be in the future.\n   */\n  var HowlerGlobal = function() {\n    this.init();\n  };\n  HowlerGlobal.prototype = {\n    /**\n     * Initialize the global Howler object.\n     * @return {Howler}\n     */\n    init: function() {\n      var self = this || Howler;\n\n      // Internal properties.\n      self._codecs = {};\n      self._howls = [];\n      self._muted = false;\n      self._volume = 1;\n      self._canPlayEvent = 'canplaythrough';\n      self._navigator = (typeof window !== 'undefined' && window.navigator) ? window.navigator : null;\n\n      // Public properties.\n      self.masterGain = null;\n      self.noAudio = false;\n      self.usingWebAudio = true;\n      self.autoSuspend = true;\n      self.ctx = null;\n\n      // Set to false to disable the auto iOS enabler.\n      self.mobileAutoEnable = true;\n\n      // Setup the various state values for global tracking.\n      self._setup();\n\n      return self;\n    },\n\n    /**\n     * Get/set the global volume for all sounds.\n     * @param  {Float} vol Volume from 0.0 to 1.0.\n     * @return {Howler/Float}     Returns self or current volume.\n     */\n    volume: function(vol) {\n      var self = this || Howler;\n      vol = parseFloat(vol);\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!self.ctx) {\n        setupAudioContext();\n      }\n\n      if (typeof vol !== 'undefined' && vol >= 0 && vol <= 1) {\n        self._volume = vol;\n\n        // Don't update any of the nodes if we are muted.\n        if (self._muted) {\n          return self;\n        }\n\n        // When using Web Audio, we just need to adjust the master gain.\n        if (self.usingWebAudio) {\n          self.masterGain.gain.value = vol;\n        }\n\n        // Loop through and change volume for all HTML5 audio nodes.\n        for (var i=0; i<self._howls.length; i++) {\n          if (!self._howls[i]._webAudio) {\n            // Get all of the sounds in this Howl group.\n            var ids = self._howls[i]._getSoundIds();\n\n            // Loop through all sounds and change the volumes.\n            for (var j=0; j<ids.length; j++) {\n              var sound = self._howls[i]._soundById(ids[j]);\n\n              if (sound && sound._node) {\n                sound._node.volume = sound._volume * vol;\n              }\n            }\n          }\n        }\n\n        return self;\n      }\n\n      return self._volume;\n    },\n\n    /**\n     * Handle muting and unmuting globally.\n     * @param  {Boolean} muted Is muted or not.\n     */\n    mute: function(muted) {\n      var self = this || Howler;\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!self.ctx) {\n        setupAudioContext();\n      }\n\n      self._muted = muted;\n\n      // With Web Audio, we just need to mute the master gain.\n      if (self.usingWebAudio) {\n        self.masterGain.gain.value = muted ? 0 : self._volume;\n      }\n\n      // Loop through and mute all HTML5 Audio nodes.\n      for (var i=0; i<self._howls.length; i++) {\n        if (!self._howls[i]._webAudio) {\n          // Get all of the sounds in this Howl group.\n          var ids = self._howls[i]._getSoundIds();\n\n          // Loop through all sounds and mark the audio node as muted.\n          for (var j=0; j<ids.length; j++) {\n            var sound = self._howls[i]._soundById(ids[j]);\n\n            if (sound && sound._node) {\n              sound._node.muted = (muted) ? true : sound._muted;\n            }\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Unload and destroy all currently loaded Howl objects.\n     * @return {Howler}\n     */\n    unload: function() {\n      var self = this || Howler;\n\n      for (var i=self._howls.length-1; i>=0; i--) {\n        self._howls[i].unload();\n      }\n\n      // Create a new AudioContext to make sure it is fully reset.\n      if (self.usingWebAudio && self.ctx && typeof self.ctx.close !== 'undefined') {\n        self.ctx.close();\n        self.ctx = null;\n        setupAudioContext();\n      }\n\n      return self;\n    },\n\n    /**\n     * Check for codec support of specific extension.\n     * @param  {String} ext Audio file extention.\n     * @return {Boolean}\n     */\n    codecs: function(ext) {\n      return (this || Howler)._codecs[ext.replace(/^x-/, '')];\n    },\n\n    /**\n     * Setup various state values for global tracking.\n     * @return {Howler}\n     */\n    _setup: function() {\n      var self = this || Howler;\n\n      // Keeps track of the suspend/resume state of the AudioContext.\n      self.state = self.ctx ? self.ctx.state || 'running' : 'running';\n\n      // Automatically begin the 30-second suspend process\n      self._autoSuspend();\n\n      // Check if audio is available.\n      if (!self.usingWebAudio) {\n        // No audio is available on this system if noAudio is set to true.\n        if (typeof Audio !== 'undefined') {\n          try {\n            var test = new Audio();\n\n            // Check if the canplaythrough event is available.\n            if (typeof test.oncanplaythrough === 'undefined') {\n              self._canPlayEvent = 'canplay';\n            }\n          } catch(e) {\n            self.noAudio = true;\n          }\n        } else {\n          self.noAudio = true;\n        }\n      }\n\n      // Test to make sure audio isn't disabled in Internet Explorer.\n      try {\n        var test = new Audio();\n        if (test.muted) {\n          self.noAudio = true;\n        }\n      } catch (e) {}\n\n      // Check for supported codecs.\n      if (!self.noAudio) {\n        self._setupCodecs();\n      }\n\n      return self;\n    },\n\n    /**\n     * Check for browser support for various codecs and cache the results.\n     * @return {Howler}\n     */\n    _setupCodecs: function() {\n      var self = this || Howler;\n      var audioTest = null;\n\n      // Must wrap in a try/catch because IE11 in server mode throws an error.\n      try {\n        audioTest = (typeof Audio !== 'undefined') ? new Audio() : null;\n      } catch (err) {\n        return self;\n      }\n\n      if (!audioTest || typeof audioTest.canPlayType !== 'function') {\n        return self;\n      }\n\n      var mpegTest = audioTest.canPlayType('audio/mpeg;').replace(/^no$/, '');\n\n      // Opera version <33 has mixed MP3 support, so we need to check for and block it.\n      var checkOpera = self._navigator && self._navigator.userAgent.match(/OPR\\/([0-6].)/g);\n      var isOldOpera = (checkOpera && parseInt(checkOpera[0].split('/')[1], 10) < 33);\n\n      self._codecs = {\n        mp3: !!(!isOldOpera && (mpegTest || audioTest.canPlayType('audio/mp3;').replace(/^no$/, ''))),\n        mpeg: !!mpegTest,\n        opus: !!audioTest.canPlayType('audio/ogg; codecs=\"opus\"').replace(/^no$/, ''),\n        ogg: !!audioTest.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/, ''),\n        oga: !!audioTest.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/, ''),\n        wav: !!audioTest.canPlayType('audio/wav; codecs=\"1\"').replace(/^no$/, ''),\n        aac: !!audioTest.canPlayType('audio/aac;').replace(/^no$/, ''),\n        caf: !!audioTest.canPlayType('audio/x-caf;').replace(/^no$/, ''),\n        m4a: !!(audioTest.canPlayType('audio/x-m4a;') || audioTest.canPlayType('audio/m4a;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n        mp4: !!(audioTest.canPlayType('audio/x-mp4;') || audioTest.canPlayType('audio/mp4;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n        weba: !!audioTest.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/, ''),\n        webm: !!audioTest.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/, ''),\n        dolby: !!audioTest.canPlayType('audio/mp4; codecs=\"ec-3\"').replace(/^no$/, ''),\n        flac: !!(audioTest.canPlayType('audio/x-flac;') || audioTest.canPlayType('audio/flac;')).replace(/^no$/, '')\n      };\n\n      return self;\n    },\n\n    /**\n     * Mobile browsers will only allow audio to be played after a user interaction.\n     * Attempt to automatically unlock audio on the first user interaction.\n     * Concept from: http://paulbakaus.com/tutorials/html5/web-audio-on-ios/\n     * @return {Howler}\n     */\n    _enableMobileAudio: function() {\n      var self = this || Howler;\n\n      // Only run this on mobile devices if audio isn't already eanbled.\n      var isMobile = /iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(self._navigator && self._navigator.userAgent);\n      var isTouch = !!(('ontouchend' in window) || (self._navigator && self._navigator.maxTouchPoints > 0) || (self._navigator && self._navigator.msMaxTouchPoints > 0));\n      if (self._mobileEnabled || !self.ctx || (!isMobile && !isTouch)) {\n        return;\n      }\n\n      self._mobileEnabled = false;\n\n      // Some mobile devices/platforms have distortion issues when opening/closing tabs and/or web views.\n      // Bugs in the browser (especially Mobile Safari) can cause the sampleRate to change from 44100 to 48000.\n      // By calling Howler.unload(), we create a new AudioContext with the correct sampleRate.\n      if (!self._mobileUnloaded && self.ctx.sampleRate !== 44100) {\n        self._mobileUnloaded = true;\n        self.unload();\n      }\n\n      // Scratch buffer for enabling iOS to dispose of web audio buffers correctly, as per:\n      // http://stackoverflow.com/questions/24119684\n      self._scratchBuffer = self.ctx.createBuffer(1, 1, 22050);\n\n      // Call this method on touch start to create and play a buffer,\n      // then check if the audio actually played to determine if\n      // audio has now been unlocked on iOS, Android, etc.\n      var unlock = function() {\n        // Create an empty buffer.\n        var source = self.ctx.createBufferSource();\n        source.buffer = self._scratchBuffer;\n        source.connect(self.ctx.destination);\n\n        // Play the empty buffer.\n        if (typeof source.start === 'undefined') {\n          source.noteOn(0);\n        } else {\n          source.start(0);\n        }\n\n        // Setup a timeout to check that we are unlocked on the next event loop.\n        source.onended = function() {\n          source.disconnect(0);\n\n          // Update the unlocked state and prevent this check from happening again.\n          self._mobileEnabled = true;\n          self.mobileAutoEnable = false;\n\n          // Remove the touch start listener.\n          document.removeEventListener('touchend', unlock, true);\n        };\n      };\n\n      // Setup a touch start listener to attempt an unlock in.\n      document.addEventListener('touchend', unlock, true);\n\n      return self;\n    },\n\n    /**\n     * Automatically suspend the Web Audio AudioContext after no sound has played for 30 seconds.\n     * This saves processing/energy and fixes various browser-specific bugs with audio getting stuck.\n     * @return {Howler}\n     */\n    _autoSuspend: function() {\n      var self = this;\n\n      if (!self.autoSuspend || !self.ctx || typeof self.ctx.suspend === 'undefined' || !Howler.usingWebAudio) {\n        return;\n      }\n\n      // Check if any sounds are playing.\n      for (var i=0; i<self._howls.length; i++) {\n        if (self._howls[i]._webAudio) {\n          for (var j=0; j<self._howls[i]._sounds.length; j++) {\n            if (!self._howls[i]._sounds[j]._paused) {\n              return self;\n            }\n          }\n        }\n      }\n\n      if (self._suspendTimer) {\n        clearTimeout(self._suspendTimer);\n      }\n\n      // If no sound has played after 30 seconds, suspend the context.\n      self._suspendTimer = setTimeout(function() {\n        if (!self.autoSuspend) {\n          return;\n        }\n\n        self._suspendTimer = null;\n        self.state = 'suspending';\n        self.ctx.suspend().then(function() {\n          self.state = 'suspended';\n\n          if (self._resumeAfterSuspend) {\n            delete self._resumeAfterSuspend;\n            self._autoResume();\n          }\n        });\n      }, 30000);\n\n      return self;\n    },\n\n    /**\n     * Automatically resume the Web Audio AudioContext when a new sound is played.\n     * @return {Howler}\n     */\n    _autoResume: function() {\n      var self = this;\n\n      if (!self.ctx || typeof self.ctx.resume === 'undefined' || !Howler.usingWebAudio) {\n        return;\n      }\n\n      if (self.state === 'running' && self._suspendTimer) {\n        clearTimeout(self._suspendTimer);\n        self._suspendTimer = null;\n      } else if (self.state === 'suspended') {\n        self.state = 'resuming';\n        self.ctx.resume().then(function() {\n          self.state = 'running';\n\n          // Emit to all Howls that the audio has resumed.\n          for (var i=0; i<self._howls.length; i++) {\n            self._howls[i]._emit('resume');\n          }\n        });\n\n        if (self._suspendTimer) {\n          clearTimeout(self._suspendTimer);\n          self._suspendTimer = null;\n        }\n      } else if (self.state === 'suspending') {\n        self._resumeAfterSuspend = true;\n      }\n\n      return self;\n    }\n  };\n\n  // Setup the global audio controller.\n  var Howler = new HowlerGlobal();\n\n  /** Group Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create an audio group controller.\n   * @param {Object} o Passed in properties for this group.\n   */\n  var Howl = function(o) {\n    var self = this;\n\n    // Throw an error if no source is provided.\n    if (!o.src || o.src.length === 0) {\n      console.error('An array of source files must be passed with any new Howl.');\n      return;\n    }\n\n    self.init(o);\n  };\n  Howl.prototype = {\n    /**\n     * Initialize a new Howl group object.\n     * @param  {Object} o Passed in properties for this group.\n     * @return {Howl}\n     */\n    init: function(o) {\n      var self = this;\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!Howler.ctx) {\n        setupAudioContext();\n      }\n\n      // Setup user-defined default properties.\n      self._autoplay = o.autoplay || false;\n      self._format = (typeof o.format !== 'string') ? o.format : [o.format];\n      self._html5 = o.html5 || false;\n      self._muted = o.mute || false;\n      self._loop = o.loop || false;\n      self._pool = o.pool || 5;\n      self._preload = (typeof o.preload === 'boolean') ? o.preload : true;\n      self._rate = o.rate || 1;\n      self._sprite = o.sprite || {};\n      self._src = (typeof o.src !== 'string') ? o.src : [o.src];\n      self._volume = o.volume !== undefined ? o.volume : 1;\n\n      // Setup all other default properties.\n      self._duration = 0;\n      self._state = 'unloaded';\n      self._sounds = [];\n      self._endTimers = {};\n      self._queue = [];\n\n      // Setup event listeners.\n      self._onend = o.onend ? [{fn: o.onend}] : [];\n      self._onfade = o.onfade ? [{fn: o.onfade}] : [];\n      self._onload = o.onload ? [{fn: o.onload}] : [];\n      self._onloaderror = o.onloaderror ? [{fn: o.onloaderror}] : [];\n      self._onpause = o.onpause ? [{fn: o.onpause}] : [];\n      self._onplay = o.onplay ? [{fn: o.onplay}] : [];\n      self._onstop = o.onstop ? [{fn: o.onstop}] : [];\n      self._onmute = o.onmute ? [{fn: o.onmute}] : [];\n      self._onvolume = o.onvolume ? [{fn: o.onvolume}] : [];\n      self._onrate = o.onrate ? [{fn: o.onrate}] : [];\n      self._onseek = o.onseek ? [{fn: o.onseek}] : [];\n      self._onresume = [];\n\n      // Web Audio or HTML5 Audio?\n      self._webAudio = Howler.usingWebAudio && !self._html5;\n\n      // Automatically try to enable audio on iOS.\n      if (typeof Howler.ctx !== 'undefined' && Howler.ctx && Howler.mobileAutoEnable) {\n        Howler._enableMobileAudio();\n      }\n\n      // Keep track of this Howl group in the global controller.\n      Howler._howls.push(self);\n\n      // If they selected autoplay, add a play event to the load queue.\n      if (self._autoplay) {\n        self._queue.push({\n          event: 'play',\n          action: function() {\n            self.play();\n          }\n        });\n      }\n\n      // Load the source file unless otherwise specified.\n      if (self._preload) {\n        self.load();\n      }\n\n      return self;\n    },\n\n    /**\n     * Load the audio file.\n     * @return {Howler}\n     */\n    load: function() {\n      var self = this;\n      var url = null;\n\n      // If no audio is available, quit immediately.\n      if (Howler.noAudio) {\n        self._emit('loaderror', null, 'No audio support.');\n        return;\n      }\n\n      // Make sure our source is in an array.\n      if (typeof self._src === 'string') {\n        self._src = [self._src];\n      }\n\n      // Loop through the sources and pick the first one that is compatible.\n      for (var i=0; i<self._src.length; i++) {\n        var ext, str;\n\n        if (self._format && self._format[i]) {\n          // If an extension was specified, use that instead.\n          ext = self._format[i];\n        } else {\n          // Make sure the source is a string.\n          str = self._src[i];\n          if (typeof str !== 'string') {\n            self._emit('loaderror', null, 'Non-string found in selected audio sources - ignoring.');\n            continue;\n          }\n\n          // Extract the file extension from the URL or base64 data URI.\n          ext = /^data:audio\\/([^;,]+);/i.exec(str);\n          if (!ext) {\n            ext = /\\.([^.]+)$/.exec(str.split('?', 1)[0]);\n          }\n\n          if (ext) {\n            ext = ext[1].toLowerCase();\n          }\n        }\n\n        // Check if this extension is available.\n        if (Howler.codecs(ext)) {\n          url = self._src[i];\n          break;\n        }\n      }\n\n      if (!url) {\n        self._emit('loaderror', null, 'No codec support for selected audio sources.');\n        return;\n      }\n\n      self._src = url;\n      self._state = 'loading';\n\n      // If the hosting page is HTTPS and the source isn't,\n      // drop down to HTML5 Audio to avoid Mixed Content errors.\n      if (window.location.protocol === 'https:' && url.slice(0, 5) === 'http:') {\n        self._html5 = true;\n        self._webAudio = false;\n      }\n\n      // Create a new sound object and add it to the pool.\n      new Sound(self);\n\n      // Load and decode the audio data for playback.\n      if (self._webAudio) {\n        loadBuffer(self);\n      }\n\n      return self;\n    },\n\n    /**\n     * Play a sound or resume previous playback.\n     * @param  {String/Number} sprite   Sprite name for sprite playback or sound id to continue previous.\n     * @param  {Boolean} internal Internal Use: true prevents event firing.\n     * @return {Number}          Sound ID.\n     */\n    play: function(sprite, internal) {\n      var self = this;\n      var id = null;\n\n      // Determine if a sprite, sound id or nothing was passed\n      if (typeof sprite === 'number') {\n        id = sprite;\n        sprite = null;\n      } else if (typeof sprite === 'string' && self._state === 'loaded' && !self._sprite[sprite]) {\n        // If the passed sprite doesn't exist, do nothing.\n        return null;\n      } else if (typeof sprite === 'undefined') {\n        // Use the default sound sprite (plays the full audio length).\n        sprite = '__default';\n\n        // Check if there is a single paused sound that isn't ended.\n        // If there is, play that sound. If not, continue as usual.\n        var num = 0;\n        for (var i=0; i<self._sounds.length; i++) {\n          if (self._sounds[i]._paused && !self._sounds[i]._ended) {\n            num++;\n            id = self._sounds[i]._id;\n          }\n        }\n\n        if (num === 1) {\n          sprite = null;\n        } else {\n          id = null;\n        }\n      }\n\n      // Get the selected node, or get one from the pool.\n      var sound = id ? self._soundById(id) : self._inactiveSound();\n\n      // If the sound doesn't exist, do nothing.\n      if (!sound) {\n        return null;\n      }\n\n      // Select the sprite definition.\n      if (id && !sprite) {\n        sprite = sound._sprite || '__default';\n      }\n\n      // If we have no sprite and the sound hasn't loaded, we must wait\n      // for the sound to load to get our audio's duration.\n      if (self._state !== 'loaded' && !self._sprite[sprite]) {\n        self._queue.push({\n          event: 'play',\n          action: function() {\n            self.play(self._soundById(sound._id) ? sound._id : undefined);\n          }\n        });\n\n        return sound._id;\n      }\n\n      // Don't play the sound if an id was passed and it is already playing.\n      if (id && !sound._paused) {\n        // Trigger the play event, in order to keep iterating through queue.\n        if (!internal) {\n          setTimeout(function() {\n            self._emit('play', sound._id);\n          }, 0);\n        }\n\n        return sound._id;\n      }\n\n      // Make sure the AudioContext isn't suspended, and resume it if it is.\n      if (self._webAudio) {\n        Howler._autoResume();\n      }\n\n      // Determine how long to play for and where to start playing.\n      var seek = Math.max(0, sound._seek > 0 ? sound._seek : self._sprite[sprite][0] / 1000);\n      var duration = Math.max(0, ((self._sprite[sprite][0] + self._sprite[sprite][1]) / 1000) - seek);\n      var timeout = (duration * 1000) / Math.abs(sound._rate);\n\n      // Update the parameters of the sound\n      sound._paused = false;\n      sound._ended = false;\n      sound._sprite = sprite;\n      sound._seek = seek;\n      sound._start = self._sprite[sprite][0] / 1000;\n      sound._stop = (self._sprite[sprite][0] + self._sprite[sprite][1]) / 1000;\n      sound._loop = !!(sound._loop || self._sprite[sprite][2]);\n\n      // Begin the actual playback.\n      var node = sound._node;\n      if (self._webAudio) {\n        // Fire this when the sound is ready to play to begin Web Audio playback.\n        var playWebAudio = function() {\n          self._refreshBuffer(sound);\n\n          // Setup the playback params.\n          var vol = (sound._muted || self._muted) ? 0 : sound._volume;\n          node.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n          sound._playStart = Howler.ctx.currentTime;\n\n          // Play the sound using the supported method.\n          if (typeof node.bufferSource.start === 'undefined') {\n            sound._loop ? node.bufferSource.noteGrainOn(0, seek, 86400) : node.bufferSource.noteGrainOn(0, seek, duration);\n          } else {\n            sound._loop ? node.bufferSource.start(0, seek, 86400) : node.bufferSource.start(0, seek, duration);\n          }\n\n          // Start a new timer if none is present.\n          if (timeout !== Infinity) {\n            self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n          }\n\n          if (!internal) {\n            setTimeout(function() {\n              self._emit('play', sound._id);\n            }, 0);\n          }\n        };\n\n        var isRunning = (Howler.state === 'running');\n        if (self._state === 'loaded' && isRunning) {\n          playWebAudio();\n        } else {\n          // Wait for the audio to load and then begin playback.\n          self.once(isRunning ? 'load' : 'resume', playWebAudio, isRunning ? sound._id : null);\n\n          // Cancel the end timer.\n          self._clearTimer(sound._id);\n        }\n      } else {\n        // Fire this when the sound is ready to play to begin HTML5 Audio playback.\n        var playHtml5 = function() {\n          node.currentTime = seek;\n          node.muted = sound._muted || self._muted || Howler._muted || node.muted;\n          node.volume = sound._volume * Howler.volume();\n          node.playbackRate = sound._rate;\n\n          setTimeout(function() {\n            node.play();\n\n            // Setup the new end timer.\n            if (timeout !== Infinity) {\n              self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n            }\n\n            if (!internal) {\n              self._emit('play', sound._id);\n            }\n          }, 0);\n        };\n\n        // Play immediately if ready, or wait for the 'canplaythrough'e vent.\n        var loadedNoReadyState = (self._state === 'loaded' && (window && window.ejecta || !node.readyState && Howler._navigator.isCocoonJS));\n        if (node.readyState === 4 || loadedNoReadyState) {\n          playHtml5();\n        } else {\n          var listener = function() {\n            // Begin playback.\n            playHtml5();\n\n            // Clear this listener.\n            node.removeEventListener(Howler._canPlayEvent, listener, false);\n          };\n          node.addEventListener(Howler._canPlayEvent, listener, false);\n\n          // Cancel the end timer.\n          self._clearTimer(sound._id);\n        }\n      }\n\n      return sound._id;\n    },\n\n    /**\n     * Pause playback and save current position.\n     * @param  {Number} id The sound ID (empty to pause all in group).\n     * @return {Howl}\n     */\n    pause: function(id) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to pause when capable.\n      if (self._state !== 'loaded') {\n        self._queue.push({\n          event: 'pause',\n          action: function() {\n            self.pause(id);\n          }\n        });\n\n        return self;\n      }\n\n      // If no id is passed, get all ID's to be paused.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Clear the end timer.\n        self._clearTimer(ids[i]);\n\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound && !sound._paused) {\n          // Reset the seek position.\n          sound._seek = self.seek(ids[i]);\n          sound._rateSeek = 0;\n          sound._paused = true;\n\n          // Stop currently running fades.\n          self._stopFade(ids[i]);\n\n          if (sound._node) {\n            if (self._webAudio) {\n              // make sure the sound has been created\n              if (!sound._node.bufferSource) {\n                return self;\n              }\n\n              if (typeof sound._node.bufferSource.stop === 'undefined') {\n                sound._node.bufferSource.noteOff(0);\n              } else {\n                sound._node.bufferSource.stop(0);\n              }\n\n              // Clean up the buffer source.\n              self._cleanBuffer(sound._node);\n            } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {\n              sound._node.pause();\n            }\n          }\n        }\n\n        // Fire the pause event, unless `true` is passed as the 2nd argument.\n        if (!arguments[1]) {\n          self._emit('pause', sound ? sound._id : null);\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Stop playback and reset to start.\n     * @param  {Number} id The sound ID (empty to stop all in group).\n     * @param  {Boolean} internal Internal Use: true prevents event firing.\n     * @return {Howl}\n     */\n    stop: function(id, internal) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to stop when capable.\n      if (self._state !== 'loaded') {\n        self._queue.push({\n          event: 'stop',\n          action: function() {\n            self.stop(id);\n          }\n        });\n\n        return self;\n      }\n\n      // If no id is passed, get all ID's to be stopped.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Clear the end timer.\n        self._clearTimer(ids[i]);\n\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound) {\n          // Reset the seek position.\n          sound._seek = sound._start || 0;\n          sound._rateSeek = 0;\n          sound._paused = true;\n          sound._ended = true;\n\n          // Stop currently running fades.\n          self._stopFade(ids[i]);\n\n          if (sound._node) {\n            if (self._webAudio) {\n              // make sure the sound has been created\n              if (!sound._node.bufferSource) {\n                if (!internal) {\n                  self._emit('stop', sound._id);\n                }\n\n                return self;\n              }\n\n              if (typeof sound._node.bufferSource.stop === 'undefined') {\n                sound._node.bufferSource.noteOff(0);\n              } else {\n                sound._node.bufferSource.stop(0);\n              }\n\n              // Clean up the buffer source.\n              self._cleanBuffer(sound._node);\n            } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {\n              sound._node.currentTime = sound._start || 0;\n              sound._node.pause();\n            }\n          }\n        }\n\n        if (sound && !internal) {\n          self._emit('stop', sound._id);\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Mute/unmute a single sound or all sounds in this Howl group.\n     * @param  {Boolean} muted Set to true to mute and false to unmute.\n     * @param  {Number} id    The sound ID to update (omit to mute/unmute all).\n     * @return {Howl}\n     */\n    mute: function(muted, id) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to mute when capable.\n      if (self._state !== 'loaded') {\n        self._queue.push({\n          event: 'mute',\n          action: function() {\n            self.mute(muted, id);\n          }\n        });\n\n        return self;\n      }\n\n      // If applying mute/unmute to all sounds, update the group's value.\n      if (typeof id === 'undefined') {\n        if (typeof muted === 'boolean') {\n          self._muted = muted;\n        } else {\n          return self._muted;\n        }\n      }\n\n      // If no id is passed, get all ID's to be muted.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound) {\n          sound._muted = muted;\n\n          if (self._webAudio && sound._node) {\n            sound._node.gain.setValueAtTime(muted ? 0 : sound._volume, Howler.ctx.currentTime);\n          } else if (sound._node) {\n            sound._node.muted = Howler._muted ? true : muted;\n          }\n\n          self._emit('mute', sound._id);\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the volume of this sound or of the Howl group. This method can optionally take 0, 1 or 2 arguments.\n     *   volume() -> Returns the group's volume value.\n     *   volume(id) -> Returns the sound id's current volume.\n     *   volume(vol) -> Sets the volume of all sounds in this Howl group.\n     *   volume(vol, id) -> Sets the volume of passed sound id.\n     * @return {Howl/Number} Returns self or current volume.\n     */\n    volume: function() {\n      var self = this;\n      var args = arguments;\n      var vol, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // Return the value of the groups' volume.\n        return self._volume;\n      } else if (args.length === 1 || args.length === 2 && typeof args[1] === 'undefined') {\n        // First check if this is an ID, and if not, assume it is a new volume.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else {\n          vol = parseFloat(args[0]);\n        }\n      } else if (args.length >= 2) {\n        vol = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // Update the volume or return the current volume.\n      var sound;\n      if (typeof vol !== 'undefined' && vol >= 0 && vol <= 1) {\n        // If the sound hasn't loaded, add it to the load queue to change volume when capable.\n        if (self._state !== 'loaded') {\n          self._queue.push({\n            event: 'volume',\n            action: function() {\n              self.volume.apply(self, args);\n            }\n          });\n\n          return self;\n        }\n\n        // Set the group volume.\n        if (typeof id === 'undefined') {\n          self._volume = vol;\n        }\n\n        // Update one or all volumes.\n        id = self._getSoundIds(id);\n        for (var i=0; i<id.length; i++) {\n          // Get the sound.\n          sound = self._soundById(id[i]);\n\n          if (sound) {\n            sound._volume = vol;\n\n            // Stop currently running fades.\n            if (!args[2]) {\n              self._stopFade(id[i]);\n            }\n\n            if (self._webAudio && sound._node && !sound._muted) {\n              sound._node.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n            } else if (sound._node && !sound._muted) {\n              sound._node.volume = vol * Howler.volume();\n            }\n\n            self._emit('volume', sound._id);\n          }\n        }\n      } else {\n        sound = id ? self._soundById(id) : self._sounds[0];\n        return sound ? sound._volume : 0;\n      }\n\n      return self;\n    },\n\n    /**\n     * Fade a currently playing sound between two volumes (if no id is passsed, all sounds will fade).\n     * @param  {Number} from The value to fade from (0.0 to 1.0).\n     * @param  {Number} to   The volume to fade to (0.0 to 1.0).\n     * @param  {Number} len  Time in milliseconds to fade.\n     * @param  {Number} id   The sound id (omit to fade all sounds).\n     * @return {Howl}\n     */\n    fade: function(from, to, len, id) {\n      var self = this;\n      var diff = Math.abs(from - to);\n      var dir = from > to ? 'out' : 'in';\n      var steps = diff / 0.01;\n      var stepLen = (steps > 0) ? len / steps : len;\n\n      // Since browsers clamp timeouts to 4ms, we need to clamp our steps to that too.\n      if (stepLen < 4) {\n        steps = Math.ceil(steps / (4 / stepLen));\n        stepLen = 4;\n      }\n\n      // If the sound hasn't loaded, add it to the load queue to fade when capable.\n      if (self._state !== 'loaded') {\n        self._queue.push({\n          event: 'fade',\n          action: function() {\n            self.fade(from, to, len, id);\n          }\n        });\n\n        return self;\n      }\n\n      // Set the volume to the start position.\n      self.volume(from, id);\n\n      // Fade the volume of one or all sounds.\n      var ids = self._getSoundIds(id);\n      for (var i=0; i<ids.length; i++) {\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        // Create a linear fade or fall back to timeouts with HTML5 Audio.\n        if (sound) {\n          // Stop the previous fade if no sprite is being used (otherwise, volume handles this).\n          if (!id) {\n            self._stopFade(ids[i]);\n          }\n\n          // If we are using Web Audio, let the native methods do the actual fade.\n          if (self._webAudio && !sound._muted) {\n            var currentTime = Howler.ctx.currentTime;\n            var end = currentTime + (len / 1000);\n            sound._volume = from;\n            sound._node.gain.setValueAtTime(from, currentTime);\n            sound._node.gain.linearRampToValueAtTime(to, end);\n          }\n\n          var vol = from;\n          sound._interval = setInterval(function(soundId, sound) {\n            // Update the volume amount, but only if the volume should change.\n            if (steps > 0) {\n              vol += (dir === 'in' ? 0.01 : -0.01);\n            }\n\n            // Make sure the volume is in the right bounds.\n            vol = Math.max(0, vol);\n            vol = Math.min(1, vol);\n\n            // Round to within 2 decimal points.\n            vol = Math.round(vol * 100) / 100;\n\n            // Change the volume.\n            if (self._webAudio) {\n              if (typeof id === 'undefined') {\n                self._volume = vol;\n              }\n\n              sound._volume = vol;\n            } else {\n              self.volume(vol, soundId, true);\n            }\n\n            // When the fade is complete, stop it and fire event.\n            if (vol === to) {\n              clearInterval(sound._interval);\n              sound._interval = null;\n              self.volume(vol, soundId);\n              self._emit('fade', soundId);\n            }\n          }.bind(self, ids[i], sound), stepLen);\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Internal method that stops the currently playing fade when\n     * a new fade starts, volume is changed or the sound is stopped.\n     * @param  {Number} id The sound id.\n     * @return {Howl}\n     */\n    _stopFade: function(id) {\n      var self = this;\n      var sound = self._soundById(id);\n\n      if (sound && sound._interval) {\n        if (self._webAudio) {\n          sound._node.gain.cancelScheduledValues(Howler.ctx.currentTime);\n        }\n\n        clearInterval(sound._interval);\n        sound._interval = null;\n        self._emit('fade', id);\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the loop parameter on a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   loop() -> Returns the group's loop value.\n     *   loop(id) -> Returns the sound id's loop value.\n     *   loop(loop) -> Sets the loop value for all sounds in this Howl group.\n     *   loop(loop, id) -> Sets the loop value of passed sound id.\n     * @return {Howl/Boolean} Returns self or current loop value.\n     */\n    loop: function() {\n      var self = this;\n      var args = arguments;\n      var loop, id, sound;\n\n      // Determine the values for loop and id.\n      if (args.length === 0) {\n        // Return the grou's loop value.\n        return self._loop;\n      } else if (args.length === 1) {\n        if (typeof args[0] === 'boolean') {\n          loop = args[0];\n          self._loop = loop;\n        } else {\n          // Return this sound's loop value.\n          sound = self._soundById(parseInt(args[0], 10));\n          return sound ? sound._loop : false;\n        }\n      } else if (args.length === 2) {\n        loop = args[0];\n        id = parseInt(args[1], 10);\n      }\n\n      // If no id is passed, get all ID's to be looped.\n      var ids = self._getSoundIds(id);\n      for (var i=0; i<ids.length; i++) {\n        sound = self._soundById(ids[i]);\n\n        if (sound) {\n          sound._loop = loop;\n          if (self._webAudio && sound._node && sound._node.bufferSource) {\n            sound._node.bufferSource.loop = loop;\n            if (loop) {\n              sound._node.bufferSource.loopStart = sound._start || 0;\n              sound._node.bufferSource.loopEnd = sound._stop;\n            }\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the playback rate of a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   rate() -> Returns the first sound node's current playback rate.\n     *   rate(id) -> Returns the sound id's current playback rate.\n     *   rate(rate) -> Sets the playback rate of all sounds in this Howl group.\n     *   rate(rate, id) -> Sets the playback rate of passed sound id.\n     * @return {Howl/Number} Returns self or the current playback rate.\n     */\n    rate: function() {\n      var self = this;\n      var args = arguments;\n      var rate, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // We will simply return the current rate of the first node.\n        id = self._sounds[0]._id;\n      } else if (args.length === 1) {\n        // First check if this is an ID, and if not, assume it is a new rate value.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else {\n          rate = parseFloat(args[0]);\n        }\n      } else if (args.length === 2) {\n        rate = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // Update the playback rate or return the current value.\n      var sound;\n      if (typeof rate === 'number') {\n        // If the sound hasn't loaded, add it to the load queue to change playback rate when capable.\n        if (self._state !== 'loaded') {\n          self._queue.push({\n            event: 'rate',\n            action: function() {\n              self.rate.apply(self, args);\n            }\n          });\n\n          return self;\n        }\n\n        // Set the group rate.\n        if (typeof id === 'undefined') {\n          self._rate = rate;\n        }\n\n        // Update one or all volumes.\n        id = self._getSoundIds(id);\n        for (var i=0; i<id.length; i++) {\n          // Get the sound.\n          sound = self._soundById(id[i]);\n\n          if (sound) {\n            // Keep track of our position when the rate changed and update the playback\n            // start position so we can properly adjust the seek position for time elapsed.\n            sound._rateSeek = self.seek(id[i]);\n            sound._playStart = self._webAudio ? Howler.ctx.currentTime : sound._playStart;\n            sound._rate = rate;\n\n            // Change the playback rate.\n            if (self._webAudio && sound._node && sound._node.bufferSource) {\n              sound._node.bufferSource.playbackRate.value = rate;\n            } else if (sound._node) {\n              sound._node.playbackRate = rate;\n            }\n\n            // Reset the timers.\n            var seek = self.seek(id[i]);\n            var duration = ((self._sprite[sound._sprite][0] + self._sprite[sound._sprite][1]) / 1000) - seek;\n            var timeout = (duration * 1000) / Math.abs(sound._rate);\n\n            // Start a new end timer if sound is already playing.\n            if (self._endTimers[id[i]] || !sound._paused) {\n              self._clearTimer(id[i]);\n              self._endTimers[id[i]] = setTimeout(self._ended.bind(self, sound), timeout);\n            }\n\n            self._emit('rate', sound._id);\n          }\n        }\n      } else {\n        sound = self._soundById(id);\n        return sound ? sound._rate : self._rate;\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the seek position of a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   seek() -> Returns the first sound node's current seek position.\n     *   seek(id) -> Returns the sound id's current seek position.\n     *   seek(seek) -> Sets the seek position of the first sound node.\n     *   seek(seek, id) -> Sets the seek position of passed sound id.\n     * @return {Howl/Number} Returns self or the current seek position.\n     */\n    seek: function() {\n      var self = this;\n      var args = arguments;\n      var seek, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // We will simply return the current position of the first node.\n        id = self._sounds[0]._id;\n      } else if (args.length === 1) {\n        // First check if this is an ID, and if not, assume it is a new seek position.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else {\n          id = self._sounds[0]._id;\n          seek = parseFloat(args[0]);\n        }\n      } else if (args.length === 2) {\n        seek = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // If there is no ID, bail out.\n      if (typeof id === 'undefined') {\n        return self;\n      }\n\n      // If the sound hasn't loaded, add it to the load queue to seek when capable.\n      if (self._state !== 'loaded') {\n        self._queue.push({\n          event: 'seek',\n          action: function() {\n            self.seek.apply(self, args);\n          }\n        });\n\n        return self;\n      }\n\n      // Get the sound.\n      var sound = self._soundById(id);\n\n      if (sound) {\n        if (typeof seek === 'number' && seek >= 0) {\n          // Pause the sound and update position for restarting playback.\n          var playing = self.playing(id);\n          if (playing) {\n            self.pause(id, true);\n          }\n\n          // Move the position of the track and cancel timer.\n          sound._seek = seek;\n          sound._ended = false;\n          self._clearTimer(id);\n\n          // Restart the playback if the sound was playing.\n          if (playing) {\n            self.play(id, true);\n          }\n\n          // Update the seek position for HTML5 Audio.\n          if (!self._webAudio && sound._node) {\n            sound._node.currentTime = seek;\n          }\n\n          self._emit('seek', id);\n        } else {\n          if (self._webAudio) {\n            var realTime = self.playing(id) ? Howler.ctx.currentTime - sound._playStart : 0;\n            var rateSeek = sound._rateSeek ? sound._rateSeek - sound._seek : 0;\n            return sound._seek + (rateSeek + realTime * Math.abs(sound._rate));\n          } else {\n            return sound._node.currentTime;\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Check if a specific sound is currently playing or not (if id is provided), or check if at least one of the sounds in the group is playing or not.\n     * @param  {Number}  id The sound id to check. If none is passed, the whole sound group is checked.\n     * @return {Boolean} True if playing and false if not.\n     */\n    playing: function(id) {\n      var self = this;\n\n      // Check the passed sound ID (if any).\n      if (typeof id === 'number') {\n        var sound = self._soundById(id);\n        return sound ? !sound._paused : false;\n      }\n\n      // Otherwise, loop through all sounds and check if any are playing.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (!self._sounds[i]._paused) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    /**\n     * Get the duration of this sound. Passing a sound id will return the sprite duration.\n     * @param  {Number} id The sound id to check. If none is passed, return full source duration.\n     * @return {Number} Audio duration in seconds.\n     */\n    duration: function(id) {\n      var self = this;\n      var duration = self._duration;\n\n      // If we pass an ID, get the sound and return the sprite length.\n      var sound = self._soundById(id);\n      if (sound) {\n        duration = self._sprite[sound._sprite][1] / 1000;\n      }\n\n      return duration;\n    },\n\n    /**\n     * Returns the current loaded state of this Howl.\n     * @return {String} 'unloaded', 'loading', 'loaded'\n     */\n    state: function() {\n      return this._state;\n    },\n\n    /**\n     * Unload and destroy the current Howl object.\n     * This will immediately stop all sound instances attached to this group.\n     */\n    unload: function() {\n      var self = this;\n\n      // Stop playing any active sounds.\n      var sounds = self._sounds;\n      for (var i=0; i<sounds.length; i++) {\n        // Stop the sound if it is currently playing.\n        if (!sounds[i]._paused) {\n          self.stop(sounds[i]._id);\n          self._emit('end', sounds[i]._id);\n        }\n\n        // Remove the source or disconnect.\n        if (!self._webAudio) {\n          // Set the source to 0-second silence to stop any downloading.\n          sounds[i]._node.src = 'data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA=';\n\n          // Remove any event listeners.\n          sounds[i]._node.removeEventListener('error', sounds[i]._errorFn, false);\n          sounds[i]._node.removeEventListener(Howler._canPlayEvent, sounds[i]._loadFn, false);\n        }\n\n        // Empty out all of the nodes.\n        delete sounds[i]._node;\n\n        // Make sure all timers are cleared out.\n        self._clearTimer(sounds[i]._id);\n\n        // Remove the references in the global Howler object.\n        var index = Howler._howls.indexOf(self);\n        if (index >= 0) {\n          Howler._howls.splice(index, 1);\n        }\n      }\n\n      // Delete this sound from the cache (if no other Howl is using it).\n      var remCache = true;\n      for (i=0; i<Howler._howls.length; i++) {\n        if (Howler._howls[i]._src === self._src) {\n          remCache = false;\n          break;\n        }\n      }\n\n      if (cache && remCache) {\n        delete cache[self._src];\n      }\n\n      // Clear global errors.\n      Howler.noAudio = false;\n\n      // Clear out `self`.\n      self._state = 'unloaded';\n      self._sounds = [];\n      self = null;\n\n      return null;\n    },\n\n    /**\n     * Listen to a custom event.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to call.\n     * @param  {Number}   id    (optional) Only listen to events for this sound.\n     * @param  {Number}   once  (INTERNAL) Marks event to fire only once.\n     * @return {Howl}\n     */\n    on: function(event, fn, id, once) {\n      var self = this;\n      var events = self['_on' + event];\n\n      if (typeof fn === 'function') {\n        events.push(once ? {id: id, fn: fn, once: once} : {id: id, fn: fn});\n      }\n\n      return self;\n    },\n\n    /**\n     * Remove a custom event. Call without parameters to remove all events.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to remove. Leave empty to remove all.\n     * @param  {Number}   id    (optional) Only remove events for this sound.\n     * @return {Howl}\n     */\n    off: function(event, fn, id) {\n      var self = this;\n      var events = self['_on' + event];\n      var i = 0;\n\n      if (fn) {\n        // Loop through event store and remove the passed function.\n        for (i=0; i<events.length; i++) {\n          if (fn === events[i].fn && id === events[i].id) {\n            events.splice(i, 1);\n            break;\n          }\n        }\n      } else if (event) {\n        // Clear out all events of this type.\n        self['_on' + event] = [];\n      } else {\n        // Clear out all events of every type.\n        var keys = Object.keys(self);\n        for (i=0; i<keys.length; i++) {\n          if ((keys[i].indexOf('_on') === 0) && Array.isArray(self[keys[i]])) {\n            self[keys[i]] = [];\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Listen to a custom event and remove it once fired.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to call.\n     * @param  {Number}   id    (optional) Only listen to events for this sound.\n     * @return {Howl}\n     */\n    once: function(event, fn, id) {\n      var self = this;\n\n      // Setup the event listener.\n      self.on(event, fn, id, 1);\n\n      return self;\n    },\n\n    /**\n     * Emit all events of a specific type and pass the sound id.\n     * @param  {String} event Event name.\n     * @param  {Number} id    Sound ID.\n     * @param  {Number} msg   Message to go with event.\n     * @return {Howl}\n     */\n    _emit: function(event, id, msg) {\n      var self = this;\n      var events = self['_on' + event];\n\n      // Loop through event store and fire all functions.\n      for (var i=events.length-1; i>=0; i--) {\n        if (!events[i].id || events[i].id === id || event === 'load') {\n          setTimeout(function(fn) {\n            fn.call(this, id, msg);\n          }.bind(self, events[i].fn), 0);\n\n          // If this event was setup with `once`, remove it.\n          if (events[i].once) {\n            self.off(event, events[i].fn, events[i].id);\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Queue of actions initiated before the sound has loaded.\n     * These will be called in sequence, with the next only firing\n     * after the previous has finished executing (even if async like play).\n     * @return {Howl}\n     */\n    _loadQueue: function() {\n      var self = this;\n\n      if (self._queue.length > 0) {\n        var task = self._queue[0];\n\n        // don't move onto the next task until this one is done\n        self.once(task.event, function() {\n          self._queue.shift();\n          self._loadQueue();\n        });\n\n        task.action();\n      }\n\n      return self;\n    },\n\n    /**\n     * Fired when playback ends at the end of the duration.\n     * @param  {Sound} sound The sound object to work with.\n     * @return {Howl}\n     */\n    _ended: function(sound) {\n      var self = this;\n      var sprite = sound._sprite;\n\n      // Should this sound loop?\n      var loop = !!(sound._loop || self._sprite[sprite][2]);\n\n      // Fire the ended event.\n      self._emit('end', sound._id);\n\n      // Restart the playback for HTML5 Audio loop.\n      if (!self._webAudio && loop) {\n        self.stop(sound._id, true).play(sound._id);\n      }\n\n      // Restart this timer if on a Web Audio loop.\n      if (self._webAudio && loop) {\n        self._emit('play', sound._id);\n        sound._seek = sound._start || 0;\n        sound._rateSeek = 0;\n        sound._playStart = Howler.ctx.currentTime;\n\n        var timeout = ((sound._stop - sound._start) * 1000) / Math.abs(sound._rate);\n        self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n      }\n\n      // Mark the node as paused.\n      if (self._webAudio && !loop) {\n        sound._paused = true;\n        sound._ended = true;\n        sound._seek = sound._start || 0;\n        sound._rateSeek = 0;\n        self._clearTimer(sound._id);\n\n        // Clean up the buffer source.\n        self._cleanBuffer(sound._node);\n\n        // Attempt to auto-suspend AudioContext if no sounds are still playing.\n        Howler._autoSuspend();\n      }\n\n      // When using a sprite, end the track.\n      if (!self._webAudio && !loop) {\n        self.stop(sound._id);\n      }\n\n      return self;\n    },\n\n    /**\n     * Clear the end timer for a sound playback.\n     * @param  {Number} id The sound ID.\n     * @return {Howl}\n     */\n    _clearTimer: function(id) {\n      var self = this;\n\n      if (self._endTimers[id]) {\n        clearTimeout(self._endTimers[id]);\n        delete self._endTimers[id];\n      }\n\n      return self;\n    },\n\n    /**\n     * Return the sound identified by this ID, or return null.\n     * @param  {Number} id Sound ID\n     * @return {Object}    Sound object or null.\n     */\n    _soundById: function(id) {\n      var self = this;\n\n      // Loop through all sounds and find the one with this ID.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (id === self._sounds[i]._id) {\n          return self._sounds[i];\n        }\n      }\n\n      return null;\n    },\n\n    /**\n     * Return an inactive sound from the pool or create a new one.\n     * @return {Sound} Sound playback object.\n     */\n    _inactiveSound: function() {\n      var self = this;\n\n      self._drain();\n\n      // Find the first inactive node to recycle.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (self._sounds[i]._ended) {\n          return self._sounds[i].reset();\n        }\n      }\n\n      // If no inactive node was found, create a new one.\n      return new Sound(self);\n    },\n\n    /**\n     * Drain excess inactive sounds from the pool.\n     */\n    _drain: function() {\n      var self = this;\n      var limit = self._pool;\n      var cnt = 0;\n      var i = 0;\n\n      // If there are less sounds than the max pool size, we are done.\n      if (self._sounds.length < limit) {\n        return;\n      }\n\n      // Count the number of inactive sounds.\n      for (i=0; i<self._sounds.length; i++) {\n        if (self._sounds[i]._ended) {\n          cnt++;\n        }\n      }\n\n      // Remove excess inactive sounds, going in reverse order.\n      for (i=self._sounds.length - 1; i>=0; i--) {\n        if (cnt <= limit) {\n          return;\n        }\n\n        if (self._sounds[i]._ended) {\n          // Disconnect the audio source when using Web Audio.\n          if (self._webAudio && self._sounds[i]._node) {\n            self._sounds[i]._node.disconnect(0);\n          }\n\n          // Remove sounds until we have the pool size.\n          self._sounds.splice(i, 1);\n          cnt--;\n        }\n      }\n    },\n\n    /**\n     * Get all ID's from the sounds pool.\n     * @param  {Number} id Only return one ID if one is passed.\n     * @return {Array}    Array of IDs.\n     */\n    _getSoundIds: function(id) {\n      var self = this;\n\n      if (typeof id === 'undefined') {\n        var ids = [];\n        for (var i=0; i<self._sounds.length; i++) {\n          ids.push(self._sounds[i]._id);\n        }\n\n        return ids;\n      } else {\n        return [id];\n      }\n    },\n\n    /**\n     * Load the sound back into the buffer source.\n     * @param  {Sound} sound The sound object to work with.\n     * @return {Howl}\n     */\n    _refreshBuffer: function(sound) {\n      var self = this;\n\n      // Setup the buffer source for playback.\n      sound._node.bufferSource = Howler.ctx.createBufferSource();\n      sound._node.bufferSource.buffer = cache[self._src];\n\n      // Connect to the correct node.\n      if (sound._panner) {\n        sound._node.bufferSource.connect(sound._panner);\n      } else {\n        sound._node.bufferSource.connect(sound._node);\n      }\n\n      // Setup looping and playback rate.\n      sound._node.bufferSource.loop = sound._loop;\n      if (sound._loop) {\n        sound._node.bufferSource.loopStart = sound._start || 0;\n        sound._node.bufferSource.loopEnd = sound._stop;\n      }\n      sound._node.bufferSource.playbackRate.value = sound._rate;\n\n      return self;\n    },\n\n    /**\n     * Prevent memory leaks by cleaning up the buffer source after playback.\n     * @param  {Object} node Sound's audio node containing the buffer source.\n     * @return {Howl}\n     */\n    _cleanBuffer: function(node) {\n      var self = this;\n\n      if (self._scratchBuffer) {\n        node.bufferSource.onended = null;\n        node.bufferSource.disconnect(0);\n        try { node.bufferSource.buffer = self._scratchBuffer; } catch(e) {}\n      }\n      node.bufferSource = null;\n\n      return self;\n    }\n  };\n\n  /** Single Sound Methods **/\n  /***************************************************************************/\n\n  /**\n   * Setup the sound object, which each node attached to a Howl group is contained in.\n   * @param {Object} howl The Howl parent group.\n   */\n  var Sound = function(howl) {\n    this._parent = howl;\n    this.init();\n  };\n  Sound.prototype = {\n    /**\n     * Initialize a new Sound object.\n     * @return {Sound}\n     */\n    init: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Setup the default parameters.\n      self._muted = parent._muted;\n      self._loop = parent._loop;\n      self._volume = parent._volume;\n      self._muted = parent._muted;\n      self._rate = parent._rate;\n      self._seek = 0;\n      self._paused = true;\n      self._ended = true;\n      self._sprite = '__default';\n\n      // Generate a unique ID for this sound.\n      self._id = Math.round(Date.now() * Math.random());\n\n      // Add itself to the parent's pool.\n      parent._sounds.push(self);\n\n      // Create the new node.\n      self.create();\n\n      return self;\n    },\n\n    /**\n     * Create and setup a new sound object, whether HTML5 Audio or Web Audio.\n     * @return {Sound}\n     */\n    create: function() {\n      var self = this;\n      var parent = self._parent;\n      var volume = (Howler._muted || self._muted || self._parent._muted) ? 0 : self._volume;\n\n      if (parent._webAudio) {\n        // Create the gain node for controlling volume (the source will connect to this).\n        self._node = (typeof Howler.ctx.createGain === 'undefined') ? Howler.ctx.createGainNode() : Howler.ctx.createGain();\n        self._node.gain.setValueAtTime(volume, Howler.ctx.currentTime);\n        self._node.paused = true;\n        self._node.connect(Howler.masterGain);\n      } else {\n        self._node = new Audio();\n\n        // Listen for errors (http://dev.w3.org/html5/spec-author-view/spec.html#mediaerror).\n        self._errorFn = self._errorListener.bind(self);\n        self._node.addEventListener('error', self._errorFn, false);\n\n        // Listen for 'canplaythrough' event to let us know the sound is ready.\n        self._loadFn = self._loadListener.bind(self);\n        self._node.addEventListener(Howler._canPlayEvent, self._loadFn, false);\n\n        // Setup the new audio node.\n        self._node.src = parent._src;\n        self._node.preload = 'auto';\n        self._node.volume = volume * Howler.volume();\n\n        // Begin loading the source.\n        self._node.load();\n      }\n\n      return self;\n    },\n\n    /**\n     * Reset the parameters of this sound to the original state (for recycle).\n     * @return {Sound}\n     */\n    reset: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Reset all of the parameters of this sound.\n      self._muted = parent._muted;\n      self._loop = parent._loop;\n      self._volume = parent._volume;\n      self._muted = parent._muted;\n      self._rate = parent._rate;\n      self._seek = 0;\n      self._rateSeek = 0;\n      self._paused = true;\n      self._ended = true;\n      self._sprite = '__default';\n\n      // Generate a new ID so that it isn't confused with the previous sound.\n      self._id = Math.round(Date.now() * Math.random());\n\n      return self;\n    },\n\n    /**\n     * HTML5 Audio error listener callback.\n     */\n    _errorListener: function() {\n      var self = this;\n\n      // Fire an error event and pass back the code.\n      self._parent._emit('loaderror', self._id, self._node.error ? self._node.error.code : 0);\n\n      // Clear the event listener.\n      self._node.removeEventListener('error', self._errorListener, false);\n    },\n\n    /**\n     * HTML5 Audio canplaythrough listener callback.\n     */\n    _loadListener: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Round up the duration to account for the lower precision in HTML5 Audio.\n      parent._duration = Math.ceil(self._node.duration * 10) / 10;\n\n      // Setup a sprite if none is defined.\n      if (Object.keys(parent._sprite).length === 0) {\n        parent._sprite = {__default: [0, parent._duration * 1000]};\n      }\n\n      if (parent._state !== 'loaded') {\n        parent._state = 'loaded';\n        parent._emit('load');\n        parent._loadQueue();\n      }\n\n      // Clear the event listener.\n      self._node.removeEventListener(Howler._canPlayEvent, self._loadFn, false);\n    }\n  };\n\n  /** Helper Methods **/\n  /***************************************************************************/\n\n  var cache = {};\n\n  /**\n   * Buffer a sound from URL, Data URI or cache and decode to audio source (Web Audio API).\n   * @param  {Howl} self\n   */\n  var loadBuffer = function(self) {\n    var url = self._src;\n\n    // Check if the buffer has already been cached and use it instead.\n    if (cache[url]) {\n      // Set the duration from the cache.\n      self._duration = cache[url].duration;\n\n      // Load the sound into this Howl.\n      loadSound(self);\n\n      return;\n    }\n\n    if (/^data:[^;]+;base64,/.test(url)) {\n      // Decode the base64 data URI without XHR, since some browsers don't support it.\n      var data = atob(url.split(',')[1]);\n      var dataView = new Uint8Array(data.length);\n      for (var i=0; i<data.length; ++i) {\n        dataView[i] = data.charCodeAt(i);\n      }\n\n      decodeAudioData(dataView.buffer, self);\n    } else {\n      // Load the buffer from the URL.\n      var xhr = new XMLHttpRequest();\n      xhr.open('GET', url, true);\n      xhr.responseType = 'arraybuffer';\n      xhr.onload = function() {\n        // Make sure we get a successful response back.\n        var code = (xhr.status + '')[0];\n        if (code !== '0' && code !== '2' && code !== '3') {\n          self._emit('loaderror', null, 'Failed loading audio file with status: ' + xhr.status + '.');\n          return;\n        }\n\n        decodeAudioData(xhr.response, self);\n      };\n      xhr.onerror = function() {\n        // If there is an error, switch to HTML5 Audio.\n        if (self._webAudio) {\n          self._html5 = true;\n          self._webAudio = false;\n          self._sounds = [];\n          delete cache[url];\n          self.load();\n        }\n      };\n      safeXhrSend(xhr);\n    }\n  };\n\n  /**\n   * Send the XHR request wrapped in a try/catch.\n   * @param  {Object} xhr XHR to send.\n   */\n  var safeXhrSend = function(xhr) {\n    try {\n      xhr.send();\n    } catch (e) {\n      xhr.onerror();\n    }\n  };\n\n  /**\n   * Decode audio data from an array buffer.\n   * @param  {ArrayBuffer} arraybuffer The audio data.\n   * @param  {Howl}        self\n   */\n  var decodeAudioData = function(arraybuffer, self) {\n    // Decode the buffer into an audio source.\n    Howler.ctx.decodeAudioData(arraybuffer, function(buffer) {\n      if (buffer && self._sounds.length > 0) {\n        cache[self._src] = buffer;\n        loadSound(self, buffer);\n      }\n    }, function() {\n      self._emit('loaderror', null, 'Decoding audio data failed.');\n    });\n  };\n\n  /**\n   * Sound is now loaded, so finish setting everything up and fire the loaded event.\n   * @param  {Howl} self\n   * @param  {Object} buffer The decoded buffer sound source.\n   */\n  var loadSound = function(self, buffer) {\n    // Set the duration.\n    if (buffer && !self._duration) {\n      self._duration = buffer.duration;\n    }\n\n    // Setup a sprite if none is defined.\n    if (Object.keys(self._sprite).length === 0) {\n      self._sprite = {__default: [0, self._duration * 1000]};\n    }\n\n    // Fire the loaded event.\n    if (self._state !== 'loaded') {\n      self._state = 'loaded';\n      self._emit('load');\n      self._loadQueue();\n    }\n  };\n\n  /**\n   * Setup the audio context when available, or switch to HTML5 Audio mode.\n   */\n  var setupAudioContext = function() {\n    // Check if we are using Web Audio and setup the AudioContext if we are.\n    try {\n      if (typeof AudioContext !== 'undefined') {\n        Howler.ctx = new AudioContext();\n      } else if (typeof webkitAudioContext !== 'undefined') {\n        Howler.ctx = new webkitAudioContext();\n      } else {\n        Howler.usingWebAudio = false;\n      }\n    } catch(e) {\n      Howler.usingWebAudio = false;\n    }\n\n    // Check if a webview is being used on iOS8 or earlier (rather than the browser).\n    // If it is, disable Web Audio as it causes crashing.\n    var iOS = (/iP(hone|od|ad)/.test(Howler._navigator && Howler._navigator.platform));\n    var appVersion = Howler._navigator && Howler._navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/);\n    var version = appVersion ? parseInt(appVersion[1], 10) : null;\n    if (iOS && version && version < 9) {\n      var safari = /safari/.test(Howler._navigator && Howler._navigator.userAgent.toLowerCase());\n      if (Howler._navigator && Howler._navigator.standalone && !safari || Howler._navigator && !Howler._navigator.standalone && !safari) {\n        Howler.usingWebAudio = false;\n      }\n    }\n\n    // Create and expose the master GainNode when using Web Audio (useful for plugins or advanced usage).\n    if (Howler.usingWebAudio) {\n      Howler.masterGain = (typeof Howler.ctx.createGain === 'undefined') ? Howler.ctx.createGainNode() : Howler.ctx.createGain();\n      Howler.masterGain.gain.value = 1;\n      Howler.masterGain.connect(Howler.ctx.destination);\n    }\n\n    // Re-run the setup on Howler.\n    Howler._setup();\n  };\n\n  // Add support for AMD (Asynchronous Module Definition) libraries such as require.js.\n  if (typeof define === 'function' && define.amd) {\n    define([], function() {\n      return {\n        Howler: Howler,\n        Howl: Howl\n      };\n    });\n  }\n\n  // Add support for CommonJS libraries such as browserify.\n  if (typeof exports !== 'undefined') {\n    exports.Howler = Howler;\n    exports.Howl = Howl;\n  }\n\n  // Define globally in case AMD is not available or unused.\n  if (typeof window !== 'undefined') {\n    window.HowlerGlobal = HowlerGlobal;\n    window.Howler = Howler;\n    window.Howl = Howl;\n    window.Sound = Sound;\n  } else if (typeof global !== 'undefined') { // Add to global in Node.js (for testing, etc).\n    global.HowlerGlobal = HowlerGlobal;\n    global.Howler = Howler;\n    global.Howl = Howl;\n    global.Sound = Sound;\n  }\n})();\n\n\n/*!\n *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.\n *  \n *  howler.js v2.0.2\n *  howlerjs.com\n *\n *  (c) 2013-2016, James Simpson of GoldFire Studios\n *  goldfirestudios.com\n *\n *  MIT License\n */\n\n(function() {\n\n  'use strict';\n\n  // Setup default properties.\n  HowlerGlobal.prototype._pos = [0, 0, 0];\n  HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0];\n  \n  /** Global Methods **/\n  /***************************************************************************/\n\n  /**\n   * Helper method to update the stereo panning position of all current Howls.\n   * Future Howls will not use this value unless explicitly set.\n   * @param  {Number} pan A value of -1.0 is all the way left and 1.0 is all the way right.\n   * @return {Howler/Number}     Self or current stereo panning value.\n   */\n  HowlerGlobal.prototype.stereo = function(pan) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Loop through all Howls and update their stereo panning.\n    for (var i=self._howls.length-1; i>=0; i--) {\n      self._howls[i].stereo(pan);\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the position of the listener in 3D cartesian space. Sounds using\n   * 3D position will be relative to the listener's position.\n   * @param  {Number} x The x-position of the listener.\n   * @param  {Number} y The y-position of the listener.\n   * @param  {Number} z The z-position of the listener.\n   * @return {Howler/Array}   Self or current listener position.\n   */\n  HowlerGlobal.prototype.pos = function(x, y, z) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? self._pos[1] : y;\n    z = (typeof z !== 'number') ? self._pos[2] : z;\n\n    if (typeof x === 'number') {\n      self._pos = [x, y, z];\n      self.ctx.listener.setPosition(self._pos[0], self._pos[1], self._pos[2]);\n    } else {\n      return self._pos;\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the direction the listener is pointing in the 3D cartesian space.\n   * A front and up vector must be provided. The front is the direction the\n   * face of the listener is pointing, and up is the direction the top of the\n   * listener is pointing. Thus, these values are expected to be at right angles\n   * from each other.\n   * @param  {Number} x   The x-orientation of the listener.\n   * @param  {Number} y   The y-orientation of the listener.\n   * @param  {Number} z   The z-orientation of the listener.\n   * @param  {Number} xUp The x-orientation of the top of the listener.\n   * @param  {Number} yUp The y-orientation of the top of the listener.\n   * @param  {Number} zUp The z-orientation of the top of the listener.\n   * @return {Howler/Array}     Returns self or the current orientation vectors.\n   */\n  HowlerGlobal.prototype.orientation = function(x, y, z, xUp, yUp, zUp) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    var or = self._orientation;\n    y = (typeof y !== 'number') ? or[1] : y;\n    z = (typeof z !== 'number') ? or[2] : z;\n    xUp = (typeof xUp !== 'number') ? or[3] : xUp;\n    yUp = (typeof yUp !== 'number') ? or[4] : yUp;\n    zUp = (typeof zUp !== 'number') ? or[5] : zUp;\n\n    if (typeof x === 'number') {\n      self._orientation = [x, y, z, xUp, yUp, zUp];\n      self.ctx.listener.setOrientation(x, y, z, xUp, yUp, zUp);\n    } else {\n      return or;\n    }\n\n    return self;\n  };\n\n  /** Group Methods **/\n  /***************************************************************************/\n\n  /**\n   * Add new properties to the core init.\n   * @param  {Function} _super Core init method.\n   * @return {Howl}\n   */\n  Howl.prototype.init = (function(_super) {\n    return function(o) {\n      var self = this;\n\n      // Setup user-defined default properties.\n      self._orientation = o.orientation || [1, 0, 0];\n      self._stereo = o.stereo || null;\n      self._pos = o.pos || null;\n      self._pannerAttr = {\n        coneInnerAngle: typeof o.coneInnerAngle !== 'undefined' ? o.coneInnerAngle : 360,\n        coneOuterAngle: typeof o.coneOuterAngle !== 'undefined' ? o.coneOuterAngle : 360,\n        coneOuterGain: typeof o.coneOuterGain !== 'undefined' ? o.coneOuterGain : 0,\n        distanceModel: typeof o.distanceModel !== 'undefined' ? o.distanceModel : 'inverse',\n        maxDistance: typeof o.maxDistance !== 'undefined' ? o.maxDistance : 10000,\n        panningModel: typeof o.panningModel !== 'undefined' ? o.panningModel : 'HRTF',\n        refDistance: typeof o.refDistance !== 'undefined' ? o.refDistance : 1,\n        rolloffFactor: typeof o.rolloffFactor !== 'undefined' ? o.rolloffFactor : 1\n      };\n\n      // Setup event listeners.\n      self._onstereo = o.onstereo ? [{fn: o.onstereo}] : [];\n      self._onpos = o.onpos ? [{fn: o.onpos}] : [];\n      self._onorientation = o.onorientation ? [{fn: o.onorientation}] : [];\n\n      // Complete initilization with howler.js core's init function.\n      return _super.call(this, o);\n    };\n  })(Howl.prototype.init);\n\n  /**\n   * Get/set the stereo panning of the audio source for this sound or all in the group.\n   * @param  {Number} pan  A value of -1.0 is all the way left and 1.0 is all the way right.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Number}    Returns self or the current stereo panning value.\n   */\n  Howl.prototype.stereo = function(pan, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change stereo pan when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'stereo',\n        action: function() {\n          self.stereo(pan, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Check for PannerStereoNode support and fallback to PannerNode if it doesn't exist.\n    var pannerType = (typeof Howler.ctx.createStereoPanner === 'undefined') ? 'spatial' : 'stereo';\n\n    // Setup the group's stereo panning if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's stereo panning if no parameters are passed.\n      if (typeof pan === 'number') {\n        self._stereo = pan;\n        self._pos = [pan, 0, 0];\n      } else {\n        return self._stereo;\n      }\n    }\n\n    // Change the streo panning of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof pan === 'number') {\n          sound._stereo = pan;\n          sound._pos = [pan, 0, 0];\n\n          if (sound._node) {\n            // If we are falling back, make sure the panningModel is equalpower.\n            sound._pannerAttr.panningModel = 'equalpower';\n\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner || !sound._panner.pan) {\n              setupPanner(sound, pannerType);\n            }\n\n            if (pannerType === 'spatial') {\n              sound._panner.setPosition(pan, 0, 0);\n            } else {\n              sound._panner.pan.value = pan;\n            }\n          }\n\n          self._emit('stereo', sound._id);\n        } else {\n          return sound._stereo;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the 3D spatial position of the audio source for this sound or\n   * all in the group. The most common usage is to set the 'x' position for\n   * left/right panning. Setting any value higher than 1.0 will begin to\n   * decrease the volume of the sound as it moves further away.\n   * @param  {Number} x  The x-position of the audio from -1000.0 to 1000.0.\n   * @param  {Number} y  The y-position of the audio from -1000.0 to 1000.0.\n   * @param  {Number} z  The z-position of the audio from -1000.0 to 1000.0.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Array}    Returns self or the current 3D spatial position: [x, y, z].\n   */\n  Howl.prototype.pos = function(x, y, z, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change position when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'pos',\n        action: function() {\n          self.pos(x, y, z, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? 0 : y;\n    z = (typeof z !== 'number') ? -0.5 : z;\n\n    // Setup the group's spatial position if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's spatial position if no parameters are passed.\n      if (typeof x === 'number') {\n        self._pos = [x, y, z];\n      } else {\n        return self._pos;\n      }\n    }\n\n    // Change the spatial position of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof x === 'number') {\n          sound._pos = [x, y, z];\n\n          if (sound._node) {\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner || sound._panner.pan) {\n              setupPanner(sound, 'spatial');\n            }\n\n            sound._panner.setPosition(x, y, z);\n          }\n\n          self._emit('pos', sound._id);\n        } else {\n          return sound._pos;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the direction the audio source is pointing in the 3D cartesian coordinate\n   * space. Depending on how direction the sound is, based on the `cone` attributes,\n   * a sound pointing away from the listener can be quiet or silent.\n   * @param  {Number} x  The x-orientation of the source.\n   * @param  {Number} y  The y-orientation of the source.\n   * @param  {Number} z  The z-orientation of the source.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Array}    Returns self or the current 3D spatial orientation: [x, y, z].\n   */\n  Howl.prototype.orientation = function(x, y, z, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change orientation when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'orientation',\n        action: function() {\n          self.orientation(x, y, z, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? self._orientation[1] : y;\n    z = (typeof z !== 'number') ? self._orientation[2] : z;\n\n    // Setup the group's spatial orientation if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's spatial orientation if no parameters are passed.\n      if (typeof x === 'number') {\n        self._orientation = [x, y, z];\n      } else {\n        return self._orientation;\n      }\n    }\n\n    // Change the spatial orientation of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof x === 'number') {\n          sound._orientation = [x, y, z];\n\n          if (sound._node) {\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner) {\n              // Make sure we have a position to setup the node with.\n              if (!sound._pos) {\n                sound._pos = self._pos || [0, 0, -0.5];\n              }\n\n              setupPanner(sound, 'spatial');\n            }\n\n            sound._panner.setOrientation(x, y, z);\n          }\n\n          self._emit('orientation', sound._id);\n        } else {\n          return sound._orientation;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the panner node's attributes for a sound or group of sounds.\n   * This method can optionall take 0, 1 or 2 arguments.\n   *   pannerAttr() -> Returns the group's values.\n   *   pannerAttr(id) -> Returns the sound id's values.\n   *   pannerAttr(o) -> Set's the values of all sounds in this Howl group.\n   *   pannerAttr(o, id) -> Set's the values of passed sound id.\n   *\n   *   Attributes:\n   *     coneInnerAngle - (360 by default) There will be no volume reduction inside this angle.\n   *     coneOuterAngle - (360 by default) The volume will be reduced to a constant value of\n   *                      `coneOuterGain` outside this angle.\n   *     coneOuterGain - (0 by default) The amount of volume reduction outside of `coneOuterAngle`.\n   *     distanceModel - ('inverse' by default) Determines algorithm to use to reduce volume as audio moves\n   *                      away from listener. Can be `linear`, `inverse` or `exponential`.\n   *     maxDistance - (10000 by default) Volume won't reduce between source/listener beyond this distance.\n   *     panningModel - ('HRTF' by default) Determines which spatialization algorithm is used to position audio.\n   *                     Can be `HRTF` or `equalpower`.\n   *     refDistance - (1 by default) A reference distance for reducing volume as the source\n   *                    moves away from the listener.\n   *     rolloffFactor - (1 by default) How quickly the volume reduces as source moves from listener.\n   * \n   * @return {Howl/Object} Returns self or current panner attributes.\n   */\n  Howl.prototype.pannerAttr = function() {\n    var self = this;\n    var args = arguments;\n    var o, id, sound;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // Determine the values based on arguments.\n    if (args.length === 0) {\n      // Return the group's panner attribute values.\n      return self._pannerAttr;\n    } else if (args.length === 1) {\n      if (typeof args[0] === 'object') {\n        o = args[0];\n\n        // Set the grou's panner attribute values.\n        if (typeof id === 'undefined') {\n          self._pannerAttr = {\n            coneInnerAngle: typeof o.coneInnerAngle !== 'undefined' ? o.coneInnerAngle : self._coneInnerAngle,\n            coneOuterAngle: typeof o.coneOuterAngle !== 'undefined' ? o.coneOuterAngle : self._coneOuterAngle,\n            coneOuterGain: typeof o.coneOuterGain !== 'undefined' ? o.coneOuterGain : self._coneOuterGain,\n            distanceModel: typeof o.distanceModel !== 'undefined' ? o.distanceModel : self._distanceModel,\n            maxDistance: typeof o.maxDistance !== 'undefined' ? o.maxDistance : self._maxDistance,\n            panningModel: typeof o.panningModel !== 'undefined' ? o.panningModel : self._panningModel,\n            refDistance: typeof o.refDistance !== 'undefined' ? o.refDistance : self._refDistance,\n            rolloffFactor: typeof o.rolloffFactor !== 'undefined' ? o.rolloffFactor : self._rolloffFactor\n          };\n        }\n      } else {\n        // Return this sound's panner attribute values.\n        sound = self._soundById(parseInt(args[0], 10));\n        return sound ? sound._pannerAttr : self._pannerAttr;\n      }\n    } else if (args.length === 2) {\n      o = args[0];\n      id = parseInt(args[1], 10);\n    }\n\n    // Update the values of the specified sounds.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      sound = self._soundById(ids[i]);\n\n      if (sound) {\n        // Merge the new values into the sound.\n        var pa = sound._pannerAttr;\n        pa = {\n          coneInnerAngle: typeof o.coneInnerAngle !== 'undefined' ? o.coneInnerAngle : pa.coneInnerAngle,\n          coneOuterAngle: typeof o.coneOuterAngle !== 'undefined' ? o.coneOuterAngle : pa.coneOuterAngle,\n          coneOuterGain: typeof o.coneOuterGain !== 'undefined' ? o.coneOuterGain : pa.coneOuterGain,\n          distanceModel: typeof o.distanceModel !== 'undefined' ? o.distanceModel : pa.distanceModel,\n          maxDistance: typeof o.maxDistance !== 'undefined' ? o.maxDistance : pa.maxDistance,\n          panningModel: typeof o.panningModel !== 'undefined' ? o.panningModel : pa.panningModel,\n          refDistance: typeof o.refDistance !== 'undefined' ? o.refDistance : pa.refDistance,\n          rolloffFactor: typeof o.rolloffFactor !== 'undefined' ? o.rolloffFactor : pa.rolloffFactor\n        };\n\n        // Update the panner values or create a new panner if none exists.\n        var panner = sound._panner;\n        if (panner) {\n          panner.coneInnerAngle = pa.coneInnerAngle;\n          panner.coneOuterAngle = pa.coneOuterAngle;\n          panner.coneOuterGain = pa.coneOuterGain;\n          panner.distanceModel = pa.distanceModel;\n          panner.maxDistance = pa.maxDistance;\n          panner.panningModel = pa.panningModel;\n          panner.refDistance = pa.refDistance;\n          panner.rolloffFactor = pa.rolloffFactor;\n        } else {\n          // Make sure we have a position to setup the node with.\n          if (!sound._pos) {\n            sound._pos = self._pos || [0, 0, -0.5];\n          }\n\n          // Create a new panner node.\n          setupPanner(sound, 'spatial');\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /** Single Sound Methods **/\n  /***************************************************************************/\n\n  /**\n   * Add new properties to the core Sound init.\n   * @param  {Function} _super Core Sound init method.\n   * @return {Sound}\n   */\n  Sound.prototype.init = (function(_super) {\n    return function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Setup user-defined default properties.\n      self._orientation = parent._orientation;\n      self._stereo = parent._stereo;\n      self._pos = parent._pos;\n      self._pannerAttr = parent._pannerAttr;\n\n      // Complete initilization with howler.js core Sound's init function.\n      _super.call(this);\n\n      // If a stereo or position was specified, set it up.\n      if (self._stereo) {\n        parent.stereo(self._stereo);\n      } else if (self._pos) {\n        parent.pos(self._pos[0], self._pos[1], self._pos[2], self._id);\n      }\n    };\n  })(Sound.prototype.init);\n\n  /**\n   * Override the Sound.reset method to clean up properties from the spatial plugin.\n   * @param  {Function} _super Sound reset method.\n   * @return {Sound}\n   */\n  Sound.prototype.reset = (function(_super) {\n    return function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Reset all spatial plugin properties on this sound.\n      self._orientation = parent._orientation;\n      self._pos = parent._pos;\n      self._pannerAttr = parent._pannerAttr;\n\n      // Complete resetting of the sound.\n      return _super.call(this);\n    };\n  })(Sound.prototype.reset);\n\n  /** Helper Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create a new panner node and save it on the sound.\n   * @param  {Sound} sound Specific sound to setup panning on.\n   * @param {String} type Type of panner to create: 'stereo' or 'spatial'.\n   */\n  var setupPanner = function(sound, type) {\n    type = type || 'spatial';\n\n    // Create the new panner node.\n    if (type === 'spatial') {\n      sound._panner = Howler.ctx.createPanner();\n      sound._panner.coneInnerAngle = sound._pannerAttr.coneInnerAngle;\n      sound._panner.coneOuterAngle = sound._pannerAttr.coneOuterAngle;\n      sound._panner.coneOuterGain = sound._pannerAttr.coneOuterGain;\n      sound._panner.distanceModel = sound._pannerAttr.distanceModel;\n      sound._panner.maxDistance = sound._pannerAttr.maxDistance;\n      sound._panner.panningModel = sound._pannerAttr.panningModel;\n      sound._panner.refDistance = sound._pannerAttr.refDistance;\n      sound._panner.rolloffFactor = sound._pannerAttr.rolloffFactor;\n      sound._panner.setPosition(sound._pos[0], sound._pos[1], sound._pos[2]);\n      sound._panner.setOrientation(sound._orientation[0], sound._orientation[1], sound._orientation[2]);\n    } else {\n      sound._panner = Howler.ctx.createStereoPanner();\n      sound._panner.pan.value = sound._stereo;\n    }\n\n    sound._panner.connect(sound._node);\n\n    // Update the connections.\n    if (!sound._paused) {\n      sound._parent.pause(sound._id, true).play(sound._id);\n    }\n  };\n})();\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getPathColorName = getPathColorName;\nexports.getColorName = getColorName;\nvar config = require('./../../config');\n\nvar transparent = exports.transparent = new Color(0, 0);\n\nfunction getPathColorName(path) {\n  var hexColor = path.parent.data.originalColor;\n  // let hexColor = path.strokeColor.toCSS(true); // This fails when it's a gradient\n  return getColorName(hexColor);\n}\n\nfunction getColorName(color) {\n  if (color) {\n    color = color.toUpperCase(); // make sure\n    if (color in config.palette.colorNames) {\n      return config.palette.colorNames[color];\n    } else {\n      return null;\n    }\n  } else {\n    return null;\n  }\n}\n\n},{\"./../../config\":1}],5:[function(require,module,exports){\n\"use strict\";\n\n(function (root, factory) {\n\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof module !== \"undefined\" && module.exports) {\n    module.exports = factory();\n  } else {\n    root.ShapeDetector = factory();\n  }\n})(undefined, function () {\n\n  var _nbSamplePoints;\n  var _squareSize = 250;\n  var _phi = 0.5 * (-1.0 + Math.sqrt(5.0));\n  var _angleRange = deg2Rad(45.0);\n  var _anglePrecision = deg2Rad(2.0);\n  var _halfDiagonal = Math.sqrt(_squareSize * _squareSize + _squareSize * _squareSize) * 0.5;\n  var _origin = {\n    x: 0,\n    y: 0\n  };\n\n  function deg2Rad(d) {\n\n    return d * Math.PI / 180.0;\n  };\n\n  function getDistance(a, b) {\n\n    var dx = b.x - a.x;\n    var dy = b.y - a.y;\n\n    return Math.sqrt(dx * dx + dy * dy);\n  };\n\n  function Stroke(points, name) {\n\n    this.points = points;\n    this.name = name;\n    this.processStroke();\n  };\n\n  Stroke.prototype.processStroke = function () {\n\n    this.points = this.resample();\n    this.setCentroid();\n    this.points = this.rotateBy(-this.indicativeAngle());\n    this.points = this.scaleToSquare();\n    this.setCentroid();\n    this.points = this.translateToOrigin();\n\n    return this;\n  };\n\n  Stroke.prototype.resample = function () {\n\n    var localDistance, q;\n    var interval = this.strokeLength() / (_nbSamplePoints - 1);\n    var distance = 0.0;\n    var newPoints = [this.points[0]];\n\n    for (var i = 1; i < this.points.length; i++) {\n      localDistance = getDistance(this.points[i - 1], this.points[i]);\n\n      if (distance + localDistance >= interval) {\n        q = {\n          x: this.points[i - 1].x + (interval - distance) / localDistance * (this.points[i].x - this.points[i - 1].x),\n          y: this.points[i - 1].y + (interval - distance) / localDistance * (this.points[i].y - this.points[i - 1].y)\n        };\n\n        newPoints.push(q);\n        this.points.splice(i, 0, q);\n        distance = 0.0;\n      } else {\n        distance += localDistance;\n      }\n    }\n\n    if (newPoints.length === _nbSamplePoints - 1) {\n      newPoints.push(this.points[this.points.length - 1]);\n    }\n\n    return newPoints;\n  };\n\n  Stroke.prototype.rotateBy = function (angle) {\n\n    var point;\n    var cos = Math.cos(angle);\n    var sin = Math.sin(angle);\n    var newPoints = [];\n\n    for (var i = 0; i < this.points.length; i++) {\n      point = this.points[i];\n\n      newPoints.push({\n        x: (point.x - this.c.x) * cos - (point.y - this.c.y) * sin + this.c.x,\n        y: (point.x - this.c.x) * sin + (point.y - this.c.y) * cos + this.c.y\n      });\n    }\n\n    return newPoints;\n  };\n\n  Stroke.prototype.scaleToSquare = function () {\n\n    var point;\n    var newPoints = [];\n    var box = {\n      minX: +Infinity,\n      maxX: -Infinity,\n      minY: +Infinity,\n      maxY: -Infinity\n    };\n\n    for (var i = 0; i < this.points.length; i++) {\n      point = this.points[i];\n\n      box.minX = Math.min(box.minX, point.x);\n      box.minY = Math.min(box.minY, point.y);\n      box.maxX = Math.max(box.maxX, point.x);\n      box.maxY = Math.max(box.maxY, point.y);\n    }\n\n    box.width = box.maxX - box.minX;\n    box.height = box.maxY - box.minY;\n\n    for (i = 0; i < this.points.length; i++) {\n      point = this.points[i];\n\n      newPoints.push({\n        x: point.x * (_squareSize / box.width),\n        y: point.y * (_squareSize / box.height)\n      });\n    }\n\n    return newPoints;\n  };\n\n  Stroke.prototype.translateToOrigin = function (points) {\n\n    var point;\n    var newPoints = [];\n\n    for (var i = 0; i < this.points.length; i++) {\n      point = this.points[i];\n\n      newPoints.push({\n        x: point.x + _origin.x - this.c.x,\n        y: point.y + _origin.y - this.c.y\n      });\n    }\n\n    return newPoints;\n  };\n\n  Stroke.prototype.setCentroid = function () {\n\n    var point;\n    this.c = {\n      x: 0.0,\n      y: 0.0\n    };\n\n    for (var i = 0; i < this.points.length; i++) {\n      point = this.points[i];\n\n      this.c.x += point.x;\n      this.c.y += point.y;\n    }\n\n    this.c.x /= this.points.length;\n    this.c.y /= this.points.length;\n\n    return this;\n  };\n\n  Stroke.prototype.indicativeAngle = function () {\n\n    return Math.atan2(this.c.y - this.points[0].y, this.c.x - this.points[0].x);\n  };\n\n  Stroke.prototype.strokeLength = function () {\n\n    var d = 0.0;\n\n    for (var i = 1; i < this.points.length; i++) {\n      d += getDistance(this.points[i - 1], this.points[i]);\n    }\n\n    return d;\n  };\n\n  Stroke.prototype.distanceAtBestAngle = function (pattern) {\n\n    var a = -_angleRange;\n    var b = _angleRange;\n    var x1 = _phi * a + (1.0 - _phi) * b;\n    var f1 = this.distanceAtAngle(pattern, x1);\n    var x2 = (1.0 - _phi) * a + _phi * b;\n    var f2 = this.distanceAtAngle(pattern, x2);\n\n    while (Math.abs(b - a) > _anglePrecision) {\n\n      if (f1 < f2) {\n        b = x2;\n        x2 = x1;\n        f2 = f1;\n        x1 = _phi * a + (1.0 - _phi) * b;\n        f1 = this.distanceAtAngle(pattern, x1);\n      } else {\n        a = x1;\n        x1 = x2;\n        f1 = f2;\n        x2 = (1.0 - _phi) * a + _phi * b;\n        f2 = this.distanceAtAngle(pattern, x2);\n      }\n    }\n\n    return Math.min(f1, f2);\n  };\n\n  Stroke.prototype.distanceAtAngle = function (pattern, angle) {\n\n    var strokePoints = this.rotateBy(angle);\n    var patternPoints = pattern.points;\n    var d = 0.0;\n\n    for (var i = 0; i < strokePoints.length; i++) {\n      d += getDistance(strokePoints[i], patternPoints[i]);\n    }\n\n    return d / strokePoints.length;\n  };\n\n  function ShapeDetector(patterns, options) {\n\n    options = options || {};\n    this.threshold = options.threshold || 0;\n    _nbSamplePoints = options.nbSamplePoints || 64;\n\n    this.patterns = [];\n\n    for (var i = 0; i < patterns.length; i++) {\n      this.learn(patterns[i].name, patterns[i].points);\n    }\n  }\n\n  ShapeDetector.defaultShapes = [{\n    points: [{ x: 0, y: 50 }, { x: 100, y: 50 }],\n    name: \"line\"\n  }, {\n    points: [{ x: 50, y: 0 }, { x: 50, y: 100 }],\n    name: \"line\"\n  }, {\n    points: [{ x: 0, y: 0 }, { x: 100, y: 100 }],\n    name: \"line\"\n  }, {\n    points: [{ \"x\": 89, \"y\": 164 }, { \"x\": 90, \"y\": 162 }, { \"x\": 92, \"y\": 162 }, { \"x\": 94, \"y\": 164 }, { \"x\": 95, \"y\": 166 }, { \"x\": 96, \"y\": 169 }, { \"x\": 97, \"y\": 171 }, { \"x\": 99, \"y\": 175 }, { \"x\": 101, \"y\": 178 }, { \"x\": 103, \"y\": 182 }, { \"x\": 106, \"y\": 189 }, { \"x\": 108, \"y\": 194 }, { \"x\": 111, \"y\": 199 }, { \"x\": 114, \"y\": 204 }, { \"x\": 117, \"y\": 209 }, { \"x\": 119, \"y\": 214 }, { \"x\": 122, \"y\": 218 }, { \"x\": 124, \"y\": 222 }, { \"x\": 126, \"y\": 225 }, { \"x\": 128, \"y\": 228 }, { \"x\": 130, \"y\": 229 }, { \"x\": 133, \"y\": 233 }, { \"x\": 134, \"y\": 236 }, { \"x\": 136, \"y\": 239 }, { \"x\": 138, \"y\": 240 }, { \"x\": 139, \"y\": 242 }, { \"x\": 140, \"y\": 244 }, { \"x\": 142, \"y\": 242 }, { \"x\": 142, \"y\": 240 }, { \"x\": 142, \"y\": 237 }, { \"x\": 143, \"y\": 235 }, { \"x\": 143, \"y\": 233 }, { \"x\": 145, \"y\": 229 }, { \"x\": 146, \"y\": 226 }, { \"x\": 148, \"y\": 217 }, { \"x\": 149, \"y\": 208 }, { \"x\": 149, \"y\": 205 }, { \"x\": 151, \"y\": 196 }, { \"x\": 151, \"y\": 193 }, { \"x\": 153, \"y\": 182 }, { \"x\": 155, \"y\": 172 }, { \"x\": 157, \"y\": 165 }, { \"x\": 159, \"y\": 160 }, { \"x\": 162, \"y\": 155 }, { \"x\": 164, \"y\": 150 }, { \"x\": 165, \"y\": 148 }, { \"x\": 166, \"y\": 146 }],\n    name: \"line\"\n  }, {\n    points: [{ \"x\": 91, \"y\": 185 }, { \"x\": 93, \"y\": 185 }, { \"x\": 95, \"y\": 185 }, { \"x\": 97, \"y\": 185 }, { \"x\": 100, \"y\": 188 }, { \"x\": 102, \"y\": 189 }, { \"x\": 104, \"y\": 190 }, { \"x\": 106, \"y\": 193 }, { \"x\": 108, \"y\": 195 }, { \"x\": 110, \"y\": 198 }, { \"x\": 112, \"y\": 201 }, { \"x\": 114, \"y\": 204 }, { \"x\": 115, \"y\": 207 }, { \"x\": 117, \"y\": 210 }, { \"x\": 118, \"y\": 212 }, { \"x\": 120, \"y\": 214 }, { \"x\": 121, \"y\": 217 }, { \"x\": 122, \"y\": 219 }, { \"x\": 123, \"y\": 222 }, { \"x\": 124, \"y\": 224 }, { \"x\": 126, \"y\": 226 }, { \"x\": 127, \"y\": 229 }, { \"x\": 129, \"y\": 231 }, { \"x\": 130, \"y\": 233 }, { \"x\": 129, \"y\": 231 }, { \"x\": 129, \"y\": 228 }, { \"x\": 129, \"y\": 226 }, { \"x\": 129, \"y\": 224 }, { \"x\": 129, \"y\": 221 }, { \"x\": 129, \"y\": 218 }, { \"x\": 129, \"y\": 212 }, { \"x\": 129, \"y\": 208 }, { \"x\": 130, \"y\": 198 }, { \"x\": 132, \"y\": 189 }, { \"x\": 134, \"y\": 182 }, { \"x\": 137, \"y\": 173 }, { \"x\": 143, \"y\": 164 }, { \"x\": 147, \"y\": 157 }, { \"x\": 151, \"y\": 151 }, { \"x\": 155, \"y\": 144 }, { \"x\": 161, \"y\": 137 }, { \"x\": 165, \"y\": 131 }, { \"x\": 171, \"y\": 122 }, { \"x\": 174, \"y\": 118 }, { \"x\": 176, \"y\": 114 }, { \"x\": 177, \"y\": 112 }, { \"x\": 177, \"y\": 114 }, { \"x\": 175, \"y\": 116 }, { \"x\": 173, \"y\": 118 }],\n    name: \"line\"\n  }, {\n    points: [{ \"x\": 113, \"y\": 68 }, { \"x\": 86, \"y\": 79 }, { \"x\": 63, \"y\": 131 }, { \"x\": 78, \"y\": 147 }, { \"x\": 156, \"y\": 149 }, { \"x\": 195, \"y\": 100 }, { \"x\": 189, \"y\": 79 }, { \"x\": 125.73497, \"y\": 62.81168 }],\n    name: \"circle\"\n  }, {\n    points: [{ \"x\": 98, \"y\": 67 }, { \"x\": 77, \"y\": 85 }, { \"x\": 77, \"y\": 162 }, { \"x\": 179, \"y\": 156 }, { \"x\": 197, \"y\": 123 }, { \"x\": 167, \"y\": 63 }, { \"x\": 141, \"y\": 61 }, { \"x\": 110, \"y\": 59 }, { \"x\": 106.51192, \"y\": 59.70407 }],\n    name: \"circle\"\n  }, {\n    points: [{ \"x\": 60, \"y\": 47 }, { \"x\": 43, \"y\": 96 }, { \"x\": 52, \"y\": 206 }, { \"x\": 63, \"y\": 246 }, { \"x\": 118, \"y\": 296 }, { \"x\": 144, \"y\": 246 }, { \"x\": 141, \"y\": 147 }, { \"x\": 133, \"y\": 129 }, { \"x\": 113, \"y\": 80 }, { \"x\": 60.42738, \"y\": 45.76813 }],\n    name: \"circle\"\n  }, {\n    points: [{ \"x\": 127, \"y\": 141 }, { \"x\": 124, \"y\": 140 }, { \"x\": 120, \"y\": 139 }, { \"x\": 118, \"y\": 139 }, { \"x\": 116, \"y\": 139 }, { \"x\": 111, \"y\": 140 }, { \"x\": 109, \"y\": 141 }, { \"x\": 104, \"y\": 144 }, { \"x\": 100, \"y\": 147 }, { \"x\": 96, \"y\": 152 }, { \"x\": 93, \"y\": 157 }, { \"x\": 90, \"y\": 163 }, { \"x\": 87, \"y\": 169 }, { \"x\": 85, \"y\": 175 }, { \"x\": 83, \"y\": 181 }, { \"x\": 82, \"y\": 190 }, { \"x\": 82, \"y\": 195 }, { \"x\": 83, \"y\": 200 }, { \"x\": 84, \"y\": 205 }, { \"x\": 88, \"y\": 213 }, { \"x\": 91, \"y\": 216 }, { \"x\": 96, \"y\": 219 }, { \"x\": 103, \"y\": 222 }, { \"x\": 108, \"y\": 224 }, { \"x\": 111, \"y\": 224 }, { \"x\": 120, \"y\": 224 }, { \"x\": 133, \"y\": 223 }, { \"x\": 142, \"y\": 222 }, { \"x\": 152, \"y\": 218 }, { \"x\": 160, \"y\": 214 }, { \"x\": 167, \"y\": 210 }, { \"x\": 173, \"y\": 204 }, { \"x\": 178, \"y\": 198 }, { \"x\": 179, \"y\": 196 }, { \"x\": 182, \"y\": 188 }, { \"x\": 182, \"y\": 177 }, { \"x\": 178, \"y\": 167 }, { \"x\": 170, \"y\": 150 }, { \"x\": 163, \"y\": 138 }, { \"x\": 152, \"y\": 130 }, { \"x\": 143, \"y\": 129 }, { \"x\": 140, \"y\": 131 }, { \"x\": 129, \"y\": 136 }, { \"x\": 126, \"y\": 139 }],\n    name: \"circle\"\n  }, {\n    points: [{ \"x\": 516, \"y\": 284 }, { \"x\": 496, \"y\": 319 }, { \"x\": 496, \"y\": 329 }, { \"x\": 513, \"y\": 329 }, { \"x\": 550, \"y\": 324 }, { \"x\": 696, \"y\": 305 }, { \"x\": 737, \"y\": 298 }, { \"x\": 746, \"y\": 292 }, { \"x\": 734, \"y\": 278 }, { \"x\": 709, \"y\": 252 }, { \"x\": 664, \"y\": 193 }],\n    name: \"triangle\"\n  }, {\n    points: [{ \"x\": 179, \"y\": 159 }, { \"x\": 152, \"y\": 290 }, { \"x\": 143, \"y\": 336 }, { \"x\": 142, \"y\": 355 }, { \"x\": 160, \"y\": 348 }, { \"x\": 208, \"y\": 337 }, { \"x\": 241, \"y\": 330 }, { \"x\": 256, \"y\": 328 }, { \"x\": 254, \"y\": 315 }, { \"x\": 238, \"y\": 277 }, { \"x\": 210, \"y\": 200 }, { \"x\": 182.94356, \"y\": 110.45656 }],\n    name: \"triangle\"\n  }, {\n    points: [{ \"x\": 105, \"y\": 335 }, { \"x\": 115, \"y\": 362 }, { \"x\": 128, \"y\": 338 }, { \"x\": 163, \"y\": 271 }, { \"x\": 241, \"y\": 135 }, { \"x\": 261, \"y\": 104 }, { \"x\": 267, \"y\": 98 }, { \"x\": 261, \"y\": 102 }, { \"x\": 236, \"y\": 119 }, { \"x\": 151, \"y\": 195 }, { \"x\": 108, \"y\": 235 }, { \"x\": 83, \"y\": 267 }, { \"x\": 79.92616, \"y\": 270.93451 }],\n    name: \"triangle\"\n  }, {\n    points: [{ \"x\": 137, \"y\": 139 }, { \"x\": 135, \"y\": 141 }, { \"x\": 133, \"y\": 144 }, { \"x\": 132, \"y\": 146 }, { \"x\": 130, \"y\": 149 }, { \"x\": 128, \"y\": 151 }, { \"x\": 126, \"y\": 155 }, { \"x\": 123, \"y\": 160 }, { \"x\": 120, \"y\": 166 }, { \"x\": 116, \"y\": 171 }, { \"x\": 112, \"y\": 177 }, { \"x\": 107, \"y\": 183 }, { \"x\": 102, \"y\": 188 }, { \"x\": 100, \"y\": 191 }, { \"x\": 95, \"y\": 195 }, { \"x\": 90, \"y\": 199 }, { \"x\": 86, \"y\": 203 }, { \"x\": 82, \"y\": 206 }, { \"x\": 80, \"y\": 209 }, { \"x\": 75, \"y\": 213 }, { \"x\": 73, \"y\": 213 }, { \"x\": 70, \"y\": 216 }, { \"x\": 67, \"y\": 219 }, { \"x\": 64, \"y\": 221 }, { \"x\": 61, \"y\": 223 }, { \"x\": 60, \"y\": 225 }, { \"x\": 62, \"y\": 226 }, { \"x\": 65, \"y\": 225 }, { \"x\": 67, \"y\": 226 }, { \"x\": 74, \"y\": 226 }, { \"x\": 77, \"y\": 227 }, { \"x\": 85, \"y\": 229 }, { \"x\": 91, \"y\": 230 }, { \"x\": 99, \"y\": 231 }, { \"x\": 108, \"y\": 232 }, { \"x\": 116, \"y\": 233 }, { \"x\": 125, \"y\": 233 }, { \"x\": 134, \"y\": 234 }, { \"x\": 145, \"y\": 233 }, { \"x\": 153, \"y\": 232 }, { \"x\": 160, \"y\": 233 }, { \"x\": 170, \"y\": 234 }, { \"x\": 177, \"y\": 235 }, { \"x\": 179, \"y\": 236 }, { \"x\": 186, \"y\": 237 }, { \"x\": 193, \"y\": 238 }, { \"x\": 198, \"y\": 239 }, { \"x\": 200, \"y\": 237 }, { \"x\": 202, \"y\": 239 }, { \"x\": 204, \"y\": 238 }, { \"x\": 206, \"y\": 234 }, { \"x\": 205, \"y\": 230 }, { \"x\": 202, \"y\": 222 }, { \"x\": 197, \"y\": 216 }, { \"x\": 192, \"y\": 207 }, { \"x\": 186, \"y\": 198 }, { \"x\": 179, \"y\": 189 }, { \"x\": 174, \"y\": 183 }, { \"x\": 170, \"y\": 178 }, { \"x\": 164, \"y\": 171 }, { \"x\": 161, \"y\": 168 }, { \"x\": 154, \"y\": 160 }, { \"x\": 148, \"y\": 155 }, { \"x\": 143, \"y\": 150 }, { \"x\": 138, \"y\": 148 }, { \"x\": 136, \"y\": 148 }],\n    name: \"triangle\"\n  }, {\n    points: [{ x: 0, y: 0 }, { x: 0, y: 50 }, { x: 50, y: 50 }, { x: 50, y: 0 }],\n    name: \"square\"\n  }, {\n    points: [{ x: 0, y: 0 }, { x: 0, y: 100 }, { x: 50, y: 100 }, { x: 50, y: 0 }],\n    name: \"square\"\n  }, {\n    points: [{ \"x\": 78, \"y\": 149 }, { \"x\": 78, \"y\": 153 }, { \"x\": 78, \"y\": 157 }, { \"x\": 78, \"y\": 160 }, { \"x\": 79, \"y\": 162 }, { \"x\": 79, \"y\": 164 }, { \"x\": 79, \"y\": 167 }, { \"x\": 79, \"y\": 169 }, { \"x\": 79, \"y\": 173 }, { \"x\": 79, \"y\": 178 }, { \"x\": 79, \"y\": 183 }, { \"x\": 80, \"y\": 189 }, { \"x\": 80, \"y\": 193 }, { \"x\": 80, \"y\": 198 }, { \"x\": 80, \"y\": 202 }, { \"x\": 81, \"y\": 208 }, { \"x\": 81, \"y\": 210 }, { \"x\": 81, \"y\": 216 }, { \"x\": 82, \"y\": 222 }, { \"x\": 82, \"y\": 224 }, { \"x\": 82, \"y\": 227 }, { \"x\": 83, \"y\": 229 }, { \"x\": 83, \"y\": 231 }, { \"x\": 85, \"y\": 230 }, { \"x\": 88, \"y\": 232 }, { \"x\": 90, \"y\": 233 }, { \"x\": 92, \"y\": 232 }, { \"x\": 94, \"y\": 233 }, { \"x\": 99, \"y\": 232 }, { \"x\": 102, \"y\": 233 }, { \"x\": 106, \"y\": 233 }, { \"x\": 109, \"y\": 234 }, { \"x\": 117, \"y\": 235 }, { \"x\": 123, \"y\": 236 }, { \"x\": 126, \"y\": 236 }, { \"x\": 135, \"y\": 237 }, { \"x\": 142, \"y\": 238 }, { \"x\": 145, \"y\": 238 }, { \"x\": 152, \"y\": 238 }, { \"x\": 154, \"y\": 239 }, { \"x\": 165, \"y\": 238 }, { \"x\": 174, \"y\": 237 }, { \"x\": 179, \"y\": 236 }, { \"x\": 186, \"y\": 235 }, { \"x\": 191, \"y\": 235 }, { \"x\": 195, \"y\": 233 }, { \"x\": 197, \"y\": 233 }, { \"x\": 200, \"y\": 233 }, { \"x\": 201, \"y\": 235 }, { \"x\": 201, \"y\": 233 }, { \"x\": 199, \"y\": 231 }, { \"x\": 198, \"y\": 226 }, { \"x\": 198, \"y\": 220 }, { \"x\": 196, \"y\": 207 }, { \"x\": 195, \"y\": 195 }, { \"x\": 195, \"y\": 181 }, { \"x\": 195, \"y\": 173 }, { \"x\": 195, \"y\": 163 }, { \"x\": 194, \"y\": 155 }, { \"x\": 192, \"y\": 145 }, { \"x\": 192, \"y\": 143 }, { \"x\": 192, \"y\": 138 }, { \"x\": 191, \"y\": 135 }, { \"x\": 191, \"y\": 133 }, { \"x\": 191, \"y\": 130 }, { \"x\": 190, \"y\": 128 }, { \"x\": 188, \"y\": 129 }, { \"x\": 186, \"y\": 129 }, { \"x\": 181, \"y\": 132 }, { \"x\": 173, \"y\": 131 }, { \"x\": 162, \"y\": 131 }, { \"x\": 151, \"y\": 132 }, { \"x\": 149, \"y\": 132 }, { \"x\": 138, \"y\": 132 }, { \"x\": 136, \"y\": 132 }, { \"x\": 122, \"y\": 131 }, { \"x\": 120, \"y\": 131 }, { \"x\": 109, \"y\": 130 }, { \"x\": 107, \"y\": 130 }, { \"x\": 90, \"y\": 132 }, { \"x\": 81, \"y\": 133 }, { \"x\": 76, \"y\": 133 }],\n    name: \"square\"\n  }, {\n    points: [{ \"x\": 67, \"y\": 172 }, { \"x\": 80, \"y\": 85 }, { \"x\": 83, \"y\": 58 }, { \"x\": 83, \"y\": 54 }, { \"x\": 136, \"y\": 110 }, { \"x\": 157, \"y\": 136 }, { \"x\": 162, \"y\": 140 }, { \"x\": 166, \"y\": 143 }, { \"x\": 80, \"y\": 124 }, { \"x\": 45, \"y\": 116 }, { \"x\": 37, \"y\": 114 }, { \"x\": 31, \"y\": 113 }, { \"x\": 52, \"y\": 106 }, { \"x\": 101, \"y\": 86 }, { \"x\": 131, \"y\": 75 }, { \"x\": 157, \"y\": 63 }, { \"x\": 163, \"y\": 62 }, { \"x\": 158, \"y\": 64 }, { \"x\": 153, \"y\": 73 }, { \"x\": 128, \"y\": 103 }, { \"x\": 71, \"y\": 170 }],\n    name: \"other\"\n  }, {\n    points: [{ \"x\": 30, \"y\": 69 }, { \"x\": 116, \"y\": 118 }, { \"x\": 90, \"y\": 164 }, { \"x\": 75, \"y\": 117 }, { \"x\": 157, \"y\": 83 }, { \"x\": 182, \"y\": 140 }, { \"x\": 155, \"y\": 163 }, { \"x\": 144, \"y\": 119 }, { \"x\": 221, \"y\": 54 }],\n    name: \"other\"\n  }, {\n    points: [{ \"x\": 87, \"y\": 76 }, { \"x\": 62, \"y\": 73 }, { \"x\": 100, \"y\": 98 }, { \"x\": 107, \"y\": 57 }, { \"x\": 61, \"y\": 38 }, { \"x\": 73, \"y\": 137 }],\n    name: \"other\"\n  }, {\n    points: [{ \"x\": 123, \"y\": 129 }, { \"x\": 123, \"y\": 131 }, { \"x\": 124, \"y\": 133 }, { \"x\": 125, \"y\": 136 }, { \"x\": 127, \"y\": 140 }, { \"x\": 129, \"y\": 142 }, { \"x\": 133, \"y\": 148 }, { \"x\": 137, \"y\": 154 }, { \"x\": 143, \"y\": 158 }, { \"x\": 145, \"y\": 161 }, { \"x\": 148, \"y\": 164 }, { \"x\": 153, \"y\": 170 }, { \"x\": 158, \"y\": 176 }, { \"x\": 160, \"y\": 178 }, { \"x\": 164, \"y\": 183 }, { \"x\": 168, \"y\": 188 }, { \"x\": 171, \"y\": 191 }, { \"x\": 175, \"y\": 196 }, { \"x\": 178, \"y\": 200 }, { \"x\": 180, \"y\": 202 }, { \"x\": 181, \"y\": 205 }, { \"x\": 184, \"y\": 208 }, { \"x\": 186, \"y\": 210 }, { \"x\": 187, \"y\": 213 }, { \"x\": 188, \"y\": 215 }, { \"x\": 186, \"y\": 212 }, { \"x\": 183, \"y\": 211 }, { \"x\": 177, \"y\": 208 }, { \"x\": 169, \"y\": 206 }, { \"x\": 162, \"y\": 205 }, { \"x\": 154, \"y\": 207 }, { \"x\": 145, \"y\": 209 }, { \"x\": 137, \"y\": 210 }, { \"x\": 129, \"y\": 214 }, { \"x\": 122, \"y\": 217 }, { \"x\": 118, \"y\": 218 }, { \"x\": 111, \"y\": 221 }, { \"x\": 109, \"y\": 222 }, { \"x\": 110, \"y\": 219 }, { \"x\": 112, \"y\": 217 }, { \"x\": 118, \"y\": 209 }, { \"x\": 120, \"y\": 207 }, { \"x\": 128, \"y\": 196 }, { \"x\": 135, \"y\": 187 }, { \"x\": 138, \"y\": 183 }, { \"x\": 148, \"y\": 167 }, { \"x\": 157, \"y\": 153 }, { \"x\": 163, \"y\": 145 }, { \"x\": 165, \"y\": 142 }, { \"x\": 172, \"y\": 133 }, { \"x\": 177, \"y\": 127 }, { \"x\": 179, \"y\": 127 }, { \"x\": 180, \"y\": 125 }],\n    name: \"other\"\n  }, {\n    points: [{ \"x\": 81, \"y\": 219 }, { \"x\": 84, \"y\": 218 }, { \"x\": 86, \"y\": 220 }, { \"x\": 88, \"y\": 220 }, { \"x\": 90, \"y\": 220 }, { \"x\": 92, \"y\": 219 }, { \"x\": 95, \"y\": 220 }, { \"x\": 97, \"y\": 219 }, { \"x\": 99, \"y\": 220 }, { \"x\": 102, \"y\": 218 }, { \"x\": 105, \"y\": 217 }, { \"x\": 107, \"y\": 216 }, { \"x\": 110, \"y\": 216 }, { \"x\": 113, \"y\": 214 }, { \"x\": 116, \"y\": 212 }, { \"x\": 118, \"y\": 210 }, { \"x\": 121, \"y\": 208 }, { \"x\": 124, \"y\": 205 }, { \"x\": 126, \"y\": 202 }, { \"x\": 129, \"y\": 199 }, { \"x\": 132, \"y\": 196 }, { \"x\": 136, \"y\": 191 }, { \"x\": 139, \"y\": 187 }, { \"x\": 142, \"y\": 182 }, { \"x\": 144, \"y\": 179 }, { \"x\": 146, \"y\": 174 }, { \"x\": 148, \"y\": 170 }, { \"x\": 149, \"y\": 168 }, { \"x\": 151, \"y\": 162 }, { \"x\": 152, \"y\": 160 }, { \"x\": 152, \"y\": 157 }, { \"x\": 152, \"y\": 155 }, { \"x\": 152, \"y\": 151 }, { \"x\": 152, \"y\": 149 }, { \"x\": 152, \"y\": 146 }, { \"x\": 149, \"y\": 142 }, { \"x\": 148, \"y\": 139 }, { \"x\": 145, \"y\": 137 }, { \"x\": 141, \"y\": 135 }, { \"x\": 139, \"y\": 135 }, { \"x\": 134, \"y\": 136 }, { \"x\": 130, \"y\": 140 }, { \"x\": 128, \"y\": 142 }, { \"x\": 126, \"y\": 145 }, { \"x\": 122, \"y\": 150 }, { \"x\": 119, \"y\": 158 }, { \"x\": 117, \"y\": 163 }, { \"x\": 115, \"y\": 170 }, { \"x\": 114, \"y\": 175 }, { \"x\": 117, \"y\": 184 }, { \"x\": 120, \"y\": 190 }, { \"x\": 125, \"y\": 199 }, { \"x\": 129, \"y\": 203 }, { \"x\": 133, \"y\": 208 }, { \"x\": 138, \"y\": 213 }, { \"x\": 145, \"y\": 215 }, { \"x\": 155, \"y\": 218 }, { \"x\": 164, \"y\": 219 }, { \"x\": 166, \"y\": 219 }, { \"x\": 177, \"y\": 219 }, { \"x\": 182, \"y\": 218 }, { \"x\": 192, \"y\": 216 }, { \"x\": 196, \"y\": 213 }, { \"x\": 199, \"y\": 212 }, { \"x\": 201, \"y\": 211 }],\n    name: \"other\"\n  }, {\n    points: [{ \"x\": 75, \"y\": 250 }, { \"x\": 75, \"y\": 247 }, { \"x\": 77, \"y\": 244 }, { \"x\": 78, \"y\": 242 }, { \"x\": 79, \"y\": 239 }, { \"x\": 80, \"y\": 237 }, { \"x\": 82, \"y\": 234 }, { \"x\": 82, \"y\": 232 }, { \"x\": 84, \"y\": 229 }, { \"x\": 85, \"y\": 225 }, { \"x\": 87, \"y\": 222 }, { \"x\": 88, \"y\": 219 }, { \"x\": 89, \"y\": 216 }, { \"x\": 91, \"y\": 212 }, { \"x\": 92, \"y\": 208 }, { \"x\": 94, \"y\": 204 }, { \"x\": 95, \"y\": 201 }, { \"x\": 96, \"y\": 196 }, { \"x\": 97, \"y\": 194 }, { \"x\": 98, \"y\": 191 }, { \"x\": 100, \"y\": 185 }, { \"x\": 102, \"y\": 178 }, { \"x\": 104, \"y\": 173 }, { \"x\": 104, \"y\": 171 }, { \"x\": 105, \"y\": 164 }, { \"x\": 106, \"y\": 158 }, { \"x\": 107, \"y\": 156 }, { \"x\": 107, \"y\": 152 }, { \"x\": 108, \"y\": 145 }, { \"x\": 109, \"y\": 141 }, { \"x\": 110, \"y\": 139 }, { \"x\": 112, \"y\": 133 }, { \"x\": 113, \"y\": 131 }, { \"x\": 116, \"y\": 127 }, { \"x\": 117, \"y\": 125 }, { \"x\": 119, \"y\": 122 }, { \"x\": 121, \"y\": 121 }, { \"x\": 123, \"y\": 120 }, { \"x\": 125, \"y\": 122 }, { \"x\": 125, \"y\": 125 }, { \"x\": 127, \"y\": 130 }, { \"x\": 128, \"y\": 133 }, { \"x\": 131, \"y\": 143 }, { \"x\": 136, \"y\": 153 }, { \"x\": 140, \"y\": 163 }, { \"x\": 144, \"y\": 172 }, { \"x\": 145, \"y\": 175 }, { \"x\": 151, \"y\": 189 }, { \"x\": 156, \"y\": 201 }, { \"x\": 161, \"y\": 213 }, { \"x\": 166, \"y\": 225 }, { \"x\": 169, \"y\": 233 }, { \"x\": 171, \"y\": 236 }, { \"x\": 174, \"y\": 243 }, { \"x\": 177, \"y\": 247 }, { \"x\": 178, \"y\": 249 }, { \"x\": 179, \"y\": 251 }, { \"x\": 180, \"y\": 253 }, { \"x\": 180, \"y\": 255 }, { \"x\": 179, \"y\": 257 }, { \"x\": 177, \"y\": 257 }, { \"x\": 174, \"y\": 255 }, { \"x\": 169, \"y\": 250 }, { \"x\": 164, \"y\": 247 }, { \"x\": 160, \"y\": 245 }, { \"x\": 149, \"y\": 238 }, { \"x\": 138, \"y\": 230 }, { \"x\": 127, \"y\": 221 }, { \"x\": 124, \"y\": 220 }, { \"x\": 112, \"y\": 212 }, { \"x\": 110, \"y\": 210 }, { \"x\": 96, \"y\": 201 }, { \"x\": 84, \"y\": 195 }, { \"x\": 74, \"y\": 190 }, { \"x\": 64, \"y\": 182 }, { \"x\": 55, \"y\": 175 }, { \"x\": 51, \"y\": 172 }, { \"x\": 49, \"y\": 170 }, { \"x\": 51, \"y\": 169 }, { \"x\": 56, \"y\": 169 }, { \"x\": 66, \"y\": 169 }, { \"x\": 78, \"y\": 168 }, { \"x\": 92, \"y\": 166 }, { \"x\": 107, \"y\": 164 }, { \"x\": 123, \"y\": 161 }, { \"x\": 140, \"y\": 162 }, { \"x\": 156, \"y\": 162 }, { \"x\": 171, \"y\": 160 }, { \"x\": 173, \"y\": 160 }, { \"x\": 186, \"y\": 160 }, { \"x\": 195, \"y\": 160 }, { \"x\": 198, \"y\": 161 }, { \"x\": 203, \"y\": 163 }, { \"x\": 208, \"y\": 163 }, { \"x\": 206, \"y\": 164 }, { \"x\": 200, \"y\": 167 }, { \"x\": 187, \"y\": 172 }, { \"x\": 174, \"y\": 179 }, { \"x\": 172, \"y\": 181 }, { \"x\": 153, \"y\": 192 }, { \"x\": 137, \"y\": 201 }, { \"x\": 123, \"y\": 211 }, { \"x\": 112, \"y\": 220 }, { \"x\": 99, \"y\": 229 }, { \"x\": 90, \"y\": 237 }, { \"x\": 80, \"y\": 244 }, { \"x\": 73, \"y\": 250 }, { \"x\": 69, \"y\": 254 }, { \"x\": 69, \"y\": 252 }],\n    name: \"other\"\n  }];\n\n  ShapeDetector.prototype.spot = function (points, patternName) {\n\n    if (patternName == null) {\n      patternName = '';\n    }\n\n    var distance, pattern, score;\n    var stroke = new Stroke(points);\n    var bestDistance = +Infinity;\n    var bestPattern = null;\n    var bestScore = 0;\n\n    for (var i = 0; i < this.patterns.length; i++) {\n      pattern = this.patterns[i];\n\n      if (pattern.name.indexOf(patternName) > -1) {\n        distance = stroke.distanceAtBestAngle(pattern);\n        score = 1.0 - distance / _halfDiagonal;\n\n        if (distance < bestDistance && score > this.threshold) {\n          bestDistance = distance;\n          bestPattern = pattern.name;\n          bestScore = score;\n        }\n      }\n    }\n\n    return {\n      pattern: bestPattern,\n      score: bestScore\n    };\n  };\n\n  ShapeDetector.prototype.learn = function (name, points) {\n\n    return this.patterns.push(new Stroke(points, name));\n  };\n\n  return ShapeDetector;\n});\n\n},{}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resetWindow = resetWindow;\nvar touch = require('./touch');\nvar ui = require('./ui');\nvar overlays = require('./overlays');\nvar video = require('./video');\nvar timing = require('./timing');\nvar util = require('./util');\n\nfunction resetWindow() {\n  window.kan = {\n    currentColor: '#2B5E2E',\n    composition: [],\n    compositionInterval: null,\n    compositionTimeout: null,\n    soundTimeouts: [],\n    lastEvent: null,\n    interaction: false,\n    moves: [],\n    playing: false,\n    pinching: false,\n    pinchedGroup: null,\n    pinchedTut: null,\n    pathData: {},\n    shapePath: null,\n    prevAngle: null,\n    sides: [],\n    side: [],\n    corners: [],\n    lastScale: 1,\n    lastRotation: 0,\n    originalPosition: null,\n    tutorialCompletion: {\n      \"fill\": false,\n      \"pinch\": false,\n      \"swipe\": false\n    },\n    inactivityTimeout: null,\n    playPromptTimeout: null,\n    userHasDrawnFirstShape: false,\n    firstTimePlaying: true,\n    shapesSinceTut: 0,\n    refreshCheckInterval: null,\n    sha: null\n  };\n}\n\n$(document).ready(function () {\n  function run() {\n    resetWindow();\n    util.setSha();\n    ui.init();\n    touch.init();\n    overlays.init();\n    timing.init();\n  }\n\n  try {\n    run();\n  } catch (e) {\n    console.error(e);\n    setTimeout(function () {\n      // wait 5 seconds then reload\n      location.reload();\n    }, 5 * 1000);\n  }\n});\n\n},{\"./overlays\":7,\"./timing\":10,\"./touch\":11,\"./ui\":13,\"./util\":14,\"./video\":15}],7:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.openOverlay = openOverlay;\nexports.cardNavNext = cardNavNext;\nexports.closeAndResetOverlays = closeAndResetOverlays;\nexports.init = init;\nvar config = require('./../../config');\n\nvar touch = require('./touch');\nvar video = require('./video');\nvar timing = require('./timing');\nvar tutorial = require('./tutorial');\nvar util = require('./util');\n\nvar hammerCanvas = touch.hammerCanvas;\n\nvar $body = $('body');\nvar tapEvent = 'click tap touch';\n\nvar $cardsWrap = $body.find('.overlay.tips .card-wrap');\nvar $cardItems = $cardsWrap.find('article');\nvar cardsCount = $cardItems.length;\nvar $footer = $body.find('.overlay.tips .footer');\n\nvar $sharePhone = $body.find('#phone');\nvar $shareKeypad = $body.find('.keypad');\n\nvar allOverlays = ['intro', 'play-prompt', 'share-prompt', 'continue', 'tips', 'share'];\nvar overlayOpenClasses = allOverlays.map(function (overlay) {\n  return overlay + '-active';\n}).join(' ');\n\nvar overlayActiveClass = 'overlay-active';\n\nfunction openOverlay(overlayName) {\n  if (window.kan.overlays === false) return;\n  if (allOverlays.includes(overlayName)) {\n    closeAndResetOverlays();\n    tutorial.hideContextualTuts();\n    $body.addClass(overlayActiveClass);\n    $body.find('.overlay:not(.tips)').on(tapEvent, function () {\n      closeAndResetOverlays();\n    });\n\n    switch (overlayName) {\n      case 'intro':\n        openIntroOverlay();\n        break;\n      case 'play-prompt':\n        if (util.anyShapesOnCanvas()) {\n          openPlayPromptOverlay();\n        } else {\n          window.kan.playPromptTimeout = setTimeout(function () {\n            openOverlay('play-prompt');\n          }, timing.playPromptDelay / 2);\n        }\n        break;\n      case 'share-prompt':\n        openSharePromptOverlay();\n        break;\n      case 'continue':\n        openContinueOverlay();\n        break;\n      case 'tips':\n        openTipsOverlay();\n        break;\n      case 'share':\n        openShareOverlay();\n        break;\n    }\n  } else {\n    console.log('unable to open unknown overlay', overlayName);\n  }\n}\n\nfunction openIntroOverlay() {\n  $body.addClass('intro-active');\n}\n\nfunction openPlayPromptOverlay() {\n  $body.addClass('play-prompt-active');\n}\n\nfunction openSharePromptOverlay() {\n  $body.addClass('share-prompt-active');\n}\n\nfunction openContinueOverlay() {\n  $body.addClass('continue-active');\n\n  clearTimeout(window.kan.inactivityTimeout);\n  clearTimeout(window.kan.playPromptTimeout);\n\n  window.kan.inactivityTimeout = setTimeout(function () {\n    video.enterTutorialMode();\n  }, timing.continueInactivityDelay);\n}\n\nfunction openTipsOverlay() {\n  $body.addClass('tips-active');\n  activateTipsCards();\n}\n\nfunction openShareOverlay() {\n  $body.addClass('share-active');\n}\n\n// card slider navigation\nfunction cardNavNext() {\n  var $old = $body.find('.card-wrap .current');\n  var $new = $old.next().length ? $old.next() : $cardItems.first();\n  var $next = $new.next().length ? $new.next() : $cardItems.first();\n  var $third = $next.next().length ? $next.next() : $cardItems.first().next();\n  var slide = $new.index();\n  $old.removeClass().addClass('remove');\n  $new.removeClass().addClass('current');\n  $next.removeClass().addClass('next');\n  $third.removeClass().addClass('third');\n  updateCardCounter(slide + 1, cardsCount);\n  setTimeout(function () {\n    $old.removeClass();\n  }, 600);\n}\n\n// tips card interactions\nfunction cardInteractions() {\n  var timeOfLastInteraction = 0;\n\n  $body.find('.overlay').on(tapEvent, function (e) {\n    var currentTime = Date.now();\n    if (timeOfLastInteraction > currentTime - 250) {\n      return;\n    }\n    timeOfLastInteraction = currentTime;\n\n    if ($(e.target).closest('.card-wrap').length == 1) {\n      // directly on a card, navigate to the next one\n      cardNavNext();\n    } else {\n      // outside elements, close everything and reset\n      closeAndResetOverlays();\n    }\n  });\n}\n\nfunction resetTips() {\n  $cardItems.removeClass();\n  $sharePhone.html('');\n}\n\n// close and reset tips\nfunction closeAndResetOverlays() {\n  $body.removeClass('overlay-active');\n  $body.removeClass(overlayOpenClasses);\n  resetTips();\n}\n\n// deal a fresh stack of cards\nfunction activateTipsCards() {\n  var $new = $cardItems.first();\n  var $next = $new.next().length ? $new.next() : $cardItems.first();\n  var $third = $next.next().length ? $next.next() : $cardItems.first().next();\n  $cardItems.removeClass();\n  $new.removeClass().addClass('current');\n  $next.removeClass().addClass('next');\n  $third.removeClass().addClass('third');\n  updateCardCounter(1, cardsCount);\n}\n\n// counting cards\nfunction updateCardCounter(current, total) {\n  $footer.find('.current').html(current);\n  $footer.find('.next').html(total);\n}\n\n// phone inputs\nfunction phoneNumberInputs() {\n  // mask the output\n  $sharePhone.mask('000-000-0000');\n  // get interactions from the keypad\n  $shareKeypad.find('.num').on(tapEvent, function (e) {\n    var phoneNumber = $sharePhone.html().toString() + $(e.target).html().toString();\n    phoneNumber = $sharePhone.masked(phoneNumber);\n    $sharePhone.html(phoneNumber);\n  });\n  // clear the display\n  $shareKeypad.find('.clear').on(tapEvent, function (e) {\n    $sharePhone.html('');\n  });\n  // FIXME: send sms\n  // $shareKeypad.find('.send').on(tapEvent, e => {});\n}\n\n// \"randomly\" place fiddly bits on the cards\nfunction randomCardGraphics() {\n  $body.find('.card-wrap article').each(function (i, el) {\n    $(el).attr('data-bg', i);\n  });\n}\n\nfunction initTips() {\n  cardInteractions();\n}\n\nfunction initShare() {\n  phoneNumberInputs();\n  randomCardGraphics();\n}\n\nfunction init() {\n  initTips();\n  initShare();\n}\n\n},{\"./../../config\":1,\"./timing\":10,\"./touch\":11,\"./tutorial\":12,\"./util\":14,\"./video\":15}],8:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.getOutlineGroup = getOutlineGroup;\nexports.getTruedShape = getTruedShape;\nexports.getCompletedPath = getCompletedPath;\nexports.getShapePrediction = getShapePrediction;\nexports.getIntegerPoint = getIntegerPoint;\nexports.stringifyPoint = stringifyPoint;\nexports.parsePoint = parsePoint;\nexports.getClosestPointFromPathData = getClosestPointFromPathData;\nexports.processShapeData = processShapeData;\nexports.findInteriorCurves = findInteriorCurves;\nexports.getExtendedPath = getExtendedPath;\nexports.getBruteExtendedPath = getBruteExtendedPath;\nexports.getTrimmedPath = getTrimmedPath;\nexports.hitTestGroupBounds = hitTestGroupBounds;\nexports.hitTestBounds = hitTestBounds;\nvar ShapeDetector = require('./lib/shape-detector');\n\nvar util = require('./util');\nvar color = require('./color');\n\nvar cornerThresholdDeg = exports.cornerThresholdDeg = 30;\nvar thresholdDistMultiplier = exports.thresholdDistMultiplier = 0.1;\n\nvar detector = exports.detector = new ShapeDetector(ShapeDetector.defaultShapes);\n\nvar shapeNames = exports.shapeNames = [\"line\", \"circle\", \"square\", \"triangle\", \"other\"];\n\nfunction getOutlineGroup(truedShape) {\n  console.log('truedShape', truedShape);\n  var outerPath = new Path();\n  outerPath.name = 'outer';\n\n  var middlePath = new Path();\n  middlePath.name = 'middle';\n  var sizes = [];\n  var angle = void 0;\n\n  var firstTop = null,\n      firstBottom = null;\n  var lastTop = null,\n      lastBottom = null;\n\n  if (!(truedShape.length > 0)) return new Group(outerPath, middlePath);\n\n  // outerPath.add(truedShape.firstSegment.point);\n  middlePath.add(truedShape.firstSegment.point);\n\n  for (var i = 10; i < truedShape.length - 10; i += 20) {\n    while (sizes.length > 10) {\n      sizes.shift();\n    }\n\n    var size = Math.random() * 8; // This is just random variance\n    sizes.push(size);\n\n    var cumSize = 0;\n    for (var j = 0; j < sizes.length; j++) {\n      cumSize += sizes[j];\n    }\n    var avgSize = Math.max(5, (cumSize / sizes.length + size) / 2);\n\n    var prevPoint = truedShape.getPointAt(i - 10);\n    var nextPoint = truedShape.getPointAt(i + 10);\n    var point = new Point((prevPoint.x + nextPoint.x) / 2, (prevPoint.y + nextPoint.y) / 2);\n\n    angle = Math.atan2(nextPoint.y - prevPoint.y, nextPoint.x - prevPoint.x);\n\n    var topX = point.x + Math.cos(angle - Math.PI / 2) * avgSize;\n    var topY = point.y + Math.sin(angle - Math.PI / 2) * avgSize;\n    var top = new Point(topX, topY);\n\n    var bottomX = point.x + Math.cos(angle + Math.PI / 2) * avgSize;\n    var bottomY = point.y + Math.sin(angle + Math.PI / 2) * avgSize;\n    var bottom = new Point(bottomX, bottomY);\n\n    outerPath.add(top);\n    outerPath.insert(0, bottom);\n    middlePath.add(point);\n\n    if (i == 10) {\n      firstTop = top;\n      firstBottom = bottom;\n      // new Path.Line({\n      //   from: bottom,\n      //   to: top,\n      //   strokeWidth: 5,\n      //   strokeColor: 'red'\n      // });\n    } else {\n      lastTop = top;\n      lastBottom = bottom;\n      // new Path.Line({\n      //   from: bottom,\n      //   to: top,\n      //   strokeWidth: 5,\n      //   strokeColor: new Color(0, i / truedShape.length)\n      // });\n    }\n  }\n\n  // new Path.Line({\n  //   from: lastBottom,\n  //   to: lastTop,\n  //   strokeWidth: 5,\n  //   strokeColor: 'blue'\n  // });\n\n  if (truedShape.closed === true) {\n    var centerTop = new Point((firstTop.x + lastTop.x) / 2, (firstTop.y + lastTop.y) / 2);\n    var centerBottom = new Point((firstBottom.x + lastBottom.x) / 2, (firstBottom.y + lastBottom.y) / 2);\n    var center = new Point((centerTop.x + centerBottom.x) / 2, (centerTop.y + centerBottom.y) / 2);\n\n    outerPath.add(centerTop);\n    outerPath.insert(0, centerBottom);\n    middlePath.add(center);\n    // new Path.Line({\n    //   from: centerBottom,\n    //   to: centerTop,\n    //   strokeWidth: 5,\n    //   strokeColor: 'yellow'\n    // });\n    outerPath.add(firstTop);\n    outerPath.insert(0, firstBottom);\n    middlePath.closed = true;\n    // middlePath.add(point);\n    // console.log('closed');\n  }\n  //  else {\n  //   const lastCenter = ((lastTop.x + lastBottom.x) / 2, (lastTop.y + lastBottom.y) / 2);\n  //   const lastPoint = truedShape.lastSegment.point;\n  //   const adjustedLastPoint = new Point((lastCenter.x + lastPoint.x) / 2, (lastCenter.y + lastPoint.y) / 2);\n  //   // outerPath.add(adjustedLastPoint);\n  //   // outerPath.lastSegment.smooth();\n  // }\n\n  // outerPath.selected = true;\n\n  // new Path.Circle({\n  //   center: outerPath.firstSegment.point,\n  //   radius: 3,\n  //   fillColor: 'red'\n  // });\n  // new Path.Circle({\n  //   center: outerPath.firstSegment.next.point,\n  //   radius: 3,\n  //   fillColor: 'red'\n  // });\n  //\n  // new Path.Circle({\n  //   center: outerPath.lastSegment.point,\n  //   radius: 3,\n  //   fillColor: 'blue'\n  // });\n  // new Path.Circle({\n  //   center: outerPath.lastSegment.previous.point,\n  //   radius: 3,\n  //   fillColor: 'blue'\n  // });\n\n  outerPath.smooth();\n  middlePath.smooth();\n  outerPath.name = 'outer';\n  middlePath.name = 'middle';\n  var returnGroup = new Group(outerPath, middlePath);\n  return returnGroup;\n}\n\nfunction getTruedShape(path) {\n  var pathClone = path.clone();\n  pathClone.visible = false;\n  var completedPath = getCompletedPath(pathClone);\n\n  // true the path!\n  var truedPath = completedPath;\n\n  truedPath.strokeWidth = pathClone.strokeWidth;\n\n  pathClone.remove();\n  return truedPath;\n}\n\n// extend or trim path if the ends are close\nfunction getCompletedPath(path) {\n  var pathClone = path.clone();\n  pathClone.visible = false;\n  pathClone.reduce();\n  pathClone.simplify();\n\n  var intersections = pathClone.getIntersections();\n\n  if (intersections.length > 0) {\n    // trim path if ends are close\n    var trimmedPath = getTrimmedPath(pathClone);\n\n    pathClone.remove();\n\n    return trimmedPath;\n  } else {\n    // extend path to see if an intersection is near\n    var extendedPath = getExtendedPath(pathClone);\n    var _intersections = extendedPath.getIntersections();\n\n    // pathClone.remove();\n\n    if (_intersections.length > 0) {\n      // trim extra extended path\n      var _trimmedPath = getTrimmedPath(extendedPath);\n      extendedPath.remove();\n      return _trimmedPath;\n    } else {\n      // extended path does not intersect, return the original path\n      extendedPath.remove();\n      extendedPath = getBruteExtendedPath(pathClone);\n      var _intersections2 = extendedPath.getIntersections();\n\n      if (_intersections2.length > 0) {\n        var _trimmedPath2 = getTrimmedPath(extendedPath);\n        extendedPath.remove();\n        return _trimmedPath2;\n      }\n\n      return pathClone;\n    }\n  }\n}\n\nfunction getShapePrediction(path) {\n  var prediction = {};\n\n  var shapeJSON = path.exportJSON();\n  var shapeData = processShapeData(shapeJSON);\n  // console.log(JSON.stringify(shapeData));\n  var shapePrediction = detector.spot(shapeData);\n\n  if (shapePrediction.score === 0) {\n    // algorithm doesn't like vertical lines for some reason\n    // if the certainty is 0 it's probably a line\n    prediction.pattern = \"line\";\n    prediction.score = 0.9;\n  } else {\n    if (shapePrediction.score > 0.5) {\n      prediction.pattern = shapePrediction.pattern;\n    } else {\n      prediction.pattern = \"other\";\n    }\n    prediction.score = shapePrediction.score;\n  }\n\n  console.log(prediction);\n\n  return prediction;\n}\n\n// floors the coordinates of a point\nfunction getIntegerPoint(point) {\n  return new Point(Math.floor(point.x), Math.floor(point.y));\n}\n\nfunction stringifyPoint(point) {\n  return Math.floor(point.x) + ',' + Math.floor(point.y);\n}\n\nfunction parsePoint(pointStr) {\n  var split = pointStr.split(',').map(function (num) {\n    return Math.floor(num);\n  });\n\n  if (split.length >= 2) {\n    return new Point(split[0], split[1]);\n  }\n\n  return null;\n}\n\nfunction getClosestPointFromPathData(point, pathData) {\n  var leastDistance = void 0,\n      closestPoint = void 0;\n\n  Base.each(pathData, function (datum, i) {\n    var distance = point.getDistance(datum.point);\n    if (!leastDistance || distance < leastDistance) {\n      leastDistance = distance;\n      closestPoint = datum.point;\n    }\n  });\n\n  return closestPoint || point;\n}\n\nfunction processShapeData(json) {\n  var returnShape = [];\n  var jsonObj = JSON.parse(json)[1]; // zero index is stringified type (e.g. \"Path\")\n\n  if ('segments' in jsonObj) {\n    var segments = jsonObj.segments;\n    Base.each(segments, function (segment, i) {\n      if (segment.length === 3) {\n        var positionInfo = segment[0]; // indexes 1 and 2 are superfluous matrix details\n        returnShape.push({\n          x: positionInfo[0],\n          y: positionInfo[1]\n        });\n      } else {\n        returnShape.push({\n          x: segment[0],\n          y: segment[1]\n        });\n      };\n    });\n  }\n  return returnShape;\n}\n\nfunction findInteriorCurves(path) {\n  var transparent = color.transparent;\n\n  var interiorCurves = [];\n\n  var pathClone = path.clone({ insert: false });\n  var intersections = pathClone.getIntersections();\n\n  if (intersections.length > 0) {\n    var dividedPath = pathClone.resolveCrossings();\n    // console.log(dividedPath);\n\n    if (dividedPath.className === 'CompoundPath') {\n      Base.each(dividedPath.children, function (child, i) {\n        if (child.length > 0 && child.closed) {\n          var enclosedLoop = child.clone({ insert: false });\n          if (pathClone.closed) {\n            enclosedLoop.fillColor = pathClone.strokeColor;\n            enclosedLoop.data.interior = true;\n            enclosedLoop.data.transparent = false;\n          } else {\n            enclosedLoop.fillColor = transparent;\n            enclosedLoop.data.transparent = true;\n          }\n          enclosedLoop.data.interior = true;\n          enclosedLoop.visible = true;\n          enclosedLoop.closed = true;\n          interiorCurves.push(enclosedLoop);\n        }\n      });\n    } else {\n      if (pathClone.closed) {\n        var enclosedLoop = pathClone.clone({ insert: false });\n        enclosedLoop.visible = true;\n        enclosedLoop.fillColor = pathClone.strokeColor;\n        enclosedLoop.data.interior = true;\n        enclosedLoop.data.transparent = false;\n        interiorCurves.push(enclosedLoop);\n      }\n    }\n  } else {\n    if (pathClone.closed) {\n      var _enclosedLoop = pathClone.clone({ insert: false });\n      _enclosedLoop.visible = true;\n      _enclosedLoop.fillColor = pathClone.strokeColor;\n      _enclosedLoop.data.interior = true;\n      _enclosedLoop.data.transparent = false;\n      interiorCurves.push(_enclosedLoop);\n    }\n  }\n\n  return interiorCurves;\n}\n\nfunction getExtendedPath(path) {\n  var bruteForce = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var extendedPath = path.clone();\n  extendedPath.visible = false;\n\n  var thresholdDist = thresholdDistMultiplier * extendedPath.length;\n\n  var firstSegment = extendedPath.firstSegment;\n  var nextSegment = firstSegment.next;\n  var startAngle = Math.atan2(nextSegment.point.y - firstSegment.point.y, nextSegment.point.x - firstSegment.point.x); // rad\n  var inverseStartAngle = startAngle + Math.PI;\n  var extendedStartPoint = new Point(firstSegment.point.x + Math.cos(inverseStartAngle) * thresholdDist / 2, firstSegment.point.y + Math.sin(inverseStartAngle) * thresholdDist / 2);\n  extendedPath.insert(0, extendedStartPoint);\n\n  var lastSegment = extendedPath.lastSegment;\n  var penSegment = lastSegment.previous; // penultimate\n  var endAngle = Math.atan2(lastSegment.point.y - penSegment.point.y, lastSegment.point.x - penSegment.point.x); // rad\n  var extendedEndPoint = new Point(lastSegment.point.x + Math.cos(endAngle) * thresholdDist / 2, lastSegment.point.y + Math.sin(endAngle) * thresholdDist / 2);\n  extendedPath.add(extendedEndPoint);\n\n  return extendedPath;\n}\n\nfunction getBruteExtendedPath(path) {\n  var extendedPath = path.clone();\n  extendedPath.visible = false;\n\n  var thresholdDist = thresholdDistMultiplier * extendedPath.length;\n  var firstPoint = extendedPath.firstSegment.point;\n  var lastPoint = extendedPath.lastSegment.point;\n\n  if (firstPoint.getDistance(lastPoint) < thresholdDist) {\n    extendedPath.insert(0, lastPoint);\n    extendedPath.add(firstPoint);\n  }\n\n  return extendedPath;\n}\n\nfunction getTrimmedPath(path) {\n  var pathClone = path.clone();\n  pathClone.visible = false;\n\n  var firstPoint = pathClone.firstSegment.point;\n  var lastPoint = pathClone.lastSegment.point;\n  var thresholdDist = thresholdDistMultiplier * pathClone.length;\n\n  var intersections = pathClone.getIntersections();\n\n  if (intersections.length == 1) {\n    for (var i = 0; i < intersections.length; i++) {\n      var intersectionPoint = intersections[i].point;\n\n      // if the average of the distance between the first and last points and the intersection point is within the threshold, trim\n      if (firstPoint.getDistance(intersectionPoint) + lastPoint.getDistance(intersectionPoint) < 2 * thresholdDist) {\n        console.log('trimming path');\n        var dividedPath = pathClone.clone(); // resolve crossings seems to modify the path it was passed, so make an extra clone to be safe\n        dividedPath.visible = false;\n        var pathCrossings = dividedPath.resolveCrossings();\n\n        if (pathCrossings.className === 'CompoundPath' && pathCrossings.children.length > 0) {\n          for (var j = 0; j < pathCrossings.children.length; j++) {\n            var child = pathCrossings.children[j];\n            if (child.closed) {\n              // child.selected = true;\n              dividedPath = dividedPath.subtract(child);\n            }\n          }\n        }\n\n        // dividedPath.selected = true;\n\n        var trimmedPath = pathClone.subtract(dividedPath);\n        if (trimmedPath.length === 0) return pathClone;\n        if (trimmedPath.className === 'CompoundPath' && trimmedPath.children.length > 0) {\n          var _ret = function () {\n            var closedChildren = [];\n            trimmedPath.children.forEach(function (child, i) {\n              if (child.length > 0 && child.closed) {\n                var childClone = child.clone();\n                childClone.visible = false;\n                closedChildren.push(childClone);\n              }\n            });\n\n            if (closedChildren.length > 0) {\n              if (closedChildren.length > 1) {\n                // for some reason there are more than one closed children, merge them\n                var accumulator = closedChildren[0];\n\n                for (var _j = 1; _j < closedChildren.length; _j++) {\n                  accumulator = accumulator.unite(closedChildren[_j]);\n                }\n\n                if (accumulator.length > 0 && accumulator.className === 'Path') {\n                  console.log('trimmed accumulator', accumulator);\n                  var newPath = new Path();\n                  newPath.copyContent(accumulator);\n                  newPath.copyAttributes(pathClone);\n                  accumulator.remove();\n                  pathClone.remove();\n                  dividedPath.remove();\n                  trimmedPath.remove();\n                  return {\n                    v: newPath\n                  };\n                }\n              }\n\n              pathClone.remove();\n              dividedPath.remove();\n              trimmedPath.remove();\n              console.log('trimmed closedChildren[0]', closedChildren[0]);\n              return {\n                v: closedChildren[0]\n              };\n            }\n          }();\n\n          if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n        }\n\n        console.log('trimmed path return', trimmedPath);\n        console.log('path clone', pathClone);\n        console.log('dividedPath', dividedPath);\n        pathClone.remove();\n        dividedPath.remove();\n        return trimmedPath;\n      }\n    }\n\n    // no close intersection were found so nothing can be trimmed\n    return pathClone;\n  } else {\n    return pathClone;\n  }\n}\n\nfunction hitTestGroupBounds(point) {\n  var groups = util.getAllGroups();\n  return hitTestBounds(point, groups);\n}\n\nfunction hitTestBounds(point, children) {\n  if (!point) return null;\n\n  for (var i = children.length - 1; i >= 0; i--) {\n    var child = children[i];\n    var bounds = child.strokeBounds;\n    if (point.isInside(child.strokeBounds)) {\n      return child;\n    }\n  }\n\n  return null;\n}\n\n},{\"./color\":4,\"./lib/shape-detector\":5,\"./util\":14}],9:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.getShapeSoundObj = getShapeSoundObj;\nexports.startPlaying = startPlaying;\nexports.stopPlaying = stopPlaying;\nexports.initShapeSounds = initShapeSounds;\nexports.formatShapeSoundData = formatShapeSoundData;\nexports.quantizeLength = quantizeLength;\nexports.quantizePosition = quantizePosition;\nexports.removeShapeFromComposition = removeShapeFromComposition;\nexports.clearSoundTimeouts = clearSoundTimeouts;\nexports.startComposition = startComposition;\nexports.stopComposition = stopComposition;\nexports.getTrimmedCompositionObj = getTrimmedCompositionObj;\nrequire('howler');\n\nvar ui = require('./ui');\nvar shape = require('./shape');\nvar color = require('./color');\nvar overlays = require('./overlays');\n\nvar sounds = initShapeSounds();\n\nvar $body = $('body');\n\nvar measures = 4;\nvar bpm = 120;\nvar beatLength = 60 / bpm * 1000; // ms\nvar measureLength = beatLength * 4;\nvar compositionLength = exports.compositionLength = measureLength * measures;\n\nvar playingClass = exports.playingClass = 'playing';\nvar playEnabledClass = exports.playEnabledClass = 'play-enabled';\n\nfunction getShapeSoundObj(path) {\n  var viewWidth = paper.view.viewSize.width;\n  var viewHeight = paper.view.viewSize.height;\n\n  var shapePrediction = shape.getShapePrediction(path);\n  var colorName = color.getPathColorName(path);\n  if (colorName === null) colorName = 'black'; // just in case\n\n  var quantizedSoundStartTime = quantizeLength(path.bounds.x / viewWidth * compositionLength); // ms\n  var quantizedSoundDuration = quantizeLength(path.bounds.width / viewWidth * compositionLength); // ms\n\n  var soundObj = {};\n  soundObj.sound = sounds[shapePrediction.pattern];\n  soundObj.startTime = quantizedSoundStartTime;\n  soundObj.duration = quantizedSoundDuration;\n  soundObj.pathId = path.id;\n  soundObj.spriteName = colorName;\n  if (!!path.parent && path.parent.className === 'Group') {\n    soundObj.groupId = path.parent.id;\n  }\n\n  return soundObj;\n}\n\nfunction startPlaying() {\n  console.log('first time', window.kan.firstTimePlaying);\n  if ($body.hasClass(playEnabledClass)) {\n    $body.addClass(playingClass);\n\n    Howler.mute(false);\n\n    window.kan.playing = true;\n\n    if (window.kan.firstTimePlaying === true) {\n      window.kan.firstTimePlaying = false;\n      startComposition(window.kan.composition, false);\n    } else {\n      startComposition(window.kan.composition, true);\n    }\n  } else {\n    window.kan.playing = false;\n    $body.removeClass(playingClass);\n    console.log('play is not enabled');\n  }\n}\n\nfunction stopPlaying() {\n  var mute = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  if (!!mute) {\n    Howler.mute(true);\n  }\n\n  window.kan.playing = false;\n  $body.removeClass(playingClass);\n\n  stopComposition();\n}\n\nfunction initShapeSounds() {\n  var returnSounds = {};\n  var extensions = ['ogg', 'm4a', 'mp3', 'ac3'];\n\n  var shapeNames = shape.shapeNames;\n  Base.each(shapeNames, function (shapeName) {\n    var shapeSoundJSONPath = './audio/shapes/' + shapeName + '/' + shapeName + '.json';\n\n    $.getJSON(shapeSoundJSONPath, function (resp) {\n      var shapeSoundData = formatShapeSoundData(shapeName, resp);\n      var sound = new Howl(shapeSoundData);\n      returnSounds[shapeName] = sound;\n    });\n  });\n\n  return returnSounds;\n}\n\nfunction formatShapeSoundData(shapeName, data) {\n  var returnData = {};\n\n  returnData.src = data.urls.map(function (url) {\n    return './audio/shapes/' + shapeName + '/' + url;\n  });\n  returnData.sprite = data.sprite;\n  returnData.loop = false;\n\n  return returnData;\n}\n\nfunction quantizeLength(duration) {\n  var smallestDuration = 60 / bpm;\n  var returnDuration = Math.floor(duration / smallestDuration) * smallestDuration;\n\n  if (returnDuration > 0) {\n    return returnDuration;\n  } else {\n    // always return something greater than zero\n    return smallestDuration;\n  }\n}\n\nfunction quantizePosition(position, viewWidth) {\n  var smallestInterval = viewWidth / (4 * measures);\n  return returnPosition = Math.floor(position / smallestInterval) * smallestInterval;\n}\n\nfunction animateNote(shape) {\n  var item = paper.project.getItem({\n    className: 'Path',\n    match: function match(el) {\n      return el.id === shape.pathId;\n    }\n  });\n  if (!!item) {\n    var group = item.parent;\n    group.animate([{\n      properties: {\n        scale: 1.15,\n        translate: new paper.Point(20, 0),\n        rotate: -10\n      },\n      settings: {\n        duration: 250,\n        easing: \"easeInOut\"\n      }\n    }, {\n      properties: {\n        scale: 1.25,\n        translate: new paper.Point(10, 0),\n        rotate: 10\n      },\n      settings: {\n        duration: 125,\n        easing: \"easeInOut\"\n      }\n    }, {\n      properties: {\n        scale: 1,\n        translate: new paper.Point(0, 0),\n        rotate: 0\n      },\n      settings: {\n        duration: 125,\n        easing: \"easeInOut\"\n      }\n    }]);\n  }\n}\n\nfunction removeShapeFromComposition(shapeGroup) {\n  var _loop = function _loop(i) {\n    var sound = window.kan.composition[i];\n\n    if ('groupId' in sound) {\n      if (sound.groupId === shapeGroup.id) {\n        window.kan.composition.splice(i, 1);\n        return {\n          v: void 0\n        };\n      }\n    } else if ('pathId' in sound) {\n      var item = getItems({\n        match: function match(el) {\n          return el.id === sound.pathId;\n        }\n      });\n      if (item.length > 0) {\n        if (!!item.parent && item.parent.className === 'Group' && item.parent.id === shapeGroup.id) {\n          window.kan.composition.splice(i, 1);\n          return {\n            v: void 0\n          };\n        }\n      }\n    }\n  };\n\n  for (var i = 0; i < window.kan.composition.length; i++) {\n    var _ret = _loop(i);\n\n    if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n  }\n}\n\nfunction clearSoundTimeouts() {\n  if (window.kan.soundTimeouts.length > 0) {\n    window.kan.soundTimeouts.forEach(function (soundTimeout) {\n      clearTimeout(soundTimeout);\n    });\n  }\n\n  window.kan.soundTimeouts = [];\n}\n\nfunction startComposition(composition) {\n  var loop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  stopComposition();\n\n  console.log($body);\n\n  var iterations = 0;\n  playCompositionFirstTime();\n\n  function playCompositionFirstTime() {\n    clearSoundTimeouts();\n    console.log('playing composition first time');\n    var trimmedCompositionObj = getTrimmedCompositionObj(composition);\n\n    Base.each(trimmedCompositionObj.composition, function (shape, i) {\n      var soundTimeout = setTimeout(function () {\n        if (!window.kan.playing) {\n          console.log('not playing, returing');\n          return;\n        }\n\n        if (shape.spriteName === null) {\n          console.log('%cshape is null', 'color:red', shape);\n          return;\n        } else {\n          console.log('not null', shape);\n        }\n        shape.sound.play(shape.spriteName);\n        animateNote(shape);\n      }, shape.startTime);\n      window.kan.soundTimeouts.push(soundTimeout);\n    });\n\n    iterations++;\n    window.kan.compositionTimeout = setTimeout(repeatComposition, compositionLength - trimmedCompositionObj.startTime);\n  }\n\n  function playCompositionOnce() {\n    clearSoundTimeouts();\n    console.log('repeat');\n    Base.each(composition, function (shape, i) {\n      var soundTimeout = setTimeout(function () {\n        if (!window.kan.playing) {\n          console.log('not playing, returing');\n          return;\n        }\n\n        shape.sound.play(shape.spriteName);\n        animateNote(shape);\n      }, shape.startTime);\n      window.kan.soundTimeouts.push(soundTimeout);\n    });\n    iterations++;\n  }\n\n  function repeatComposition() {\n    if (loop === true) {\n      playCompositionOnce();\n      window.kan.compositionInterval = setInterval(playCompositionOnce, compositionLength);\n    } else {\n      if (iterations < 2) {\n        playCompositionOnce();\n        setTimeout(repeatComposition, compositionLength);\n      } else {\n        console.log('stoppppping');\n        stopPlaying();\n        overlays.openOverlay('share-prompt');\n      }\n    }\n  }\n}\n\nfunction stopComposition() {\n  clearInterval(window.kan.compositionInterval);\n  clearTimeout(window.kan.compositionTimeout);\n  clearSoundTimeouts();\n}\n\nfunction getTrimmedCompositionObj(composition) {\n  var firstTime = 0;\n  var trimmedComposition = [];\n  var startTime = getCompositionStartTime(composition);\n\n  composition.forEach(function (sound) {\n    var modifiedSound = sound;\n    modifiedSound.startTime -= startTime;\n    if (modifiedSound.startTime < 0) modifiedSound.startTime = 0; // this shouldn't happen\n    trimmedComposition.push(modifiedSound);\n  });\n\n  return {\n    composition: trimmedComposition,\n    startTime: startTime\n  };\n}\n\nfunction getCompositionStartTime(composition) {\n  var startTime = compositionLength;\n\n  composition.forEach(function (sound) {\n    console.log(sound);\n    console.log(sound.startTime);\n    if ('startTime' in sound && sound.startTime < startTime) {\n      startTime = sound.startTime;\n    }\n  });\n\n  console.log('start time', startTime);\n\n  if (startTime !== compositionLength) {\n    return startTime;\n  } else {\n    return 0;\n  }\n}\n\n},{\"./color\":4,\"./overlays\":7,\"./shape\":8,\"./ui\":13,\"howler\":3}],10:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.init = init;\nexports.preventInactivityTimeout = preventInactivityTimeout;\nvar overlays = require('./overlays');\nvar video = require('./video');\nvar util = require('./util');\n\nvar $body = $('body');\n\nvar drawInactivityDelay = exports.drawInactivityDelay = 40 * 1000; // ms\nvar continueInactivityDelay = exports.continueInactivityDelay = 30 * 1000; // ms\nvar playPromptDelay = exports.playPromptDelay = 60 * 1000; // ms;\nvar inputDelay = exports.inputDelay = 100; // ms\nvar refreshCheckDelay = exports.refreshCheckDelay = 60 * 1000; // ms\n\nfunction init() {\n  if (window.location.hash.length > 0 && window.location.hash == '#dev') {\n    window.kan.overlays = false;\n    video.pauseVideo();\n    video.exitTutorialMode();\n  } else {\n    video.enterTutorialMode();\n  }\n}\n\nfunction preventInactivityTimeout() {\n  console.log('prevent timeout: ' + util.getTime());\n  // overlays.closeAndResetOverlays();\n\n  clearTimeout(window.kan.inactivityTimeout);\n\n  window.kan.inactivityTimeout = setTimeout(function () {\n    overlays.openOverlay('continue');\n  }, drawInactivityDelay);\n}\n\n},{\"./overlays\":7,\"./util\":14,\"./video\":15}],11:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.init = init;\nrequire('hammerjs');\n\nvar config = require('./../../config');\nvar sound = require('./sound');\nvar color = require('./color');\nvar shape = require('./shape');\nvar util = require('./util');\nvar tutorial = require('./tutorial');\nvar timing = require('./timing');\nvar overlays = require('./overlays');\nvar ui = require('./ui');\n\nvar $body = $('body');\n\nvar hitOptions = {\n  segments: false,\n  stroke: true,\n  fill: true,\n  tolerance: 5\n};\n\nvar minShapeSize = 100;\nvar maxScaleFactor = 0.8;\n\nvar outerPath = void 0;\nvar sizes = [];\nvar size = void 0;\nvar cumSize = void 0;\nvar prevPoint = void 0;\n\nvar hammerTips = exports.hammerTips = void 0;\nvar hammerCanvas = exports.hammerCanvas = void 0;\n\nfunction init() {\n  exports.hammerTips = hammerTips = new Hammer.Manager(ui.tipsOverlay);\n  hammerTips.add(new Hammer.Swipe({ direction: Hammer.DIRECTION_ALL }));\n  hammerTips.on('swipe', overlays.cardNavNext);\n\n  exports.hammerCanvas = hammerCanvas = new Hammer.Manager(ui.canvas);\n  hammerCanvas.add(new Hammer.Tap({ event: 'doubletap', taps: 2, interval: 400, time: 150, posThreshold: 50 }));\n  hammerCanvas.add(new Hammer.Tap({ event: 'singletap' }));\n  hammerCanvas.add(new Hammer.Pan({ direction: Hammer.DIRECTION_ALL }));\n  hammerCanvas.add(new Hammer.Pinch());\n\n  hammerCanvas.get('doubletap').recognizeWith('singletap');\n  // hammerCanvas.get('singletap').requireFailure('doubletap');\n  hammerCanvas.get('pan').requireFailure('pinch');\n  hammerCanvas.get('pinch').requireFailure('pan');\n\n  // hammerCanvas.on('singletap', singleTap);\n  hammerCanvas.on('doubletap', doubleTap);\n\n  hammerCanvas.on('panstart', panStart);\n  hammerCanvas.on('panmove', panMove);\n  hammerCanvas.on('panend', panEnd);\n  // hammerCanvas.on('pancancel', panCancel);\n\n  hammerCanvas.on('pinchstart', pinchStart);\n  hammerCanvas.on('pinchmove', pinchMove);\n  hammerCanvas.on('pinchend', pinchEnd);\n  // hammerCanvas.on('pinchcancel', pinchCancel);\n}\n\nfunction enablePanAndPinchEvents() {\n  enablePanEvents();\n  enablePinchEvents();\n}\n\nfunction enableTapEvents() {\n  var enable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  enable = enable === true;\n  hammerCanvas.get('singletap').set({ enable: enable });\n  hammerCanvas.get('doubletap').set({ enable: enable });\n}\n\nfunction disableTapEvents() {\n  enableTapEvents(false);\n}\n\nfunction enablePanEvents() {\n  var enable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  enable = enable === true;\n\n  hammerCanvas.get('pan').set({ enable: enable });\n  // hammerCanvas.get('panstart').set({enable: enable});\n  // hammerCanvas.get('panmove').set({enable: enable});\n  // hammerCanvas.get('panend').set({enable: enable});\n}\n\nfunction disablePanEvents() {\n  enablePanEvents(false);\n}\n\nfunction enablePinchEvents() {\n  var enable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  enable = enable === true;\n\n  hammerCanvas.get('pinch').set({ enable: enable });\n  // hammerCanvas.get('pinchstart').set({enable: enable});\n  // hammerCanvas.get('pinchmove').set({enable: enable});\n  // hammerCanvas.get('pinchend').set({enable: enable});\n}\n\nfunction disablePinchEvents() {\n  enablePinchEvents(false);\n}\n\nfunction singleTap(event) {\n  // console.log(event.target);\n  // event.preventDefault();\n  // if (!eventTargetIsOnCanvas(event)) return;\n  tutorial.hideContextualTuts();\n  // $(event.target).click();\n\n  // sound.stopPlaying();\n  // if (!eventTargetIsOnCanvas(event)) return;\n  // console.log(event);\n  // tutorial.hideContextualTuts();\n  //\n  // sound.stopPlaying();\n  //\n  // const pointer = event.center,\n  //     point = new Point(pointer.x, pointer.y),\n  //     hitResult = paper.project.hitTest(point, hitOptions);\n  //\n  // if (hitResult) {\n  //   let item = hitResult.item;\n  //   // item.selected = !item.selected;\n  //   console.log(item);\n  // }\n}\n\nfunction doubleTap(event) {\n  event.preventDefault();\n\n  var pointer = event.center,\n      point = new Point(pointer.x, pointer.y),\n      hitResult = paper.project.hitTest(point, hitOptions);\n\n  if (!eventTargetIsOnCanvas(event)) return;\n\n  var transparent = color.transparent;\n\n  if (hitResult) {\n    var item = hitResult.item;\n    var parent = item.parent;\n\n    tutorial.hideContextualTutByName('fill');\n\n    if (item.data.interior) {\n      item.data.transparent = !item.data.transparent;\n\n      if (item.data.transparent) {\n        item.fillColor = transparent;\n        item.strokeColor = transparent;\n      } else {\n        item.fillColor = parent.data.color;\n        item.strokeColor = parent.data.color;\n      }\n\n      window.kan.moves.push({\n        type: 'fillChange',\n        id: item.id,\n        fill: parent.data.color,\n        transparent: item.data.transparent\n      });\n    } else {\n      console.log('not interior');\n    }\n  } else {\n    window.kan.pinchedGroup = null;\n    console.log('hit no item');\n  }\n}\n\nfunction panStart(event) {\n  // console.log(event);\n  // console.log('panstart');\n  // paper.project.activeLayer.removeChildren(); // REMOVE\n  // event.preventDefault();\n\n  if (!eventTargetIsOnCanvas(event)) {\n    window.kan.panning = false;\n    timing.preventInactivityTimeout();\n    // check if tips modal is up\n    if ($body.hasClass('overlay-active tips-active')) {\n      // if so, go to next tip card\n      overlays.cardNavNext();\n    }\n    event.srcEvent.stopPropagation();\n    return;\n  }\n\n  window.kan.panning = true;\n  tutorial.hideContextualTuts();\n\n  hammerCanvas.off('panstart');\n  // hammerCanvas.get('pan').set({enable: false});\n  disablePinchEvents();\n  disableTapEvents();\n\n  // ignore other touch inputs\n  // if (window.kan.pinching) return;\n  // if (!(event.changedPointers && event.changedPointers.length > 0)) return;\n  // if (event.changedPointers.length > 1) {\n  //   console.log('event.changedPointers > 1');\n  // }\n\n  sound.stopPlaying();\n\n  window.kan.prevAngle = Math.atan2(event.velocityY, event.velocityX);\n\n  var pointer = event.center;\n  var point = new Point(pointer.x, pointer.y);\n\n  outerPath = new Path();\n  outerPath.fillColor = window.kan.currentColor;\n  // outerPath.fillColor = new Color(0, 0.5);\n\n  sizes = [];\n\n  var shapePath = new Path({\n    strokeColor: window.kan.currentColor,\n    name: 'shapePath',\n    strokeWidth: 5,\n    visible: false,\n    strokeCap: 'round'\n  });\n\n  shapePath.add(point);\n\n  // window.kan.corners = [point];\n\n  // window.kan.sides = [];\n  // window.kan.side = [point];\n\n  window.kan.pathData[shape.stringifyPoint(point)] = {\n    point: point,\n    first: true\n  };\n\n  window.kan.shapePath = shapePath;\n}\n\nfunction panMove(event) {\n  console.log('panmove');\n  // event.preventDefault();\n  if (!eventTargetIsOnCanvas(event)) {\n    event.srcEvent.stopPropagation();\n    return;\n  }\n  if (window.kan.panning !== true) return;\n\n  var thresholdAngleRad = util.rad(shape.cornerThresholdDeg);\n\n  var pointer = event.center;\n  var point = new Point(pointer.x, pointer.y);\n\n  var angle = Math.atan2(event.velocityY, event.velocityX);\n  var prevAngle = window.kan.prevAngle;\n  var angleDelta = util.angleDelta(angle, prevAngle);\n  window.kan.prevAngle = angle;\n\n  // let side = window.kan.side;\n  // let sides = window.kan.sides;\n\n  // if (angleDelta > thresholdAngleRad) {\n  //   if (side.length > 0) {\n  //     // console.log('corner');\n  //     let cornerPoint = point;\n  //     // new Path.Circle({\n  //     //   center: cornerPoint,\n  //     //   radius: 15,\n  //     //   strokeColor: 'black'\n  //     // });\n  //     // window.kan.corners.push(cornerPoint);\n  //     sides.push(side);\n  //     side = [];\n  //   }\n  // }\n\n  // side.push(point);\n\n  while (sizes.length > 10) {\n    sizes.shift();\n  }\n  if (sizes.length > 0) {\n    var dist = prevPoint.getDistance(point);\n\n    // These are based on acceleration\n    // size = 30 - Math.min(dist * 0.3, 30);\n    // size = dist * 3 + 5;\n    size = Math.random() * 10; // This is just random variance\n\n    cumSize = 0;\n    for (var j = 0; j < sizes.length; j++) {\n      cumSize += sizes[j];\n    }\n    // const avgSize = ((cumSize / sizes.length) + size) / 2;\n    var avgSize = Math.max(5, (cumSize / sizes.length + size) / 2);\n\n    var halfPointX = (point.x + prevPoint.x) / 2;\n    var halfPointY = (point.y + prevPoint.y) / 2;\n    var halfPoint = new Point(halfPointX, halfPointY);\n\n    var topX = halfPoint.x + Math.cos(angle - Math.PI / 2) * avgSize;\n    var topY = halfPoint.y + Math.sin(angle - Math.PI / 2) * avgSize;\n    var top = new Point(topX, topY);\n\n    var bottomX = halfPoint.x + Math.cos(angle + Math.PI / 2) * avgSize;\n    var bottomY = halfPoint.y + Math.sin(angle + Math.PI / 2) * avgSize;\n    var bottom = new Point(bottomX, bottomY);\n\n    outerPath.add(top);\n    outerPath.insert(0, bottom);\n    outerPath.smooth();\n  } else {\n    size = 5;\n  }\n\n  sizes.push(size);\n  prevPoint = point;\n\n  window.kan.pathData[shape.stringifyPoint(point)] = {\n    point: point,\n    speed: Math.abs(event.overallVelocity),\n    angle: angle\n  };\n\n  window.kan.shapePath.add(point);\n  // window.kan.sides = sides;\n  // window.kan.side = side;\n\n  paper.view.draw();\n}\n\nfunction panEnd(event) {\n  console.log('panend');\n  // event.preventDefault();\n  if (!eventTargetIsOnCanvas(event)) {\n    event.srcEvent.stopPropagation();\n    return;\n  }\n  if (window.kan.panning !== true) return;\n\n  var pointer = event.center;\n  var point = new Point(pointer.x, pointer.y);\n\n  var transparent = color.transparent;\n  var colorName = color.getColorName(window.kan.currentColor);\n\n  var shapePath = window.kan.shapePath;\n  // let side = window.kan.side;\n  // let sides = window.kan.sides;\n  // let corners = window.kan.corners;\n\n  shapePath.add(point);\n  outerPath.visible = false;\n\n  if (shapePath.length < minShapeSize) {\n    console.log('path is too short');\n    shapePath.remove();\n    hammerCanvas.on('panstart', panStart);\n    enablePanAndPinchEvents();\n    enableTapEvents();\n    window.kan.panning = false;\n    return;\n  }\n\n  window.kan.pathData[shape.stringifyPoint(point)] = {\n    point: point,\n    last: true\n  };\n\n  // side.push(point);\n  // sides.push(side);\n  // corners.push(point);\n\n  var group = new Group();\n\n  var truedShape = shape.getTruedShape(shapePath);\n\n  // group.data.color = truedShape.strokeColor;\n  console.log('currentGradient:', config.palette.gradients[window.kan.currentColor]);\n\n  var shapeSize = truedShape.strokeBounds;\n  var centerPoint = new Point(shapeSize.width / 2, shapeSize.height / 2);\n  var angle = util.rad(Math.random() * 360);\n  var gradientSize = (shapeSize.width + shapeSize.height) / 4;\n  var originX = centerPoint.x + Math.cos(angle - Math.PI / 2) * gradientSize;\n  var originY = centerPoint.y + Math.sin(angle - Math.PI / 2) * gradientSize;\n  var destinationX = centerPoint.x + Math.cos(angle + Math.PI / 2) * gradientSize;\n  var destinationY = centerPoint.y + Math.sin(angle + Math.PI / 2) * gradientSize;\n\n  var origin = new Point(originX + shapeSize.x, originY + shapeSize.y);\n  var destination = new Point(destinationX + shapeSize.x, destinationY + shapeSize.y);\n  // group.addChild(new Path.Circle({\n  //   center: origin,\n  //   radius: 5,\n  //   fillColor: 'red',\n  // }));\n  // group.addChild(new Path.Circle({\n  //   center: destination,\n  //   radius: 5,\n  //   fillColor: 'green',\n  // }));\n  group.data.originalColor = window.kan.currentColor;\n  group.data.color = {\n    gradient: {\n      stops: config.palette.gradients[window.kan.currentColor]\n    },\n    origin: origin,\n    destination: destination\n  };\n  group.data.scale = 1; // init variable to track scale changes\n  group.data.rotation = 0; // init variable to track rotation changes\n\n  shapePath.remove();\n  truedShape.visible = false;\n  // truedShape.strokeColor = window.kan.currentColor;\n  truedShape.strokeColor = new Color(0, 0);\n  window.kan.shapePath = truedShape;\n  truedShape.name = 'shapePath';\n\n  if (!(truedShape.length > 0)) {\n    truedShape.remove();\n    group.remove();\n    window.kan.panning = false;\n    return;\n  }\n\n  group.addChild(truedShape);\n\n  var shapeSoundObj = sound.getShapeSoundObj(truedShape);\n  window.kan.composition.push(shapeSoundObj);\n\n  truedShape.visible = false;\n  var outlineGroup = shape.getOutlineGroup(truedShape);\n  console.log('outlineGroup', outlineGroup);\n  var outline = outlineGroup._namedChildren.outer[0];\n  outline.fillColor = window.kan.currentColor;\n  outline.fillColor = group.data.color;\n\n  var outlineCenter = outlineGroup._namedChildren.middle[0];\n  outlineCenter.strokeColor = group.data.color;\n  outlineCenter.visible = false;\n  // outline.fillColor = new Color(1, 1, 0, 0.5);\n  group.addChild(outline);\n  // outline.shadowColor = new Color(0, 0, 0, 0.2);\n  // outline.shadowBlur = 0.25;\n  // outline.shadowOffset = -1;\n  outline.sendToBack();\n\n  // truedShape = truedShape.intersect(outline); // make sure that the trued shape is within the outline\n  // console.log('truedShape after', truedShape);\n  // truedShape.selected = true;\n\n  var enclosedLoops = shape.findInteriorCurves(outlineCenter);\n  console.log('enclosedLoops', enclosedLoops);\n  Base.each(enclosedLoops, function (loop, i) {\n    group.addChild(loop);\n    loop.sendToBack();\n  });\n\n  // outlineCenter.remove();\n\n  window.kan.moves.push({\n    type: 'newGroup',\n    id: group.id\n  });\n\n  ui.unditherButtonsByName(['new', 'undo']);\n\n  if (window.kan.userHasDrawnFirstShape !== true) {\n    // first shape!\n    // set play prompt timeout\n    window.kan.playPromptTimeout = setTimeout(function () {\n      overlays.openOverlay('play-prompt');\n    }, timing.playPromptDelay);\n\n    window.kan.userHasDrawnFirstShape = true;\n  } else {\n    var groups = util.getAllGroups();\n    if (groups.length >= 3) {\n      $body.addClass(sound.playEnabledClass);\n      ui.unditherButtonsByName(['play-stop', 'share']);\n    }\n    console.log(groups.length, $body.hasClass(sound.playEnabledClass));\n  }\n\n  if (config.runAnimations) {\n    var scaleFactor = 0.9;\n    group.animate([{\n      properties: {\n        scale: scaleFactor\n      },\n      settings: {\n        duration: 100,\n        easing: \"easeOut\"\n      }\n    }, {\n      properties: {\n        scale: 1 / scaleFactor\n      },\n      settings: {\n        duration: 100,\n        easing: \"easeIn\"\n      }\n    }]);\n  }\n\n  if (!tutorial.allTutsCompleted()) {\n    var tutorialCompletion = window.kan.tutorialCompletion;\n    var tutName = null;\n\n    if (!tutorialCompletion['fill'] && truedShape.closed) {\n      tutName = 'fill';\n    } else {\n      var _groups = paper.project.getItems({\n        match: function match(el) {\n          return el.className === 'Group';\n        }\n      });\n      if (!tutorialCompletion['pinch'] && _groups.length >= 3) {\n        tutName = 'pinch';\n      } else if (!tutorialCompletion['swipe'] && _groups.length >= 5) {\n        tutName = 'swipe';\n      }\n    }\n\n    if (tutName !== null) {\n      console.log(tutName + ' tutorial');\n      tutorial.addContextualTut(tutName);\n      window.kan.tutorialCompletion[tutName] = true;\n      group.data.tut = tutName;\n    }\n  }\n\n  // window.kan.side = side;\n  // window.kan.sides = sides;\n  // window.kan.corners = corners;\n  if (window.kan.scheduledOverlay !== null) {\n    window.kan.scheduledOverlay = null;\n\n    setTimeout(function () {\n      overlays.openOverlay(window.kan.scheduledOverlay);\n    }, timing.overlayDelay);\n  }\n\n  console.log('pan done');\n  hammerCanvas.set({ enable: false });\n  setTimeout(function () {\n    hammerCanvas.set({ enable: true });\n    console.log('touch enabled');\n    hammerCanvas.on('panstart', panStart);\n    enablePanAndPinchEvents();\n    enableTapEvents();\n\n    window.kan.panning = false;\n  }, timing.inputDelay);\n}\n\nfunction panCancel(event) {\n  console.log('pancancel');\n  event.srcEvent.stopPropagation();\n  // event.preventDefault();\n\n  hammerCanvas.set({ enable: true });\n  hammerCanvas.on('panstart', panStart);\n  enablePanAndPinchEvents();\n  enableTapEvents();\n  window.kan.panning = false;\n}\n\nfunction pinchStart(event) {\n  console.log('pinchstart');\n  tutorial.hideContextualTuts();\n  window.kan.interacting = true;\n  window.kan.pinching = true;\n  // event.preventDefault();\n\n  // hammerCanvas.get('pinchstart').set({enable: false});\n  hammerCanvas.off('pinchstart');\n  disablePanEvents();\n  disableTapEvents();\n\n  if (!eventTargetIsOnCanvas(event)) return;\n\n  console.log('pinchStart', event.center);\n  sound.stopPlaying();\n\n  var pointer = event.center,\n      point = new Point(pointer.x, pointer.y),\n      hitResult = shape.hitTestGroupBounds(point);\n\n  if (hitResult) {\n    window.kan.pinching = true;\n    window.kan.pinchedGroup = hitResult;\n    window.kan.lastScale = 1;\n    window.kan.lastRotation = event.rotation;\n\n    window.kan.originalPosition = hitResult.position;\n    window.kan.originalRotation = hitResult.data.rotation;\n    window.kan.originalScale = hitResult.data.scale;\n\n    hitResult.bringToFront();\n\n    if (hitResult.data.tut && hitResult.data.tut.length > 0) {\n      var $tut = $('.tut[data-tut-type=\\'' + hitResult.data.tut + '\\']');\n      if ($tut) {\n        window.kan.pinchedTut = $tut;\n      } else {\n        window.kan.pinchedTut = null;\n      }\n    } else {\n      window.kan.pinchedTut = null;\n    }\n\n    // if (config.runAnimations) {\n    //   hitResult.animate({\n    //     properties: {\n    //       scale: 1.25\n    //     },\n    //     settings: {\n    //       duration: 100,\n    //       easing: \"easeOut\",\n    //     }\n    //   });\n    // }\n  } else {\n    window.kan.pinchedGroup = null;\n    window.kan.pinchedTut = null;\n    console.log('hit no item');\n  }\n}\n\nfunction pinchMove(event) {\n  console.log('pinchMove');\n  // event.preventDefault();\n\n  var viewWidth = paper.view.viewSize.width;\n  var viewHeight = paper.view.viewSize.height;\n  var pinchedGroup = window.kan.pinchedGroup;\n  var $pinchedTut = window.kan.pinchedTut;\n\n  if (!!pinchedGroup) {\n    var currentScale = event.scale;\n    var scaleDelta = void 0;\n\n    tutorial.hideContextualTutByName('pinch');\n\n    if (pinchedGroup.bounds.width < minShapeSize || pinchedGroup.bounds.height < minShapeSize) {\n      // only allow a shape to scale down if it is larger than the minimum size\n      scaleDelta = 1.1;\n    } else if (pinchedGroup.bounds.width >= paper.view.viewSize.width || pinchedGroup.bounds.height >= paper.view.viewSize.height) {\n      // only allow shape to scale up if it fits in the viewport\n      scaleDelta = 0.9;\n    } else {\n      scaleDelta = currentScale / window.kan.lastScale;\n    }\n\n    window.kan.lastScale = currentScale;\n\n    var currentRotation = event.rotation;\n    var rotationDelta = currentRotation - window.kan.lastRotation;\n    window.kan.lastRotation = currentRotation;\n\n    // console.log(`scaling by ${scaleDelta}`);\n    // console.log(`rotating by ${rotationDelta}`);\n\n    var centerPoint = event.center;\n    pinchedGroup.position = centerPoint;\n    if (!!$pinchedTut) {\n      tutorial.moveContextualTut($pinchedTut, centerPoint);\n    }\n\n    if (scaleDelta !== 1) {\n      pinchedGroup.scale(scaleDelta);\n\n      // check if scaling went awry, cannot be too big or too small\n      if (pinchedGroup.bounds.width >= paper.view.viewSize.width * maxScaleFactor || pinchedGroup.bounds.height >= paper.view.viewSize.height * maxScaleFactor) {\n        // shape is too big, bring it back down to size\n        var _bounds = pinchedGroup.bounds;\n        if (_bounds.width > _bounds.height) {\n          scaleDelta = paper.view.viewSize.width * maxScaleFactor / _bounds.width;\n        } else {\n          scaleDelta = paper.view.viewSize.height * maxScaleFactor / _bounds.height;\n        }\n        pinchedGroup.scale(scaleDelta);\n      } else if (pinchedGroup.bounds.width <= minShapeSize || pinchedGroup.bounds.height <= minShapeSize) {\n        if (bounds.width < bounds.height) {\n          scaleDelta = minShapeSize / bounds.width;\n        } else {\n          scaleDelta = minShapeSize / bounds.width;\n        }\n        pinchedGroup.scale(scaleDelta);\n      }\n    }\n    pinchedGroup.rotate(rotationDelta);\n\n    pinchedGroup.data.scale *= scaleDelta;\n    pinchedGroup.data.rotation += rotationDelta;\n  }\n}\n\nfunction pinchEnd(event) {\n  console.log('pinchend');\n  // event.preventDefault();\n\n  window.kan.lastEvent = event;\n  var pinchedGroup = window.kan.pinchedGroup;\n  var $pinchedTut = window.kan.pinchedTut;\n  var originalPosition = window.kan.originalPosition;\n  var originalRotation = window.kan.originalRotation;\n  var originalScale = window.kan.originalScale;\n\n  if (!!pinchedGroup) {\n    pinchedGroup.data.update = true;\n    var move = {\n      id: pinchedGroup.id,\n      type: 'transform'\n    };\n    if (pinchedGroup.position != originalPosition) {\n      move.position = originalPosition;\n    }\n\n    if (pinchedGroup.data.rotation != originalRotation) {\n      move.rotation = originalRotation - pinchedGroup.data.rotation;\n    }\n\n    if (pinchedGroup.data.scale != originalScale) {\n      move.scale = originalScale / pinchedGroup.data.scale;\n    }\n\n    if (pinchedGroup.children.length > 0 && pinchedGroup._namedChildren.shapePath && pinchedGroup._namedChildren.shapePath.length > 0) {\n      // update shapePath sound object if possible\n      sound.removeShapeFromComposition(pinchedGroup); // sound is now wrong\n\n      var shapePath = pinchedGroup._namedChildren.shapePath[0];\n      var shapeSoundObj = sound.getShapeSoundObj(shapePath);\n      window.kan.composition.push(shapeSoundObj);\n    }\n\n    window.kan.moves.push(move);\n\n    if (Math.abs(event.velocity) > 1) {\n      tutorial.hideContextualTutByName('swipe');\n\n      // hide any connected tuts\n      if (!!$pinchedTut) {\n        tutorial.hideContextualTut($pinchedTut);\n      }\n      // dispose of group offscreen\n      throwPinchedGroup();\n    }\n\n    // if (config.runAnimations) {\n    //   pinchedGroup.animate({\n    //     properties: {\n    //       scale: 0.8\n    //     },\n    //     settings: {\n    //       duration: 100,\n    //       easing: \"easeOut\",\n    //     }\n    //   });\n    // }\n  } else {\n    window.kan.pinchedGroup = null;\n  }\n\n  // if an overlay was interrupted, open it up now\n  if (window.kan.scheduledOverlay !== null) {\n    window.kan.scheduledOverlay = null;\n\n    setTimeout(function () {\n      overlays.openOverlay(window.kan.scheduledOverlay);\n    }, timing.overlayDelay);\n  }\n\n  window.kan.pinching = false;\n\n  console.log('pinch done');\n  // hammerCanvas.set({ enable: false });\n  setTimeout(function () {\n    console.log('touch enabled');\n    hammerCanvas.on('pinchstart', pinchStart);\n    enablePanAndPinchEvents();\n    enableTapEvents();\n    // hammerCanvas.set({ enable: true });\n    // hammerCanvas.on('pinchstart', pinchStart);\n    // enablePanAndPinchEvents();\n    // enableTapEvents();\n    // window.kan.pinching = false;\n    // window.kan.pinchedGroup = null;\n  }, timing.inputDelay);\n}\n\nfunction pinchCancel(event) {\n  console.log(event);\n  event.srcEvent.stopPropagation();\n  console.log('pinchcancel');\n  // event.preventDefault();\n\n  hammerCanvas.set({ enable: true });\n  hammerCanvas.on('pinchstart', pinchStart);\n  enablePanAndPinchEvents();\n  enableTapEvents();\n\n  window.kan.pinching = false;\n}\n\nfunction throwPinchedGroup() {\n  var velocityMultiplier = 25;\n  var lastEvent = window.kan.lastEvent;\n  var viewWidth = paper.view.viewSize.width;\n  var viewHeight = paper.view.viewSize.height;\n  var pinchedGroup = window.kan.pinchedGroup;\n\n  if (pinchedGroup === null) return;\n\n  if (pinchedGroup.position.x <= 0 - pinchedGroup.bounds.width || pinchedGroup.position.x >= viewWidth + pinchedGroup.bounds.width || pinchedGroup.position.y <= 0 - pinchedGroup.bounds.height || pinchedGroup.position.y >= viewHeight + pinchedGroup.bounds.height) {\n    pinchedGroup.data.offScreen = true;\n    pinchedGroup.visible = false;\n    sound.removeShapeFromComposition(pinchedGroup);\n    window.kan.pinchedGroup = null;\n    return;\n  }\n  requestAnimationFrame(throwPinchedGroup);\n  var newX = pinchedGroup.position.x + lastEvent.velocityX * velocityMultiplier;\n  var newY = pinchedGroup.position.y + lastEvent.velocityY * velocityMultiplier;\n  var newPos = new Point(newX, newY);\n  pinchedGroup.position = newPos;\n}\n\nfunction eventTargetIsOnCanvas(event) {\n  if (!event) return false;\n  if (event.target != ui.canvas) return false;\n  return true;\n}\n\n},{\"./../../config\":1,\"./color\":4,\"./overlays\":7,\"./shape\":8,\"./sound\":9,\"./timing\":10,\"./tutorial\":12,\"./ui\":13,\"./util\":14,\"hammerjs\":2}],12:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getTutByName = getTutByName;\nexports.allTutsCompleted = allTutsCompleted;\nexports.addContextualTut = addContextualTut;\nexports.hideContextualTut = hideContextualTut;\nexports.hideContextualTutByName = hideContextualTutByName;\nexports.hideContextualTuts = hideContextualTuts;\nexports.resetContextualTuts = resetContextualTuts;\nexports.moveContextualTut = moveContextualTut;\nexports.getTutPositionFromCenter = getTutPositionFromCenter;\nvar config = require('./../../config');\n\nvar contextualTuts = config.contextualTuts;\nvar tutArrowHeight = 16;\n\nfunction getTutByName(tutName) {\n  for (var i = 0; i < contextualTuts.length; i++) {\n    var tutObj = contextualTuts[i];\n\n    if (tutObj.type === tutName) {\n      return tutObj.copy;\n    }\n  }\n\n  return null;\n}\n\nfunction allTutsCompleted() {\n  var tutorialCompletionObj = window.kan.tutorialCompletion;\n  var completion = true;\n\n  Object.keys(tutorialCompletionObj).forEach(function (key, val) {\n    completion = completion && tutorialCompletionObj[key];\n  });\n\n  return completion === true;\n}\n\nfunction addContextualTut(tutName) {\n  if (!!window.kan.shapePath && window.kan.shapePath.length > 0) {\n    hideContextualTuts();\n    window.kan.shapesSinceTut = 0;\n\n    var shapePath = window.kan.shapePath;\n    var shapeCenter = shapePath.bounds.center;\n\n    var tutCopy = getTutByName(tutName);\n\n    if (tutCopy !== null) {\n      var $tut = $('.tut[data-tut-type=\\'' + tutName + '\\']');\n      if ($tut.length > 0) {\n        var tutPos = getTutPositionFromCenter($tut, shapeCenter);\n        $tut.css({ top: tutPos.y + 'px', left: tutPos.x + 'px', visibility: 'visible' });\n        $tut.addClass('animated bounceIn');\n      }\n    }\n  }\n}\n\nfunction hideContextualTut($tut) {\n  $tut.css({ visibility: 'hidden' });\n}\n\nfunction hideContextualTutByName(tutName) {\n  var $tut = $('.tut[data-tut-type=\\'' + tutName + '\\']');\n  hideContextualTut($tut);\n}\n\nfunction hideContextualTuts() {\n  var $tuts = $('.contextual-tuts .tut');\n  $tuts.css({ visibility: 'hidden' });\n}\n\nfunction resetContextualTuts() {\n  hideContextualTuts();\n  window.kan.tutorialCompletion = {\n    \"fill\": false,\n    \"pinch\": false,\n    \"swipe\": false\n  };\n}\n\nfunction moveContextualTut($tut, centerPoint) {\n  var tutPos = getTutPositionFromCenter($tut, centerPoint);\n  $tut.css({ top: tutPos.y + 'px', left: tutPos.x + 'px' });\n}\n\nfunction getTutPositionFromCenter($tut, centerPoint) {\n  var tutWidth = $tut.outerWidth();\n  var tutHeight = $tut.outerHeight();\n  var leftPos = centerPoint.x - tutWidth / 2;\n  var topPos = centerPoint.y - tutHeight - tutArrowHeight;\n  return new Point(leftPos, topPos);\n}\n\n},{\"./../../config\":1}],13:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.init = init;\nexports.ditherButtonsByName = ditherButtonsByName;\nexports.unditherButtonsByName = unditherButtonsByName;\nexports.ditherButtonByName = ditherButtonByName;\nexports.unditherButtonByName = unditherButtonByName;\nexports.resetCanvas = resetCanvas;\nvar sound = require('./sound');\nvar tutorial = require('./tutorial');\nvar overlays = require('./overlays');\nvar util = require('./util');\nvar color = require('./color');\n\nvar $body = $('body');\nvar tapEvent = 'click tap touch';\n\nvar playingClass = sound.playingClass;\nvar playEnabledClass = sound.playEnabledClass;\n\nvar $newButton = $('.controls .new');\nvar $undoButton = $('.controls .undo');\nvar $playButton = $('.controls .play-stop');\nvar $shareButton = $('.controls .share');\nvar $tipsButton = $('.controls .tips');\n\nvar canvas = exports.canvas = $('#canvas')[0];\nvar tipsOverlay = exports.tipsOverlay = $('.overlay.tips')[0];\n\nvar ditheredClass = 'dithered';\n\nfunction init() {\n  initLogoRefresh();\n  initColorPalette();\n  initNewButton();\n  initUndoButton();\n  initPlayButton();\n  initTipsButton();\n  initShareButton();\n  initContextualTuts();\n  resetCanvas();\n}\n\nfunction unditherAllButtons() {\n  $('.controls .' + ditheredClass).removeClass(ditheredClass);\n}\n\nfunction ditherButtonsByName(buttonNames) {\n  var undither = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  if (buttonNames.length > 0) {\n    if ($.isArray(buttonNames)) {\n      buttonNames.forEach(function (name) {\n        return ditherButtonByName(name, undither);\n      });\n    } else {\n      ditherButtonByName(buttonNames, undither);\n    }\n  }\n}\n\nfunction unditherButtonsByName(buttonNames) {\n  ditherButtonsByName(buttonNames, true);\n}\n\nfunction ditherButtonByName(buttonName) {\n  var undither = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var $button = $('.controls .' + buttonName);\n  console.log($button);\n  if ($button.length > 0) {\n    if (undither !== true) {\n      $button.addClass(ditheredClass);\n    } else {\n      $button.removeClass(ditheredClass);\n    }\n  }\n}\n\nfunction unditherButtonByName(buttonName) {\n  ditherButtonByName(buttonName, true);\n}\n\nfunction unditherButtonsByName(buttonNames) {\n  ditherButtonsByName(buttonNames, true);\n}\n\nfunction newPressed() {\n  console.log('new pressed');\n  window.kan.composition = [];\n  paper.project.activeLayer.removeChildren();\n  tutorial.hideContextualTuts();\n  ditherButtonsByName(['undo', 'new', 'play-stop', 'share']);\n  sound.stopPlaying();\n  // window.kan.userHasDrawnFirstShape = false;\n  // tutorial.resetContextualTuts();\n}\n\nfunction undoPressed() {\n  sound.stopPlaying();\n  tutorial.hideContextualTuts();\n\n  var transparent = new Color(0, 0);\n  console.log('undo pressed');\n  if (!(window.kan.moves.length > 0)) {\n    console.log('no moves yet');\n    window.kan.userHasDrawnFirstShape = false;\n    return;\n  }\n\n  var lastMove = window.kan.moves.pop();\n  var item = project.getItem({\n    id: lastMove.id\n  });\n\n  if (item) {\n    item.visible = true; // make sure\n    switch (lastMove.type) {\n      case 'newGroup':\n        console.log('removing group');\n        sound.removeShapeFromComposition(item);\n        item.remove();\n\n        var numGroups = util.getNumGroups();\n        console.log('numGroups', numGroups);\n\n        if (numGroups <= 0) {\n          ditherButtonsByName(['undo', 'new']);\n        }\n\n        if (numGroups < 3) {\n          ditherButtonsByName(['play-stop', 'share']);\n          $body.removeClass(sound.playEnabledClass);\n        } else {\n          unditherButtonsByName(['play-stop', 'share']);\n          $body.addClass(sound.playEnabledClass);\n        }\n        break;\n      case 'fillChange':\n        if (lastMove.transparent) {\n          item.fillColor = lastMove.fill;\n          item.strokeColor = lastMove.fill;\n        } else {\n          item.fillColor = transparent;\n          item.strokeColor = transparent;\n        }\n      case 'transform':\n        if (!!lastMove.position) {\n          item.position = lastMove.position;\n          if (item.data && item.data.tut && item.data.tut.length > 0) {\n            // item has connected contextual tut, move it to the right place\n            var $tut = $('.tut[data-tut-type=\\'' + tutName + '\\']');\n            tutorial.moveContextualTut($tut, lastMove.position);\n          }\n        }\n        if (!!lastMove.rotation) {\n          item.rotation = lastMove.rotation;\n        }\n        if (!!lastMove.scale) {\n          item.scale(lastMove.scale);\n        }\n        break;\n      default:\n        console.log('unknown case');\n    }\n  } else {\n    console.log('could not find matching item');\n  }\n}\n\nfunction playPressed() {\n  console.log('play pressed');\n  // sound.stopComposition();\n  // overlays.closeAndResetOverlays();\n  // tutorial.hideContextualTuts();\n  var playing = window.kan.playing;\n  console.log(playing, util.getNumGroups() > 2, !playing && util.getNumGroups() > 2, $body);\n\n  clearTimeout(window.kan.playPromptTimeout);\n  if (!playing && util.getNumGroups() > 2) {\n    console.log('starting playing');\n    sound.startPlaying();\n  } else {\n    console.log('stopping playing');\n    sound.stopPlaying(true);\n  }\n}\n\nfunction tipsPressed() {\n  sound.stopPlaying();\n  overlays.openOverlay('tips');\n  console.log('tips pressed');\n}\n\nfunction sharePressed() {\n  console.log('share pressed');\n  sound.stopPlaying();\n  if ($body.hasClass(sound.playEnabledClass)) {\n    overlays.openOverlay('share');\n  }\n}\n\nfunction initLogoRefresh() {\n  $('.main-logo').on(tapEvent, function () {\n    location.reload();\n  });\n}\n\nfunction initColorPalette() {\n  var $paletteWrap = $('ul.palette-colors');\n  var $paletteColors = $paletteWrap.find('li');\n  var paletteColorSize = 20;\n  var paletteSelectedColorSize = 30;\n  var paletteSelectedClass = 'palette-selected';\n\n  // hook up click\n  $paletteColors.on('click tap touch', function () {\n    if (!$body.hasClass(playingClass)) {\n      var $svg = $(this).find('svg.palette-color');\n\n      if (!$svg.hasClass(paletteSelectedClass)) {\n        $('.' + paletteSelectedClass).removeClass(paletteSelectedClass).attr('width', paletteColorSize).attr('height', paletteColorSize).find('rect').attr('rx', 0).attr('ry', 0);\n\n        $svg.addClass(paletteSelectedClass).attr('width', paletteSelectedColorSize).attr('height', paletteSelectedColorSize).find('rect').attr('rx', paletteSelectedColorSize / 2).attr('ry', paletteSelectedColorSize / 2);\n\n        window.kan.currentColor = $svg.find('rect').attr('fill');\n        console.log('%ccolor', 'color:red', color.getColorName(window.kan.currentColor));\n      }\n    };\n  });\n}\n\nfunction initNewButton() {\n  $('.main-controls .new').on(tapEvent, function () {\n    if (!$body.hasClass(playingClass)) {\n      newPressed();\n    }\n  });\n}\n\nfunction initUndoButton() {\n  $('.main-controls .undo').on(tapEvent, function () {\n    if (!$body.hasClass(playingClass)) {\n      undoPressed();\n    }\n  });\n}\n\nfunction initPlayButton() {\n  $('.main-controls .play-stop .play').on(tapEvent, sound.startPlaying);\n  $('.main-controls .play-stop .stop').on(tapEvent, sound.stopPlaying);\n}\n\nfunction initTipsButton() {\n  $('.controls .tips').on(tapEvent, function () {\n    if (!$body.hasClass(playingClass)) {\n      tipsPressed();\n    }\n  });\n}\n\nfunction initShareButton() {\n  $('.controls .share').on(tapEvent, function () {\n    if (!$body.hasClass(playingClass)) {\n      sharePressed();\n    }\n  });\n}\n\nfunction initContextualTuts() {\n  var $tuts = $('.contextual-tuts .tut');\n  $tuts.on(tapEvent, function () {\n    $(this).css({ visibility: 'hidden' });\n  });\n}\n\nfunction resetCanvas() {\n  paper.project.clear();\n\n  // add random background\n  paper.project.activeLayer.name = 'background';\n  var numCanvasses = 10;\n  var randomCanvasIndex = Math.round(Math.random() * (numCanvasses - 1)) + 1; // [1, numCanvasses]\n  var canvasBg = new Raster('canvas-' + randomCanvasIndex);\n  canvasBg.name = 'canvasBg';\n  canvasBg.position = paper.view.center;\n\n  // add canvas layer\n  var scaleFactorHorizontal = paper.view.viewSize.width / canvasBg.size.width;\n  var scaleFactorVertical = paper.view.viewSize.height / canvasBg.size.height;\n  canvasBg.scale(Math.max(scaleFactorHorizontal, scaleFactorVertical));\n  var layer = new Layer(); // init new layer that all other shapes will be drawn upon\n  paper.project.activeLayer.name = 'canvas';\n}\n\n},{\"./color\":4,\"./overlays\":7,\"./sound\":9,\"./tutorial\":12,\"./util\":14}],14:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.rad = rad;\nexports.deg = deg;\nexports.angleDelta = angleDelta;\nexports.delta = delta;\nexports.getTime = getTime;\nexports.getAllGroups = getAllGroups;\nexports.anyShapesOnCanvas = anyShapesOnCanvas;\nexports.getNumGroups = getNumGroups;\nexports.setSha = setSha;\nvar config = require('./../../config');\n\n// Converts from degrees to radians.\nfunction rad(degrees) {\n  return degrees * Math.PI / 180;\n};\n\n// Converts from radians to degrees.\nfunction deg(radians) {\n  return radians * 180 / Math.PI;\n};\n\n// returns absolute value of the delta of two angles in radians\nfunction angleDelta(x, y) {\n  return Math.abs(Math.atan2(Math.sin(y - x), Math.cos(y - x)));;\n}\n\n// distance between two points\nfunction delta(p1, p2) {\n  return Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2)); // pythagorean!\n}\n\nfunction getTime() {\n  return new Date().toLocaleTimeString();\n}\n\nfunction getAllGroups() {\n  return paper.project.getItems({\n    match: function match(el) {\n      return el.className === 'Group';\n    }\n  });\n}\n\nfunction anyShapesOnCanvas() {\n  var groups = getAllGroups();\n  return groups.length > 0;\n}\n\nfunction getNumGroups() {\n  var groups = getAllGroups();\n  console.log('numgroups', groups.length);\n  return groups.length;\n}\n\nfunction setSha() {\n  $.get('/hash').done(function (res) {\n    console.log('current hash:', res);\n    window.kan.hash = res;\n  }).fail(function (e) {\n    console.error('error getting hash:', e);\n  });\n}\n\n},{\"./../../config\":1}],15:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.enterTutorialMode = enterTutorialMode;\nexports.exitTutorialMode = exitTutorialMode;\nexports.pauseVideo = pauseVideo;\nexports.playVideo = playVideo;\nvar config = require('./../../config');\n\nvar main = require('./main');\nvar overlays = require('./overlays');\nvar timing = require('./timing');\nvar ui = require('./ui');\n\nvar $body = $('body');\nvar tapEvent = 'click tap touch';\n\nvar videoPlayingClass = exports.videoPlayingClass = 'video-playing';\n\nvar $videoWrapper = $body.find('#video-wrap');\nvar $video = $videoWrapper.find('video');\n\nfunction enterTutorialMode() {\n  console.log('entering tutorial mode');\n  playVideo();\n  $body.addClass(videoPlayingClass);\n  clearTimeout(window.kan.inactivityTimeout);\n  $body.off(tapEvent, timing.preventInactivityTimeout);\n  $body.on(tapEvent, exitTutorialMode);\n  main.resetWindow();\n  ui.resetCanvas();\n  window.kan.refreshCheckInterval = setInterval(function () {\n    $.get('/hash').done(function (res) {\n      if (res !== window.kan.hash) {\n        console.log('different hash, reloading');\n        location.reload();\n      }\n    }).fail(function (e) {\n      console.error('error getting hash:', e);\n    });\n  }, timing.refreshCheckDelay);\n}\n\nfunction exitTutorialMode() {\n  console.log('exiting tutorial mode');\n  clearInterval(window.kan.refreshCheckInterval);\n\n  pauseVideo();\n  $body.off(tapEvent, exitTutorialMode);\n  $body.on(tapEvent, timing.preventInactivityTimeout);\n  $body.removeClass(videoPlayingClass);\n  clearTimeout(window.kan.inactivityTimeout);\n\n  overlays.openOverlay('intro');\n\n  window.kan.inactivityTimeout = setTimeout(function () {\n    overlays.openOverlay('continue');\n  }, timing.continueInactivityDelay);\n}\n\nfunction pauseVideo() {\n  $video.get(0).pause();\n}\n\nfunction playVideo() {\n  $video.get(0).play();\n}\n\n},{\"./../../config\":1,\"./main\":6,\"./overlays\":7,\"./timing\":10,\"./ui\":13}]},{},[6])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJjb25maWcuanMiLCJub2RlX21vZHVsZXMvaGFtbWVyanMvaGFtbWVyLmpzIiwibm9kZV9tb2R1bGVzL2hvd2xlci9kaXN0L2hvd2xlci5qcyIsInNyYy9qcy9jb2xvci5qcyIsInNyYy9qcy9saWIvc2hhcGUtZGV0ZWN0b3IuanMiLCJzcmMvanMvbWFpbi5qcyIsInNyYy9qcy9vdmVybGF5cy5qcyIsInNyYy9qcy9zaGFwZS5qcyIsInNyYy9qcy9zb3VuZC5qcyIsInNyYy9qcy90aW1pbmcuanMiLCJzcmMvanMvdG91Y2guanMiLCJzcmMvanMvdHV0b3JpYWwuanMiLCJzcmMvanMvdWkuanMiLCJzcmMvanMvdXRpbC5qcyIsInNyYy9qcy92aWRlby5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUEsUUFBUSxhQUFSLEdBQXdCLEtBQXhCO0FBQ0EsUUFBUSxRQUFSLEdBQW1CLFFBQW5COztBQUVBLFFBQVEsT0FBUixHQUFrQjtBQUNoQixVQUFRLENBQUMsU0FBRCxFQUFZLFNBQVosRUFBdUIsU0FBdkIsRUFBa0MsU0FBbEMsRUFBNkMsU0FBN0MsRUFBd0QsU0FBeEQsRUFBbUUsU0FBbkUsRUFBOEUsU0FBOUUsRUFBeUYsU0FBekYsRUFBb0csU0FBcEcsRUFBK0csU0FBL0csRUFBeUgsU0FBekgsQ0FEUTtBQUVoQixjQUFZO0FBQ1YsZUFBVyxPQUREO0FBRVYsZUFBVyxNQUZEO0FBR1YsZUFBVyxNQUhEO0FBSVYsZUFBVyxNQUpEO0FBS1YsZUFBVyxLQUxEO0FBTVYsZUFBVyxLQU5EO0FBT1YsZUFBVyxRQVBEO0FBUVYsZUFBVyxPQVJEO0FBU1YsZUFBVyxPQVREO0FBVVYsZUFBVyxRQVZEO0FBV1YsZUFBVyxPQVhEO0FBWVYsZUFBVztBQVpELEdBRkk7QUFnQmhCLGFBQVc7QUFDVCxlQUFXLENBQUMsU0FBRCxFQUFZLFNBQVosQ0FERjtBQUVULGVBQVcsQ0FBQyxTQUFELEVBQVksU0FBWixDQUZGO0FBR1QsZUFBVyxDQUFDLFNBQUQsRUFBWSxTQUFaLENBSEY7QUFJVCxlQUFXLENBQUMsU0FBRCxFQUFZLFNBQVosQ0FKRjtBQUtULGVBQVcsQ0FBQyxTQUFELEVBQVksU0FBWixDQUxGO0FBTVQsZUFBVyxDQUFDLFNBQUQsRUFBWSxTQUFaLENBTkY7QUFPVCxlQUFXLENBQUMsU0FBRCxFQUFZLFNBQVosQ0FQRjtBQVFULGVBQVcsQ0FBQyxTQUFELEVBQVksU0FBWixDQVJGO0FBU1QsZUFBVyxDQUFDLFNBQUQsRUFBWSxTQUFaLENBVEY7QUFVVCxlQUFXLENBQUMsU0FBRCxFQUFZLFNBQVosQ0FWRjtBQVdULGVBQVcsQ0FBQyxTQUFELEVBQVksU0FBWixDQVhGO0FBWVQsZUFBVyxDQUFDLFNBQUQsRUFBWSxTQUFaO0FBWkYsR0FoQks7QUE4QmhCLFFBQU0sQ0FBQyxTQUFELEVBQVksU0FBWixFQUF1QixTQUF2QixFQUFrQyxTQUFsQyxFQUE2QyxTQUE3QyxDQTlCVTtBQStCaEIsYUFBVyxFQS9CSztBQWdDaEIscUJBQW1CO0FBaENILENBQWxCOztBQW1DQSxRQUFRLGNBQVIsR0FBeUIsQ0FDdkI7QUFDRSxRQUFNLE1BRFI7QUFFRSxRQUFNO0FBRlIsQ0FEdUIsRUFLdkI7QUFDRSxRQUFNLE9BRFI7QUFFRSxRQUFNO0FBRlIsQ0FMdUIsRUFTdkI7QUFDRSxRQUFNLE9BRFI7QUFFRSxRQUFNO0FBRlIsQ0FUdUIsQ0FBekI7OztBQ3RDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDbmxGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUFMLEVBQWMsS0FBSSxTQUFsQixFQUF2TixDQURWO0FBRUUsVUFBTTtBQUZSLEdBN0M0QixFQWlENUI7QUFDRSxZQUFRLENBQUMsRUFBQyxLQUFLLEdBQU4sRUFBVSxLQUFLLEdBQWYsRUFBRCxFQUFxQixFQUFDLEtBQUssR0FBTixFQUFVLEtBQUssR0FBZixFQUFyQixFQUF5QyxFQUFDLEtBQUssR0FBTixFQUFVLEtBQUssR0FBZixFQUF6QyxFQUE2RCxFQUFDLEtBQUssR0FBTixFQUFVLEtBQUssR0FBZixFQUE3RCxFQUFpRixFQUFDLEtBQUssR0FBTixFQUFVLEtBQUssR0FBZixFQUFqRixFQUFxRyxFQUFDLEtBQUssR0FBTixFQUFVLEtBQUssR0FBZixFQUFyRyxFQUF5SCxFQUFDLEtBQUssR0FBTixFQUFVLEtBQUssR0FBZixFQUF6SCxFQUE2SSxFQUFDLEtBQUssR0FBTixFQUFVLEtBQUssR0FBZixFQUE3SSxFQUFpSyxFQUFDLEtBQUssR0FBTixFQUFVLEtBQUssR0FBZixFQUFqSyxFQUFxTCxFQUFDLEtBQUssR0FBTixFQUFVLEtBQUssR0FBZixFQUFyTCxFQUF5TSxFQUFDLEtBQUssR0FBTixFQUFVLEtBQUssR0FBZixFQUF6TSxFQUE2TixFQUFDLEtBQUssR0FBTixFQUFVLEtBQUssR0FBZixFQUE3TixFQUFpUCxFQUFDLEtBQUssR0FBTixFQUFVLEtBQUssR0FBZixFQUFqUCxFQUFxUSxFQUFDLEtBQUssR0FBTixFQUFVLEtBQUssR0FBZixFQUFyUSxFQUF5UixFQUFDLEtBQUssRUFBTixFQUFTLEtBQUssR0FBZCxFQUF6UixFQUE0UyxFQUFDLEtBQUssRUFBTixFQUFTLEtBQUssR0FBZCxFQUE1UyxFQUErVCxFQUFDLEtBQUssRUFBTixFQUFTLEtBQUssR0FBZCxFQUEvVCxFQUFrVixFQUFDLEtBQUssRUFBTixFQUFTLEtBQUssR0FBZCxFQUFsVixFQUFxVyxFQUFDLEtBQUssRUFBTixFQUFTLEtBQUssR0FBZCxFQUFyVyxFQUF3WCxFQUFDLEtBQUssRUFBTixFQUFTLEtBQUssR0FB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SyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQWhHLEVBQW1ILEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQW5ILEVBQXNJLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQXRJLEVBQXlKLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQXpKLEVBQTRLLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQTVLLEVBQStMLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQS9MLEVBQWtOLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQWxOLEVBQXFPLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQXJPLEVBQXdQLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQXhQLEVBQTJRLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQTNRLEVBQThSLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQTlSLEVBQWlULEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQWpULEVBQW9VLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQXBVLEVBQXVWLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQXZWLEVBQTBXLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQTFXLEVBQTZYLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQTdYLEVBQWdaLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQWhaLEVBQW1hLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQW5hLEVBQXNiLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQXRiLEVBQXljLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQXpjLEVBQTRkLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxHQUFkLEVBQTVkLEVBQStlLEVBQUMsS0FBSyxFQUFOLEVBQVMsS0FBSyxH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dXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImV4cG9ydHMucnVuQW5pbWF0aW9ucyA9IGZhbHNlO1xuZXhwb3J0cy5jYW52YXNJZCA9ICdjYW52YXMnO1xuXG5leHBvcnRzLnBhbGV0dGUgPSB7XG4gIGNvbG9yczogW1wiIzIwMTcxQ1wiLCBcIiMxRTJBNDNcIiwgXCIjMjgzNzdEXCIsIFwiIzM1Mjc0N1wiLCBcIiNDQTJFMjZcIiwgXCIjOUEyQTFGXCIsIFwiI0RBNkMyNlwiLCBcIiM0NTMxMjFcIiwgXCIjOTE2QTQ3XCIsIFwiI0RBQUQyN1wiLCBcIiM3RjdEMzFcIixcIiMyQjVFMkVcIl0sXG4gIGNvbG9yTmFtZXM6IHtcbiAgICBcIiMyMDE3MUNcIjogXCJibGFja1wiLFxuICAgIFwiIzFFMkE0M1wiOiBcImJsdWVcIixcbiAgICBcIiMyODM3N0RcIjogXCJibHVlXCIsXG4gICAgXCIjMzUyNzQ3XCI6IFwiYmx1ZVwiLFxuICAgIFwiI0NBMkUyNlwiOiBcInJlZFwiLFxuICAgIFwiIzlBMkExRlwiOiBcInJlZFwiLFxuICAgIFwiI0RBNkMyNlwiOiBcIm9yYW5nZVwiLFxuICAgIFwiIzQ1MzEyMVwiOiBcImJyb3duXCIsXG4gICAgXCIjOTE2QTQ3XCI6IFwiYnJvd25cIixcbiAgICBcIiNEQUFEMjdcIjogXCJvcmFuZ2VcIixcbiAgICBcIiM3RjdEMzFcIjogXCJncmVlblwiLFxuICAgIFwiIzJCNUUyRVwiOiBcImdyZWVuXCJcbiAgfSxcbiAgZ3JhZGllbnRzOiB7XG4gICAgJyMyMDE3MUMnOiBbJyMyMDE3MUMnLCAnIzAwMDAwMCddLFxuICAgICcjMUUyQTQzJzogWycjMUUyQTQzJywgJyMyNjMxNjYnXSxcbiAgICAnIzI4Mzc3RCc6IFsnIzI4Mzc3RCcsICcjMUU0Njk1J10sXG4gICAgJyMzNTI3NDcnOiBbJyMzNTI3NDcnLCAnIzQ1MDA1QiddLFxuICAgICcjQ0EyRTI2JzogWycjQ0EyRTI2JywgJyM5QjM1MkYnXSxcbiAgICAnIzlBMkExRic6IFsnIzlBMkExRicsICcjQ0QzNjIxJ10sXG4gICAgJyNEQTZDMjYnOiBbJyNEQTZDMjYnLCAnI0JENDgyMCddLFxuICAgICcjNDUzMTIxJzogWycjNDUzMTIxJywgJyMyODE4MDYnXSxcbiAgICAnIzkxNkE0Nyc6IFsnIzkxNkE0NycsICcjNjIzQTIyJ10sXG4gICAgJyNEQUFEMjcnOiBbJyNEQUFEMjcnLCAnI0FGODcxRCddLFxuICAgICcjN0Y3RDMxJzogWycjN0Y3RDMxJywgJyM1NTU4MjcnXSxcbiAgICAnIzJCNUUyRSc6IFsnIzJCNUUyRScsICcjMTY0NTFEJ10sXG4gIH0sXG4gIHBvcHM6IFtcIiMwMEFERUZcIiwgXCIjRjI4NUE1XCIsIFwiIzdEQzU3RlwiLCBcIiNGNkVCMTZcIiwgXCIjRjRFQUUwXCJdLFxuICBjb2xvclNpemU6IDIwLFxuICBzZWxlY3RlZENvbG9yU2l6ZTogMzBcbn07XG5cbmV4cG9ydHMuY29udGV4dHVhbFR1dHMgPSBbXG4gIHtcbiAgICB0eXBlOiBcImZpbGxcIixcbiAgICBjb3B5OiBcIjxzdHJvbmc+RG91YmxlLXRhcDwvc3Ryb25nPiBhIGZpbGxlZCBzaGFwZSB0byA8c3Ryb25nPlVORklMTDwvc3Ryb25nPiBpdC4gUmVwZWF0IHRvIDxzdHJvbmc+RklMTDwvc3Ryb25nPiBhbiB1bmZpbGxlZCBzaGFwZS5cIixcbiAgfSxcbiAge1xuICAgIHR5cGU6IFwicGluY2hcIixcbiAgICBjb3B5OiBcIjxzdHJvbmc+UGluY2g8L3N0cm9uZz4gc2hhcGVzIHdpdGggPHN0cm9uZz5UV08gRklOR0VSUzwvc3Ryb25nPiB0byA8c3Ryb25nPnJlc2l6ZTwvc3Ryb25nPiBhbmQgPHN0cm9uZz5tb3ZlPC9zdHJvbmc+IHRoZW0uXCIsXG4gIH0sXG4gIHtcbiAgICB0eXBlOiBcInN3aXBlXCIsXG4gICAgY29weTogXCJUbyA8c3Ryb25nPnJlbW92ZTwvc3Ryb25nPiBzaGFwZXMsIDxzdHJvbmc+cGluY2g8L3N0cm9uZz4gd2l0aCA8c3Ryb25nPnR3byBmaW5nZXJzPC9zdHJvbmc+IHRoZW4gPHN0cm9uZz5zd2lwZTwvc3Ryb25nPiBvciBoaXQgPHN0cm9uZz51bmRvPC9zdHJvbmc+LlwiXG4gIH0sXG5dO1xuIiwiLyohIEhhbW1lci5KUyAtIHYyLjAuNyAtIDIwMTYtMDQtMjJcbiAqIGh0dHA6Ly9oYW1tZXJqcy5naXRodWIuaW8vXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE2IEpvcmlrIFRhbmdlbGRlcjtcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSAqL1xuKGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQsIGV4cG9ydE5hbWUsIHVuZGVmaW5lZCkge1xuICAndXNlIHN0cmljdCc7XG5cbnZhciBWRU5ET1JfUFJFRklYRVMgPSBbJycsICd3ZWJraXQnLCAnTW96JywgJ01TJywgJ21zJywgJ28nXTtcbnZhciBURVNUX0VMRU1FTlQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxudmFyIFRZUEVfRlVOQ1RJT04gPSAnZnVuY3Rpb24nO1xuXG52YXIgcm91bmQgPSBNYXRoLnJvdW5kO1xudmFyIGFicyA9IE1hdGguYWJzO1xudmFyIG5vdyA9IERhdGUubm93O1xuXG4vKipcbiAqIHNldCBhIHRpbWVvdXQgd2l0aCBhIGdpdmVuIHNjb3BlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtOdW1iZXJ9IHRpbWVvdXRcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiBzZXRUaW1lb3V0Q29udGV4dChmbiwgdGltZW91dCwgY29udGV4dCkge1xuICAgIHJldHVybiBzZXRUaW1lb3V0KGJpbmRGbihmbiwgY29udGV4dCksIHRpbWVvdXQpO1xufVxuXG4vKipcbiAqIGlmIHRoZSBhcmd1bWVudCBpcyBhbiBhcnJheSwgd2Ugd2FudCB0byBleGVjdXRlIHRoZSBmbiBvbiBlYWNoIGVudHJ5XG4gKiBpZiBpdCBhaW50IGFuIGFycmF5IHdlIGRvbid0IHdhbnQgdG8gZG8gYSB0aGluZy5cbiAqIHRoaXMgaXMgdXNlZCBieSBhbGwgdGhlIG1ldGhvZHMgdGhhdCBhY2NlcHQgYSBzaW5nbGUgYW5kIGFycmF5IGFyZ3VtZW50LlxuICogQHBhcmFtIHsqfEFycmF5fSBhcmdcbiAqIEBwYXJhbSB7U3RyaW5nfSBmblxuICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0XVxuICogQHJldHVybnMge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGludm9rZUFycmF5QXJnKGFyZywgZm4sIGNvbnRleHQpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG4gICAgICAgIGVhY2goYXJnLCBjb250ZXh0W2ZuXSwgY29udGV4dCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogd2FsayBvYmplY3RzIGFuZCBhcnJheXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdG9yXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICovXG5mdW5jdGlvbiBlYWNoKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgICB2YXIgaTtcblxuICAgIGlmICghb2JqKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAob2JqLmZvckVhY2gpIHtcbiAgICAgICAgb2JqLmZvckVhY2goaXRlcmF0b3IsIGNvbnRleHQpO1xuICAgIH0gZWxzZSBpZiAob2JqLmxlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IG9iai5sZW5ndGgpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2ldLCBpLCBvYmopO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChpIGluIG9iaikge1xuICAgICAgICAgICAgb2JqLmhhc093blByb3BlcnR5KGkpICYmIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2ldLCBpLCBvYmopO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIHdyYXAgYSBtZXRob2Qgd2l0aCBhIGRlcHJlY2F0aW9uIHdhcm5pbmcgYW5kIHN0YWNrIHRyYWNlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBtZXRob2RcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIG5ldyBmdW5jdGlvbiB3cmFwcGluZyB0aGUgc3VwcGxpZWQgbWV0aG9kLlxuICovXG5mdW5jdGlvbiBkZXByZWNhdGUobWV0aG9kLCBuYW1lLCBtZXNzYWdlKSB7XG4gICAgdmFyIGRlcHJlY2F0aW9uTWVzc2FnZSA9ICdERVBSRUNBVEVEIE1FVEhPRDogJyArIG5hbWUgKyAnXFxuJyArIG1lc3NhZ2UgKyAnIEFUIFxcbic7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZSA9IG5ldyBFcnJvcignZ2V0LXN0YWNrLXRyYWNlJyk7XG4gICAgICAgIHZhciBzdGFjayA9IGUgJiYgZS5zdGFjayA/IGUuc3RhY2sucmVwbGFjZSgvXlteXFwoXSs/W1xcbiRdL2dtLCAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9eXFxzK2F0XFxzKy9nbSwgJycpXG4gICAgICAgICAgICAucmVwbGFjZSgvXk9iamVjdC48YW5vbnltb3VzPlxccypcXCgvZ20sICd7YW5vbnltb3VzfSgpQCcpIDogJ1Vua25vd24gU3RhY2sgVHJhY2UnO1xuXG4gICAgICAgIHZhciBsb2cgPSB3aW5kb3cuY29uc29sZSAmJiAod2luZG93LmNvbnNvbGUud2FybiB8fCB3aW5kb3cuY29uc29sZS5sb2cpO1xuICAgICAgICBpZiAobG9nKSB7XG4gICAgICAgICAgICBsb2cuY2FsbCh3aW5kb3cuY29uc29sZSwgZGVwcmVjYXRpb25NZXNzYWdlLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1ldGhvZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG59XG5cbi8qKlxuICogZXh0ZW5kIG9iamVjdC5cbiAqIG1lYW5zIHRoYXQgcHJvcGVydGllcyBpbiBkZXN0IHdpbGwgYmUgb3ZlcndyaXR0ZW4gYnkgdGhlIG9uZXMgaW4gc3JjLlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICogQHBhcmFtIHsuLi5PYmplY3R9IG9iamVjdHNfdG9fYXNzaWduXG4gKiBAcmV0dXJucyB7T2JqZWN0fSB0YXJnZXRcbiAqL1xudmFyIGFzc2lnbjtcbmlmICh0eXBlb2YgT2JqZWN0LmFzc2lnbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIGFzc2lnbiA9IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQpIHtcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkIHx8IHRhcmdldCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgb3V0cHV0ID0gT2JqZWN0KHRhcmdldCk7XG4gICAgICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBhcmd1bWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgICAgICAgIGlmIChzb3VyY2UgIT09IHVuZGVmaW5lZCAmJiBzb3VyY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBuZXh0S2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlLmhhc093blByb3BlcnR5KG5leHRLZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRbbmV4dEtleV0gPSBzb3VyY2VbbmV4dEtleV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xufSBlbHNlIHtcbiAgICBhc3NpZ24gPSBPYmplY3QuYXNzaWduO1xufVxuXG4vKipcbiAqIGV4dGVuZCBvYmplY3QuXG4gKiBtZWFucyB0aGF0IHByb3BlcnRpZXMgaW4gZGVzdCB3aWxsIGJlIG92ZXJ3cml0dGVuIGJ5IHRoZSBvbmVzIGluIHNyYy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBkZXN0XG4gKiBAcGFyYW0ge09iamVjdH0gc3JjXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFttZXJnZT1mYWxzZV1cbiAqIEByZXR1cm5zIHtPYmplY3R9IGRlc3RcbiAqL1xudmFyIGV4dGVuZCA9IGRlcHJlY2F0ZShmdW5jdGlvbiBleHRlbmQoZGVzdCwgc3JjLCBtZXJnZSkge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoc3JjKTtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBrZXlzLmxlbmd0aCkge1xuICAgICAgICBpZiAoIW1lcmdlIHx8IChtZXJnZSAmJiBkZXN0W2tleXNbaV1dID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICBkZXN0W2tleXNbaV1dID0gc3JjW2tleXNbaV1dO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgcmV0dXJuIGRlc3Q7XG59LCAnZXh0ZW5kJywgJ1VzZSBgYXNzaWduYC4nKTtcblxuLyoqXG4gKiBtZXJnZSB0aGUgdmFsdWVzIGZyb20gc3JjIGluIHRoZSBkZXN0LlxuICogbWVhbnMgdGhhdCBwcm9wZXJ0aWVzIHRoYXQgZXhpc3QgaW4gZGVzdCB3aWxsIG5vdCBiZSBvdmVyd3JpdHRlbiBieSBzcmNcbiAqIEBwYXJhbSB7T2JqZWN0fSBkZXN0XG4gKiBAcGFyYW0ge09iamVjdH0gc3JjXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBkZXN0XG4gKi9cbnZhciBtZXJnZSA9IGRlcHJlY2F0ZShmdW5jdGlvbiBtZXJnZShkZXN0LCBzcmMpIHtcbiAgICByZXR1cm4gZXh0ZW5kKGRlc3QsIHNyYywgdHJ1ZSk7XG59LCAnbWVyZ2UnLCAnVXNlIGBhc3NpZ25gLicpO1xuXG4vKipcbiAqIHNpbXBsZSBjbGFzcyBpbmhlcml0YW5jZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2hpbGRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGJhc2VcbiAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllc11cbiAqL1xuZnVuY3Rpb24gaW5oZXJpdChjaGlsZCwgYmFzZSwgcHJvcGVydGllcykge1xuICAgIHZhciBiYXNlUCA9IGJhc2UucHJvdG90eXBlLFxuICAgICAgICBjaGlsZFA7XG5cbiAgICBjaGlsZFAgPSBjaGlsZC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGJhc2VQKTtcbiAgICBjaGlsZFAuY29uc3RydWN0b3IgPSBjaGlsZDtcbiAgICBjaGlsZFAuX3N1cGVyID0gYmFzZVA7XG5cbiAgICBpZiAocHJvcGVydGllcykge1xuICAgICAgICBhc3NpZ24oY2hpbGRQLCBwcm9wZXJ0aWVzKTtcbiAgICB9XG59XG5cbi8qKlxuICogc2ltcGxlIGZ1bmN0aW9uIGJpbmRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBiaW5kRm4oZm4sIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gYm91bmRGbigpIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3VtZW50cyk7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBsZXQgYSBib29sZWFuIHZhbHVlIGFsc28gYmUgYSBmdW5jdGlvbiB0aGF0IG11c3QgcmV0dXJuIGEgYm9vbGVhblxuICogdGhpcyBmaXJzdCBpdGVtIGluIGFyZ3Mgd2lsbCBiZSB1c2VkIGFzIHRoZSBjb250ZXh0XG4gKiBAcGFyYW0ge0Jvb2xlYW58RnVuY3Rpb259IHZhbFxuICogQHBhcmFtIHtBcnJheX0gW2FyZ3NdXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gYm9vbE9yRm4odmFsLCBhcmdzKSB7XG4gICAgaWYgKHR5cGVvZiB2YWwgPT0gVFlQRV9GVU5DVElPTikge1xuICAgICAgICByZXR1cm4gdmFsLmFwcGx5KGFyZ3MgPyBhcmdzWzBdIHx8IHVuZGVmaW5lZCA6IHVuZGVmaW5lZCwgYXJncyk7XG4gICAgfVxuICAgIHJldHVybiB2YWw7XG59XG5cbi8qKlxuICogdXNlIHRoZSB2YWwyIHdoZW4gdmFsMSBpcyB1bmRlZmluZWRcbiAqIEBwYXJhbSB7Kn0gdmFsMVxuICogQHBhcmFtIHsqfSB2YWwyXG4gKiBAcmV0dXJucyB7Kn1cbiAqL1xuZnVuY3Rpb24gaWZVbmRlZmluZWQodmFsMSwgdmFsMikge1xuICAgIHJldHVybiAodmFsMSA9PT0gdW5kZWZpbmVkKSA/IHZhbDIgOiB2YWwxO1xufVxuXG4vKipcbiAqIGFkZEV2ZW50TGlzdGVuZXIgd2l0aCBtdWx0aXBsZSBldmVudHMgYXQgb25jZVxuICogQHBhcmFtIHtFdmVudFRhcmdldH0gdGFyZ2V0XG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZXNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJcbiAqL1xuZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcnModGFyZ2V0LCB0eXBlcywgaGFuZGxlcikge1xuICAgIGVhY2goc3BsaXRTdHIodHlwZXMpLCBmdW5jdGlvbih0eXBlKSB7XG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiByZW1vdmVFdmVudExpc3RlbmVyIHdpdGggbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2VcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IHRhcmdldFxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRhcmdldCwgdHlwZXMsIGhhbmRsZXIpIHtcbiAgICBlYWNoKHNwbGl0U3RyKHR5cGVzKSwgZnVuY3Rpb24odHlwZSkge1xuICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyLCBmYWxzZSk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogZmluZCBpZiBhIG5vZGUgaXMgaW4gdGhlIGdpdmVuIHBhcmVudFxuICogQG1ldGhvZCBoYXNQYXJlbnRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhcmVudFxuICogQHJldHVybiB7Qm9vbGVhbn0gZm91bmRcbiAqL1xuZnVuY3Rpb24gaGFzUGFyZW50KG5vZGUsIHBhcmVudCkge1xuICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIGlmIChub2RlID09IHBhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIHNtYWxsIGluZGV4T2Ygd3JhcHBlclxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHBhcmFtIHtTdHJpbmd9IGZpbmRcbiAqIEByZXR1cm5zIHtCb29sZWFufSBmb3VuZFxuICovXG5mdW5jdGlvbiBpblN0cihzdHIsIGZpbmQpIHtcbiAgICByZXR1cm4gc3RyLmluZGV4T2YoZmluZCkgPiAtMTtcbn1cblxuLyoqXG4gKiBzcGxpdCBzdHJpbmcgb24gd2hpdGVzcGFjZVxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybnMge0FycmF5fSB3b3Jkc1xuICovXG5mdW5jdGlvbiBzcGxpdFN0cihzdHIpIHtcbiAgICByZXR1cm4gc3RyLnRyaW0oKS5zcGxpdCgvXFxzKy9nKTtcbn1cblxuLyoqXG4gKiBmaW5kIGlmIGEgYXJyYXkgY29udGFpbnMgdGhlIG9iamVjdCB1c2luZyBpbmRleE9mIG9yIGEgc2ltcGxlIHBvbHlGaWxsXG4gKiBAcGFyYW0ge0FycmF5fSBzcmNcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaW5kXG4gKiBAcGFyYW0ge1N0cmluZ30gW2ZpbmRCeUtleV1cbiAqIEByZXR1cm4ge0Jvb2xlYW58TnVtYmVyfSBmYWxzZSB3aGVuIG5vdCBmb3VuZCwgb3IgdGhlIGluZGV4XG4gKi9cbmZ1bmN0aW9uIGluQXJyYXkoc3JjLCBmaW5kLCBmaW5kQnlLZXkpIHtcbiAgICBpZiAoc3JjLmluZGV4T2YgJiYgIWZpbmRCeUtleSkge1xuICAgICAgICByZXR1cm4gc3JjLmluZGV4T2YoZmluZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHNyYy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICgoZmluZEJ5S2V5ICYmIHNyY1tpXVtmaW5kQnlLZXldID09IGZpbmQpIHx8ICghZmluZEJ5S2V5ICYmIHNyY1tpXSA9PT0gZmluZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxufVxuXG4vKipcbiAqIGNvbnZlcnQgYXJyYXktbGlrZSBvYmplY3RzIHRvIHJlYWwgYXJyYXlzXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKi9cbmZ1bmN0aW9uIHRvQXJyYXkob2JqKSB7XG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG9iaiwgMCk7XG59XG5cbi8qKlxuICogdW5pcXVlIGFycmF5IHdpdGggb2JqZWN0cyBiYXNlZCBvbiBhIGtleSAobGlrZSAnaWQnKSBvciBqdXN0IGJ5IHRoZSBhcnJheSdzIHZhbHVlXG4gKiBAcGFyYW0ge0FycmF5fSBzcmMgW3tpZDoxfSx7aWQ6Mn0se2lkOjF9XVxuICogQHBhcmFtIHtTdHJpbmd9IFtrZXldXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtzb3J0PUZhbHNlXVxuICogQHJldHVybnMge0FycmF5fSBbe2lkOjF9LHtpZDoyfV1cbiAqL1xuZnVuY3Rpb24gdW5pcXVlQXJyYXkoc3JjLCBrZXksIHNvcnQpIHtcbiAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICB2YXIgaSA9IDA7XG5cbiAgICB3aGlsZSAoaSA8IHNyYy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbCA9IGtleSA/IHNyY1tpXVtrZXldIDogc3JjW2ldO1xuICAgICAgICBpZiAoaW5BcnJheSh2YWx1ZXMsIHZhbCkgPCAwKSB7XG4gICAgICAgICAgICByZXN1bHRzLnB1c2goc3JjW2ldKTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZXNbaV0gPSB2YWw7XG4gICAgICAgIGkrKztcbiAgICB9XG5cbiAgICBpZiAoc29ydCkge1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuc29ydCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuc29ydChmdW5jdGlvbiBzb3J0VW5pcXVlQXJyYXkoYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBhW2tleV0gPiBiW2tleV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRzO1xufVxuXG4vKipcbiAqIGdldCB0aGUgcHJlZml4ZWQgcHJvcGVydHlcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eVxuICogQHJldHVybnMge1N0cmluZ3xVbmRlZmluZWR9IHByZWZpeGVkXG4gKi9cbmZ1bmN0aW9uIHByZWZpeGVkKG9iaiwgcHJvcGVydHkpIHtcbiAgICB2YXIgcHJlZml4LCBwcm9wO1xuICAgIHZhciBjYW1lbFByb3AgPSBwcm9wZXJ0eVswXS50b1VwcGVyQ2FzZSgpICsgcHJvcGVydHkuc2xpY2UoMSk7XG5cbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBWRU5ET1JfUFJFRklYRVMubGVuZ3RoKSB7XG4gICAgICAgIHByZWZpeCA9IFZFTkRPUl9QUkVGSVhFU1tpXTtcbiAgICAgICAgcHJvcCA9IChwcmVmaXgpID8gcHJlZml4ICsgY2FtZWxQcm9wIDogcHJvcGVydHk7XG5cbiAgICAgICAgaWYgKHByb3AgaW4gb2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcDtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogZ2V0IGEgdW5pcXVlIGlkXG4gKiBAcmV0dXJucyB7bnVtYmVyfSB1bmlxdWVJZFxuICovXG52YXIgX3VuaXF1ZUlkID0gMTtcbmZ1bmN0aW9uIHVuaXF1ZUlkKCkge1xuICAgIHJldHVybiBfdW5pcXVlSWQrKztcbn1cblxuLyoqXG4gKiBnZXQgdGhlIHdpbmRvdyBvYmplY3Qgb2YgYW4gZWxlbWVudFxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybnMge0RvY3VtZW50Vmlld3xXaW5kb3d9XG4gKi9cbmZ1bmN0aW9uIGdldFdpbmRvd0ZvckVsZW1lbnQoZWxlbWVudCkge1xuICAgIHZhciBkb2MgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQgfHwgZWxlbWVudDtcbiAgICByZXR1cm4gKGRvYy5kZWZhdWx0VmlldyB8fCBkb2MucGFyZW50V2luZG93IHx8IHdpbmRvdyk7XG59XG5cbnZhciBNT0JJTEVfUkVHRVggPSAvbW9iaWxlfHRhYmxldHxpcChhZHxob25lfG9kKXxhbmRyb2lkL2k7XG5cbnZhciBTVVBQT1JUX1RPVUNIID0gKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyk7XG52YXIgU1VQUE9SVF9QT0lOVEVSX0VWRU5UUyA9IHByZWZpeGVkKHdpbmRvdywgJ1BvaW50ZXJFdmVudCcpICE9PSB1bmRlZmluZWQ7XG52YXIgU1VQUE9SVF9PTkxZX1RPVUNIID0gU1VQUE9SVF9UT1VDSCAmJiBNT0JJTEVfUkVHRVgudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcblxudmFyIElOUFVUX1RZUEVfVE9VQ0ggPSAndG91Y2gnO1xudmFyIElOUFVUX1RZUEVfUEVOID0gJ3Blbic7XG52YXIgSU5QVVRfVFlQRV9NT1VTRSA9ICdtb3VzZSc7XG52YXIgSU5QVVRfVFlQRV9LSU5FQ1QgPSAna2luZWN0JztcblxudmFyIENPTVBVVEVfSU5URVJWQUwgPSAyNTtcblxudmFyIElOUFVUX1NUQVJUID0gMTtcbnZhciBJTlBVVF9NT1ZFID0gMjtcbnZhciBJTlBVVF9FTkQgPSA0O1xudmFyIElOUFVUX0NBTkNFTCA9IDg7XG5cbnZhciBESVJFQ1RJT05fTk9ORSA9IDE7XG52YXIgRElSRUNUSU9OX0xFRlQgPSAyO1xudmFyIERJUkVDVElPTl9SSUdIVCA9IDQ7XG52YXIgRElSRUNUSU9OX1VQID0gODtcbnZhciBESVJFQ1RJT05fRE9XTiA9IDE2O1xuXG52YXIgRElSRUNUSU9OX0hPUklaT05UQUwgPSBESVJFQ1RJT05fTEVGVCB8IERJUkVDVElPTl9SSUdIVDtcbnZhciBESVJFQ1RJT05fVkVSVElDQUwgPSBESVJFQ1RJT05fVVAgfCBESVJFQ1RJT05fRE9XTjtcbnZhciBESVJFQ1RJT05fQUxMID0gRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUw7XG5cbnZhciBQUk9QU19YWSA9IFsneCcsICd5J107XG52YXIgUFJPUFNfQ0xJRU5UX1hZID0gWydjbGllbnRYJywgJ2NsaWVudFknXTtcblxuLyoqXG4gKiBjcmVhdGUgbmV3IGlucHV0IHR5cGUgbWFuYWdlclxuICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybnMge0lucHV0fVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIElucHV0KG1hbmFnZXIsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMubWFuYWdlciA9IG1hbmFnZXI7XG4gICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIHRoaXMuZWxlbWVudCA9IG1hbmFnZXIuZWxlbWVudDtcbiAgICB0aGlzLnRhcmdldCA9IG1hbmFnZXIub3B0aW9ucy5pbnB1dFRhcmdldDtcblxuICAgIC8vIHNtYWxsZXIgd3JhcHBlciBhcm91bmQgdGhlIGhhbmRsZXIsIGZvciB0aGUgc2NvcGUgYW5kIHRoZSBlbmFibGVkIHN0YXRlIG9mIHRoZSBtYW5hZ2VyLFxuICAgIC8vIHNvIHdoZW4gZGlzYWJsZWQgdGhlIGlucHV0IGV2ZW50cyBhcmUgY29tcGxldGVseSBieXBhc3NlZC5cbiAgICB0aGlzLmRvbUhhbmRsZXIgPSBmdW5jdGlvbihldikge1xuICAgICAgICBpZiAoYm9vbE9yRm4obWFuYWdlci5vcHRpb25zLmVuYWJsZSwgW21hbmFnZXJdKSkge1xuICAgICAgICAgICAgc2VsZi5oYW5kbGVyKGV2KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmluaXQoKTtcblxufVxuXG5JbnB1dC5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogc2hvdWxkIGhhbmRsZSB0aGUgaW5wdXRFdmVudCBkYXRhIGFuZCB0cmlnZ2VyIHRoZSBjYWxsYmFja1xuICAgICAqIEB2aXJ0dWFsXG4gICAgICovXG4gICAgaGFuZGxlcjogZnVuY3Rpb24oKSB7IH0sXG5cbiAgICAvKipcbiAgICAgKiBiaW5kIHRoZSBldmVudHNcbiAgICAgKi9cbiAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5ldkVsICYmIGFkZEV2ZW50TGlzdGVuZXJzKHRoaXMuZWxlbWVudCwgdGhpcy5ldkVsLCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2VGFyZ2V0ICYmIGFkZEV2ZW50TGlzdGVuZXJzKHRoaXMudGFyZ2V0LCB0aGlzLmV2VGFyZ2V0LCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2V2luICYmIGFkZEV2ZW50TGlzdGVuZXJzKGdldFdpbmRvd0ZvckVsZW1lbnQodGhpcy5lbGVtZW50KSwgdGhpcy5ldldpbiwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdW5iaW5kIHRoZSBldmVudHNcbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5ldkVsICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRoaXMuZWxlbWVudCwgdGhpcy5ldkVsLCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2VGFyZ2V0ICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRoaXMudGFyZ2V0LCB0aGlzLmV2VGFyZ2V0LCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2V2luICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKGdldFdpbmRvd0ZvckVsZW1lbnQodGhpcy5lbGVtZW50KSwgdGhpcy5ldldpbiwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIGNyZWF0ZSBuZXcgaW5wdXQgdHlwZSBtYW5hZ2VyXG4gKiBjYWxsZWQgYnkgdGhlIE1hbmFnZXIgY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7SGFtbWVyfSBtYW5hZ2VyXG4gKiBAcmV0dXJucyB7SW5wdXR9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUlucHV0SW5zdGFuY2UobWFuYWdlcikge1xuICAgIHZhciBUeXBlO1xuICAgIHZhciBpbnB1dENsYXNzID0gbWFuYWdlci5vcHRpb25zLmlucHV0Q2xhc3M7XG5cbiAgICBpZiAoaW5wdXRDbGFzcykge1xuICAgICAgICBUeXBlID0gaW5wdXRDbGFzcztcbiAgICB9IGVsc2UgaWYgKFNVUFBPUlRfUE9JTlRFUl9FVkVOVFMpIHtcbiAgICAgICAgVHlwZSA9IFBvaW50ZXJFdmVudElucHV0O1xuICAgIH0gZWxzZSBpZiAoU1VQUE9SVF9PTkxZX1RPVUNIKSB7XG4gICAgICAgIFR5cGUgPSBUb3VjaElucHV0O1xuICAgIH0gZWxzZSBpZiAoIVNVUFBPUlRfVE9VQ0gpIHtcbiAgICAgICAgVHlwZSA9IE1vdXNlSW5wdXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgVHlwZSA9IFRvdWNoTW91c2VJbnB1dDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyAoVHlwZSkobWFuYWdlciwgaW5wdXRIYW5kbGVyKTtcbn1cblxuLyoqXG4gKiBoYW5kbGUgaW5wdXQgZXZlbnRzXG4gKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFR5cGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICovXG5mdW5jdGlvbiBpbnB1dEhhbmRsZXIobWFuYWdlciwgZXZlbnRUeXBlLCBpbnB1dCkge1xuICAgIHZhciBwb2ludGVyc0xlbiA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aDtcbiAgICB2YXIgY2hhbmdlZFBvaW50ZXJzTGVuID0gaW5wdXQuY2hhbmdlZFBvaW50ZXJzLmxlbmd0aDtcbiAgICB2YXIgaXNGaXJzdCA9IChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCAmJiAocG9pbnRlcnNMZW4gLSBjaGFuZ2VkUG9pbnRlcnNMZW4gPT09IDApKTtcbiAgICB2YXIgaXNGaW5hbCA9IChldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSAmJiAocG9pbnRlcnNMZW4gLSBjaGFuZ2VkUG9pbnRlcnNMZW4gPT09IDApKTtcblxuICAgIGlucHV0LmlzRmlyc3QgPSAhIWlzRmlyc3Q7XG4gICAgaW5wdXQuaXNGaW5hbCA9ICEhaXNGaW5hbDtcblxuICAgIGlmIChpc0ZpcnN0KSB7XG4gICAgICAgIG1hbmFnZXIuc2Vzc2lvbiA9IHt9O1xuICAgIH1cblxuICAgIC8vIHNvdXJjZSBldmVudCBpcyB0aGUgbm9ybWFsaXplZCB2YWx1ZSBvZiB0aGUgZG9tRXZlbnRzXG4gICAgLy8gbGlrZSAndG91Y2hzdGFydCwgbW91c2V1cCwgcG9pbnRlcmRvd24nXG4gICAgaW5wdXQuZXZlbnRUeXBlID0gZXZlbnRUeXBlO1xuXG4gICAgLy8gY29tcHV0ZSBzY2FsZSwgcm90YXRpb24gZXRjXG4gICAgY29tcHV0ZUlucHV0RGF0YShtYW5hZ2VyLCBpbnB1dCk7XG5cbiAgICAvLyBlbWl0IHNlY3JldCBldmVudFxuICAgIG1hbmFnZXIuZW1pdCgnaGFtbWVyLmlucHV0JywgaW5wdXQpO1xuXG4gICAgbWFuYWdlci5yZWNvZ25pemUoaW5wdXQpO1xuICAgIG1hbmFnZXIuc2Vzc2lvbi5wcmV2SW5wdXQgPSBpbnB1dDtcbn1cblxuLyoqXG4gKiBleHRlbmQgdGhlIGRhdGEgd2l0aCBzb21lIHVzYWJsZSBwcm9wZXJ0aWVzIGxpa2Ugc2NhbGUsIHJvdGF0ZSwgdmVsb2NpdHkgZXRjXG4gKiBAcGFyYW0ge09iamVjdH0gbWFuYWdlclxuICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVJbnB1dERhdGEobWFuYWdlciwgaW5wdXQpIHtcbiAgICB2YXIgc2Vzc2lvbiA9IG1hbmFnZXIuc2Vzc2lvbjtcbiAgICB2YXIgcG9pbnRlcnMgPSBpbnB1dC5wb2ludGVycztcbiAgICB2YXIgcG9pbnRlcnNMZW5ndGggPSBwb2ludGVycy5sZW5ndGg7XG5cbiAgICAvLyBzdG9yZSB0aGUgZmlyc3QgaW5wdXQgdG8gY2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBhbmQgZGlyZWN0aW9uXG4gICAgaWYgKCFzZXNzaW9uLmZpcnN0SW5wdXQpIHtcbiAgICAgICAgc2Vzc2lvbi5maXJzdElucHV0ID0gc2ltcGxlQ2xvbmVJbnB1dERhdGEoaW5wdXQpO1xuICAgIH1cblxuICAgIC8vIHRvIGNvbXB1dGUgc2NhbGUgYW5kIHJvdGF0aW9uIHdlIG5lZWQgdG8gc3RvcmUgdGhlIG11bHRpcGxlIHRvdWNoZXNcbiAgICBpZiAocG9pbnRlcnNMZW5ndGggPiAxICYmICFzZXNzaW9uLmZpcnN0TXVsdGlwbGUpIHtcbiAgICAgICAgc2Vzc2lvbi5maXJzdE11bHRpcGxlID0gc2ltcGxlQ2xvbmVJbnB1dERhdGEoaW5wdXQpO1xuICAgIH0gZWxzZSBpZiAocG9pbnRlcnNMZW5ndGggPT09IDEpIHtcbiAgICAgICAgc2Vzc2lvbi5maXJzdE11bHRpcGxlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGZpcnN0SW5wdXQgPSBzZXNzaW9uLmZpcnN0SW5wdXQ7XG4gICAgdmFyIGZpcnN0TXVsdGlwbGUgPSBzZXNzaW9uLmZpcnN0TXVsdGlwbGU7XG4gICAgdmFyIG9mZnNldENlbnRlciA9IGZpcnN0TXVsdGlwbGUgPyBmaXJzdE11bHRpcGxlLmNlbnRlciA6IGZpcnN0SW5wdXQuY2VudGVyO1xuXG4gICAgdmFyIGNlbnRlciA9IGlucHV0LmNlbnRlciA9IGdldENlbnRlcihwb2ludGVycyk7XG4gICAgaW5wdXQudGltZVN0YW1wID0gbm93KCk7XG4gICAgaW5wdXQuZGVsdGFUaW1lID0gaW5wdXQudGltZVN0YW1wIC0gZmlyc3RJbnB1dC50aW1lU3RhbXA7XG5cbiAgICBpbnB1dC5hbmdsZSA9IGdldEFuZ2xlKG9mZnNldENlbnRlciwgY2VudGVyKTtcbiAgICBpbnB1dC5kaXN0YW5jZSA9IGdldERpc3RhbmNlKG9mZnNldENlbnRlciwgY2VudGVyKTtcblxuICAgIGNvbXB1dGVEZWx0YVhZKHNlc3Npb24sIGlucHV0KTtcbiAgICBpbnB1dC5vZmZzZXREaXJlY3Rpb24gPSBnZXREaXJlY3Rpb24oaW5wdXQuZGVsdGFYLCBpbnB1dC5kZWx0YVkpO1xuXG4gICAgdmFyIG92ZXJhbGxWZWxvY2l0eSA9IGdldFZlbG9jaXR5KGlucHV0LmRlbHRhVGltZSwgaW5wdXQuZGVsdGFYLCBpbnB1dC5kZWx0YVkpO1xuICAgIGlucHV0Lm92ZXJhbGxWZWxvY2l0eVggPSBvdmVyYWxsVmVsb2NpdHkueDtcbiAgICBpbnB1dC5vdmVyYWxsVmVsb2NpdHlZID0gb3ZlcmFsbFZlbG9jaXR5Lnk7XG4gICAgaW5wdXQub3ZlcmFsbFZlbG9jaXR5ID0gKGFicyhvdmVyYWxsVmVsb2NpdHkueCkgPiBhYnMob3ZlcmFsbFZlbG9jaXR5LnkpKSA/IG92ZXJhbGxWZWxvY2l0eS54IDogb3ZlcmFsbFZlbG9jaXR5Lnk7XG5cbiAgICBpbnB1dC5zY2FsZSA9IGZpcnN0TXVsdGlwbGUgPyBnZXRTY2FsZShmaXJzdE11bHRpcGxlLnBvaW50ZXJzLCBwb2ludGVycykgOiAxO1xuICAgIGlucHV0LnJvdGF0aW9uID0gZmlyc3RNdWx0aXBsZSA/IGdldFJvdGF0aW9uKGZpcnN0TXVsdGlwbGUucG9pbnRlcnMsIHBvaW50ZXJzKSA6IDA7XG5cbiAgICBpbnB1dC5tYXhQb2ludGVycyA9ICFzZXNzaW9uLnByZXZJbnB1dCA/IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA6ICgoaW5wdXQucG9pbnRlcnMubGVuZ3RoID5cbiAgICAgICAgc2Vzc2lvbi5wcmV2SW5wdXQubWF4UG9pbnRlcnMpID8gaW5wdXQucG9pbnRlcnMubGVuZ3RoIDogc2Vzc2lvbi5wcmV2SW5wdXQubWF4UG9pbnRlcnMpO1xuXG4gICAgY29tcHV0ZUludGVydmFsSW5wdXREYXRhKHNlc3Npb24sIGlucHV0KTtcblxuICAgIC8vIGZpbmQgdGhlIGNvcnJlY3QgdGFyZ2V0XG4gICAgdmFyIHRhcmdldCA9IG1hbmFnZXIuZWxlbWVudDtcbiAgICBpZiAoaGFzUGFyZW50KGlucHV0LnNyY0V2ZW50LnRhcmdldCwgdGFyZ2V0KSkge1xuICAgICAgICB0YXJnZXQgPSBpbnB1dC5zcmNFdmVudC50YXJnZXQ7XG4gICAgfVxuICAgIGlucHV0LnRhcmdldCA9IHRhcmdldDtcbn1cblxuZnVuY3Rpb24gY29tcHV0ZURlbHRhWFkoc2Vzc2lvbiwgaW5wdXQpIHtcbiAgICB2YXIgY2VudGVyID0gaW5wdXQuY2VudGVyO1xuICAgIHZhciBvZmZzZXQgPSBzZXNzaW9uLm9mZnNldERlbHRhIHx8IHt9O1xuICAgIHZhciBwcmV2RGVsdGEgPSBzZXNzaW9uLnByZXZEZWx0YSB8fCB7fTtcbiAgICB2YXIgcHJldklucHV0ID0gc2Vzc2lvbi5wcmV2SW5wdXQgfHwge307XG5cbiAgICBpZiAoaW5wdXQuZXZlbnRUeXBlID09PSBJTlBVVF9TVEFSVCB8fCBwcmV2SW5wdXQuZXZlbnRUeXBlID09PSBJTlBVVF9FTkQpIHtcbiAgICAgICAgcHJldkRlbHRhID0gc2Vzc2lvbi5wcmV2RGVsdGEgPSB7XG4gICAgICAgICAgICB4OiBwcmV2SW5wdXQuZGVsdGFYIHx8IDAsXG4gICAgICAgICAgICB5OiBwcmV2SW5wdXQuZGVsdGFZIHx8IDBcbiAgICAgICAgfTtcblxuICAgICAgICBvZmZzZXQgPSBzZXNzaW9uLm9mZnNldERlbHRhID0ge1xuICAgICAgICAgICAgeDogY2VudGVyLngsXG4gICAgICAgICAgICB5OiBjZW50ZXIueVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGlucHV0LmRlbHRhWCA9IHByZXZEZWx0YS54ICsgKGNlbnRlci54IC0gb2Zmc2V0LngpO1xuICAgIGlucHV0LmRlbHRhWSA9IHByZXZEZWx0YS55ICsgKGNlbnRlci55IC0gb2Zmc2V0LnkpO1xufVxuXG4vKipcbiAqIHZlbG9jaXR5IGlzIGNhbGN1bGF0ZWQgZXZlcnkgeCBtc1xuICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICovXG5mdW5jdGlvbiBjb21wdXRlSW50ZXJ2YWxJbnB1dERhdGEoc2Vzc2lvbiwgaW5wdXQpIHtcbiAgICB2YXIgbGFzdCA9IHNlc3Npb24ubGFzdEludGVydmFsIHx8IGlucHV0LFxuICAgICAgICBkZWx0YVRpbWUgPSBpbnB1dC50aW1lU3RhbXAgLSBsYXN0LnRpbWVTdGFtcCxcbiAgICAgICAgdmVsb2NpdHksIHZlbG9jaXR5WCwgdmVsb2NpdHlZLCBkaXJlY3Rpb247XG5cbiAgICBpZiAoaW5wdXQuZXZlbnRUeXBlICE9IElOUFVUX0NBTkNFTCAmJiAoZGVsdGFUaW1lID4gQ09NUFVURV9JTlRFUlZBTCB8fCBsYXN0LnZlbG9jaXR5ID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHZhciBkZWx0YVggPSBpbnB1dC5kZWx0YVggLSBsYXN0LmRlbHRhWDtcbiAgICAgICAgdmFyIGRlbHRhWSA9IGlucHV0LmRlbHRhWSAtIGxhc3QuZGVsdGFZO1xuXG4gICAgICAgIHZhciB2ID0gZ2V0VmVsb2NpdHkoZGVsdGFUaW1lLCBkZWx0YVgsIGRlbHRhWSk7XG4gICAgICAgIHZlbG9jaXR5WCA9IHYueDtcbiAgICAgICAgdmVsb2NpdHlZID0gdi55O1xuICAgICAgICB2ZWxvY2l0eSA9IChhYnModi54KSA+IGFicyh2LnkpKSA/IHYueCA6IHYueTtcbiAgICAgICAgZGlyZWN0aW9uID0gZ2V0RGlyZWN0aW9uKGRlbHRhWCwgZGVsdGFZKTtcblxuICAgICAgICBzZXNzaW9uLmxhc3RJbnRlcnZhbCA9IGlucHV0O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHVzZSBsYXRlc3QgdmVsb2NpdHkgaW5mbyBpZiBpdCBkb2Vzbid0IG92ZXJ0YWtlIGEgbWluaW11bSBwZXJpb2RcbiAgICAgICAgdmVsb2NpdHkgPSBsYXN0LnZlbG9jaXR5O1xuICAgICAgICB2ZWxvY2l0eVggPSBsYXN0LnZlbG9jaXR5WDtcbiAgICAgICAgdmVsb2NpdHlZID0gbGFzdC52ZWxvY2l0eVk7XG4gICAgICAgIGRpcmVjdGlvbiA9IGxhc3QuZGlyZWN0aW9uO1xuICAgIH1cblxuICAgIGlucHV0LnZlbG9jaXR5ID0gdmVsb2NpdHk7XG4gICAgaW5wdXQudmVsb2NpdHlYID0gdmVsb2NpdHlYO1xuICAgIGlucHV0LnZlbG9jaXR5WSA9IHZlbG9jaXR5WTtcbiAgICBpbnB1dC5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG59XG5cbi8qKlxuICogY3JlYXRlIGEgc2ltcGxlIGNsb25lIGZyb20gdGhlIGlucHV0IHVzZWQgZm9yIHN0b3JhZ2Ugb2YgZmlyc3RJbnB1dCBhbmQgZmlyc3RNdWx0aXBsZVxuICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gKiBAcmV0dXJucyB7T2JqZWN0fSBjbG9uZWRJbnB1dERhdGFcbiAqL1xuZnVuY3Rpb24gc2ltcGxlQ2xvbmVJbnB1dERhdGEoaW5wdXQpIHtcbiAgICAvLyBtYWtlIGEgc2ltcGxlIGNvcHkgb2YgdGhlIHBvaW50ZXJzIGJlY2F1c2Ugd2Ugd2lsbCBnZXQgYSByZWZlcmVuY2UgaWYgd2UgZG9uJ3RcbiAgICAvLyB3ZSBvbmx5IG5lZWQgY2xpZW50WFkgZm9yIHRoZSBjYWxjdWxhdGlvbnNcbiAgICB2YXIgcG9pbnRlcnMgPSBbXTtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBpbnB1dC5wb2ludGVycy5sZW5ndGgpIHtcbiAgICAgICAgcG9pbnRlcnNbaV0gPSB7XG4gICAgICAgICAgICBjbGllbnRYOiByb3VuZChpbnB1dC5wb2ludGVyc1tpXS5jbGllbnRYKSxcbiAgICAgICAgICAgIGNsaWVudFk6IHJvdW5kKGlucHV0LnBvaW50ZXJzW2ldLmNsaWVudFkpXG4gICAgICAgIH07XG4gICAgICAgIGkrKztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0aW1lU3RhbXA6IG5vdygpLFxuICAgICAgICBwb2ludGVyczogcG9pbnRlcnMsXG4gICAgICAgIGNlbnRlcjogZ2V0Q2VudGVyKHBvaW50ZXJzKSxcbiAgICAgICAgZGVsdGFYOiBpbnB1dC5kZWx0YVgsXG4gICAgICAgIGRlbHRhWTogaW5wdXQuZGVsdGFZXG4gICAgfTtcbn1cblxuLyoqXG4gKiBnZXQgdGhlIGNlbnRlciBvZiBhbGwgdGhlIHBvaW50ZXJzXG4gKiBAcGFyYW0ge0FycmF5fSBwb2ludGVyc1xuICogQHJldHVybiB7T2JqZWN0fSBjZW50ZXIgY29udGFpbnMgYHhgIGFuZCBgeWAgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBnZXRDZW50ZXIocG9pbnRlcnMpIHtcbiAgICB2YXIgcG9pbnRlcnNMZW5ndGggPSBwb2ludGVycy5sZW5ndGg7XG5cbiAgICAvLyBubyBuZWVkIHRvIGxvb3Agd2hlbiBvbmx5IG9uZSB0b3VjaFxuICAgIGlmIChwb2ludGVyc0xlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogcm91bmQocG9pbnRlcnNbMF0uY2xpZW50WCksXG4gICAgICAgICAgICB5OiByb3VuZChwb2ludGVyc1swXS5jbGllbnRZKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciB4ID0gMCwgeSA9IDAsIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgcG9pbnRlcnNMZW5ndGgpIHtcbiAgICAgICAgeCArPSBwb2ludGVyc1tpXS5jbGllbnRYO1xuICAgICAgICB5ICs9IHBvaW50ZXJzW2ldLmNsaWVudFk7XG4gICAgICAgIGkrKztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB4OiByb3VuZCh4IC8gcG9pbnRlcnNMZW5ndGgpLFxuICAgICAgICB5OiByb3VuZCh5IC8gcG9pbnRlcnNMZW5ndGgpXG4gICAgfTtcbn1cblxuLyoqXG4gKiBjYWxjdWxhdGUgdGhlIHZlbG9jaXR5IGJldHdlZW4gdHdvIHBvaW50cy4gdW5pdCBpcyBpbiBweCBwZXIgbXMuXG4gKiBAcGFyYW0ge051bWJlcn0gZGVsdGFUaW1lXG4gKiBAcGFyYW0ge051bWJlcn0geFxuICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAqIEByZXR1cm4ge09iamVjdH0gdmVsb2NpdHkgYHhgIGFuZCBgeWBcbiAqL1xuZnVuY3Rpb24gZ2V0VmVsb2NpdHkoZGVsdGFUaW1lLCB4LCB5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogeCAvIGRlbHRhVGltZSB8fCAwLFxuICAgICAgICB5OiB5IC8gZGVsdGFUaW1lIHx8IDBcbiAgICB9O1xufVxuXG4vKipcbiAqIGdldCB0aGUgZGlyZWN0aW9uIGJldHdlZW4gdHdvIHBvaW50c1xuICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gKiBAcmV0dXJuIHtOdW1iZXJ9IGRpcmVjdGlvblxuICovXG5mdW5jdGlvbiBnZXREaXJlY3Rpb24oeCwgeSkge1xuICAgIGlmICh4ID09PSB5KSB7XG4gICAgICAgIHJldHVybiBESVJFQ1RJT05fTk9ORTtcbiAgICB9XG5cbiAgICBpZiAoYWJzKHgpID49IGFicyh5KSkge1xuICAgICAgICByZXR1cm4geCA8IDAgPyBESVJFQ1RJT05fTEVGVCA6IERJUkVDVElPTl9SSUdIVDtcbiAgICB9XG4gICAgcmV0dXJuIHkgPCAwID8gRElSRUNUSU9OX1VQIDogRElSRUNUSU9OX0RPV047XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSBhYnNvbHV0ZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHNcbiAqIEBwYXJhbSB7T2JqZWN0fSBwMSB7eCwgeX1cbiAqIEBwYXJhbSB7T2JqZWN0fSBwMiB7eCwgeX1cbiAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wc10gY29udGFpbmluZyB4IGFuZCB5IGtleXNcbiAqIEByZXR1cm4ge051bWJlcn0gZGlzdGFuY2VcbiAqL1xuZnVuY3Rpb24gZ2V0RGlzdGFuY2UocDEsIHAyLCBwcm9wcykge1xuICAgIGlmICghcHJvcHMpIHtcbiAgICAgICAgcHJvcHMgPSBQUk9QU19YWTtcbiAgICB9XG4gICAgdmFyIHggPSBwMltwcm9wc1swXV0gLSBwMVtwcm9wc1swXV0sXG4gICAgICAgIHkgPSBwMltwcm9wc1sxXV0gLSBwMVtwcm9wc1sxXV07XG5cbiAgICByZXR1cm4gTWF0aC5zcXJ0KCh4ICogeCkgKyAoeSAqIHkpKTtcbn1cblxuLyoqXG4gKiBjYWxjdWxhdGUgdGhlIGFuZ2xlIGJldHdlZW4gdHdvIGNvb3JkaW5hdGVzXG4gKiBAcGFyYW0ge09iamVjdH0gcDFcbiAqIEBwYXJhbSB7T2JqZWN0fSBwMlxuICogQHBhcmFtIHtBcnJheX0gW3Byb3BzXSBjb250YWluaW5nIHggYW5kIHkga2V5c1xuICogQHJldHVybiB7TnVtYmVyfSBhbmdsZVxuICovXG5mdW5jdGlvbiBnZXRBbmdsZShwMSwgcDIsIHByb3BzKSB7XG4gICAgaWYgKCFwcm9wcykge1xuICAgICAgICBwcm9wcyA9IFBST1BTX1hZO1xuICAgIH1cbiAgICB2YXIgeCA9IHAyW3Byb3BzWzBdXSAtIHAxW3Byb3BzWzBdXSxcbiAgICAgICAgeSA9IHAyW3Byb3BzWzFdXSAtIHAxW3Byb3BzWzFdXTtcbiAgICByZXR1cm4gTWF0aC5hdGFuMih5LCB4KSAqIDE4MCAvIE1hdGguUEk7XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSByb3RhdGlvbiBkZWdyZWVzIGJldHdlZW4gdHdvIHBvaW50ZXJzZXRzXG4gKiBAcGFyYW0ge0FycmF5fSBzdGFydCBhcnJheSBvZiBwb2ludGVyc1xuICogQHBhcmFtIHtBcnJheX0gZW5kIGFycmF5IG9mIHBvaW50ZXJzXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IHJvdGF0aW9uXG4gKi9cbmZ1bmN0aW9uIGdldFJvdGF0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgICByZXR1cm4gZ2V0QW5nbGUoZW5kWzFdLCBlbmRbMF0sIFBST1BTX0NMSUVOVF9YWSkgKyBnZXRBbmdsZShzdGFydFsxXSwgc3RhcnRbMF0sIFBST1BTX0NMSUVOVF9YWSk7XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSBzY2FsZSBmYWN0b3IgYmV0d2VlbiB0d28gcG9pbnRlcnNldHNcbiAqIG5vIHNjYWxlIGlzIDEsIGFuZCBnb2VzIGRvd24gdG8gMCB3aGVuIHBpbmNoZWQgdG9nZXRoZXIsIGFuZCBiaWdnZXIgd2hlbiBwaW5jaGVkIG91dFxuICogQHBhcmFtIHtBcnJheX0gc3RhcnQgYXJyYXkgb2YgcG9pbnRlcnNcbiAqIEBwYXJhbSB7QXJyYXl9IGVuZCBhcnJheSBvZiBwb2ludGVyc1xuICogQHJldHVybiB7TnVtYmVyfSBzY2FsZVxuICovXG5mdW5jdGlvbiBnZXRTY2FsZShzdGFydCwgZW5kKSB7XG4gICAgcmV0dXJuIGdldERpc3RhbmNlKGVuZFswXSwgZW5kWzFdLCBQUk9QU19DTElFTlRfWFkpIC8gZ2V0RGlzdGFuY2Uoc3RhcnRbMF0sIHN0YXJ0WzFdLCBQUk9QU19DTElFTlRfWFkpO1xufVxuXG52YXIgTU9VU0VfSU5QVVRfTUFQID0ge1xuICAgIG1vdXNlZG93bjogSU5QVVRfU1RBUlQsXG4gICAgbW91c2Vtb3ZlOiBJTlBVVF9NT1ZFLFxuICAgIG1vdXNldXA6IElOUFVUX0VORFxufTtcblxudmFyIE1PVVNFX0VMRU1FTlRfRVZFTlRTID0gJ21vdXNlZG93bic7XG52YXIgTU9VU0VfV0lORE9XX0VWRU5UUyA9ICdtb3VzZW1vdmUgbW91c2V1cCc7XG5cbi8qKlxuICogTW91c2UgZXZlbnRzIGlucHV0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cbmZ1bmN0aW9uIE1vdXNlSW5wdXQoKSB7XG4gICAgdGhpcy5ldkVsID0gTU9VU0VfRUxFTUVOVF9FVkVOVFM7XG4gICAgdGhpcy5ldldpbiA9IE1PVVNFX1dJTkRPV19FVkVOVFM7XG5cbiAgICB0aGlzLnByZXNzZWQgPSBmYWxzZTsgLy8gbW91c2Vkb3duIHN0YXRlXG5cbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KE1vdXNlSW5wdXQsIElucHV0LCB7XG4gICAgLyoqXG4gICAgICogaGFuZGxlIG1vdXNlIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldlxuICAgICAqL1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIE1FaGFuZGxlcihldikge1xuICAgICAgICB2YXIgZXZlbnRUeXBlID0gTU9VU0VfSU5QVVRfTUFQW2V2LnR5cGVdO1xuXG4gICAgICAgIC8vIG9uIHN0YXJ0IHdlIHdhbnQgdG8gaGF2ZSB0aGUgbGVmdCBtb3VzZSBidXR0b24gZG93blxuICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgZXYuYnV0dG9uID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnByZXNzZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX01PVkUgJiYgZXYud2hpY2ggIT09IDEpIHtcbiAgICAgICAgICAgIGV2ZW50VHlwZSA9IElOUFVUX0VORDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1vdXNlIG11c3QgYmUgZG93blxuICAgICAgICBpZiAoIXRoaXMucHJlc3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX0VORCkge1xuICAgICAgICAgICAgdGhpcy5wcmVzc2VkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgZXZlbnRUeXBlLCB7XG4gICAgICAgICAgICBwb2ludGVyczogW2V2XSxcbiAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogW2V2XSxcbiAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBJTlBVVF9UWVBFX01PVVNFLFxuICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG52YXIgUE9JTlRFUl9JTlBVVF9NQVAgPSB7XG4gICAgcG9pbnRlcmRvd246IElOUFVUX1NUQVJULFxuICAgIHBvaW50ZXJtb3ZlOiBJTlBVVF9NT1ZFLFxuICAgIHBvaW50ZXJ1cDogSU5QVVRfRU5ELFxuICAgIHBvaW50ZXJjYW5jZWw6IElOUFVUX0NBTkNFTCxcbiAgICBwb2ludGVyb3V0OiBJTlBVVF9DQU5DRUxcbn07XG5cbi8vIGluIElFMTAgdGhlIHBvaW50ZXIgdHlwZXMgaXMgZGVmaW5lZCBhcyBhbiBlbnVtXG52YXIgSUUxMF9QT0lOVEVSX1RZUEVfRU5VTSA9IHtcbiAgICAyOiBJTlBVVF9UWVBFX1RPVUNILFxuICAgIDM6IElOUFVUX1RZUEVfUEVOLFxuICAgIDQ6IElOUFVUX1RZUEVfTU9VU0UsXG4gICAgNTogSU5QVVRfVFlQRV9LSU5FQ1QgLy8gc2VlIGh0dHBzOi8vdHdpdHRlci5jb20vamFjb2Jyb3NzaS9zdGF0dXMvNDgwNTk2NDM4NDg5ODkwODE2XG59O1xuXG52YXIgUE9JTlRFUl9FTEVNRU5UX0VWRU5UUyA9ICdwb2ludGVyZG93bic7XG52YXIgUE9JTlRFUl9XSU5ET1dfRVZFTlRTID0gJ3BvaW50ZXJtb3ZlIHBvaW50ZXJ1cCBwb2ludGVyY2FuY2VsJztcblxuLy8gSUUxMCBoYXMgcHJlZml4ZWQgc3VwcG9ydCwgYW5kIGNhc2Utc2Vuc2l0aXZlXG5pZiAod2luZG93Lk1TUG9pbnRlckV2ZW50ICYmICF3aW5kb3cuUG9pbnRlckV2ZW50KSB7XG4gICAgUE9JTlRFUl9FTEVNRU5UX0VWRU5UUyA9ICdNU1BvaW50ZXJEb3duJztcbiAgICBQT0lOVEVSX1dJTkRPV19FVkVOVFMgPSAnTVNQb2ludGVyTW92ZSBNU1BvaW50ZXJVcCBNU1BvaW50ZXJDYW5jZWwnO1xufVxuXG4vKipcbiAqIFBvaW50ZXIgZXZlbnRzIGlucHV0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cbmZ1bmN0aW9uIFBvaW50ZXJFdmVudElucHV0KCkge1xuICAgIHRoaXMuZXZFbCA9IFBPSU5URVJfRUxFTUVOVF9FVkVOVFM7XG4gICAgdGhpcy5ldldpbiA9IFBPSU5URVJfV0lORE9XX0VWRU5UUztcblxuICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB0aGlzLnN0b3JlID0gKHRoaXMubWFuYWdlci5zZXNzaW9uLnBvaW50ZXJFdmVudHMgPSBbXSk7XG59XG5cbmluaGVyaXQoUG9pbnRlckV2ZW50SW5wdXQsIElucHV0LCB7XG4gICAgLyoqXG4gICAgICogaGFuZGxlIG1vdXNlIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldlxuICAgICAqL1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIFBFaGFuZGxlcihldikge1xuICAgICAgICB2YXIgc3RvcmUgPSB0aGlzLnN0b3JlO1xuICAgICAgICB2YXIgcmVtb3ZlUG9pbnRlciA9IGZhbHNlO1xuXG4gICAgICAgIHZhciBldmVudFR5cGVOb3JtYWxpemVkID0gZXYudHlwZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJ21zJywgJycpO1xuICAgICAgICB2YXIgZXZlbnRUeXBlID0gUE9JTlRFUl9JTlBVVF9NQVBbZXZlbnRUeXBlTm9ybWFsaXplZF07XG4gICAgICAgIHZhciBwb2ludGVyVHlwZSA9IElFMTBfUE9JTlRFUl9UWVBFX0VOVU1bZXYucG9pbnRlclR5cGVdIHx8IGV2LnBvaW50ZXJUeXBlO1xuXG4gICAgICAgIHZhciBpc1RvdWNoID0gKHBvaW50ZXJUeXBlID09IElOUFVUX1RZUEVfVE9VQ0gpO1xuXG4gICAgICAgIC8vIGdldCBpbmRleCBvZiB0aGUgZXZlbnQgaW4gdGhlIHN0b3JlXG4gICAgICAgIHZhciBzdG9yZUluZGV4ID0gaW5BcnJheShzdG9yZSwgZXYucG9pbnRlcklkLCAncG9pbnRlcklkJyk7XG5cbiAgICAgICAgLy8gc3RhcnQgYW5kIG1vdXNlIG11c3QgYmUgZG93blxuICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgKGV2LmJ1dHRvbiA9PT0gMCB8fCBpc1RvdWNoKSkge1xuICAgICAgICAgICAgaWYgKHN0b3JlSW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgc3RvcmUucHVzaChldik7XG4gICAgICAgICAgICAgICAgc3RvcmVJbmRleCA9IHN0b3JlLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcbiAgICAgICAgICAgIHJlbW92ZVBvaW50ZXIgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaXQgbm90IGZvdW5kLCBzbyB0aGUgcG9pbnRlciBoYXNuJ3QgYmVlbiBkb3duIChzbyBpdCdzIHByb2JhYmx5IGEgaG92ZXIpXG4gICAgICAgIGlmIChzdG9yZUluZGV4IDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXBkYXRlIHRoZSBldmVudCBpbiB0aGUgc3RvcmVcbiAgICAgICAgc3RvcmVbc3RvcmVJbmRleF0gPSBldjtcblxuICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgZXZlbnRUeXBlLCB7XG4gICAgICAgICAgICBwb2ludGVyczogc3RvcmUsXG4gICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IFtldl0sXG4gICAgICAgICAgICBwb2ludGVyVHlwZTogcG9pbnRlclR5cGUsXG4gICAgICAgICAgICBzcmNFdmVudDogZXZcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHJlbW92ZVBvaW50ZXIpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBmcm9tIHRoZSBzdG9yZVxuICAgICAgICAgICAgc3RvcmUuc3BsaWNlKHN0b3JlSW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbnZhciBTSU5HTEVfVE9VQ0hfSU5QVVRfTUFQID0ge1xuICAgIHRvdWNoc3RhcnQ6IElOUFVUX1NUQVJULFxuICAgIHRvdWNobW92ZTogSU5QVVRfTU9WRSxcbiAgICB0b3VjaGVuZDogSU5QVVRfRU5ELFxuICAgIHRvdWNoY2FuY2VsOiBJTlBVVF9DQU5DRUxcbn07XG5cbnZhciBTSU5HTEVfVE9VQ0hfVEFSR0VUX0VWRU5UUyA9ICd0b3VjaHN0YXJ0JztcbnZhciBTSU5HTEVfVE9VQ0hfV0lORE9XX0VWRU5UUyA9ICd0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCc7XG5cbi8qKlxuICogVG91Y2ggZXZlbnRzIGlucHV0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cbmZ1bmN0aW9uIFNpbmdsZVRvdWNoSW5wdXQoKSB7XG4gICAgdGhpcy5ldlRhcmdldCA9IFNJTkdMRV9UT1VDSF9UQVJHRVRfRVZFTlRTO1xuICAgIHRoaXMuZXZXaW4gPSBTSU5HTEVfVE9VQ0hfV0lORE9XX0VWRU5UUztcbiAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcblxuICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoU2luZ2xlVG91Y2hJbnB1dCwgSW5wdXQsIHtcbiAgICBoYW5kbGVyOiBmdW5jdGlvbiBURWhhbmRsZXIoZXYpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBTSU5HTEVfVE9VQ0hfSU5QVVRfTUFQW2V2LnR5cGVdO1xuXG4gICAgICAgIC8vIHNob3VsZCB3ZSBoYW5kbGUgdGhlIHRvdWNoIGV2ZW50cz9cbiAgICAgICAgaWYgKHR5cGUgPT09IElOUFVUX1NUQVJUKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0b3VjaGVzID0gbm9ybWFsaXplU2luZ2xlVG91Y2hlcy5jYWxsKHRoaXMsIGV2LCB0eXBlKTtcblxuICAgICAgICAvLyB3aGVuIGRvbmUsIHJlc2V0IHRoZSBzdGFydGVkIHN0YXRlXG4gICAgICAgIGlmICh0eXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkgJiYgdG91Y2hlc1swXS5sZW5ndGggLSB0b3VjaGVzWzFdLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgdHlwZSwge1xuICAgICAgICAgICAgcG9pbnRlcnM6IHRvdWNoZXNbMF0sXG4gICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IHRvdWNoZXNbMV0sXG4gICAgICAgICAgICBwb2ludGVyVHlwZTogSU5QVVRfVFlQRV9UT1VDSCxcbiAgICAgICAgICAgIHNyY0V2ZW50OiBldlxuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBAdGhpcyB7VG91Y2hJbnB1dH1cbiAqIEBwYXJhbSB7T2JqZWN0fSBldlxuICogQHBhcmFtIHtOdW1iZXJ9IHR5cGUgZmxhZ1xuICogQHJldHVybnMge3VuZGVmaW5lZHxBcnJheX0gW2FsbCwgY2hhbmdlZF1cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplU2luZ2xlVG91Y2hlcyhldiwgdHlwZSkge1xuICAgIHZhciBhbGwgPSB0b0FycmF5KGV2LnRvdWNoZXMpO1xuICAgIHZhciBjaGFuZ2VkID0gdG9BcnJheShldi5jaGFuZ2VkVG91Y2hlcyk7XG5cbiAgICBpZiAodHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpKSB7XG4gICAgICAgIGFsbCA9IHVuaXF1ZUFycmF5KGFsbC5jb25jYXQoY2hhbmdlZCksICdpZGVudGlmaWVyJywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFthbGwsIGNoYW5nZWRdO1xufVxuXG52YXIgVE9VQ0hfSU5QVVRfTUFQID0ge1xuICAgIHRvdWNoc3RhcnQ6IElOUFVUX1NUQVJULFxuICAgIHRvdWNobW92ZTogSU5QVVRfTU9WRSxcbiAgICB0b3VjaGVuZDogSU5QVVRfRU5ELFxuICAgIHRvdWNoY2FuY2VsOiBJTlBVVF9DQU5DRUxcbn07XG5cbnZhciBUT1VDSF9UQVJHRVRfRVZFTlRTID0gJ3RvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRvdWNoY2FuY2VsJztcblxuLyoqXG4gKiBNdWx0aS11c2VyIHRvdWNoIGV2ZW50cyBpbnB1dFxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBJbnB1dFxuICovXG5mdW5jdGlvbiBUb3VjaElucHV0KCkge1xuICAgIHRoaXMuZXZUYXJnZXQgPSBUT1VDSF9UQVJHRVRfRVZFTlRTO1xuICAgIHRoaXMudGFyZ2V0SWRzID0ge307XG5cbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KFRvdWNoSW5wdXQsIElucHV0LCB7XG4gICAgaGFuZGxlcjogZnVuY3Rpb24gTVRFaGFuZGxlcihldikge1xuICAgICAgICB2YXIgdHlwZSA9IFRPVUNIX0lOUFVUX01BUFtldi50eXBlXTtcbiAgICAgICAgdmFyIHRvdWNoZXMgPSBnZXRUb3VjaGVzLmNhbGwodGhpcywgZXYsIHR5cGUpO1xuICAgICAgICBpZiAoIXRvdWNoZXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLCB0eXBlLCB7XG4gICAgICAgICAgICBwb2ludGVyczogdG91Y2hlc1swXSxcbiAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogdG91Y2hlc1sxXSxcbiAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBJTlBVVF9UWVBFX1RPVUNILFxuICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIEB0aGlzIHtUb3VjaElucHV0fVxuICogQHBhcmFtIHtPYmplY3R9IGV2XG4gKiBAcGFyYW0ge051bWJlcn0gdHlwZSBmbGFnXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfEFycmF5fSBbYWxsLCBjaGFuZ2VkXVxuICovXG5mdW5jdGlvbiBnZXRUb3VjaGVzKGV2LCB0eXBlKSB7XG4gICAgdmFyIGFsbFRvdWNoZXMgPSB0b0FycmF5KGV2LnRvdWNoZXMpO1xuICAgIHZhciB0YXJnZXRJZHMgPSB0aGlzLnRhcmdldElkcztcblxuICAgIC8vIHdoZW4gdGhlcmUgaXMgb25seSBvbmUgdG91Y2gsIHRoZSBwcm9jZXNzIGNhbiBiZSBzaW1wbGlmaWVkXG4gICAgaWYgKHR5cGUgJiAoSU5QVVRfU1RBUlQgfCBJTlBVVF9NT1ZFKSAmJiBhbGxUb3VjaGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICB0YXJnZXRJZHNbYWxsVG91Y2hlc1swXS5pZGVudGlmaWVyXSA9IHRydWU7XG4gICAgICAgIHJldHVybiBbYWxsVG91Y2hlcywgYWxsVG91Y2hlc107XG4gICAgfVxuXG4gICAgdmFyIGksXG4gICAgICAgIHRhcmdldFRvdWNoZXMsXG4gICAgICAgIGNoYW5nZWRUb3VjaGVzID0gdG9BcnJheShldi5jaGFuZ2VkVG91Y2hlcyksXG4gICAgICAgIGNoYW5nZWRUYXJnZXRUb3VjaGVzID0gW10sXG4gICAgICAgIHRhcmdldCA9IHRoaXMudGFyZ2V0O1xuXG4gICAgLy8gZ2V0IHRhcmdldCB0b3VjaGVzIGZyb20gdG91Y2hlc1xuICAgIHRhcmdldFRvdWNoZXMgPSBhbGxUb3VjaGVzLmZpbHRlcihmdW5jdGlvbih0b3VjaCkge1xuICAgICAgICByZXR1cm4gaGFzUGFyZW50KHRvdWNoLnRhcmdldCwgdGFyZ2V0KTtcbiAgICB9KTtcblxuICAgIC8vIGNvbGxlY3QgdG91Y2hlc1xuICAgIGlmICh0eXBlID09PSBJTlBVVF9TVEFSVCkge1xuICAgICAgICBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCB0YXJnZXRUb3VjaGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGFyZ2V0SWRzW3RhcmdldFRvdWNoZXNbaV0uaWRlbnRpZmllcl0gPSB0cnVlO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gZmlsdGVyIGNoYW5nZWQgdG91Y2hlcyB0byBvbmx5IGNvbnRhaW4gdG91Y2hlcyB0aGF0IGV4aXN0IGluIHRoZSBjb2xsZWN0ZWQgdGFyZ2V0IGlkc1xuICAgIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgY2hhbmdlZFRvdWNoZXMubGVuZ3RoKSB7XG4gICAgICAgIGlmICh0YXJnZXRJZHNbY2hhbmdlZFRvdWNoZXNbaV0uaWRlbnRpZmllcl0pIHtcbiAgICAgICAgICAgIGNoYW5nZWRUYXJnZXRUb3VjaGVzLnB1c2goY2hhbmdlZFRvdWNoZXNbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2xlYW51cCByZW1vdmVkIHRvdWNoZXNcbiAgICAgICAgaWYgKHR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuICAgICAgICAgICAgZGVsZXRlIHRhcmdldElkc1tjaGFuZ2VkVG91Y2hlc1tpXS5pZGVudGlmaWVyXTtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuXG4gICAgaWYgKCFjaGFuZ2VkVGFyZ2V0VG91Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBbXG4gICAgICAgIC8vIG1lcmdlIHRhcmdldFRvdWNoZXMgd2l0aCBjaGFuZ2VkVGFyZ2V0VG91Y2hlcyBzbyBpdCBjb250YWlucyBBTEwgdG91Y2hlcywgaW5jbHVkaW5nICdlbmQnIGFuZCAnY2FuY2VsJ1xuICAgICAgICB1bmlxdWVBcnJheSh0YXJnZXRUb3VjaGVzLmNvbmNhdChjaGFuZ2VkVGFyZ2V0VG91Y2hlcyksICdpZGVudGlmaWVyJywgdHJ1ZSksXG4gICAgICAgIGNoYW5nZWRUYXJnZXRUb3VjaGVzXG4gICAgXTtcbn1cblxuLyoqXG4gKiBDb21iaW5lZCB0b3VjaCBhbmQgbW91c2UgaW5wdXRcbiAqXG4gKiBUb3VjaCBoYXMgYSBoaWdoZXIgcHJpb3JpdHkgdGhlbiBtb3VzZSwgYW5kIHdoaWxlIHRvdWNoaW5nIG5vIG1vdXNlIGV2ZW50cyBhcmUgYWxsb3dlZC5cbiAqIFRoaXMgYmVjYXVzZSB0b3VjaCBkZXZpY2VzIGFsc28gZW1pdCBtb3VzZSBldmVudHMgd2hpbGUgZG9pbmcgYSB0b3VjaC5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cblxudmFyIERFRFVQX1RJTUVPVVQgPSAyNTAwO1xudmFyIERFRFVQX0RJU1RBTkNFID0gMjU7XG5cbmZ1bmN0aW9uIFRvdWNoTW91c2VJbnB1dCgpIHtcbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdmFyIGhhbmRsZXIgPSBiaW5kRm4odGhpcy5oYW5kbGVyLCB0aGlzKTtcbiAgICB0aGlzLnRvdWNoID0gbmV3IFRvdWNoSW5wdXQodGhpcy5tYW5hZ2VyLCBoYW5kbGVyKTtcbiAgICB0aGlzLm1vdXNlID0gbmV3IE1vdXNlSW5wdXQodGhpcy5tYW5hZ2VyLCBoYW5kbGVyKTtcblxuICAgIHRoaXMucHJpbWFyeVRvdWNoID0gbnVsbDtcbiAgICB0aGlzLmxhc3RUb3VjaGVzID0gW107XG59XG5cbmluaGVyaXQoVG91Y2hNb3VzZUlucHV0LCBJbnB1dCwge1xuICAgIC8qKlxuICAgICAqIGhhbmRsZSBtb3VzZSBhbmQgdG91Y2ggZXZlbnRzXG4gICAgICogQHBhcmFtIHtIYW1tZXJ9IG1hbmFnZXJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXRFdmVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcbiAgICAgKi9cbiAgICBoYW5kbGVyOiBmdW5jdGlvbiBUTUVoYW5kbGVyKG1hbmFnZXIsIGlucHV0RXZlbnQsIGlucHV0RGF0YSkge1xuICAgICAgICB2YXIgaXNUb3VjaCA9IChpbnB1dERhdGEucG9pbnRlclR5cGUgPT0gSU5QVVRfVFlQRV9UT1VDSCksXG4gICAgICAgICAgICBpc01vdXNlID0gKGlucHV0RGF0YS5wb2ludGVyVHlwZSA9PSBJTlBVVF9UWVBFX01PVVNFKTtcblxuICAgICAgICBpZiAoaXNNb3VzZSAmJiBpbnB1dERhdGEuc291cmNlQ2FwYWJpbGl0aWVzICYmIGlucHV0RGF0YS5zb3VyY2VDYXBhYmlsaXRpZXMuZmlyZXNUb3VjaEV2ZW50cykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2hlbiB3ZSdyZSBpbiBhIHRvdWNoIGV2ZW50LCByZWNvcmQgdG91Y2hlcyB0byAgZGUtZHVwZSBzeW50aGV0aWMgbW91c2UgZXZlbnRcbiAgICAgICAgaWYgKGlzVG91Y2gpIHtcbiAgICAgICAgICAgIHJlY29yZFRvdWNoZXMuY2FsbCh0aGlzLCBpbnB1dEV2ZW50LCBpbnB1dERhdGEpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzTW91c2UgJiYgaXNTeW50aGV0aWNFdmVudC5jYWxsKHRoaXMsIGlucHV0RGF0YSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FsbGJhY2sobWFuYWdlciwgaW5wdXRFdmVudCwgaW5wdXREYXRhKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVtb3ZlIHRoZSBldmVudCBsaXN0ZW5lcnNcbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnRvdWNoLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5tb3VzZS5kZXN0cm95KCk7XG4gICAgfVxufSk7XG5cbmZ1bmN0aW9uIHJlY29yZFRvdWNoZXMoZXZlbnRUeXBlLCBldmVudERhdGEpIHtcbiAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQpIHtcbiAgICAgICAgdGhpcy5wcmltYXJ5VG91Y2ggPSBldmVudERhdGEuY2hhbmdlZFBvaW50ZXJzWzBdLmlkZW50aWZpZXI7XG4gICAgICAgIHNldExhc3RUb3VjaC5jYWxsKHRoaXMsIGV2ZW50RGF0YSk7XG4gICAgfSBlbHNlIGlmIChldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuICAgICAgICBzZXRMYXN0VG91Y2guY2FsbCh0aGlzLCBldmVudERhdGEpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2V0TGFzdFRvdWNoKGV2ZW50RGF0YSkge1xuICAgIHZhciB0b3VjaCA9IGV2ZW50RGF0YS5jaGFuZ2VkUG9pbnRlcnNbMF07XG5cbiAgICBpZiAodG91Y2guaWRlbnRpZmllciA9PT0gdGhpcy5wcmltYXJ5VG91Y2gpIHtcbiAgICAgICAgdmFyIGxhc3RUb3VjaCA9IHt4OiB0b3VjaC5jbGllbnRYLCB5OiB0b3VjaC5jbGllbnRZfTtcbiAgICAgICAgdGhpcy5sYXN0VG91Y2hlcy5wdXNoKGxhc3RUb3VjaCk7XG4gICAgICAgIHZhciBsdHMgPSB0aGlzLmxhc3RUb3VjaGVzO1xuICAgICAgICB2YXIgcmVtb3ZlTGFzdFRvdWNoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaSA9IGx0cy5pbmRleE9mKGxhc3RUb3VjaCk7XG4gICAgICAgICAgICBpZiAoaSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgbHRzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgc2V0VGltZW91dChyZW1vdmVMYXN0VG91Y2gsIERFRFVQX1RJTUVPVVQpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNTeW50aGV0aWNFdmVudChldmVudERhdGEpIHtcbiAgICB2YXIgeCA9IGV2ZW50RGF0YS5zcmNFdmVudC5jbGllbnRYLCB5ID0gZXZlbnREYXRhLnNyY0V2ZW50LmNsaWVudFk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxhc3RUb3VjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0ID0gdGhpcy5sYXN0VG91Y2hlc1tpXTtcbiAgICAgICAgdmFyIGR4ID0gTWF0aC5hYnMoeCAtIHQueCksIGR5ID0gTWF0aC5hYnMoeSAtIHQueSk7XG4gICAgICAgIGlmIChkeCA8PSBERURVUF9ESVNUQU5DRSAmJiBkeSA8PSBERURVUF9ESVNUQU5DRSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG52YXIgUFJFRklYRURfVE9VQ0hfQUNUSU9OID0gcHJlZml4ZWQoVEVTVF9FTEVNRU5ULnN0eWxlLCAndG91Y2hBY3Rpb24nKTtcbnZhciBOQVRJVkVfVE9VQ0hfQUNUSU9OID0gUFJFRklYRURfVE9VQ0hfQUNUSU9OICE9PSB1bmRlZmluZWQ7XG5cbi8vIG1hZ2ljYWwgdG91Y2hBY3Rpb24gdmFsdWVcbnZhciBUT1VDSF9BQ1RJT05fQ09NUFVURSA9ICdjb21wdXRlJztcbnZhciBUT1VDSF9BQ1RJT05fQVVUTyA9ICdhdXRvJztcbnZhciBUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OID0gJ21hbmlwdWxhdGlvbic7IC8vIG5vdCBpbXBsZW1lbnRlZFxudmFyIFRPVUNIX0FDVElPTl9OT05FID0gJ25vbmUnO1xudmFyIFRPVUNIX0FDVElPTl9QQU5fWCA9ICdwYW4teCc7XG52YXIgVE9VQ0hfQUNUSU9OX1BBTl9ZID0gJ3Bhbi15JztcbnZhciBUT1VDSF9BQ1RJT05fTUFQID0gZ2V0VG91Y2hBY3Rpb25Qcm9wcygpO1xuXG4vKipcbiAqIFRvdWNoIEFjdGlvblxuICogc2V0cyB0aGUgdG91Y2hBY3Rpb24gcHJvcGVydHkgb3IgdXNlcyB0aGUganMgYWx0ZXJuYXRpdmVcbiAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlclxuICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gVG91Y2hBY3Rpb24obWFuYWdlciwgdmFsdWUpIHtcbiAgICB0aGlzLm1hbmFnZXIgPSBtYW5hZ2VyO1xuICAgIHRoaXMuc2V0KHZhbHVlKTtcbn1cblxuVG91Y2hBY3Rpb24ucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIHNldCB0aGUgdG91Y2hBY3Rpb24gdmFsdWUgb24gdGhlIGVsZW1lbnQgb3IgZW5hYmxlIHRoZSBwb2x5ZmlsbFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZVxuICAgICAqL1xuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgLy8gZmluZCBvdXQgdGhlIHRvdWNoLWFjdGlvbiBieSB0aGUgZXZlbnQgaGFuZGxlcnNcbiAgICAgICAgaWYgKHZhbHVlID09IFRPVUNIX0FDVElPTl9DT01QVVRFKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuY29tcHV0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKE5BVElWRV9UT1VDSF9BQ1RJT04gJiYgdGhpcy5tYW5hZ2VyLmVsZW1lbnQuc3R5bGUgJiYgVE9VQ0hfQUNUSU9OX01BUFt2YWx1ZV0pIHtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbGVtZW50LnN0eWxlW1BSRUZJWEVEX1RPVUNIX0FDVElPTl0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGlvbnMgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICoganVzdCByZS1zZXQgdGhlIHRvdWNoQWN0aW9uIHZhbHVlXG4gICAgICovXG4gICAgdXBkYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5zZXQodGhpcy5tYW5hZ2VyLm9wdGlvbnMudG91Y2hBY3Rpb24pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjb21wdXRlIHRoZSB2YWx1ZSBmb3IgdGhlIHRvdWNoQWN0aW9uIHByb3BlcnR5IGJhc2VkIG9uIHRoZSByZWNvZ25pemVyJ3Mgc2V0dGluZ3NcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSB2YWx1ZVxuICAgICAqL1xuICAgIGNvbXB1dGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYWN0aW9ucyA9IFtdO1xuICAgICAgICBlYWNoKHRoaXMubWFuYWdlci5yZWNvZ25pemVycywgZnVuY3Rpb24ocmVjb2duaXplcikge1xuICAgICAgICAgICAgaWYgKGJvb2xPckZuKHJlY29nbml6ZXIub3B0aW9ucy5lbmFibGUsIFtyZWNvZ25pemVyXSkpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb25zID0gYWN0aW9ucy5jb25jYXQocmVjb2duaXplci5nZXRUb3VjaEFjdGlvbigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjbGVhblRvdWNoQWN0aW9ucyhhY3Rpb25zLmpvaW4oJyAnKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHRoaXMgbWV0aG9kIGlzIGNhbGxlZCBvbiBlYWNoIGlucHV0IGN5Y2xlIGFuZCBwcm92aWRlcyB0aGUgcHJldmVudGluZyBvZiB0aGUgYnJvd3NlciBiZWhhdmlvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqL1xuICAgIHByZXZlbnREZWZhdWx0czogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIHNyY0V2ZW50ID0gaW5wdXQuc3JjRXZlbnQ7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBpbnB1dC5vZmZzZXREaXJlY3Rpb247XG5cbiAgICAgICAgLy8gaWYgdGhlIHRvdWNoIGFjdGlvbiBkaWQgcHJldmVudGVkIG9uY2UgdGhpcyBzZXNzaW9uXG4gICAgICAgIGlmICh0aGlzLm1hbmFnZXIuc2Vzc2lvbi5wcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgIHNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYWN0aW9ucyA9IHRoaXMuYWN0aW9ucztcbiAgICAgICAgdmFyIGhhc05vbmUgPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fTk9ORSkgJiYgIVRPVUNIX0FDVElPTl9NQVBbVE9VQ0hfQUNUSU9OX05PTkVdO1xuICAgICAgICB2YXIgaGFzUGFuWSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWSkgJiYgIVRPVUNIX0FDVElPTl9NQVBbVE9VQ0hfQUNUSU9OX1BBTl9ZXTtcbiAgICAgICAgdmFyIGhhc1BhblggPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1gpICYmICFUT1VDSF9BQ1RJT05fTUFQW1RPVUNIX0FDVElPTl9QQU5fWF07XG5cbiAgICAgICAgaWYgKGhhc05vbmUpIHtcbiAgICAgICAgICAgIC8vZG8gbm90IHByZXZlbnQgZGVmYXVsdHMgaWYgdGhpcyBpcyBhIHRhcCBnZXN0dXJlXG5cbiAgICAgICAgICAgIHZhciBpc1RhcFBvaW50ZXIgPSBpbnB1dC5wb2ludGVycy5sZW5ndGggPT09IDE7XG4gICAgICAgICAgICB2YXIgaXNUYXBNb3ZlbWVudCA9IGlucHV0LmRpc3RhbmNlIDwgMjtcbiAgICAgICAgICAgIHZhciBpc1RhcFRvdWNoVGltZSA9IGlucHV0LmRlbHRhVGltZSA8IDI1MDtcblxuICAgICAgICAgICAgaWYgKGlzVGFwUG9pbnRlciAmJiBpc1RhcE1vdmVtZW50ICYmIGlzVGFwVG91Y2hUaW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc1BhblggJiYgaGFzUGFuWSkge1xuICAgICAgICAgICAgLy8gYHBhbi14IHBhbi15YCBtZWFucyBicm93c2VyIGhhbmRsZXMgYWxsIHNjcm9sbGluZy9wYW5uaW5nLCBkbyBub3QgcHJldmVudFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc05vbmUgfHxcbiAgICAgICAgICAgIChoYXNQYW5ZICYmIGRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB8fFxuICAgICAgICAgICAgKGhhc1BhblggJiYgZGlyZWN0aW9uICYgRElSRUNUSU9OX1ZFUlRJQ0FMKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJldmVudFNyYyhzcmNFdmVudCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY2FsbCBwcmV2ZW50RGVmYXVsdCB0byBwcmV2ZW50IHRoZSBicm93c2VyJ3MgZGVmYXVsdCBiZWhhdmlvciAoc2Nyb2xsaW5nIGluIG1vc3QgY2FzZXMpXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNyY0V2ZW50XG4gICAgICovXG4gICAgcHJldmVudFNyYzogZnVuY3Rpb24oc3JjRXZlbnQpIHtcbiAgICAgICAgdGhpcy5tYW5hZ2VyLnNlc3Npb24ucHJldmVudGVkID0gdHJ1ZTtcbiAgICAgICAgc3JjRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIHdoZW4gdGhlIHRvdWNoQWN0aW9ucyBhcmUgY29sbGVjdGVkIHRoZXkgYXJlIG5vdCBhIHZhbGlkIHZhbHVlLCBzbyB3ZSBuZWVkIHRvIGNsZWFuIHRoaW5ncyB1cC4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGFjdGlvbnNcbiAqIEByZXR1cm5zIHsqfVxuICovXG5mdW5jdGlvbiBjbGVhblRvdWNoQWN0aW9ucyhhY3Rpb25zKSB7XG4gICAgLy8gbm9uZVxuICAgIGlmIChpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fTk9ORSkpIHtcbiAgICAgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9OT05FO1xuICAgIH1cblxuICAgIHZhciBoYXNQYW5YID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX1BBTl9YKTtcbiAgICB2YXIgaGFzUGFuWSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWSk7XG5cbiAgICAvLyBpZiBib3RoIHBhbi14IGFuZCBwYW4teSBhcmUgc2V0IChkaWZmZXJlbnQgcmVjb2duaXplcnNcbiAgICAvLyBmb3IgZGlmZmVyZW50IGRpcmVjdGlvbnMsIGUuZy4gaG9yaXpvbnRhbCBwYW4gYnV0IHZlcnRpY2FsIHN3aXBlPylcbiAgICAvLyB3ZSBuZWVkIG5vbmUgKGFzIG90aGVyd2lzZSB3aXRoIHBhbi14IHBhbi15IGNvbWJpbmVkIG5vbmUgb2YgdGhlc2VcbiAgICAvLyByZWNvZ25pemVycyB3aWxsIHdvcmssIHNpbmNlIHRoZSBicm93c2VyIHdvdWxkIGhhbmRsZSBhbGwgcGFubmluZ1xuICAgIGlmIChoYXNQYW5YICYmIGhhc1BhblkpIHtcbiAgICAgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9OT05FO1xuICAgIH1cblxuICAgIC8vIHBhbi14IE9SIHBhbi15XG4gICAgaWYgKGhhc1BhblggfHwgaGFzUGFuWSkge1xuICAgICAgICByZXR1cm4gaGFzUGFuWCA/IFRPVUNIX0FDVElPTl9QQU5fWCA6IFRPVUNIX0FDVElPTl9QQU5fWTtcbiAgICB9XG5cbiAgICAvLyBtYW5pcHVsYXRpb25cbiAgICBpZiAoaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTikpIHtcbiAgICAgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9NQU5JUFVMQVRJT047XG4gICAgfVxuXG4gICAgcmV0dXJuIFRPVUNIX0FDVElPTl9BVVRPO1xufVxuXG5mdW5jdGlvbiBnZXRUb3VjaEFjdGlvblByb3BzKCkge1xuICAgIGlmICghTkFUSVZFX1RPVUNIX0FDVElPTikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciB0b3VjaE1hcCA9IHt9O1xuICAgIHZhciBjc3NTdXBwb3J0cyA9IHdpbmRvdy5DU1MgJiYgd2luZG93LkNTUy5zdXBwb3J0cztcbiAgICBbJ2F1dG8nLCAnbWFuaXB1bGF0aW9uJywgJ3Bhbi15JywgJ3Bhbi14JywgJ3Bhbi14IHBhbi15JywgJ25vbmUnXS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCkge1xuXG4gICAgICAgIC8vIElmIGNzcy5zdXBwb3J0cyBpcyBub3Qgc3VwcG9ydGVkIGJ1dCB0aGVyZSBpcyBuYXRpdmUgdG91Y2gtYWN0aW9uIGFzc3VtZSBpdCBzdXBwb3J0c1xuICAgICAgICAvLyBhbGwgdmFsdWVzLiBUaGlzIGlzIHRoZSBjYXNlIGZvciBJRSAxMCBhbmQgMTEuXG4gICAgICAgIHRvdWNoTWFwW3ZhbF0gPSBjc3NTdXBwb3J0cyA/IHdpbmRvdy5DU1Muc3VwcG9ydHMoJ3RvdWNoLWFjdGlvbicsIHZhbCkgOiB0cnVlO1xuICAgIH0pO1xuICAgIHJldHVybiB0b3VjaE1hcDtcbn1cblxuLyoqXG4gKiBSZWNvZ25pemVyIGZsb3cgZXhwbGFpbmVkOyAqXG4gKiBBbGwgcmVjb2duaXplcnMgaGF2ZSB0aGUgaW5pdGlhbCBzdGF0ZSBvZiBQT1NTSUJMRSB3aGVuIGEgaW5wdXQgc2Vzc2lvbiBzdGFydHMuXG4gKiBUaGUgZGVmaW5pdGlvbiBvZiBhIGlucHV0IHNlc3Npb24gaXMgZnJvbSB0aGUgZmlyc3QgaW5wdXQgdW50aWwgdGhlIGxhc3QgaW5wdXQsIHdpdGggYWxsIGl0J3MgbW92ZW1lbnQgaW4gaXQuICpcbiAqIEV4YW1wbGUgc2Vzc2lvbiBmb3IgbW91c2UtaW5wdXQ6IG1vdXNlZG93biAtPiBtb3VzZW1vdmUgLT4gbW91c2V1cFxuICpcbiAqIE9uIGVhY2ggcmVjb2duaXppbmcgY3ljbGUgKHNlZSBNYW5hZ2VyLnJlY29nbml6ZSkgdGhlIC5yZWNvZ25pemUoKSBtZXRob2QgaXMgZXhlY3V0ZWRcbiAqIHdoaWNoIGRldGVybWluZXMgd2l0aCBzdGF0ZSBpdCBzaG91bGQgYmUuXG4gKlxuICogSWYgdGhlIHJlY29nbml6ZXIgaGFzIHRoZSBzdGF0ZSBGQUlMRUQsIENBTkNFTExFRCBvciBSRUNPR05JWkVEIChlcXVhbHMgRU5ERUQpLCBpdCBpcyByZXNldCB0b1xuICogUE9TU0lCTEUgdG8gZ2l2ZSBpdCBhbm90aGVyIGNoYW5nZSBvbiB0aGUgbmV4dCBjeWNsZS5cbiAqXG4gKiAgICAgICAgICAgICAgIFBvc3NpYmxlXG4gKiAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgICAgICAgKy0tLS0tKy0tLS0tLS0tLS0tLS0tLStcbiAqICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgKy0tLS0tKy0tLS0tKyAgICAgICAgICAgICAgIHxcbiAqICAgICAgfCAgICAgICAgICAgfCAgICAgICAgICAgICAgIHxcbiAqICAgRmFpbGVkICAgICAgQ2FuY2VsbGVkICAgICAgICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICArLS0tLS0tLSstLS0tLS0rXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgICAgICAgICAgUmVjb2duaXplZCAgICAgICBCZWdhblxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGFuZ2VkXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRW5kZWQvUmVjb2duaXplZFxuICovXG52YXIgU1RBVEVfUE9TU0lCTEUgPSAxO1xudmFyIFNUQVRFX0JFR0FOID0gMjtcbnZhciBTVEFURV9DSEFOR0VEID0gNDtcbnZhciBTVEFURV9FTkRFRCA9IDg7XG52YXIgU1RBVEVfUkVDT0dOSVpFRCA9IFNUQVRFX0VOREVEO1xudmFyIFNUQVRFX0NBTkNFTExFRCA9IDE2O1xudmFyIFNUQVRFX0ZBSUxFRCA9IDMyO1xuXG4vKipcbiAqIFJlY29nbml6ZXJcbiAqIEV2ZXJ5IHJlY29nbml6ZXIgbmVlZHMgdG8gZXh0ZW5kIGZyb20gdGhpcyBjbGFzcy5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqL1xuZnVuY3Rpb24gUmVjb2duaXplcihvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRzLCBvcHRpb25zIHx8IHt9KTtcblxuICAgIHRoaXMuaWQgPSB1bmlxdWVJZCgpO1xuXG4gICAgdGhpcy5tYW5hZ2VyID0gbnVsbDtcblxuICAgIC8vIGRlZmF1bHQgaXMgZW5hYmxlIHRydWVcbiAgICB0aGlzLm9wdGlvbnMuZW5hYmxlID0gaWZVbmRlZmluZWQodGhpcy5vcHRpb25zLmVuYWJsZSwgdHJ1ZSk7XG5cbiAgICB0aGlzLnN0YXRlID0gU1RBVEVfUE9TU0lCTEU7XG5cbiAgICB0aGlzLnNpbXVsdGFuZW91cyA9IHt9O1xuICAgIHRoaXMucmVxdWlyZUZhaWwgPSBbXTtcbn1cblxuUmVjb2duaXplci5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogQHZpcnR1YWxcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7fSxcblxuICAgIC8qKlxuICAgICAqIHNldCBvcHRpb25zXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHtSZWNvZ25pemVyfVxuICAgICAqL1xuICAgIHNldDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICBhc3NpZ24odGhpcy5vcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICAvLyBhbHNvIHVwZGF0ZSB0aGUgdG91Y2hBY3Rpb24sIGluIGNhc2Ugc29tZXRoaW5nIGNoYW5nZWQgYWJvdXQgdGhlIGRpcmVjdGlvbnMvZW5hYmxlZCBzdGF0ZVxuICAgICAgICB0aGlzLm1hbmFnZXIgJiYgdGhpcy5tYW5hZ2VyLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVjb2duaXplIHNpbXVsdGFuZW91cyB3aXRoIGFuIG90aGVyIHJlY29nbml6ZXIuXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuICAgICAqL1xuICAgIHJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAncmVjb2duaXplV2l0aCcsIHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzaW11bHRhbmVvdXMgPSB0aGlzLnNpbXVsdGFuZW91cztcbiAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuICAgICAgICBpZiAoIXNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdKSB7XG4gICAgICAgICAgICBzaW11bHRhbmVvdXNbb3RoZXJSZWNvZ25pemVyLmlkXSA9IG90aGVyUmVjb2duaXplcjtcbiAgICAgICAgICAgIG90aGVyUmVjb2duaXplci5yZWNvZ25pemVXaXRoKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBkcm9wIHRoZSBzaW11bHRhbmVvdXMgbGluay4gaXQgZG9lc250IHJlbW92ZSB0aGUgbGluayBvbiB0aGUgb3RoZXIgcmVjb2duaXplci5cbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfSB0aGlzXG4gICAgICovXG4gICAgZHJvcFJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAnZHJvcFJlY29nbml6ZVdpdGgnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVjb2duaXplciBjYW4gb25seSBydW4gd2hlbiBhbiBvdGhlciBpcyBmYWlsaW5nXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuICAgICAqL1xuICAgIHJlcXVpcmVGYWlsdXJlOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ3JlcXVpcmVGYWlsdXJlJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlcXVpcmVGYWlsID0gdGhpcy5yZXF1aXJlRmFpbDtcbiAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuICAgICAgICBpZiAoaW5BcnJheShyZXF1aXJlRmFpbCwgb3RoZXJSZWNvZ25pemVyKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJlcXVpcmVGYWlsLnB1c2gob3RoZXJSZWNvZ25pemVyKTtcbiAgICAgICAgICAgIG90aGVyUmVjb2duaXplci5yZXF1aXJlRmFpbHVyZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZHJvcCB0aGUgcmVxdWlyZUZhaWx1cmUgbGluay4gaXQgZG9lcyBub3QgcmVtb3ZlIHRoZSBsaW5rIG9uIHRoZSBvdGhlciByZWNvZ25pemVyLlxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICBkcm9wUmVxdWlyZUZhaWx1cmU6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAnZHJvcFJlcXVpcmVGYWlsdXJlJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuICAgICAgICB2YXIgaW5kZXggPSBpbkFycmF5KHRoaXMucmVxdWlyZUZhaWwsIG90aGVyUmVjb2duaXplcik7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLnJlcXVpcmVGYWlsLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGhhcyByZXF1aXJlIGZhaWx1cmVzIGJvb2xlYW5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBoYXNSZXF1aXJlRmFpbHVyZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1aXJlRmFpbC5sZW5ndGggPiAwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBpZiB0aGUgcmVjb2duaXplciBjYW4gcmVjb2duaXplIHNpbXVsdGFuZW91cyB3aXRoIGFuIG90aGVyIHJlY29nbml6ZXJcbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqL1xuICAgIGNhblJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICByZXR1cm4gISF0aGlzLnNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBZb3Ugc2hvdWxkIHVzZSBgdHJ5RW1pdGAgaW5zdGVhZCBvZiBgZW1pdGAgZGlyZWN0bHkgdG8gY2hlY2tcbiAgICAgKiB0aGF0IGFsbCB0aGUgbmVlZGVkIHJlY29nbml6ZXJzIGhhcyBmYWlsZWQgYmVmb3JlIGVtaXR0aW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqL1xuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcblxuICAgICAgICBmdW5jdGlvbiBlbWl0KGV2ZW50KSB7XG4gICAgICAgICAgICBzZWxmLm1hbmFnZXIuZW1pdChldmVudCwgaW5wdXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gJ3BhbnN0YXJ0JyBhbmQgJ3Bhbm1vdmUnXG4gICAgICAgIGlmIChzdGF0ZSA8IFNUQVRFX0VOREVEKSB7XG4gICAgICAgICAgICBlbWl0KHNlbGYub3B0aW9ucy5ldmVudCArIHN0YXRlU3RyKHN0YXRlKSk7XG4gICAgICAgIH1cblxuICAgICAgICBlbWl0KHNlbGYub3B0aW9ucy5ldmVudCk7IC8vIHNpbXBsZSAnZXZlbnROYW1lJyBldmVudHNcblxuICAgICAgICBpZiAoaW5wdXQuYWRkaXRpb25hbEV2ZW50KSB7IC8vIGFkZGl0aW9uYWwgZXZlbnQocGFubGVmdCwgcGFucmlnaHQsIHBpbmNoaW4sIHBpbmNob3V0Li4uKVxuICAgICAgICAgICAgZW1pdChpbnB1dC5hZGRpdGlvbmFsRXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcGFuZW5kIGFuZCBwYW5jYW5jZWxcbiAgICAgICAgaWYgKHN0YXRlID49IFNUQVRFX0VOREVEKSB7XG4gICAgICAgICAgICBlbWl0KHNlbGYub3B0aW9ucy5ldmVudCArIHN0YXRlU3RyKHN0YXRlKSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgdGhhdCBhbGwgdGhlIHJlcXVpcmUgZmFpbHVyZSByZWNvZ25pemVycyBoYXMgZmFpbGVkLFxuICAgICAqIGlmIHRydWUsIGl0IGVtaXRzIGEgZ2VzdHVyZSBldmVudCxcbiAgICAgKiBvdGhlcndpc2UsIHNldHVwIHRoZSBzdGF0ZSB0byBGQUlMRUQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICovXG4gICAgdHJ5RW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuRW1pdCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbWl0KGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpdCdzIGZhaWxpbmcgYW55d2F5XG4gICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9GQUlMRUQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNhbiB3ZSBlbWl0P1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGNhbkVtaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgdGhpcy5yZXF1aXJlRmFpbC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICghKHRoaXMucmVxdWlyZUZhaWxbaV0uc3RhdGUgJiAoU1RBVEVfRkFJTEVEIHwgU1RBVEVfUE9TU0lCTEUpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdXBkYXRlIHRoZSByZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuICAgICAqL1xuICAgIHJlY29nbml6ZTogZnVuY3Rpb24oaW5wdXREYXRhKSB7XG4gICAgICAgIC8vIG1ha2UgYSBuZXcgY29weSBvZiB0aGUgaW5wdXREYXRhXG4gICAgICAgIC8vIHNvIHdlIGNhbiBjaGFuZ2UgdGhlIGlucHV0RGF0YSB3aXRob3V0IG1lc3NpbmcgdXAgdGhlIG90aGVyIHJlY29nbml6ZXJzXG4gICAgICAgIHZhciBpbnB1dERhdGFDbG9uZSA9IGFzc2lnbih7fSwgaW5wdXREYXRhKTtcblxuICAgICAgICAvLyBpcyBpcyBlbmFibGVkIGFuZCBhbGxvdyByZWNvZ25pemluZz9cbiAgICAgICAgaWYgKCFib29sT3JGbih0aGlzLm9wdGlvbnMuZW5hYmxlLCBbdGhpcywgaW5wdXREYXRhQ2xvbmVdKSkge1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX0ZBSUxFRDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlc2V0IHdoZW4gd2UndmUgcmVhY2hlZCB0aGUgZW5kXG4gICAgICAgIGlmICh0aGlzLnN0YXRlICYgKFNUQVRFX1JFQ09HTklaRUQgfCBTVEFURV9DQU5DRUxMRUQgfCBTVEFURV9GQUlMRUQpKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfUE9TU0lCTEU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy5wcm9jZXNzKGlucHV0RGF0YUNsb25lKTtcblxuICAgICAgICAvLyB0aGUgcmVjb2duaXplciBoYXMgcmVjb2duaXplZCBhIGdlc3R1cmVcbiAgICAgICAgLy8gc28gdHJpZ2dlciBhbiBldmVudFxuICAgICAgICBpZiAodGhpcy5zdGF0ZSAmIChTVEFURV9CRUdBTiB8IFNUQVRFX0NIQU5HRUQgfCBTVEFURV9FTkRFRCB8IFNUQVRFX0NBTkNFTExFRCkpIHtcbiAgICAgICAgICAgIHRoaXMudHJ5RW1pdChpbnB1dERhdGFDbG9uZSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIHRoZSBzdGF0ZSBvZiB0aGUgcmVjb2duaXplclxuICAgICAqIHRoZSBhY3R1YWwgcmVjb2duaXppbmcgaGFwcGVucyBpbiB0aGlzIG1ldGhvZFxuICAgICAqIEB2aXJ0dWFsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuICAgICAqIEByZXR1cm5zIHtDb25zdH0gU1RBVEVcbiAgICAgKi9cbiAgICBwcm9jZXNzOiBmdW5jdGlvbihpbnB1dERhdGEpIHsgfSwgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbiAgICAvKipcbiAgICAgKiByZXR1cm4gdGhlIHByZWZlcnJlZCB0b3VjaC1hY3Rpb25cbiAgICAgKiBAdmlydHVhbFxuICAgICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICAgKi9cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7IH0sXG5cbiAgICAvKipcbiAgICAgKiBjYWxsZWQgd2hlbiB0aGUgZ2VzdHVyZSBpc24ndCBhbGxvd2VkIHRvIHJlY29nbml6ZVxuICAgICAqIGxpa2Ugd2hlbiBhbm90aGVyIGlzIGJlaW5nIHJlY29nbml6ZWQgb3IgaXQgaXMgZGlzYWJsZWRcbiAgICAgKiBAdmlydHVhbFxuICAgICAqL1xuICAgIHJlc2V0OiBmdW5jdGlvbigpIHsgfVxufTtcblxuLyoqXG4gKiBnZXQgYSB1c2FibGUgc3RyaW5nLCB1c2VkIGFzIGV2ZW50IHBvc3RmaXhcbiAqIEBwYXJhbSB7Q29uc3R9IHN0YXRlXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdGF0ZVxuICovXG5mdW5jdGlvbiBzdGF0ZVN0cihzdGF0ZSkge1xuICAgIGlmIChzdGF0ZSAmIFNUQVRFX0NBTkNFTExFRCkge1xuICAgICAgICByZXR1cm4gJ2NhbmNlbCc7XG4gICAgfSBlbHNlIGlmIChzdGF0ZSAmIFNUQVRFX0VOREVEKSB7XG4gICAgICAgIHJldHVybiAnZW5kJztcbiAgICB9IGVsc2UgaWYgKHN0YXRlICYgU1RBVEVfQ0hBTkdFRCkge1xuICAgICAgICByZXR1cm4gJ21vdmUnO1xuICAgIH0gZWxzZSBpZiAoc3RhdGUgJiBTVEFURV9CRUdBTikge1xuICAgICAgICByZXR1cm4gJ3N0YXJ0JztcbiAgICB9XG4gICAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIGRpcmVjdGlvbiBjb25zIHRvIHN0cmluZ1xuICogQHBhcmFtIHtDb25zdH0gZGlyZWN0aW9uXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICovXG5mdW5jdGlvbiBkaXJlY3Rpb25TdHIoZGlyZWN0aW9uKSB7XG4gICAgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fRE9XTikge1xuICAgICAgICByZXR1cm4gJ2Rvd24nO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9VUCkge1xuICAgICAgICByZXR1cm4gJ3VwJztcbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fTEVGVCkge1xuICAgICAgICByZXR1cm4gJ2xlZnQnO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9SSUdIVCkge1xuICAgICAgICByZXR1cm4gJ3JpZ2h0JztcbiAgICB9XG4gICAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIGdldCBhIHJlY29nbml6ZXIgYnkgbmFtZSBpZiBpdCBpcyBib3VuZCB0byBhIG1hbmFnZXJcbiAqIEBwYXJhbSB7UmVjb2duaXplcnxTdHJpbmd9IG90aGVyUmVjb2duaXplclxuICogQHBhcmFtIHtSZWNvZ25pemVyfSByZWNvZ25pemVyXG4gKiBAcmV0dXJucyB7UmVjb2duaXplcn1cbiAqL1xuZnVuY3Rpb24gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHJlY29nbml6ZXIpIHtcbiAgICB2YXIgbWFuYWdlciA9IHJlY29nbml6ZXIubWFuYWdlcjtcbiAgICBpZiAobWFuYWdlcikge1xuICAgICAgICByZXR1cm4gbWFuYWdlci5nZXQob3RoZXJSZWNvZ25pemVyKTtcbiAgICB9XG4gICAgcmV0dXJuIG90aGVyUmVjb2duaXplcjtcbn1cblxuLyoqXG4gKiBUaGlzIHJlY29nbml6ZXIgaXMganVzdCB1c2VkIGFzIGEgYmFzZSBmb3IgdGhlIHNpbXBsZSBhdHRyaWJ1dGUgcmVjb2duaXplcnMuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIFJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gQXR0clJlY29nbml6ZXIoKSB7XG4gICAgUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KEF0dHJSZWNvZ25pemVyLCBSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBBdHRyUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBwb2ludGVyczogMVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGNoZWNrIGlmIGl0IHRoZSByZWNvZ25pemVyIHJlY2VpdmVzIHZhbGlkIGlucHV0LCBsaWtlIGlucHV0LmRpc3RhbmNlID4gMTAuXG4gICAgICogQG1lbWJlcm9mIEF0dHJSZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IHJlY29nbml6ZWRcbiAgICAgKi9cbiAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIG9wdGlvblBvaW50ZXJzID0gdGhpcy5vcHRpb25zLnBvaW50ZXJzO1xuICAgICAgICByZXR1cm4gb3B0aW9uUG9pbnRlcnMgPT09IDAgfHwgaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25Qb2ludGVycztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUHJvY2VzcyB0aGUgaW5wdXQgYW5kIHJldHVybiB0aGUgc3RhdGUgZm9yIHRoZSByZWNvZ25pemVyXG4gICAgICogQG1lbWJlcm9mIEF0dHJSZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICogQHJldHVybnMgeyp9IFN0YXRlXG4gICAgICovXG4gICAgcHJvY2VzczogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgdmFyIGV2ZW50VHlwZSA9IGlucHV0LmV2ZW50VHlwZTtcblxuICAgICAgICB2YXIgaXNSZWNvZ25pemVkID0gc3RhdGUgJiAoU1RBVEVfQkVHQU4gfCBTVEFURV9DSEFOR0VEKTtcbiAgICAgICAgdmFyIGlzVmFsaWQgPSB0aGlzLmF0dHJUZXN0KGlucHV0KTtcblxuICAgICAgICAvLyBvbiBjYW5jZWwgaW5wdXQgYW5kIHdlJ3ZlIHJlY29nbml6ZWQgYmVmb3JlLCByZXR1cm4gU1RBVEVfQ0FOQ0VMTEVEXG4gICAgICAgIGlmIChpc1JlY29nbml6ZWQgJiYgKGV2ZW50VHlwZSAmIElOUFVUX0NBTkNFTCB8fCAhaXNWYWxpZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZSB8IFNUQVRFX0NBTkNFTExFRDtcbiAgICAgICAgfSBlbHNlIGlmIChpc1JlY29nbml6ZWQgfHwgaXNWYWxpZCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX0VORCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZSB8IFNUQVRFX0VOREVEO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghKHN0YXRlICYgU1RBVEVfQkVHQU4pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFNUQVRFX0JFR0FOO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlIHwgU1RBVEVfQ0hBTkdFRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIFBhblxuICogUmVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvd24gYW5kIG1vdmVkIGluIHRoZSBhbGxvd2VkIGRpcmVjdGlvbi5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gUGFuUmVjb2duaXplcigpIHtcbiAgICBBdHRyUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdGhpcy5wWCA9IG51bGw7XG4gICAgdGhpcy5wWSA9IG51bGw7XG59XG5cbmluaGVyaXQoUGFuUmVjb2duaXplciwgQXR0clJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFBhblJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3BhbicsXG4gICAgICAgIHRocmVzaG9sZDogMTAsXG4gICAgICAgIHBvaW50ZXJzOiAxLFxuICAgICAgICBkaXJlY3Rpb246IERJUkVDVElPTl9BTExcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5vcHRpb25zLmRpcmVjdGlvbjtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSBbXTtcbiAgICAgICAgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnB1c2goVE9VQ0hfQUNUSU9OX1BBTl9ZKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlyZWN0aW9uICYgRElSRUNUSU9OX1ZFUlRJQ0FMKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnB1c2goVE9VQ0hfQUNUSU9OX1BBTl9YKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWN0aW9ucztcbiAgICB9LFxuXG4gICAgZGlyZWN0aW9uVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHZhciBoYXNNb3ZlZCA9IHRydWU7XG4gICAgICAgIHZhciBkaXN0YW5jZSA9IGlucHV0LmRpc3RhbmNlO1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gaW5wdXQuZGlyZWN0aW9uO1xuICAgICAgICB2YXIgeCA9IGlucHV0LmRlbHRhWDtcbiAgICAgICAgdmFyIHkgPSBpbnB1dC5kZWx0YVk7XG5cbiAgICAgICAgLy8gbG9jayB0byBheGlzP1xuICAgICAgICBpZiAoIShkaXJlY3Rpb24gJiBvcHRpb25zLmRpcmVjdGlvbikpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB7XG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gKHggPT09IDApID8gRElSRUNUSU9OX05PTkUgOiAoeCA8IDApID8gRElSRUNUSU9OX0xFRlQgOiBESVJFQ1RJT05fUklHSFQ7XG4gICAgICAgICAgICAgICAgaGFzTW92ZWQgPSB4ICE9IHRoaXMucFg7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBNYXRoLmFicyhpbnB1dC5kZWx0YVgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAoeSA9PT0gMCkgPyBESVJFQ1RJT05fTk9ORSA6ICh5IDwgMCkgPyBESVJFQ1RJT05fVVAgOiBESVJFQ1RJT05fRE9XTjtcbiAgICAgICAgICAgICAgICBoYXNNb3ZlZCA9IHkgIT0gdGhpcy5wWTtcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IE1hdGguYWJzKGlucHV0LmRlbHRhWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaW5wdXQuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuICAgICAgICByZXR1cm4gaGFzTW92ZWQgJiYgZGlzdGFuY2UgPiBvcHRpb25zLnRocmVzaG9sZCAmJiBkaXJlY3Rpb24gJiBvcHRpb25zLmRpcmVjdGlvbjtcbiAgICB9LFxuXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBBdHRyUmVjb2duaXplci5wcm90b3R5cGUuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiZcbiAgICAgICAgICAgICh0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4gfHwgKCEodGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOKSAmJiB0aGlzLmRpcmVjdGlvblRlc3QoaW5wdXQpKSk7XG4gICAgfSxcblxuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG5cbiAgICAgICAgdGhpcy5wWCA9IGlucHV0LmRlbHRhWDtcbiAgICAgICAgdGhpcy5wWSA9IGlucHV0LmRlbHRhWTtcblxuICAgICAgICB2YXIgZGlyZWN0aW9uID0gZGlyZWN0aW9uU3RyKGlucHV0LmRpcmVjdGlvbik7XG5cbiAgICAgICAgaWYgKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgaW5wdXQuYWRkaXRpb25hbEV2ZW50ID0gdGhpcy5vcHRpb25zLmV2ZW50ICsgZGlyZWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N1cGVyLmVtaXQuY2FsbCh0aGlzLCBpbnB1dCk7XG4gICAgfVxufSk7XG5cbi8qKlxuICogUGluY2hcbiAqIFJlY29nbml6ZWQgd2hlbiB0d28gb3IgbW9yZSBwb2ludGVycyBhcmUgbW92aW5nIHRvd2FyZCAoem9vbS1pbikgb3IgYXdheSBmcm9tIGVhY2ggb3RoZXIgKHpvb20tb3V0KS5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gUGluY2hSZWNvZ25pemVyKCkge1xuICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoUGluY2hSZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgUGluY2hSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICdwaW5jaCcsXG4gICAgICAgIHRocmVzaG9sZDogMCxcbiAgICAgICAgcG9pbnRlcnM6IDJcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9OT05FXTtcbiAgICB9LFxuXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJlxuICAgICAgICAgICAgKE1hdGguYWJzKGlucHV0LnNjYWxlIC0gMSkgPiB0aGlzLm9wdGlvbnMudGhyZXNob2xkIHx8IHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTik7XG4gICAgfSxcblxuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIGlmIChpbnB1dC5zY2FsZSAhPT0gMSkge1xuICAgICAgICAgICAgdmFyIGluT3V0ID0gaW5wdXQuc2NhbGUgPCAxID8gJ2luJyA6ICdvdXQnO1xuICAgICAgICAgICAgaW5wdXQuYWRkaXRpb25hbEV2ZW50ID0gdGhpcy5vcHRpb25zLmV2ZW50ICsgaW5PdXQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3VwZXIuZW1pdC5jYWxsKHRoaXMsIGlucHV0KTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBQcmVzc1xuICogUmVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvd24gZm9yIHggbXMgd2l0aG91dCBhbnkgbW92ZW1lbnQuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIFJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gUHJlc3NSZWNvZ25pemVyKCkge1xuICAgIFJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIHRoaXMuX3RpbWVyID0gbnVsbDtcbiAgICB0aGlzLl9pbnB1dCA9IG51bGw7XG59XG5cbmluaGVyaXQoUHJlc3NSZWNvZ25pemVyLCBSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBQcmVzc1JlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3ByZXNzJyxcbiAgICAgICAgcG9pbnRlcnM6IDEsXG4gICAgICAgIHRpbWU6IDI1MSwgLy8gbWluaW1hbCB0aW1lIG9mIHRoZSBwb2ludGVyIHRvIGJlIHByZXNzZWRcbiAgICAgICAgdGhyZXNob2xkOiA5IC8vIGEgbWluaW1hbCBtb3ZlbWVudCBpcyBvaywgYnV0IGtlZXAgaXQgbG93XG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFtUT1VDSF9BQ1RJT05fQVVUT107XG4gICAgfSxcblxuICAgIHByb2Nlc3M6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICB2YXIgdmFsaWRQb2ludGVycyA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA9PT0gb3B0aW9ucy5wb2ludGVycztcbiAgICAgICAgdmFyIHZhbGlkTW92ZW1lbnQgPSBpbnB1dC5kaXN0YW5jZSA8IG9wdGlvbnMudGhyZXNob2xkO1xuICAgICAgICB2YXIgdmFsaWRUaW1lID0gaW5wdXQuZGVsdGFUaW1lID4gb3B0aW9ucy50aW1lO1xuXG4gICAgICAgIHRoaXMuX2lucHV0ID0gaW5wdXQ7XG5cbiAgICAgICAgLy8gd2Ugb25seSBhbGxvdyBsaXR0bGUgbW92ZW1lbnRcbiAgICAgICAgLy8gYW5kIHdlJ3ZlIHJlYWNoZWQgYW4gZW5kIGV2ZW50LCBzbyBhIHRhcCBpcyBwb3NzaWJsZVxuICAgICAgICBpZiAoIXZhbGlkTW92ZW1lbnQgfHwgIXZhbGlkUG9pbnRlcnMgfHwgKGlucHV0LmV2ZW50VHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpICYmICF2YWxpZFRpbWUpKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dENvbnRleHQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX1JFQ09HTklaRUQ7XG4gICAgICAgICAgICAgICAgdGhpcy50cnlFbWl0KCk7XG4gICAgICAgICAgICB9LCBvcHRpb25zLnRpbWUsIHRoaXMpO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX0VORCkge1xuICAgICAgICAgICAgcmV0dXJuIFNUQVRFX1JFQ09HTklaRUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFNUQVRFX0ZBSUxFRDtcbiAgICB9LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpO1xuICAgIH0sXG5cbiAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gU1RBVEVfUkVDT0dOSVpFRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlucHV0ICYmIChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9FTkQpKSB7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQgKyAndXAnLCBpbnB1dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9pbnB1dC50aW1lU3RhbXAgPSBub3coKTtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgdGhpcy5faW5wdXQpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbi8qKlxuICogUm90YXRlXG4gKiBSZWNvZ25pemVkIHdoZW4gdHdvIG9yIG1vcmUgcG9pbnRlciBhcmUgbW92aW5nIGluIGEgY2lyY3VsYXIgbW90aW9uLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplclxuICovXG5mdW5jdGlvbiBSb3RhdGVSZWNvZ25pemVyKCkge1xuICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoUm90YXRlUmVjb2duaXplciwgQXR0clJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFJvdGF0ZVJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3JvdGF0ZScsXG4gICAgICAgIHRocmVzaG9sZDogMCxcbiAgICAgICAgcG9pbnRlcnM6IDJcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9OT05FXTtcbiAgICB9LFxuXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJlxuICAgICAgICAgICAgKE1hdGguYWJzKGlucHV0LnJvdGF0aW9uKSA+IHRoaXMub3B0aW9ucy50aHJlc2hvbGQgfHwgdGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOKTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBTd2lwZVxuICogUmVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIG1vdmluZyBmYXN0ICh2ZWxvY2l0eSksIHdpdGggZW5vdWdoIGRpc3RhbmNlIGluIHRoZSBhbGxvd2VkIGRpcmVjdGlvbi5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gU3dpcGVSZWNvZ25pemVyKCkge1xuICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoU3dpcGVSZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgU3dpcGVSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICdzd2lwZScsXG4gICAgICAgIHRocmVzaG9sZDogMTAsXG4gICAgICAgIHZlbG9jaXR5OiAwLjMsXG4gICAgICAgIGRpcmVjdGlvbjogRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUwsXG4gICAgICAgIHBvaW50ZXJzOiAxXG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFBhblJlY29nbml6ZXIucHJvdG90eXBlLmdldFRvdWNoQWN0aW9uLmNhbGwodGhpcyk7XG4gICAgfSxcblxuICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5vcHRpb25zLmRpcmVjdGlvbjtcbiAgICAgICAgdmFyIHZlbG9jaXR5O1xuXG4gICAgICAgIGlmIChkaXJlY3Rpb24gJiAoRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUwpKSB7XG4gICAgICAgICAgICB2ZWxvY2l0eSA9IGlucHV0Lm92ZXJhbGxWZWxvY2l0eTtcbiAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkge1xuICAgICAgICAgICAgdmVsb2NpdHkgPSBpbnB1dC5vdmVyYWxsVmVsb2NpdHlYO1xuICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9WRVJUSUNBTCkge1xuICAgICAgICAgICAgdmVsb2NpdHkgPSBpbnB1dC5vdmVyYWxsVmVsb2NpdHlZO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmXG4gICAgICAgICAgICBkaXJlY3Rpb24gJiBpbnB1dC5vZmZzZXREaXJlY3Rpb24gJiZcbiAgICAgICAgICAgIGlucHV0LmRpc3RhbmNlID4gdGhpcy5vcHRpb25zLnRocmVzaG9sZCAmJlxuICAgICAgICAgICAgaW5wdXQubWF4UG9pbnRlcnMgPT0gdGhpcy5vcHRpb25zLnBvaW50ZXJzICYmXG4gICAgICAgICAgICBhYnModmVsb2NpdHkpID4gdGhpcy5vcHRpb25zLnZlbG9jaXR5ICYmIGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX0VORDtcbiAgICB9LFxuXG4gICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGRpcmVjdGlvblN0cihpbnB1dC5vZmZzZXREaXJlY3Rpb24pO1xuICAgICAgICBpZiAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQgKyBkaXJlY3Rpb24sIGlucHV0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgaW5wdXQpO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIEEgdGFwIGlzIGVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvaW5nIGEgc21hbGwgdGFwL2NsaWNrLiBNdWx0aXBsZSB0YXBzIGFyZSByZWNvZ25pemVkIGlmIHRoZXkgb2NjdXJcbiAqIGJldHdlZW4gdGhlIGdpdmVuIGludGVydmFsIGFuZCBwb3NpdGlvbi4gVGhlIGRlbGF5IG9wdGlvbiBjYW4gYmUgdXNlZCB0byByZWNvZ25pemUgbXVsdGktdGFwcyB3aXRob3V0IGZpcmluZ1xuICogYSBzaW5nbGUgdGFwLlxuICpcbiAqIFRoZSBldmVudERhdGEgZnJvbSB0aGUgZW1pdHRlZCBldmVudCBjb250YWlucyB0aGUgcHJvcGVydHkgYHRhcENvdW50YCwgd2hpY2ggY29udGFpbnMgdGhlIGFtb3VudCBvZlxuICogbXVsdGktdGFwcyBiZWluZyByZWNvZ25pemVkLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIFRhcFJlY29nbml6ZXIoKSB7XG4gICAgUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgLy8gcHJldmlvdXMgdGltZSBhbmQgY2VudGVyLFxuICAgIC8vIHVzZWQgZm9yIHRhcCBjb3VudGluZ1xuICAgIHRoaXMucFRpbWUgPSBmYWxzZTtcbiAgICB0aGlzLnBDZW50ZXIgPSBmYWxzZTtcblxuICAgIHRoaXMuX3RpbWVyID0gbnVsbDtcbiAgICB0aGlzLl9pbnB1dCA9IG51bGw7XG4gICAgdGhpcy5jb3VudCA9IDA7XG59XG5cbmluaGVyaXQoVGFwUmVjb2duaXplciwgUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgUGluY2hSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICd0YXAnLFxuICAgICAgICBwb2ludGVyczogMSxcbiAgICAgICAgdGFwczogMSxcbiAgICAgICAgaW50ZXJ2YWw6IDMwMCwgLy8gbWF4IHRpbWUgYmV0d2VlbiB0aGUgbXVsdGktdGFwIHRhcHNcbiAgICAgICAgdGltZTogMjUwLCAvLyBtYXggdGltZSBvZiB0aGUgcG9pbnRlciB0byBiZSBkb3duIChsaWtlIGZpbmdlciBvbiB0aGUgc2NyZWVuKVxuICAgICAgICB0aHJlc2hvbGQ6IDksIC8vIGEgbWluaW1hbCBtb3ZlbWVudCBpcyBvaywgYnV0IGtlZXAgaXQgbG93XG4gICAgICAgIHBvc1RocmVzaG9sZDogMTAgLy8gYSBtdWx0aS10YXAgY2FuIGJlIGEgYml0IG9mZiB0aGUgaW5pdGlhbCBwb3NpdGlvblxuICAgIH0sXG5cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTl07XG4gICAgfSxcblxuICAgIHByb2Nlc3M6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIHZhciB2YWxpZFBvaW50ZXJzID0gaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25zLnBvaW50ZXJzO1xuICAgICAgICB2YXIgdmFsaWRNb3ZlbWVudCA9IGlucHV0LmRpc3RhbmNlIDwgb3B0aW9ucy50aHJlc2hvbGQ7XG4gICAgICAgIHZhciB2YWxpZFRvdWNoVGltZSA9IGlucHV0LmRlbHRhVGltZSA8IG9wdGlvbnMudGltZTtcblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICAgICAgaWYgKChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9TVEFSVCkgJiYgKHRoaXMuY291bnQgPT09IDApKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mYWlsVGltZW91dCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2Ugb25seSBhbGxvdyBsaXR0bGUgbW92ZW1lbnRcbiAgICAgICAgLy8gYW5kIHdlJ3ZlIHJlYWNoZWQgYW4gZW5kIGV2ZW50LCBzbyBhIHRhcCBpcyBwb3NzaWJsZVxuICAgICAgICBpZiAodmFsaWRNb3ZlbWVudCAmJiB2YWxpZFRvdWNoVGltZSAmJiB2YWxpZFBvaW50ZXJzKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuZXZlbnRUeXBlICE9IElOUFVUX0VORCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZhaWxUaW1lb3V0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB2YWxpZEludGVydmFsID0gdGhpcy5wVGltZSA/IChpbnB1dC50aW1lU3RhbXAgLSB0aGlzLnBUaW1lIDwgb3B0aW9ucy5pbnRlcnZhbCkgOiB0cnVlO1xuICAgICAgICAgICAgdmFyIHZhbGlkTXVsdGlUYXAgPSAhdGhpcy5wQ2VudGVyIHx8IGdldERpc3RhbmNlKHRoaXMucENlbnRlciwgaW5wdXQuY2VudGVyKSA8IG9wdGlvbnMucG9zVGhyZXNob2xkO1xuXG4gICAgICAgICAgICB0aGlzLnBUaW1lID0gaW5wdXQudGltZVN0YW1wO1xuICAgICAgICAgICAgdGhpcy5wQ2VudGVyID0gaW5wdXQuY2VudGVyO1xuXG4gICAgICAgICAgICBpZiAoIXZhbGlkTXVsdGlUYXAgfHwgIXZhbGlkSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvdW50ID0gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudCArPSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9pbnB1dCA9IGlucHV0O1xuXG4gICAgICAgICAgICAvLyBpZiB0YXAgY291bnQgbWF0Y2hlcyB3ZSBoYXZlIHJlY29nbml6ZWQgaXQsXG4gICAgICAgICAgICAvLyBlbHNlIGl0IGhhcyBiZWdhbiByZWNvZ25pemluZy4uLlxuICAgICAgICAgICAgdmFyIHRhcENvdW50ID0gdGhpcy5jb3VudCAlIG9wdGlvbnMudGFwcztcbiAgICAgICAgICAgIGlmICh0YXBDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIG5vIGZhaWxpbmcgcmVxdWlyZW1lbnRzLCBpbW1lZGlhdGVseSB0cmlnZ2VyIHRoZSB0YXAgZXZlbnRcbiAgICAgICAgICAgICAgICAvLyBvciB3YWl0IGFzIGxvbmcgYXMgdGhlIG11bHRpdGFwIGludGVydmFsIHRvIHRyaWdnZXJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaGFzUmVxdWlyZUZhaWx1cmVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNUQVRFX1JFQ09HTklaRUQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0Q29udGV4dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9SRUNPR05JWkVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cnlFbWl0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMuaW50ZXJ2YWwsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1RBVEVfQkVHQU47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG4gICAgfSxcblxuICAgIGZhaWxUaW1lb3V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0Q29udGV4dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9GQUlMRUQ7XG4gICAgICAgIH0sIHRoaXMub3B0aW9ucy5pbnRlcnZhbCwgdGhpcyk7XG4gICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG4gICAgfSxcblxuICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKTtcbiAgICB9LFxuXG4gICAgZW1pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09IFNUQVRFX1JFQ09HTklaRUQpIHtcbiAgICAgICAgICAgIHRoaXMuX2lucHV0LnRhcENvdW50ID0gdGhpcy5jb3VudDtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgdGhpcy5faW5wdXQpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbi8qKlxuICogU2ltcGxlIHdheSB0byBjcmVhdGUgYSBtYW5hZ2VyIHdpdGggYSBkZWZhdWx0IHNldCBvZiByZWNvZ25pemVycy5cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBIYW1tZXIoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMucmVjb2duaXplcnMgPSBpZlVuZGVmaW5lZChvcHRpb25zLnJlY29nbml6ZXJzLCBIYW1tZXIuZGVmYXVsdHMucHJlc2V0KTtcbiAgICByZXR1cm4gbmV3IE1hbmFnZXIoZWxlbWVudCwgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogQGNvbnN0IHtzdHJpbmd9XG4gKi9cbkhhbW1lci5WRVJTSU9OID0gJzIuMC43JztcblxuLyoqXG4gKiBkZWZhdWx0IHNldHRpbmdzXG4gKiBAbmFtZXNwYWNlXG4gKi9cbkhhbW1lci5kZWZhdWx0cyA9IHtcbiAgICAvKipcbiAgICAgKiBzZXQgaWYgRE9NIGV2ZW50cyBhcmUgYmVpbmcgdHJpZ2dlcmVkLlxuICAgICAqIEJ1dCB0aGlzIGlzIHNsb3dlciBhbmQgdW51c2VkIGJ5IHNpbXBsZSBpbXBsZW1lbnRhdGlvbnMsIHNvIGRpc2FibGVkIGJ5IGRlZmF1bHQuXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBkb21FdmVudHM6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogVGhlIHZhbHVlIGZvciB0aGUgdG91Y2hBY3Rpb24gcHJvcGVydHkvZmFsbGJhY2suXG4gICAgICogV2hlbiBzZXQgdG8gYGNvbXB1dGVgIGl0IHdpbGwgbWFnaWNhbGx5IHNldCB0aGUgY29ycmVjdCB2YWx1ZSBiYXNlZCBvbiB0aGUgYWRkZWQgcmVjb2duaXplcnMuXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAZGVmYXVsdCBjb21wdXRlXG4gICAgICovXG4gICAgdG91Y2hBY3Rpb246IFRPVUNIX0FDVElPTl9DT01QVVRFLFxuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuICAgIGVuYWJsZTogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIEVYUEVSSU1FTlRBTCBGRUFUVVJFIC0tIGNhbiBiZSByZW1vdmVkL2NoYW5nZWRcbiAgICAgKiBDaGFuZ2UgdGhlIHBhcmVudCBpbnB1dCB0YXJnZXQgZWxlbWVudC5cbiAgICAgKiBJZiBOdWxsLCB0aGVuIGl0IGlzIGJlaW5nIHNldCB0aGUgdG8gbWFpbiBlbGVtZW50LlxuICAgICAqIEB0eXBlIHtOdWxsfEV2ZW50VGFyZ2V0fVxuICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgKi9cbiAgICBpbnB1dFRhcmdldDogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIGZvcmNlIGFuIGlucHV0IGNsYXNzXG4gICAgICogQHR5cGUge051bGx8RnVuY3Rpb259XG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuICAgIGlucHV0Q2xhc3M6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHJlY29nbml6ZXIgc2V0dXAgd2hlbiBjYWxsaW5nIGBIYW1tZXIoKWBcbiAgICAgKiBXaGVuIGNyZWF0aW5nIGEgbmV3IE1hbmFnZXIgdGhlc2Ugd2lsbCBiZSBza2lwcGVkLlxuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKi9cbiAgICBwcmVzZXQ6IFtcbiAgICAgICAgLy8gUmVjb2duaXplckNsYXNzLCBvcHRpb25zLCBbcmVjb2duaXplV2l0aCwgLi4uXSwgW3JlcXVpcmVGYWlsdXJlLCAuLi5dXG4gICAgICAgIFtSb3RhdGVSZWNvZ25pemVyLCB7ZW5hYmxlOiBmYWxzZX1dLFxuICAgICAgICBbUGluY2hSZWNvZ25pemVyLCB7ZW5hYmxlOiBmYWxzZX0sIFsncm90YXRlJ11dLFxuICAgICAgICBbU3dpcGVSZWNvZ25pemVyLCB7ZGlyZWN0aW9uOiBESVJFQ1RJT05fSE9SSVpPTlRBTH1dLFxuICAgICAgICBbUGFuUmVjb2duaXplciwge2RpcmVjdGlvbjogRElSRUNUSU9OX0hPUklaT05UQUx9LCBbJ3N3aXBlJ11dLFxuICAgICAgICBbVGFwUmVjb2duaXplcl0sXG4gICAgICAgIFtUYXBSZWNvZ25pemVyLCB7ZXZlbnQ6ICdkb3VibGV0YXAnLCB0YXBzOiAyfSwgWyd0YXAnXV0sXG4gICAgICAgIFtQcmVzc1JlY29nbml6ZXJdXG4gICAgXSxcblxuICAgIC8qKlxuICAgICAqIFNvbWUgQ1NTIHByb3BlcnRpZXMgY2FuIGJlIHVzZWQgdG8gaW1wcm92ZSB0aGUgd29ya2luZyBvZiBIYW1tZXIuXG4gICAgICogQWRkIHRoZW0gdG8gdGhpcyBtZXRob2QgYW5kIHRoZXkgd2lsbCBiZSBzZXQgd2hlbiBjcmVhdGluZyBhIG5ldyBNYW5hZ2VyLlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKi9cbiAgICBjc3NQcm9wczoge1xuICAgICAgICAvKipcbiAgICAgICAgICogRGlzYWJsZXMgdGV4dCBzZWxlY3Rpb24gdG8gaW1wcm92ZSB0aGUgZHJhZ2dpbmcgZ2VzdHVyZS4gTWFpbmx5IGZvciBkZXNrdG9wIGJyb3dzZXJzLlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAgICovXG4gICAgICAgIHVzZXJTZWxlY3Q6ICdub25lJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzYWJsZSB0aGUgV2luZG93cyBQaG9uZSBncmlwcGVycyB3aGVuIHByZXNzaW5nIGFuIGVsZW1lbnQuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuICAgICAgICAgKi9cbiAgICAgICAgdG91Y2hTZWxlY3Q6ICdub25lJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzYWJsZXMgdGhlIGRlZmF1bHQgY2FsbG91dCBzaG93biB3aGVuIHlvdSB0b3VjaCBhbmQgaG9sZCBhIHRvdWNoIHRhcmdldC5cbiAgICAgICAgICogT24gaU9TLCB3aGVuIHlvdSB0b3VjaCBhbmQgaG9sZCBhIHRvdWNoIHRhcmdldCBzdWNoIGFzIGEgbGluaywgU2FmYXJpIGRpc3BsYXlzXG4gICAgICAgICAqIGEgY2FsbG91dCBjb250YWluaW5nIGluZm9ybWF0aW9uIGFib3V0IHRoZSBsaW5rLiBUaGlzIHByb3BlcnR5IGFsbG93cyB5b3UgdG8gZGlzYWJsZSB0aGF0IGNhbGxvdXQuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuICAgICAgICAgKi9cbiAgICAgICAgdG91Y2hDYWxsb3V0OiAnbm9uZScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNwZWNpZmllcyB3aGV0aGVyIHpvb21pbmcgaXMgZW5hYmxlZC4gVXNlZCBieSBJRTEwPlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAgICovXG4gICAgICAgIGNvbnRlbnRab29taW5nOiAnbm9uZScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNwZWNpZmllcyB0aGF0IGFuIGVudGlyZSBlbGVtZW50IHNob3VsZCBiZSBkcmFnZ2FibGUgaW5zdGVhZCBvZiBpdHMgY29udGVudHMuIE1haW5seSBmb3IgZGVza3RvcCBicm93c2Vycy5cbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG4gICAgICAgICAqL1xuICAgICAgICB1c2VyRHJhZzogJ25vbmUnLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPdmVycmlkZXMgdGhlIGhpZ2hsaWdodCBjb2xvciBzaG93biB3aGVuIHRoZSB1c2VyIHRhcHMgYSBsaW5rIG9yIGEgSmF2YVNjcmlwdFxuICAgICAgICAgKiBjbGlja2FibGUgZWxlbWVudCBpbiBpT1MuIFRoaXMgcHJvcGVydHkgb2JleXMgdGhlIGFscGhhIHZhbHVlLCBpZiBzcGVjaWZpZWQuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdyZ2JhKDAsMCwwLDApJ1xuICAgICAgICAgKi9cbiAgICAgICAgdGFwSGlnaGxpZ2h0Q29sb3I6ICdyZ2JhKDAsMCwwLDApJ1xuICAgIH1cbn07XG5cbnZhciBTVE9QID0gMTtcbnZhciBGT1JDRURfU1RPUCA9IDI7XG5cbi8qKlxuICogTWFuYWdlclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIE1hbmFnZXIoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IGFzc2lnbih7fSwgSGFtbWVyLmRlZmF1bHRzLCBvcHRpb25zIHx8IHt9KTtcblxuICAgIHRoaXMub3B0aW9ucy5pbnB1dFRhcmdldCA9IHRoaXMub3B0aW9ucy5pbnB1dFRhcmdldCB8fCBlbGVtZW50O1xuXG4gICAgdGhpcy5oYW5kbGVycyA9IHt9O1xuICAgIHRoaXMuc2Vzc2lvbiA9IHt9O1xuICAgIHRoaXMucmVjb2duaXplcnMgPSBbXTtcbiAgICB0aGlzLm9sZENzc1Byb3BzID0ge307XG5cbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMuaW5wdXQgPSBjcmVhdGVJbnB1dEluc3RhbmNlKHRoaXMpO1xuICAgIHRoaXMudG91Y2hBY3Rpb24gPSBuZXcgVG91Y2hBY3Rpb24odGhpcywgdGhpcy5vcHRpb25zLnRvdWNoQWN0aW9uKTtcblxuICAgIHRvZ2dsZUNzc1Byb3BzKHRoaXMsIHRydWUpO1xuXG4gICAgZWFjaCh0aGlzLm9wdGlvbnMucmVjb2duaXplcnMsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgdmFyIHJlY29nbml6ZXIgPSB0aGlzLmFkZChuZXcgKGl0ZW1bMF0pKGl0ZW1bMV0pKTtcbiAgICAgICAgaXRlbVsyXSAmJiByZWNvZ25pemVyLnJlY29nbml6ZVdpdGgoaXRlbVsyXSk7XG4gICAgICAgIGl0ZW1bM10gJiYgcmVjb2duaXplci5yZXF1aXJlRmFpbHVyZShpdGVtWzNdKTtcbiAgICB9LCB0aGlzKTtcbn1cblxuTWFuYWdlci5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogc2V0IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHtNYW5hZ2VyfVxuICAgICAqL1xuICAgIHNldDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICBhc3NpZ24odGhpcy5vcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICAvLyBPcHRpb25zIHRoYXQgbmVlZCBhIGxpdHRsZSBtb3JlIHNldHVwXG4gICAgICAgIGlmIChvcHRpb25zLnRvdWNoQWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmlucHV0VGFyZ2V0KSB7XG4gICAgICAgICAgICAvLyBDbGVhbiB1cCBleGlzdGluZyBldmVudCBsaXN0ZW5lcnMgYW5kIHJlaW5pdGlhbGl6ZVxuICAgICAgICAgICAgdGhpcy5pbnB1dC5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLmlucHV0LnRhcmdldCA9IG9wdGlvbnMuaW5wdXRUYXJnZXQ7XG4gICAgICAgICAgICB0aGlzLmlucHV0LmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogc3RvcCByZWNvZ25pemluZyBmb3IgdGhpcyBzZXNzaW9uLlxuICAgICAqIFRoaXMgc2Vzc2lvbiB3aWxsIGJlIGRpc2NhcmRlZCwgd2hlbiBhIG5ldyBbaW5wdXRdc3RhcnQgZXZlbnQgaXMgZmlyZWQuXG4gICAgICogV2hlbiBmb3JjZWQsIHRoZSByZWNvZ25pemVyIGN5Y2xlIGlzIHN0b3BwZWQgaW1tZWRpYXRlbHkuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbZm9yY2VdXG4gICAgICovXG4gICAgc3RvcDogZnVuY3Rpb24oZm9yY2UpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnN0b3BwZWQgPSBmb3JjZSA/IEZPUkNFRF9TVE9QIDogU1RPUDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcnVuIHRoZSByZWNvZ25pemVycyFcbiAgICAgKiBjYWxsZWQgYnkgdGhlIGlucHV0SGFuZGxlciBmdW5jdGlvbiBvbiBldmVyeSBtb3ZlbWVudCBvZiB0aGUgcG9pbnRlcnMgKHRvdWNoZXMpXG4gICAgICogaXQgd2Fsa3MgdGhyb3VnaCBhbGwgdGhlIHJlY29nbml6ZXJzIGFuZCB0cmllcyB0byBkZXRlY3QgdGhlIGdlc3R1cmUgdGhhdCBpcyBiZWluZyBtYWRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuICAgICAqL1xuICAgIHJlY29nbml6ZTogZnVuY3Rpb24oaW5wdXREYXRhKSB7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5zZXNzaW9uO1xuICAgICAgICBpZiAoc2Vzc2lvbi5zdG9wcGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBydW4gdGhlIHRvdWNoLWFjdGlvbiBwb2x5ZmlsbFxuICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnByZXZlbnREZWZhdWx0cyhpbnB1dERhdGEpO1xuXG4gICAgICAgIHZhciByZWNvZ25pemVyO1xuICAgICAgICB2YXIgcmVjb2duaXplcnMgPSB0aGlzLnJlY29nbml6ZXJzO1xuXG4gICAgICAgIC8vIHRoaXMgaG9sZHMgdGhlIHJlY29nbml6ZXIgdGhhdCBpcyBiZWluZyByZWNvZ25pemVkLlxuICAgICAgICAvLyBzbyB0aGUgcmVjb2duaXplcidzIHN0YXRlIG5lZWRzIHRvIGJlIEJFR0FOLCBDSEFOR0VELCBFTkRFRCBvciBSRUNPR05JWkVEXG4gICAgICAgIC8vIGlmIG5vIHJlY29nbml6ZXIgaXMgZGV0ZWN0aW5nIGEgdGhpbmcsIGl0IGlzIHNldCB0byBgbnVsbGBcbiAgICAgICAgdmFyIGN1clJlY29nbml6ZXIgPSBzZXNzaW9uLmN1clJlY29nbml6ZXI7XG5cbiAgICAgICAgLy8gcmVzZXQgd2hlbiB0aGUgbGFzdCByZWNvZ25pemVyIGlzIHJlY29nbml6ZWRcbiAgICAgICAgLy8gb3Igd2hlbiB3ZSdyZSBpbiBhIG5ldyBzZXNzaW9uXG4gICAgICAgIGlmICghY3VyUmVjb2duaXplciB8fCAoY3VyUmVjb2duaXplciAmJiBjdXJSZWNvZ25pemVyLnN0YXRlICYgU1RBVEVfUkVDT0dOSVpFRCkpIHtcbiAgICAgICAgICAgIGN1clJlY29nbml6ZXIgPSBzZXNzaW9uLmN1clJlY29nbml6ZXIgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHJlY29nbml6ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmVjb2duaXplciA9IHJlY29nbml6ZXJzW2ldO1xuXG4gICAgICAgICAgICAvLyBmaW5kIG91dCBpZiB3ZSBhcmUgYWxsb3dlZCB0cnkgdG8gcmVjb2duaXplIHRoZSBpbnB1dCBmb3IgdGhpcyBvbmUuXG4gICAgICAgICAgICAvLyAxLiAgIGFsbG93IGlmIHRoZSBzZXNzaW9uIGlzIE5PVCBmb3JjZWQgc3RvcHBlZCAoc2VlIHRoZSAuc3RvcCgpIG1ldGhvZClcbiAgICAgICAgICAgIC8vIDIuICAgYWxsb3cgaWYgd2Ugc3RpbGwgaGF2ZW4ndCByZWNvZ25pemVkIGEgZ2VzdHVyZSBpbiB0aGlzIHNlc3Npb24sIG9yIHRoZSB0aGlzIHJlY29nbml6ZXIgaXMgdGhlIG9uZVxuICAgICAgICAgICAgLy8gICAgICB0aGF0IGlzIGJlaW5nIHJlY29nbml6ZWQuXG4gICAgICAgICAgICAvLyAzLiAgIGFsbG93IGlmIHRoZSByZWNvZ25pemVyIGlzIGFsbG93ZWQgdG8gcnVuIHNpbXVsdGFuZW91cyB3aXRoIHRoZSBjdXJyZW50IHJlY29nbml6ZWQgcmVjb2duaXplci5cbiAgICAgICAgICAgIC8vICAgICAgdGhpcyBjYW4gYmUgc2V0dXAgd2l0aCB0aGUgYHJlY29nbml6ZVdpdGgoKWAgbWV0aG9kIG9uIHRoZSByZWNvZ25pemVyLlxuICAgICAgICAgICAgaWYgKHNlc3Npb24uc3RvcHBlZCAhPT0gRk9SQ0VEX1NUT1AgJiYgKCAvLyAxXG4gICAgICAgICAgICAgICAgICAgICFjdXJSZWNvZ25pemVyIHx8IHJlY29nbml6ZXIgPT0gY3VyUmVjb2duaXplciB8fCAvLyAyXG4gICAgICAgICAgICAgICAgICAgIHJlY29nbml6ZXIuY2FuUmVjb2duaXplV2l0aChjdXJSZWNvZ25pemVyKSkpIHsgLy8gM1xuICAgICAgICAgICAgICAgIHJlY29nbml6ZXIucmVjb2duaXplKGlucHV0RGF0YSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlY29nbml6ZXIucmVzZXQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgdGhlIHJlY29nbml6ZXIgaGFzIGJlZW4gcmVjb2duaXppbmcgdGhlIGlucHV0IGFzIGEgdmFsaWQgZ2VzdHVyZSwgd2Ugd2FudCB0byBzdG9yZSB0aGlzIG9uZSBhcyB0aGVcbiAgICAgICAgICAgIC8vIGN1cnJlbnQgYWN0aXZlIHJlY29nbml6ZXIuIGJ1dCBvbmx5IGlmIHdlIGRvbid0IGFscmVhZHkgaGF2ZSBhbiBhY3RpdmUgcmVjb2duaXplclxuICAgICAgICAgICAgaWYgKCFjdXJSZWNvZ25pemVyICYmIHJlY29nbml6ZXIuc3RhdGUgJiAoU1RBVEVfQkVHQU4gfCBTVEFURV9DSEFOR0VEIHwgU1RBVEVfRU5ERUQpKSB7XG4gICAgICAgICAgICAgICAgY3VyUmVjb2duaXplciA9IHNlc3Npb24uY3VyUmVjb2duaXplciA9IHJlY29nbml6ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZ2V0IGEgcmVjb2duaXplciBieSBpdHMgZXZlbnQgbmFtZS5cbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ8U3RyaW5nfSByZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ8TnVsbH1cbiAgICAgKi9cbiAgICBnZXQ6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKHJlY29nbml6ZXIgaW5zdGFuY2VvZiBSZWNvZ25pemVyKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVjb2duaXplcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZWNvZ25pemVycyA9IHRoaXMucmVjb2duaXplcnM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVjb2duaXplcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChyZWNvZ25pemVyc1tpXS5vcHRpb25zLmV2ZW50ID09IHJlY29nbml6ZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjb2duaXplcnNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGFkZCBhIHJlY29nbml6ZXIgdG8gdGhlIG1hbmFnZXJcbiAgICAgKiBleGlzdGluZyByZWNvZ25pemVycyB3aXRoIHRoZSBzYW1lIGV2ZW50IG5hbWUgd2lsbCBiZSByZW1vdmVkXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSByZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ8TWFuYWdlcn1cbiAgICAgKi9cbiAgICBhZGQ6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKHJlY29nbml6ZXIsICdhZGQnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW1vdmUgZXhpc3RpbmdcbiAgICAgICAgdmFyIGV4aXN0aW5nID0gdGhpcy5nZXQocmVjb2duaXplci5vcHRpb25zLmV2ZW50KTtcbiAgICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZShleGlzdGluZyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlY29nbml6ZXJzLnB1c2gocmVjb2duaXplcik7XG4gICAgICAgIHJlY29nbml6ZXIubWFuYWdlciA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKTtcbiAgICAgICAgcmV0dXJuIHJlY29nbml6ZXI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlbW92ZSBhIHJlY29nbml6ZXIgYnkgbmFtZSBvciBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcnxTdHJpbmd9IHJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7TWFuYWdlcn1cbiAgICAgKi9cbiAgICByZW1vdmU6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKHJlY29nbml6ZXIsICdyZW1vdmUnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICByZWNvZ25pemVyID0gdGhpcy5nZXQocmVjb2duaXplcik7XG5cbiAgICAgICAgLy8gbGV0J3MgbWFrZSBzdXJlIHRoaXMgcmVjb2duaXplciBleGlzdHNcbiAgICAgICAgaWYgKHJlY29nbml6ZXIpIHtcbiAgICAgICAgICAgIHZhciByZWNvZ25pemVycyA9IHRoaXMucmVjb2duaXplcnM7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpbkFycmF5KHJlY29nbml6ZXJzLCByZWNvZ25pemVyKTtcblxuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJlY29nbml6ZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBiaW5kIGV2ZW50XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50c1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJcbiAgICAgKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSB0aGlzXG4gICAgICovXG4gICAgb246IGZ1bmN0aW9uKGV2ZW50cywgaGFuZGxlcikge1xuICAgICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzO1xuICAgICAgICBlYWNoKHNwbGl0U3RyKGV2ZW50cyksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBoYW5kbGVyc1tldmVudF0gPSBoYW5kbGVyc1tldmVudF0gfHwgW107XG4gICAgICAgICAgICBoYW5kbGVyc1tldmVudF0ucHVzaChoYW5kbGVyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiB1bmJpbmQgZXZlbnQsIGxlYXZlIGVtaXQgYmxhbmsgdG8gcmVtb3ZlIGFsbCBoYW5kbGVyc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudHNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaGFuZGxlcl1cbiAgICAgKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSB0aGlzXG4gICAgICovXG4gICAgb2ZmOiBmdW5jdGlvbihldmVudHMsIGhhbmRsZXIpIHtcbiAgICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzO1xuICAgICAgICBlYWNoKHNwbGl0U3RyKGV2ZW50cyksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgaGFuZGxlcnNbZXZlbnRdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyc1tldmVudF0gJiYgaGFuZGxlcnNbZXZlbnRdLnNwbGljZShpbkFycmF5KGhhbmRsZXJzW2V2ZW50XSwgaGFuZGxlciksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGVtaXQgZXZlbnQgdG8gdGhlIGxpc3RlbmVyc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAgICovXG4gICAgZW1pdDogZnVuY3Rpb24oZXZlbnQsIGRhdGEpIHtcbiAgICAgICAgLy8gd2UgYWxzbyB3YW50IHRvIHRyaWdnZXIgZG9tIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmRvbUV2ZW50cykge1xuICAgICAgICAgICAgdHJpZ2dlckRvbUV2ZW50KGV2ZW50LCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vIGhhbmRsZXJzLCBzbyBza2lwIGl0IGFsbFxuICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzW2V2ZW50XSAmJiB0aGlzLmhhbmRsZXJzW2V2ZW50XS5zbGljZSgpO1xuICAgICAgICBpZiAoIWhhbmRsZXJzIHx8ICFoYW5kbGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGEudHlwZSA9IGV2ZW50O1xuICAgICAgICBkYXRhLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkYXRhLnNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IGhhbmRsZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgaGFuZGxlcnNbaV0oZGF0YSk7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZGVzdHJveSB0aGUgbWFuYWdlciBhbmQgdW5iaW5kcyBhbGwgZXZlbnRzXG4gICAgICogaXQgZG9lc24ndCB1bmJpbmQgZG9tIGV2ZW50cywgdGhhdCBpcyB0aGUgdXNlciBvd24gcmVzcG9uc2liaWxpdHlcbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ICYmIHRvZ2dsZUNzc1Byb3BzKHRoaXMsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLmhhbmRsZXJzID0ge307XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHt9O1xuICAgICAgICB0aGlzLmlucHV0LmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcbiAgICB9XG59O1xuXG4vKipcbiAqIGFkZC9yZW1vdmUgdGhlIGNzcyBwcm9wZXJ0aWVzIGFzIGRlZmluZWQgaW4gbWFuYWdlci5vcHRpb25zLmNzc1Byb3BzXG4gKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gYWRkXG4gKi9cbmZ1bmN0aW9uIHRvZ2dsZUNzc1Byb3BzKG1hbmFnZXIsIGFkZCkge1xuICAgIHZhciBlbGVtZW50ID0gbWFuYWdlci5lbGVtZW50O1xuICAgIGlmICghZWxlbWVudC5zdHlsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBwcm9wO1xuICAgIGVhY2gobWFuYWdlci5vcHRpb25zLmNzc1Byb3BzLCBmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgICBwcm9wID0gcHJlZml4ZWQoZWxlbWVudC5zdHlsZSwgbmFtZSk7XG4gICAgICAgIGlmIChhZGQpIHtcbiAgICAgICAgICAgIG1hbmFnZXIub2xkQ3NzUHJvcHNbcHJvcF0gPSBlbGVtZW50LnN0eWxlW3Byb3BdO1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZVtwcm9wXSA9IHZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZVtwcm9wXSA9IG1hbmFnZXIub2xkQ3NzUHJvcHNbcHJvcF0gfHwgJyc7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWFkZCkge1xuICAgICAgICBtYW5hZ2VyLm9sZENzc1Byb3BzID0ge307XG4gICAgfVxufVxuXG4vKipcbiAqIHRyaWdnZXIgZG9tIGV2ZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gKi9cbmZ1bmN0aW9uIHRyaWdnZXJEb21FdmVudChldmVudCwgZGF0YSkge1xuICAgIHZhciBnZXN0dXJlRXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgICBnZXN0dXJlRXZlbnQuaW5pdEV2ZW50KGV2ZW50LCB0cnVlLCB0cnVlKTtcbiAgICBnZXN0dXJlRXZlbnQuZ2VzdHVyZSA9IGRhdGE7XG4gICAgZGF0YS50YXJnZXQuZGlzcGF0Y2hFdmVudChnZXN0dXJlRXZlbnQpO1xufVxuXG5hc3NpZ24oSGFtbWVyLCB7XG4gICAgSU5QVVRfU1RBUlQ6IElOUFVUX1NUQVJULFxuICAgIElOUFVUX01PVkU6IElOUFVUX01PVkUsXG4gICAgSU5QVVRfRU5EOiBJTlBVVF9FTkQsXG4gICAgSU5QVVRfQ0FOQ0VMOiBJTlBVVF9DQU5DRUwsXG5cbiAgICBTVEFURV9QT1NTSUJMRTogU1RBVEVfUE9TU0lCTEUsXG4gICAgU1RBVEVfQkVHQU46IFNUQVRFX0JFR0FOLFxuICAgIFNUQVRFX0NIQU5HRUQ6IFNUQVRFX0NIQU5HRUQsXG4gICAgU1RBVEVfRU5ERUQ6IFNUQVRFX0VOREVELFxuICAgIFNUQVRFX1JFQ09HTklaRUQ6IFNUQVRFX1JFQ09HTklaRUQsXG4gICAgU1RBVEVfQ0FOQ0VMTEVEOiBTVEFURV9DQU5DRUxMRUQsXG4gICAgU1RBVEVfRkFJTEVEOiBTVEFURV9GQUlMRUQsXG5cbiAgICBESVJFQ1RJT05fTk9ORTogRElSRUNUSU9OX05PTkUsXG4gICAgRElSRUNUSU9OX0xFRlQ6IERJUkVDVElPTl9MRUZULFxuICAgIERJUkVDVElPTl9SSUdIVDogRElSRUNUSU9OX1JJR0hULFxuICAgIERJUkVDVElPTl9VUDogRElSRUNUSU9OX1VQLFxuICAgIERJUkVDVElPTl9ET1dOOiBESVJFQ1RJT05fRE9XTixcbiAgICBESVJFQ1RJT05fSE9SSVpPTlRBTDogRElSRUNUSU9OX0hPUklaT05UQUwsXG4gICAgRElSRUNUSU9OX1ZFUlRJQ0FMOiBESVJFQ1RJT05fVkVSVElDQUwsXG4gICAgRElSRUNUSU9OX0FMTDogRElSRUNUSU9OX0FMTCxcblxuICAgIE1hbmFnZXI6IE1hbmFnZXIsXG4gICAgSW5wdXQ6IElucHV0LFxuICAgIFRvdWNoQWN0aW9uOiBUb3VjaEFjdGlvbixcblxuICAgIFRvdWNoSW5wdXQ6IFRvdWNoSW5wdXQsXG4gICAgTW91c2VJbnB1dDogTW91c2VJbnB1dCxcbiAgICBQb2ludGVyRXZlbnRJbnB1dDogUG9pbnRlckV2ZW50SW5wdXQsXG4gICAgVG91Y2hNb3VzZUlucHV0OiBUb3VjaE1vdXNlSW5wdXQsXG4gICAgU2luZ2xlVG91Y2hJbnB1dDogU2luZ2xlVG91Y2hJbnB1dCxcblxuICAgIFJlY29nbml6ZXI6IFJlY29nbml6ZXIsXG4gICAgQXR0clJlY29nbml6ZXI6IEF0dHJSZWNvZ25pemVyLFxuICAgIFRhcDogVGFwUmVjb2duaXplcixcbiAgICBQYW46IFBhblJlY29nbml6ZXIsXG4gICAgU3dpcGU6IFN3aXBlUmVjb2duaXplcixcbiAgICBQaW5jaDogUGluY2hSZWNvZ25pemVyLFxuICAgIFJvdGF0ZTogUm90YXRlUmVjb2duaXplcixcbiAgICBQcmVzczogUHJlc3NSZWNvZ25pemVyLFxuXG4gICAgb246IGFkZEV2ZW50TGlzdGVuZXJzLFxuICAgIG9mZjogcmVtb3ZlRXZlbnRMaXN0ZW5lcnMsXG4gICAgZWFjaDogZWFjaCxcbiAgICBtZXJnZTogbWVyZ2UsXG4gICAgZXh0ZW5kOiBleHRlbmQsXG4gICAgYXNzaWduOiBhc3NpZ24sXG4gICAgaW5oZXJpdDogaW5oZXJpdCxcbiAgICBiaW5kRm46IGJpbmRGbixcbiAgICBwcmVmaXhlZDogcHJlZml4ZWRcbn0pO1xuXG4vLyB0aGlzIHByZXZlbnRzIGVycm9ycyB3aGVuIEhhbW1lciBpcyBsb2FkZWQgaW4gdGhlIHByZXNlbmNlIG9mIGFuIEFNRFxuLy8gIHN0eWxlIGxvYWRlciBidXQgYnkgc2NyaXB0IHRhZywgbm90IGJ5IHRoZSBsb2FkZXIuXG52YXIgZnJlZUdsb2JhbCA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6ICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDoge30pKTsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5mcmVlR2xvYmFsLkhhbW1lciA9IEhhbW1lcjtcblxuaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIEhhbW1lcjtcbiAgICB9KTtcbn0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gSGFtbWVyO1xufSBlbHNlIHtcbiAgICB3aW5kb3dbZXhwb3J0TmFtZV0gPSBIYW1tZXI7XG59XG5cbn0pKHdpbmRvdywgZG9jdW1lbnQsICdIYW1tZXInKTtcbiIsIi8qIVxuICogIGhvd2xlci5qcyB2Mi4wLjJcbiAqICBob3dsZXJqcy5jb21cbiAqXG4gKiAgKGMpIDIwMTMtMjAxNiwgSmFtZXMgU2ltcHNvbiBvZiBHb2xkRmlyZSBTdHVkaW9zXG4gKiAgZ29sZGZpcmVzdHVkaW9zLmNvbVxuICpcbiAqICBNSVQgTGljZW5zZVxuICovXG5cbihmdW5jdGlvbigpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgLyoqIEdsb2JhbCBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIGdsb2JhbCBjb250cm9sbGVyLiBBbGwgY29udGFpbmVkIG1ldGhvZHMgYW5kIHByb3BlcnRpZXMgYXBwbHlcbiAgICogdG8gYWxsIHNvdW5kcyB0aGF0IGFyZSBjdXJyZW50bHkgcGxheWluZyBvciB3aWxsIGJlIGluIHRoZSBmdXR1cmUuXG4gICAqL1xuICB2YXIgSG93bGVyR2xvYmFsID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5pbml0KCk7XG4gIH07XG4gIEhvd2xlckdsb2JhbC5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgZ2xvYmFsIEhvd2xlciBvYmplY3QuXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcblxuICAgICAgLy8gSW50ZXJuYWwgcHJvcGVydGllcy5cbiAgICAgIHNlbGYuX2NvZGVjcyA9IHt9O1xuICAgICAgc2VsZi5faG93bHMgPSBbXTtcbiAgICAgIHNlbGYuX211dGVkID0gZmFsc2U7XG4gICAgICBzZWxmLl92b2x1bWUgPSAxO1xuICAgICAgc2VsZi5fY2FuUGxheUV2ZW50ID0gJ2NhbnBsYXl0aHJvdWdoJztcbiAgICAgIHNlbGYuX25hdmlnYXRvciA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cubmF2aWdhdG9yKSA/IHdpbmRvdy5uYXZpZ2F0b3IgOiBudWxsO1xuXG4gICAgICAvLyBQdWJsaWMgcHJvcGVydGllcy5cbiAgICAgIHNlbGYubWFzdGVyR2FpbiA9IG51bGw7XG4gICAgICBzZWxmLm5vQXVkaW8gPSBmYWxzZTtcbiAgICAgIHNlbGYudXNpbmdXZWJBdWRpbyA9IHRydWU7XG4gICAgICBzZWxmLmF1dG9TdXNwZW5kID0gdHJ1ZTtcbiAgICAgIHNlbGYuY3R4ID0gbnVsbDtcblxuICAgICAgLy8gU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgdGhlIGF1dG8gaU9TIGVuYWJsZXIuXG4gICAgICBzZWxmLm1vYmlsZUF1dG9FbmFibGUgPSB0cnVlO1xuXG4gICAgICAvLyBTZXR1cCB0aGUgdmFyaW91cyBzdGF0ZSB2YWx1ZXMgZm9yIGdsb2JhbCB0cmFja2luZy5cbiAgICAgIHNlbGYuX3NldHVwKCk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQvc2V0IHRoZSBnbG9iYWwgdm9sdW1lIGZvciBhbGwgc291bmRzLlxuICAgICAqIEBwYXJhbSAge0Zsb2F0fSB2b2wgVm9sdW1lIGZyb20gMC4wIHRvIDEuMC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXIvRmxvYXR9ICAgICBSZXR1cm5zIHNlbGYgb3IgY3VycmVudCB2b2x1bWUuXG4gICAgICovXG4gICAgdm9sdW1lOiBmdW5jdGlvbih2b2wpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG4gICAgICB2b2wgPSBwYXJzZUZsb2F0KHZvbCk7XG5cbiAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYW4gQXVkaW9Db250ZXh0IGNyZWF0ZWQgeWV0LCBydW4gdGhlIHNldHVwLlxuICAgICAgaWYgKCFzZWxmLmN0eCkge1xuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHZvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgdm9sID49IDAgJiYgdm9sIDw9IDEpIHtcbiAgICAgICAgc2VsZi5fdm9sdW1lID0gdm9sO1xuXG4gICAgICAgIC8vIERvbid0IHVwZGF0ZSBhbnkgb2YgdGhlIG5vZGVzIGlmIHdlIGFyZSBtdXRlZC5cbiAgICAgICAgaWYgKHNlbGYuX211dGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXaGVuIHVzaW5nIFdlYiBBdWRpbywgd2UganVzdCBuZWVkIHRvIGFkanVzdCB0aGUgbWFzdGVyIGdhaW4uXG4gICAgICAgIGlmIChzZWxmLnVzaW5nV2ViQXVkaW8pIHtcbiAgICAgICAgICBzZWxmLm1hc3RlckdhaW4uZ2Fpbi52YWx1ZSA9IHZvbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBhbmQgY2hhbmdlIHZvbHVtZSBmb3IgYWxsIEhUTUw1IGF1ZGlvIG5vZGVzLlxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5faG93bHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoIXNlbGYuX2hvd2xzW2ldLl93ZWJBdWRpbykge1xuICAgICAgICAgICAgLy8gR2V0IGFsbCBvZiB0aGUgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cbiAgICAgICAgICAgIHZhciBpZHMgPSBzZWxmLl9ob3dsc1tpXS5fZ2V0U291bmRJZHMoKTtcblxuICAgICAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCBzb3VuZHMgYW5kIGNoYW5nZSB0aGUgdm9sdW1lcy5cbiAgICAgICAgICAgIGZvciAodmFyIGo9MDsgajxpZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgdmFyIHNvdW5kID0gc2VsZi5faG93bHNbaV0uX3NvdW5kQnlJZChpZHNbal0pO1xuXG4gICAgICAgICAgICAgIGlmIChzb3VuZCAmJiBzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLnZvbHVtZSA9IHNvdW5kLl92b2x1bWUgKiB2b2w7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGYuX3ZvbHVtZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIG11dGluZyBhbmQgdW5tdXRpbmcgZ2xvYmFsbHkuXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gbXV0ZWQgSXMgbXV0ZWQgb3Igbm90LlxuICAgICAqL1xuICAgIG11dGU6IGZ1bmN0aW9uKG11dGVkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xuXG4gICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGFuIEF1ZGlvQ29udGV4dCBjcmVhdGVkIHlldCwgcnVuIHRoZSBzZXR1cC5cbiAgICAgIGlmICghc2VsZi5jdHgpIHtcbiAgICAgICAgc2V0dXBBdWRpb0NvbnRleHQoKTtcbiAgICAgIH1cblxuICAgICAgc2VsZi5fbXV0ZWQgPSBtdXRlZDtcblxuICAgICAgLy8gV2l0aCBXZWIgQXVkaW8sIHdlIGp1c3QgbmVlZCB0byBtdXRlIHRoZSBtYXN0ZXIgZ2Fpbi5cbiAgICAgIGlmIChzZWxmLnVzaW5nV2ViQXVkaW8pIHtcbiAgICAgICAgc2VsZi5tYXN0ZXJHYWluLmdhaW4udmFsdWUgPSBtdXRlZCA/IDAgOiBzZWxmLl92b2x1bWU7XG4gICAgICB9XG5cbiAgICAgIC8vIExvb3AgdGhyb3VnaCBhbmQgbXV0ZSBhbGwgSFRNTDUgQXVkaW8gbm9kZXMuXG4gICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5faG93bHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFzZWxmLl9ob3dsc1tpXS5fd2ViQXVkaW8pIHtcbiAgICAgICAgICAvLyBHZXQgYWxsIG9mIHRoZSBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxuICAgICAgICAgIHZhciBpZHMgPSBzZWxmLl9ob3dsc1tpXS5fZ2V0U291bmRJZHMoKTtcblxuICAgICAgICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgc291bmRzIGFuZCBtYXJrIHRoZSBhdWRpbyBub2RlIGFzIG11dGVkLlxuICAgICAgICAgIGZvciAodmFyIGo9MDsgajxpZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX2hvd2xzW2ldLl9zb3VuZEJ5SWQoaWRzW2pdKTtcblxuICAgICAgICAgICAgaWYgKHNvdW5kICYmIHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLm11dGVkID0gKG11dGVkKSA/IHRydWUgOiBzb3VuZC5fbXV0ZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBVbmxvYWQgYW5kIGRlc3Ryb3kgYWxsIGN1cnJlbnRseSBsb2FkZWQgSG93bCBvYmplY3RzLlxuICAgICAqIEByZXR1cm4ge0hvd2xlcn1cbiAgICAgKi9cbiAgICB1bmxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcblxuICAgICAgZm9yICh2YXIgaT1zZWxmLl9ob3dscy5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XG4gICAgICAgIHNlbGYuX2hvd2xzW2ldLnVubG9hZCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgYSBuZXcgQXVkaW9Db250ZXh0IHRvIG1ha2Ugc3VyZSBpdCBpcyBmdWxseSByZXNldC5cbiAgICAgIGlmIChzZWxmLnVzaW5nV2ViQXVkaW8gJiYgc2VsZi5jdHggJiYgdHlwZW9mIHNlbGYuY3R4LmNsb3NlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzZWxmLmN0eC5jbG9zZSgpO1xuICAgICAgICBzZWxmLmN0eCA9IG51bGw7XG4gICAgICAgIHNldHVwQXVkaW9Db250ZXh0KCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBmb3IgY29kZWMgc3VwcG9ydCBvZiBzcGVjaWZpYyBleHRlbnNpb24uXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBleHQgQXVkaW8gZmlsZSBleHRlbnRpb24uXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBjb2RlY3M6IGZ1bmN0aW9uKGV4dCkge1xuICAgICAgcmV0dXJuICh0aGlzIHx8IEhvd2xlcikuX2NvZGVjc1tleHQucmVwbGFjZSgvXngtLywgJycpXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0dXAgdmFyaW91cyBzdGF0ZSB2YWx1ZXMgZm9yIGdsb2JhbCB0cmFja2luZy5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgX3NldHVwOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIC8vIEtlZXBzIHRyYWNrIG9mIHRoZSBzdXNwZW5kL3Jlc3VtZSBzdGF0ZSBvZiB0aGUgQXVkaW9Db250ZXh0LlxuICAgICAgc2VsZi5zdGF0ZSA9IHNlbGYuY3R4ID8gc2VsZi5jdHguc3RhdGUgfHwgJ3J1bm5pbmcnIDogJ3J1bm5pbmcnO1xuXG4gICAgICAvLyBBdXRvbWF0aWNhbGx5IGJlZ2luIHRoZSAzMC1zZWNvbmQgc3VzcGVuZCBwcm9jZXNzXG4gICAgICBzZWxmLl9hdXRvU3VzcGVuZCgpO1xuXG4gICAgICAvLyBDaGVjayBpZiBhdWRpbyBpcyBhdmFpbGFibGUuXG4gICAgICBpZiAoIXNlbGYudXNpbmdXZWJBdWRpbykge1xuICAgICAgICAvLyBObyBhdWRpbyBpcyBhdmFpbGFibGUgb24gdGhpcyBzeXN0ZW0gaWYgbm9BdWRpbyBpcyBzZXQgdG8gdHJ1ZS5cbiAgICAgICAgaWYgKHR5cGVvZiBBdWRpbyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHRlc3QgPSBuZXcgQXVkaW8oKTtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGNhbnBsYXl0aHJvdWdoIGV2ZW50IGlzIGF2YWlsYWJsZS5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVzdC5vbmNhbnBsYXl0aHJvdWdoID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICBzZWxmLl9jYW5QbGF5RXZlbnQgPSAnY2FucGxheSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICBzZWxmLm5vQXVkaW8gPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLm5vQXVkaW8gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRlc3QgdG8gbWFrZSBzdXJlIGF1ZGlvIGlzbid0IGRpc2FibGVkIGluIEludGVybmV0IEV4cGxvcmVyLlxuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHRlc3QgPSBuZXcgQXVkaW8oKTtcbiAgICAgICAgaWYgKHRlc3QubXV0ZWQpIHtcbiAgICAgICAgICBzZWxmLm5vQXVkaW8gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7fVxuXG4gICAgICAvLyBDaGVjayBmb3Igc3VwcG9ydGVkIGNvZGVjcy5cbiAgICAgIGlmICghc2VsZi5ub0F1ZGlvKSB7XG4gICAgICAgIHNlbGYuX3NldHVwQ29kZWNzKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBmb3IgYnJvd3NlciBzdXBwb3J0IGZvciB2YXJpb3VzIGNvZGVjcyBhbmQgY2FjaGUgdGhlIHJlc3VsdHMuXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIF9zZXR1cENvZGVjczogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xuICAgICAgdmFyIGF1ZGlvVGVzdCA9IG51bGw7XG5cbiAgICAgIC8vIE11c3Qgd3JhcCBpbiBhIHRyeS9jYXRjaCBiZWNhdXNlIElFMTEgaW4gc2VydmVyIG1vZGUgdGhyb3dzIGFuIGVycm9yLlxuICAgICAgdHJ5IHtcbiAgICAgICAgYXVkaW9UZXN0ID0gKHR5cGVvZiBBdWRpbyAhPT0gJ3VuZGVmaW5lZCcpID8gbmV3IEF1ZGlvKCkgOiBudWxsO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWF1ZGlvVGVzdCB8fCB0eXBlb2YgYXVkaW9UZXN0LmNhblBsYXlUeXBlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICB2YXIgbXBlZ1Rlc3QgPSBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL21wZWc7JykucmVwbGFjZSgvXm5vJC8sICcnKTtcblxuICAgICAgLy8gT3BlcmEgdmVyc2lvbiA8MzMgaGFzIG1peGVkIE1QMyBzdXBwb3J0LCBzbyB3ZSBuZWVkIHRvIGNoZWNrIGZvciBhbmQgYmxvY2sgaXQuXG4gICAgICB2YXIgY2hlY2tPcGVyYSA9IHNlbGYuX25hdmlnYXRvciAmJiBzZWxmLl9uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9PUFJcXC8oWzAtNl0uKS9nKTtcbiAgICAgIHZhciBpc09sZE9wZXJhID0gKGNoZWNrT3BlcmEgJiYgcGFyc2VJbnQoY2hlY2tPcGVyYVswXS5zcGxpdCgnLycpWzFdLCAxMCkgPCAzMyk7XG5cbiAgICAgIHNlbGYuX2NvZGVjcyA9IHtcbiAgICAgICAgbXAzOiAhISghaXNPbGRPcGVyYSAmJiAobXBlZ1Rlc3QgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9tcDM7JykucmVwbGFjZSgvXm5vJC8sICcnKSkpLFxuICAgICAgICBtcGVnOiAhIW1wZWdUZXN0LFxuICAgICAgICBvcHVzOiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vb2dnOyBjb2RlY3M9XCJvcHVzXCInKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBvZ2c6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9vZ2c7IGNvZGVjcz1cInZvcmJpc1wiJykucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgb2dhOiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vb2dnOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIHdhdjogISFhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3dhdjsgY29kZWNzPVwiMVwiJykucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgYWFjOiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vYWFjOycpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIGNhZjogISFhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3gtY2FmOycpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIG00YTogISEoYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby94LW00YTsnKSB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL200YTsnKSB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL2FhYzsnKSkucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgbXA0OiAhIShhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3gtbXA0OycpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vbXA0OycpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vYWFjOycpKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICB3ZWJhOiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vd2VibTsgY29kZWNzPVwidm9yYmlzXCInKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICB3ZWJtOiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vd2VibTsgY29kZWNzPVwidm9yYmlzXCInKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBkb2xieTogISFhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL21wNDsgY29kZWNzPVwiZWMtM1wiJykucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgZmxhYzogISEoYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby94LWZsYWM7JykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9mbGFjOycpKS5yZXBsYWNlKC9ebm8kLywgJycpXG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTW9iaWxlIGJyb3dzZXJzIHdpbGwgb25seSBhbGxvdyBhdWRpbyB0byBiZSBwbGF5ZWQgYWZ0ZXIgYSB1c2VyIGludGVyYWN0aW9uLlxuICAgICAqIEF0dGVtcHQgdG8gYXV0b21hdGljYWxseSB1bmxvY2sgYXVkaW8gb24gdGhlIGZpcnN0IHVzZXIgaW50ZXJhY3Rpb24uXG4gICAgICogQ29uY2VwdCBmcm9tOiBodHRwOi8vcGF1bGJha2F1cy5jb20vdHV0b3JpYWxzL2h0bWw1L3dlYi1hdWRpby1vbi1pb3MvXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIF9lbmFibGVNb2JpbGVBdWRpbzogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xuXG4gICAgICAvLyBPbmx5IHJ1biB0aGlzIG9uIG1vYmlsZSBkZXZpY2VzIGlmIGF1ZGlvIGlzbid0IGFscmVhZHkgZWFuYmxlZC5cbiAgICAgIHZhciBpc01vYmlsZSA9IC9pUGhvbmV8aVBhZHxpUG9kfEFuZHJvaWR8QmxhY2tCZXJyeXxCQjEwfFNpbGt8TW9iaS9pLnRlc3Qoc2VsZi5fbmF2aWdhdG9yICYmIHNlbGYuX25hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgICAgdmFyIGlzVG91Y2ggPSAhISgoJ29udG91Y2hlbmQnIGluIHdpbmRvdykgfHwgKHNlbGYuX25hdmlnYXRvciAmJiBzZWxmLl9uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAwKSB8fCAoc2VsZi5fbmF2aWdhdG9yICYmIHNlbGYuX25hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzID4gMCkpO1xuICAgICAgaWYgKHNlbGYuX21vYmlsZUVuYWJsZWQgfHwgIXNlbGYuY3R4IHx8ICghaXNNb2JpbGUgJiYgIWlzVG91Y2gpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc2VsZi5fbW9iaWxlRW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgICAvLyBTb21lIG1vYmlsZSBkZXZpY2VzL3BsYXRmb3JtcyBoYXZlIGRpc3RvcnRpb24gaXNzdWVzIHdoZW4gb3BlbmluZy9jbG9zaW5nIHRhYnMgYW5kL29yIHdlYiB2aWV3cy5cbiAgICAgIC8vIEJ1Z3MgaW4gdGhlIGJyb3dzZXIgKGVzcGVjaWFsbHkgTW9iaWxlIFNhZmFyaSkgY2FuIGNhdXNlIHRoZSBzYW1wbGVSYXRlIHRvIGNoYW5nZSBmcm9tIDQ0MTAwIHRvIDQ4MDAwLlxuICAgICAgLy8gQnkgY2FsbGluZyBIb3dsZXIudW5sb2FkKCksIHdlIGNyZWF0ZSBhIG5ldyBBdWRpb0NvbnRleHQgd2l0aCB0aGUgY29ycmVjdCBzYW1wbGVSYXRlLlxuICAgICAgaWYgKCFzZWxmLl9tb2JpbGVVbmxvYWRlZCAmJiBzZWxmLmN0eC5zYW1wbGVSYXRlICE9PSA0NDEwMCkge1xuICAgICAgICBzZWxmLl9tb2JpbGVVbmxvYWRlZCA9IHRydWU7XG4gICAgICAgIHNlbGYudW5sb2FkKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNjcmF0Y2ggYnVmZmVyIGZvciBlbmFibGluZyBpT1MgdG8gZGlzcG9zZSBvZiB3ZWIgYXVkaW8gYnVmZmVycyBjb3JyZWN0bHksIGFzIHBlcjpcbiAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjQxMTk2ODRcbiAgICAgIHNlbGYuX3NjcmF0Y2hCdWZmZXIgPSBzZWxmLmN0eC5jcmVhdGVCdWZmZXIoMSwgMSwgMjIwNTApO1xuXG4gICAgICAvLyBDYWxsIHRoaXMgbWV0aG9kIG9uIHRvdWNoIHN0YXJ0IHRvIGNyZWF0ZSBhbmQgcGxheSBhIGJ1ZmZlcixcbiAgICAgIC8vIHRoZW4gY2hlY2sgaWYgdGhlIGF1ZGlvIGFjdHVhbGx5IHBsYXllZCB0byBkZXRlcm1pbmUgaWZcbiAgICAgIC8vIGF1ZGlvIGhhcyBub3cgYmVlbiB1bmxvY2tlZCBvbiBpT1MsIEFuZHJvaWQsIGV0Yy5cbiAgICAgIHZhciB1bmxvY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gQ3JlYXRlIGFuIGVtcHR5IGJ1ZmZlci5cbiAgICAgICAgdmFyIHNvdXJjZSA9IHNlbGYuY3R4LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuICAgICAgICBzb3VyY2UuYnVmZmVyID0gc2VsZi5fc2NyYXRjaEJ1ZmZlcjtcbiAgICAgICAgc291cmNlLmNvbm5lY3Qoc2VsZi5jdHguZGVzdGluYXRpb24pO1xuXG4gICAgICAgIC8vIFBsYXkgdGhlIGVtcHR5IGJ1ZmZlci5cbiAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2Uuc3RhcnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgc291cmNlLm5vdGVPbigwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzb3VyY2Uuc3RhcnQoMCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXR1cCBhIHRpbWVvdXQgdG8gY2hlY2sgdGhhdCB3ZSBhcmUgdW5sb2NrZWQgb24gdGhlIG5leHQgZXZlbnQgbG9vcC5cbiAgICAgICAgc291cmNlLm9uZW5kZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzb3VyY2UuZGlzY29ubmVjdCgwKTtcblxuICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgdW5sb2NrZWQgc3RhdGUgYW5kIHByZXZlbnQgdGhpcyBjaGVjayBmcm9tIGhhcHBlbmluZyBhZ2Fpbi5cbiAgICAgICAgICBzZWxmLl9tb2JpbGVFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICBzZWxmLm1vYmlsZUF1dG9FbmFibGUgPSBmYWxzZTtcblxuICAgICAgICAgIC8vIFJlbW92ZSB0aGUgdG91Y2ggc3RhcnQgbGlzdGVuZXIuXG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB1bmxvY2ssIHRydWUpO1xuICAgICAgICB9O1xuICAgICAgfTtcblxuICAgICAgLy8gU2V0dXAgYSB0b3VjaCBzdGFydCBsaXN0ZW5lciB0byBhdHRlbXB0IGFuIHVubG9jayBpbi5cbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdW5sb2NrLCB0cnVlKTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEF1dG9tYXRpY2FsbHkgc3VzcGVuZCB0aGUgV2ViIEF1ZGlvIEF1ZGlvQ29udGV4dCBhZnRlciBubyBzb3VuZCBoYXMgcGxheWVkIGZvciAzMCBzZWNvbmRzLlxuICAgICAqIFRoaXMgc2F2ZXMgcHJvY2Vzc2luZy9lbmVyZ3kgYW5kIGZpeGVzIHZhcmlvdXMgYnJvd3Nlci1zcGVjaWZpYyBidWdzIHdpdGggYXVkaW8gZ2V0dGluZyBzdHVjay5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgX2F1dG9TdXNwZW5kOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgaWYgKCFzZWxmLmF1dG9TdXNwZW5kIHx8ICFzZWxmLmN0eCB8fCB0eXBlb2Ygc2VsZi5jdHguc3VzcGVuZCA9PT0gJ3VuZGVmaW5lZCcgfHwgIUhvd2xlci51c2luZ1dlYkF1ZGlvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgaWYgYW55IHNvdW5kcyBhcmUgcGxheWluZy5cbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9ob3dscy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc2VsZi5faG93bHNbaV0uX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgZm9yICh2YXIgaj0wOyBqPHNlbGYuX2hvd2xzW2ldLl9zb3VuZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmICghc2VsZi5faG93bHNbaV0uX3NvdW5kc1tqXS5fcGF1c2VkKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoc2VsZi5fc3VzcGVuZFRpbWVyKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChzZWxmLl9zdXNwZW5kVGltZXIpO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBubyBzb3VuZCBoYXMgcGxheWVkIGFmdGVyIDMwIHNlY29uZHMsIHN1c3BlbmQgdGhlIGNvbnRleHQuXG4gICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXNlbGYuYXV0b1N1c3BlbmQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBudWxsO1xuICAgICAgICBzZWxmLnN0YXRlID0gJ3N1c3BlbmRpbmcnO1xuICAgICAgICBzZWxmLmN0eC5zdXNwZW5kKCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLnN0YXRlID0gJ3N1c3BlbmRlZCc7XG5cbiAgICAgICAgICBpZiAoc2VsZi5fcmVzdW1lQWZ0ZXJTdXNwZW5kKSB7XG4gICAgICAgICAgICBkZWxldGUgc2VsZi5fcmVzdW1lQWZ0ZXJTdXNwZW5kO1xuICAgICAgICAgICAgc2VsZi5fYXV0b1Jlc3VtZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LCAzMDAwMCk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBdXRvbWF0aWNhbGx5IHJlc3VtZSB0aGUgV2ViIEF1ZGlvIEF1ZGlvQ29udGV4dCB3aGVuIGEgbmV3IHNvdW5kIGlzIHBsYXllZC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgX2F1dG9SZXN1bWU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBpZiAoIXNlbGYuY3R4IHx8IHR5cGVvZiBzZWxmLmN0eC5yZXN1bWUgPT09ICd1bmRlZmluZWQnIHx8ICFIb3dsZXIudXNpbmdXZWJBdWRpbykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChzZWxmLnN0YXRlID09PSAncnVubmluZycgJiYgc2VsZi5fc3VzcGVuZFRpbWVyKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChzZWxmLl9zdXNwZW5kVGltZXIpO1xuICAgICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBudWxsO1xuICAgICAgfSBlbHNlIGlmIChzZWxmLnN0YXRlID09PSAnc3VzcGVuZGVkJykge1xuICAgICAgICBzZWxmLnN0YXRlID0gJ3Jlc3VtaW5nJztcbiAgICAgICAgc2VsZi5jdHgucmVzdW1lKCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLnN0YXRlID0gJ3J1bm5pbmcnO1xuXG4gICAgICAgICAgLy8gRW1pdCB0byBhbGwgSG93bHMgdGhhdCB0aGUgYXVkaW8gaGFzIHJlc3VtZWQuXG4gICAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBzZWxmLl9ob3dsc1tpXS5fZW1pdCgncmVzdW1lJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoc2VsZi5fc3VzcGVuZFRpbWVyKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHNlbGYuX3N1c3BlbmRUaW1lcik7XG4gICAgICAgICAgc2VsZi5fc3VzcGVuZFRpbWVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzZWxmLnN0YXRlID09PSAnc3VzcGVuZGluZycpIHtcbiAgICAgICAgc2VsZi5fcmVzdW1lQWZ0ZXJTdXNwZW5kID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuICB9O1xuXG4gIC8vIFNldHVwIHRoZSBnbG9iYWwgYXVkaW8gY29udHJvbGxlci5cbiAgdmFyIEhvd2xlciA9IG5ldyBIb3dsZXJHbG9iYWwoKTtcblxuICAvKiogR3JvdXAgTWV0aG9kcyAqKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAvKipcbiAgICogQ3JlYXRlIGFuIGF1ZGlvIGdyb3VwIGNvbnRyb2xsZXIuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvIFBhc3NlZCBpbiBwcm9wZXJ0aWVzIGZvciB0aGlzIGdyb3VwLlxuICAgKi9cbiAgdmFyIEhvd2wgPSBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gVGhyb3cgYW4gZXJyb3IgaWYgbm8gc291cmNlIGlzIHByb3ZpZGVkLlxuICAgIGlmICghby5zcmMgfHwgby5zcmMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdBbiBhcnJheSBvZiBzb3VyY2UgZmlsZXMgbXVzdCBiZSBwYXNzZWQgd2l0aCBhbnkgbmV3IEhvd2wuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2VsZi5pbml0KG8pO1xuICB9O1xuICBIb3dsLnByb3RvdHlwZSA9IHtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGEgbmV3IEhvd2wgZ3JvdXAgb2JqZWN0LlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gbyBQYXNzZWQgaW4gcHJvcGVydGllcyBmb3IgdGhpcyBncm91cC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIGluaXQ6IGZ1bmN0aW9uKG8pIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhbiBBdWRpb0NvbnRleHQgY3JlYXRlZCB5ZXQsIHJ1biB0aGUgc2V0dXAuXG4gICAgICBpZiAoIUhvd2xlci5jdHgpIHtcbiAgICAgICAgc2V0dXBBdWRpb0NvbnRleHQoKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2V0dXAgdXNlci1kZWZpbmVkIGRlZmF1bHQgcHJvcGVydGllcy5cbiAgICAgIHNlbGYuX2F1dG9wbGF5ID0gby5hdXRvcGxheSB8fCBmYWxzZTtcbiAgICAgIHNlbGYuX2Zvcm1hdCA9ICh0eXBlb2Ygby5mb3JtYXQgIT09ICdzdHJpbmcnKSA/IG8uZm9ybWF0IDogW28uZm9ybWF0XTtcbiAgICAgIHNlbGYuX2h0bWw1ID0gby5odG1sNSB8fCBmYWxzZTtcbiAgICAgIHNlbGYuX211dGVkID0gby5tdXRlIHx8IGZhbHNlO1xuICAgICAgc2VsZi5fbG9vcCA9IG8ubG9vcCB8fCBmYWxzZTtcbiAgICAgIHNlbGYuX3Bvb2wgPSBvLnBvb2wgfHwgNTtcbiAgICAgIHNlbGYuX3ByZWxvYWQgPSAodHlwZW9mIG8ucHJlbG9hZCA9PT0gJ2Jvb2xlYW4nKSA/IG8ucHJlbG9hZCA6IHRydWU7XG4gICAgICBzZWxmLl9yYXRlID0gby5yYXRlIHx8IDE7XG4gICAgICBzZWxmLl9zcHJpdGUgPSBvLnNwcml0ZSB8fCB7fTtcbiAgICAgIHNlbGYuX3NyYyA9ICh0eXBlb2Ygby5zcmMgIT09ICdzdHJpbmcnKSA/IG8uc3JjIDogW28uc3JjXTtcbiAgICAgIHNlbGYuX3ZvbHVtZSA9IG8udm9sdW1lICE9PSB1bmRlZmluZWQgPyBvLnZvbHVtZSA6IDE7XG5cbiAgICAgIC8vIFNldHVwIGFsbCBvdGhlciBkZWZhdWx0IHByb3BlcnRpZXMuXG4gICAgICBzZWxmLl9kdXJhdGlvbiA9IDA7XG4gICAgICBzZWxmLl9zdGF0ZSA9ICd1bmxvYWRlZCc7XG4gICAgICBzZWxmLl9zb3VuZHMgPSBbXTtcbiAgICAgIHNlbGYuX2VuZFRpbWVycyA9IHt9O1xuICAgICAgc2VsZi5fcXVldWUgPSBbXTtcblxuICAgICAgLy8gU2V0dXAgZXZlbnQgbGlzdGVuZXJzLlxuICAgICAgc2VsZi5fb25lbmQgPSBvLm9uZW5kID8gW3tmbjogby5vbmVuZH1dIDogW107XG4gICAgICBzZWxmLl9vbmZhZGUgPSBvLm9uZmFkZSA/IFt7Zm46IG8ub25mYWRlfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ubG9hZCA9IG8ub25sb2FkID8gW3tmbjogby5vbmxvYWR9XSA6IFtdO1xuICAgICAgc2VsZi5fb25sb2FkZXJyb3IgPSBvLm9ubG9hZGVycm9yID8gW3tmbjogby5vbmxvYWRlcnJvcn1dIDogW107XG4gICAgICBzZWxmLl9vbnBhdXNlID0gby5vbnBhdXNlID8gW3tmbjogby5vbnBhdXNlfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ucGxheSA9IG8ub25wbGF5ID8gW3tmbjogby5vbnBsYXl9XSA6IFtdO1xuICAgICAgc2VsZi5fb25zdG9wID0gby5vbnN0b3AgPyBbe2ZuOiBvLm9uc3RvcH1dIDogW107XG4gICAgICBzZWxmLl9vbm11dGUgPSBvLm9ubXV0ZSA/IFt7Zm46IG8ub25tdXRlfV0gOiBbXTtcbiAgICAgIHNlbGYuX29udm9sdW1lID0gby5vbnZvbHVtZSA/IFt7Zm46IG8ub252b2x1bWV9XSA6IFtdO1xuICAgICAgc2VsZi5fb25yYXRlID0gby5vbnJhdGUgPyBbe2ZuOiBvLm9ucmF0ZX1dIDogW107XG4gICAgICBzZWxmLl9vbnNlZWsgPSBvLm9uc2VlayA/IFt7Zm46IG8ub25zZWVrfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ucmVzdW1lID0gW107XG5cbiAgICAgIC8vIFdlYiBBdWRpbyBvciBIVE1MNSBBdWRpbz9cbiAgICAgIHNlbGYuX3dlYkF1ZGlvID0gSG93bGVyLnVzaW5nV2ViQXVkaW8gJiYgIXNlbGYuX2h0bWw1O1xuXG4gICAgICAvLyBBdXRvbWF0aWNhbGx5IHRyeSB0byBlbmFibGUgYXVkaW8gb24gaU9TLlxuICAgICAgaWYgKHR5cGVvZiBIb3dsZXIuY3R4ICE9PSAndW5kZWZpbmVkJyAmJiBIb3dsZXIuY3R4ICYmIEhvd2xlci5tb2JpbGVBdXRvRW5hYmxlKSB7XG4gICAgICAgIEhvd2xlci5fZW5hYmxlTW9iaWxlQXVkaW8oKTtcbiAgICAgIH1cblxuICAgICAgLy8gS2VlcCB0cmFjayBvZiB0aGlzIEhvd2wgZ3JvdXAgaW4gdGhlIGdsb2JhbCBjb250cm9sbGVyLlxuICAgICAgSG93bGVyLl9ob3dscy5wdXNoKHNlbGYpO1xuXG4gICAgICAvLyBJZiB0aGV5IHNlbGVjdGVkIGF1dG9wbGF5LCBhZGQgYSBwbGF5IGV2ZW50IHRvIHRoZSBsb2FkIHF1ZXVlLlxuICAgICAgaWYgKHNlbGYuX2F1dG9wbGF5KSB7XG4gICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICAgIGV2ZW50OiAncGxheScsXG4gICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYucGxheSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIExvYWQgdGhlIHNvdXJjZSBmaWxlIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuICAgICAgaWYgKHNlbGYuX3ByZWxvYWQpIHtcbiAgICAgICAgc2VsZi5sb2FkKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMb2FkIHRoZSBhdWRpbyBmaWxlLlxuICAgICAqIEByZXR1cm4ge0hvd2xlcn1cbiAgICAgKi9cbiAgICBsb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciB1cmwgPSBudWxsO1xuXG4gICAgICAvLyBJZiBubyBhdWRpbyBpcyBhdmFpbGFibGUsIHF1aXQgaW1tZWRpYXRlbHkuXG4gICAgICBpZiAoSG93bGVyLm5vQXVkaW8pIHtcbiAgICAgICAgc2VsZi5fZW1pdCgnbG9hZGVycm9yJywgbnVsbCwgJ05vIGF1ZGlvIHN1cHBvcnQuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gTWFrZSBzdXJlIG91ciBzb3VyY2UgaXMgaW4gYW4gYXJyYXkuXG4gICAgICBpZiAodHlwZW9mIHNlbGYuX3NyYyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgc2VsZi5fc3JjID0gW3NlbGYuX3NyY107XG4gICAgICB9XG5cbiAgICAgIC8vIExvb3AgdGhyb3VnaCB0aGUgc291cmNlcyBhbmQgcGljayB0aGUgZmlyc3Qgb25lIHRoYXQgaXMgY29tcGF0aWJsZS5cbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9zcmMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGV4dCwgc3RyO1xuXG4gICAgICAgIGlmIChzZWxmLl9mb3JtYXQgJiYgc2VsZi5fZm9ybWF0W2ldKSB7XG4gICAgICAgICAgLy8gSWYgYW4gZXh0ZW5zaW9uIHdhcyBzcGVjaWZpZWQsIHVzZSB0aGF0IGluc3RlYWQuXG4gICAgICAgICAgZXh0ID0gc2VsZi5fZm9ybWF0W2ldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgc291cmNlIGlzIGEgc3RyaW5nLlxuICAgICAgICAgIHN0ciA9IHNlbGYuX3NyY1tpXTtcbiAgICAgICAgICBpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHNlbGYuX2VtaXQoJ2xvYWRlcnJvcicsIG51bGwsICdOb24tc3RyaW5nIGZvdW5kIGluIHNlbGVjdGVkIGF1ZGlvIHNvdXJjZXMgLSBpZ25vcmluZy4nKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEV4dHJhY3QgdGhlIGZpbGUgZXh0ZW5zaW9uIGZyb20gdGhlIFVSTCBvciBiYXNlNjQgZGF0YSBVUkkuXG4gICAgICAgICAgZXh0ID0gL15kYXRhOmF1ZGlvXFwvKFteOyxdKyk7L2kuZXhlYyhzdHIpO1xuICAgICAgICAgIGlmICghZXh0KSB7XG4gICAgICAgICAgICBleHQgPSAvXFwuKFteLl0rKSQvLmV4ZWMoc3RyLnNwbGl0KCc/JywgMSlbMF0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChleHQpIHtcbiAgICAgICAgICAgIGV4dCA9IGV4dFsxXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoaXMgZXh0ZW5zaW9uIGlzIGF2YWlsYWJsZS5cbiAgICAgICAgaWYgKEhvd2xlci5jb2RlY3MoZXh0KSkge1xuICAgICAgICAgIHVybCA9IHNlbGYuX3NyY1tpXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIXVybCkge1xuICAgICAgICBzZWxmLl9lbWl0KCdsb2FkZXJyb3InLCBudWxsLCAnTm8gY29kZWMgc3VwcG9ydCBmb3Igc2VsZWN0ZWQgYXVkaW8gc291cmNlcy4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzZWxmLl9zcmMgPSB1cmw7XG4gICAgICBzZWxmLl9zdGF0ZSA9ICdsb2FkaW5nJztcblxuICAgICAgLy8gSWYgdGhlIGhvc3RpbmcgcGFnZSBpcyBIVFRQUyBhbmQgdGhlIHNvdXJjZSBpc24ndCxcbiAgICAgIC8vIGRyb3AgZG93biB0byBIVE1MNSBBdWRpbyB0byBhdm9pZCBNaXhlZCBDb250ZW50IGVycm9ycy5cbiAgICAgIGlmICh3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgPT09ICdodHRwczonICYmIHVybC5zbGljZSgwLCA1KSA9PT0gJ2h0dHA6Jykge1xuICAgICAgICBzZWxmLl9odG1sNSA9IHRydWU7XG4gICAgICAgIHNlbGYuX3dlYkF1ZGlvID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIENyZWF0ZSBhIG5ldyBzb3VuZCBvYmplY3QgYW5kIGFkZCBpdCB0byB0aGUgcG9vbC5cbiAgICAgIG5ldyBTb3VuZChzZWxmKTtcblxuICAgICAgLy8gTG9hZCBhbmQgZGVjb2RlIHRoZSBhdWRpbyBkYXRhIGZvciBwbGF5YmFjay5cbiAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xuICAgICAgICBsb2FkQnVmZmVyKHNlbGYpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUGxheSBhIHNvdW5kIG9yIHJlc3VtZSBwcmV2aW91cyBwbGF5YmFjay5cbiAgICAgKiBAcGFyYW0gIHtTdHJpbmcvTnVtYmVyfSBzcHJpdGUgICBTcHJpdGUgbmFtZSBmb3Igc3ByaXRlIHBsYXliYWNrIG9yIHNvdW5kIGlkIHRvIGNvbnRpbnVlIHByZXZpb3VzLlxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IGludGVybmFsIEludGVybmFsIFVzZTogdHJ1ZSBwcmV2ZW50cyBldmVudCBmaXJpbmcuXG4gICAgICogQHJldHVybiB7TnVtYmVyfSAgICAgICAgICBTb3VuZCBJRC5cbiAgICAgKi9cbiAgICBwbGF5OiBmdW5jdGlvbihzcHJpdGUsIGludGVybmFsKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgaWQgPSBudWxsO1xuXG4gICAgICAvLyBEZXRlcm1pbmUgaWYgYSBzcHJpdGUsIHNvdW5kIGlkIG9yIG5vdGhpbmcgd2FzIHBhc3NlZFxuICAgICAgaWYgKHR5cGVvZiBzcHJpdGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGlkID0gc3ByaXRlO1xuICAgICAgICBzcHJpdGUgPSBudWxsO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc3ByaXRlID09PSAnc3RyaW5nJyAmJiBzZWxmLl9zdGF0ZSA9PT0gJ2xvYWRlZCcgJiYgIXNlbGYuX3Nwcml0ZVtzcHJpdGVdKSB7XG4gICAgICAgIC8vIElmIHRoZSBwYXNzZWQgc3ByaXRlIGRvZXNuJ3QgZXhpc3QsIGRvIG5vdGhpbmcuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc3ByaXRlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvLyBVc2UgdGhlIGRlZmF1bHQgc291bmQgc3ByaXRlIChwbGF5cyB0aGUgZnVsbCBhdWRpbyBsZW5ndGgpLlxuICAgICAgICBzcHJpdGUgPSAnX19kZWZhdWx0JztcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSBpcyBhIHNpbmdsZSBwYXVzZWQgc291bmQgdGhhdCBpc24ndCBlbmRlZC5cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMsIHBsYXkgdGhhdCBzb3VuZC4gSWYgbm90LCBjb250aW51ZSBhcyB1c3VhbC5cbiAgICAgICAgdmFyIG51bSA9IDA7XG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9zb3VuZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoc2VsZi5fc291bmRzW2ldLl9wYXVzZWQgJiYgIXNlbGYuX3NvdW5kc1tpXS5fZW5kZWQpIHtcbiAgICAgICAgICAgIG51bSsrO1xuICAgICAgICAgICAgaWQgPSBzZWxmLl9zb3VuZHNbaV0uX2lkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChudW0gPT09IDEpIHtcbiAgICAgICAgICBzcHJpdGUgPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBHZXQgdGhlIHNlbGVjdGVkIG5vZGUsIG9yIGdldCBvbmUgZnJvbSB0aGUgcG9vbC5cbiAgICAgIHZhciBzb3VuZCA9IGlkID8gc2VsZi5fc291bmRCeUlkKGlkKSA6IHNlbGYuX2luYWN0aXZlU291bmQoKTtcblxuICAgICAgLy8gSWYgdGhlIHNvdW5kIGRvZXNuJ3QgZXhpc3QsIGRvIG5vdGhpbmcuXG4gICAgICBpZiAoIXNvdW5kKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICAvLyBTZWxlY3QgdGhlIHNwcml0ZSBkZWZpbml0aW9uLlxuICAgICAgaWYgKGlkICYmICFzcHJpdGUpIHtcbiAgICAgICAgc3ByaXRlID0gc291bmQuX3Nwcml0ZSB8fCAnX19kZWZhdWx0JztcbiAgICAgIH1cblxuICAgICAgLy8gSWYgd2UgaGF2ZSBubyBzcHJpdGUgYW5kIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCB3ZSBtdXN0IHdhaXRcbiAgICAgIC8vIGZvciB0aGUgc291bmQgdG8gbG9hZCB0byBnZXQgb3VyIGF1ZGlvJ3MgZHVyYXRpb24uXG4gICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnICYmICFzZWxmLl9zcHJpdGVbc3ByaXRlXSkge1xuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICBldmVudDogJ3BsYXknLFxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLnBsYXkoc2VsZi5fc291bmRCeUlkKHNvdW5kLl9pZCkgPyBzb3VuZC5faWQgOiB1bmRlZmluZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHNvdW5kLl9pZDtcbiAgICAgIH1cblxuICAgICAgLy8gRG9uJ3QgcGxheSB0aGUgc291bmQgaWYgYW4gaWQgd2FzIHBhc3NlZCBhbmQgaXQgaXMgYWxyZWFkeSBwbGF5aW5nLlxuICAgICAgaWYgKGlkICYmICFzb3VuZC5fcGF1c2VkKSB7XG4gICAgICAgIC8vIFRyaWdnZXIgdGhlIHBsYXkgZXZlbnQsIGluIG9yZGVyIHRvIGtlZXAgaXRlcmF0aW5nIHRocm91Z2ggcXVldWUuXG4gICAgICAgIGlmICghaW50ZXJuYWwpIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5fZW1pdCgncGxheScsIHNvdW5kLl9pZCk7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc291bmQuX2lkO1xuICAgICAgfVxuXG4gICAgICAvLyBNYWtlIHN1cmUgdGhlIEF1ZGlvQ29udGV4dCBpc24ndCBzdXNwZW5kZWQsIGFuZCByZXN1bWUgaXQgaWYgaXQgaXMuXG4gICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgSG93bGVyLl9hdXRvUmVzdW1lKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIERldGVybWluZSBob3cgbG9uZyB0byBwbGF5IGZvciBhbmQgd2hlcmUgdG8gc3RhcnQgcGxheWluZy5cbiAgICAgIHZhciBzZWVrID0gTWF0aC5tYXgoMCwgc291bmQuX3NlZWsgPiAwID8gc291bmQuX3NlZWsgOiBzZWxmLl9zcHJpdGVbc3ByaXRlXVswXSAvIDEwMDApO1xuICAgICAgdmFyIGR1cmF0aW9uID0gTWF0aC5tYXgoMCwgKChzZWxmLl9zcHJpdGVbc3ByaXRlXVswXSArIHNlbGYuX3Nwcml0ZVtzcHJpdGVdWzFdKSAvIDEwMDApIC0gc2Vlayk7XG4gICAgICB2YXIgdGltZW91dCA9IChkdXJhdGlvbiAqIDEwMDApIC8gTWF0aC5hYnMoc291bmQuX3JhdGUpO1xuXG4gICAgICAvLyBVcGRhdGUgdGhlIHBhcmFtZXRlcnMgb2YgdGhlIHNvdW5kXG4gICAgICBzb3VuZC5fcGF1c2VkID0gZmFsc2U7XG4gICAgICBzb3VuZC5fZW5kZWQgPSBmYWxzZTtcbiAgICAgIHNvdW5kLl9zcHJpdGUgPSBzcHJpdGU7XG4gICAgICBzb3VuZC5fc2VlayA9IHNlZWs7XG4gICAgICBzb3VuZC5fc3RhcnQgPSBzZWxmLl9zcHJpdGVbc3ByaXRlXVswXSAvIDEwMDA7XG4gICAgICBzb3VuZC5fc3RvcCA9IChzZWxmLl9zcHJpdGVbc3ByaXRlXVswXSArIHNlbGYuX3Nwcml0ZVtzcHJpdGVdWzFdKSAvIDEwMDA7XG4gICAgICBzb3VuZC5fbG9vcCA9ICEhKHNvdW5kLl9sb29wIHx8IHNlbGYuX3Nwcml0ZVtzcHJpdGVdWzJdKTtcblxuICAgICAgLy8gQmVnaW4gdGhlIGFjdHVhbCBwbGF5YmFjay5cbiAgICAgIHZhciBub2RlID0gc291bmQuX25vZGU7XG4gICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgLy8gRmlyZSB0aGlzIHdoZW4gdGhlIHNvdW5kIGlzIHJlYWR5IHRvIHBsYXkgdG8gYmVnaW4gV2ViIEF1ZGlvIHBsYXliYWNrLlxuICAgICAgICB2YXIgcGxheVdlYkF1ZGlvID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2VsZi5fcmVmcmVzaEJ1ZmZlcihzb3VuZCk7XG5cbiAgICAgICAgICAvLyBTZXR1cCB0aGUgcGxheWJhY2sgcGFyYW1zLlxuICAgICAgICAgIHZhciB2b2wgPSAoc291bmQuX211dGVkIHx8IHNlbGYuX211dGVkKSA/IDAgOiBzb3VuZC5fdm9sdW1lO1xuICAgICAgICAgIG5vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZSh2b2wsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgIHNvdW5kLl9wbGF5U3RhcnQgPSBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lO1xuXG4gICAgICAgICAgLy8gUGxheSB0aGUgc291bmQgdXNpbmcgdGhlIHN1cHBvcnRlZCBtZXRob2QuXG4gICAgICAgICAgaWYgKHR5cGVvZiBub2RlLmJ1ZmZlclNvdXJjZS5zdGFydCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHNvdW5kLl9sb29wID8gbm9kZS5idWZmZXJTb3VyY2Uubm90ZUdyYWluT24oMCwgc2VlaywgODY0MDApIDogbm9kZS5idWZmZXJTb3VyY2Uubm90ZUdyYWluT24oMCwgc2VlaywgZHVyYXRpb24pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzb3VuZC5fbG9vcCA/IG5vZGUuYnVmZmVyU291cmNlLnN0YXJ0KDAsIHNlZWssIDg2NDAwKSA6IG5vZGUuYnVmZmVyU291cmNlLnN0YXJ0KDAsIHNlZWssIGR1cmF0aW9uKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBTdGFydCBhIG5ldyB0aW1lciBpZiBub25lIGlzIHByZXNlbnQuXG4gICAgICAgICAgaWYgKHRpbWVvdXQgIT09IEluZmluaXR5KSB7XG4gICAgICAgICAgICBzZWxmLl9lbmRUaW1lcnNbc291bmQuX2lkXSA9IHNldFRpbWVvdXQoc2VsZi5fZW5kZWQuYmluZChzZWxmLCBzb3VuZCksIHRpbWVvdXQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghaW50ZXJuYWwpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3BsYXknLCBzb3VuZC5faWQpO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBpc1J1bm5pbmcgPSAoSG93bGVyLnN0YXRlID09PSAncnVubmluZycpO1xuICAgICAgICBpZiAoc2VsZi5fc3RhdGUgPT09ICdsb2FkZWQnICYmIGlzUnVubmluZykge1xuICAgICAgICAgIHBsYXlXZWJBdWRpbygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFdhaXQgZm9yIHRoZSBhdWRpbyB0byBsb2FkIGFuZCB0aGVuIGJlZ2luIHBsYXliYWNrLlxuICAgICAgICAgIHNlbGYub25jZShpc1J1bm5pbmcgPyAnbG9hZCcgOiAncmVzdW1lJywgcGxheVdlYkF1ZGlvLCBpc1J1bm5pbmcgPyBzb3VuZC5faWQgOiBudWxsKTtcblxuICAgICAgICAgIC8vIENhbmNlbCB0aGUgZW5kIHRpbWVyLlxuICAgICAgICAgIHNlbGYuX2NsZWFyVGltZXIoc291bmQuX2lkKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRmlyZSB0aGlzIHdoZW4gdGhlIHNvdW5kIGlzIHJlYWR5IHRvIHBsYXkgdG8gYmVnaW4gSFRNTDUgQXVkaW8gcGxheWJhY2suXG4gICAgICAgIHZhciBwbGF5SHRtbDUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBub2RlLmN1cnJlbnRUaW1lID0gc2VlaztcbiAgICAgICAgICBub2RlLm11dGVkID0gc291bmQuX211dGVkIHx8IHNlbGYuX211dGVkIHx8IEhvd2xlci5fbXV0ZWQgfHwgbm9kZS5tdXRlZDtcbiAgICAgICAgICBub2RlLnZvbHVtZSA9IHNvdW5kLl92b2x1bWUgKiBIb3dsZXIudm9sdW1lKCk7XG4gICAgICAgICAgbm9kZS5wbGF5YmFja1JhdGUgPSBzb3VuZC5fcmF0ZTtcblxuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBub2RlLnBsYXkoKTtcblxuICAgICAgICAgICAgLy8gU2V0dXAgdGhlIG5ldyBlbmQgdGltZXIuXG4gICAgICAgICAgICBpZiAodGltZW91dCAhPT0gSW5maW5pdHkpIHtcbiAgICAgICAgICAgICAgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0gPSBzZXRUaW1lb3V0KHNlbGYuX2VuZGVkLmJpbmQoc2VsZiwgc291bmQpLCB0aW1lb3V0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFpbnRlcm5hbCkge1xuICAgICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5Jywgc291bmQuX2lkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBQbGF5IGltbWVkaWF0ZWx5IGlmIHJlYWR5LCBvciB3YWl0IGZvciB0aGUgJ2NhbnBsYXl0aHJvdWdoJ2UgdmVudC5cbiAgICAgICAgdmFyIGxvYWRlZE5vUmVhZHlTdGF0ZSA9IChzZWxmLl9zdGF0ZSA9PT0gJ2xvYWRlZCcgJiYgKHdpbmRvdyAmJiB3aW5kb3cuZWplY3RhIHx8ICFub2RlLnJlYWR5U3RhdGUgJiYgSG93bGVyLl9uYXZpZ2F0b3IuaXNDb2Nvb25KUykpO1xuICAgICAgICBpZiAobm9kZS5yZWFkeVN0YXRlID09PSA0IHx8IGxvYWRlZE5vUmVhZHlTdGF0ZSkge1xuICAgICAgICAgIHBsYXlIdG1sNSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gQmVnaW4gcGxheWJhY2suXG4gICAgICAgICAgICBwbGF5SHRtbDUoKTtcblxuICAgICAgICAgICAgLy8gQ2xlYXIgdGhpcyBsaXN0ZW5lci5cbiAgICAgICAgICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihIb3dsZXIuX2NhblBsYXlFdmVudCwgbGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihIb3dsZXIuX2NhblBsYXlFdmVudCwgbGlzdGVuZXIsIGZhbHNlKTtcblxuICAgICAgICAgIC8vIENhbmNlbCB0aGUgZW5kIHRpbWVyLlxuICAgICAgICAgIHNlbGYuX2NsZWFyVGltZXIoc291bmQuX2lkKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc291bmQuX2lkO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQYXVzZSBwbGF5YmFjayBhbmQgc2F2ZSBjdXJyZW50IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgVGhlIHNvdW5kIElEIChlbXB0eSB0byBwYXVzZSBhbGwgaW4gZ3JvdXApLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgcGF1c2U6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gcGF1c2Ugd2hlbiBjYXBhYmxlLlxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICBldmVudDogJ3BhdXNlJyxcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5wYXVzZShpZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgbm8gaWQgaXMgcGFzc2VkLCBnZXQgYWxsIElEJ3MgdG8gYmUgcGF1c2VkLlxuICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcblxuICAgICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBDbGVhciB0aGUgZW5kIHRpbWVyLlxuICAgICAgICBzZWxmLl9jbGVhclRpbWVyKGlkc1tpXSk7XG5cbiAgICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XG5cbiAgICAgICAgaWYgKHNvdW5kICYmICFzb3VuZC5fcGF1c2VkKSB7XG4gICAgICAgICAgLy8gUmVzZXQgdGhlIHNlZWsgcG9zaXRpb24uXG4gICAgICAgICAgc291bmQuX3NlZWsgPSBzZWxmLnNlZWsoaWRzW2ldKTtcbiAgICAgICAgICBzb3VuZC5fcmF0ZVNlZWsgPSAwO1xuICAgICAgICAgIHNvdW5kLl9wYXVzZWQgPSB0cnVlO1xuXG4gICAgICAgICAgLy8gU3RvcCBjdXJyZW50bHkgcnVubmluZyBmYWRlcy5cbiAgICAgICAgICBzZWxmLl9zdG9wRmFkZShpZHNbaV0pO1xuXG4gICAgICAgICAgaWYgKHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHRoZSBzb3VuZCBoYXMgYmVlbiBjcmVhdGVkXG4gICAgICAgICAgICAgIGlmICghc291bmQuX25vZGUuYnVmZmVyU291cmNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAodHlwZW9mIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5zdG9wID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5ub3RlT2ZmKDApO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5zdG9wKDApO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gQ2xlYW4gdXAgdGhlIGJ1ZmZlciBzb3VyY2UuXG4gICAgICAgICAgICAgIHNlbGYuX2NsZWFuQnVmZmVyKHNvdW5kLl9ub2RlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWlzTmFOKHNvdW5kLl9ub2RlLmR1cmF0aW9uKSB8fCBzb3VuZC5fbm9kZS5kdXJhdGlvbiA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICAgICAgc291bmQuX25vZGUucGF1c2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGaXJlIHRoZSBwYXVzZSBldmVudCwgdW5sZXNzIGB0cnVlYCBpcyBwYXNzZWQgYXMgdGhlIDJuZCBhcmd1bWVudC5cbiAgICAgICAgaWYgKCFhcmd1bWVudHNbMV0pIHtcbiAgICAgICAgICBzZWxmLl9lbWl0KCdwYXVzZScsIHNvdW5kID8gc291bmQuX2lkIDogbnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFN0b3AgcGxheWJhY2sgYW5kIHJlc2V0IHRvIHN0YXJ0LlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgVGhlIHNvdW5kIElEIChlbXB0eSB0byBzdG9wIGFsbCBpbiBncm91cCkuXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gaW50ZXJuYWwgSW50ZXJuYWwgVXNlOiB0cnVlIHByZXZlbnRzIGV2ZW50IGZpcmluZy5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIHN0b3A6IGZ1bmN0aW9uKGlkLCBpbnRlcm5hbCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIHN0b3Agd2hlbiBjYXBhYmxlLlxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICBldmVudDogJ3N0b3AnLFxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLnN0b3AoaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIG5vIGlkIGlzIHBhc3NlZCwgZ2V0IGFsbCBJRCdzIHRvIGJlIHN0b3BwZWQuXG4gICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuXG4gICAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIENsZWFyIHRoZSBlbmQgdGltZXIuXG4gICAgICAgIHNlbGYuX2NsZWFyVGltZXIoaWRzW2ldKTtcblxuICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgICAvLyBSZXNldCB0aGUgc2VlayBwb3NpdGlvbi5cbiAgICAgICAgICBzb3VuZC5fc2VlayA9IHNvdW5kLl9zdGFydCB8fCAwO1xuICAgICAgICAgIHNvdW5kLl9yYXRlU2VlayA9IDA7XG4gICAgICAgICAgc291bmQuX3BhdXNlZCA9IHRydWU7XG4gICAgICAgICAgc291bmQuX2VuZGVkID0gdHJ1ZTtcblxuICAgICAgICAgIC8vIFN0b3AgY3VycmVudGx5IHJ1bm5pbmcgZmFkZXMuXG4gICAgICAgICAgc2VsZi5fc3RvcEZhZGUoaWRzW2ldKTtcblxuICAgICAgICAgIGlmIChzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSB0aGUgc291bmQgaGFzIGJlZW4gY3JlYXRlZFxuICAgICAgICAgICAgICBpZiAoIXNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZSkge1xuICAgICAgICAgICAgICAgIGlmICghaW50ZXJuYWwpIHtcbiAgICAgICAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3N0b3AnLCBzb3VuZC5faWQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2Uuc3RvcCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2Uubm90ZU9mZigwKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2Uuc3RvcCgwKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIENsZWFuIHVwIHRoZSBidWZmZXIgc291cmNlLlxuICAgICAgICAgICAgICBzZWxmLl9jbGVhbkJ1ZmZlcihzb3VuZC5fbm9kZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFpc05hTihzb3VuZC5fbm9kZS5kdXJhdGlvbikgfHwgc291bmQuX25vZGUuZHVyYXRpb24gPT09IEluZmluaXR5KSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmN1cnJlbnRUaW1lID0gc291bmQuX3N0YXJ0IHx8IDA7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLnBhdXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNvdW5kICYmICFpbnRlcm5hbCkge1xuICAgICAgICAgIHNlbGYuX2VtaXQoJ3N0b3AnLCBzb3VuZC5faWQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNdXRlL3VubXV0ZSBhIHNpbmdsZSBzb3VuZCBvciBhbGwgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBtdXRlZCBTZXQgdG8gdHJ1ZSB0byBtdXRlIGFuZCBmYWxzZSB0byB1bm11dGUuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCAgICBUaGUgc291bmQgSUQgdG8gdXBkYXRlIChvbWl0IHRvIG11dGUvdW5tdXRlIGFsbCkuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBtdXRlOiBmdW5jdGlvbihtdXRlZCwgaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBtdXRlIHdoZW4gY2FwYWJsZS5cbiAgICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcpIHtcbiAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgZXZlbnQ6ICdtdXRlJyxcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5tdXRlKG11dGVkLCBpZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgYXBwbHlpbmcgbXV0ZS91bm11dGUgdG8gYWxsIHNvdW5kcywgdXBkYXRlIHRoZSBncm91cCdzIHZhbHVlLlxuICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBtdXRlZCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgc2VsZi5fbXV0ZWQgPSBtdXRlZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gc2VsZi5fbXV0ZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gSWYgbm8gaWQgaXMgcGFzc2VkLCBnZXQgYWxsIElEJ3MgdG8gYmUgbXV0ZWQuXG4gICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuXG4gICAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIEdldCB0aGUgc291bmQuXG4gICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xuXG4gICAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICAgIHNvdW5kLl9tdXRlZCA9IG11dGVkO1xuXG4gICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmIHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKG11dGVkID8gMCA6IHNvdW5kLl92b2x1bWUsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLm11dGVkID0gSG93bGVyLl9tdXRlZCA/IHRydWUgOiBtdXRlZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZWxmLl9lbWl0KCdtdXRlJywgc291bmQuX2lkKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0L3NldCB0aGUgdm9sdW1lIG9mIHRoaXMgc291bmQgb3Igb2YgdGhlIEhvd2wgZ3JvdXAuIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGx5IHRha2UgMCwgMSBvciAyIGFyZ3VtZW50cy5cbiAgICAgKiAgIHZvbHVtZSgpIC0+IFJldHVybnMgdGhlIGdyb3VwJ3Mgdm9sdW1lIHZhbHVlLlxuICAgICAqICAgdm9sdW1lKGlkKSAtPiBSZXR1cm5zIHRoZSBzb3VuZCBpZCdzIGN1cnJlbnQgdm9sdW1lLlxuICAgICAqICAgdm9sdW1lKHZvbCkgLT4gU2V0cyB0aGUgdm9sdW1lIG9mIGFsbCBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxuICAgICAqICAgdm9sdW1lKHZvbCwgaWQpIC0+IFNldHMgdGhlIHZvbHVtZSBvZiBwYXNzZWQgc291bmQgaWQuXG4gICAgICogQHJldHVybiB7SG93bC9OdW1iZXJ9IFJldHVybnMgc2VsZiBvciBjdXJyZW50IHZvbHVtZS5cbiAgICAgKi9cbiAgICB2b2x1bWU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICB2YXIgdm9sLCBpZDtcblxuICAgICAgLy8gRGV0ZXJtaW5lIHRoZSB2YWx1ZXMgYmFzZWQgb24gYXJndW1lbnRzLlxuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIFJldHVybiB0aGUgdmFsdWUgb2YgdGhlIGdyb3Vwcycgdm9sdW1lLlxuICAgICAgICByZXR1cm4gc2VsZi5fdm9sdW1lO1xuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSB8fCBhcmdzLmxlbmd0aCA9PT0gMiAmJiB0eXBlb2YgYXJnc1sxXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gRmlyc3QgY2hlY2sgaWYgdGhpcyBpcyBhbiBJRCwgYW5kIGlmIG5vdCwgYXNzdW1lIGl0IGlzIGEgbmV3IHZvbHVtZS5cbiAgICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKCk7XG4gICAgICAgIHZhciBpbmRleCA9IGlkcy5pbmRleE9mKGFyZ3NbMF0pO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1swXSwgMTApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZvbCA9IHBhcnNlRmxvYXQoYXJnc1swXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPj0gMikge1xuICAgICAgICB2b2wgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xuICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMV0sIDEwKTtcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIHRoZSB2b2x1bWUgb3IgcmV0dXJuIHRoZSBjdXJyZW50IHZvbHVtZS5cbiAgICAgIHZhciBzb3VuZDtcbiAgICAgIGlmICh0eXBlb2Ygdm9sICE9PSAndW5kZWZpbmVkJyAmJiB2b2wgPj0gMCAmJiB2b2wgPD0gMSkge1xuICAgICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIGNoYW5nZSB2b2x1bWUgd2hlbiBjYXBhYmxlLlxuICAgICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XG4gICAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgICBldmVudDogJ3ZvbHVtZScsXG4gICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBzZWxmLnZvbHVtZS5hcHBseShzZWxmLCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IHRoZSBncm91cCB2b2x1bWUuXG4gICAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgc2VsZi5fdm9sdW1lID0gdm9sO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIG9uZSBvciBhbGwgdm9sdW1lcy5cbiAgICAgICAgaWQgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxpZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIC8vIEdldCB0aGUgc291bmQuXG4gICAgICAgICAgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRbaV0pO1xuXG4gICAgICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgICAgICBzb3VuZC5fdm9sdW1lID0gdm9sO1xuXG4gICAgICAgICAgICAvLyBTdG9wIGN1cnJlbnRseSBydW5uaW5nIGZhZGVzLlxuICAgICAgICAgICAgaWYgKCFhcmdzWzJdKSB7XG4gICAgICAgICAgICAgIHNlbGYuX3N0b3BGYWRlKGlkW2ldKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmIHNvdW5kLl9ub2RlICYmICFzb3VuZC5fbXV0ZWQpIHtcbiAgICAgICAgICAgICAgc291bmQuX25vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZSh2b2wsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzb3VuZC5fbm9kZSAmJiAhc291bmQuX211dGVkKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLnZvbHVtZSA9IHZvbCAqIEhvd2xlci52b2x1bWUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VsZi5fZW1pdCgndm9sdW1lJywgc291bmQuX2lkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNvdW5kID0gaWQgPyBzZWxmLl9zb3VuZEJ5SWQoaWQpIDogc2VsZi5fc291bmRzWzBdO1xuICAgICAgICByZXR1cm4gc291bmQgPyBzb3VuZC5fdm9sdW1lIDogMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZhZGUgYSBjdXJyZW50bHkgcGxheWluZyBzb3VuZCBiZXR3ZWVuIHR3byB2b2x1bWVzIChpZiBubyBpZCBpcyBwYXNzc2VkLCBhbGwgc291bmRzIHdpbGwgZmFkZSkuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBmcm9tIFRoZSB2YWx1ZSB0byBmYWRlIGZyb20gKDAuMCB0byAxLjApLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gdG8gICBUaGUgdm9sdW1lIHRvIGZhZGUgdG8gKDAuMCB0byAxLjApLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gbGVuICBUaW1lIGluIG1pbGxpc2Vjb25kcyB0byBmYWRlLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgICBUaGUgc291bmQgaWQgKG9taXQgdG8gZmFkZSBhbGwgc291bmRzKS5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIGZhZGU6IGZ1bmN0aW9uKGZyb20sIHRvLCBsZW4sIGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgZGlmZiA9IE1hdGguYWJzKGZyb20gLSB0byk7XG4gICAgICB2YXIgZGlyID0gZnJvbSA+IHRvID8gJ291dCcgOiAnaW4nO1xuICAgICAgdmFyIHN0ZXBzID0gZGlmZiAvIDAuMDE7XG4gICAgICB2YXIgc3RlcExlbiA9IChzdGVwcyA+IDApID8gbGVuIC8gc3RlcHMgOiBsZW47XG5cbiAgICAgIC8vIFNpbmNlIGJyb3dzZXJzIGNsYW1wIHRpbWVvdXRzIHRvIDRtcywgd2UgbmVlZCB0byBjbGFtcCBvdXIgc3RlcHMgdG8gdGhhdCB0b28uXG4gICAgICBpZiAoc3RlcExlbiA8IDQpIHtcbiAgICAgICAgc3RlcHMgPSBNYXRoLmNlaWwoc3RlcHMgLyAoNCAvIHN0ZXBMZW4pKTtcbiAgICAgICAgc3RlcExlbiA9IDQ7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gZmFkZSB3aGVuIGNhcGFibGUuXG4gICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XG4gICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICAgIGV2ZW50OiAnZmFkZScsXG4gICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuZmFkZShmcm9tLCB0bywgbGVuLCBpZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgIH1cblxuICAgICAgLy8gU2V0IHRoZSB2b2x1bWUgdG8gdGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAgc2VsZi52b2x1bWUoZnJvbSwgaWQpO1xuXG4gICAgICAvLyBGYWRlIHRoZSB2b2x1bWUgb2Ygb25lIG9yIGFsbCBzb3VuZHMuXG4gICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuICAgICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgICAvLyBDcmVhdGUgYSBsaW5lYXIgZmFkZSBvciBmYWxsIGJhY2sgdG8gdGltZW91dHMgd2l0aCBIVE1MNSBBdWRpby5cbiAgICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgICAgLy8gU3RvcCB0aGUgcHJldmlvdXMgZmFkZSBpZiBubyBzcHJpdGUgaXMgYmVpbmcgdXNlZCAob3RoZXJ3aXNlLCB2b2x1bWUgaGFuZGxlcyB0aGlzKS5cbiAgICAgICAgICBpZiAoIWlkKSB7XG4gICAgICAgICAgICBzZWxmLl9zdG9wRmFkZShpZHNbaV0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIElmIHdlIGFyZSB1c2luZyBXZWIgQXVkaW8sIGxldCB0aGUgbmF0aXZlIG1ldGhvZHMgZG8gdGhlIGFjdHVhbCBmYWRlLlxuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiAhc291bmQuX211dGVkKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgdmFyIGVuZCA9IGN1cnJlbnRUaW1lICsgKGxlbiAvIDEwMDApO1xuICAgICAgICAgICAgc291bmQuX3ZvbHVtZSA9IGZyb207XG4gICAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKGZyb20sIGN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUodG8sIGVuZCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHZvbCA9IGZyb207XG4gICAgICAgICAgc291bmQuX2ludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oc291bmRJZCwgc291bmQpIHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgdm9sdW1lIGFtb3VudCwgYnV0IG9ubHkgaWYgdGhlIHZvbHVtZSBzaG91bGQgY2hhbmdlLlxuICAgICAgICAgICAgaWYgKHN0ZXBzID4gMCkge1xuICAgICAgICAgICAgICB2b2wgKz0gKGRpciA9PT0gJ2luJyA/IDAuMDEgOiAtMC4wMSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgdm9sdW1lIGlzIGluIHRoZSByaWdodCBib3VuZHMuXG4gICAgICAgICAgICB2b2wgPSBNYXRoLm1heCgwLCB2b2wpO1xuICAgICAgICAgICAgdm9sID0gTWF0aC5taW4oMSwgdm9sKTtcblxuICAgICAgICAgICAgLy8gUm91bmQgdG8gd2l0aGluIDIgZGVjaW1hbCBwb2ludHMuXG4gICAgICAgICAgICB2b2wgPSBNYXRoLnJvdW5kKHZvbCAqIDEwMCkgLyAxMDA7XG5cbiAgICAgICAgICAgIC8vIENoYW5nZSB0aGUgdm9sdW1lLlxuICAgICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5fdm9sdW1lID0gdm9sO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgc291bmQuX3ZvbHVtZSA9IHZvbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNlbGYudm9sdW1lKHZvbCwgc291bmRJZCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFdoZW4gdGhlIGZhZGUgaXMgY29tcGxldGUsIHN0b3AgaXQgYW5kIGZpcmUgZXZlbnQuXG4gICAgICAgICAgICBpZiAodm9sID09PSB0bykge1xuICAgICAgICAgICAgICBjbGVhckludGVydmFsKHNvdW5kLl9pbnRlcnZhbCk7XG4gICAgICAgICAgICAgIHNvdW5kLl9pbnRlcnZhbCA9IG51bGw7XG4gICAgICAgICAgICAgIHNlbGYudm9sdW1lKHZvbCwgc291bmRJZCk7XG4gICAgICAgICAgICAgIHNlbGYuX2VtaXQoJ2ZhZGUnLCBzb3VuZElkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LmJpbmQoc2VsZiwgaWRzW2ldLCBzb3VuZCksIHN0ZXBMZW4pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBtZXRob2QgdGhhdCBzdG9wcyB0aGUgY3VycmVudGx5IHBsYXlpbmcgZmFkZSB3aGVuXG4gICAgICogYSBuZXcgZmFkZSBzdGFydHMsIHZvbHVtZSBpcyBjaGFuZ2VkIG9yIHRoZSBzb3VuZCBpcyBzdG9wcGVkLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgVGhlIHNvdW5kIGlkLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX3N0b3BGYWRlOiBmdW5jdGlvbihpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcblxuICAgICAgaWYgKHNvdW5kICYmIHNvdW5kLl9pbnRlcnZhbCkge1xuICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyhIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNsZWFySW50ZXJ2YWwoc291bmQuX2ludGVydmFsKTtcbiAgICAgICAgc291bmQuX2ludGVydmFsID0gbnVsbDtcbiAgICAgICAgc2VsZi5fZW1pdCgnZmFkZScsIGlkKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldC9zZXQgdGhlIGxvb3AgcGFyYW1ldGVyIG9uIGEgc291bmQuIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGx5IHRha2UgMCwgMSBvciAyIGFyZ3VtZW50cy5cbiAgICAgKiAgIGxvb3AoKSAtPiBSZXR1cm5zIHRoZSBncm91cCdzIGxvb3AgdmFsdWUuXG4gICAgICogICBsb29wKGlkKSAtPiBSZXR1cm5zIHRoZSBzb3VuZCBpZCdzIGxvb3AgdmFsdWUuXG4gICAgICogICBsb29wKGxvb3ApIC0+IFNldHMgdGhlIGxvb3AgdmFsdWUgZm9yIGFsbCBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxuICAgICAqICAgbG9vcChsb29wLCBpZCkgLT4gU2V0cyB0aGUgbG9vcCB2YWx1ZSBvZiBwYXNzZWQgc291bmQgaWQuXG4gICAgICogQHJldHVybiB7SG93bC9Cb29sZWFufSBSZXR1cm5zIHNlbGYgb3IgY3VycmVudCBsb29wIHZhbHVlLlxuICAgICAqL1xuICAgIGxvb3A6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICB2YXIgbG9vcCwgaWQsIHNvdW5kO1xuXG4gICAgICAvLyBEZXRlcm1pbmUgdGhlIHZhbHVlcyBmb3IgbG9vcCBhbmQgaWQuXG4gICAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gUmV0dXJuIHRoZSBncm91J3MgbG9vcCB2YWx1ZS5cbiAgICAgICAgcmV0dXJuIHNlbGYuX2xvb3A7XG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgbG9vcCA9IGFyZ3NbMF07XG4gICAgICAgICAgc2VsZi5fbG9vcCA9IGxvb3A7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gUmV0dXJuIHRoaXMgc291bmQncyBsb29wIHZhbHVlLlxuICAgICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKHBhcnNlSW50KGFyZ3NbMF0sIDEwKSk7XG4gICAgICAgICAgcmV0dXJuIHNvdW5kID8gc291bmQuX2xvb3AgOiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICBsb29wID0gYXJnc1swXTtcbiAgICAgICAgaWQgPSBwYXJzZUludChhcmdzWzFdLCAxMCk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIG5vIGlkIGlzIHBhc3NlZCwgZ2V0IGFsbCBJRCdzIHRvIGJlIGxvb3BlZC5cbiAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XG5cbiAgICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgICAgc291bmQuX2xvb3AgPSBsb29wO1xuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBzb3VuZC5fbm9kZSAmJiBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UpIHtcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wID0gbG9vcDtcbiAgICAgICAgICAgIGlmIChsb29wKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wU3RhcnQgPSBzb3VuZC5fc3RhcnQgfHwgMDtcbiAgICAgICAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmxvb3BFbmQgPSBzb3VuZC5fc3RvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldC9zZXQgdGhlIHBsYXliYWNrIHJhdGUgb2YgYSBzb3VuZC4gVGhpcyBtZXRob2QgY2FuIG9wdGlvbmFsbHkgdGFrZSAwLCAxIG9yIDIgYXJndW1lbnRzLlxuICAgICAqICAgcmF0ZSgpIC0+IFJldHVybnMgdGhlIGZpcnN0IHNvdW5kIG5vZGUncyBjdXJyZW50IHBsYXliYWNrIHJhdGUuXG4gICAgICogICByYXRlKGlkKSAtPiBSZXR1cm5zIHRoZSBzb3VuZCBpZCdzIGN1cnJlbnQgcGxheWJhY2sgcmF0ZS5cbiAgICAgKiAgIHJhdGUocmF0ZSkgLT4gU2V0cyB0aGUgcGxheWJhY2sgcmF0ZSBvZiBhbGwgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cbiAgICAgKiAgIHJhdGUocmF0ZSwgaWQpIC0+IFNldHMgdGhlIHBsYXliYWNrIHJhdGUgb2YgcGFzc2VkIHNvdW5kIGlkLlxuICAgICAqIEByZXR1cm4ge0hvd2wvTnVtYmVyfSBSZXR1cm5zIHNlbGYgb3IgdGhlIGN1cnJlbnQgcGxheWJhY2sgcmF0ZS5cbiAgICAgKi9cbiAgICByYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgdmFyIHJhdGUsIGlkO1xuXG4gICAgICAvLyBEZXRlcm1pbmUgdGhlIHZhbHVlcyBiYXNlZCBvbiBhcmd1bWVudHMuXG4gICAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gV2Ugd2lsbCBzaW1wbHkgcmV0dXJuIHRoZSBjdXJyZW50IHJhdGUgb2YgdGhlIGZpcnN0IG5vZGUuXG4gICAgICAgIGlkID0gc2VsZi5fc291bmRzWzBdLl9pZDtcbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgLy8gRmlyc3QgY2hlY2sgaWYgdGhpcyBpcyBhbiBJRCwgYW5kIGlmIG5vdCwgYXNzdW1lIGl0IGlzIGEgbmV3IHJhdGUgdmFsdWUuXG4gICAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcygpO1xuICAgICAgICB2YXIgaW5kZXggPSBpZHMuaW5kZXhPZihhcmdzWzBdKTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMF0sIDEwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByYXRlID0gcGFyc2VGbG9hdChhcmdzWzBdKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICByYXRlID0gcGFyc2VGbG9hdChhcmdzWzBdKTtcbiAgICAgICAgaWQgPSBwYXJzZUludChhcmdzWzFdLCAxMCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgcGxheWJhY2sgcmF0ZSBvciByZXR1cm4gdGhlIGN1cnJlbnQgdmFsdWUuXG4gICAgICB2YXIgc291bmQ7XG4gICAgICBpZiAodHlwZW9mIHJhdGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gY2hhbmdlIHBsYXliYWNrIHJhdGUgd2hlbiBjYXBhYmxlLlxuICAgICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XG4gICAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgICBldmVudDogJ3JhdGUnLFxuICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgc2VsZi5yYXRlLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgdGhlIGdyb3VwIHJhdGUuXG4gICAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgc2VsZi5fcmF0ZSA9IHJhdGU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcGRhdGUgb25lIG9yIGFsbCB2b2x1bWVzLlxuICAgICAgICBpZCA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPGlkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgICAgICBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZFtpXSk7XG5cbiAgICAgICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgICAgIC8vIEtlZXAgdHJhY2sgb2Ygb3VyIHBvc2l0aW9uIHdoZW4gdGhlIHJhdGUgY2hhbmdlZCBhbmQgdXBkYXRlIHRoZSBwbGF5YmFja1xuICAgICAgICAgICAgLy8gc3RhcnQgcG9zaXRpb24gc28gd2UgY2FuIHByb3Blcmx5IGFkanVzdCB0aGUgc2VlayBwb3NpdGlvbiBmb3IgdGltZSBlbGFwc2VkLlxuICAgICAgICAgICAgc291bmQuX3JhdGVTZWVrID0gc2VsZi5zZWVrKGlkW2ldKTtcbiAgICAgICAgICAgIHNvdW5kLl9wbGF5U3RhcnQgPSBzZWxmLl93ZWJBdWRpbyA/IEhvd2xlci5jdHguY3VycmVudFRpbWUgOiBzb3VuZC5fcGxheVN0YXJ0O1xuICAgICAgICAgICAgc291bmQuX3JhdGUgPSByYXRlO1xuXG4gICAgICAgICAgICAvLyBDaGFuZ2UgdGhlIHBsYXliYWNrIHJhdGUuXG4gICAgICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8gJiYgc291bmQuX25vZGUgJiYgc291bmQuX25vZGUuYnVmZmVyU291cmNlKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5wbGF5YmFja1JhdGUudmFsdWUgPSByYXRlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5wbGF5YmFja1JhdGUgPSByYXRlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSZXNldCB0aGUgdGltZXJzLlxuICAgICAgICAgICAgdmFyIHNlZWsgPSBzZWxmLnNlZWsoaWRbaV0pO1xuICAgICAgICAgICAgdmFyIGR1cmF0aW9uID0gKChzZWxmLl9zcHJpdGVbc291bmQuX3Nwcml0ZV1bMF0gKyBzZWxmLl9zcHJpdGVbc291bmQuX3Nwcml0ZV1bMV0pIC8gMTAwMCkgLSBzZWVrO1xuICAgICAgICAgICAgdmFyIHRpbWVvdXQgPSAoZHVyYXRpb24gKiAxMDAwKSAvIE1hdGguYWJzKHNvdW5kLl9yYXRlKTtcblxuICAgICAgICAgICAgLy8gU3RhcnQgYSBuZXcgZW5kIHRpbWVyIGlmIHNvdW5kIGlzIGFscmVhZHkgcGxheWluZy5cbiAgICAgICAgICAgIGlmIChzZWxmLl9lbmRUaW1lcnNbaWRbaV1dIHx8ICFzb3VuZC5fcGF1c2VkKSB7XG4gICAgICAgICAgICAgIHNlbGYuX2NsZWFyVGltZXIoaWRbaV0pO1xuICAgICAgICAgICAgICBzZWxmLl9lbmRUaW1lcnNbaWRbaV1dID0gc2V0VGltZW91dChzZWxmLl9lbmRlZC5iaW5kKHNlbGYsIHNvdW5kKSwgdGltZW91dCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3JhdGUnLCBzb3VuZC5faWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWQpO1xuICAgICAgICByZXR1cm4gc291bmQgPyBzb3VuZC5fcmF0ZSA6IHNlbGYuX3JhdGU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQvc2V0IHRoZSBzZWVrIHBvc2l0aW9uIG9mIGEgc291bmQuIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGx5IHRha2UgMCwgMSBvciAyIGFyZ3VtZW50cy5cbiAgICAgKiAgIHNlZWsoKSAtPiBSZXR1cm5zIHRoZSBmaXJzdCBzb3VuZCBub2RlJ3MgY3VycmVudCBzZWVrIHBvc2l0aW9uLlxuICAgICAqICAgc2VlayhpZCkgLT4gUmV0dXJucyB0aGUgc291bmQgaWQncyBjdXJyZW50IHNlZWsgcG9zaXRpb24uXG4gICAgICogICBzZWVrKHNlZWspIC0+IFNldHMgdGhlIHNlZWsgcG9zaXRpb24gb2YgdGhlIGZpcnN0IHNvdW5kIG5vZGUuXG4gICAgICogICBzZWVrKHNlZWssIGlkKSAtPiBTZXRzIHRoZSBzZWVrIHBvc2l0aW9uIG9mIHBhc3NlZCBzb3VuZCBpZC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsL051bWJlcn0gUmV0dXJucyBzZWxmIG9yIHRoZSBjdXJyZW50IHNlZWsgcG9zaXRpb24uXG4gICAgICovXG4gICAgc2VlazogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIHZhciBzZWVrLCBpZDtcblxuICAgICAgLy8gRGV0ZXJtaW5lIHRoZSB2YWx1ZXMgYmFzZWQgb24gYXJndW1lbnRzLlxuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIFdlIHdpbGwgc2ltcGx5IHJldHVybiB0aGUgY3VycmVudCBwb3NpdGlvbiBvZiB0aGUgZmlyc3Qgbm9kZS5cbiAgICAgICAgaWQgPSBzZWxmLl9zb3VuZHNbMF0uX2lkO1xuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAvLyBGaXJzdCBjaGVjayBpZiB0aGlzIGlzIGFuIElELCBhbmQgaWYgbm90LCBhc3N1bWUgaXQgaXMgYSBuZXcgc2VlayBwb3NpdGlvbi5cbiAgICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKCk7XG4gICAgICAgIHZhciBpbmRleCA9IGlkcy5pbmRleE9mKGFyZ3NbMF0pO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1swXSwgMTApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlkID0gc2VsZi5fc291bmRzWzBdLl9pZDtcbiAgICAgICAgICBzZWVrID0gcGFyc2VGbG9hdChhcmdzWzBdKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICBzZWVrID0gcGFyc2VGbG9hdChhcmdzWzBdKTtcbiAgICAgICAgaWQgPSBwYXJzZUludChhcmdzWzFdLCAxMCk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZXJlIGlzIG5vIElELCBiYWlsIG91dC5cbiAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIHNlZWsgd2hlbiBjYXBhYmxlLlxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICBldmVudDogJ3NlZWsnLFxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLnNlZWsuYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgIH1cblxuICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZCk7XG5cbiAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICBpZiAodHlwZW9mIHNlZWsgPT09ICdudW1iZXInICYmIHNlZWsgPj0gMCkge1xuICAgICAgICAgIC8vIFBhdXNlIHRoZSBzb3VuZCBhbmQgdXBkYXRlIHBvc2l0aW9uIGZvciByZXN0YXJ0aW5nIHBsYXliYWNrLlxuICAgICAgICAgIHZhciBwbGF5aW5nID0gc2VsZi5wbGF5aW5nKGlkKTtcbiAgICAgICAgICBpZiAocGxheWluZykge1xuICAgICAgICAgICAgc2VsZi5wYXVzZShpZCwgdHJ1ZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gTW92ZSB0aGUgcG9zaXRpb24gb2YgdGhlIHRyYWNrIGFuZCBjYW5jZWwgdGltZXIuXG4gICAgICAgICAgc291bmQuX3NlZWsgPSBzZWVrO1xuICAgICAgICAgIHNvdW5kLl9lbmRlZCA9IGZhbHNlO1xuICAgICAgICAgIHNlbGYuX2NsZWFyVGltZXIoaWQpO1xuXG4gICAgICAgICAgLy8gUmVzdGFydCB0aGUgcGxheWJhY2sgaWYgdGhlIHNvdW5kIHdhcyBwbGF5aW5nLlxuICAgICAgICAgIGlmIChwbGF5aW5nKSB7XG4gICAgICAgICAgICBzZWxmLnBsYXkoaWQsIHRydWUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgc2VlayBwb3NpdGlvbiBmb3IgSFRNTDUgQXVkaW8uXG4gICAgICAgICAgaWYgKCFzZWxmLl93ZWJBdWRpbyAmJiBzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgc291bmQuX25vZGUuY3VycmVudFRpbWUgPSBzZWVrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuX2VtaXQoJ3NlZWsnLCBpZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgICB2YXIgcmVhbFRpbWUgPSBzZWxmLnBsYXlpbmcoaWQpID8gSG93bGVyLmN0eC5jdXJyZW50VGltZSAtIHNvdW5kLl9wbGF5U3RhcnQgOiAwO1xuICAgICAgICAgICAgdmFyIHJhdGVTZWVrID0gc291bmQuX3JhdGVTZWVrID8gc291bmQuX3JhdGVTZWVrIC0gc291bmQuX3NlZWsgOiAwO1xuICAgICAgICAgICAgcmV0dXJuIHNvdW5kLl9zZWVrICsgKHJhdGVTZWVrICsgcmVhbFRpbWUgKiBNYXRoLmFicyhzb3VuZC5fcmF0ZSkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc291bmQuX25vZGUuY3VycmVudFRpbWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBhIHNwZWNpZmljIHNvdW5kIGlzIGN1cnJlbnRseSBwbGF5aW5nIG9yIG5vdCAoaWYgaWQgaXMgcHJvdmlkZWQpLCBvciBjaGVjayBpZiBhdCBsZWFzdCBvbmUgb2YgdGhlIHNvdW5kcyBpbiB0aGUgZ3JvdXAgaXMgcGxheWluZyBvciBub3QuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgaWQgVGhlIHNvdW5kIGlkIHRvIGNoZWNrLiBJZiBub25lIGlzIHBhc3NlZCwgdGhlIHdob2xlIHNvdW5kIGdyb3VwIGlzIGNoZWNrZWQuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiBwbGF5aW5nIGFuZCBmYWxzZSBpZiBub3QuXG4gICAgICovXG4gICAgcGxheWluZzogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gQ2hlY2sgdGhlIHBhc3NlZCBzb3VuZCBJRCAoaWYgYW55KS5cbiAgICAgIGlmICh0eXBlb2YgaWQgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZCk7XG4gICAgICAgIHJldHVybiBzb3VuZCA/ICFzb3VuZC5fcGF1c2VkIDogZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIE90aGVyd2lzZSwgbG9vcCB0aHJvdWdoIGFsbCBzb3VuZHMgYW5kIGNoZWNrIGlmIGFueSBhcmUgcGxheWluZy5cbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9zb3VuZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFzZWxmLl9zb3VuZHNbaV0uX3BhdXNlZCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBkdXJhdGlvbiBvZiB0aGlzIHNvdW5kLiBQYXNzaW5nIGEgc291bmQgaWQgd2lsbCByZXR1cm4gdGhlIHNwcml0ZSBkdXJhdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFRoZSBzb3VuZCBpZCB0byBjaGVjay4gSWYgbm9uZSBpcyBwYXNzZWQsIHJldHVybiBmdWxsIHNvdXJjZSBkdXJhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IEF1ZGlvIGR1cmF0aW9uIGluIHNlY29uZHMuXG4gICAgICovXG4gICAgZHVyYXRpb246IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgZHVyYXRpb24gPSBzZWxmLl9kdXJhdGlvbjtcblxuICAgICAgLy8gSWYgd2UgcGFzcyBhbiBJRCwgZ2V0IHRoZSBzb3VuZCBhbmQgcmV0dXJuIHRoZSBzcHJpdGUgbGVuZ3RoLlxuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcbiAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICBkdXJhdGlvbiA9IHNlbGYuX3Nwcml0ZVtzb3VuZC5fc3ByaXRlXVsxXSAvIDEwMDA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkdXJhdGlvbjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCBsb2FkZWQgc3RhdGUgb2YgdGhpcyBIb3dsLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gJ3VubG9hZGVkJywgJ2xvYWRpbmcnLCAnbG9hZGVkJ1xuICAgICAqL1xuICAgIHN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVW5sb2FkIGFuZCBkZXN0cm95IHRoZSBjdXJyZW50IEhvd2wgb2JqZWN0LlxuICAgICAqIFRoaXMgd2lsbCBpbW1lZGlhdGVseSBzdG9wIGFsbCBzb3VuZCBpbnN0YW5jZXMgYXR0YWNoZWQgdG8gdGhpcyBncm91cC5cbiAgICAgKi9cbiAgICB1bmxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBTdG9wIHBsYXlpbmcgYW55IGFjdGl2ZSBzb3VuZHMuXG4gICAgICB2YXIgc291bmRzID0gc2VsZi5fc291bmRzO1xuICAgICAgZm9yICh2YXIgaT0wOyBpPHNvdW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBTdG9wIHRoZSBzb3VuZCBpZiBpdCBpcyBjdXJyZW50bHkgcGxheWluZy5cbiAgICAgICAgaWYgKCFzb3VuZHNbaV0uX3BhdXNlZCkge1xuICAgICAgICAgIHNlbGYuc3RvcChzb3VuZHNbaV0uX2lkKTtcbiAgICAgICAgICBzZWxmLl9lbWl0KCdlbmQnLCBzb3VuZHNbaV0uX2lkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbW92ZSB0aGUgc291cmNlIG9yIGRpc2Nvbm5lY3QuXG4gICAgICAgIGlmICghc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgICAvLyBTZXQgdGhlIHNvdXJjZSB0byAwLXNlY29uZCBzaWxlbmNlIHRvIHN0b3AgYW55IGRvd25sb2FkaW5nLlxuICAgICAgICAgIHNvdW5kc1tpXS5fbm9kZS5zcmMgPSAnZGF0YTphdWRpby93YXY7YmFzZTY0LFVrbEdSaVFBQUFCWFFWWkZabTEwSUJBQUFBQUJBQUVBUkt3QUFJaFlBUUFDQUJBQVpHRjBZUUFBQUFBPSc7XG5cbiAgICAgICAgICAvLyBSZW1vdmUgYW55IGV2ZW50IGxpc3RlbmVycy5cbiAgICAgICAgICBzb3VuZHNbaV0uX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBzb3VuZHNbaV0uX2Vycm9yRm4sIGZhbHNlKTtcbiAgICAgICAgICBzb3VuZHNbaV0uX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihIb3dsZXIuX2NhblBsYXlFdmVudCwgc291bmRzW2ldLl9sb2FkRm4sIGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEVtcHR5IG91dCBhbGwgb2YgdGhlIG5vZGVzLlxuICAgICAgICBkZWxldGUgc291bmRzW2ldLl9ub2RlO1xuXG4gICAgICAgIC8vIE1ha2Ugc3VyZSBhbGwgdGltZXJzIGFyZSBjbGVhcmVkIG91dC5cbiAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihzb3VuZHNbaV0uX2lkKTtcblxuICAgICAgICAvLyBSZW1vdmUgdGhlIHJlZmVyZW5jZXMgaW4gdGhlIGdsb2JhbCBIb3dsZXIgb2JqZWN0LlxuICAgICAgICB2YXIgaW5kZXggPSBIb3dsZXIuX2hvd2xzLmluZGV4T2Yoc2VsZik7XG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgSG93bGVyLl9ob3dscy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIERlbGV0ZSB0aGlzIHNvdW5kIGZyb20gdGhlIGNhY2hlIChpZiBubyBvdGhlciBIb3dsIGlzIHVzaW5nIGl0KS5cbiAgICAgIHZhciByZW1DYWNoZSA9IHRydWU7XG4gICAgICBmb3IgKGk9MDsgaTxIb3dsZXIuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChIb3dsZXIuX2hvd2xzW2ldLl9zcmMgPT09IHNlbGYuX3NyYykge1xuICAgICAgICAgIHJlbUNhY2hlID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGNhY2hlICYmIHJlbUNhY2hlKSB7XG4gICAgICAgIGRlbGV0ZSBjYWNoZVtzZWxmLl9zcmNdO1xuICAgICAgfVxuXG4gICAgICAvLyBDbGVhciBnbG9iYWwgZXJyb3JzLlxuICAgICAgSG93bGVyLm5vQXVkaW8gPSBmYWxzZTtcblxuICAgICAgLy8gQ2xlYXIgb3V0IGBzZWxmYC5cbiAgICAgIHNlbGYuX3N0YXRlID0gJ3VubG9hZGVkJztcbiAgICAgIHNlbGYuX3NvdW5kcyA9IFtdO1xuICAgICAgc2VsZiA9IG51bGw7XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMaXN0ZW4gdG8gYSBjdXN0b20gZXZlbnQuXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgIGV2ZW50IEV2ZW50IG5hbWUuXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGZuICAgIExpc3RlbmVyIHRvIGNhbGwuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgIGlkICAgIChvcHRpb25hbCkgT25seSBsaXN0ZW4gdG8gZXZlbnRzIGZvciB0aGlzIHNvdW5kLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gICBvbmNlICAoSU5URVJOQUwpIE1hcmtzIGV2ZW50IHRvIGZpcmUgb25seSBvbmNlLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgb246IGZ1bmN0aW9uKGV2ZW50LCBmbiwgaWQsIG9uY2UpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBldmVudHMgPSBzZWxmWydfb24nICsgZXZlbnRdO1xuXG4gICAgICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGV2ZW50cy5wdXNoKG9uY2UgPyB7aWQ6IGlkLCBmbjogZm4sIG9uY2U6IG9uY2V9IDoge2lkOiBpZCwgZm46IGZufSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBjdXN0b20gZXZlbnQuIENhbGwgd2l0aG91dCBwYXJhbWV0ZXJzIHRvIHJlbW92ZSBhbGwgZXZlbnRzLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICBldmVudCBFdmVudCBuYW1lLlxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmbiAgICBMaXN0ZW5lciB0byByZW1vdmUuIExlYXZlIGVtcHR5IHRvIHJlbW92ZSBhbGwuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgIGlkICAgIChvcHRpb25hbCkgT25seSByZW1vdmUgZXZlbnRzIGZvciB0aGlzIHNvdW5kLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgb2ZmOiBmdW5jdGlvbihldmVudCwgZm4sIGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgZXZlbnRzID0gc2VsZlsnX29uJyArIGV2ZW50XTtcbiAgICAgIHZhciBpID0gMDtcblxuICAgICAgaWYgKGZuKSB7XG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBldmVudCBzdG9yZSBhbmQgcmVtb3ZlIHRoZSBwYXNzZWQgZnVuY3Rpb24uXG4gICAgICAgIGZvciAoaT0wOyBpPGV2ZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChmbiA9PT0gZXZlbnRzW2ldLmZuICYmIGlkID09PSBldmVudHNbaV0uaWQpIHtcbiAgICAgICAgICAgIGV2ZW50cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZXZlbnQpIHtcbiAgICAgICAgLy8gQ2xlYXIgb3V0IGFsbCBldmVudHMgb2YgdGhpcyB0eXBlLlxuICAgICAgICBzZWxmWydfb24nICsgZXZlbnRdID0gW107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDbGVhciBvdXQgYWxsIGV2ZW50cyBvZiBldmVyeSB0eXBlLlxuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHNlbGYpO1xuICAgICAgICBmb3IgKGk9MDsgaTxrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKChrZXlzW2ldLmluZGV4T2YoJ19vbicpID09PSAwKSAmJiBBcnJheS5pc0FycmF5KHNlbGZba2V5c1tpXV0pKSB7XG4gICAgICAgICAgICBzZWxmW2tleXNbaV1dID0gW107XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMaXN0ZW4gdG8gYSBjdXN0b20gZXZlbnQgYW5kIHJlbW92ZSBpdCBvbmNlIGZpcmVkLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICBldmVudCBFdmVudCBuYW1lLlxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmbiAgICBMaXN0ZW5lciB0byBjYWxsLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gICBpZCAgICAob3B0aW9uYWwpIE9ubHkgbGlzdGVuIHRvIGV2ZW50cyBmb3IgdGhpcyBzb3VuZC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIG9uY2U6IGZ1bmN0aW9uKGV2ZW50LCBmbiwgaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gU2V0dXAgdGhlIGV2ZW50IGxpc3RlbmVyLlxuICAgICAgc2VsZi5vbihldmVudCwgZm4sIGlkLCAxKTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEVtaXQgYWxsIGV2ZW50cyBvZiBhIHNwZWNpZmljIHR5cGUgYW5kIHBhc3MgdGhlIHNvdW5kIGlkLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gZXZlbnQgRXZlbnQgbmFtZS5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkICAgIFNvdW5kIElELlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gbXNnICAgTWVzc2FnZSB0byBnbyB3aXRoIGV2ZW50LlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX2VtaXQ6IGZ1bmN0aW9uKGV2ZW50LCBpZCwgbXNnKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgZXZlbnRzID0gc2VsZlsnX29uJyArIGV2ZW50XTtcblxuICAgICAgLy8gTG9vcCB0aHJvdWdoIGV2ZW50IHN0b3JlIGFuZCBmaXJlIGFsbCBmdW5jdGlvbnMuXG4gICAgICBmb3IgKHZhciBpPWV2ZW50cy5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XG4gICAgICAgIGlmICghZXZlbnRzW2ldLmlkIHx8IGV2ZW50c1tpXS5pZCA9PT0gaWQgfHwgZXZlbnQgPT09ICdsb2FkJykge1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgICAgIGZuLmNhbGwodGhpcywgaWQsIG1zZyk7XG4gICAgICAgICAgfS5iaW5kKHNlbGYsIGV2ZW50c1tpXS5mbiksIDApO1xuXG4gICAgICAgICAgLy8gSWYgdGhpcyBldmVudCB3YXMgc2V0dXAgd2l0aCBgb25jZWAsIHJlbW92ZSBpdC5cbiAgICAgICAgICBpZiAoZXZlbnRzW2ldLm9uY2UpIHtcbiAgICAgICAgICAgIHNlbGYub2ZmKGV2ZW50LCBldmVudHNbaV0uZm4sIGV2ZW50c1tpXS5pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBRdWV1ZSBvZiBhY3Rpb25zIGluaXRpYXRlZCBiZWZvcmUgdGhlIHNvdW5kIGhhcyBsb2FkZWQuXG4gICAgICogVGhlc2Ugd2lsbCBiZSBjYWxsZWQgaW4gc2VxdWVuY2UsIHdpdGggdGhlIG5leHQgb25seSBmaXJpbmdcbiAgICAgKiBhZnRlciB0aGUgcHJldmlvdXMgaGFzIGZpbmlzaGVkIGV4ZWN1dGluZyAoZXZlbiBpZiBhc3luYyBsaWtlIHBsYXkpLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX2xvYWRRdWV1ZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIGlmIChzZWxmLl9xdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciB0YXNrID0gc2VsZi5fcXVldWVbMF07XG5cbiAgICAgICAgLy8gZG9uJ3QgbW92ZSBvbnRvIHRoZSBuZXh0IHRhc2sgdW50aWwgdGhpcyBvbmUgaXMgZG9uZVxuICAgICAgICBzZWxmLm9uY2UodGFzay5ldmVudCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2VsZi5fcXVldWUuc2hpZnQoKTtcbiAgICAgICAgICBzZWxmLl9sb2FkUXVldWUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGFzay5hY3Rpb24oKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gcGxheWJhY2sgZW5kcyBhdCB0aGUgZW5kIG9mIHRoZSBkdXJhdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtTb3VuZH0gc291bmQgVGhlIHNvdW5kIG9iamVjdCB0byB3b3JrIHdpdGguXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBfZW5kZWQ6IGZ1bmN0aW9uKHNvdW5kKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgc3ByaXRlID0gc291bmQuX3Nwcml0ZTtcblxuICAgICAgLy8gU2hvdWxkIHRoaXMgc291bmQgbG9vcD9cbiAgICAgIHZhciBsb29wID0gISEoc291bmQuX2xvb3AgfHwgc2VsZi5fc3ByaXRlW3Nwcml0ZV1bMl0pO1xuXG4gICAgICAvLyBGaXJlIHRoZSBlbmRlZCBldmVudC5cbiAgICAgIHNlbGYuX2VtaXQoJ2VuZCcsIHNvdW5kLl9pZCk7XG5cbiAgICAgIC8vIFJlc3RhcnQgdGhlIHBsYXliYWNrIGZvciBIVE1MNSBBdWRpbyBsb29wLlxuICAgICAgaWYgKCFzZWxmLl93ZWJBdWRpbyAmJiBsb29wKSB7XG4gICAgICAgIHNlbGYuc3RvcChzb3VuZC5faWQsIHRydWUpLnBsYXkoc291bmQuX2lkKTtcbiAgICAgIH1cblxuICAgICAgLy8gUmVzdGFydCB0aGlzIHRpbWVyIGlmIG9uIGEgV2ViIEF1ZGlvIGxvb3AuXG4gICAgICBpZiAoc2VsZi5fd2ViQXVkaW8gJiYgbG9vcCkge1xuICAgICAgICBzZWxmLl9lbWl0KCdwbGF5Jywgc291bmQuX2lkKTtcbiAgICAgICAgc291bmQuX3NlZWsgPSBzb3VuZC5fc3RhcnQgfHwgMDtcbiAgICAgICAgc291bmQuX3JhdGVTZWVrID0gMDtcbiAgICAgICAgc291bmQuX3BsYXlTdGFydCA9IEhvd2xlci5jdHguY3VycmVudFRpbWU7XG5cbiAgICAgICAgdmFyIHRpbWVvdXQgPSAoKHNvdW5kLl9zdG9wIC0gc291bmQuX3N0YXJ0KSAqIDEwMDApIC8gTWF0aC5hYnMoc291bmQuX3JhdGUpO1xuICAgICAgICBzZWxmLl9lbmRUaW1lcnNbc291bmQuX2lkXSA9IHNldFRpbWVvdXQoc2VsZi5fZW5kZWQuYmluZChzZWxmLCBzb3VuZCksIHRpbWVvdXQpO1xuICAgICAgfVxuXG4gICAgICAvLyBNYXJrIHRoZSBub2RlIGFzIHBhdXNlZC5cbiAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiAhbG9vcCkge1xuICAgICAgICBzb3VuZC5fcGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgc291bmQuX2VuZGVkID0gdHJ1ZTtcbiAgICAgICAgc291bmQuX3NlZWsgPSBzb3VuZC5fc3RhcnQgfHwgMDtcbiAgICAgICAgc291bmQuX3JhdGVTZWVrID0gMDtcbiAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihzb3VuZC5faWQpO1xuXG4gICAgICAgIC8vIENsZWFuIHVwIHRoZSBidWZmZXIgc291cmNlLlxuICAgICAgICBzZWxmLl9jbGVhbkJ1ZmZlcihzb3VuZC5fbm9kZSk7XG5cbiAgICAgICAgLy8gQXR0ZW1wdCB0byBhdXRvLXN1c3BlbmQgQXVkaW9Db250ZXh0IGlmIG5vIHNvdW5kcyBhcmUgc3RpbGwgcGxheWluZy5cbiAgICAgICAgSG93bGVyLl9hdXRvU3VzcGVuZCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBXaGVuIHVzaW5nIGEgc3ByaXRlLCBlbmQgdGhlIHRyYWNrLlxuICAgICAgaWYgKCFzZWxmLl93ZWJBdWRpbyAmJiAhbG9vcCkge1xuICAgICAgICBzZWxmLnN0b3Aoc291bmQuX2lkKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENsZWFyIHRoZSBlbmQgdGltZXIgZm9yIGEgc291bmQgcGxheWJhY2suXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCBUaGUgc291bmQgSUQuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBfY2xlYXJUaW1lcjogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgaWYgKHNlbGYuX2VuZFRpbWVyc1tpZF0pIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHNlbGYuX2VuZFRpbWVyc1tpZF0pO1xuICAgICAgICBkZWxldGUgc2VsZi5fZW5kVGltZXJzW2lkXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgc291bmQgaWRlbnRpZmllZCBieSB0aGlzIElELCBvciByZXR1cm4gbnVsbC5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFNvdW5kIElEXG4gICAgICogQHJldHVybiB7T2JqZWN0fSAgICBTb3VuZCBvYmplY3Qgb3IgbnVsbC5cbiAgICAgKi9cbiAgICBfc291bmRCeUlkOiBmdW5jdGlvbihpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBMb29wIHRocm91Z2ggYWxsIHNvdW5kcyBhbmQgZmluZCB0aGUgb25lIHdpdGggdGhpcyBJRC5cbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9zb3VuZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGlkID09PSBzZWxmLl9zb3VuZHNbaV0uX2lkKSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGYuX3NvdW5kc1tpXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFuIGluYWN0aXZlIHNvdW5kIGZyb20gdGhlIHBvb2wgb3IgY3JlYXRlIGEgbmV3IG9uZS5cbiAgICAgKiBAcmV0dXJuIHtTb3VuZH0gU291bmQgcGxheWJhY2sgb2JqZWN0LlxuICAgICAqL1xuICAgIF9pbmFjdGl2ZVNvdW5kOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgc2VsZi5fZHJhaW4oKTtcblxuICAgICAgLy8gRmluZCB0aGUgZmlyc3QgaW5hY3RpdmUgbm9kZSB0byByZWN5Y2xlLlxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX3NvdW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc2VsZi5fc291bmRzW2ldLl9lbmRlZCkge1xuICAgICAgICAgIHJldHVybiBzZWxmLl9zb3VuZHNbaV0ucmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBJZiBubyBpbmFjdGl2ZSBub2RlIHdhcyBmb3VuZCwgY3JlYXRlIGEgbmV3IG9uZS5cbiAgICAgIHJldHVybiBuZXcgU291bmQoc2VsZik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERyYWluIGV4Y2VzcyBpbmFjdGl2ZSBzb3VuZHMgZnJvbSB0aGUgcG9vbC5cbiAgICAgKi9cbiAgICBfZHJhaW46IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGxpbWl0ID0gc2VsZi5fcG9vbDtcbiAgICAgIHZhciBjbnQgPSAwO1xuICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICAvLyBJZiB0aGVyZSBhcmUgbGVzcyBzb3VuZHMgdGhhbiB0aGUgbWF4IHBvb2wgc2l6ZSwgd2UgYXJlIGRvbmUuXG4gICAgICBpZiAoc2VsZi5fc291bmRzLmxlbmd0aCA8IGxpbWl0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gQ291bnQgdGhlIG51bWJlciBvZiBpbmFjdGl2ZSBzb3VuZHMuXG4gICAgICBmb3IgKGk9MDsgaTxzZWxmLl9zb3VuZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHNlbGYuX3NvdW5kc1tpXS5fZW5kZWQpIHtcbiAgICAgICAgICBjbnQrKztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBSZW1vdmUgZXhjZXNzIGluYWN0aXZlIHNvdW5kcywgZ29pbmcgaW4gcmV2ZXJzZSBvcmRlci5cbiAgICAgIGZvciAoaT1zZWxmLl9zb3VuZHMubGVuZ3RoIC0gMTsgaT49MDsgaS0tKSB7XG4gICAgICAgIGlmIChjbnQgPD0gbGltaXQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2VsZi5fc291bmRzW2ldLl9lbmRlZCkge1xuICAgICAgICAgIC8vIERpc2Nvbm5lY3QgdGhlIGF1ZGlvIHNvdXJjZSB3aGVuIHVzaW5nIFdlYiBBdWRpby5cbiAgICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8gJiYgc2VsZi5fc291bmRzW2ldLl9ub2RlKSB7XG4gICAgICAgICAgICBzZWxmLl9zb3VuZHNbaV0uX25vZGUuZGlzY29ubmVjdCgwKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBSZW1vdmUgc291bmRzIHVudGlsIHdlIGhhdmUgdGhlIHBvb2wgc2l6ZS5cbiAgICAgICAgICBzZWxmLl9zb3VuZHMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgIGNudC0tO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldCBhbGwgSUQncyBmcm9tIHRoZSBzb3VuZHMgcG9vbC5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIE9ubHkgcmV0dXJuIG9uZSBJRCBpZiBvbmUgaXMgcGFzc2VkLlxuICAgICAqIEByZXR1cm4ge0FycmF5fSAgICBBcnJheSBvZiBJRHMuXG4gICAgICovXG4gICAgX2dldFNvdW5kSWRzOiBmdW5jdGlvbihpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBpZiAodHlwZW9mIGlkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YXIgaWRzID0gW107XG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9zb3VuZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZHMucHVzaChzZWxmLl9zb3VuZHNbaV0uX2lkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpZHM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gW2lkXTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTG9hZCB0aGUgc291bmQgYmFjayBpbnRvIHRoZSBidWZmZXIgc291cmNlLlxuICAgICAqIEBwYXJhbSAge1NvdW5kfSBzb3VuZCBUaGUgc291bmQgb2JqZWN0IHRvIHdvcmsgd2l0aC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIF9yZWZyZXNoQnVmZmVyOiBmdW5jdGlvbihzb3VuZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBTZXR1cCB0aGUgYnVmZmVyIHNvdXJjZSBmb3IgcGxheWJhY2suXG4gICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UgPSBIb3dsZXIuY3R4LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmJ1ZmZlciA9IGNhY2hlW3NlbGYuX3NyY107XG5cbiAgICAgIC8vIENvbm5lY3QgdG8gdGhlIGNvcnJlY3Qgbm9kZS5cbiAgICAgIGlmIChzb3VuZC5fcGFubmVyKSB7XG4gICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5jb25uZWN0KHNvdW5kLl9wYW5uZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmNvbm5lY3Qoc291bmQuX25vZGUpO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXR1cCBsb29waW5nIGFuZCBwbGF5YmFjayByYXRlLlxuICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmxvb3AgPSBzb3VuZC5fbG9vcDtcbiAgICAgIGlmIChzb3VuZC5fbG9vcCkge1xuICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UubG9vcFN0YXJ0ID0gc291bmQuX3N0YXJ0IHx8IDA7XG4gICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wRW5kID0gc291bmQuX3N0b3A7XG4gICAgICB9XG4gICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UucGxheWJhY2tSYXRlLnZhbHVlID0gc291bmQuX3JhdGU7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQcmV2ZW50IG1lbW9yeSBsZWFrcyBieSBjbGVhbmluZyB1cCB0aGUgYnVmZmVyIHNvdXJjZSBhZnRlciBwbGF5YmFjay5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG5vZGUgU291bmQncyBhdWRpbyBub2RlIGNvbnRhaW5pbmcgdGhlIGJ1ZmZlciBzb3VyY2UuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBfY2xlYW5CdWZmZXI6IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgaWYgKHNlbGYuX3NjcmF0Y2hCdWZmZXIpIHtcbiAgICAgICAgbm9kZS5idWZmZXJTb3VyY2Uub25lbmRlZCA9IG51bGw7XG4gICAgICAgIG5vZGUuYnVmZmVyU291cmNlLmRpc2Nvbm5lY3QoMCk7XG4gICAgICAgIHRyeSB7IG5vZGUuYnVmZmVyU291cmNlLmJ1ZmZlciA9IHNlbGYuX3NjcmF0Y2hCdWZmZXI7IH0gY2F0Y2goZSkge31cbiAgICAgIH1cbiAgICAgIG5vZGUuYnVmZmVyU291cmNlID0gbnVsbDtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuICB9O1xuXG4gIC8qKiBTaW5nbGUgU291bmQgTWV0aG9kcyAqKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAvKipcbiAgICogU2V0dXAgdGhlIHNvdW5kIG9iamVjdCwgd2hpY2ggZWFjaCBub2RlIGF0dGFjaGVkIHRvIGEgSG93bCBncm91cCBpcyBjb250YWluZWQgaW4uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBob3dsIFRoZSBIb3dsIHBhcmVudCBncm91cC5cbiAgICovXG4gIHZhciBTb3VuZCA9IGZ1bmN0aW9uKGhvd2wpIHtcbiAgICB0aGlzLl9wYXJlbnQgPSBob3dsO1xuICAgIHRoaXMuaW5pdCgpO1xuICB9O1xuICBTb3VuZC5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBhIG5ldyBTb3VuZCBvYmplY3QuXG4gICAgICogQHJldHVybiB7U291bmR9XG4gICAgICovXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xuXG4gICAgICAvLyBTZXR1cCB0aGUgZGVmYXVsdCBwYXJhbWV0ZXJzLlxuICAgICAgc2VsZi5fbXV0ZWQgPSBwYXJlbnQuX211dGVkO1xuICAgICAgc2VsZi5fbG9vcCA9IHBhcmVudC5fbG9vcDtcbiAgICAgIHNlbGYuX3ZvbHVtZSA9IHBhcmVudC5fdm9sdW1lO1xuICAgICAgc2VsZi5fbXV0ZWQgPSBwYXJlbnQuX211dGVkO1xuICAgICAgc2VsZi5fcmF0ZSA9IHBhcmVudC5fcmF0ZTtcbiAgICAgIHNlbGYuX3NlZWsgPSAwO1xuICAgICAgc2VsZi5fcGF1c2VkID0gdHJ1ZTtcbiAgICAgIHNlbGYuX2VuZGVkID0gdHJ1ZTtcbiAgICAgIHNlbGYuX3Nwcml0ZSA9ICdfX2RlZmF1bHQnO1xuXG4gICAgICAvLyBHZW5lcmF0ZSBhIHVuaXF1ZSBJRCBmb3IgdGhpcyBzb3VuZC5cbiAgICAgIHNlbGYuX2lkID0gTWF0aC5yb3VuZChEYXRlLm5vdygpICogTWF0aC5yYW5kb20oKSk7XG5cbiAgICAgIC8vIEFkZCBpdHNlbGYgdG8gdGhlIHBhcmVudCdzIHBvb2wuXG4gICAgICBwYXJlbnQuX3NvdW5kcy5wdXNoKHNlbGYpO1xuXG4gICAgICAvLyBDcmVhdGUgdGhlIG5ldyBub2RlLlxuICAgICAgc2VsZi5jcmVhdGUoKTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbmQgc2V0dXAgYSBuZXcgc291bmQgb2JqZWN0LCB3aGV0aGVyIEhUTUw1IEF1ZGlvIG9yIFdlYiBBdWRpby5cbiAgICAgKiBAcmV0dXJuIHtTb3VuZH1cbiAgICAgKi9cbiAgICBjcmVhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHBhcmVudCA9IHNlbGYuX3BhcmVudDtcbiAgICAgIHZhciB2b2x1bWUgPSAoSG93bGVyLl9tdXRlZCB8fCBzZWxmLl9tdXRlZCB8fCBzZWxmLl9wYXJlbnQuX211dGVkKSA/IDAgOiBzZWxmLl92b2x1bWU7XG5cbiAgICAgIGlmIChwYXJlbnQuX3dlYkF1ZGlvKSB7XG4gICAgICAgIC8vIENyZWF0ZSB0aGUgZ2FpbiBub2RlIGZvciBjb250cm9sbGluZyB2b2x1bWUgKHRoZSBzb3VyY2Ugd2lsbCBjb25uZWN0IHRvIHRoaXMpLlxuICAgICAgICBzZWxmLl9ub2RlID0gKHR5cGVvZiBIb3dsZXIuY3R4LmNyZWF0ZUdhaW4gPT09ICd1bmRlZmluZWQnKSA/IEhvd2xlci5jdHguY3JlYXRlR2Fpbk5vZGUoKSA6IEhvd2xlci5jdHguY3JlYXRlR2FpbigpO1xuICAgICAgICBzZWxmLl9ub2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUodm9sdW1lLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgc2VsZi5fbm9kZS5wYXVzZWQgPSB0cnVlO1xuICAgICAgICBzZWxmLl9ub2RlLmNvbm5lY3QoSG93bGVyLm1hc3RlckdhaW4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZi5fbm9kZSA9IG5ldyBBdWRpbygpO1xuXG4gICAgICAgIC8vIExpc3RlbiBmb3IgZXJyb3JzIChodHRwOi8vZGV2LnczLm9yZy9odG1sNS9zcGVjLWF1dGhvci12aWV3L3NwZWMuaHRtbCNtZWRpYWVycm9yKS5cbiAgICAgICAgc2VsZi5fZXJyb3JGbiA9IHNlbGYuX2Vycm9yTGlzdGVuZXIuYmluZChzZWxmKTtcbiAgICAgICAgc2VsZi5fbm9kZS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHNlbGYuX2Vycm9yRm4sIGZhbHNlKTtcblxuICAgICAgICAvLyBMaXN0ZW4gZm9yICdjYW5wbGF5dGhyb3VnaCcgZXZlbnQgdG8gbGV0IHVzIGtub3cgdGhlIHNvdW5kIGlzIHJlYWR5LlxuICAgICAgICBzZWxmLl9sb2FkRm4gPSBzZWxmLl9sb2FkTGlzdGVuZXIuYmluZChzZWxmKTtcbiAgICAgICAgc2VsZi5fbm9kZS5hZGRFdmVudExpc3RlbmVyKEhvd2xlci5fY2FuUGxheUV2ZW50LCBzZWxmLl9sb2FkRm4sIGZhbHNlKTtcblxuICAgICAgICAvLyBTZXR1cCB0aGUgbmV3IGF1ZGlvIG5vZGUuXG4gICAgICAgIHNlbGYuX25vZGUuc3JjID0gcGFyZW50Ll9zcmM7XG4gICAgICAgIHNlbGYuX25vZGUucHJlbG9hZCA9ICdhdXRvJztcbiAgICAgICAgc2VsZi5fbm9kZS52b2x1bWUgPSB2b2x1bWUgKiBIb3dsZXIudm9sdW1lKCk7XG5cbiAgICAgICAgLy8gQmVnaW4gbG9hZGluZyB0aGUgc291cmNlLlxuICAgICAgICBzZWxmLl9ub2RlLmxvYWQoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSBwYXJhbWV0ZXJzIG9mIHRoaXMgc291bmQgdG8gdGhlIG9yaWdpbmFsIHN0YXRlIChmb3IgcmVjeWNsZSkuXG4gICAgICogQHJldHVybiB7U291bmR9XG4gICAgICovXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHBhcmVudCA9IHNlbGYuX3BhcmVudDtcblxuICAgICAgLy8gUmVzZXQgYWxsIG9mIHRoZSBwYXJhbWV0ZXJzIG9mIHRoaXMgc291bmQuXG4gICAgICBzZWxmLl9tdXRlZCA9IHBhcmVudC5fbXV0ZWQ7XG4gICAgICBzZWxmLl9sb29wID0gcGFyZW50Ll9sb29wO1xuICAgICAgc2VsZi5fdm9sdW1lID0gcGFyZW50Ll92b2x1bWU7XG4gICAgICBzZWxmLl9tdXRlZCA9IHBhcmVudC5fbXV0ZWQ7XG4gICAgICBzZWxmLl9yYXRlID0gcGFyZW50Ll9yYXRlO1xuICAgICAgc2VsZi5fc2VlayA9IDA7XG4gICAgICBzZWxmLl9yYXRlU2VlayA9IDA7XG4gICAgICBzZWxmLl9wYXVzZWQgPSB0cnVlO1xuICAgICAgc2VsZi5fZW5kZWQgPSB0cnVlO1xuICAgICAgc2VsZi5fc3ByaXRlID0gJ19fZGVmYXVsdCc7XG5cbiAgICAgIC8vIEdlbmVyYXRlIGEgbmV3IElEIHNvIHRoYXQgaXQgaXNuJ3QgY29uZnVzZWQgd2l0aCB0aGUgcHJldmlvdXMgc291bmQuXG4gICAgICBzZWxmLl9pZCA9IE1hdGgucm91bmQoRGF0ZS5ub3coKSAqIE1hdGgucmFuZG9tKCkpO1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSFRNTDUgQXVkaW8gZXJyb3IgbGlzdGVuZXIgY2FsbGJhY2suXG4gICAgICovXG4gICAgX2Vycm9yTGlzdGVuZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBGaXJlIGFuIGVycm9yIGV2ZW50IGFuZCBwYXNzIGJhY2sgdGhlIGNvZGUuXG4gICAgICBzZWxmLl9wYXJlbnQuX2VtaXQoJ2xvYWRlcnJvcicsIHNlbGYuX2lkLCBzZWxmLl9ub2RlLmVycm9yID8gc2VsZi5fbm9kZS5lcnJvci5jb2RlIDogMCk7XG5cbiAgICAgIC8vIENsZWFyIHRoZSBldmVudCBsaXN0ZW5lci5cbiAgICAgIHNlbGYuX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBzZWxmLl9lcnJvckxpc3RlbmVyLCBmYWxzZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhUTUw1IEF1ZGlvIGNhbnBsYXl0aHJvdWdoIGxpc3RlbmVyIGNhbGxiYWNrLlxuICAgICAqL1xuICAgIF9sb2FkTGlzdGVuZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHBhcmVudCA9IHNlbGYuX3BhcmVudDtcblxuICAgICAgLy8gUm91bmQgdXAgdGhlIGR1cmF0aW9uIHRvIGFjY291bnQgZm9yIHRoZSBsb3dlciBwcmVjaXNpb24gaW4gSFRNTDUgQXVkaW8uXG4gICAgICBwYXJlbnQuX2R1cmF0aW9uID0gTWF0aC5jZWlsKHNlbGYuX25vZGUuZHVyYXRpb24gKiAxMCkgLyAxMDtcblxuICAgICAgLy8gU2V0dXAgYSBzcHJpdGUgaWYgbm9uZSBpcyBkZWZpbmVkLlxuICAgICAgaWYgKE9iamVjdC5rZXlzKHBhcmVudC5fc3ByaXRlKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcGFyZW50Ll9zcHJpdGUgPSB7X19kZWZhdWx0OiBbMCwgcGFyZW50Ll9kdXJhdGlvbiAqIDEwMDBdfTtcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmVudC5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XG4gICAgICAgIHBhcmVudC5fc3RhdGUgPSAnbG9hZGVkJztcbiAgICAgICAgcGFyZW50Ll9lbWl0KCdsb2FkJyk7XG4gICAgICAgIHBhcmVudC5fbG9hZFF1ZXVlKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIENsZWFyIHRoZSBldmVudCBsaXN0ZW5lci5cbiAgICAgIHNlbGYuX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihIb3dsZXIuX2NhblBsYXlFdmVudCwgc2VsZi5fbG9hZEZuLCBmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKiBIZWxwZXIgTWV0aG9kcyAqKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICB2YXIgY2FjaGUgPSB7fTtcblxuICAvKipcbiAgICogQnVmZmVyIGEgc291bmQgZnJvbSBVUkwsIERhdGEgVVJJIG9yIGNhY2hlIGFuZCBkZWNvZGUgdG8gYXVkaW8gc291cmNlIChXZWIgQXVkaW8gQVBJKS5cbiAgICogQHBhcmFtICB7SG93bH0gc2VsZlxuICAgKi9cbiAgdmFyIGxvYWRCdWZmZXIgPSBmdW5jdGlvbihzZWxmKSB7XG4gICAgdmFyIHVybCA9IHNlbGYuX3NyYztcblxuICAgIC8vIENoZWNrIGlmIHRoZSBidWZmZXIgaGFzIGFscmVhZHkgYmVlbiBjYWNoZWQgYW5kIHVzZSBpdCBpbnN0ZWFkLlxuICAgIGlmIChjYWNoZVt1cmxdKSB7XG4gICAgICAvLyBTZXQgdGhlIGR1cmF0aW9uIGZyb20gdGhlIGNhY2hlLlxuICAgICAgc2VsZi5fZHVyYXRpb24gPSBjYWNoZVt1cmxdLmR1cmF0aW9uO1xuXG4gICAgICAvLyBMb2FkIHRoZSBzb3VuZCBpbnRvIHRoaXMgSG93bC5cbiAgICAgIGxvYWRTb3VuZChzZWxmKTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICgvXmRhdGE6W147XSs7YmFzZTY0LC8udGVzdCh1cmwpKSB7XG4gICAgICAvLyBEZWNvZGUgdGhlIGJhc2U2NCBkYXRhIFVSSSB3aXRob3V0IFhIUiwgc2luY2Ugc29tZSBicm93c2VycyBkb24ndCBzdXBwb3J0IGl0LlxuICAgICAgdmFyIGRhdGEgPSBhdG9iKHVybC5zcGxpdCgnLCcpWzFdKTtcbiAgICAgIHZhciBkYXRhVmlldyA9IG5ldyBVaW50OEFycmF5KGRhdGEubGVuZ3RoKTtcbiAgICAgIGZvciAodmFyIGk9MDsgaTxkYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGRhdGFWaWV3W2ldID0gZGF0YS5jaGFyQ29kZUF0KGkpO1xuICAgICAgfVxuXG4gICAgICBkZWNvZGVBdWRpb0RhdGEoZGF0YVZpZXcuYnVmZmVyLCBzZWxmKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTG9hZCB0aGUgYnVmZmVyIGZyb20gdGhlIFVSTC5cbiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwsIHRydWUpO1xuICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XG4gICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBnZXQgYSBzdWNjZXNzZnVsIHJlc3BvbnNlIGJhY2suXG4gICAgICAgIHZhciBjb2RlID0gKHhoci5zdGF0dXMgKyAnJylbMF07XG4gICAgICAgIGlmIChjb2RlICE9PSAnMCcgJiYgY29kZSAhPT0gJzInICYmIGNvZGUgIT09ICczJykge1xuICAgICAgICAgIHNlbGYuX2VtaXQoJ2xvYWRlcnJvcicsIG51bGwsICdGYWlsZWQgbG9hZGluZyBhdWRpbyBmaWxlIHdpdGggc3RhdHVzOiAnICsgeGhyLnN0YXR1cyArICcuJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVjb2RlQXVkaW9EYXRhKHhoci5yZXNwb25zZSwgc2VsZik7XG4gICAgICB9O1xuICAgICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYW4gZXJyb3IsIHN3aXRjaCB0byBIVE1MNSBBdWRpby5cbiAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgc2VsZi5faHRtbDUgPSB0cnVlO1xuICAgICAgICAgIHNlbGYuX3dlYkF1ZGlvID0gZmFsc2U7XG4gICAgICAgICAgc2VsZi5fc291bmRzID0gW107XG4gICAgICAgICAgZGVsZXRlIGNhY2hlW3VybF07XG4gICAgICAgICAgc2VsZi5sb2FkKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBzYWZlWGhyU2VuZCh4aHIpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogU2VuZCB0aGUgWEhSIHJlcXVlc3Qgd3JhcHBlZCBpbiBhIHRyeS9jYXRjaC5cbiAgICogQHBhcmFtICB7T2JqZWN0fSB4aHIgWEhSIHRvIHNlbmQuXG4gICAqL1xuICB2YXIgc2FmZVhoclNlbmQgPSBmdW5jdGlvbih4aHIpIHtcbiAgICB0cnkge1xuICAgICAgeGhyLnNlbmQoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB4aHIub25lcnJvcigpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogRGVjb2RlIGF1ZGlvIGRhdGEgZnJvbSBhbiBhcnJheSBidWZmZXIuXG4gICAqIEBwYXJhbSAge0FycmF5QnVmZmVyfSBhcnJheWJ1ZmZlciBUaGUgYXVkaW8gZGF0YS5cbiAgICogQHBhcmFtICB7SG93bH0gICAgICAgIHNlbGZcbiAgICovXG4gIHZhciBkZWNvZGVBdWRpb0RhdGEgPSBmdW5jdGlvbihhcnJheWJ1ZmZlciwgc2VsZikge1xuICAgIC8vIERlY29kZSB0aGUgYnVmZmVyIGludG8gYW4gYXVkaW8gc291cmNlLlxuICAgIEhvd2xlci5jdHguZGVjb2RlQXVkaW9EYXRhKGFycmF5YnVmZmVyLCBmdW5jdGlvbihidWZmZXIpIHtcbiAgICAgIGlmIChidWZmZXIgJiYgc2VsZi5fc291bmRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY2FjaGVbc2VsZi5fc3JjXSA9IGJ1ZmZlcjtcbiAgICAgICAgbG9hZFNvdW5kKHNlbGYsIGJ1ZmZlcik7XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLl9lbWl0KCdsb2FkZXJyb3InLCBudWxsLCAnRGVjb2RpbmcgYXVkaW8gZGF0YSBmYWlsZWQuJyk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNvdW5kIGlzIG5vdyBsb2FkZWQsIHNvIGZpbmlzaCBzZXR0aW5nIGV2ZXJ5dGhpbmcgdXAgYW5kIGZpcmUgdGhlIGxvYWRlZCBldmVudC5cbiAgICogQHBhcmFtICB7SG93bH0gc2VsZlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGJ1ZmZlciBUaGUgZGVjb2RlZCBidWZmZXIgc291bmQgc291cmNlLlxuICAgKi9cbiAgdmFyIGxvYWRTb3VuZCA9IGZ1bmN0aW9uKHNlbGYsIGJ1ZmZlcikge1xuICAgIC8vIFNldCB0aGUgZHVyYXRpb24uXG4gICAgaWYgKGJ1ZmZlciAmJiAhc2VsZi5fZHVyYXRpb24pIHtcbiAgICAgIHNlbGYuX2R1cmF0aW9uID0gYnVmZmVyLmR1cmF0aW9uO1xuICAgIH1cblxuICAgIC8vIFNldHVwIGEgc3ByaXRlIGlmIG5vbmUgaXMgZGVmaW5lZC5cbiAgICBpZiAoT2JqZWN0LmtleXMoc2VsZi5fc3ByaXRlKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHNlbGYuX3Nwcml0ZSA9IHtfX2RlZmF1bHQ6IFswLCBzZWxmLl9kdXJhdGlvbiAqIDEwMDBdfTtcbiAgICB9XG5cbiAgICAvLyBGaXJlIHRoZSBsb2FkZWQgZXZlbnQuXG4gICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgc2VsZi5fc3RhdGUgPSAnbG9hZGVkJztcbiAgICAgIHNlbGYuX2VtaXQoJ2xvYWQnKTtcbiAgICAgIHNlbGYuX2xvYWRRdWV1ZSgpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogU2V0dXAgdGhlIGF1ZGlvIGNvbnRleHQgd2hlbiBhdmFpbGFibGUsIG9yIHN3aXRjaCB0byBIVE1MNSBBdWRpbyBtb2RlLlxuICAgKi9cbiAgdmFyIHNldHVwQXVkaW9Db250ZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gQ2hlY2sgaWYgd2UgYXJlIHVzaW5nIFdlYiBBdWRpbyBhbmQgc2V0dXAgdGhlIEF1ZGlvQ29udGV4dCBpZiB3ZSBhcmUuXG4gICAgdHJ5IHtcbiAgICAgIGlmICh0eXBlb2YgQXVkaW9Db250ZXh0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBIb3dsZXIuY3R4ID0gbmV3IEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygd2Via2l0QXVkaW9Db250ZXh0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBIb3dsZXIuY3R4ID0gbmV3IHdlYmtpdEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgSG93bGVyLnVzaW5nV2ViQXVkaW8gPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIEhvd2xlci51c2luZ1dlYkF1ZGlvID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgYSB3ZWJ2aWV3IGlzIGJlaW5nIHVzZWQgb24gaU9TOCBvciBlYXJsaWVyIChyYXRoZXIgdGhhbiB0aGUgYnJvd3NlcikuXG4gICAgLy8gSWYgaXQgaXMsIGRpc2FibGUgV2ViIEF1ZGlvIGFzIGl0IGNhdXNlcyBjcmFzaGluZy5cbiAgICB2YXIgaU9TID0gKC9pUChob25lfG9kfGFkKS8udGVzdChIb3dsZXIuX25hdmlnYXRvciAmJiBIb3dsZXIuX25hdmlnYXRvci5wbGF0Zm9ybSkpO1xuICAgIHZhciBhcHBWZXJzaW9uID0gSG93bGVyLl9uYXZpZ2F0b3IgJiYgSG93bGVyLl9uYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaCgvT1MgKFxcZCspXyhcXGQrKV8/KFxcZCspPy8pO1xuICAgIHZhciB2ZXJzaW9uID0gYXBwVmVyc2lvbiA/IHBhcnNlSW50KGFwcFZlcnNpb25bMV0sIDEwKSA6IG51bGw7XG4gICAgaWYgKGlPUyAmJiB2ZXJzaW9uICYmIHZlcnNpb24gPCA5KSB7XG4gICAgICB2YXIgc2FmYXJpID0gL3NhZmFyaS8udGVzdChIb3dsZXIuX25hdmlnYXRvciAmJiBIb3dsZXIuX25hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSk7XG4gICAgICBpZiAoSG93bGVyLl9uYXZpZ2F0b3IgJiYgSG93bGVyLl9uYXZpZ2F0b3Iuc3RhbmRhbG9uZSAmJiAhc2FmYXJpIHx8IEhvd2xlci5fbmF2aWdhdG9yICYmICFIb3dsZXIuX25hdmlnYXRvci5zdGFuZGFsb25lICYmICFzYWZhcmkpIHtcbiAgICAgICAgSG93bGVyLnVzaW5nV2ViQXVkaW8gPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgYW5kIGV4cG9zZSB0aGUgbWFzdGVyIEdhaW5Ob2RlIHdoZW4gdXNpbmcgV2ViIEF1ZGlvICh1c2VmdWwgZm9yIHBsdWdpbnMgb3IgYWR2YW5jZWQgdXNhZ2UpLlxuICAgIGlmIChIb3dsZXIudXNpbmdXZWJBdWRpbykge1xuICAgICAgSG93bGVyLm1hc3RlckdhaW4gPSAodHlwZW9mIEhvd2xlci5jdHguY3JlYXRlR2FpbiA9PT0gJ3VuZGVmaW5lZCcpID8gSG93bGVyLmN0eC5jcmVhdGVHYWluTm9kZSgpIDogSG93bGVyLmN0eC5jcmVhdGVHYWluKCk7XG4gICAgICBIb3dsZXIubWFzdGVyR2Fpbi5nYWluLnZhbHVlID0gMTtcbiAgICAgIEhvd2xlci5tYXN0ZXJHYWluLmNvbm5lY3QoSG93bGVyLmN0eC5kZXN0aW5hdGlvbik7XG4gICAgfVxuXG4gICAgLy8gUmUtcnVuIHRoZSBzZXR1cCBvbiBIb3dsZXIuXG4gICAgSG93bGVyLl9zZXR1cCgpO1xuICB9O1xuXG4gIC8vIEFkZCBzdXBwb3J0IGZvciBBTUQgKEFzeW5jaHJvbm91cyBNb2R1bGUgRGVmaW5pdGlvbikgbGlicmFyaWVzIHN1Y2ggYXMgcmVxdWlyZS5qcy5cbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShbXSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBIb3dsZXI6IEhvd2xlcixcbiAgICAgICAgSG93bDogSG93bFxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIEFkZCBzdXBwb3J0IGZvciBDb21tb25KUyBsaWJyYXJpZXMgc3VjaCBhcyBicm93c2VyaWZ5LlxuICBpZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgZXhwb3J0cy5Ib3dsZXIgPSBIb3dsZXI7XG4gICAgZXhwb3J0cy5Ib3dsID0gSG93bDtcbiAgfVxuXG4gIC8vIERlZmluZSBnbG9iYWxseSBpbiBjYXNlIEFNRCBpcyBub3QgYXZhaWxhYmxlIG9yIHVudXNlZC5cbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgd2luZG93Lkhvd2xlckdsb2JhbCA9IEhvd2xlckdsb2JhbDtcbiAgICB3aW5kb3cuSG93bGVyID0gSG93bGVyO1xuICAgIHdpbmRvdy5Ib3dsID0gSG93bDtcbiAgICB3aW5kb3cuU291bmQgPSBTb3VuZDtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykgeyAvLyBBZGQgdG8gZ2xvYmFsIGluIE5vZGUuanMgKGZvciB0ZXN0aW5nLCBldGMpLlxuICAgIGdsb2JhbC5Ib3dsZXJHbG9iYWwgPSBIb3dsZXJHbG9iYWw7XG4gICAgZ2xvYmFsLkhvd2xlciA9IEhvd2xlcjtcbiAgICBnbG9iYWwuSG93bCA9IEhvd2w7XG4gICAgZ2xvYmFsLlNvdW5kID0gU291bmQ7XG4gIH1cbn0pKCk7XG5cblxuLyohXG4gKiAgU3BhdGlhbCBQbHVnaW4gLSBBZGRzIHN1cHBvcnQgZm9yIHN0ZXJlbyBhbmQgM0QgYXVkaW8gd2hlcmUgV2ViIEF1ZGlvIGlzIHN1cHBvcnRlZC5cbiAqICBcbiAqICBob3dsZXIuanMgdjIuMC4yXG4gKiAgaG93bGVyanMuY29tXG4gKlxuICogIChjKSAyMDEzLTIwMTYsIEphbWVzIFNpbXBzb24gb2YgR29sZEZpcmUgU3R1ZGlvc1xuICogIGdvbGRmaXJlc3R1ZGlvcy5jb21cbiAqXG4gKiAgTUlUIExpY2Vuc2VcbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIFNldHVwIGRlZmF1bHQgcHJvcGVydGllcy5cbiAgSG93bGVyR2xvYmFsLnByb3RvdHlwZS5fcG9zID0gWzAsIDAsIDBdO1xuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlLl9vcmllbnRhdGlvbiA9IFswLCAwLCAtMSwgMCwgMSwgMF07XG4gIFxuICAvKiogR2xvYmFsIE1ldGhvZHMgKiovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgLyoqXG4gICAqIEhlbHBlciBtZXRob2QgdG8gdXBkYXRlIHRoZSBzdGVyZW8gcGFubmluZyBwb3NpdGlvbiBvZiBhbGwgY3VycmVudCBIb3dscy5cbiAgICogRnV0dXJlIEhvd2xzIHdpbGwgbm90IHVzZSB0aGlzIHZhbHVlIHVubGVzcyBleHBsaWNpdGx5IHNldC5cbiAgICogQHBhcmFtICB7TnVtYmVyfSBwYW4gQSB2YWx1ZSBvZiAtMS4wIGlzIGFsbCB0aGUgd2F5IGxlZnQgYW5kIDEuMCBpcyBhbGwgdGhlIHdheSByaWdodC5cbiAgICogQHJldHVybiB7SG93bGVyL051bWJlcn0gICAgIFNlbGYgb3IgY3VycmVudCBzdGVyZW8gcGFubmluZyB2YWx1ZS5cbiAgICovXG4gIEhvd2xlckdsb2JhbC5wcm90b3R5cGUuc3RlcmVvID0gZnVuY3Rpb24ocGFuKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXG4gICAgaWYgKCFzZWxmLmN0eCB8fCAhc2VsZi5jdHgubGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgSG93bHMgYW5kIHVwZGF0ZSB0aGVpciBzdGVyZW8gcGFubmluZy5cbiAgICBmb3IgKHZhciBpPXNlbGYuX2hvd2xzLmxlbmd0aC0xOyBpPj0wOyBpLS0pIHtcbiAgICAgIHNlbGYuX2hvd2xzW2ldLnN0ZXJlbyhwYW4pO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQvc2V0IHRoZSBwb3NpdGlvbiBvZiB0aGUgbGlzdGVuZXIgaW4gM0QgY2FydGVzaWFuIHNwYWNlLiBTb3VuZHMgdXNpbmdcbiAgICogM0QgcG9zaXRpb24gd2lsbCBiZSByZWxhdGl2ZSB0byB0aGUgbGlzdGVuZXIncyBwb3NpdGlvbi5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB4IFRoZSB4LXBvc2l0aW9uIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB5IFRoZSB5LXBvc2l0aW9uIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB6IFRoZSB6LXBvc2l0aW9uIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHJldHVybiB7SG93bGVyL0FycmF5fSAgIFNlbGYgb3IgY3VycmVudCBsaXN0ZW5lciBwb3NpdGlvbi5cbiAgICovXG4gIEhvd2xlckdsb2JhbC5wcm90b3R5cGUucG9zID0gZnVuY3Rpb24oeCwgeSwgeikge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxuICAgIGlmICghc2VsZi5jdHggfHwgIXNlbGYuY3R4Lmxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBTZXQgdGhlIGRlZmF1bHRzIGZvciBvcHRpb25hbCAneScgJiAneicuXG4gICAgeSA9ICh0eXBlb2YgeSAhPT0gJ251bWJlcicpID8gc2VsZi5fcG9zWzFdIDogeTtcbiAgICB6ID0gKHR5cGVvZiB6ICE9PSAnbnVtYmVyJykgPyBzZWxmLl9wb3NbMl0gOiB6O1xuXG4gICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xuICAgICAgc2VsZi5fcG9zID0gW3gsIHksIHpdO1xuICAgICAgc2VsZi5jdHgubGlzdGVuZXIuc2V0UG9zaXRpb24oc2VsZi5fcG9zWzBdLCBzZWxmLl9wb3NbMV0sIHNlbGYuX3Bvc1syXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzZWxmLl9wb3M7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGY7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldC9zZXQgdGhlIGRpcmVjdGlvbiB0aGUgbGlzdGVuZXIgaXMgcG9pbnRpbmcgaW4gdGhlIDNEIGNhcnRlc2lhbiBzcGFjZS5cbiAgICogQSBmcm9udCBhbmQgdXAgdmVjdG9yIG11c3QgYmUgcHJvdmlkZWQuIFRoZSBmcm9udCBpcyB0aGUgZGlyZWN0aW9uIHRoZVxuICAgKiBmYWNlIG9mIHRoZSBsaXN0ZW5lciBpcyBwb2ludGluZywgYW5kIHVwIGlzIHRoZSBkaXJlY3Rpb24gdGhlIHRvcCBvZiB0aGVcbiAgICogbGlzdGVuZXIgaXMgcG9pbnRpbmcuIFRodXMsIHRoZXNlIHZhbHVlcyBhcmUgZXhwZWN0ZWQgdG8gYmUgYXQgcmlnaHQgYW5nbGVzXG4gICAqIGZyb20gZWFjaCBvdGhlci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB4ICAgVGhlIHgtb3JpZW50YXRpb24gb2YgdGhlIGxpc3RlbmVyLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHkgICBUaGUgeS1vcmllbnRhdGlvbiBvZiB0aGUgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSAge051bWJlcn0geiAgIFRoZSB6LW9yaWVudGF0aW9uIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB4VXAgVGhlIHgtb3JpZW50YXRpb24gb2YgdGhlIHRvcCBvZiB0aGUgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSAge051bWJlcn0geVVwIFRoZSB5LW9yaWVudGF0aW9uIG9mIHRoZSB0b3Agb2YgdGhlIGxpc3RlbmVyLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHpVcCBUaGUgei1vcmllbnRhdGlvbiBvZiB0aGUgdG9wIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHJldHVybiB7SG93bGVyL0FycmF5fSAgICAgUmV0dXJucyBzZWxmIG9yIHRoZSBjdXJyZW50IG9yaWVudGF0aW9uIHZlY3RvcnMuXG4gICAqL1xuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlLm9yaWVudGF0aW9uID0gZnVuY3Rpb24oeCwgeSwgeiwgeFVwLCB5VXAsIHpVcCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxuICAgIGlmICghc2VsZi5jdHggfHwgIXNlbGYuY3R4Lmxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBTZXQgdGhlIGRlZmF1bHRzIGZvciBvcHRpb25hbCAneScgJiAneicuXG4gICAgdmFyIG9yID0gc2VsZi5fb3JpZW50YXRpb247XG4gICAgeSA9ICh0eXBlb2YgeSAhPT0gJ251bWJlcicpID8gb3JbMV0gOiB5O1xuICAgIHogPSAodHlwZW9mIHogIT09ICdudW1iZXInKSA/IG9yWzJdIDogejtcbiAgICB4VXAgPSAodHlwZW9mIHhVcCAhPT0gJ251bWJlcicpID8gb3JbM10gOiB4VXA7XG4gICAgeVVwID0gKHR5cGVvZiB5VXAgIT09ICdudW1iZXInKSA/IG9yWzRdIDogeVVwO1xuICAgIHpVcCA9ICh0eXBlb2YgelVwICE9PSAnbnVtYmVyJykgPyBvcls1XSA6IHpVcDtcblxuICAgIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHtcbiAgICAgIHNlbGYuX29yaWVudGF0aW9uID0gW3gsIHksIHosIHhVcCwgeVVwLCB6VXBdO1xuICAgICAgc2VsZi5jdHgubGlzdGVuZXIuc2V0T3JpZW50YXRpb24oeCwgeSwgeiwgeFVwLCB5VXAsIHpVcCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBvcjtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICAvKiogR3JvdXAgTWV0aG9kcyAqKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAvKipcbiAgICogQWRkIG5ldyBwcm9wZXJ0aWVzIHRvIHRoZSBjb3JlIGluaXQuXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBfc3VwZXIgQ29yZSBpbml0IG1ldGhvZC5cbiAgICogQHJldHVybiB7SG93bH1cbiAgICovXG4gIEhvd2wucHJvdG90eXBlLmluaXQgPSAoZnVuY3Rpb24oX3N1cGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG8pIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gU2V0dXAgdXNlci1kZWZpbmVkIGRlZmF1bHQgcHJvcGVydGllcy5cbiAgICAgIHNlbGYuX29yaWVudGF0aW9uID0gby5vcmllbnRhdGlvbiB8fCBbMSwgMCwgMF07XG4gICAgICBzZWxmLl9zdGVyZW8gPSBvLnN0ZXJlbyB8fCBudWxsO1xuICAgICAgc2VsZi5fcG9zID0gby5wb3MgfHwgbnVsbDtcbiAgICAgIHNlbGYuX3Bhbm5lckF0dHIgPSB7XG4gICAgICAgIGNvbmVJbm5lckFuZ2xlOiB0eXBlb2Ygby5jb25lSW5uZXJBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLmNvbmVJbm5lckFuZ2xlIDogMzYwLFxuICAgICAgICBjb25lT3V0ZXJBbmdsZTogdHlwZW9mIG8uY29uZU91dGVyQW5nbGUgIT09ICd1bmRlZmluZWQnID8gby5jb25lT3V0ZXJBbmdsZSA6IDM2MCxcbiAgICAgICAgY29uZU91dGVyR2FpbjogdHlwZW9mIG8uY29uZU91dGVyR2FpbiAhPT0gJ3VuZGVmaW5lZCcgPyBvLmNvbmVPdXRlckdhaW4gOiAwLFxuICAgICAgICBkaXN0YW5jZU1vZGVsOiB0eXBlb2Ygby5kaXN0YW5jZU1vZGVsICE9PSAndW5kZWZpbmVkJyA/IG8uZGlzdGFuY2VNb2RlbCA6ICdpbnZlcnNlJyxcbiAgICAgICAgbWF4RGlzdGFuY2U6IHR5cGVvZiBvLm1heERpc3RhbmNlICE9PSAndW5kZWZpbmVkJyA/IG8ubWF4RGlzdGFuY2UgOiAxMDAwMCxcbiAgICAgICAgcGFubmluZ01vZGVsOiB0eXBlb2Ygby5wYW5uaW5nTW9kZWwgIT09ICd1bmRlZmluZWQnID8gby5wYW5uaW5nTW9kZWwgOiAnSFJURicsXG4gICAgICAgIHJlZkRpc3RhbmNlOiB0eXBlb2Ygby5yZWZEaXN0YW5jZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLnJlZkRpc3RhbmNlIDogMSxcbiAgICAgICAgcm9sbG9mZkZhY3RvcjogdHlwZW9mIG8ucm9sbG9mZkZhY3RvciAhPT0gJ3VuZGVmaW5lZCcgPyBvLnJvbGxvZmZGYWN0b3IgOiAxXG4gICAgICB9O1xuXG4gICAgICAvLyBTZXR1cCBldmVudCBsaXN0ZW5lcnMuXG4gICAgICBzZWxmLl9vbnN0ZXJlbyA9IG8ub25zdGVyZW8gPyBbe2ZuOiBvLm9uc3RlcmVvfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ucG9zID0gby5vbnBvcyA/IFt7Zm46IG8ub25wb3N9XSA6IFtdO1xuICAgICAgc2VsZi5fb25vcmllbnRhdGlvbiA9IG8ub25vcmllbnRhdGlvbiA/IFt7Zm46IG8ub25vcmllbnRhdGlvbn1dIDogW107XG5cbiAgICAgIC8vIENvbXBsZXRlIGluaXRpbGl6YXRpb24gd2l0aCBob3dsZXIuanMgY29yZSdzIGluaXQgZnVuY3Rpb24uXG4gICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgbyk7XG4gICAgfTtcbiAgfSkoSG93bC5wcm90b3R5cGUuaW5pdCk7XG5cbiAgLyoqXG4gICAqIEdldC9zZXQgdGhlIHN0ZXJlbyBwYW5uaW5nIG9mIHRoZSBhdWRpbyBzb3VyY2UgZm9yIHRoaXMgc291bmQgb3IgYWxsIGluIHRoZSBncm91cC5cbiAgICogQHBhcmFtICB7TnVtYmVyfSBwYW4gIEEgdmFsdWUgb2YgLTEuMCBpcyBhbGwgdGhlIHdheSBsZWZ0IGFuZCAxLjAgaXMgYWxsIHRoZSB3YXkgcmlnaHQuXG4gICAqIEBwYXJhbSAge051bWJlcn0gaWQgKG9wdGlvbmFsKSBUaGUgc291bmQgSUQuIElmIG5vbmUgaXMgcGFzc2VkLCBhbGwgaW4gZ3JvdXAgd2lsbCBiZSB1cGRhdGVkLlxuICAgKiBAcmV0dXJuIHtIb3dsL051bWJlcn0gICAgUmV0dXJucyBzZWxmIG9yIHRoZSBjdXJyZW50IHN0ZXJlbyBwYW5uaW5nIHZhbHVlLlxuICAgKi9cbiAgSG93bC5wcm90b3R5cGUuc3RlcmVvID0gZnVuY3Rpb24ocGFuLCBpZCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxuICAgIGlmICghc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gY2hhbmdlIHN0ZXJlbyBwYW4gd2hlbiBjYXBhYmxlLlxuICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcpIHtcbiAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICBldmVudDogJ3N0ZXJlbycsXG4gICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2VsZi5zdGVyZW8ocGFuLCBpZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgUGFubmVyU3RlcmVvTm9kZSBzdXBwb3J0IGFuZCBmYWxsYmFjayB0byBQYW5uZXJOb2RlIGlmIGl0IGRvZXNuJ3QgZXhpc3QuXG4gICAgdmFyIHBhbm5lclR5cGUgPSAodHlwZW9mIEhvd2xlci5jdHguY3JlYXRlU3RlcmVvUGFubmVyID09PSAndW5kZWZpbmVkJykgPyAnc3BhdGlhbCcgOiAnc3RlcmVvJztcblxuICAgIC8vIFNldHVwIHRoZSBncm91cCdzIHN0ZXJlbyBwYW5uaW5nIGlmIG5vIElEIGlzIHBhc3NlZC5cbiAgICBpZiAodHlwZW9mIGlkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gUmV0dXJuIHRoZSBncm91cCdzIHN0ZXJlbyBwYW5uaW5nIGlmIG5vIHBhcmFtZXRlcnMgYXJlIHBhc3NlZC5cbiAgICAgIGlmICh0eXBlb2YgcGFuID09PSAnbnVtYmVyJykge1xuICAgICAgICBzZWxmLl9zdGVyZW8gPSBwYW47XG4gICAgICAgIHNlbGYuX3BvcyA9IFtwYW4sIDAsIDBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuX3N0ZXJlbztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDaGFuZ2UgdGhlIHN0cmVvIHBhbm5pbmcgb2Ygb25lIG9yIGFsbCBzb3VuZHMgaW4gZ3JvdXAuXG4gICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcbiAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XG5cbiAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICBpZiAodHlwZW9mIHBhbiA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBzb3VuZC5fc3RlcmVvID0gcGFuO1xuICAgICAgICAgIHNvdW5kLl9wb3MgPSBbcGFuLCAwLCAwXTtcblxuICAgICAgICAgIGlmIChzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgLy8gSWYgd2UgYXJlIGZhbGxpbmcgYmFjaywgbWFrZSBzdXJlIHRoZSBwYW5uaW5nTW9kZWwgaXMgZXF1YWxwb3dlci5cbiAgICAgICAgICAgIHNvdW5kLl9wYW5uZXJBdHRyLnBhbm5pbmdNb2RlbCA9ICdlcXVhbHBvd2VyJztcblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYSBwYW5uZXIgc2V0dXAgYW5kIGNyZWF0ZSBhIG5ldyBvbmUgaWYgbm90LlxuICAgICAgICAgICAgaWYgKCFzb3VuZC5fcGFubmVyIHx8ICFzb3VuZC5fcGFubmVyLnBhbikge1xuICAgICAgICAgICAgICBzZXR1cFBhbm5lcihzb3VuZCwgcGFubmVyVHlwZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwYW5uZXJUeXBlID09PSAnc3BhdGlhbCcpIHtcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5zZXRQb3NpdGlvbihwYW4sIDAsIDApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wYW4udmFsdWUgPSBwYW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5fZW1pdCgnc3RlcmVvJywgc291bmQuX2lkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gc291bmQuX3N0ZXJlbztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQvc2V0IHRoZSAzRCBzcGF0aWFsIHBvc2l0aW9uIG9mIHRoZSBhdWRpbyBzb3VyY2UgZm9yIHRoaXMgc291bmQgb3JcbiAgICogYWxsIGluIHRoZSBncm91cC4gVGhlIG1vc3QgY29tbW9uIHVzYWdlIGlzIHRvIHNldCB0aGUgJ3gnIHBvc2l0aW9uIGZvclxuICAgKiBsZWZ0L3JpZ2h0IHBhbm5pbmcuIFNldHRpbmcgYW55IHZhbHVlIGhpZ2hlciB0aGFuIDEuMCB3aWxsIGJlZ2luIHRvXG4gICAqIGRlY3JlYXNlIHRoZSB2b2x1bWUgb2YgdGhlIHNvdW5kIGFzIGl0IG1vdmVzIGZ1cnRoZXIgYXdheS5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB4ICBUaGUgeC1wb3NpdGlvbiBvZiB0aGUgYXVkaW8gZnJvbSAtMTAwMC4wIHRvIDEwMDAuMC5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB5ICBUaGUgeS1wb3NpdGlvbiBvZiB0aGUgYXVkaW8gZnJvbSAtMTAwMC4wIHRvIDEwMDAuMC5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB6ICBUaGUgei1wb3NpdGlvbiBvZiB0aGUgYXVkaW8gZnJvbSAtMTAwMC4wIHRvIDEwMDAuMC5cbiAgICogQHBhcmFtICB7TnVtYmVyfSBpZCAob3B0aW9uYWwpIFRoZSBzb3VuZCBJRC4gSWYgbm9uZSBpcyBwYXNzZWQsIGFsbCBpbiBncm91cCB3aWxsIGJlIHVwZGF0ZWQuXG4gICAqIEByZXR1cm4ge0hvd2wvQXJyYXl9ICAgIFJldHVybnMgc2VsZiBvciB0aGUgY3VycmVudCAzRCBzcGF0aWFsIHBvc2l0aW9uOiBbeCwgeSwgel0uXG4gICAqL1xuICBIb3dsLnByb3RvdHlwZS5wb3MgPSBmdW5jdGlvbih4LCB5LCB6LCBpZCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxuICAgIGlmICghc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gY2hhbmdlIHBvc2l0aW9uIHdoZW4gY2FwYWJsZS5cbiAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XG4gICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgZXZlbnQ6ICdwb3MnLFxuICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYucG9zKHgsIHksIHosIGlkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIFNldCB0aGUgZGVmYXVsdHMgZm9yIG9wdGlvbmFsICd5JyAmICd6Jy5cbiAgICB5ID0gKHR5cGVvZiB5ICE9PSAnbnVtYmVyJykgPyAwIDogeTtcbiAgICB6ID0gKHR5cGVvZiB6ICE9PSAnbnVtYmVyJykgPyAtMC41IDogejtcblxuICAgIC8vIFNldHVwIHRoZSBncm91cCdzIHNwYXRpYWwgcG9zaXRpb24gaWYgbm8gSUQgaXMgcGFzc2VkLlxuICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBSZXR1cm4gdGhlIGdyb3VwJ3Mgc3BhdGlhbCBwb3NpdGlvbiBpZiBubyBwYXJhbWV0ZXJzIGFyZSBwYXNzZWQuXG4gICAgICBpZiAodHlwZW9mIHggPT09ICdudW1iZXInKSB7XG4gICAgICAgIHNlbGYuX3BvcyA9IFt4LCB5LCB6XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzZWxmLl9wb3M7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hhbmdlIHRoZSBzcGF0aWFsIHBvc2l0aW9uIG9mIG9uZSBvciBhbGwgc291bmRzIGluIGdyb3VwLlxuICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xuXG4gICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHNvdW5kLl9wb3MgPSBbeCwgeSwgel07XG5cbiAgICAgICAgICBpZiAoc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGlzIGEgcGFubmVyIHNldHVwIGFuZCBjcmVhdGUgYSBuZXcgb25lIGlmIG5vdC5cbiAgICAgICAgICAgIGlmICghc291bmQuX3Bhbm5lciB8fCBzb3VuZC5fcGFubmVyLnBhbikge1xuICAgICAgICAgICAgICBzZXR1cFBhbm5lcihzb3VuZCwgJ3NwYXRpYWwnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc291bmQuX3Bhbm5lci5zZXRQb3NpdGlvbih4LCB5LCB6KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZWxmLl9lbWl0KCdwb3MnLCBzb3VuZC5faWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBzb3VuZC5fcG9zO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGY7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldC9zZXQgdGhlIGRpcmVjdGlvbiB0aGUgYXVkaW8gc291cmNlIGlzIHBvaW50aW5nIGluIHRoZSAzRCBjYXJ0ZXNpYW4gY29vcmRpbmF0ZVxuICAgKiBzcGFjZS4gRGVwZW5kaW5nIG9uIGhvdyBkaXJlY3Rpb24gdGhlIHNvdW5kIGlzLCBiYXNlZCBvbiB0aGUgYGNvbmVgIGF0dHJpYnV0ZXMsXG4gICAqIGEgc291bmQgcG9pbnRpbmcgYXdheSBmcm9tIHRoZSBsaXN0ZW5lciBjYW4gYmUgcXVpZXQgb3Igc2lsZW50LlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHggIFRoZSB4LW9yaWVudGF0aW9uIG9mIHRoZSBzb3VyY2UuXG4gICAqIEBwYXJhbSAge051bWJlcn0geSAgVGhlIHktb3JpZW50YXRpb24gb2YgdGhlIHNvdXJjZS5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB6ICBUaGUgei1vcmllbnRhdGlvbiBvZiB0aGUgc291cmNlLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIChvcHRpb25hbCkgVGhlIHNvdW5kIElELiBJZiBub25lIGlzIHBhc3NlZCwgYWxsIGluIGdyb3VwIHdpbGwgYmUgdXBkYXRlZC5cbiAgICogQHJldHVybiB7SG93bC9BcnJheX0gICAgUmV0dXJucyBzZWxmIG9yIHRoZSBjdXJyZW50IDNEIHNwYXRpYWwgb3JpZW50YXRpb246IFt4LCB5LCB6XS5cbiAgICovXG4gIEhvd2wucHJvdG90eXBlLm9yaWVudGF0aW9uID0gZnVuY3Rpb24oeCwgeSwgeiwgaWQpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBTdG9wIHJpZ2h0IGhlcmUgaWYgbm90IHVzaW5nIFdlYiBBdWRpby5cbiAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIGNoYW5nZSBvcmllbnRhdGlvbiB3aGVuIGNhcGFibGUuXG4gICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgIGV2ZW50OiAnb3JpZW50YXRpb24nLFxuICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYub3JpZW50YXRpb24oeCwgeSwgeiwgaWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgLy8gU2V0IHRoZSBkZWZhdWx0cyBmb3Igb3B0aW9uYWwgJ3knICYgJ3onLlxuICAgIHkgPSAodHlwZW9mIHkgIT09ICdudW1iZXInKSA/IHNlbGYuX29yaWVudGF0aW9uWzFdIDogeTtcbiAgICB6ID0gKHR5cGVvZiB6ICE9PSAnbnVtYmVyJykgPyBzZWxmLl9vcmllbnRhdGlvblsyXSA6IHo7XG5cbiAgICAvLyBTZXR1cCB0aGUgZ3JvdXAncyBzcGF0aWFsIG9yaWVudGF0aW9uIGlmIG5vIElEIGlzIHBhc3NlZC5cbiAgICBpZiAodHlwZW9mIGlkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gUmV0dXJuIHRoZSBncm91cCdzIHNwYXRpYWwgb3JpZW50YXRpb24gaWYgbm8gcGFyYW1ldGVycyBhcmUgcGFzc2VkLlxuICAgICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xuICAgICAgICBzZWxmLl9vcmllbnRhdGlvbiA9IFt4LCB5LCB6XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzZWxmLl9vcmllbnRhdGlvbjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDaGFuZ2UgdGhlIHNwYXRpYWwgb3JpZW50YXRpb24gb2Ygb25lIG9yIGFsbCBzb3VuZHMgaW4gZ3JvdXAuXG4gICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcbiAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XG5cbiAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICBpZiAodHlwZW9mIHggPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgc291bmQuX29yaWVudGF0aW9uID0gW3gsIHksIHpdO1xuXG4gICAgICAgICAgaWYgKHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSBpcyBhIHBhbm5lciBzZXR1cCBhbmQgY3JlYXRlIGEgbmV3IG9uZSBpZiBub3QuXG4gICAgICAgICAgICBpZiAoIXNvdW5kLl9wYW5uZXIpIHtcbiAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHdlIGhhdmUgYSBwb3NpdGlvbiB0byBzZXR1cCB0aGUgbm9kZSB3aXRoLlxuICAgICAgICAgICAgICBpZiAoIXNvdW5kLl9wb3MpIHtcbiAgICAgICAgICAgICAgICBzb3VuZC5fcG9zID0gc2VsZi5fcG9zIHx8IFswLCAwLCAtMC41XTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHNldHVwUGFubmVyKHNvdW5kLCAnc3BhdGlhbCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzb3VuZC5fcGFubmVyLnNldE9yaWVudGF0aW9uKHgsIHksIHopO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuX2VtaXQoJ29yaWVudGF0aW9uJywgc291bmQuX2lkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gc291bmQuX29yaWVudGF0aW9uO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGY7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldC9zZXQgdGhlIHBhbm5lciBub2RlJ3MgYXR0cmlidXRlcyBmb3IgYSBzb3VuZCBvciBncm91cCBvZiBzb3VuZHMuXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGwgdGFrZSAwLCAxIG9yIDIgYXJndW1lbnRzLlxuICAgKiAgIHBhbm5lckF0dHIoKSAtPiBSZXR1cm5zIHRoZSBncm91cCdzIHZhbHVlcy5cbiAgICogICBwYW5uZXJBdHRyKGlkKSAtPiBSZXR1cm5zIHRoZSBzb3VuZCBpZCdzIHZhbHVlcy5cbiAgICogICBwYW5uZXJBdHRyKG8pIC0+IFNldCdzIHRoZSB2YWx1ZXMgb2YgYWxsIHNvdW5kcyBpbiB0aGlzIEhvd2wgZ3JvdXAuXG4gICAqICAgcGFubmVyQXR0cihvLCBpZCkgLT4gU2V0J3MgdGhlIHZhbHVlcyBvZiBwYXNzZWQgc291bmQgaWQuXG4gICAqXG4gICAqICAgQXR0cmlidXRlczpcbiAgICogICAgIGNvbmVJbm5lckFuZ2xlIC0gKDM2MCBieSBkZWZhdWx0KSBUaGVyZSB3aWxsIGJlIG5vIHZvbHVtZSByZWR1Y3Rpb24gaW5zaWRlIHRoaXMgYW5nbGUuXG4gICAqICAgICBjb25lT3V0ZXJBbmdsZSAtICgzNjAgYnkgZGVmYXVsdCkgVGhlIHZvbHVtZSB3aWxsIGJlIHJlZHVjZWQgdG8gYSBjb25zdGFudCB2YWx1ZSBvZlxuICAgKiAgICAgICAgICAgICAgICAgICAgICBgY29uZU91dGVyR2FpbmAgb3V0c2lkZSB0aGlzIGFuZ2xlLlxuICAgKiAgICAgY29uZU91dGVyR2FpbiAtICgwIGJ5IGRlZmF1bHQpIFRoZSBhbW91bnQgb2Ygdm9sdW1lIHJlZHVjdGlvbiBvdXRzaWRlIG9mIGBjb25lT3V0ZXJBbmdsZWAuXG4gICAqICAgICBkaXN0YW5jZU1vZGVsIC0gKCdpbnZlcnNlJyBieSBkZWZhdWx0KSBEZXRlcm1pbmVzIGFsZ29yaXRobSB0byB1c2UgdG8gcmVkdWNlIHZvbHVtZSBhcyBhdWRpbyBtb3Zlc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICBhd2F5IGZyb20gbGlzdGVuZXIuIENhbiBiZSBgbGluZWFyYCwgYGludmVyc2VgIG9yIGBleHBvbmVudGlhbGAuXG4gICAqICAgICBtYXhEaXN0YW5jZSAtICgxMDAwMCBieSBkZWZhdWx0KSBWb2x1bWUgd29uJ3QgcmVkdWNlIGJldHdlZW4gc291cmNlL2xpc3RlbmVyIGJleW9uZCB0aGlzIGRpc3RhbmNlLlxuICAgKiAgICAgcGFubmluZ01vZGVsIC0gKCdIUlRGJyBieSBkZWZhdWx0KSBEZXRlcm1pbmVzIHdoaWNoIHNwYXRpYWxpemF0aW9uIGFsZ29yaXRobSBpcyB1c2VkIHRvIHBvc2l0aW9uIGF1ZGlvLlxuICAgKiAgICAgICAgICAgICAgICAgICAgIENhbiBiZSBgSFJURmAgb3IgYGVxdWFscG93ZXJgLlxuICAgKiAgICAgcmVmRGlzdGFuY2UgLSAoMSBieSBkZWZhdWx0KSBBIHJlZmVyZW5jZSBkaXN0YW5jZSBmb3IgcmVkdWNpbmcgdm9sdW1lIGFzIHRoZSBzb3VyY2VcbiAgICogICAgICAgICAgICAgICAgICAgIG1vdmVzIGF3YXkgZnJvbSB0aGUgbGlzdGVuZXIuXG4gICAqICAgICByb2xsb2ZmRmFjdG9yIC0gKDEgYnkgZGVmYXVsdCkgSG93IHF1aWNrbHkgdGhlIHZvbHVtZSByZWR1Y2VzIGFzIHNvdXJjZSBtb3ZlcyBmcm9tIGxpc3RlbmVyLlxuICAgKiBcbiAgICogQHJldHVybiB7SG93bC9PYmplY3R9IFJldHVybnMgc2VsZiBvciBjdXJyZW50IHBhbm5lciBhdHRyaWJ1dGVzLlxuICAgKi9cbiAgSG93bC5wcm90b3R5cGUucGFubmVyQXR0ciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICB2YXIgbywgaWQsIHNvdW5kO1xuXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXG4gICAgaWYgKCFzZWxmLl93ZWJBdWRpbykge1xuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgLy8gRGV0ZXJtaW5lIHRoZSB2YWx1ZXMgYmFzZWQgb24gYXJndW1lbnRzLlxuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgLy8gUmV0dXJuIHRoZSBncm91cCdzIHBhbm5lciBhdHRyaWJ1dGUgdmFsdWVzLlxuICAgICAgcmV0dXJuIHNlbGYuX3Bhbm5lckF0dHI7XG4gICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgaWYgKHR5cGVvZiBhcmdzWzBdID09PSAnb2JqZWN0Jykge1xuICAgICAgICBvID0gYXJnc1swXTtcblxuICAgICAgICAvLyBTZXQgdGhlIGdyb3UncyBwYW5uZXIgYXR0cmlidXRlIHZhbHVlcy5cbiAgICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBzZWxmLl9wYW5uZXJBdHRyID0ge1xuICAgICAgICAgICAgY29uZUlubmVyQW5nbGU6IHR5cGVvZiBvLmNvbmVJbm5lckFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZUlubmVyQW5nbGUgOiBzZWxmLl9jb25lSW5uZXJBbmdsZSxcbiAgICAgICAgICAgIGNvbmVPdXRlckFuZ2xlOiB0eXBlb2Ygby5jb25lT3V0ZXJBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLmNvbmVPdXRlckFuZ2xlIDogc2VsZi5fY29uZU91dGVyQW5nbGUsXG4gICAgICAgICAgICBjb25lT3V0ZXJHYWluOiB0eXBlb2Ygby5jb25lT3V0ZXJHYWluICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZU91dGVyR2FpbiA6IHNlbGYuX2NvbmVPdXRlckdhaW4sXG4gICAgICAgICAgICBkaXN0YW5jZU1vZGVsOiB0eXBlb2Ygby5kaXN0YW5jZU1vZGVsICE9PSAndW5kZWZpbmVkJyA/IG8uZGlzdGFuY2VNb2RlbCA6IHNlbGYuX2Rpc3RhbmNlTW9kZWwsXG4gICAgICAgICAgICBtYXhEaXN0YW5jZTogdHlwZW9mIG8ubWF4RGlzdGFuY2UgIT09ICd1bmRlZmluZWQnID8gby5tYXhEaXN0YW5jZSA6IHNlbGYuX21heERpc3RhbmNlLFxuICAgICAgICAgICAgcGFubmluZ01vZGVsOiB0eXBlb2Ygby5wYW5uaW5nTW9kZWwgIT09ICd1bmRlZmluZWQnID8gby5wYW5uaW5nTW9kZWwgOiBzZWxmLl9wYW5uaW5nTW9kZWwsXG4gICAgICAgICAgICByZWZEaXN0YW5jZTogdHlwZW9mIG8ucmVmRGlzdGFuY2UgIT09ICd1bmRlZmluZWQnID8gby5yZWZEaXN0YW5jZSA6IHNlbGYuX3JlZkRpc3RhbmNlLFxuICAgICAgICAgICAgcm9sbG9mZkZhY3RvcjogdHlwZW9mIG8ucm9sbG9mZkZhY3RvciAhPT0gJ3VuZGVmaW5lZCcgPyBvLnJvbGxvZmZGYWN0b3IgOiBzZWxmLl9yb2xsb2ZmRmFjdG9yXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUmV0dXJuIHRoaXMgc291bmQncyBwYW5uZXIgYXR0cmlidXRlIHZhbHVlcy5cbiAgICAgICAgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQocGFyc2VJbnQoYXJnc1swXSwgMTApKTtcbiAgICAgICAgcmV0dXJuIHNvdW5kID8gc291bmQuX3Bhbm5lckF0dHIgOiBzZWxmLl9wYW5uZXJBdHRyO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcbiAgICAgIG8gPSBhcmdzWzBdO1xuICAgICAgaWQgPSBwYXJzZUludChhcmdzWzFdLCAxMCk7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHRoZSB2YWx1ZXMgb2YgdGhlIHNwZWNpZmllZCBzb3VuZHMuXG4gICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcbiAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xuXG4gICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgLy8gTWVyZ2UgdGhlIG5ldyB2YWx1ZXMgaW50byB0aGUgc291bmQuXG4gICAgICAgIHZhciBwYSA9IHNvdW5kLl9wYW5uZXJBdHRyO1xuICAgICAgICBwYSA9IHtcbiAgICAgICAgICBjb25lSW5uZXJBbmdsZTogdHlwZW9mIG8uY29uZUlubmVyQW5nbGUgIT09ICd1bmRlZmluZWQnID8gby5jb25lSW5uZXJBbmdsZSA6IHBhLmNvbmVJbm5lckFuZ2xlLFxuICAgICAgICAgIGNvbmVPdXRlckFuZ2xlOiB0eXBlb2Ygby5jb25lT3V0ZXJBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLmNvbmVPdXRlckFuZ2xlIDogcGEuY29uZU91dGVyQW5nbGUsXG4gICAgICAgICAgY29uZU91dGVyR2FpbjogdHlwZW9mIG8uY29uZU91dGVyR2FpbiAhPT0gJ3VuZGVmaW5lZCcgPyBvLmNvbmVPdXRlckdhaW4gOiBwYS5jb25lT3V0ZXJHYWluLFxuICAgICAgICAgIGRpc3RhbmNlTW9kZWw6IHR5cGVvZiBvLmRpc3RhbmNlTW9kZWwgIT09ICd1bmRlZmluZWQnID8gby5kaXN0YW5jZU1vZGVsIDogcGEuZGlzdGFuY2VNb2RlbCxcbiAgICAgICAgICBtYXhEaXN0YW5jZTogdHlwZW9mIG8ubWF4RGlzdGFuY2UgIT09ICd1bmRlZmluZWQnID8gby5tYXhEaXN0YW5jZSA6IHBhLm1heERpc3RhbmNlLFxuICAgICAgICAgIHBhbm5pbmdNb2RlbDogdHlwZW9mIG8ucGFubmluZ01vZGVsICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmluZ01vZGVsIDogcGEucGFubmluZ01vZGVsLFxuICAgICAgICAgIHJlZkRpc3RhbmNlOiB0eXBlb2Ygby5yZWZEaXN0YW5jZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLnJlZkRpc3RhbmNlIDogcGEucmVmRGlzdGFuY2UsXG4gICAgICAgICAgcm9sbG9mZkZhY3RvcjogdHlwZW9mIG8ucm9sbG9mZkZhY3RvciAhPT0gJ3VuZGVmaW5lZCcgPyBvLnJvbGxvZmZGYWN0b3IgOiBwYS5yb2xsb2ZmRmFjdG9yXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gVXBkYXRlIHRoZSBwYW5uZXIgdmFsdWVzIG9yIGNyZWF0ZSBhIG5ldyBwYW5uZXIgaWYgbm9uZSBleGlzdHMuXG4gICAgICAgIHZhciBwYW5uZXIgPSBzb3VuZC5fcGFubmVyO1xuICAgICAgICBpZiAocGFubmVyKSB7XG4gICAgICAgICAgcGFubmVyLmNvbmVJbm5lckFuZ2xlID0gcGEuY29uZUlubmVyQW5nbGU7XG4gICAgICAgICAgcGFubmVyLmNvbmVPdXRlckFuZ2xlID0gcGEuY29uZU91dGVyQW5nbGU7XG4gICAgICAgICAgcGFubmVyLmNvbmVPdXRlckdhaW4gPSBwYS5jb25lT3V0ZXJHYWluO1xuICAgICAgICAgIHBhbm5lci5kaXN0YW5jZU1vZGVsID0gcGEuZGlzdGFuY2VNb2RlbDtcbiAgICAgICAgICBwYW5uZXIubWF4RGlzdGFuY2UgPSBwYS5tYXhEaXN0YW5jZTtcbiAgICAgICAgICBwYW5uZXIucGFubmluZ01vZGVsID0gcGEucGFubmluZ01vZGVsO1xuICAgICAgICAgIHBhbm5lci5yZWZEaXN0YW5jZSA9IHBhLnJlZkRpc3RhbmNlO1xuICAgICAgICAgIHBhbm5lci5yb2xsb2ZmRmFjdG9yID0gcGEucm9sbG9mZkZhY3RvcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBNYWtlIHN1cmUgd2UgaGF2ZSBhIHBvc2l0aW9uIHRvIHNldHVwIHRoZSBub2RlIHdpdGguXG4gICAgICAgICAgaWYgKCFzb3VuZC5fcG9zKSB7XG4gICAgICAgICAgICBzb3VuZC5fcG9zID0gc2VsZi5fcG9zIHx8IFswLCAwLCAtMC41XTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBDcmVhdGUgYSBuZXcgcGFubmVyIG5vZGUuXG4gICAgICAgICAgc2V0dXBQYW5uZXIoc291bmQsICdzcGF0aWFsJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICAvKiogU2luZ2xlIFNvdW5kIE1ldGhvZHMgKiovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgLyoqXG4gICAqIEFkZCBuZXcgcHJvcGVydGllcyB0byB0aGUgY29yZSBTb3VuZCBpbml0LlxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gX3N1cGVyIENvcmUgU291bmQgaW5pdCBtZXRob2QuXG4gICAqIEByZXR1cm4ge1NvdW5kfVxuICAgKi9cbiAgU291bmQucHJvdG90eXBlLmluaXQgPSAoZnVuY3Rpb24oX3N1cGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHBhcmVudCA9IHNlbGYuX3BhcmVudDtcblxuICAgICAgLy8gU2V0dXAgdXNlci1kZWZpbmVkIGRlZmF1bHQgcHJvcGVydGllcy5cbiAgICAgIHNlbGYuX29yaWVudGF0aW9uID0gcGFyZW50Ll9vcmllbnRhdGlvbjtcbiAgICAgIHNlbGYuX3N0ZXJlbyA9IHBhcmVudC5fc3RlcmVvO1xuICAgICAgc2VsZi5fcG9zID0gcGFyZW50Ll9wb3M7XG4gICAgICBzZWxmLl9wYW5uZXJBdHRyID0gcGFyZW50Ll9wYW5uZXJBdHRyO1xuXG4gICAgICAvLyBDb21wbGV0ZSBpbml0aWxpemF0aW9uIHdpdGggaG93bGVyLmpzIGNvcmUgU291bmQncyBpbml0IGZ1bmN0aW9uLlxuICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG5cbiAgICAgIC8vIElmIGEgc3RlcmVvIG9yIHBvc2l0aW9uIHdhcyBzcGVjaWZpZWQsIHNldCBpdCB1cC5cbiAgICAgIGlmIChzZWxmLl9zdGVyZW8pIHtcbiAgICAgICAgcGFyZW50LnN0ZXJlbyhzZWxmLl9zdGVyZW8pO1xuICAgICAgfSBlbHNlIGlmIChzZWxmLl9wb3MpIHtcbiAgICAgICAgcGFyZW50LnBvcyhzZWxmLl9wb3NbMF0sIHNlbGYuX3Bvc1sxXSwgc2VsZi5fcG9zWzJdLCBzZWxmLl9pZCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSkoU291bmQucHJvdG90eXBlLmluaXQpO1xuXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgU291bmQucmVzZXQgbWV0aG9kIHRvIGNsZWFuIHVwIHByb3BlcnRpZXMgZnJvbSB0aGUgc3BhdGlhbCBwbHVnaW4uXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBfc3VwZXIgU291bmQgcmVzZXQgbWV0aG9kLlxuICAgKiBAcmV0dXJuIHtTb3VuZH1cbiAgICovXG4gIFNvdW5kLnByb3RvdHlwZS5yZXNldCA9IChmdW5jdGlvbihfc3VwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xuXG4gICAgICAvLyBSZXNldCBhbGwgc3BhdGlhbCBwbHVnaW4gcHJvcGVydGllcyBvbiB0aGlzIHNvdW5kLlxuICAgICAgc2VsZi5fb3JpZW50YXRpb24gPSBwYXJlbnQuX29yaWVudGF0aW9uO1xuICAgICAgc2VsZi5fcG9zID0gcGFyZW50Ll9wb3M7XG4gICAgICBzZWxmLl9wYW5uZXJBdHRyID0gcGFyZW50Ll9wYW5uZXJBdHRyO1xuXG4gICAgICAvLyBDb21wbGV0ZSByZXNldHRpbmcgb2YgdGhlIHNvdW5kLlxuICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgIH07XG4gIH0pKFNvdW5kLnByb3RvdHlwZS5yZXNldCk7XG5cbiAgLyoqIEhlbHBlciBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgcGFubmVyIG5vZGUgYW5kIHNhdmUgaXQgb24gdGhlIHNvdW5kLlxuICAgKiBAcGFyYW0gIHtTb3VuZH0gc291bmQgU3BlY2lmaWMgc291bmQgdG8gc2V0dXAgcGFubmluZyBvbi5cbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVHlwZSBvZiBwYW5uZXIgdG8gY3JlYXRlOiAnc3RlcmVvJyBvciAnc3BhdGlhbCcuXG4gICAqL1xuICB2YXIgc2V0dXBQYW5uZXIgPSBmdW5jdGlvbihzb3VuZCwgdHlwZSkge1xuICAgIHR5cGUgPSB0eXBlIHx8ICdzcGF0aWFsJztcblxuICAgIC8vIENyZWF0ZSB0aGUgbmV3IHBhbm5lciBub2RlLlxuICAgIGlmICh0eXBlID09PSAnc3BhdGlhbCcpIHtcbiAgICAgIHNvdW5kLl9wYW5uZXIgPSBIb3dsZXIuY3R4LmNyZWF0ZVBhbm5lcigpO1xuICAgICAgc291bmQuX3Bhbm5lci5jb25lSW5uZXJBbmdsZSA9IHNvdW5kLl9wYW5uZXJBdHRyLmNvbmVJbm5lckFuZ2xlO1xuICAgICAgc291bmQuX3Bhbm5lci5jb25lT3V0ZXJBbmdsZSA9IHNvdW5kLl9wYW5uZXJBdHRyLmNvbmVPdXRlckFuZ2xlO1xuICAgICAgc291bmQuX3Bhbm5lci5jb25lT3V0ZXJHYWluID0gc291bmQuX3Bhbm5lckF0dHIuY29uZU91dGVyR2FpbjtcbiAgICAgIHNvdW5kLl9wYW5uZXIuZGlzdGFuY2VNb2RlbCA9IHNvdW5kLl9wYW5uZXJBdHRyLmRpc3RhbmNlTW9kZWw7XG4gICAgICBzb3VuZC5fcGFubmVyLm1heERpc3RhbmNlID0gc291bmQuX3Bhbm5lckF0dHIubWF4RGlzdGFuY2U7XG4gICAgICBzb3VuZC5fcGFubmVyLnBhbm5pbmdNb2RlbCA9IHNvdW5kLl9wYW5uZXJBdHRyLnBhbm5pbmdNb2RlbDtcbiAgICAgIHNvdW5kLl9wYW5uZXIucmVmRGlzdGFuY2UgPSBzb3VuZC5fcGFubmVyQXR0ci5yZWZEaXN0YW5jZTtcbiAgICAgIHNvdW5kLl9wYW5uZXIucm9sbG9mZkZhY3RvciA9IHNvdW5kLl9wYW5uZXJBdHRyLnJvbGxvZmZGYWN0b3I7XG4gICAgICBzb3VuZC5fcGFubmVyLnNldFBvc2l0aW9uKHNvdW5kLl9wb3NbMF0sIHNvdW5kLl9wb3NbMV0sIHNvdW5kLl9wb3NbMl0pO1xuICAgICAgc291bmQuX3Bhbm5lci5zZXRPcmllbnRhdGlvbihzb3VuZC5fb3JpZW50YXRpb25bMF0sIHNvdW5kLl9vcmllbnRhdGlvblsxXSwgc291bmQuX29yaWVudGF0aW9uWzJdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc291bmQuX3Bhbm5lciA9IEhvd2xlci5jdHguY3JlYXRlU3RlcmVvUGFubmVyKCk7XG4gICAgICBzb3VuZC5fcGFubmVyLnBhbi52YWx1ZSA9IHNvdW5kLl9zdGVyZW87XG4gICAgfVxuXG4gICAgc291bmQuX3Bhbm5lci5jb25uZWN0KHNvdW5kLl9ub2RlKTtcblxuICAgIC8vIFVwZGF0ZSB0aGUgY29ubmVjdGlvbnMuXG4gICAgaWYgKCFzb3VuZC5fcGF1c2VkKSB7XG4gICAgICBzb3VuZC5fcGFyZW50LnBhdXNlKHNvdW5kLl9pZCwgdHJ1ZSkucGxheShzb3VuZC5faWQpO1xuICAgIH1cbiAgfTtcbn0pKCk7XG4iLCJjb25zdCBjb25maWcgPSByZXF1aXJlKCcuLy4uLy4uL2NvbmZpZycpO1xuXG5leHBvcnQgY29uc3QgdHJhbnNwYXJlbnQgPSBuZXcgQ29sb3IoMCwgMCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXRoQ29sb3JOYW1lKHBhdGgpIHtcbiAgbGV0IGhleENvbG9yID0gcGF0aC5wYXJlbnQuZGF0YS5vcmlnaW5hbENvbG9yO1xuICAvLyBsZXQgaGV4Q29sb3IgPSBwYXRoLnN0cm9rZUNvbG9yLnRvQ1NTKHRydWUpOyAvLyBUaGlzIGZhaWxzIHdoZW4gaXQncyBhIGdyYWRpZW50XG4gIHJldHVybiBnZXRDb2xvck5hbWUoaGV4Q29sb3IpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29sb3JOYW1lKGNvbG9yKSB7XG4gIGlmIChjb2xvcikge1xuICAgIGNvbG9yID0gY29sb3IudG9VcHBlckNhc2UoKTsgLy8gbWFrZSBzdXJlXG4gICAgaWYgKGNvbG9yIGluIGNvbmZpZy5wYWxldHRlLmNvbG9yTmFtZXMpIHtcbiAgICAgIHJldHVybiBjb25maWcucGFsZXR0ZS5jb2xvck5hbWVzW2NvbG9yXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG4iLCIoZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuXG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT09IFwidW5kZWZpbmVkXCIgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHtcbiAgICByb290LlNoYXBlRGV0ZWN0b3IgPSBmYWN0b3J5KCk7XG4gIH1cbn0odGhpcywgZnVuY3Rpb24oKSB7XG5cbiAgdmFyIF9uYlNhbXBsZVBvaW50cztcbiAgdmFyIF9zcXVhcmVTaXplID0gMjUwO1xuICB2YXIgX3BoaSA9IDAuNSAqICgtMS4wICsgTWF0aC5zcXJ0KDUuMCkpO1xuICB2YXIgX2FuZ2xlUmFuZ2UgPSBkZWcyUmFkKDQ1LjApO1xuICB2YXIgX2FuZ2xlUHJlY2lzaW9uID0gZGVnMlJhZCgyLjApO1xuICB2YXIgX2hhbGZEaWFnb25hbCA9IE1hdGguc3FydChfc3F1YXJlU2l6ZSAqIF9zcXVhcmVTaXplICsgX3NxdWFyZVNpemUgKiBfc3F1YXJlU2l6ZSkgKiAwLjU7XG4gIHZhciBfb3JpZ2luID0ge1xuICAgIHg6IDAsXG4gICAgeTogMFxuICB9O1xuXG4gIGZ1bmN0aW9uIGRlZzJSYWQoZCkge1xuXG4gICAgcmV0dXJuIGQgKiBNYXRoLlBJIC8gMTgwLjA7XG4gIH07XG5cbiAgZnVuY3Rpb24gZ2V0RGlzdGFuY2UoYSwgYikge1xuXG4gICAgdmFyIGR4ID0gYi54IC0gYS54O1xuICAgIHZhciBkeSA9IGIueSAtIGEueTtcblxuICAgIHJldHVybiBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIFN0cm9rZShwb2ludHMsIG5hbWUpIHtcblxuICAgIHRoaXMucG9pbnRzID0gcG9pbnRzO1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5wcm9jZXNzU3Ryb2tlKCk7XG4gIH07XG5cbiAgU3Ryb2tlLnByb3RvdHlwZS5wcm9jZXNzU3Ryb2tlID0gZnVuY3Rpb24oKSB7XG5cbiAgICB0aGlzLnBvaW50cyA9IHRoaXMucmVzYW1wbGUoKTtcbiAgICB0aGlzLnNldENlbnRyb2lkKCk7XG4gICAgdGhpcy5wb2ludHMgPSB0aGlzLnJvdGF0ZUJ5KC10aGlzLmluZGljYXRpdmVBbmdsZSgpKTtcbiAgICB0aGlzLnBvaW50cyA9IHRoaXMuc2NhbGVUb1NxdWFyZSgpO1xuICAgIHRoaXMuc2V0Q2VudHJvaWQoKTtcbiAgICB0aGlzLnBvaW50cyA9IHRoaXMudHJhbnNsYXRlVG9PcmlnaW4oKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIFN0cm9rZS5wcm90b3R5cGUucmVzYW1wbGUgPSBmdW5jdGlvbigpIHtcblxuICAgIHZhciBsb2NhbERpc3RhbmNlLCBxO1xuICAgIHZhciBpbnRlcnZhbCA9IHRoaXMuc3Ryb2tlTGVuZ3RoKCkgLyAoX25iU2FtcGxlUG9pbnRzIC0gMSk7XG4gICAgdmFyIGRpc3RhbmNlID0gMC4wO1xuICAgIHZhciBuZXdQb2ludHMgPSBbdGhpcy5wb2ludHNbMF1dO1xuXG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCB0aGlzLnBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgbG9jYWxEaXN0YW5jZSA9IGdldERpc3RhbmNlKHRoaXMucG9pbnRzW2kgLSAxXSwgdGhpcy5wb2ludHNbaV0pO1xuXG4gICAgICBpZiAoZGlzdGFuY2UgKyBsb2NhbERpc3RhbmNlID49IGludGVydmFsKSB7XG4gICAgICAgIHEgPSB7XG4gICAgICAgICAgeDogdGhpcy5wb2ludHNbaSAtIDFdLnggKyAoKGludGVydmFsIC0gZGlzdGFuY2UpIC8gbG9jYWxEaXN0YW5jZSkgKiAodGhpcy5wb2ludHNbaV0ueCAtIHRoaXMucG9pbnRzW2kgLSAxXS54KSxcbiAgICAgICAgICB5OiB0aGlzLnBvaW50c1tpIC0gMV0ueSArICgoaW50ZXJ2YWwgLSBkaXN0YW5jZSkgLyBsb2NhbERpc3RhbmNlKSAqICh0aGlzLnBvaW50c1tpXS55IC0gdGhpcy5wb2ludHNbaSAtIDFdLnkpXG4gICAgICAgIH07XG5cbiAgICAgICAgbmV3UG9pbnRzLnB1c2gocSk7XG4gICAgICAgIHRoaXMucG9pbnRzLnNwbGljZShpLCAwLCBxKTtcbiAgICAgICAgZGlzdGFuY2UgPSAwLjA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkaXN0YW5jZSArPSBsb2NhbERpc3RhbmNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChuZXdQb2ludHMubGVuZ3RoID09PSBfbmJTYW1wbGVQb2ludHMgLSAxKSB7XG4gICAgICBuZXdQb2ludHMucHVzaCh0aGlzLnBvaW50c1t0aGlzLnBvaW50cy5sZW5ndGggLSAxXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld1BvaW50cztcbiAgfTtcblxuICBTdHJva2UucHJvdG90eXBlLnJvdGF0ZUJ5ID0gZnVuY3Rpb24oYW5nbGUpIHtcblxuICAgIHZhciBwb2ludDtcbiAgICB2YXIgY29zID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgIHZhciBzaW4gPSBNYXRoLnNpbihhbmdsZSk7XG4gICAgdmFyIG5ld1BvaW50cyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgcG9pbnQgPSB0aGlzLnBvaW50c1tpXTtcblxuICAgICAgbmV3UG9pbnRzLnB1c2goe1xuICAgICAgICB4OiAocG9pbnQueCAtIHRoaXMuYy54KSAqIGNvcyAtIChwb2ludC55IC0gdGhpcy5jLnkpICogc2luICsgdGhpcy5jLngsXG4gICAgICAgIHk6IChwb2ludC54IC0gdGhpcy5jLngpICogc2luICsgKHBvaW50LnkgLSB0aGlzLmMueSkgKiBjb3MgKyB0aGlzLmMueVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld1BvaW50cztcbiAgfTtcblxuICBTdHJva2UucHJvdG90eXBlLnNjYWxlVG9TcXVhcmUgPSBmdW5jdGlvbigpIHtcblxuICAgIHZhciBwb2ludDtcbiAgICB2YXIgbmV3UG9pbnRzID0gW11cbiAgICB2YXIgYm94ID0ge1xuICAgICAgbWluWDogK0luZmluaXR5LFxuICAgICAgbWF4WDogLUluZmluaXR5LFxuICAgICAgbWluWTogK0luZmluaXR5LFxuICAgICAgbWF4WTogLUluZmluaXR5XG4gICAgfTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHBvaW50ID0gdGhpcy5wb2ludHNbaV07XG5cbiAgICAgIGJveC5taW5YID0gTWF0aC5taW4oYm94Lm1pblgsIHBvaW50LngpO1xuICAgICAgYm94Lm1pblkgPSBNYXRoLm1pbihib3gubWluWSwgcG9pbnQueSk7XG4gICAgICBib3gubWF4WCA9IE1hdGgubWF4KGJveC5tYXhYLCBwb2ludC54KTtcbiAgICAgIGJveC5tYXhZID0gTWF0aC5tYXgoYm94Lm1heFksIHBvaW50LnkpO1xuICAgIH1cblxuICAgIGJveC53aWR0aCA9IGJveC5tYXhYIC0gYm94Lm1pblg7XG4gICAgYm94LmhlaWdodCA9IGJveC5tYXhZIC0gYm94Lm1pblk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5wb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHBvaW50ID0gdGhpcy5wb2ludHNbaV07XG5cbiAgICAgIG5ld1BvaW50cy5wdXNoKHtcbiAgICAgICAgeDogcG9pbnQueCAqIChfc3F1YXJlU2l6ZSAvIGJveC53aWR0aCksXG4gICAgICAgIHk6IHBvaW50LnkgKiAoX3NxdWFyZVNpemUgLyBib3guaGVpZ2h0KVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld1BvaW50cztcbiAgfTtcblxuICBTdHJva2UucHJvdG90eXBlLnRyYW5zbGF0ZVRvT3JpZ2luID0gZnVuY3Rpb24ocG9pbnRzKSB7XG5cbiAgICB2YXIgcG9pbnQ7XG4gICAgdmFyIG5ld1BvaW50cyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgcG9pbnQgPSB0aGlzLnBvaW50c1tpXTtcblxuICAgICAgbmV3UG9pbnRzLnB1c2goe1xuICAgICAgICB4OiBwb2ludC54ICsgX29yaWdpbi54IC0gdGhpcy5jLngsXG4gICAgICAgIHk6IHBvaW50LnkgKyBfb3JpZ2luLnkgLSB0aGlzLmMueVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld1BvaW50cztcbiAgfTtcblxuICBTdHJva2UucHJvdG90eXBlLnNldENlbnRyb2lkID0gZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgcG9pbnQ7XG4gICAgdGhpcy5jID0ge1xuICAgICAgeDogMC4wLFxuICAgICAgeTogMC4wXG4gICAgfTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHBvaW50ID0gdGhpcy5wb2ludHNbaV07XG5cbiAgICAgIHRoaXMuYy54ICs9IHBvaW50Lng7XG4gICAgICB0aGlzLmMueSArPSBwb2ludC55O1xuICAgIH1cblxuICAgIHRoaXMuYy54IC89IHRoaXMucG9pbnRzLmxlbmd0aDtcbiAgICB0aGlzLmMueSAvPSB0aGlzLnBvaW50cy5sZW5ndGg7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBTdHJva2UucHJvdG90eXBlLmluZGljYXRpdmVBbmdsZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgcmV0dXJuIE1hdGguYXRhbjIodGhpcy5jLnkgLSB0aGlzLnBvaW50c1swXS55LCB0aGlzLmMueCAtIHRoaXMucG9pbnRzWzBdLngpO1xuICB9O1xuXG4gIFN0cm9rZS5wcm90b3R5cGUuc3Ryb2tlTGVuZ3RoID0gZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgZCA9IDAuMDtcblxuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdGhpcy5wb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGQgKz0gZ2V0RGlzdGFuY2UodGhpcy5wb2ludHNbaSAtIDFdLCB0aGlzLnBvaW50c1tpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGQ7XG4gIH07XG5cbiAgU3Ryb2tlLnByb3RvdHlwZS5kaXN0YW5jZUF0QmVzdEFuZ2xlID0gZnVuY3Rpb24ocGF0dGVybikge1xuXG4gICAgdmFyIGEgPSAtX2FuZ2xlUmFuZ2U7XG4gICAgdmFyIGIgPSBfYW5nbGVSYW5nZTtcbiAgICB2YXIgeDEgPSBfcGhpICogYSArICgxLjAgLSBfcGhpKSAqIGI7XG4gICAgdmFyIGYxID0gdGhpcy5kaXN0YW5jZUF0QW5nbGUocGF0dGVybiwgeDEpO1xuICAgIHZhciB4MiA9ICgxLjAgLSBfcGhpKSAqIGEgKyBfcGhpICogYjtcbiAgICB2YXIgZjIgPSB0aGlzLmRpc3RhbmNlQXRBbmdsZShwYXR0ZXJuLCB4Mik7XG5cbiAgICB3aGlsZSAoTWF0aC5hYnMoYiAtIGEpID4gX2FuZ2xlUHJlY2lzaW9uKSB7XG5cbiAgICAgIGlmIChmMSA8IGYyKSB7XG4gICAgICAgIGIgPSB4MjtcbiAgICAgICAgeDIgPSB4MTtcbiAgICAgICAgZjIgPSBmMTtcbiAgICAgICAgeDEgPSBfcGhpICogYSArICgxLjAgLSBfcGhpKSAqIGI7XG4gICAgICAgIGYxID0gdGhpcy5kaXN0YW5jZUF0QW5nbGUocGF0dGVybiwgeDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYSA9IHgxO1xuICAgICAgICB4MSA9IHgyO1xuICAgICAgICBmMSA9IGYyO1xuICAgICAgICB4MiA9ICgxLjAgLSBfcGhpKSAqIGEgKyBfcGhpICogYjtcbiAgICAgICAgZjIgPSB0aGlzLmRpc3RhbmNlQXRBbmdsZShwYXR0ZXJuLCB4Mik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIE1hdGgubWluKGYxLCBmMik7XG4gIH07XG5cbiAgU3Ryb2tlLnByb3RvdHlwZS5kaXN0YW5jZUF0QW5nbGUgPSBmdW5jdGlvbihwYXR0ZXJuLCBhbmdsZSkge1xuXG4gICAgdmFyIHN0cm9rZVBvaW50cyA9IHRoaXMucm90YXRlQnkoYW5nbGUpO1xuICAgIHZhciBwYXR0ZXJuUG9pbnRzID0gcGF0dGVybi5wb2ludHM7XG4gICAgdmFyIGQgPSAwLjA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cm9rZVBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgZCArPSBnZXREaXN0YW5jZShzdHJva2VQb2ludHNbaV0sIHBhdHRlcm5Qb2ludHNbaV0pO1xuICAgIH1cblxuICAgIHJldHVybiBkIC8gc3Ryb2tlUG9pbnRzLmxlbmd0aDtcbiAgfTtcblxuICBmdW5jdGlvbiBTaGFwZURldGVjdG9yKHBhdHRlcm5zLCBvcHRpb25zKSB7XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB0aGlzLnRocmVzaG9sZCA9IG9wdGlvbnMudGhyZXNob2xkIHx8IDA7XG4gICAgX25iU2FtcGxlUG9pbnRzID0gb3B0aW9ucy5uYlNhbXBsZVBvaW50cyB8fCA2NDtcblxuICAgIHRoaXMucGF0dGVybnMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0dGVybnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMubGVhcm4ocGF0dGVybnNbaV0ubmFtZSwgcGF0dGVybnNbaV0ucG9pbnRzKTtcbiAgICB9XG4gIH1cblxuICBTaGFwZURldGVjdG9yLmRlZmF1bHRTaGFwZXMgPSBbXG4gICAge1xuICAgICAgcG9pbnRzOiBbeyB4OiAwLCB5OiA1MCB9LCB7IHg6IDEwMCwgeTogNTAgfV0sXG4gICAgICBuYW1lOiBcImxpbmVcIlxuICAgIH0sXG4gICAge1xuICAgICAgcG9pbnRzOiBbeyB4OiA1MCwgeTogMCB9LCB7IHg6IDUwLCB5OiAxMDAgfV0sXG4gICAgICBuYW1lOiBcImxpbmVcIlxuICAgIH0sXG4gICAge1xuICAgICAgcG9pbnRzOiBbeyB4OiAwLCB5OiAwIH0sIHsgeDogMTAwLCB5OiAxMDAgfV0sXG4gICAgICBuYW1lOiBcImxpbmVcIlxuICAgIH0sXG4gICAge1xuICAgICAgcG9pbnRzOiBbe1wieFwiOiA4OSxcInlcIjogMTY0fSx7XCJ4XCI6IDkwLFwieVwiOiAxNjJ9LHtcInhcIjogOTIsXCJ5XCI6IDE2Mn0se1wieFwiOiA5NCxcInlcIjogMTY0fSx7XCJ4XCI6IDk1LFwieVwiOiAxNjZ9LHtcInhcIjogOTYsXCJ5XCI6IDE2OX0se1wieFwiOiA5NyxcInlcIjogMTcxfSx7XCJ4XCI6IDk5LFwieVwiOiAxNzV9LHtcInhcIjogMTAxLFwieVwiOiAxNzh9LHtcInhcIjogMTAzLFwieVwiOiAxODJ9LHtcInhcIjogMTA2LFwieVwiOiAxODl9LHtcInhcIjogMTA4LFwieVwiOiAxOTR9LHtcInhcIjogMTExLFwieVwiOiAxOTl9LHtcInhcIjogMTE0LFwieVwiOiAyMDR9LHtcInhcIjogMTE3LFwieVwiOiAyMDl9LHtcInhcIjogMTE5LFwieVwiOiAyMTR9LHtcInhcIjogMTIyLFwieVwiOiAyMTh9LHtcInhcIjogMTI0LFwieVwiOiAyMjJ9LHtcInhcIjogMTI2LFwieVwiOiAyMjV9LHtcInhcIjogMTI4LFwieVwiOiAyMjh9LHtcInhcIjogMTMwLFwieVwiOiAyMjl9LHtcInhcIjogMTMzLFwieVwiOiAyMzN9LHtcInhcIjogMTM0LFwieVwiOiAyMzZ9LHtcInhcIjogMTM2LFwieVwiOiAyMzl9LHtcInhcIjogMTM4LFwieVwiOiAyNDB9LHtcInhcIjogMTM5LFwieVwiOiAyNDJ9LHtcInhcIjogMTQwLFwieVwiOiAyNDR9LHtcInhcIjogMTQyLFwieVwiOiAyNDJ9LHtcInhcIjogMTQyLFwieVwiOiAyNDB9LHtcInhcIjogMTQyLFwieVwiOiAyMzd9LHtcInhcIjogMTQzLFwieVwiOiAyMzV9LHtcInhcIjogMTQzLFwieVwiOiAyMzN9LHtcInhcIjogMTQ1LFwieVwiOiAyMjl9LHtcInhcIjogMTQ2LFwieVwiOiAyMjZ9LHtcInhcIjogMTQ4LFwieVwiOiAyMTd9LHtcInhcIjogMTQ5LFwieVwiOiAyMDh9LHtcInhcIjogMTQ5LFwieVwiOiAyMDV9LHtcInhcIjogMTUxLFwieVwiOiAxOTZ9LHtcInhcIjogMTUxLFwieVwiOiAxOTN9LHtcInhcIjogMTUzLFwieVwiOiAxODJ9LHtcInhcIjogMTU1LFwieVwiOiAxNzJ9LHtcInhcIjogMTU3LFwieVwiOiAxNjV9LHtcInhcIjogMTU5LFwieVwiOiAxNjB9LHtcInhcIjogMTYyLFwieVwiOiAxNTV9LHtcInhcIjogMTY0LFwieVwiOiAxNTB9LHtcInhcIjogMTY1LFwieVwiOiAxNDh9LHtcInhcIjogMTY2LFwieVwiOiAxNDZ9XSxcbiAgICAgIG5hbWU6IFwibGluZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBwb2ludHM6IFt7XCJ4XCI6IDkxLFwieVwiOiAxODV9LHtcInhcIjogOTMsXCJ5XCI6IDE4NX0se1wieFwiOiA5NSxcInlcIjogMTg1fSx7XCJ4XCI6IDk3LFwieVwiOiAxODV9LHtcInhcIjogMTAwLFwieVwiOiAxODh9LHtcInhcIjogMTAyLFwieVwiOiAxODl9LHtcInhcIjogMTA0LFwieVwiOiAxOTB9LHtcInhcIjogMTA2LFwieVwiOiAxOTN9LHtcInhcIjogMTA4LFwieVwiOiAxOTV9LHtcInhcIjogMTEwLFwieVwiOiAxOTh9LHtcInhcIjogMTEyLFwieVwiOiAyMDF9LHtcInhcIjogMTE0LFwieVwiOiAyMDR9LHtcInhcIjogMTE1LFwieVwiOiAyMDd9LHtcInhcIjogMTE3LFwieVwiOiAyMTB9LHtcInhcIjogMTE4LFwieVwiOiAyMTJ9LHtcInhcIjogMTIwLFwieVwiOiAyMTR9LHtcInhcIjogMTIxLFwieVwiOiAyMTd9LHtcInhcIjogMTIyLFwieVwiOiAyMTl9LHtcInhcIjogMTIzLFwieVwiOiAyMjJ9LHtcInhcIjogMTI0LFwieVwiOiAyMjR9LHtcInhcIjogMTI2LFwieVwiOiAyMjZ9LHtcInhcIjogMTI3LFwieVwiOiAyMjl9LHtcInhcIjogMTI5LFwieVwiOiAyMzF9LHtcInhcIjogMTMwLFwieVwiOiAyMzN9LHtcInhcIjogMTI5LFwieVwiOiAyMzF9LHtcInhcIjogMTI5LFwieVwiOiAyMjh9LHtcInhcIjogMTI5LFwieVwiOiAyMjZ9LHtcInhcIjogMTI5LFwieVwiOiAyMjR9LHtcInhcIjogMTI5LFwieVwiOiAyMjF9LHtcInhcIjogMTI5LFwieVwiOiAyMTh9LHtcInhcIjogMTI5LFwieVwiOiAyMTJ9LHtcInhcIjogMTI5LFwieVwiOiAyMDh9LHtcInhcIjogMTMwLFwieVwiOiAxOTh9LHtcInhcIjogMTMyLFwieVwiOiAxODl9LHtcInhcIjogMTM0LFwieVwiOiAxODJ9LHtcInhcIjogMTM3LFwieVwiOiAxNzN9LHtcInhcIjogMTQzLFwieVwiOiAxNjR9LHtcInhcIjogMTQ3LFwieVwiOiAxNTd9LHtcInhcIjogMTUxLFwieVwiOiAxNTF9LHtcInhcIjogMTU1LFwieVwiOiAxNDR9LHtcInhcIjogMTYxLFwieVwiOiAxMzd9LHtcInhcIjogMTY1LFwieVwiOiAxMzF9LHtcInhcIjogMTcxLFwieVwiOiAxMjJ9LHtcInhcIjogMTc0LFwieVwiOiAxMTh9LHtcInhcIjogMTc2LFwieVwiOiAxMTR9LHtcInhcIjogMTc3LFwieVwiOiAxMTJ9LHtcInhcIjogMTc3LFwieVwiOiAxMTR9LHtcInhcIjogMTc1LFwieVwiOiAxMTZ9LHtcInhcIjogMTczLFwieVwiOiAxMTh9XSxcbiAgICAgIG5hbWU6IFwibGluZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBwb2ludHM6IFt7XCJ4XCI6MTEzLFwieVwiOjY4fSx7XCJ4XCI6ODYsXCJ5XCI6Nzl9LHtcInhcIjo2MyxcInlcIjoxMzF9LHtcInhcIjo3OCxcInlcIjoxNDd9LHtcInhcIjoxNTYsXCJ5XCI6MTQ5fSx7XCJ4XCI6MTk1LFwieVwiOjEwMH0se1wieFwiOjE4OSxcInlcIjo3OX0se1wieFwiOjEyNS43MzQ5NyxcInlcIjo2Mi44MTE2OH1dLFxuICAgICAgbmFtZTogXCJjaXJjbGVcIlxuICAgIH0sXG4gICAge1xuICAgICAgcG9pbnRzOiBbe1wieFwiOjk4LFwieVwiOjY3fSx7XCJ4XCI6NzcsXCJ5XCI6ODV9LHtcInhcIjo3NyxcInlcIjoxNjJ9LHtcInhcIjoxNzksXCJ5XCI6MTU2fSx7XCJ4XCI6MTk3LFwieVwiOjEyM30se1wieFwiOjE2NyxcInlcIjo2M30se1wieFwiOjE0MSxcInlcIjo2MX0se1wieFwiOjExMCxcInlcIjo1OX0se1wieFwiOjEwNi41MTE5MixcInlcIjo1OS43MDQwN31dLFxuICAgICAgbmFtZTogXCJjaXJjbGVcIlxuICAgIH0sXG4gICAge1xuICAgICAgcG9pbnRzOiBbe1wieFwiOjYwLFwieVwiOjQ3fSx7XCJ4XCI6NDMsXCJ5XCI6OTZ9LHtcInhcIjo1MixcInlcIjoyMDZ9LHtcInhcIjo2MyxcInlcIjoyNDZ9LHtcInhcIjoxMTgsXCJ5XCI6Mjk2fSx7XCJ4XCI6MTQ0LFwieVwiOjI0Nn0se1wieFwiOjE0MSxcInlcIjoxNDd9LHtcInhcIjoxMzMsXCJ5XCI6MTI5fSx7XCJ4XCI6MTEzLFwieVwiOjgwfSx7XCJ4XCI6NjAuNDI3MzgsXCJ5XCI6NDUuNzY4MTN9XSxcbiAgICAgIG5hbWU6IFwiY2lyY2xlXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIHBvaW50czogW3tcInhcIjogMTI3LFwieVwiOiAxNDF9LHtcInhcIjogMTI0LFwieVwiOiAxNDB9LHtcInhcIjogMTIwLFwieVwiOiAxMzl9LHtcInhcIjogMTE4LFwieVwiOiAxMzl9LHtcInhcIjogMTE2LFwieVwiOiAxMzl9LHtcInhcIjogMTExLFwieVwiOiAxNDB9LHtcInhcIjogMTA5LFwieVwiOiAxNDF9LHtcInhcIjogMTA0LFwieVwiOiAxNDR9LHtcInhcIjogMTAwLFwieVwiOiAxNDd9LHtcInhcIjogOTYsXCJ5XCI6IDE1Mn0se1wieFwiOiA5MyxcInlcIjogMTU3fSx7XCJ4XCI6IDkwLFwieVwiOiAxNjN9LHtcInhcIjogODcsXCJ5XCI6IDE2OX0se1wieFwiOiA4NSxcInlcIjogMTc1fSx7XCJ4XCI6IDgzLFwieVwiOiAxODF9LHtcInhcIjogODIsXCJ5XCI6IDE5MH0se1wieFwiOiA4MixcInlcIjogMTk1fSx7XCJ4XCI6IDgzLFwieVwiOiAyMDB9LHtcInhcIjogODQsXCJ5XCI6IDIwNX0se1wieFwiOiA4OCxcInlcIjogMjEzfSx7XCJ4XCI6IDkxLFwieVwiOiAyMTZ9LHtcInhcIjogOTYsXCJ5XCI6IDIxOX0se1wieFwiOiAxMDMsXCJ5XCI6IDIyMn0se1wieFwiOiAxMDgsXCJ5XCI6IDIyNH0se1wieFwiOiAxMTEsXCJ5XCI6IDIyNH0se1wieFwiOiAxMjAsXCJ5XCI6IDIyNH0se1wieFwiOiAxMzMsXCJ5XCI6IDIyM30se1wieFwiOiAxNDIsXCJ5XCI6IDIyMn0se1wieFwiOiAxNTIsXCJ5XCI6IDIxOH0se1wieFwiOiAxNjAsXCJ5XCI6IDIxNH0se1wieFwiOiAxNjcsXCJ5XCI6IDIxMH0se1wieFwiOiAxNzMsXCJ5XCI6IDIwNH0se1wieFwiOiAxNzgsXCJ5XCI6IDE5OH0se1wieFwiOiAxNzksXCJ5XCI6IDE5Nn0se1wieFwiOiAxODIsXCJ5XCI6IDE4OH0se1wieFwiOiAxODIsXCJ5XCI6IDE3N30se1wieFwiOiAxNzgsXCJ5XCI6IDE2N30se1wieFwiOiAxNzAsXCJ5XCI6IDE1MH0se1wieFwiOiAxNjMsXCJ5XCI6IDEzOH0se1wieFwiOiAxNTIsXCJ5XCI6IDEzMH0se1wieFwiOiAxNDMsXCJ5XCI6IDEyOX0se1wieFwiOiAxNDAsXCJ5XCI6IDEzMX0se1wieFwiOiAxMjksXCJ5XCI6IDEzNn0se1wieFwiOiAxMjYsXCJ5XCI6IDEzOX1dLFxuICAgICAgbmFtZTogXCJjaXJjbGVcIlxuICAgIH0sXG4gICAge1xuICAgICAgcG9pbnRzOiBbe1wieFwiOjUxNixcInlcIjoyODR9LHtcInhcIjo0OTYsXCJ5XCI6MzE5fSx7XCJ4XCI6NDk2LFwieVwiOjMyOX0se1wieFwiOjUxMyxcInlcIjozMjl9LHtcInhcIjo1NTAsXCJ5XCI6MzI0fSx7XCJ4XCI6Njk2LFwieVwiOjMwNX0se1wieFwiOjczNyxcInlcIjoyOTh9LHtcInhcIjo3NDYsXCJ5XCI6MjkyfSx7XCJ4XCI6NzM0LFwieVwiOjI3OH0se1wieFwiOjcwOSxcInlcIjoyNTJ9LHtcInhcIjo2NjQsXCJ5XCI6MTkzfV0sXG4gICAgICBuYW1lOiBcInRyaWFuZ2xlXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIHBvaW50czogW3tcInhcIjoxNzksXCJ5XCI6MTU5fSx7XCJ4XCI6MTUyLFwieVwiOjI5MH0se1wieFwiOjE0MyxcInlcIjozMzZ9LHtcInhcIjoxNDIsXCJ5XCI6MzU1fSx7XCJ4XCI6MTYwLFwieVwiOjM0OH0se1wieFwiOjIwOCxcInlcIjozMzd9LHtcInhcIjoyNDEsXCJ5XCI6MzMwfSx7XCJ4XCI6MjU2LFwieVwiOjMyOH0se1wieFwiOjI1NCxcInlcIjozMTV9LHtcInhcIjoyMzgsXCJ5XCI6Mjc3fSx7XCJ4XCI6MjEwLFwieVwiOjIwMH0se1wieFwiOjE4Mi45NDM1NixcInlcIjoxMTAuNDU2NTZ9XSxcbiAgICAgIG5hbWU6IFwidHJpYW5nbGVcIlxuICAgIH0sXG4gICAge1xuICAgICAgcG9pbnRzOiBbe1wieFwiOjEwNSxcInlcIjozMzV9LHtcInhcIjoxMTUsXCJ5XCI6MzYyfSx7XCJ4XCI6MTI4LFwieVwiOjMzOH0se1wieFwiOjE2MyxcInlcIjoyNzF9LHtcInhcIjoyNDEsXCJ5XCI6MTM1fSx7XCJ4XCI6MjYxLFwieVwiOjEwNH0se1wieFwiOjI2NyxcInlcIjo5OH0se1wieFwiOjI2MSxcInlcIjoxMDJ9LHtcInhcIjoyMzYsXCJ5XCI6MTE5fSx7XCJ4XCI6MTUxLFwieVwiOjE5NX0se1wieFwiOjEwOCxcInlcIjoyMzV9LHtcInhcIjo4MyxcInlcIjoyNjd9LHtcInhcIjo3OS45MjYxNixcInlcIjoyNzAuOTM0NTF9XSxcbiAgICAgIG5hbWU6IFwidHJpYW5nbGVcIlxuICAgIH0sXG4gICAge1xuICAgICAgcG9pbnRzOiBbe1wieFwiOiAxMzcsXCJ5XCI6IDEzOX0se1wieFwiOiAxMzUsXCJ5XCI6IDE0MX0se1wieFwiOiAxMzMsXCJ5XCI6IDE0NH0se1wieFwiOiAxMzIsXCJ5XCI6IDE0Nn0se1wieFwiOiAxMzAsXCJ5XCI6IDE0OX0se1wieFwiOiAxMjgsXCJ5XCI6IDE1MX0se1wieFwiOiAxMjYsXCJ5XCI6IDE1NX0se1wieFwiOiAxMjMsXCJ5XCI6IDE2MH0se1wieFwiOiAxMjAsXCJ5XCI6IDE2Nn0se1wieFwiOiAxMTYsXCJ5XCI6IDE3MX0se1wieFwiOiAxMTIsXCJ5XCI6IDE3N30se1wieFwiOiAxMDcsXCJ5XCI6IDE4M30se1wieFwiOiAxMDIsXCJ5XCI6IDE4OH0se1wieFwiOiAxMDAsXCJ5XCI6IDE5MX0se1wieFwiOiA5NSxcInlcIjogMTk1fSx7XCJ4XCI6IDkwLFwieVwiOiAxOTl9LHtcInhcIjogODYsXCJ5XCI6IDIwM30se1wieFwiOiA4MixcInlcIjogMjA2fSx7XCJ4XCI6IDgwLFwieVwiOiAyMDl9LHtcInhcIjogNzUsXCJ5XCI6IDIxM30se1wieFwiOiA3MyxcInlcIjogMjEzfSx7XCJ4XCI6IDcwLFwieVwiOiAyMTZ9LHtcInhcIjogNjcsXCJ5XCI6IDIxOX0se1wieFwiOiA2NCxcInlcIjogMjIxfSx7XCJ4XCI6IDYxLFwieVwiOiAyMjN9LHtcInhcIjogNjAsXCJ5XCI6IDIyNX0se1wieFwiOiA2MixcInlcIjogMjI2fSx7XCJ4XCI6IDY1LFwieVwiOiAyMjV9LHtcInhcIjogNjcsXCJ5XCI6IDIyNn0se1wieFwiOiA3NCxcInlcIjogMjI2fSx7XCJ4XCI6IDc3LFwieVwiOiAyMjd9LHtcInhcIjogODUsXCJ5XCI6IDIyOX0se1wieFwiOiA5MSxcInlcIjogMjMwfSx7XCJ4XCI6IDk5LFwieVwiOiAyMzF9LHtcInhcIjogMTA4LFwieVwiOiAyMzJ9LHtcInhcIjogMTE2LFwieVwiOiAyMzN9LHtcInhcIjogMTI1LFwieVwiOiAyMzN9LHtcInhcIjogMTM0LFwieVwiOiAyMzR9LHtcInhcIjogMTQ1LFwieVwiOiAyMzN9LHtcInhcIjogMTUzLFwieVwiOiAyMzJ9LHtcInhcIjogMTYwLFwieVwiOiAyMzN9LHtcInhcIjogMTcwLFwieVwiOiAyMzR9LHtcInhcIjogMTc3LFwieVwiOiAyMzV9LHtcInhcIjogMTc5LFwieVwiOiAyMzZ9LHtcInhcIjogMTg2LFwieVwiOiAyMzd9LHtcInhcIjogMTkzLFwieVwiOiAyMzh9LHtcInhcIjogMTk4LFwieVwiOiAyMzl9LHtcInhcIjogMjAwLFwieVwiOiAyMzd9LHtcInhcIjogMjAyLFwieVwiOiAyMzl9LHtcInhcIjogMjA0LFwieVwiOiAyMzh9LHtcInhcIjogMjA2LFwieVwiOiAyMzR9LHtcInhcIjogMjA1LFwieVwiOiAyMzB9LHtcInhcIjogMjAyLFwieVwiOiAyMjJ9LHtcInhcIjogMTk3LFwieVwiOiAyMTZ9LHtcInhcIjogMTkyLFwieVwiOiAyMDd9LHtcInhcIjogMTg2LFwieVwiOiAxOTh9LHtcInhcIjogMTc5LFwieVwiOiAxODl9LHtcInhcIjogMTc0LFwieVwiOiAxODN9LHtcInhcIjogMTcwLFwieVwiOiAxNzh9LHtcInhcIjogMTY0LFwieVwiOiAxNzF9LHtcInhcIjogMTYxLFwieVwiOiAxNjh9LHtcInhcIjogMTU0LFwieVwiOiAxNjB9LHtcInhcIjogMTQ4LFwieVwiOiAxNTV9LHtcInhcIjogMTQzLFwieVwiOiAxNTB9LHtcInhcIjogMTM4LFwieVwiOiAxNDh9LHtcInhcIjogMTM2LFwieVwiOiAxNDh9XSxcbiAgICAgIG5hbWU6IFwidHJpYW5nbGVcIlxuICAgIH0sXG4gICAge1xuICAgICAgcG9pbnRzOiBbe3g6IDAsIHk6IDB9LCB7eDogMCwgeTogNTB9LCB7eDogNTAsIHk6IDUwfSwge3g6IDUwLCB5OiAwfV0sXG4gICAgICBuYW1lOiBcInNxdWFyZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBwb2ludHM6IFt7eDogMCwgeTogMH0sIHt4OiAwLCB5OiAxMDB9LCB7eDogNTAsIHk6IDEwMH0sIHt4OiA1MCwgeTogMH1dLFxuICAgICAgbmFtZTogXCJzcXVhcmVcIlxuICAgIH0sXG4gICAge1xuICAgICAgcG9pbnRzOiBbe1wieFwiOiA3OCxcInlcIjogMTQ5fSx7XCJ4XCI6IDc4LFwieVwiOiAxNTN9LHtcInhcIjogNzgsXCJ5XCI6IDE1N30se1wieFwiOiA3OCxcInlcIjogMTYwfSx7XCJ4XCI6IDc5LFwieVwiOiAxNjJ9LHtcInhcIjogNzksXCJ5XCI6IDE2NH0se1wieFwiOiA3OSxcInlcIjogMTY3fSx7XCJ4XCI6IDc5LFwieVwiOiAxNjl9LHtcInhcIjogNzksXCJ5XCI6IDE3M30se1wieFwiOiA3OSxcInlcIjogMTc4fSx7XCJ4XCI6IDc5LFwieVwiOiAxODN9LHtcInhcIjogODAsXCJ5XCI6IDE4OX0se1wieFwiOiA4MCxcInlcIjogMTkzfSx7XCJ4XCI6IDgwLFwieVwiOiAxOTh9LHtcInhcIjogODAsXCJ5XCI6IDIwMn0se1wieFwiOiA4MSxcInlcIjogMjA4fSx7XCJ4XCI6IDgxLFwieVwiOiAyMTB9LHtcInhcIjogODEsXCJ5XCI6IDIxNn0se1wieFwiOiA4MixcInlcIjogMjIyfSx7XCJ4XCI6IDgyLFwieVwiOiAyMjR9LHtcInhcIjogODIsXCJ5XCI6IDIyN30se1wieFwiOiA4MyxcInlcIjogMjI5fSx7XCJ4XCI6IDgzLFwieVwiOiAyMzF9LHtcInhcIjogODUsXCJ5XCI6IDIzMH0se1wieFwiOiA4OCxcInlcIjogMjMyfSx7XCJ4XCI6IDkwLFwieVwiOiAyMzN9LHtcInhcIjogOTIsXCJ5XCI6IDIzMn0se1wieFwiOiA5NCxcInlcIjogMjMzfSx7XCJ4XCI6IDk5LFwieVwiOiAyMzJ9LHtcInhcIjogMTAyLFwieVwiOiAyMzN9LHtcInhcIjogMTA2LFwieVwiOiAyMzN9LHtcInhcIjogMTA5LFwieVwiOiAyMzR9LHtcInhcIjogMTE3LFwieVwiOiAyMzV9LHtcInhcIjogMTIzLFwieVwiOiAyMzZ9LHtcInhcIjogMTI2LFwieVwiOiAyMzZ9LHtcInhcIjogMTM1LFwieVwiOiAyMzd9LHtcInhcIjogMTQyLFwieVwiOiAyMzh9LHtcInhcIjogMTQ1LFwieVwiOiAyMzh9LHtcInhcIjogMTUyLFwieVwiOiAyMzh9LHtcInhcIjogMTU0LFwieVwiOiAyMzl9LHtcInhcIjogMTY1LFwieVwiOiAyMzh9LHtcInhcIjogMTc0LFwieVwiOiAyMzd9LHtcInhcIjogMTc5LFwieVwiOiAyMzZ9LHtcInhcIjogMTg2LFwieVwiOiAyMzV9LHtcInhcIjogMTkxLFwieVwiOiAyMzV9LHtcInhcIjogMTk1LFwieVwiOiAyMzN9LHtcInhcIjogMTk3LFwieVwiOiAyMzN9LHtcInhcIjogMjAwLFwieVwiOiAyMzN9LHtcInhcIjogMjAxLFwieVwiOiAyMzV9LHtcInhcIjogMjAxLFwieVwiOiAyMzN9LHtcInhcIjogMTk5LFwieVwiOiAyMzF9LHtcInhcIjogMTk4LFwieVwiOiAyMjZ9LHtcInhcIjogMTk4LFwieVwiOiAyMjB9LHtcInhcIjogMTk2LFwieVwiOiAyMDd9LHtcInhcIjogMTk1LFwieVwiOiAxOTV9LHtcInhcIjogMTk1LFwieVwiOiAxODF9LHtcInhcIjogMTk1LFwieVwiOiAxNzN9LHtcInhcIjogMTk1LFwieVwiOiAxNjN9LHtcInhcIjogMTk0LFwieVwiOiAxNTV9LHtcInhcIjogMTkyLFwieVwiOiAxNDV9LHtcInhcIjogMTkyLFwieVwiOiAxNDN9LHtcInhcIjogMTkyLFwieVwiOiAxMzh9LHtcInhcIjogMTkxLFwieVwiOiAxMzV9LHtcInhcIjogMTkxLFwieVwiOiAxMzN9LHtcInhcIjogMTkxLFwieVwiOiAxMzB9LHtcInhcIjogMTkwLFwieVwiOiAxMjh9LHtcInhcIjogMTg4LFwieVwiOiAxMjl9LHtcInhcIjogMTg2LFwieVwiOiAxMjl9LHtcInhcIjogMTgxLFwieVwiOiAxMzJ9LHtcInhcIjogMTczLFwieVwiOiAxMzF9LHtcInhcIjogMTYyLFwieVwiOiAxMzF9LHtcInhcIjogMTUxLFwieVwiOiAxMzJ9LHtcInhcIjogMTQ5LFwieVwiOiAxMzJ9LHtcInhcIjogMTM4LFwieVwiOiAxMzJ9LHtcInhcIjogMTM2LFwieVwiOiAxMzJ9LHtcInhcIjogMTIyLFwieVwiOiAxMzF9LHtcInhcIjogMTIwLFwieVwiOiAxMzF9LHtcInhcIjogMTA5LFwieVwiOiAxMzB9LHtcInhcIjogMTA3LFwieVwiOiAxMzB9LHtcInhcIjogOTAsXCJ5XCI6IDEzMn0se1wieFwiOiA4MSxcInlcIjogMTMzfSx7XCJ4XCI6IDc2LFwieVwiOiAxMzN9XSxcbiAgICAgIG5hbWU6IFwic3F1YXJlXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIHBvaW50czogW3tcInhcIjo2NyxcInlcIjoxNzJ9LHtcInhcIjo4MCxcInlcIjo4NX0se1wieFwiOjgzLFwieVwiOjU4fSx7XCJ4XCI6ODMsXCJ5XCI6NTR9LHtcInhcIjoxMzYsXCJ5XCI6MTEwfSx7XCJ4XCI6MTU3LFwieVwiOjEzNn0se1wieFwiOjE2MixcInlcIjoxNDB9LHtcInhcIjoxNjYsXCJ5XCI6MTQzfSx7XCJ4XCI6ODAsXCJ5XCI6MTI0fSx7XCJ4XCI6NDUsXCJ5XCI6MTE2fSx7XCJ4XCI6MzcsXCJ5XCI6MTE0fSx7XCJ4XCI6MzEsXCJ5XCI6MTEzfSx7XCJ4XCI6NTIsXCJ5XCI6MTA2fSx7XCJ4XCI6MTAxLFwieVwiOjg2fSx7XCJ4XCI6MTMxLFwieVwiOjc1fSx7XCJ4XCI6MTU3LFwieVwiOjYzfSx7XCJ4XCI6MTYzLFwieVwiOjYyfSx7XCJ4XCI6MTU4LFwieVwiOjY0fSx7XCJ4XCI6MTUzLFwieVwiOjczfSx7XCJ4XCI6MTI4LFwieVwiOjEwM30se1wieFwiOjcxLFwieVwiOjE3MH1dLFxuICAgICAgbmFtZTogXCJvdGhlclwiXG4gICAgfSxcbiAgICB7XG4gICAgICBwb2ludHM6IFt7XCJ4XCI6MzAsXCJ5XCI6Njl9LHtcInhcIjoxMTYsXCJ5XCI6MTE4fSx7XCJ4XCI6OTAsXCJ5XCI6MTY0fSx7XCJ4XCI6NzUsXCJ5XCI6MTE3fSx7XCJ4XCI6MTU3LFwieVwiOjgzfSx7XCJ4XCI6MTgyLFwieVwiOjE0MH0se1wieFwiOjE1NSxcInlcIjoxNjN9LHtcInhcIjoxNDQsXCJ5XCI6MTE5fSx7XCJ4XCI6MjIxLFwieVwiOjU0fV0sXG4gICAgICBuYW1lOiBcIm90aGVyXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIHBvaW50czogW3tcInhcIjo4NyxcInlcIjo3Nn0se1wieFwiOjYyLFwieVwiOjczfSx7XCJ4XCI6MTAwLFwieVwiOjk4fSx7XCJ4XCI6MTA3LFwieVwiOjU3fSx7XCJ4XCI6NjEsXCJ5XCI6Mzh9LHtcInhcIjo3MyxcInlcIjoxMzd9XSxcbiAgICAgIG5hbWU6IFwib3RoZXJcIlxuICAgIH0sXG4gICAge1xuICAgICAgcG9pbnRzOiBbe1wieFwiOiAxMjMsXCJ5XCI6IDEyOX0se1wieFwiOiAxMjMsXCJ5XCI6IDEzMX0se1wieFwiOiAxMjQsXCJ5XCI6IDEzM30se1wieFwiOiAxMjUsXCJ5XCI6IDEzNn0se1wieFwiOiAxMjcsXCJ5XCI6IDE0MH0se1wieFwiOiAxMjksXCJ5XCI6IDE0Mn0se1wieFwiOiAxMzMsXCJ5XCI6IDE0OH0se1wieFwiOiAxMzcsXCJ5XCI6IDE1NH0se1wieFwiOiAxNDMsXCJ5XCI6IDE1OH0se1wieFwiOiAxNDUsXCJ5XCI6IDE2MX0se1wieFwiOiAxNDgsXCJ5XCI6IDE2NH0se1wieFwiOiAxNTMsXCJ5XCI6IDE3MH0se1wieFwiOiAxNTgsXCJ5XCI6IDE3Nn0se1wieFwiOiAxNjAsXCJ5XCI6IDE3OH0se1wieFwiOiAxNjQsXCJ5XCI6IDE4M30se1wieFwiOiAxNjgsXCJ5XCI6IDE4OH0se1wieFwiOiAxNzEsXCJ5XCI6IDE5MX0se1wieFwiOiAxNzUsXCJ5XCI6IDE5Nn0se1wieFwiOiAxNzgsXCJ5XCI6IDIwMH0se1wieFwiOiAxODAsXCJ5XCI6IDIwMn0se1wieFwiOiAxODEsXCJ5XCI6IDIwNX0se1wieFwiOiAxODQsXCJ5XCI6IDIwOH0se1wieFwiOiAxODYsXCJ5XCI6IDIxMH0se1wieFwiOiAxODcsXCJ5XCI6IDIxM30se1wieFwiOiAxODgsXCJ5XCI6IDIxNX0se1wieFwiOiAxODYsXCJ5XCI6IDIxMn0se1wieFwiOiAxODMsXCJ5XCI6IDIxMX0se1wieFwiOiAxNzcsXCJ5XCI6IDIwOH0se1wieFwiOiAxNjksXCJ5XCI6IDIwNn0se1wieFwiOiAxNjIsXCJ5XCI6IDIwNX0se1wieFwiOiAxNTQsXCJ5XCI6IDIwN30se1wieFwiOiAxNDUsXCJ5XCI6IDIwOX0se1wieFwiOiAxMzcsXCJ5XCI6IDIxMH0se1wieFwiOiAxMjksXCJ5XCI6IDIxNH0se1wieFwiOiAxMjIsXCJ5XCI6IDIxN30se1wieFwiOiAxMTgsXCJ5XCI6IDIxOH0se1wieFwiOiAxMTEsXCJ5XCI6IDIyMX0se1wieFwiOiAxMDksXCJ5XCI6IDIyMn0se1wieFwiOiAxMTAsXCJ5XCI6IDIxOX0se1wieFwiOiAxMTIsXCJ5XCI6IDIxN30se1wieFwiOiAxMTgsXCJ5XCI6IDIwOX0se1wieFwiOiAxMjAsXCJ5XCI6IDIwN30se1wieFwiOiAxMjgsXCJ5XCI6IDE5Nn0se1wieFwiOiAxMzUsXCJ5XCI6IDE4N30se1wieFwiOiAxMzgsXCJ5XCI6IDE4M30se1wieFwiOiAxNDgsXCJ5XCI6IDE2N30se1wieFwiOiAxNTcsXCJ5XCI6IDE1M30se1wieFwiOiAxNjMsXCJ5XCI6IDE0NX0se1wieFwiOiAxNjUsXCJ5XCI6IDE0Mn0se1wieFwiOiAxNzIsXCJ5XCI6IDEzM30se1wieFwiOiAxNzcsXCJ5XCI6IDEyN30se1wieFwiOiAxNzksXCJ5XCI6IDEyN30se1wieFwiOiAxODAsXCJ5XCI6IDEyNX1dLFxuICAgICAgbmFtZTogXCJvdGhlclwiXG4gICAgfSxcbiAgICB7XG4gICAgICBwb2ludHM6IFt7XCJ4XCI6IDgxLFwieVwiOiAyMTl9LHtcInhcIjogODQsXCJ5XCI6IDIxOH0se1wieFwiOiA4NixcInlcIjogMjIwfSx7XCJ4XCI6IDg4LFwieVwiOiAyMjB9LHtcInhcIjogOTAsXCJ5XCI6IDIyMH0se1wieFwiOiA5MixcInlcIjogMjE5fSx7XCJ4XCI6IDk1LFwieVwiOiAyMjB9LHtcInhcIjogOTcsXCJ5XCI6IDIxOX0se1wieFwiOiA5OSxcInlcIjogMjIwfSx7XCJ4XCI6IDEwMixcInlcIjogMjE4fSx7XCJ4XCI6IDEwNSxcInlcIjogMjE3fSx7XCJ4XCI6IDEwNyxcInlcIjogMjE2fSx7XCJ4XCI6IDExMCxcInlcIjogMjE2fSx7XCJ4XCI6IDExMyxcInlcIjogMjE0fSx7XCJ4XCI6IDExNixcInlcIjogMjEyfSx7XCJ4XCI6IDExOCxcInlcIjogMjEwfSx7XCJ4XCI6IDEyMSxcInlcIjogMjA4fSx7XCJ4XCI6IDEyNCxcInlcIjogMjA1fSx7XCJ4XCI6IDEyNixcInlcIjogMjAyfSx7XCJ4XCI6IDEyOSxcInlcIjogMTk5fSx7XCJ4XCI6IDEzMixcInlcIjogMTk2fSx7XCJ4XCI6IDEzNixcInlcIjogMTkxfSx7XCJ4XCI6IDEzOSxcInlcIjogMTg3fSx7XCJ4XCI6IDE0MixcInlcIjogMTgyfSx7XCJ4XCI6IDE0NCxcInlcIjogMTc5fSx7XCJ4XCI6IDE0NixcInlcIjogMTc0fSx7XCJ4XCI6IDE0OCxcInlcIjogMTcwfSx7XCJ4XCI6IDE0OSxcInlcIjogMTY4fSx7XCJ4XCI6IDE1MSxcInlcIjogMTYyfSx7XCJ4XCI6IDE1MixcInlcIjogMTYwfSx7XCJ4XCI6IDE1MixcInlcIjogMTU3fSx7XCJ4XCI6IDE1MixcInlcIjogMTU1fSx7XCJ4XCI6IDE1MixcInlcIjogMTUxfSx7XCJ4XCI6IDE1MixcInlcIjogMTQ5fSx7XCJ4XCI6IDE1MixcInlcIjogMTQ2fSx7XCJ4XCI6IDE0OSxcInlcIjogMTQyfSx7XCJ4XCI6IDE0OCxcInlcIjogMTM5fSx7XCJ4XCI6IDE0NSxcInlcIjogMTM3fSx7XCJ4XCI6IDE0MSxcInlcIjogMTM1fSx7XCJ4XCI6IDEzOSxcInlcIjogMTM1fSx7XCJ4XCI6IDEzNCxcInlcIjogMTM2fSx7XCJ4XCI6IDEzMCxcInlcIjogMTQwfSx7XCJ4XCI6IDEyOCxcInlcIjogMTQyfSx7XCJ4XCI6IDEyNixcInlcIjogMTQ1fSx7XCJ4XCI6IDEyMixcInlcIjogMTUwfSx7XCJ4XCI6IDExOSxcInlcIjogMTU4fSx7XCJ4XCI6IDExNyxcInlcIjogMTYzfSx7XCJ4XCI6IDExNSxcInlcIjogMTcwfSx7XCJ4XCI6IDExNCxcInlcIjogMTc1fSx7XCJ4XCI6IDExNyxcInlcIjogMTg0fSx7XCJ4XCI6IDEyMCxcInlcIjogMTkwfSx7XCJ4XCI6IDEyNSxcInlcIjogMTk5fSx7XCJ4XCI6IDEyOSxcInlcIjogMjAzfSx7XCJ4XCI6IDEzMyxcInlcIjogMjA4fSx7XCJ4XCI6IDEzOCxcInlcIjogMjEzfSx7XCJ4XCI6IDE0NSxcInlcIjogMjE1fSx7XCJ4XCI6IDE1NSxcInlcIjogMjE4fSx7XCJ4XCI6IDE2NCxcInlcIjogMjE5fSx7XCJ4XCI6IDE2NixcInlcIjogMjE5fSx7XCJ4XCI6IDE3NyxcInlcIjogMjE5fSx7XCJ4XCI6IDE4MixcInlcIjogMjE4fSx7XCJ4XCI6IDE5MixcInlcIjogMjE2fSx7XCJ4XCI6IDE5NixcInlcIjogMjEzfSx7XCJ4XCI6IDE5OSxcInlcIjogMjEyfSx7XCJ4XCI6IDIwMSxcInlcIjogMjExfV0sXG4gICAgICBuYW1lOiBcIm90aGVyXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIHBvaW50czogW3tcInhcIjogNzUsXCJ5XCI6IDI1MH0se1wieFwiOiA3NSxcInlcIjogMjQ3fSx7XCJ4XCI6IDc3LFwieVwiOiAyNDR9LHtcInhcIjogNzgsXCJ5XCI6IDI0Mn0se1wieFwiOiA3OSxcInlcIjogMjM5fSx7XCJ4XCI6IDgwLFwieVwiOiAyMzd9LHtcInhcIjogODIsXCJ5XCI6IDIzNH0se1wieFwiOiA4MixcInlcIjogMjMyfSx7XCJ4XCI6IDg0LFwieVwiOiAyMjl9LHtcInhcIjogODUsXCJ5XCI6IDIyNX0se1wieFwiOiA4NyxcInlcIjogMjIyfSx7XCJ4XCI6IDg4LFwieVwiOiAyMTl9LHtcInhcIjogODksXCJ5XCI6IDIxNn0se1wieFwiOiA5MSxcInlcIjogMjEyfSx7XCJ4XCI6IDkyLFwieVwiOiAyMDh9LHtcInhcIjogOTQsXCJ5XCI6IDIwNH0se1wieFwiOiA5NSxcInlcIjogMjAxfSx7XCJ4XCI6IDk2LFwieVwiOiAxOTZ9LHtcInhcIjogOTcsXCJ5XCI6IDE5NH0se1wieFwiOiA5OCxcInlcIjogMTkxfSx7XCJ4XCI6IDEwMCxcInlcIjogMTg1fSx7XCJ4XCI6IDEwMixcInlcIjogMTc4fSx7XCJ4XCI6IDEwNCxcInlcIjogMTczfSx7XCJ4XCI6IDEwNCxcInlcIjogMTcxfSx7XCJ4XCI6IDEwNSxcInlcIjogMTY0fSx7XCJ4XCI6IDEwNixcInlcIjogMTU4fSx7XCJ4XCI6IDEwNyxcInlcIjogMTU2fSx7XCJ4XCI6IDEwNyxcInlcIjogMTUyfSx7XCJ4XCI6IDEwOCxcInlcIjogMTQ1fSx7XCJ4XCI6IDEwOSxcInlcIjogMTQxfSx7XCJ4XCI6IDExMCxcInlcIjogMTM5fSx7XCJ4XCI6IDExMixcInlcIjogMTMzfSx7XCJ4XCI6IDExMyxcInlcIjogMTMxfSx7XCJ4XCI6IDExNixcInlcIjogMTI3fSx7XCJ4XCI6IDExNyxcInlcIjogMTI1fSx7XCJ4XCI6IDExOSxcInlcIjogMTIyfSx7XCJ4XCI6IDEyMSxcInlcIjogMTIxfSx7XCJ4XCI6IDEyMyxcInlcIjogMTIwfSx7XCJ4XCI6IDEyNSxcInlcIjogMTIyfSx7XCJ4XCI6IDEyNSxcInlcIjogMTI1fSx7XCJ4XCI6IDEyNyxcInlcIjogMTMwfSx7XCJ4XCI6IDEyOCxcInlcIjogMTMzfSx7XCJ4XCI6IDEzMSxcInlcIjogMTQzfSx7XCJ4XCI6IDEzNixcInlcIjogMTUzfSx7XCJ4XCI6IDE0MCxcInlcIjogMTYzfSx7XCJ4XCI6IDE0NCxcInlcIjogMTcyfSx7XCJ4XCI6IDE0NSxcInlcIjogMTc1fSx7XCJ4XCI6IDE1MSxcInlcIjogMTg5fSx7XCJ4XCI6IDE1NixcInlcIjogMjAxfSx7XCJ4XCI6IDE2MSxcInlcIjogMjEzfSx7XCJ4XCI6IDE2NixcInlcIjogMjI1fSx7XCJ4XCI6IDE2OSxcInlcIjogMjMzfSx7XCJ4XCI6IDE3MSxcInlcIjogMjM2fSx7XCJ4XCI6IDE3NCxcInlcIjogMjQzfSx7XCJ4XCI6IDE3NyxcInlcIjogMjQ3fSx7XCJ4XCI6IDE3OCxcInlcIjogMjQ5fSx7XCJ4XCI6IDE3OSxcInlcIjogMjUxfSx7XCJ4XCI6IDE4MCxcInlcIjogMjUzfSx7XCJ4XCI6IDE4MCxcInlcIjogMjU1fSx7XCJ4XCI6IDE3OSxcInlcIjogMjU3fSx7XCJ4XCI6IDE3NyxcInlcIjogMjU3fSx7XCJ4XCI6IDE3NCxcInlcIjogMjU1fSx7XCJ4XCI6IDE2OSxcInlcIjogMjUwfSx7XCJ4XCI6IDE2NCxcInlcIjogMjQ3fSx7XCJ4XCI6IDE2MCxcInlcIjogMjQ1fSx7XCJ4XCI6IDE0OSxcInlcIjogMjM4fSx7XCJ4XCI6IDEzOCxcInlcIjogMjMwfSx7XCJ4XCI6IDEyNyxcInlcIjogMjIxfSx7XCJ4XCI6IDEyNCxcInlcIjogMjIwfSx7XCJ4XCI6IDExMixcInlcIjogMjEyfSx7XCJ4XCI6IDExMCxcInlcIjogMjEwfSx7XCJ4XCI6IDk2LFwieVwiOiAyMDF9LHtcInhcIjogODQsXCJ5XCI6IDE5NX0se1wieFwiOiA3NCxcInlcIjogMTkwfSx7XCJ4XCI6IDY0LFwieVwiOiAxODJ9LHtcInhcIjogNTUsXCJ5XCI6IDE3NX0se1wieFwiOiA1MSxcInlcIjogMTcyfSx7XCJ4XCI6IDQ5LFwieVwiOiAxNzB9LHtcInhcIjogNTEsXCJ5XCI6IDE2OX0se1wieFwiOiA1NixcInlcIjogMTY5fSx7XCJ4XCI6IDY2LFwieVwiOiAxNjl9LHtcInhcIjogNzgsXCJ5XCI6IDE2OH0se1wieFwiOiA5MixcInlcIjogMTY2fSx7XCJ4XCI6IDEwNyxcInlcIjogMTY0fSx7XCJ4XCI6IDEyMyxcInlcIjogMTYxfSx7XCJ4XCI6IDE0MCxcInlcIjogMTYyfSx7XCJ4XCI6IDE1NixcInlcIjogMTYyfSx7XCJ4XCI6IDE3MSxcInlcIjogMTYwfSx7XCJ4XCI6IDE3MyxcInlcIjogMTYwfSx7XCJ4XCI6IDE4NixcInlcIjogMTYwfSx7XCJ4XCI6IDE5NSxcInlcIjogMTYwfSx7XCJ4XCI6IDE5OCxcInlcIjogMTYxfSx7XCJ4XCI6IDIwMyxcInlcIjogMTYzfSx7XCJ4XCI6IDIwOCxcInlcIjogMTYzfSx7XCJ4XCI6IDIwNixcInlcIjogMTY0fSx7XCJ4XCI6IDIwMCxcInlcIjogMTY3fSx7XCJ4XCI6IDE4NyxcInlcIjogMTcyfSx7XCJ4XCI6IDE3NCxcInlcIjogMTc5fSx7XCJ4XCI6IDE3MixcInlcIjogMTgxfSx7XCJ4XCI6IDE1MyxcInlcIjogMTkyfSx7XCJ4XCI6IDEzNyxcInlcIjogMjAxfSx7XCJ4XCI6IDEyMyxcInlcIjogMjExfSx7XCJ4XCI6IDExMixcInlcIjogMjIwfSx7XCJ4XCI6IDk5LFwieVwiOiAyMjl9LHtcInhcIjogOTAsXCJ5XCI6IDIzN30se1wieFwiOiA4MCxcInlcIjogMjQ0fSx7XCJ4XCI6IDczLFwieVwiOiAyNTB9LHtcInhcIjogNjksXCJ5XCI6IDI1NH0se1wieFwiOiA2OSxcInlcIjogMjUyfV0sXG4gICAgICBuYW1lOiBcIm90aGVyXCJcbiAgICB9LFxuICBdO1xuXG4gIFNoYXBlRGV0ZWN0b3IucHJvdG90eXBlLnNwb3QgPSBmdW5jdGlvbihwb2ludHMsIHBhdHRlcm5OYW1lKSB7XG5cbiAgICBpZiAocGF0dGVybk5hbWUgPT0gbnVsbCkge1xuICAgICAgcGF0dGVybk5hbWUgPSAnJztcbiAgICB9XG5cbiAgICB2YXIgZGlzdGFuY2UsIHBhdHRlcm4sIHNjb3JlO1xuICAgIHZhciBzdHJva2UgPSBuZXcgU3Ryb2tlKHBvaW50cyk7XG4gICAgdmFyIGJlc3REaXN0YW5jZSA9ICtJbmZpbml0eTtcbiAgICB2YXIgYmVzdFBhdHRlcm4gPSBudWxsO1xuICAgIHZhciBiZXN0U2NvcmUgPSAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBhdHRlcm5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBwYXR0ZXJuID0gdGhpcy5wYXR0ZXJuc1tpXTtcblxuICAgICAgaWYgKHBhdHRlcm4ubmFtZS5pbmRleE9mKHBhdHRlcm5OYW1lKSA+IC0xKSB7XG4gICAgICAgIGRpc3RhbmNlID0gc3Ryb2tlLmRpc3RhbmNlQXRCZXN0QW5nbGUocGF0dGVybik7XG4gICAgICAgIHNjb3JlID0gMS4wIC0gZGlzdGFuY2UgLyBfaGFsZkRpYWdvbmFsO1xuXG4gICAgICAgIGlmIChkaXN0YW5jZSA8IGJlc3REaXN0YW5jZSAmJiBzY29yZSA+IHRoaXMudGhyZXNob2xkKSB7XG4gICAgICAgICAgYmVzdERpc3RhbmNlID0gZGlzdGFuY2U7XG4gICAgICAgICAgYmVzdFBhdHRlcm4gPSBwYXR0ZXJuLm5hbWU7XG4gICAgICAgICAgYmVzdFNjb3JlID0gc2NvcmU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgcGF0dGVybjogYmVzdFBhdHRlcm4sXG4gICAgICBzY29yZTogYmVzdFNjb3JlXG4gICAgfTtcbiAgfTtcblxuICBTaGFwZURldGVjdG9yLnByb3RvdHlwZS5sZWFybiA9IGZ1bmN0aW9uKG5hbWUsIHBvaW50cykge1xuXG4gICAgcmV0dXJuIHRoaXMucGF0dGVybnMucHVzaChuZXcgU3Ryb2tlKHBvaW50cywgbmFtZSkpO1xuICB9O1xuXG4gIHJldHVybiBTaGFwZURldGVjdG9yO1xufSkpO1xuIiwiY29uc3QgdG91Y2ggPSByZXF1aXJlKCcuL3RvdWNoJyk7XG5jb25zdCB1aSA9IHJlcXVpcmUoJy4vdWknKTtcbmNvbnN0IG92ZXJsYXlzID0gcmVxdWlyZSgnLi9vdmVybGF5cycpO1xuY29uc3QgdmlkZW8gPSByZXF1aXJlKCcuL3ZpZGVvJyk7XG5jb25zdCB0aW1pbmcgPSByZXF1aXJlKCcuL3RpbWluZycpO1xuY29uc3QgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRXaW5kb3coKSB7XG4gIHdpbmRvdy5rYW4gPSB7XG4gICAgY3VycmVudENvbG9yOiAnIzJCNUUyRScsXG4gICAgY29tcG9zaXRpb246IFtdLFxuICAgIGNvbXBvc2l0aW9uSW50ZXJ2YWw6IG51bGwsXG4gICAgY29tcG9zaXRpb25UaW1lb3V0OiBudWxsLFxuICAgIHNvdW5kVGltZW91dHM6IFtdLFxuICAgIGxhc3RFdmVudDogbnVsbCxcbiAgICBpbnRlcmFjdGlvbjogZmFsc2UsXG4gICAgbW92ZXM6IFtdLFxuICAgIHBsYXlpbmc6IGZhbHNlLFxuICAgIHBpbmNoaW5nOiBmYWxzZSxcbiAgICBwaW5jaGVkR3JvdXA6IG51bGwsXG4gICAgcGluY2hlZFR1dDogbnVsbCxcbiAgICBwYXRoRGF0YToge30sXG4gICAgc2hhcGVQYXRoOiBudWxsLFxuICAgIHByZXZBbmdsZTogbnVsbCxcbiAgICBzaWRlczogW10sXG4gICAgc2lkZTogW10sXG4gICAgY29ybmVyczogW10sXG4gICAgbGFzdFNjYWxlOiAxLFxuICAgIGxhc3RSb3RhdGlvbjogMCxcbiAgICBvcmlnaW5hbFBvc2l0aW9uOiBudWxsLFxuICAgIHR1dG9yaWFsQ29tcGxldGlvbjoge1xuICAgICAgXCJmaWxsXCI6IGZhbHNlLFxuICAgICAgXCJwaW5jaFwiOiBmYWxzZSxcbiAgICAgIFwic3dpcGVcIjogZmFsc2VcbiAgICB9LFxuICAgIGluYWN0aXZpdHlUaW1lb3V0OiBudWxsLFxuICAgIHBsYXlQcm9tcHRUaW1lb3V0OiBudWxsLFxuICAgIHVzZXJIYXNEcmF3bkZpcnN0U2hhcGU6IGZhbHNlLFxuICAgIGZpcnN0VGltZVBsYXlpbmc6IHRydWUsXG4gICAgc2hhcGVzU2luY2VUdXQ6IDAsXG4gICAgcmVmcmVzaENoZWNrSW50ZXJ2YWw6IG51bGwsXG4gICAgc2hhOiBudWxsXG4gIH07XG59XG5cbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBydW4oKSB7XG4gICAgcmVzZXRXaW5kb3coKTtcbiAgICB1dGlsLnNldFNoYSgpO1xuICAgIHVpLmluaXQoKTtcbiAgICB0b3VjaC5pbml0KCk7XG4gICAgb3ZlcmxheXMuaW5pdCgpO1xuICAgIHRpbWluZy5pbml0KCk7XG4gIH1cblxuICB0cnkge1xuICAgIHJ1bigpO1xuICB9IGNhdGNoKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgLy8gd2FpdCA1IHNlY29uZHMgdGhlbiByZWxvYWRcbiAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICAgIH0sIDUgKiAxMDAwKTtcbiAgfVxufSk7XG4iLCJjb25zdCBjb25maWcgPSByZXF1aXJlKCcuLy4uLy4uL2NvbmZpZycpO1xuXG5jb25zdCB0b3VjaCA9IHJlcXVpcmUoJy4vdG91Y2gnKTtcbmNvbnN0IHZpZGVvID0gcmVxdWlyZSgnLi92aWRlbycpO1xuY29uc3QgdGltaW5nID0gcmVxdWlyZSgnLi90aW1pbmcnKTtcbmNvbnN0IHR1dG9yaWFsID0gcmVxdWlyZSgnLi90dXRvcmlhbCcpO1xuY29uc3QgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5jb25zdCBoYW1tZXJDYW52YXMgPSB0b3VjaC5oYW1tZXJDYW52YXM7XG5cbmNvbnN0ICRib2R5ID0gJCgnYm9keScpO1xuY29uc3QgdGFwRXZlbnQgPSAnY2xpY2sgdGFwIHRvdWNoJztcblxuY29uc3QgJGNhcmRzV3JhcCA9ICRib2R5LmZpbmQoJy5vdmVybGF5LnRpcHMgLmNhcmQtd3JhcCcpO1xuY29uc3QgJGNhcmRJdGVtcyA9ICRjYXJkc1dyYXAuZmluZCgnYXJ0aWNsZScpO1xuY29uc3QgY2FyZHNDb3VudCA9ICRjYXJkSXRlbXMubGVuZ3RoO1xuY29uc3QgJGZvb3RlciA9ICRib2R5LmZpbmQoJy5vdmVybGF5LnRpcHMgLmZvb3RlcicpO1xuXG5jb25zdCAkc2hhcmVQaG9uZSA9ICRib2R5LmZpbmQoJyNwaG9uZScpO1xuY29uc3QgJHNoYXJlS2V5cGFkID0gJGJvZHkuZmluZCgnLmtleXBhZCcpO1xuXG5jb25zdCBhbGxPdmVybGF5cyA9IFsnaW50cm8nLCAncGxheS1wcm9tcHQnLCAnc2hhcmUtcHJvbXB0JywgJ2NvbnRpbnVlJywgJ3RpcHMnLCAnc2hhcmUnXTtcbmNvbnN0IG92ZXJsYXlPcGVuQ2xhc3NlcyA9IGFsbE92ZXJsYXlzLm1hcCgob3ZlcmxheSkgPT4gYCR7b3ZlcmxheX0tYWN0aXZlYCkuam9pbignICcpO1xuXG5jb25zdCBvdmVybGF5QWN0aXZlQ2xhc3MgPSAnb3ZlcmxheS1hY3RpdmUnO1xuXG5leHBvcnQgZnVuY3Rpb24gb3Blbk92ZXJsYXkob3ZlcmxheU5hbWUpIHtcbiAgaWYgKHdpbmRvdy5rYW4ub3ZlcmxheXMgPT09IGZhbHNlKSByZXR1cm47XG4gIGlmIChhbGxPdmVybGF5cy5pbmNsdWRlcyhvdmVybGF5TmFtZSkpIHtcbiAgICBjbG9zZUFuZFJlc2V0T3ZlcmxheXMoKTtcbiAgICB0dXRvcmlhbC5oaWRlQ29udGV4dHVhbFR1dHMoKTtcbiAgICAkYm9keS5hZGRDbGFzcyhvdmVybGF5QWN0aXZlQ2xhc3MpO1xuICAgICRib2R5LmZpbmQoJy5vdmVybGF5Om5vdCgudGlwcyknKS5vbih0YXBFdmVudCwgKCkgPT4ge1xuICAgICAgY2xvc2VBbmRSZXNldE92ZXJsYXlzKCk7XG4gICAgfSk7XG5cbiAgICBzd2l0Y2ggKG92ZXJsYXlOYW1lKSB7XG4gICAgICBjYXNlICdpbnRybyc6XG4gICAgICAgIG9wZW5JbnRyb092ZXJsYXkoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdwbGF5LXByb21wdCc6XG4gICAgICAgIGlmICh1dGlsLmFueVNoYXBlc09uQ2FudmFzKCkpIHtcbiAgICAgICAgICBvcGVuUGxheVByb21wdE92ZXJsYXkoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3aW5kb3cua2FuLnBsYXlQcm9tcHRUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBvcGVuT3ZlcmxheSgncGxheS1wcm9tcHQnKTtcbiAgICAgICAgICB9LCB0aW1pbmcucGxheVByb21wdERlbGF5IC8gMik7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzaGFyZS1wcm9tcHQnOlxuICAgICAgICBvcGVuU2hhcmVQcm9tcHRPdmVybGF5KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnY29udGludWUnOlxuICAgICAgICBvcGVuQ29udGludWVPdmVybGF5KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndGlwcyc6XG4gICAgICAgIG9wZW5UaXBzT3ZlcmxheSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3NoYXJlJzpcbiAgICAgICAgb3BlblNoYXJlT3ZlcmxheSgpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5sb2coJ3VuYWJsZSB0byBvcGVuIHVua25vd24gb3ZlcmxheScsIG92ZXJsYXlOYW1lKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBvcGVuSW50cm9PdmVybGF5KCkge1xuICAkYm9keS5hZGRDbGFzcygnaW50cm8tYWN0aXZlJyk7XG59XG5cbmZ1bmN0aW9uIG9wZW5QbGF5UHJvbXB0T3ZlcmxheSgpIHtcbiAgJGJvZHkuYWRkQ2xhc3MoJ3BsYXktcHJvbXB0LWFjdGl2ZScpO1xufVxuXG5mdW5jdGlvbiBvcGVuU2hhcmVQcm9tcHRPdmVybGF5KCkge1xuICAkYm9keS5hZGRDbGFzcygnc2hhcmUtcHJvbXB0LWFjdGl2ZScpO1xufVxuXG5mdW5jdGlvbiBvcGVuQ29udGludWVPdmVybGF5KCkge1xuICAkYm9keS5hZGRDbGFzcygnY29udGludWUtYWN0aXZlJyk7XG5cbiAgY2xlYXJUaW1lb3V0KHdpbmRvdy5rYW4uaW5hY3Rpdml0eVRpbWVvdXQpO1xuICBjbGVhclRpbWVvdXQod2luZG93Lmthbi5wbGF5UHJvbXB0VGltZW91dCk7XG5cbiAgd2luZG93Lmthbi5pbmFjdGl2aXR5VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIHZpZGVvLmVudGVyVHV0b3JpYWxNb2RlKCk7XG4gIH0sIHRpbWluZy5jb250aW51ZUluYWN0aXZpdHlEZWxheSk7XG59XG5cbmZ1bmN0aW9uIG9wZW5UaXBzT3ZlcmxheSgpIHtcbiAgJGJvZHkuYWRkQ2xhc3MoJ3RpcHMtYWN0aXZlJyk7XG4gIGFjdGl2YXRlVGlwc0NhcmRzKCk7XG59XG5cbmZ1bmN0aW9uIG9wZW5TaGFyZU92ZXJsYXkoKSB7XG4gICRib2R5LmFkZENsYXNzKCdzaGFyZS1hY3RpdmUnKTtcbn1cblxuXG4vLyBjYXJkIHNsaWRlciBuYXZpZ2F0aW9uXG5leHBvcnQgZnVuY3Rpb24gY2FyZE5hdk5leHQoKSB7XG4gIGxldCAkb2xkID0gJGJvZHkuZmluZCgnLmNhcmQtd3JhcCAuY3VycmVudCcpO1xuICBsZXQgJG5ldyA9ICgkb2xkLm5leHQoKS5sZW5ndGgpID8gJG9sZC5uZXh0KCkgOiAkY2FyZEl0ZW1zLmZpcnN0KCk7XG4gIGxldCAkbmV4dCA9ICgkbmV3Lm5leHQoKS5sZW5ndGgpID8gJG5ldy5uZXh0KCkgOiAkY2FyZEl0ZW1zLmZpcnN0KCk7XG4gIGxldCAkdGhpcmQgPSAoJG5leHQubmV4dCgpLmxlbmd0aCkgPyAkbmV4dC5uZXh0KCkgOiAkY2FyZEl0ZW1zLmZpcnN0KCkubmV4dCgpO1xuICBsZXQgc2xpZGUgPSAkbmV3LmluZGV4KCk7XG4gICRvbGQucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygncmVtb3ZlJyk7XG4gICRuZXcucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygnY3VycmVudCcpO1xuICAkbmV4dC5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCduZXh0Jyk7XG4gICR0aGlyZC5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCd0aGlyZCcpO1xuICB1cGRhdGVDYXJkQ291bnRlcihzbGlkZSArIDEsIGNhcmRzQ291bnQpO1xuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAkb2xkLnJlbW92ZUNsYXNzKCk7XG4gIH0sIDYwMCk7XG59XG5cbi8vIHRpcHMgY2FyZCBpbnRlcmFjdGlvbnNcbmZ1bmN0aW9uIGNhcmRJbnRlcmFjdGlvbnMoKSB7XG4gIGxldCB0aW1lT2ZMYXN0SW50ZXJhY3Rpb24gPSAwO1xuICBcbiAgJGJvZHkuZmluZCgnLm92ZXJsYXknKS5vbih0YXBFdmVudCwgZSA9PiB7XG4gICAgY29uc3QgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIGlmICh0aW1lT2ZMYXN0SW50ZXJhY3Rpb24gPiAoY3VycmVudFRpbWUgLSAyNTApKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRpbWVPZkxhc3RJbnRlcmFjdGlvbiA9IGN1cnJlbnRUaW1lO1xuXG4gICAgaWYgKCAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuY2FyZC13cmFwJykubGVuZ3RoID09IDEgKSB7XG4gICAgICAvLyBkaXJlY3RseSBvbiBhIGNhcmQsIG5hdmlnYXRlIHRvIHRoZSBuZXh0IG9uZVxuICAgICAgY2FyZE5hdk5leHQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gb3V0c2lkZSBlbGVtZW50cywgY2xvc2UgZXZlcnl0aGluZyBhbmQgcmVzZXRcbiAgICAgIGNsb3NlQW5kUmVzZXRPdmVybGF5cygpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlc2V0VGlwcygpIHtcbiAgJGNhcmRJdGVtcy5yZW1vdmVDbGFzcygpO1xuICAkc2hhcmVQaG9uZS5odG1sKCcnKTtcbn1cblxuLy8gY2xvc2UgYW5kIHJlc2V0IHRpcHNcbmV4cG9ydCBmdW5jdGlvbiBjbG9zZUFuZFJlc2V0T3ZlcmxheXMoKSB7XG4gICRib2R5LnJlbW92ZUNsYXNzKCdvdmVybGF5LWFjdGl2ZScpO1xuICAkYm9keS5yZW1vdmVDbGFzcyhvdmVybGF5T3BlbkNsYXNzZXMpO1xuICByZXNldFRpcHMoKTtcbn1cblxuLy8gZGVhbCBhIGZyZXNoIHN0YWNrIG9mIGNhcmRzXG5mdW5jdGlvbiBhY3RpdmF0ZVRpcHNDYXJkcygpIHtcbiAgbGV0ICRuZXcgPSAkY2FyZEl0ZW1zLmZpcnN0KCk7XG4gIGxldCAkbmV4dCA9ICgkbmV3Lm5leHQoKS5sZW5ndGgpID8gJG5ldy5uZXh0KCkgOiAkY2FyZEl0ZW1zLmZpcnN0KCk7XG4gIGxldCAkdGhpcmQgPSAoJG5leHQubmV4dCgpLmxlbmd0aCkgPyAkbmV4dC5uZXh0KCkgOiAkY2FyZEl0ZW1zLmZpcnN0KCkubmV4dCgpO1xuICAkY2FyZEl0ZW1zLnJlbW92ZUNsYXNzKCk7XG4gICRuZXcucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygnY3VycmVudCcpO1xuICAkbmV4dC5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCduZXh0Jyk7XG4gICR0aGlyZC5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCd0aGlyZCcpO1xuICB1cGRhdGVDYXJkQ291bnRlcigxLCBjYXJkc0NvdW50KTtcbn1cblxuLy8gY291bnRpbmcgY2FyZHNcbmZ1bmN0aW9uIHVwZGF0ZUNhcmRDb3VudGVyKGN1cnJlbnQsIHRvdGFsKSB7XG4gICRmb290ZXIuZmluZCgnLmN1cnJlbnQnKS5odG1sKGN1cnJlbnQpO1xuICAkZm9vdGVyLmZpbmQoJy5uZXh0JykuaHRtbCh0b3RhbCk7XG59XG5cbi8vIHBob25lIGlucHV0c1xuZnVuY3Rpb24gcGhvbmVOdW1iZXJJbnB1dHMoKSB7XG4gIC8vIG1hc2sgdGhlIG91dHB1dFxuICAkc2hhcmVQaG9uZS5tYXNrKCcwMDAtMDAwLTAwMDAnKTtcbiAgLy8gZ2V0IGludGVyYWN0aW9ucyBmcm9tIHRoZSBrZXlwYWRcbiAgJHNoYXJlS2V5cGFkLmZpbmQoJy5udW0nKS5vbih0YXBFdmVudCwgZSA9PiB7XG4gICAgbGV0IHBob25lTnVtYmVyID0gJHNoYXJlUGhvbmUuaHRtbCgpLnRvU3RyaW5nKCkgKyAkKGUudGFyZ2V0KS5odG1sKCkudG9TdHJpbmcoKTtcbiAgICBwaG9uZU51bWJlciA9ICRzaGFyZVBob25lLm1hc2tlZChwaG9uZU51bWJlcik7XG4gICAgJHNoYXJlUGhvbmUuaHRtbChwaG9uZU51bWJlcik7XG4gIH0pO1xuICAvLyBjbGVhciB0aGUgZGlzcGxheVxuICAkc2hhcmVLZXlwYWQuZmluZCgnLmNsZWFyJykub24odGFwRXZlbnQsIGUgPT4ge1xuICAgICRzaGFyZVBob25lLmh0bWwoJycpO1xuICB9KTtcbiAgLy8gRklYTUU6IHNlbmQgc21zXG4gIC8vICRzaGFyZUtleXBhZC5maW5kKCcuc2VuZCcpLm9uKHRhcEV2ZW50LCBlID0+IHt9KTtcbn1cblxuLy8gXCJyYW5kb21seVwiIHBsYWNlIGZpZGRseSBiaXRzIG9uIHRoZSBjYXJkc1xuZnVuY3Rpb24gcmFuZG9tQ2FyZEdyYXBoaWNzKCkge1xuICAkYm9keS5maW5kKCcuY2FyZC13cmFwIGFydGljbGUnKS5lYWNoKChpLCBlbCkgPT4ge1xuICAgICQoZWwpLmF0dHIoJ2RhdGEtYmcnLCBpKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGluaXRUaXBzKCkge1xuICBjYXJkSW50ZXJhY3Rpb25zKCk7XG59XG5cbmZ1bmN0aW9uIGluaXRTaGFyZSgpIHtcbiAgcGhvbmVOdW1iZXJJbnB1dHMoKTtcbiAgcmFuZG9tQ2FyZEdyYXBoaWNzKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xuICBpbml0VGlwcygpO1xuICBpbml0U2hhcmUoKTtcbn1cbiIsImNvbnN0IFNoYXBlRGV0ZWN0b3IgPSByZXF1aXJlKCcuL2xpYi9zaGFwZS1kZXRlY3RvcicpO1xuXG5jb25zdCB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5jb25zdCBjb2xvciA9IHJlcXVpcmUoJy4vY29sb3InKTtcblxuZXhwb3J0IGNvbnN0IGNvcm5lclRocmVzaG9sZERlZyA9IDMwO1xuZXhwb3J0IGNvbnN0IHRocmVzaG9sZERpc3RNdWx0aXBsaWVyID0gMC4xO1xuXG5leHBvcnQgY29uc3QgZGV0ZWN0b3IgPSBuZXcgU2hhcGVEZXRlY3RvcihTaGFwZURldGVjdG9yLmRlZmF1bHRTaGFwZXMpO1xuXG5leHBvcnQgY29uc3Qgc2hhcGVOYW1lcyA9IFtcImxpbmVcIiwgXCJjaXJjbGVcIiwgXCJzcXVhcmVcIiwgXCJ0cmlhbmdsZVwiLCBcIm90aGVyXCJdO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0T3V0bGluZUdyb3VwKHRydWVkU2hhcGUpIHtcbiAgY29uc29sZS5sb2coJ3RydWVkU2hhcGUnLCB0cnVlZFNoYXBlKTtcbiAgbGV0IG91dGVyUGF0aCA9IG5ldyBQYXRoKCk7XG4gIG91dGVyUGF0aC5uYW1lID0gJ291dGVyJztcblxuICBsZXQgbWlkZGxlUGF0aCA9IG5ldyBQYXRoKCk7XG4gIG1pZGRsZVBhdGgubmFtZSA9ICdtaWRkbGUnO1xuICBsZXQgc2l6ZXMgPSBbXTtcbiAgbGV0IGFuZ2xlO1xuXG4gIGxldCBmaXJzdFRvcCA9IG51bGwsIGZpcnN0Qm90dG9tID0gbnVsbDtcbiAgbGV0IGxhc3RUb3AgPSBudWxsLCBsYXN0Qm90dG9tID0gbnVsbDtcblxuICBpZiAoISh0cnVlZFNoYXBlLmxlbmd0aCA+IDApKSByZXR1cm4gbmV3IEdyb3VwKG91dGVyUGF0aCwgbWlkZGxlUGF0aCk7XG5cbiAgLy8gb3V0ZXJQYXRoLmFkZCh0cnVlZFNoYXBlLmZpcnN0U2VnbWVudC5wb2ludCk7XG4gIG1pZGRsZVBhdGguYWRkKHRydWVkU2hhcGUuZmlyc3RTZWdtZW50LnBvaW50KTtcblxuICBmb3IgKGxldCBpID0gMTA7IGkgPCB0cnVlZFNoYXBlLmxlbmd0aCAtIDEwOyBpICs9IDIwKSB7XG4gICAgd2hpbGUgKHNpemVzLmxlbmd0aCA+IDEwKSB7XG4gICAgICBzaXplcy5zaGlmdCgpO1xuICAgIH1cblxuICAgIGNvbnN0IHNpemUgPSBNYXRoLnJhbmRvbSgpICogODsgLy8gVGhpcyBpcyBqdXN0IHJhbmRvbSB2YXJpYW5jZVxuICAgIHNpemVzLnB1c2goc2l6ZSk7XG5cbiAgICBsZXQgY3VtU2l6ZSA9IDA7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBzaXplcy5sZW5ndGg7IGorKykge1xuICAgICAgY3VtU2l6ZSArPSBzaXplc1tqXTtcbiAgICB9XG4gICAgY29uc3QgYXZnU2l6ZSA9IE1hdGgubWF4KDUsICgoY3VtU2l6ZSAvIHNpemVzLmxlbmd0aCkgKyBzaXplKSAvIDIpO1xuXG4gICAgY29uc3QgcHJldlBvaW50ID0gdHJ1ZWRTaGFwZS5nZXRQb2ludEF0KGkgLSAxMCk7XG4gICAgY29uc3QgbmV4dFBvaW50ID0gdHJ1ZWRTaGFwZS5nZXRQb2ludEF0KGkgKyAxMCk7XG4gICAgY29uc3QgcG9pbnQgPSBuZXcgUG9pbnQoKHByZXZQb2ludC54ICsgbmV4dFBvaW50LngpIC8gMiwgKHByZXZQb2ludC55ICsgbmV4dFBvaW50LnkpIC8gMik7XG5cbiAgICBhbmdsZSA9IE1hdGguYXRhbjIobmV4dFBvaW50LnkgLSBwcmV2UG9pbnQueSwgbmV4dFBvaW50LnggLSBwcmV2UG9pbnQueCk7XG5cbiAgICBjb25zdCB0b3BYID0gcG9pbnQueCArIE1hdGguY29zKGFuZ2xlIC0gTWF0aC5QSS8yKSAqIGF2Z1NpemU7XG4gICAgY29uc3QgdG9wWSA9IHBvaW50LnkgKyBNYXRoLnNpbihhbmdsZSAtIE1hdGguUEkvMikgKiBhdmdTaXplO1xuICAgIGNvbnN0IHRvcCA9IG5ldyBQb2ludCh0b3BYLCB0b3BZKTtcblxuICAgIGNvbnN0IGJvdHRvbVggPSBwb2ludC54ICsgTWF0aC5jb3MoYW5nbGUgKyBNYXRoLlBJLzIpICogYXZnU2l6ZTtcbiAgICBjb25zdCBib3R0b21ZID0gcG9pbnQueSArIE1hdGguc2luKGFuZ2xlICsgTWF0aC5QSS8yKSAqIGF2Z1NpemU7XG4gICAgY29uc3QgYm90dG9tID0gbmV3IFBvaW50KGJvdHRvbVgsIGJvdHRvbVkpO1xuXG4gICAgb3V0ZXJQYXRoLmFkZCh0b3ApO1xuICAgIG91dGVyUGF0aC5pbnNlcnQoMCwgYm90dG9tKTtcbiAgICBtaWRkbGVQYXRoLmFkZChwb2ludCk7XG5cbiAgICBpZiAoaSA9PSAxMCkge1xuICAgICAgZmlyc3RUb3AgPSB0b3A7XG4gICAgICBmaXJzdEJvdHRvbSA9IGJvdHRvbTtcbiAgICAgIC8vIG5ldyBQYXRoLkxpbmUoe1xuICAgICAgLy8gICBmcm9tOiBib3R0b20sXG4gICAgICAvLyAgIHRvOiB0b3AsXG4gICAgICAvLyAgIHN0cm9rZVdpZHRoOiA1LFxuICAgICAgLy8gICBzdHJva2VDb2xvcjogJ3JlZCdcbiAgICAgIC8vIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBsYXN0VG9wID0gdG9wO1xuICAgICAgbGFzdEJvdHRvbSA9IGJvdHRvbTtcbiAgICAgIC8vIG5ldyBQYXRoLkxpbmUoe1xuICAgICAgLy8gICBmcm9tOiBib3R0b20sXG4gICAgICAvLyAgIHRvOiB0b3AsXG4gICAgICAvLyAgIHN0cm9rZVdpZHRoOiA1LFxuICAgICAgLy8gICBzdHJva2VDb2xvcjogbmV3IENvbG9yKDAsIGkgLyB0cnVlZFNoYXBlLmxlbmd0aClcbiAgICAgIC8vIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIG5ldyBQYXRoLkxpbmUoe1xuICAvLyAgIGZyb206IGxhc3RCb3R0b20sXG4gIC8vICAgdG86IGxhc3RUb3AsXG4gIC8vICAgc3Ryb2tlV2lkdGg6IDUsXG4gIC8vICAgc3Ryb2tlQ29sb3I6ICdibHVlJ1xuICAvLyB9KTtcblxuICBpZiAodHJ1ZWRTaGFwZS5jbG9zZWQgPT09IHRydWUpIHtcbiAgICBjb25zdCBjZW50ZXJUb3AgPSBuZXcgUG9pbnQoKGZpcnN0VG9wLnggKyBsYXN0VG9wLngpIC8gMiwgKGZpcnN0VG9wLnkgKyBsYXN0VG9wLnkpIC8gMik7XG4gICAgY29uc3QgY2VudGVyQm90dG9tID0gbmV3IFBvaW50KChmaXJzdEJvdHRvbS54ICsgbGFzdEJvdHRvbS54KSAvIDIsIChmaXJzdEJvdHRvbS55ICsgbGFzdEJvdHRvbS55KSAvIDIpO1xuICAgIGNvbnN0IGNlbnRlciA9IG5ldyBQb2ludCgoY2VudGVyVG9wLnggKyBjZW50ZXJCb3R0b20ueCkgLyAyLCAoY2VudGVyVG9wLnkgKyBjZW50ZXJCb3R0b20ueSkgLyAyKTtcblxuICAgIG91dGVyUGF0aC5hZGQoY2VudGVyVG9wKTtcbiAgICBvdXRlclBhdGguaW5zZXJ0KDAsIGNlbnRlckJvdHRvbSk7XG4gICAgbWlkZGxlUGF0aC5hZGQoY2VudGVyKTtcbiAgICAvLyBuZXcgUGF0aC5MaW5lKHtcbiAgICAvLyAgIGZyb206IGNlbnRlckJvdHRvbSxcbiAgICAvLyAgIHRvOiBjZW50ZXJUb3AsXG4gICAgLy8gICBzdHJva2VXaWR0aDogNSxcbiAgICAvLyAgIHN0cm9rZUNvbG9yOiAneWVsbG93J1xuICAgIC8vIH0pO1xuICAgIG91dGVyUGF0aC5hZGQoZmlyc3RUb3ApO1xuICAgIG91dGVyUGF0aC5pbnNlcnQoMCwgZmlyc3RCb3R0b20pO1xuICAgIG1pZGRsZVBhdGguY2xvc2VkID0gdHJ1ZTtcbiAgICAvLyBtaWRkbGVQYXRoLmFkZChwb2ludCk7XG4gICAgLy8gY29uc29sZS5sb2coJ2Nsb3NlZCcpO1xuICB9XG4gIC8vICBlbHNlIHtcbiAgLy8gICBjb25zdCBsYXN0Q2VudGVyID0gKChsYXN0VG9wLnggKyBsYXN0Qm90dG9tLngpIC8gMiwgKGxhc3RUb3AueSArIGxhc3RCb3R0b20ueSkgLyAyKTtcbiAgLy8gICBjb25zdCBsYXN0UG9pbnQgPSB0cnVlZFNoYXBlLmxhc3RTZWdtZW50LnBvaW50O1xuICAvLyAgIGNvbnN0IGFkanVzdGVkTGFzdFBvaW50ID0gbmV3IFBvaW50KChsYXN0Q2VudGVyLnggKyBsYXN0UG9pbnQueCkgLyAyLCAobGFzdENlbnRlci55ICsgbGFzdFBvaW50LnkpIC8gMik7XG4gIC8vICAgLy8gb3V0ZXJQYXRoLmFkZChhZGp1c3RlZExhc3RQb2ludCk7XG4gIC8vICAgLy8gb3V0ZXJQYXRoLmxhc3RTZWdtZW50LnNtb290aCgpO1xuICAvLyB9XG5cbiAgLy8gb3V0ZXJQYXRoLnNlbGVjdGVkID0gdHJ1ZTtcblxuICAvLyBuZXcgUGF0aC5DaXJjbGUoe1xuICAvLyAgIGNlbnRlcjogb3V0ZXJQYXRoLmZpcnN0U2VnbWVudC5wb2ludCxcbiAgLy8gICByYWRpdXM6IDMsXG4gIC8vICAgZmlsbENvbG9yOiAncmVkJ1xuICAvLyB9KTtcbiAgLy8gbmV3IFBhdGguQ2lyY2xlKHtcbiAgLy8gICBjZW50ZXI6IG91dGVyUGF0aC5maXJzdFNlZ21lbnQubmV4dC5wb2ludCxcbiAgLy8gICByYWRpdXM6IDMsXG4gIC8vICAgZmlsbENvbG9yOiAncmVkJ1xuICAvLyB9KTtcbiAgLy9cbiAgLy8gbmV3IFBhdGguQ2lyY2xlKHtcbiAgLy8gICBjZW50ZXI6IG91dGVyUGF0aC5sYXN0U2VnbWVudC5wb2ludCxcbiAgLy8gICByYWRpdXM6IDMsXG4gIC8vICAgZmlsbENvbG9yOiAnYmx1ZSdcbiAgLy8gfSk7XG4gIC8vIG5ldyBQYXRoLkNpcmNsZSh7XG4gIC8vICAgY2VudGVyOiBvdXRlclBhdGgubGFzdFNlZ21lbnQucHJldmlvdXMucG9pbnQsXG4gIC8vICAgcmFkaXVzOiAzLFxuICAvLyAgIGZpbGxDb2xvcjogJ2JsdWUnXG4gIC8vIH0pO1xuXG4gIG91dGVyUGF0aC5zbW9vdGgoKTtcbiAgbWlkZGxlUGF0aC5zbW9vdGgoKTtcbiAgb3V0ZXJQYXRoLm5hbWUgPSAnb3V0ZXInO1xuICBtaWRkbGVQYXRoLm5hbWUgPSAnbWlkZGxlJztcbiAgY29uc3QgcmV0dXJuR3JvdXAgPSBuZXcgR3JvdXAob3V0ZXJQYXRoLCBtaWRkbGVQYXRoKTtcbiAgcmV0dXJuIHJldHVybkdyb3VwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJ1ZWRTaGFwZShwYXRoKSB7XG4gIGxldCBwYXRoQ2xvbmUgPSBwYXRoLmNsb25lKCk7XG4gIHBhdGhDbG9uZS52aXNpYmxlID0gZmFsc2U7XG4gIGxldCBjb21wbGV0ZWRQYXRoID0gZ2V0Q29tcGxldGVkUGF0aChwYXRoQ2xvbmUpO1xuXG4gIC8vIHRydWUgdGhlIHBhdGghXG4gIGxldCB0cnVlZFBhdGggPSBjb21wbGV0ZWRQYXRoO1xuXG4gIHRydWVkUGF0aC5zdHJva2VXaWR0aCA9IHBhdGhDbG9uZS5zdHJva2VXaWR0aDtcblxuICBwYXRoQ2xvbmUucmVtb3ZlKCk7XG4gIHJldHVybiB0cnVlZFBhdGg7XG59XG5cbi8vIGV4dGVuZCBvciB0cmltIHBhdGggaWYgdGhlIGVuZHMgYXJlIGNsb3NlXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29tcGxldGVkUGF0aChwYXRoKSB7XG4gIGxldCBwYXRoQ2xvbmUgPSBwYXRoLmNsb25lKCk7XG4gIHBhdGhDbG9uZS52aXNpYmxlID0gZmFsc2U7XG4gIHBhdGhDbG9uZS5yZWR1Y2UoKTtcbiAgcGF0aENsb25lLnNpbXBsaWZ5KCk7XG5cbiAgbGV0IGludGVyc2VjdGlvbnMgPSBwYXRoQ2xvbmUuZ2V0SW50ZXJzZWN0aW9ucygpO1xuXG4gIGlmIChpbnRlcnNlY3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAvLyB0cmltIHBhdGggaWYgZW5kcyBhcmUgY2xvc2VcbiAgICBsZXQgdHJpbW1lZFBhdGggPSBnZXRUcmltbWVkUGF0aChwYXRoQ2xvbmUpO1xuXG4gICAgcGF0aENsb25lLnJlbW92ZSgpO1xuXG4gICAgcmV0dXJuIHRyaW1tZWRQYXRoO1xuICB9IGVsc2Uge1xuICAgIC8vIGV4dGVuZCBwYXRoIHRvIHNlZSBpZiBhbiBpbnRlcnNlY3Rpb24gaXMgbmVhclxuICAgIGxldCBleHRlbmRlZFBhdGggPSBnZXRFeHRlbmRlZFBhdGgocGF0aENsb25lKTtcbiAgICBsZXQgaW50ZXJzZWN0aW9ucyA9IGV4dGVuZGVkUGF0aC5nZXRJbnRlcnNlY3Rpb25zKCk7XG5cbiAgICAvLyBwYXRoQ2xvbmUucmVtb3ZlKCk7XG5cbiAgICBpZiAoaW50ZXJzZWN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAvLyB0cmltIGV4dHJhIGV4dGVuZGVkIHBhdGhcbiAgICAgIGxldCB0cmltbWVkUGF0aCA9IGdldFRyaW1tZWRQYXRoKGV4dGVuZGVkUGF0aCk7XG4gICAgICBleHRlbmRlZFBhdGgucmVtb3ZlKCk7XG4gICAgICByZXR1cm4gdHJpbW1lZFBhdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGV4dGVuZGVkIHBhdGggZG9lcyBub3QgaW50ZXJzZWN0LCByZXR1cm4gdGhlIG9yaWdpbmFsIHBhdGhcbiAgICAgIGV4dGVuZGVkUGF0aC5yZW1vdmUoKTtcbiAgICAgIGV4dGVuZGVkUGF0aCA9IGdldEJydXRlRXh0ZW5kZWRQYXRoKHBhdGhDbG9uZSk7XG4gICAgICBsZXQgaW50ZXJzZWN0aW9ucyA9IGV4dGVuZGVkUGF0aC5nZXRJbnRlcnNlY3Rpb25zKCk7XG5cbiAgICAgIGlmIChpbnRlcnNlY3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbGV0IHRyaW1tZWRQYXRoID0gZ2V0VHJpbW1lZFBhdGgoZXh0ZW5kZWRQYXRoKTtcbiAgICAgICAgZXh0ZW5kZWRQYXRoLnJlbW92ZSgpO1xuICAgICAgICByZXR1cm4gdHJpbW1lZFBhdGg7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXRoQ2xvbmU7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTaGFwZVByZWRpY3Rpb24ocGF0aCkge1xuICBsZXQgcHJlZGljdGlvbiA9IHt9O1xuXG4gIGxldCBzaGFwZUpTT04gPSBwYXRoLmV4cG9ydEpTT04oKTtcbiAgbGV0IHNoYXBlRGF0YSA9IHByb2Nlc3NTaGFwZURhdGEoc2hhcGVKU09OKTtcbiAgLy8gY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoc2hhcGVEYXRhKSk7XG4gIGxldCBzaGFwZVByZWRpY3Rpb24gPSBkZXRlY3Rvci5zcG90KHNoYXBlRGF0YSk7XG5cbiAgaWYgKHNoYXBlUHJlZGljdGlvbi5zY29yZSA9PT0gMCkge1xuICAgIC8vIGFsZ29yaXRobSBkb2Vzbid0IGxpa2UgdmVydGljYWwgbGluZXMgZm9yIHNvbWUgcmVhc29uXG4gICAgLy8gaWYgdGhlIGNlcnRhaW50eSBpcyAwIGl0J3MgcHJvYmFibHkgYSBsaW5lXG4gICAgcHJlZGljdGlvbi5wYXR0ZXJuID0gXCJsaW5lXCI7XG4gICAgcHJlZGljdGlvbi5zY29yZSA9IDAuOTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoc2hhcGVQcmVkaWN0aW9uLnNjb3JlID4gMC41KSB7XG4gICAgICBwcmVkaWN0aW9uLnBhdHRlcm4gPSBzaGFwZVByZWRpY3Rpb24ucGF0dGVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJlZGljdGlvbi5wYXR0ZXJuID0gXCJvdGhlclwiO1xuICAgIH1cbiAgICBwcmVkaWN0aW9uLnNjb3JlID0gc2hhcGVQcmVkaWN0aW9uLnNjb3JlO1xuICB9XG5cbiAgY29uc29sZS5sb2cocHJlZGljdGlvbik7XG5cbiAgcmV0dXJuIHByZWRpY3Rpb247XG59XG5cbi8vIGZsb29ycyB0aGUgY29vcmRpbmF0ZXMgb2YgYSBwb2ludFxuZXhwb3J0IGZ1bmN0aW9uIGdldEludGVnZXJQb2ludChwb2ludCkge1xuICByZXR1cm4gbmV3IFBvaW50KE1hdGguZmxvb3IocG9pbnQueCksIE1hdGguZmxvb3IocG9pbnQueSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5naWZ5UG9pbnQocG9pbnQpIHtcbiAgcmV0dXJuIGAke01hdGguZmxvb3IocG9pbnQueCl9LCR7TWF0aC5mbG9vcihwb2ludC55KX1gO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VQb2ludChwb2ludFN0cikge1xuICBsZXQgc3BsaXQgPSBwb2ludFN0ci5zcGxpdCgnLCcpLm1hcCgobnVtKSA9PiBNYXRoLmZsb29yKG51bSkpO1xuXG4gIGlmIChzcGxpdC5sZW5ndGggPj0gMikge1xuICAgIHJldHVybiBuZXcgUG9pbnQoc3BsaXRbMF0sIHNwbGl0WzFdKTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2xvc2VzdFBvaW50RnJvbVBhdGhEYXRhKHBvaW50LCBwYXRoRGF0YSkge1xuICBsZXQgbGVhc3REaXN0YW5jZSwgY2xvc2VzdFBvaW50O1xuXG4gIEJhc2UuZWFjaChwYXRoRGF0YSwgKGRhdHVtLCBpKSA9PiB7XG4gICAgbGV0IGRpc3RhbmNlID0gcG9pbnQuZ2V0RGlzdGFuY2UoZGF0dW0ucG9pbnQpO1xuICAgIGlmICghbGVhc3REaXN0YW5jZSB8fCBkaXN0YW5jZSA8IGxlYXN0RGlzdGFuY2UpIHtcbiAgICAgIGxlYXN0RGlzdGFuY2UgPSBkaXN0YW5jZTtcbiAgICAgIGNsb3Nlc3RQb2ludCA9IGRhdHVtLnBvaW50O1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGNsb3Nlc3RQb2ludCB8fCBwb2ludDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb2Nlc3NTaGFwZURhdGEoanNvbikge1xuICBsZXQgcmV0dXJuU2hhcGUgPSBbXTtcbiAgbGV0IGpzb25PYmogPSBKU09OLnBhcnNlKGpzb24pWzFdOyAvLyB6ZXJvIGluZGV4IGlzIHN0cmluZ2lmaWVkIHR5cGUgKGUuZy4gXCJQYXRoXCIpXG5cbiAgaWYgKCdzZWdtZW50cycgaW4ganNvbk9iaikge1xuICAgIGxldCBzZWdtZW50cyA9IGpzb25PYmouc2VnbWVudHM7XG4gICAgQmFzZS5lYWNoKHNlZ21lbnRzLCAoc2VnbWVudCwgaSkgPT4ge1xuICAgICAgaWYgKHNlZ21lbnQubGVuZ3RoID09PSAzKSB7XG4gICAgICAgIGxldCBwb3NpdGlvbkluZm8gPSBzZWdtZW50WzBdOyAvLyBpbmRleGVzIDEgYW5kIDIgYXJlIHN1cGVyZmx1b3VzIG1hdHJpeCBkZXRhaWxzXG4gICAgICAgIHJldHVyblNoYXBlLnB1c2goe1xuICAgICAgICAgIHg6IHBvc2l0aW9uSW5mb1swXSxcbiAgICAgICAgICB5OiBwb3NpdGlvbkluZm9bMV1cbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVyblNoYXBlLnB1c2goe1xuICAgICAgICAgIHg6IHNlZ21lbnRbMF0sXG4gICAgICAgICAgeTogc2VnbWVudFsxXVxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJldHVyblNoYXBlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmluZEludGVyaW9yQ3VydmVzKHBhdGgpIHtcbiAgY29uc3QgdHJhbnNwYXJlbnQgPSBjb2xvci50cmFuc3BhcmVudDtcblxuICBsZXQgaW50ZXJpb3JDdXJ2ZXMgPSBbXTtcblxuICBsZXQgcGF0aENsb25lID0gcGF0aC5jbG9uZSh7IGluc2VydDogZmFsc2UgfSk7XG4gIGxldCBpbnRlcnNlY3Rpb25zID0gcGF0aENsb25lLmdldEludGVyc2VjdGlvbnMoKTtcblxuICBpZiAoaW50ZXJzZWN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgbGV0IGRpdmlkZWRQYXRoID0gcGF0aENsb25lLnJlc29sdmVDcm9zc2luZ3MoKTtcbiAgICAvLyBjb25zb2xlLmxvZyhkaXZpZGVkUGF0aCk7XG5cbiAgICBpZiAoZGl2aWRlZFBhdGguY2xhc3NOYW1lID09PSAnQ29tcG91bmRQYXRoJykge1xuICAgICAgQmFzZS5lYWNoKGRpdmlkZWRQYXRoLmNoaWxkcmVuLCAoY2hpbGQsIGkpID0+IHtcbiAgICAgICAgaWYgKGNoaWxkLmxlbmd0aCA+IDAgJiYgY2hpbGQuY2xvc2VkKSB7XG4gICAgICAgICAgbGV0IGVuY2xvc2VkTG9vcCA9IGNoaWxkLmNsb25lKHsgaW5zZXJ0OiBmYWxzZSB9KTtcbiAgICAgICAgICBpZiAocGF0aENsb25lLmNsb3NlZCkge1xuICAgICAgICAgICAgZW5jbG9zZWRMb29wLmZpbGxDb2xvciA9IHBhdGhDbG9uZS5zdHJva2VDb2xvcjtcbiAgICAgICAgICAgIGVuY2xvc2VkTG9vcC5kYXRhLmludGVyaW9yID0gdHJ1ZTtcbiAgICAgICAgICAgIGVuY2xvc2VkTG9vcC5kYXRhLnRyYW5zcGFyZW50ID0gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVuY2xvc2VkTG9vcC5maWxsQ29sb3IgPSB0cmFuc3BhcmVudDtcbiAgICAgICAgICAgIGVuY2xvc2VkTG9vcC5kYXRhLnRyYW5zcGFyZW50ID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZW5jbG9zZWRMb29wLmRhdGEuaW50ZXJpb3IgPSB0cnVlO1xuICAgICAgICAgIGVuY2xvc2VkTG9vcC52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICBlbmNsb3NlZExvb3AuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgICBpbnRlcmlvckN1cnZlcy5wdXNoKGVuY2xvc2VkTG9vcCk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwYXRoQ2xvbmUuY2xvc2VkKSB7XG4gICAgICAgIGxldCBlbmNsb3NlZExvb3AgPSBwYXRoQ2xvbmUuY2xvbmUoeyBpbnNlcnQ6IGZhbHNlIH0pO1xuICAgICAgICBlbmNsb3NlZExvb3AudmlzaWJsZSA9IHRydWU7XG4gICAgICAgIGVuY2xvc2VkTG9vcC5maWxsQ29sb3IgPSBwYXRoQ2xvbmUuc3Ryb2tlQ29sb3I7XG4gICAgICAgIGVuY2xvc2VkTG9vcC5kYXRhLmludGVyaW9yID0gdHJ1ZTtcbiAgICAgICAgZW5jbG9zZWRMb29wLmRhdGEudHJhbnNwYXJlbnQgPSBmYWxzZTtcbiAgICAgICAgaW50ZXJpb3JDdXJ2ZXMucHVzaChlbmNsb3NlZExvb3ApO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAocGF0aENsb25lLmNsb3NlZCkge1xuICAgICAgbGV0IGVuY2xvc2VkTG9vcCA9IHBhdGhDbG9uZS5jbG9uZSh7IGluc2VydDogZmFsc2UgfSk7XG4gICAgICBlbmNsb3NlZExvb3AudmlzaWJsZSA9IHRydWU7XG4gICAgICBlbmNsb3NlZExvb3AuZmlsbENvbG9yID0gcGF0aENsb25lLnN0cm9rZUNvbG9yO1xuICAgICAgZW5jbG9zZWRMb29wLmRhdGEuaW50ZXJpb3IgPSB0cnVlO1xuICAgICAgZW5jbG9zZWRMb29wLmRhdGEudHJhbnNwYXJlbnQgPSBmYWxzZTtcbiAgICAgIGludGVyaW9yQ3VydmVzLnB1c2goZW5jbG9zZWRMb29wKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaW50ZXJpb3JDdXJ2ZXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFeHRlbmRlZFBhdGgocGF0aCwgYnJ1dGVGb3JjZSA9IGZhbHNlKSB7XG4gIGxldCBleHRlbmRlZFBhdGggPSBwYXRoLmNsb25lKCk7XG4gIGV4dGVuZGVkUGF0aC52aXNpYmxlID0gZmFsc2U7XG5cbiAgY29uc3QgdGhyZXNob2xkRGlzdCA9IHRocmVzaG9sZERpc3RNdWx0aXBsaWVyICogZXh0ZW5kZWRQYXRoLmxlbmd0aDtcblxuICBjb25zdCBmaXJzdFNlZ21lbnQgPSBleHRlbmRlZFBhdGguZmlyc3RTZWdtZW50O1xuICBjb25zdCBuZXh0U2VnbWVudCA9IGZpcnN0U2VnbWVudC5uZXh0O1xuICBjb25zdCBzdGFydEFuZ2xlID0gTWF0aC5hdGFuMihuZXh0U2VnbWVudC5wb2ludC55IC0gZmlyc3RTZWdtZW50LnBvaW50LnksIG5leHRTZWdtZW50LnBvaW50LnggLSBmaXJzdFNlZ21lbnQucG9pbnQueCk7IC8vIHJhZFxuICBjb25zdCBpbnZlcnNlU3RhcnRBbmdsZSA9IHN0YXJ0QW5nbGUgKyBNYXRoLlBJO1xuICBjb25zdCBleHRlbmRlZFN0YXJ0UG9pbnQgPSBuZXcgUG9pbnQoZmlyc3RTZWdtZW50LnBvaW50LnggKyAoTWF0aC5jb3MoaW52ZXJzZVN0YXJ0QW5nbGUpICogdGhyZXNob2xkRGlzdCAvIDIpLCBmaXJzdFNlZ21lbnQucG9pbnQueSArIChNYXRoLnNpbihpbnZlcnNlU3RhcnRBbmdsZSkgKiB0aHJlc2hvbGREaXN0IC8gMikpO1xuICBleHRlbmRlZFBhdGguaW5zZXJ0KDAsIGV4dGVuZGVkU3RhcnRQb2ludCk7XG5cbiAgY29uc3QgbGFzdFNlZ21lbnQgPSBleHRlbmRlZFBhdGgubGFzdFNlZ21lbnQ7XG4gIGNvbnN0IHBlblNlZ21lbnQgPSBsYXN0U2VnbWVudC5wcmV2aW91czsgLy8gcGVudWx0aW1hdGVcbiAgY29uc3QgZW5kQW5nbGUgPSBNYXRoLmF0YW4yKGxhc3RTZWdtZW50LnBvaW50LnkgLSBwZW5TZWdtZW50LnBvaW50LnksIGxhc3RTZWdtZW50LnBvaW50LnggLSBwZW5TZWdtZW50LnBvaW50LngpOyAvLyByYWRcbiAgY29uc3QgZXh0ZW5kZWRFbmRQb2ludCA9IG5ldyBQb2ludChsYXN0U2VnbWVudC5wb2ludC54ICsgKE1hdGguY29zKGVuZEFuZ2xlKSAqIHRocmVzaG9sZERpc3QgLyAyKSwgbGFzdFNlZ21lbnQucG9pbnQueSArIChNYXRoLnNpbihlbmRBbmdsZSkgKiB0aHJlc2hvbGREaXN0IC8gMikpO1xuICBleHRlbmRlZFBhdGguYWRkKGV4dGVuZGVkRW5kUG9pbnQpO1xuXG4gIHJldHVybiBleHRlbmRlZFBhdGg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRCcnV0ZUV4dGVuZGVkUGF0aChwYXRoKSB7XG4gIGxldCBleHRlbmRlZFBhdGggPSBwYXRoLmNsb25lKCk7XG4gIGV4dGVuZGVkUGF0aC52aXNpYmxlID0gZmFsc2U7XG5cbiAgY29uc3QgdGhyZXNob2xkRGlzdCA9IHRocmVzaG9sZERpc3RNdWx0aXBsaWVyICogZXh0ZW5kZWRQYXRoLmxlbmd0aDtcbiAgY29uc3QgZmlyc3RQb2ludCA9IGV4dGVuZGVkUGF0aC5maXJzdFNlZ21lbnQucG9pbnQ7XG4gIGNvbnN0IGxhc3RQb2ludCA9IGV4dGVuZGVkUGF0aC5sYXN0U2VnbWVudC5wb2ludDtcblxuICBpZiAoZmlyc3RQb2ludC5nZXREaXN0YW5jZShsYXN0UG9pbnQpIDwgdGhyZXNob2xkRGlzdCkge1xuICAgIGV4dGVuZGVkUGF0aC5pbnNlcnQoMCwgbGFzdFBvaW50KTtcbiAgICBleHRlbmRlZFBhdGguYWRkKGZpcnN0UG9pbnQpO1xuICB9XG5cblxuICByZXR1cm4gZXh0ZW5kZWRQYXRoO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJpbW1lZFBhdGgocGF0aCkge1xuICBsZXQgcGF0aENsb25lID0gcGF0aC5jbG9uZSgpO1xuICBwYXRoQ2xvbmUudmlzaWJsZSA9IGZhbHNlO1xuXG4gIGxldCBmaXJzdFBvaW50ID0gcGF0aENsb25lLmZpcnN0U2VnbWVudC5wb2ludDtcbiAgbGV0IGxhc3RQb2ludCA9IHBhdGhDbG9uZS5sYXN0U2VnbWVudC5wb2ludDtcbiAgbGV0IHRocmVzaG9sZERpc3QgPSB0aHJlc2hvbGREaXN0TXVsdGlwbGllciAqIHBhdGhDbG9uZS5sZW5ndGg7XG5cbiAgbGV0IGludGVyc2VjdGlvbnMgPSBwYXRoQ2xvbmUuZ2V0SW50ZXJzZWN0aW9ucygpO1xuXG4gIGlmIChpbnRlcnNlY3Rpb25zLmxlbmd0aCA9PSAxKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnRlcnNlY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgaW50ZXJzZWN0aW9uUG9pbnQgPSBpbnRlcnNlY3Rpb25zW2ldLnBvaW50O1xuXG4gICAgICAvLyBpZiB0aGUgYXZlcmFnZSBvZiB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgZmlyc3QgYW5kIGxhc3QgcG9pbnRzIGFuZCB0aGUgaW50ZXJzZWN0aW9uIHBvaW50IGlzIHdpdGhpbiB0aGUgdGhyZXNob2xkLCB0cmltXG4gICAgICBpZiAoZmlyc3RQb2ludC5nZXREaXN0YW5jZShpbnRlcnNlY3Rpb25Qb2ludCkgKyBsYXN0UG9pbnQuZ2V0RGlzdGFuY2UoaW50ZXJzZWN0aW9uUG9pbnQpIDwgMiAqIHRocmVzaG9sZERpc3QpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3RyaW1taW5nIHBhdGgnKTtcbiAgICAgICAgbGV0IGRpdmlkZWRQYXRoID0gcGF0aENsb25lLmNsb25lKCk7IC8vIHJlc29sdmUgY3Jvc3NpbmdzIHNlZW1zIHRvIG1vZGlmeSB0aGUgcGF0aCBpdCB3YXMgcGFzc2VkLCBzbyBtYWtlIGFuIGV4dHJhIGNsb25lIHRvIGJlIHNhZmVcbiAgICAgICAgZGl2aWRlZFBhdGgudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICBsZXQgcGF0aENyb3NzaW5ncyA9IGRpdmlkZWRQYXRoLnJlc29sdmVDcm9zc2luZ3MoKTtcblxuICAgICAgICBpZiAocGF0aENyb3NzaW5ncy5jbGFzc05hbWUgPT09ICdDb21wb3VuZFBhdGgnICYmIHBhdGhDcm9zc2luZ3MuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcGF0aENyb3NzaW5ncy5jaGlsZHJlbi5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gcGF0aENyb3NzaW5ncy5jaGlsZHJlbltqXTtcbiAgICAgICAgICAgIGlmIChjaGlsZC5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgLy8gY2hpbGQuc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICBkaXZpZGVkUGF0aCA9IGRpdmlkZWRQYXRoLnN1YnRyYWN0KGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkaXZpZGVkUGF0aC5zZWxlY3RlZCA9IHRydWU7XG5cbiAgICAgICAgbGV0IHRyaW1tZWRQYXRoID0gcGF0aENsb25lLnN1YnRyYWN0KGRpdmlkZWRQYXRoKTtcbiAgICAgICAgaWYgKHRyaW1tZWRQYXRoLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHBhdGhDbG9uZTtcbiAgICAgICAgaWYgKHRyaW1tZWRQYXRoLmNsYXNzTmFtZSA9PT0gJ0NvbXBvdW5kUGF0aCcgJiYgdHJpbW1lZFBhdGguY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGxldCBjbG9zZWRDaGlsZHJlbiA9IFtdO1xuICAgICAgICAgIHRyaW1tZWRQYXRoLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkLCBpKSA9PiB7XG4gICAgICAgICAgICBpZiAoY2hpbGQubGVuZ3RoID4gMCAmJiBjaGlsZC5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgbGV0IGNoaWxkQ2xvbmUgPSBjaGlsZC5jbG9uZSgpO1xuICAgICAgICAgICAgICBjaGlsZENsb25lLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgY2xvc2VkQ2hpbGRyZW4ucHVzaChjaGlsZENsb25lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmIChjbG9zZWRDaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpZiAoY2xvc2VkQ2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAvLyBmb3Igc29tZSByZWFzb24gdGhlcmUgYXJlIG1vcmUgdGhhbiBvbmUgY2xvc2VkIGNoaWxkcmVuLCBtZXJnZSB0aGVtXG4gICAgICAgICAgICAgIGxldCBhY2N1bXVsYXRvciA9IGNsb3NlZENoaWxkcmVuWzBdO1xuXG4gICAgICAgICAgICAgIGZvciAobGV0IGogPSAxOyBqIDwgY2xvc2VkQ2hpbGRyZW4ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBhY2N1bXVsYXRvciA9IGFjY3VtdWxhdG9yLnVuaXRlKGNsb3NlZENoaWxkcmVuW2pdKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChhY2N1bXVsYXRvci5sZW5ndGggPiAwICYmIGFjY3VtdWxhdG9yLmNsYXNzTmFtZSA9PT0gJ1BhdGgnKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3RyaW1tZWQgYWNjdW11bGF0b3InLCBhY2N1bXVsYXRvcik7XG4gICAgICAgICAgICAgICAgbGV0IG5ld1BhdGggPSBuZXcgUGF0aCgpO1xuICAgICAgICAgICAgICAgIG5ld1BhdGguY29weUNvbnRlbnQoYWNjdW11bGF0b3IpO1xuICAgICAgICAgICAgICAgIG5ld1BhdGguY29weUF0dHJpYnV0ZXMocGF0aENsb25lKTtcbiAgICAgICAgICAgICAgICBhY2N1bXVsYXRvci5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBwYXRoQ2xvbmUucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgZGl2aWRlZFBhdGgucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgdHJpbW1lZFBhdGgucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld1BhdGg7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGF0aENsb25lLnJlbW92ZSgpO1xuICAgICAgICAgICAgZGl2aWRlZFBhdGgucmVtb3ZlKCk7XG4gICAgICAgICAgICB0cmltbWVkUGF0aC5yZW1vdmUoKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0cmltbWVkIGNsb3NlZENoaWxkcmVuWzBdJywgY2xvc2VkQ2hpbGRyZW5bMF0pO1xuICAgICAgICAgICAgcmV0dXJuIGNsb3NlZENoaWxkcmVuWzBdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUubG9nKCd0cmltbWVkIHBhdGggcmV0dXJuJywgdHJpbW1lZFBhdGgpO1xuICAgICAgICBjb25zb2xlLmxvZygncGF0aCBjbG9uZScsIHBhdGhDbG9uZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdkaXZpZGVkUGF0aCcsIGRpdmlkZWRQYXRoKTtcbiAgICAgICAgcGF0aENsb25lLnJlbW92ZSgpO1xuICAgICAgICBkaXZpZGVkUGF0aC5yZW1vdmUoKTtcbiAgICAgICAgcmV0dXJuIHRyaW1tZWRQYXRoO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIG5vIGNsb3NlIGludGVyc2VjdGlvbiB3ZXJlIGZvdW5kIHNvIG5vdGhpbmcgY2FuIGJlIHRyaW1tZWRcbiAgICByZXR1cm4gcGF0aENsb25lO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBwYXRoQ2xvbmU7XG4gIH1cbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gaGl0VGVzdEdyb3VwQm91bmRzKHBvaW50KSB7XG4gIGxldCBncm91cHMgPSB1dGlsLmdldEFsbEdyb3VwcygpO1xuICByZXR1cm4gaGl0VGVzdEJvdW5kcyhwb2ludCwgZ3JvdXBzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhpdFRlc3RCb3VuZHMocG9pbnQsIGNoaWxkcmVuKSB7XG4gIGlmICghcG9pbnQpIHJldHVybiBudWxsO1xuXG4gIGZvciAobGV0IGkgPSBjaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGxldCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgIGxldCBib3VuZHMgPSBjaGlsZC5zdHJva2VCb3VuZHM7XG4gICAgaWYgKHBvaW50LmlzSW5zaWRlKGNoaWxkLnN0cm9rZUJvdW5kcykpIHtcbiAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cbiIsInJlcXVpcmUoJ2hvd2xlcicpO1xuXG5jb25zdCB1aSA9IHJlcXVpcmUoJy4vdWknKTtcbmNvbnN0IHNoYXBlID0gcmVxdWlyZSgnLi9zaGFwZScpO1xuY29uc3QgY29sb3IgPSByZXF1aXJlKCcuL2NvbG9yJyk7XG5jb25zdCBvdmVybGF5cyA9IHJlcXVpcmUoJy4vb3ZlcmxheXMnKTtcblxuY29uc3Qgc291bmRzID0gaW5pdFNoYXBlU291bmRzKCk7XG5cbmNvbnN0ICRib2R5ID0gJCgnYm9keScpO1xuXG5jb25zdCBtZWFzdXJlcyA9IDQ7XG5jb25zdCBicG0gPSAxMjA7XG5jb25zdCBiZWF0TGVuZ3RoID0gKDYwIC8gYnBtKSAqIDEwMDA7IC8vIG1zXG5jb25zdCBtZWFzdXJlTGVuZ3RoID0gYmVhdExlbmd0aCAqIDQ7XG5leHBvcnQgY29uc3QgY29tcG9zaXRpb25MZW5ndGggPSBtZWFzdXJlTGVuZ3RoICogbWVhc3VyZXM7XG5cbmV4cG9ydCBjb25zdCBwbGF5aW5nQ2xhc3MgPSAncGxheWluZyc7XG5leHBvcnQgY29uc3QgcGxheUVuYWJsZWRDbGFzcyA9ICdwbGF5LWVuYWJsZWQnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2hhcGVTb3VuZE9iaihwYXRoKSB7XG4gIGNvbnN0IHZpZXdXaWR0aCA9IHBhcGVyLnZpZXcudmlld1NpemUud2lkdGg7XG4gIGNvbnN0IHZpZXdIZWlnaHQgPSBwYXBlci52aWV3LnZpZXdTaXplLmhlaWdodDtcblxuICBsZXQgc2hhcGVQcmVkaWN0aW9uID0gc2hhcGUuZ2V0U2hhcGVQcmVkaWN0aW9uKHBhdGgpO1xuICBsZXQgY29sb3JOYW1lID0gY29sb3IuZ2V0UGF0aENvbG9yTmFtZShwYXRoKTtcbiAgaWYgKGNvbG9yTmFtZSA9PT0gbnVsbCkgY29sb3JOYW1lID0gJ2JsYWNrJzsgLy8ganVzdCBpbiBjYXNlXG5cbiAgY29uc3QgcXVhbnRpemVkU291bmRTdGFydFRpbWUgPSBxdWFudGl6ZUxlbmd0aChwYXRoLmJvdW5kcy54IC8gdmlld1dpZHRoICogY29tcG9zaXRpb25MZW5ndGgpOyAvLyBtc1xuICBjb25zdCBxdWFudGl6ZWRTb3VuZER1cmF0aW9uID0gcXVhbnRpemVMZW5ndGgocGF0aC5ib3VuZHMud2lkdGggLyB2aWV3V2lkdGggKiBjb21wb3NpdGlvbkxlbmd0aCk7IC8vIG1zXG5cbiAgbGV0IHNvdW5kT2JqID0ge307XG4gIHNvdW5kT2JqLnNvdW5kID0gc291bmRzW3NoYXBlUHJlZGljdGlvbi5wYXR0ZXJuXTtcbiAgc291bmRPYmouc3RhcnRUaW1lID0gcXVhbnRpemVkU291bmRTdGFydFRpbWU7XG4gIHNvdW5kT2JqLmR1cmF0aW9uID0gcXVhbnRpemVkU291bmREdXJhdGlvbjtcbiAgc291bmRPYmoucGF0aElkID0gcGF0aC5pZDtcbiAgc291bmRPYmouc3ByaXRlTmFtZSA9IGNvbG9yTmFtZTtcbiAgaWYgKCEhcGF0aC5wYXJlbnQgJiYgcGF0aC5wYXJlbnQuY2xhc3NOYW1lID09PSAnR3JvdXAnKSB7XG4gICAgc291bmRPYmouZ3JvdXBJZCA9IHBhdGgucGFyZW50LmlkO1xuICB9XG5cbiAgcmV0dXJuIHNvdW5kT2JqO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRQbGF5aW5nKCkge1xuICBjb25zb2xlLmxvZygnZmlyc3QgdGltZScsIHdpbmRvdy5rYW4uZmlyc3RUaW1lUGxheWluZyk7XG4gIGlmICgkYm9keS5oYXNDbGFzcyhwbGF5RW5hYmxlZENsYXNzKSkge1xuICAgICRib2R5LmFkZENsYXNzKHBsYXlpbmdDbGFzcyk7XG5cbiAgICBIb3dsZXIubXV0ZShmYWxzZSk7XG5cbiAgICB3aW5kb3cua2FuLnBsYXlpbmcgPSB0cnVlO1xuXG4gICAgaWYgKHdpbmRvdy5rYW4uZmlyc3RUaW1lUGxheWluZyA9PT0gdHJ1ZSkge1xuICAgICAgd2luZG93Lmthbi5maXJzdFRpbWVQbGF5aW5nID0gZmFsc2U7XG4gICAgICBzdGFydENvbXBvc2l0aW9uKHdpbmRvdy5rYW4uY29tcG9zaXRpb24sIGZhbHNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhcnRDb21wb3NpdGlvbih3aW5kb3cua2FuLmNvbXBvc2l0aW9uLCB0cnVlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgd2luZG93Lmthbi5wbGF5aW5nID0gZmFsc2U7XG4gICAgJGJvZHkucmVtb3ZlQ2xhc3MocGxheWluZ0NsYXNzKTtcbiAgICBjb25zb2xlLmxvZygncGxheSBpcyBub3QgZW5hYmxlZCcpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdG9wUGxheWluZyhtdXRlID0gZmFsc2UpIHtcbiAgaWYgKCEhbXV0ZSkge1xuICAgIEhvd2xlci5tdXRlKHRydWUpO1xuICB9XG5cbiAgd2luZG93Lmthbi5wbGF5aW5nID0gZmFsc2U7XG4gICRib2R5LnJlbW92ZUNsYXNzKHBsYXlpbmdDbGFzcyk7XG5cbiAgc3RvcENvbXBvc2l0aW9uKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0U2hhcGVTb3VuZHMoKSB7XG4gIGxldCByZXR1cm5Tb3VuZHMgPSB7fTtcbiAgY29uc3QgZXh0ZW5zaW9ucyA9IFsnb2dnJywgJ200YScsICdtcDMnLCAnYWMzJ107XG5cbiAgY29uc3Qgc2hhcGVOYW1lcyA9IHNoYXBlLnNoYXBlTmFtZXM7XG4gIEJhc2UuZWFjaChzaGFwZU5hbWVzLCAoc2hhcGVOYW1lKSA9PiB7XG4gICAgbGV0IHNoYXBlU291bmRKU09OUGF0aCA9IGAuL2F1ZGlvL3NoYXBlcy8ke3NoYXBlTmFtZX0vJHtzaGFwZU5hbWV9Lmpzb25gO1xuXG4gICAgJC5nZXRKU09OKHNoYXBlU291bmRKU09OUGF0aCwgKHJlc3ApID0+IHtcbiAgICAgIGxldCBzaGFwZVNvdW5kRGF0YSA9IGZvcm1hdFNoYXBlU291bmREYXRhKHNoYXBlTmFtZSwgcmVzcCk7XG4gICAgICBsZXQgc291bmQgPSBuZXcgSG93bChzaGFwZVNvdW5kRGF0YSk7XG4gICAgICByZXR1cm5Tb3VuZHNbc2hhcGVOYW1lXSA9IHNvdW5kO1xuICAgIH0pO1xuICB9KTtcblxuICByZXR1cm4gcmV0dXJuU291bmRzO1xuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRTaGFwZVNvdW5kRGF0YShzaGFwZU5hbWUsIGRhdGEpIHtcbiAgbGV0IHJldHVybkRhdGEgPSB7fTtcblxuICByZXR1cm5EYXRhLnNyYyA9IGRhdGEudXJscy5tYXAoKHVybCkgPT4gYC4vYXVkaW8vc2hhcGVzLyR7c2hhcGVOYW1lfS8ke3VybH1gKTtcbiAgcmV0dXJuRGF0YS5zcHJpdGUgPSBkYXRhLnNwcml0ZTtcbiAgcmV0dXJuRGF0YS5sb29wID0gZmFsc2U7XG5cbiAgcmV0dXJuIHJldHVybkRhdGE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBxdWFudGl6ZUxlbmd0aChkdXJhdGlvbikge1xuICBjb25zdCBzbWFsbGVzdER1cmF0aW9uID0gKDYwIC8gYnBtKTtcbiAgY29uc3QgcmV0dXJuRHVyYXRpb24gPSBNYXRoLmZsb29yKGR1cmF0aW9uIC8gc21hbGxlc3REdXJhdGlvbikgKiBzbWFsbGVzdER1cmF0aW9uO1xuXG4gIGlmIChyZXR1cm5EdXJhdGlvbiA+IDApIHtcbiAgICByZXR1cm4gcmV0dXJuRHVyYXRpb247XG4gIH0gZWxzZSB7XG4gICAgLy8gYWx3YXlzIHJldHVybiBzb21ldGhpbmcgZ3JlYXRlciB0aGFuIHplcm9cbiAgICByZXR1cm4gc21hbGxlc3REdXJhdGlvbjtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcXVhbnRpemVQb3NpdGlvbihwb3NpdGlvbiwgdmlld1dpZHRoKSB7XG4gIGNvbnN0IHNtYWxsZXN0SW50ZXJ2YWwgPSB2aWV3V2lkdGggLyAoNCAqIG1lYXN1cmVzKTtcbiAgcmV0dXJuIHJldHVyblBvc2l0aW9uID0gTWF0aC5mbG9vcihwb3NpdGlvbiAvIHNtYWxsZXN0SW50ZXJ2YWwpICogc21hbGxlc3RJbnRlcnZhbDtcbn1cblxuZnVuY3Rpb24gYW5pbWF0ZU5vdGUoc2hhcGUpIHtcbiAgY29uc3QgaXRlbSA9IHBhcGVyLnByb2plY3QuZ2V0SXRlbSh7XG4gICAgY2xhc3NOYW1lOiAnUGF0aCcsXG4gICAgbWF0Y2g6IGZ1bmN0aW9uKGVsKSB7XG4gICAgICByZXR1cm4gKGVsLmlkID09PSBzaGFwZS5wYXRoSWQpO1xuICAgIH1cbiAgfSk7XG4gIGlmICghIWl0ZW0pIHtcbiAgICBsZXQgZ3JvdXAgPSBpdGVtLnBhcmVudDtcbiAgICBncm91cC5hbmltYXRlKFtcbiAgICAgIHtcbiAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgIHNjYWxlOiAxLjE1LFxuICAgICAgICAgIHRyYW5zbGF0ZTogbmV3IHBhcGVyLlBvaW50KDIwLCAwKSxcbiAgICAgICAgICByb3RhdGU6IC0xMCxcbiAgICAgICAgfSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBkdXJhdGlvbjogMjUwLFxuICAgICAgICAgIGVhc2luZzogXCJlYXNlSW5PdXRcIixcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgIHNjYWxlOiAxLjI1LFxuICAgICAgICAgIHRyYW5zbGF0ZTogbmV3IHBhcGVyLlBvaW50KDEwLCAwKSxcbiAgICAgICAgICByb3RhdGU6IDEwLFxuICAgICAgICB9LFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIGR1cmF0aW9uOiAxMjUsXG4gICAgICAgICAgZWFzaW5nOiBcImVhc2VJbk91dFwiLFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgc2NhbGU6IDEsXG4gICAgICAgICAgdHJhbnNsYXRlOiBuZXcgcGFwZXIuUG9pbnQoMCwgMCksXG4gICAgICAgICAgcm90YXRlOiAwLFxuICAgICAgICB9LFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIGR1cmF0aW9uOiAxMjUsXG4gICAgICAgICAgZWFzaW5nOiBcImVhc2VJbk91dFwiLFxuICAgICAgICB9XG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVTaGFwZUZyb21Db21wb3NpdGlvbihzaGFwZUdyb3VwKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgd2luZG93Lmthbi5jb21wb3NpdGlvbi5sZW5ndGg7IGkrKykge1xuICAgIGxldCBzb3VuZCA9IHdpbmRvdy5rYW4uY29tcG9zaXRpb25baV07XG5cbiAgICBpZiAoJ2dyb3VwSWQnIGluIHNvdW5kKSB7XG4gICAgICBpZiAoc291bmQuZ3JvdXBJZCA9PT0gc2hhcGVHcm91cC5pZCkge1xuICAgICAgICB3aW5kb3cua2FuLmNvbXBvc2l0aW9uLnNwbGljZShpLCAxKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoJ3BhdGhJZCcgaW4gc291bmQpIHtcbiAgICAgIGxldCBpdGVtID0gZ2V0SXRlbXMoe1xuICAgICAgICBtYXRjaDogZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICByZXR1cm4gZWwuaWQgPT09IHNvdW5kLnBhdGhJZFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChpdGVtLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaWYgKCEhaXRlbS5wYXJlbnQgJiYgaXRlbS5wYXJlbnQuY2xhc3NOYW1lID09PSAnR3JvdXAnICYmIGl0ZW0ucGFyZW50LmlkID09PSBzaGFwZUdyb3VwLmlkKSB7XG4gICAgICAgICAgd2luZG93Lmthbi5jb21wb3NpdGlvbi5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhclNvdW5kVGltZW91dHMoKSB7XG4gIGlmICh3aW5kb3cua2FuLnNvdW5kVGltZW91dHMubGVuZ3RoID4gMCkge1xuICAgIHdpbmRvdy5rYW4uc291bmRUaW1lb3V0cy5mb3JFYWNoKChzb3VuZFRpbWVvdXQpID0+IHtcbiAgICAgIGNsZWFyVGltZW91dChzb3VuZFRpbWVvdXQpO1xuICAgIH0pO1xuICB9XG5cbiAgd2luZG93Lmthbi5zb3VuZFRpbWVvdXRzID0gW107XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydENvbXBvc2l0aW9uKGNvbXBvc2l0aW9uLCBsb29wID0gZmFsc2UpIHtcbiAgc3RvcENvbXBvc2l0aW9uKCk7XG5cbiAgY29uc29sZS5sb2coJGJvZHkpO1xuXG4gIGxldCBpdGVyYXRpb25zID0gMDtcbiAgcGxheUNvbXBvc2l0aW9uRmlyc3RUaW1lKCk7XG5cbiAgZnVuY3Rpb24gcGxheUNvbXBvc2l0aW9uRmlyc3RUaW1lKCkge1xuICAgIGNsZWFyU291bmRUaW1lb3V0cygpO1xuICAgIGNvbnNvbGUubG9nKCdwbGF5aW5nIGNvbXBvc2l0aW9uIGZpcnN0IHRpbWUnKTtcbiAgICBsZXQgdHJpbW1lZENvbXBvc2l0aW9uT2JqID0gZ2V0VHJpbW1lZENvbXBvc2l0aW9uT2JqKGNvbXBvc2l0aW9uKTtcblxuICAgIEJhc2UuZWFjaCh0cmltbWVkQ29tcG9zaXRpb25PYmouY29tcG9zaXRpb24sIChzaGFwZSwgaSkgPT4ge1xuICAgICAgbGV0IHNvdW5kVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAoIXdpbmRvdy5rYW4ucGxheWluZykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdub3QgcGxheWluZywgcmV0dXJpbmcnKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2hhcGUuc3ByaXRlTmFtZSA9PT0gbnVsbCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCclY3NoYXBlIGlzIG51bGwnLCAnY29sb3I6cmVkJywgc2hhcGUpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnbm90IG51bGwnLCBzaGFwZSk7XG4gICAgICAgIH1cbiAgICAgICAgc2hhcGUuc291bmQucGxheShzaGFwZS5zcHJpdGVOYW1lKTtcbiAgICAgICAgYW5pbWF0ZU5vdGUoc2hhcGUpO1xuICAgICAgfSwgc2hhcGUuc3RhcnRUaW1lKTtcbiAgICAgIHdpbmRvdy5rYW4uc291bmRUaW1lb3V0cy5wdXNoKHNvdW5kVGltZW91dCk7XG4gICAgfSk7XG5cbiAgICBpdGVyYXRpb25zKys7XG4gICAgd2luZG93Lmthbi5jb21wb3NpdGlvblRpbWVvdXQgPSBzZXRUaW1lb3V0KHJlcGVhdENvbXBvc2l0aW9uLCBjb21wb3NpdGlvbkxlbmd0aCAtIHRyaW1tZWRDb21wb3NpdGlvbk9iai5zdGFydFRpbWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGxheUNvbXBvc2l0aW9uT25jZSgpIHtcbiAgICBjbGVhclNvdW5kVGltZW91dHMoKTtcbiAgICBjb25zb2xlLmxvZygncmVwZWF0Jyk7XG4gICAgQmFzZS5lYWNoKGNvbXBvc2l0aW9uLCAoc2hhcGUsIGkpID0+IHtcbiAgICAgIGxldCBzb3VuZFRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKCF3aW5kb3cua2FuLnBsYXlpbmcpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnbm90IHBsYXlpbmcsIHJldHVyaW5nJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc2hhcGUuc291bmQucGxheShzaGFwZS5zcHJpdGVOYW1lKTtcbiAgICAgICAgYW5pbWF0ZU5vdGUoc2hhcGUpO1xuICAgICAgfSwgc2hhcGUuc3RhcnRUaW1lKTtcbiAgICAgIHdpbmRvdy5rYW4uc291bmRUaW1lb3V0cy5wdXNoKHNvdW5kVGltZW91dCk7XG4gICAgfSk7XG4gICAgaXRlcmF0aW9ucysrO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVwZWF0Q29tcG9zaXRpb24oKSB7XG4gICAgaWYgKGxvb3AgPT09IHRydWUpIHtcbiAgICAgIHBsYXlDb21wb3NpdGlvbk9uY2UoKTtcbiAgICAgIHdpbmRvdy5rYW4uY29tcG9zaXRpb25JbnRlcnZhbCA9IHNldEludGVydmFsKHBsYXlDb21wb3NpdGlvbk9uY2UsIGNvbXBvc2l0aW9uTGVuZ3RoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGl0ZXJhdGlvbnMgPCAyKSB7XG4gICAgICAgIHBsYXlDb21wb3NpdGlvbk9uY2UoKTtcbiAgICAgICAgc2V0VGltZW91dChyZXBlYXRDb21wb3NpdGlvbiwgY29tcG9zaXRpb25MZW5ndGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3N0b3BwcHBwaW5nJyk7XG4gICAgICAgIHN0b3BQbGF5aW5nKCk7XG4gICAgICAgIG92ZXJsYXlzLm9wZW5PdmVybGF5KCdzaGFyZS1wcm9tcHQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0b3BDb21wb3NpdGlvbigpIHtcbiAgY2xlYXJJbnRlcnZhbCh3aW5kb3cua2FuLmNvbXBvc2l0aW9uSW50ZXJ2YWwpO1xuICBjbGVhclRpbWVvdXQod2luZG93Lmthbi5jb21wb3NpdGlvblRpbWVvdXQpO1xuICBjbGVhclNvdW5kVGltZW91dHMoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRyaW1tZWRDb21wb3NpdGlvbk9iaihjb21wb3NpdGlvbikge1xuICBsZXQgZmlyc3RUaW1lID0gMDtcbiAgbGV0IHRyaW1tZWRDb21wb3NpdGlvbiA9IFtdO1xuICBsZXQgc3RhcnRUaW1lID0gZ2V0Q29tcG9zaXRpb25TdGFydFRpbWUoY29tcG9zaXRpb24pO1xuXG4gIGNvbXBvc2l0aW9uLmZvckVhY2goKHNvdW5kKSA9PiB7XG4gICAgbGV0IG1vZGlmaWVkU291bmQgPSBzb3VuZDtcbiAgICBtb2RpZmllZFNvdW5kLnN0YXJ0VGltZSAtPSBzdGFydFRpbWU7XG4gICAgaWYgKG1vZGlmaWVkU291bmQuc3RhcnRUaW1lIDwgMCkgbW9kaWZpZWRTb3VuZC5zdGFydFRpbWUgPSAwOyAvLyB0aGlzIHNob3VsZG4ndCBoYXBwZW5cbiAgICB0cmltbWVkQ29tcG9zaXRpb24ucHVzaChtb2RpZmllZFNvdW5kKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBjb21wb3NpdGlvbjogdHJpbW1lZENvbXBvc2l0aW9uLFxuICAgIHN0YXJ0VGltZTogc3RhcnRUaW1lXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0Q29tcG9zaXRpb25TdGFydFRpbWUoY29tcG9zaXRpb24pIHtcbiAgbGV0IHN0YXJ0VGltZSA9IGNvbXBvc2l0aW9uTGVuZ3RoO1xuXG4gIGNvbXBvc2l0aW9uLmZvckVhY2goKHNvdW5kKSA9PiB7XG4gICAgY29uc29sZS5sb2coc291bmQpO1xuICAgIGNvbnNvbGUubG9nKHNvdW5kLnN0YXJ0VGltZSlcbiAgICBpZiAoJ3N0YXJ0VGltZScgaW4gc291bmQgJiYgc291bmQuc3RhcnRUaW1lIDwgc3RhcnRUaW1lKSB7XG4gICAgICBzdGFydFRpbWUgPSBzb3VuZC5zdGFydFRpbWU7XG4gICAgfVxuICB9KTtcblxuICBjb25zb2xlLmxvZygnc3RhcnQgdGltZScsIHN0YXJ0VGltZSk7XG5cbiAgaWYgKHN0YXJ0VGltZSAhPT0gY29tcG9zaXRpb25MZW5ndGgpIHtcbiAgICByZXR1cm4gc3RhcnRUaW1lO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAwO1xuICB9XG59XG4iLCJjb25zdCBvdmVybGF5cyA9IHJlcXVpcmUoJy4vb3ZlcmxheXMnKTtcbmNvbnN0IHZpZGVvID0gcmVxdWlyZSgnLi92aWRlbycpO1xuY29uc3QgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5jb25zdCAkYm9keSA9ICQoJ2JvZHknKTtcblxuZXhwb3J0IGNvbnN0IGRyYXdJbmFjdGl2aXR5RGVsYXkgPSA0MCAqIDEwMDA7IC8vIG1zXG5leHBvcnQgY29uc3QgY29udGludWVJbmFjdGl2aXR5RGVsYXkgPSAzMCAqIDEwMDA7IC8vIG1zXG5leHBvcnQgY29uc3QgcGxheVByb21wdERlbGF5ID0gNjAgKiAxMDAwOyAvLyBtcztcbmV4cG9ydCBjb25zdCBpbnB1dERlbGF5ID0gMTAwOyAvLyBtc1xuZXhwb3J0IGNvbnN0IHJlZnJlc2hDaGVja0RlbGF5ID0gNjAgKiAxMDAwOyAvLyBtc1xuXG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHtcbiAgaWYgKHdpbmRvdy5sb2NhdGlvbi5oYXNoLmxlbmd0aCA+IDAgJiYgd2luZG93LmxvY2F0aW9uLmhhc2ggPT0gJyNkZXYnKSB7XG4gICAgd2luZG93Lmthbi5vdmVybGF5cyA9IGZhbHNlO1xuICAgIHZpZGVvLnBhdXNlVmlkZW8oKTtcbiAgICB2aWRlby5leGl0VHV0b3JpYWxNb2RlKCk7XG4gIH0gZWxzZSB7XG4gICAgdmlkZW8uZW50ZXJUdXRvcmlhbE1vZGUoKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJldmVudEluYWN0aXZpdHlUaW1lb3V0KCkge1xuICBjb25zb2xlLmxvZyhgcHJldmVudCB0aW1lb3V0OiAke3V0aWwuZ2V0VGltZSgpfWApO1xuICAvLyBvdmVybGF5cy5jbG9zZUFuZFJlc2V0T3ZlcmxheXMoKTtcblxuICBjbGVhclRpbWVvdXQod2luZG93Lmthbi5pbmFjdGl2aXR5VGltZW91dCk7XG5cbiAgd2luZG93Lmthbi5pbmFjdGl2aXR5VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIG92ZXJsYXlzLm9wZW5PdmVybGF5KCdjb250aW51ZScpO1xuICB9LCBkcmF3SW5hY3Rpdml0eURlbGF5KTtcbn1cbiIsInJlcXVpcmUoJ2hhbW1lcmpzJyk7XG5cbmNvbnN0IGNvbmZpZyA9IHJlcXVpcmUoJy4vLi4vLi4vY29uZmlnJyk7XG5jb25zdCBzb3VuZCA9IHJlcXVpcmUoJy4vc291bmQnKTtcbmNvbnN0IGNvbG9yID0gcmVxdWlyZSgnLi9jb2xvcicpO1xuY29uc3Qgc2hhcGUgPSByZXF1aXJlKCcuL3NoYXBlJyk7XG5jb25zdCB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5jb25zdCB0dXRvcmlhbCA9IHJlcXVpcmUoJy4vdHV0b3JpYWwnKTtcbmNvbnN0IHRpbWluZyA9IHJlcXVpcmUoJy4vdGltaW5nJyk7XG5jb25zdCBvdmVybGF5cyA9IHJlcXVpcmUoJy4vb3ZlcmxheXMnKTtcbmNvbnN0IHVpID0gcmVxdWlyZSgnLi91aScpO1xuXG5jb25zdCAkYm9keSA9ICQoJ2JvZHknKTtcblxuY29uc3QgaGl0T3B0aW9ucyA9IHtcbiAgc2VnbWVudHM6IGZhbHNlLFxuICBzdHJva2U6IHRydWUsXG4gIGZpbGw6IHRydWUsXG4gIHRvbGVyYW5jZTogNVxufTtcblxuY29uc3QgbWluU2hhcGVTaXplID0gMTAwO1xuY29uc3QgbWF4U2NhbGVGYWN0b3IgPSAwLjg7XG5cbmxldCBvdXRlclBhdGg7XG5sZXQgc2l6ZXMgPSBbXTtcbmxldCBzaXplO1xubGV0IGN1bVNpemU7XG5sZXQgcHJldlBvaW50O1xuXG5leHBvcnQgbGV0IGhhbW1lclRpcHM7XG5leHBvcnQgbGV0IGhhbW1lckNhbnZhcztcblxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoKSB7XG4gIGhhbW1lclRpcHMgPSBuZXcgSGFtbWVyLk1hbmFnZXIodWkudGlwc092ZXJsYXkpO1xuICBoYW1tZXJUaXBzLmFkZChuZXcgSGFtbWVyLlN3aXBlKHsgZGlyZWN0aW9uOiBIYW1tZXIuRElSRUNUSU9OX0FMTCB9KSk7XG4gIGhhbW1lclRpcHMub24oJ3N3aXBlJywgb3ZlcmxheXMuY2FyZE5hdk5leHQpO1xuXG4gIGhhbW1lckNhbnZhcyA9IG5ldyBIYW1tZXIuTWFuYWdlcih1aS5jYW52YXMpO1xuICBoYW1tZXJDYW52YXMuYWRkKG5ldyBIYW1tZXIuVGFwKHsgZXZlbnQ6ICdkb3VibGV0YXAnLCB0YXBzOiAyLCBpbnRlcnZhbDogNDAwLCB0aW1lOiAxNTAsIHBvc1RocmVzaG9sZDogNTAgfSkpO1xuICBoYW1tZXJDYW52YXMuYWRkKG5ldyBIYW1tZXIuVGFwKHsgZXZlbnQ6ICdzaW5nbGV0YXAnIH0pKTtcbiAgaGFtbWVyQ2FudmFzLmFkZChuZXcgSGFtbWVyLlBhbih7IGRpcmVjdGlvbjogSGFtbWVyLkRJUkVDVElPTl9BTEwgfSkpO1xuICBoYW1tZXJDYW52YXMuYWRkKG5ldyBIYW1tZXIuUGluY2goKSk7XG5cbiAgaGFtbWVyQ2FudmFzLmdldCgnZG91YmxldGFwJykucmVjb2duaXplV2l0aCgnc2luZ2xldGFwJyk7XG4gIC8vIGhhbW1lckNhbnZhcy5nZXQoJ3NpbmdsZXRhcCcpLnJlcXVpcmVGYWlsdXJlKCdkb3VibGV0YXAnKTtcbiAgaGFtbWVyQ2FudmFzLmdldCgncGFuJykucmVxdWlyZUZhaWx1cmUoJ3BpbmNoJyk7XG4gIGhhbW1lckNhbnZhcy5nZXQoJ3BpbmNoJykucmVxdWlyZUZhaWx1cmUoJ3BhbicpO1xuXG4gIC8vIGhhbW1lckNhbnZhcy5vbignc2luZ2xldGFwJywgc2luZ2xlVGFwKTtcbiAgaGFtbWVyQ2FudmFzLm9uKCdkb3VibGV0YXAnLCBkb3VibGVUYXApO1xuXG4gIGhhbW1lckNhbnZhcy5vbigncGFuc3RhcnQnLCBwYW5TdGFydCk7XG4gIGhhbW1lckNhbnZhcy5vbigncGFubW92ZScsIHBhbk1vdmUpO1xuICBoYW1tZXJDYW52YXMub24oJ3BhbmVuZCcsIHBhbkVuZCk7XG4gIC8vIGhhbW1lckNhbnZhcy5vbigncGFuY2FuY2VsJywgcGFuQ2FuY2VsKTtcblxuICBoYW1tZXJDYW52YXMub24oJ3BpbmNoc3RhcnQnLCBwaW5jaFN0YXJ0KTtcbiAgaGFtbWVyQ2FudmFzLm9uKCdwaW5jaG1vdmUnLCBwaW5jaE1vdmUpO1xuICBoYW1tZXJDYW52YXMub24oJ3BpbmNoZW5kJywgcGluY2hFbmQpO1xuICAvLyBoYW1tZXJDYW52YXMub24oJ3BpbmNoY2FuY2VsJywgcGluY2hDYW5jZWwpO1xufVxuXG5mdW5jdGlvbiBlbmFibGVQYW5BbmRQaW5jaEV2ZW50cygpIHtcbiAgZW5hYmxlUGFuRXZlbnRzKCk7XG4gIGVuYWJsZVBpbmNoRXZlbnRzKCk7XG59XG5cbmZ1bmN0aW9uIGVuYWJsZVRhcEV2ZW50cyhlbmFibGUgPSB0cnVlKSB7XG4gIGVuYWJsZSA9IGVuYWJsZSA9PT0gdHJ1ZTtcbiAgaGFtbWVyQ2FudmFzLmdldCgnc2luZ2xldGFwJykuc2V0KHtlbmFibGU6IGVuYWJsZX0pO1xuICBoYW1tZXJDYW52YXMuZ2V0KCdkb3VibGV0YXAnKS5zZXQoe2VuYWJsZTogZW5hYmxlfSk7XG59XG5cbmZ1bmN0aW9uIGRpc2FibGVUYXBFdmVudHMoKSB7XG4gIGVuYWJsZVRhcEV2ZW50cyhmYWxzZSk7XG59XG5cbmZ1bmN0aW9uIGVuYWJsZVBhbkV2ZW50cyhlbmFibGUgPSB0cnVlKSB7XG4gIGVuYWJsZSA9IGVuYWJsZSA9PT0gdHJ1ZTtcblxuICBoYW1tZXJDYW52YXMuZ2V0KCdwYW4nKS5zZXQoe2VuYWJsZTogZW5hYmxlfSk7XG4gIC8vIGhhbW1lckNhbnZhcy5nZXQoJ3BhbnN0YXJ0Jykuc2V0KHtlbmFibGU6IGVuYWJsZX0pO1xuICAvLyBoYW1tZXJDYW52YXMuZ2V0KCdwYW5tb3ZlJykuc2V0KHtlbmFibGU6IGVuYWJsZX0pO1xuICAvLyBoYW1tZXJDYW52YXMuZ2V0KCdwYW5lbmQnKS5zZXQoe2VuYWJsZTogZW5hYmxlfSk7XG59XG5cbmZ1bmN0aW9uIGRpc2FibGVQYW5FdmVudHMoKSB7XG4gIGVuYWJsZVBhbkV2ZW50cyhmYWxzZSk7XG59XG5cbmZ1bmN0aW9uIGVuYWJsZVBpbmNoRXZlbnRzKGVuYWJsZSA9IHRydWUpIHtcbiAgZW5hYmxlID0gZW5hYmxlID09PSB0cnVlO1xuXG4gIGhhbW1lckNhbnZhcy5nZXQoJ3BpbmNoJykuc2V0KHtlbmFibGU6IGVuYWJsZX0pO1xuICAvLyBoYW1tZXJDYW52YXMuZ2V0KCdwaW5jaHN0YXJ0Jykuc2V0KHtlbmFibGU6IGVuYWJsZX0pO1xuICAvLyBoYW1tZXJDYW52YXMuZ2V0KCdwaW5jaG1vdmUnKS5zZXQoe2VuYWJsZTogZW5hYmxlfSk7XG4gIC8vIGhhbW1lckNhbnZhcy5nZXQoJ3BpbmNoZW5kJykuc2V0KHtlbmFibGU6IGVuYWJsZX0pO1xufVxuXG5mdW5jdGlvbiBkaXNhYmxlUGluY2hFdmVudHMoKSB7XG4gIGVuYWJsZVBpbmNoRXZlbnRzKGZhbHNlKTtcbn1cblxuZnVuY3Rpb24gc2luZ2xlVGFwKGV2ZW50KSB7XG4gIC8vIGNvbnNvbGUubG9nKGV2ZW50LnRhcmdldCk7XG4gIC8vIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIC8vIGlmICghZXZlbnRUYXJnZXRJc09uQ2FudmFzKGV2ZW50KSkgcmV0dXJuO1xuICB0dXRvcmlhbC5oaWRlQ29udGV4dHVhbFR1dHMoKTtcbiAgLy8gJChldmVudC50YXJnZXQpLmNsaWNrKCk7XG5cbiAgLy8gc291bmQuc3RvcFBsYXlpbmcoKTtcbiAgLy8gaWYgKCFldmVudFRhcmdldElzT25DYW52YXMoZXZlbnQpKSByZXR1cm47XG4gIC8vIGNvbnNvbGUubG9nKGV2ZW50KTtcbiAgLy8gdHV0b3JpYWwuaGlkZUNvbnRleHR1YWxUdXRzKCk7XG4gIC8vXG4gIC8vIHNvdW5kLnN0b3BQbGF5aW5nKCk7XG4gIC8vXG4gIC8vIGNvbnN0IHBvaW50ZXIgPSBldmVudC5jZW50ZXIsXG4gIC8vICAgICBwb2ludCA9IG5ldyBQb2ludChwb2ludGVyLngsIHBvaW50ZXIueSksXG4gIC8vICAgICBoaXRSZXN1bHQgPSBwYXBlci5wcm9qZWN0LmhpdFRlc3QocG9pbnQsIGhpdE9wdGlvbnMpO1xuICAvL1xuICAvLyBpZiAoaGl0UmVzdWx0KSB7XG4gIC8vICAgbGV0IGl0ZW0gPSBoaXRSZXN1bHQuaXRlbTtcbiAgLy8gICAvLyBpdGVtLnNlbGVjdGVkID0gIWl0ZW0uc2VsZWN0ZWQ7XG4gIC8vICAgY29uc29sZS5sb2coaXRlbSk7XG4gIC8vIH1cbn1cblxuZnVuY3Rpb24gZG91YmxlVGFwKGV2ZW50KSB7XG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgY29uc3QgcG9pbnRlciA9IGV2ZW50LmNlbnRlcixcbiAgICAgIHBvaW50ID0gbmV3IFBvaW50KHBvaW50ZXIueCwgcG9pbnRlci55KSxcbiAgICAgIGhpdFJlc3VsdCA9IHBhcGVyLnByb2plY3QuaGl0VGVzdChwb2ludCwgaGl0T3B0aW9ucyk7XG5cbiAgaWYgKCFldmVudFRhcmdldElzT25DYW52YXMoZXZlbnQpKSByZXR1cm47XG5cbiAgY29uc3QgdHJhbnNwYXJlbnQgPSBjb2xvci50cmFuc3BhcmVudDtcblxuICBpZiAoaGl0UmVzdWx0KSB7XG4gICAgbGV0IGl0ZW0gPSBoaXRSZXN1bHQuaXRlbTtcbiAgICBsZXQgcGFyZW50ID0gaXRlbS5wYXJlbnQ7XG5cbiAgICB0dXRvcmlhbC5oaWRlQ29udGV4dHVhbFR1dEJ5TmFtZSgnZmlsbCcpO1xuXG4gICAgaWYgKGl0ZW0uZGF0YS5pbnRlcmlvcikge1xuICAgICAgaXRlbS5kYXRhLnRyYW5zcGFyZW50ID0gIWl0ZW0uZGF0YS50cmFuc3BhcmVudDtcblxuICAgICAgaWYgKGl0ZW0uZGF0YS50cmFuc3BhcmVudCkge1xuICAgICAgICBpdGVtLmZpbGxDb2xvciA9IHRyYW5zcGFyZW50O1xuICAgICAgICBpdGVtLnN0cm9rZUNvbG9yID0gdHJhbnNwYXJlbnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVtLmZpbGxDb2xvciA9IHBhcmVudC5kYXRhLmNvbG9yO1xuICAgICAgICBpdGVtLnN0cm9rZUNvbG9yID0gcGFyZW50LmRhdGEuY29sb3I7XG4gICAgICB9XG5cbiAgICAgIHdpbmRvdy5rYW4ubW92ZXMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdmaWxsQ2hhbmdlJyxcbiAgICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICAgIGZpbGw6IHBhcmVudC5kYXRhLmNvbG9yLFxuICAgICAgICB0cmFuc3BhcmVudDogaXRlbS5kYXRhLnRyYW5zcGFyZW50XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ25vdCBpbnRlcmlvcicpXG4gICAgfVxuXG4gIH0gZWxzZSB7XG4gICAgd2luZG93Lmthbi5waW5jaGVkR3JvdXAgPSBudWxsO1xuICAgIGNvbnNvbGUubG9nKCdoaXQgbm8gaXRlbScpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBhblN0YXJ0KGV2ZW50KSB7XG4gIC8vIGNvbnNvbGUubG9nKGV2ZW50KTtcbiAgLy8gY29uc29sZS5sb2coJ3BhbnN0YXJ0Jyk7XG4gIC8vIHBhcGVyLnByb2plY3QuYWN0aXZlTGF5ZXIucmVtb3ZlQ2hpbGRyZW4oKTsgLy8gUkVNT1ZFXG4gIC8vIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgaWYgKCFldmVudFRhcmdldElzT25DYW52YXMoZXZlbnQpKSB7XG4gICAgd2luZG93Lmthbi5wYW5uaW5nID0gZmFsc2U7XG4gICAgdGltaW5nLnByZXZlbnRJbmFjdGl2aXR5VGltZW91dCgpO1xuICAgIC8vIGNoZWNrIGlmIHRpcHMgbW9kYWwgaXMgdXBcbiAgICBpZiAoJGJvZHkuaGFzQ2xhc3MoJ292ZXJsYXktYWN0aXZlIHRpcHMtYWN0aXZlJykpIHtcbiAgICAgIC8vIGlmIHNvLCBnbyB0byBuZXh0IHRpcCBjYXJkXG4gICAgICBvdmVybGF5cy5jYXJkTmF2TmV4dCgpO1xuICAgIH1cbiAgICBldmVudC5zcmNFdmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB3aW5kb3cua2FuLnBhbm5pbmcgPSB0cnVlO1xuICB0dXRvcmlhbC5oaWRlQ29udGV4dHVhbFR1dHMoKTtcblxuICBoYW1tZXJDYW52YXMub2ZmKCdwYW5zdGFydCcpO1xuICAvLyBoYW1tZXJDYW52YXMuZ2V0KCdwYW4nKS5zZXQoe2VuYWJsZTogZmFsc2V9KTtcbiAgZGlzYWJsZVBpbmNoRXZlbnRzKCk7XG4gIGRpc2FibGVUYXBFdmVudHMoKTtcblxuICAvLyBpZ25vcmUgb3RoZXIgdG91Y2ggaW5wdXRzXG4gIC8vIGlmICh3aW5kb3cua2FuLnBpbmNoaW5nKSByZXR1cm47XG4gIC8vIGlmICghKGV2ZW50LmNoYW5nZWRQb2ludGVycyAmJiBldmVudC5jaGFuZ2VkUG9pbnRlcnMubGVuZ3RoID4gMCkpIHJldHVybjtcbiAgLy8gaWYgKGV2ZW50LmNoYW5nZWRQb2ludGVycy5sZW5ndGggPiAxKSB7XG4gIC8vICAgY29uc29sZS5sb2coJ2V2ZW50LmNoYW5nZWRQb2ludGVycyA+IDEnKTtcbiAgLy8gfVxuXG4gIHNvdW5kLnN0b3BQbGF5aW5nKCk7XG5cbiAgd2luZG93Lmthbi5wcmV2QW5nbGUgPSBNYXRoLmF0YW4yKGV2ZW50LnZlbG9jaXR5WSwgZXZlbnQudmVsb2NpdHlYKTtcblxuICBjb25zdCBwb2ludGVyID0gZXZlbnQuY2VudGVyO1xuICBjb25zdCBwb2ludCA9IG5ldyBQb2ludChwb2ludGVyLngsIHBvaW50ZXIueSk7XG5cbiAgb3V0ZXJQYXRoID0gbmV3IFBhdGgoKTtcbiAgb3V0ZXJQYXRoLmZpbGxDb2xvciA9IHdpbmRvdy5rYW4uY3VycmVudENvbG9yO1xuICAvLyBvdXRlclBhdGguZmlsbENvbG9yID0gbmV3IENvbG9yKDAsIDAuNSk7XG5cbiAgc2l6ZXMgPSBbXTtcblxuICBsZXQgc2hhcGVQYXRoID0gbmV3IFBhdGgoe1xuICAgIHN0cm9rZUNvbG9yOiB3aW5kb3cua2FuLmN1cnJlbnRDb2xvcixcbiAgICBuYW1lOiAnc2hhcGVQYXRoJyxcbiAgICBzdHJva2VXaWR0aDogNSxcbiAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICBzdHJva2VDYXA6ICdyb3VuZCdcbiAgfSk7XG5cbiAgc2hhcGVQYXRoLmFkZChwb2ludCk7XG5cbiAgLy8gd2luZG93Lmthbi5jb3JuZXJzID0gW3BvaW50XTtcblxuICAvLyB3aW5kb3cua2FuLnNpZGVzID0gW107XG4gIC8vIHdpbmRvdy5rYW4uc2lkZSA9IFtwb2ludF07XG5cbiAgd2luZG93Lmthbi5wYXRoRGF0YVtzaGFwZS5zdHJpbmdpZnlQb2ludChwb2ludCldID0ge1xuICAgIHBvaW50OiBwb2ludCxcbiAgICBmaXJzdDogdHJ1ZVxuICB9O1xuXG4gIHdpbmRvdy5rYW4uc2hhcGVQYXRoID0gc2hhcGVQYXRoO1xufVxuXG5mdW5jdGlvbiBwYW5Nb3ZlKGV2ZW50KSB7XG4gIGNvbnNvbGUubG9nKCdwYW5tb3ZlJyk7XG4gIC8vIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIGlmICghZXZlbnRUYXJnZXRJc09uQ2FudmFzKGV2ZW50KSkge1xuICAgIGV2ZW50LnNyY0V2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAod2luZG93Lmthbi5wYW5uaW5nICE9PSB0cnVlKSByZXR1cm47XG5cbiAgY29uc3QgdGhyZXNob2xkQW5nbGVSYWQgPSB1dGlsLnJhZChzaGFwZS5jb3JuZXJUaHJlc2hvbGREZWcpO1xuXG4gIGNvbnN0IHBvaW50ZXIgPSBldmVudC5jZW50ZXI7XG4gIGxldCBwb2ludCA9IG5ldyBQb2ludChwb2ludGVyLngsIHBvaW50ZXIueSk7XG5cbiAgbGV0IGFuZ2xlID0gTWF0aC5hdGFuMihldmVudC52ZWxvY2l0eVksIGV2ZW50LnZlbG9jaXR5WCk7XG4gIGxldCBwcmV2QW5nbGUgPSB3aW5kb3cua2FuLnByZXZBbmdsZTtcbiAgbGV0IGFuZ2xlRGVsdGEgPSB1dGlsLmFuZ2xlRGVsdGEoYW5nbGUsIHByZXZBbmdsZSk7XG4gIHdpbmRvdy5rYW4ucHJldkFuZ2xlID0gYW5nbGU7XG5cbiAgLy8gbGV0IHNpZGUgPSB3aW5kb3cua2FuLnNpZGU7XG4gIC8vIGxldCBzaWRlcyA9IHdpbmRvdy5rYW4uc2lkZXM7XG5cbiAgLy8gaWYgKGFuZ2xlRGVsdGEgPiB0aHJlc2hvbGRBbmdsZVJhZCkge1xuICAvLyAgIGlmIChzaWRlLmxlbmd0aCA+IDApIHtcbiAgLy8gICAgIC8vIGNvbnNvbGUubG9nKCdjb3JuZXInKTtcbiAgLy8gICAgIGxldCBjb3JuZXJQb2ludCA9IHBvaW50O1xuICAvLyAgICAgLy8gbmV3IFBhdGguQ2lyY2xlKHtcbiAgLy8gICAgIC8vICAgY2VudGVyOiBjb3JuZXJQb2ludCxcbiAgLy8gICAgIC8vICAgcmFkaXVzOiAxNSxcbiAgLy8gICAgIC8vICAgc3Ryb2tlQ29sb3I6ICdibGFjaydcbiAgLy8gICAgIC8vIH0pO1xuICAvLyAgICAgLy8gd2luZG93Lmthbi5jb3JuZXJzLnB1c2goY29ybmVyUG9pbnQpO1xuICAvLyAgICAgc2lkZXMucHVzaChzaWRlKTtcbiAgLy8gICAgIHNpZGUgPSBbXTtcbiAgLy8gICB9XG4gIC8vIH1cblxuICAvLyBzaWRlLnB1c2gocG9pbnQpO1xuXG4gIHdoaWxlIChzaXplcy5sZW5ndGggPiAxMCkge1xuICAgIHNpemVzLnNoaWZ0KCk7XG4gIH1cbiAgaWYgKHNpemVzLmxlbmd0aCA+IDApIHtcbiAgICBjb25zdCBkaXN0ID0gcHJldlBvaW50LmdldERpc3RhbmNlKHBvaW50KTtcblxuICAgIC8vIFRoZXNlIGFyZSBiYXNlZCBvbiBhY2NlbGVyYXRpb25cbiAgICAvLyBzaXplID0gMzAgLSBNYXRoLm1pbihkaXN0ICogMC4zLCAzMCk7XG4gICAgLy8gc2l6ZSA9IGRpc3QgKiAzICsgNTtcbiAgICBzaXplID0gTWF0aC5yYW5kb20oKSAqIDEwOyAvLyBUaGlzIGlzIGp1c3QgcmFuZG9tIHZhcmlhbmNlXG5cbiAgICBjdW1TaXplID0gMDtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IHNpemVzLmxlbmd0aDsgaisrKSB7XG4gICAgICBjdW1TaXplICs9IHNpemVzW2pdO1xuICAgIH1cbiAgICAvLyBjb25zdCBhdmdTaXplID0gKChjdW1TaXplIC8gc2l6ZXMubGVuZ3RoKSArIHNpemUpIC8gMjtcbiAgICBjb25zdCBhdmdTaXplID0gTWF0aC5tYXgoNSwgKChjdW1TaXplIC8gc2l6ZXMubGVuZ3RoKSArIHNpemUpIC8gMik7XG5cbiAgICBjb25zdCBoYWxmUG9pbnRYID0gKHBvaW50LnggKyBwcmV2UG9pbnQueCkgLyAyO1xuICAgIGNvbnN0IGhhbGZQb2ludFkgPSAocG9pbnQueSArIHByZXZQb2ludC55KSAvIDI7XG4gICAgY29uc3QgaGFsZlBvaW50ID0gbmV3IFBvaW50KGhhbGZQb2ludFgsIGhhbGZQb2ludFkpO1xuXG4gICAgY29uc3QgdG9wWCA9IGhhbGZQb2ludC54ICsgTWF0aC5jb3MoYW5nbGUgLSBNYXRoLlBJLzIpICogYXZnU2l6ZTtcbiAgICBjb25zdCB0b3BZID0gaGFsZlBvaW50LnkgKyBNYXRoLnNpbihhbmdsZSAtIE1hdGguUEkvMikgKiBhdmdTaXplO1xuICAgIGNvbnN0IHRvcCA9IG5ldyBQb2ludCh0b3BYLCB0b3BZKTtcblxuICAgIGNvbnN0IGJvdHRvbVggPSBoYWxmUG9pbnQueCArIE1hdGguY29zKGFuZ2xlICsgTWF0aC5QSS8yKSAqIGF2Z1NpemU7XG4gICAgY29uc3QgYm90dG9tWSA9IGhhbGZQb2ludC55ICsgTWF0aC5zaW4oYW5nbGUgKyBNYXRoLlBJLzIpICogYXZnU2l6ZTtcbiAgICBjb25zdCBib3R0b20gPSBuZXcgUG9pbnQoYm90dG9tWCwgYm90dG9tWSk7XG5cbiAgICBvdXRlclBhdGguYWRkKHRvcCk7XG4gICAgb3V0ZXJQYXRoLmluc2VydCgwLCBib3R0b20pO1xuICAgIG91dGVyUGF0aC5zbW9vdGgoKTtcbiAgfSBlbHNlIHtcbiAgICBzaXplID0gNTtcbiAgfVxuXG4gIHNpemVzLnB1c2goc2l6ZSk7XG4gIHByZXZQb2ludCA9IHBvaW50O1xuXG4gIHdpbmRvdy5rYW4ucGF0aERhdGFbc2hhcGUuc3RyaW5naWZ5UG9pbnQocG9pbnQpXSA9IHtcbiAgICBwb2ludDogcG9pbnQsXG4gICAgc3BlZWQ6IE1hdGguYWJzKGV2ZW50Lm92ZXJhbGxWZWxvY2l0eSksXG4gICAgYW5nbGU6IGFuZ2xlXG4gIH07XG5cbiAgd2luZG93Lmthbi5zaGFwZVBhdGguYWRkKHBvaW50KTtcbiAgLy8gd2luZG93Lmthbi5zaWRlcyA9IHNpZGVzO1xuICAvLyB3aW5kb3cua2FuLnNpZGUgPSBzaWRlO1xuXG4gIHBhcGVyLnZpZXcuZHJhdygpO1xufVxuXG5mdW5jdGlvbiBwYW5FbmQoZXZlbnQpIHtcbiAgY29uc29sZS5sb2coJ3BhbmVuZCcpO1xuICAvLyBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICBpZiAoIWV2ZW50VGFyZ2V0SXNPbkNhbnZhcyhldmVudCkpIHtcbiAgICBldmVudC5zcmNFdmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHdpbmRvdy5rYW4ucGFubmluZyAhPT0gdHJ1ZSkgcmV0dXJuO1xuXG4gIGNvbnN0IHBvaW50ZXIgPSBldmVudC5jZW50ZXI7XG4gIGNvbnN0IHBvaW50ID0gbmV3IFBvaW50KHBvaW50ZXIueCwgcG9pbnRlci55KTtcblxuICBjb25zdCB0cmFuc3BhcmVudCA9IGNvbG9yLnRyYW5zcGFyZW50O1xuICBjb25zdCBjb2xvck5hbWUgPSBjb2xvci5nZXRDb2xvck5hbWUod2luZG93Lmthbi5jdXJyZW50Q29sb3IpO1xuXG4gIGxldCBzaGFwZVBhdGggPSB3aW5kb3cua2FuLnNoYXBlUGF0aDtcbiAgLy8gbGV0IHNpZGUgPSB3aW5kb3cua2FuLnNpZGU7XG4gIC8vIGxldCBzaWRlcyA9IHdpbmRvdy5rYW4uc2lkZXM7XG4gIC8vIGxldCBjb3JuZXJzID0gd2luZG93Lmthbi5jb3JuZXJzO1xuXG4gIHNoYXBlUGF0aC5hZGQocG9pbnQpO1xuICBvdXRlclBhdGgudmlzaWJsZSA9IGZhbHNlO1xuXG4gIGlmIChzaGFwZVBhdGgubGVuZ3RoIDwgbWluU2hhcGVTaXplKSB7XG4gICAgY29uc29sZS5sb2coJ3BhdGggaXMgdG9vIHNob3J0Jyk7XG4gICAgc2hhcGVQYXRoLnJlbW92ZSgpO1xuICAgIGhhbW1lckNhbnZhcy5vbigncGFuc3RhcnQnLCBwYW5TdGFydCk7XG4gICAgZW5hYmxlUGFuQW5kUGluY2hFdmVudHMoKTtcbiAgICBlbmFibGVUYXBFdmVudHMoKTtcbiAgICB3aW5kb3cua2FuLnBhbm5pbmcgPSBmYWxzZTtcbiAgICByZXR1cm47XG4gIH1cblxuICB3aW5kb3cua2FuLnBhdGhEYXRhW3NoYXBlLnN0cmluZ2lmeVBvaW50KHBvaW50KV0gPSB7XG4gICAgcG9pbnQ6IHBvaW50LFxuICAgIGxhc3Q6IHRydWVcbiAgfTtcblxuICAvLyBzaWRlLnB1c2gocG9pbnQpO1xuICAvLyBzaWRlcy5wdXNoKHNpZGUpO1xuICAvLyBjb3JuZXJzLnB1c2gocG9pbnQpO1xuXG4gIGxldCBncm91cCA9IG5ldyBHcm91cCgpO1xuXG4gIGxldCB0cnVlZFNoYXBlID0gc2hhcGUuZ2V0VHJ1ZWRTaGFwZShzaGFwZVBhdGgpO1xuXG4gIC8vIGdyb3VwLmRhdGEuY29sb3IgPSB0cnVlZFNoYXBlLnN0cm9rZUNvbG9yO1xuICBjb25zb2xlLmxvZygnY3VycmVudEdyYWRpZW50OicsIGNvbmZpZy5wYWxldHRlLmdyYWRpZW50c1t3aW5kb3cua2FuLmN1cnJlbnRDb2xvcl0pO1xuXG4gIGNvbnN0IHNoYXBlU2l6ZSA9IHRydWVkU2hhcGUuc3Ryb2tlQm91bmRzO1xuICBjb25zdCBjZW50ZXJQb2ludCA9IG5ldyBQb2ludChzaGFwZVNpemUud2lkdGggLyAyLCBzaGFwZVNpemUuaGVpZ2h0IC8gMik7XG4gIGNvbnN0IGFuZ2xlID0gdXRpbC5yYWQoTWF0aC5yYW5kb20oKSAqIDM2MCk7XG4gIGNvbnN0IGdyYWRpZW50U2l6ZSA9IChzaGFwZVNpemUud2lkdGggKyBzaGFwZVNpemUuaGVpZ2h0KSAvIDQ7XG4gIGNvbnN0IG9yaWdpblggPSBjZW50ZXJQb2ludC54ICsgTWF0aC5jb3MoYW5nbGUgLSBNYXRoLlBJLzIpICogZ3JhZGllbnRTaXplO1xuICBjb25zdCBvcmlnaW5ZID0gY2VudGVyUG9pbnQueSArIE1hdGguc2luKGFuZ2xlIC0gTWF0aC5QSS8yKSAqIGdyYWRpZW50U2l6ZTtcbiAgY29uc3QgZGVzdGluYXRpb25YID0gY2VudGVyUG9pbnQueCArIE1hdGguY29zKGFuZ2xlICsgTWF0aC5QSS8yKSAqIGdyYWRpZW50U2l6ZTtcbiAgY29uc3QgZGVzdGluYXRpb25ZID0gY2VudGVyUG9pbnQueSArIE1hdGguc2luKGFuZ2xlICsgTWF0aC5QSS8yKSAqIGdyYWRpZW50U2l6ZTtcblxuICBjb25zdCBvcmlnaW4gPSBuZXcgUG9pbnQob3JpZ2luWCArIHNoYXBlU2l6ZS54LCBvcmlnaW5ZICsgc2hhcGVTaXplLnkpO1xuICBjb25zdCBkZXN0aW5hdGlvbiA9IG5ldyBQb2ludChkZXN0aW5hdGlvblggKyBzaGFwZVNpemUueCwgZGVzdGluYXRpb25ZICsgc2hhcGVTaXplLnkpO1xuICAvLyBncm91cC5hZGRDaGlsZChuZXcgUGF0aC5DaXJjbGUoe1xuICAvLyAgIGNlbnRlcjogb3JpZ2luLFxuICAvLyAgIHJhZGl1czogNSxcbiAgLy8gICBmaWxsQ29sb3I6ICdyZWQnLFxuICAvLyB9KSk7XG4gIC8vIGdyb3VwLmFkZENoaWxkKG5ldyBQYXRoLkNpcmNsZSh7XG4gIC8vICAgY2VudGVyOiBkZXN0aW5hdGlvbixcbiAgLy8gICByYWRpdXM6IDUsXG4gIC8vICAgZmlsbENvbG9yOiAnZ3JlZW4nLFxuICAvLyB9KSk7XG4gIGdyb3VwLmRhdGEub3JpZ2luYWxDb2xvciA9IHdpbmRvdy5rYW4uY3VycmVudENvbG9yO1xuICBncm91cC5kYXRhLmNvbG9yID0ge1xuICAgIGdyYWRpZW50OiB7XG4gICAgICBzdG9wczogY29uZmlnLnBhbGV0dGUuZ3JhZGllbnRzW3dpbmRvdy5rYW4uY3VycmVudENvbG9yXSxcbiAgICB9LFxuICAgIG9yaWdpbjogb3JpZ2luLFxuICAgIGRlc3RpbmF0aW9uOiBkZXN0aW5hdGlvbixcbiAgfTtcbiAgZ3JvdXAuZGF0YS5zY2FsZSA9IDE7IC8vIGluaXQgdmFyaWFibGUgdG8gdHJhY2sgc2NhbGUgY2hhbmdlc1xuICBncm91cC5kYXRhLnJvdGF0aW9uID0gMDsgLy8gaW5pdCB2YXJpYWJsZSB0byB0cmFjayByb3RhdGlvbiBjaGFuZ2VzXG5cbiAgc2hhcGVQYXRoLnJlbW92ZSgpO1xuICB0cnVlZFNoYXBlLnZpc2libGUgPSBmYWxzZTtcbiAgLy8gdHJ1ZWRTaGFwZS5zdHJva2VDb2xvciA9IHdpbmRvdy5rYW4uY3VycmVudENvbG9yO1xuICB0cnVlZFNoYXBlLnN0cm9rZUNvbG9yID0gbmV3IENvbG9yKDAsIDApO1xuICB3aW5kb3cua2FuLnNoYXBlUGF0aCA9IHRydWVkU2hhcGU7XG4gIHRydWVkU2hhcGUubmFtZSA9ICdzaGFwZVBhdGgnO1xuXG4gIGlmICghKHRydWVkU2hhcGUubGVuZ3RoID4gMCkpIHtcbiAgICB0cnVlZFNoYXBlLnJlbW92ZSgpO1xuICAgIGdyb3VwLnJlbW92ZSgpO1xuICAgIHdpbmRvdy5rYW4ucGFubmluZyA9IGZhbHNlO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGdyb3VwLmFkZENoaWxkKHRydWVkU2hhcGUpO1xuXG4gIGxldCBzaGFwZVNvdW5kT2JqID0gc291bmQuZ2V0U2hhcGVTb3VuZE9iaih0cnVlZFNoYXBlKTtcbiAgd2luZG93Lmthbi5jb21wb3NpdGlvbi5wdXNoKHNoYXBlU291bmRPYmopO1xuXG4gIHRydWVkU2hhcGUudmlzaWJsZSA9IGZhbHNlO1xuICBjb25zdCBvdXRsaW5lR3JvdXAgPSBzaGFwZS5nZXRPdXRsaW5lR3JvdXAodHJ1ZWRTaGFwZSk7XG4gIGNvbnNvbGUubG9nKCdvdXRsaW5lR3JvdXAnLCBvdXRsaW5lR3JvdXApO1xuICBjb25zdCBvdXRsaW5lID0gb3V0bGluZUdyb3VwLl9uYW1lZENoaWxkcmVuLm91dGVyWzBdO1xuICBvdXRsaW5lLmZpbGxDb2xvciA9IHdpbmRvdy5rYW4uY3VycmVudENvbG9yO1xuICBvdXRsaW5lLmZpbGxDb2xvciA9IGdyb3VwLmRhdGEuY29sb3I7XG5cbiAgY29uc3Qgb3V0bGluZUNlbnRlciA9IG91dGxpbmVHcm91cC5fbmFtZWRDaGlsZHJlbi5taWRkbGVbMF07XG4gIG91dGxpbmVDZW50ZXIuc3Ryb2tlQ29sb3IgPSBncm91cC5kYXRhLmNvbG9yO1xuICBvdXRsaW5lQ2VudGVyLnZpc2libGUgPSBmYWxzZTtcbiAgLy8gb3V0bGluZS5maWxsQ29sb3IgPSBuZXcgQ29sb3IoMSwgMSwgMCwgMC41KTtcbiAgZ3JvdXAuYWRkQ2hpbGQob3V0bGluZSk7XG4gIC8vIG91dGxpbmUuc2hhZG93Q29sb3IgPSBuZXcgQ29sb3IoMCwgMCwgMCwgMC4yKTtcbiAgLy8gb3V0bGluZS5zaGFkb3dCbHVyID0gMC4yNTtcbiAgLy8gb3V0bGluZS5zaGFkb3dPZmZzZXQgPSAtMTtcbiAgb3V0bGluZS5zZW5kVG9CYWNrKCk7XG5cbiAgLy8gdHJ1ZWRTaGFwZSA9IHRydWVkU2hhcGUuaW50ZXJzZWN0KG91dGxpbmUpOyAvLyBtYWtlIHN1cmUgdGhhdCB0aGUgdHJ1ZWQgc2hhcGUgaXMgd2l0aGluIHRoZSBvdXRsaW5lXG4gIC8vIGNvbnNvbGUubG9nKCd0cnVlZFNoYXBlIGFmdGVyJywgdHJ1ZWRTaGFwZSk7XG4gIC8vIHRydWVkU2hhcGUuc2VsZWN0ZWQgPSB0cnVlO1xuXG4gIGxldCBlbmNsb3NlZExvb3BzID0gc2hhcGUuZmluZEludGVyaW9yQ3VydmVzKG91dGxpbmVDZW50ZXIpO1xuICBjb25zb2xlLmxvZygnZW5jbG9zZWRMb29wcycsIGVuY2xvc2VkTG9vcHMpXG4gIEJhc2UuZWFjaChlbmNsb3NlZExvb3BzLCAobG9vcCwgaSkgPT4ge1xuICAgIGdyb3VwLmFkZENoaWxkKGxvb3ApO1xuICAgIGxvb3Auc2VuZFRvQmFjaygpO1xuICB9KTtcblxuICAvLyBvdXRsaW5lQ2VudGVyLnJlbW92ZSgpO1xuXG4gIHdpbmRvdy5rYW4ubW92ZXMucHVzaCh7XG4gICAgdHlwZTogJ25ld0dyb3VwJyxcbiAgICBpZDogZ3JvdXAuaWRcbiAgfSk7XG5cblxuICB1aS51bmRpdGhlckJ1dHRvbnNCeU5hbWUoWyduZXcnLCAndW5kbyddKTtcblxuICBpZiAod2luZG93Lmthbi51c2VySGFzRHJhd25GaXJzdFNoYXBlICE9PSB0cnVlKSB7XG4gICAgLy8gZmlyc3Qgc2hhcGUhXG4gICAgLy8gc2V0IHBsYXkgcHJvbXB0IHRpbWVvdXRcbiAgICB3aW5kb3cua2FuLnBsYXlQcm9tcHRUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBvdmVybGF5cy5vcGVuT3ZlcmxheSgncGxheS1wcm9tcHQnKTtcbiAgICB9LCB0aW1pbmcucGxheVByb21wdERlbGF5KTtcblxuICAgIHdpbmRvdy5rYW4udXNlckhhc0RyYXduRmlyc3RTaGFwZSA9IHRydWU7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgZ3JvdXBzID0gdXRpbC5nZXRBbGxHcm91cHMoKTtcbiAgICBpZiAoZ3JvdXBzLmxlbmd0aCA+PSAzKSB7XG4gICAgICAkYm9keS5hZGRDbGFzcyhzb3VuZC5wbGF5RW5hYmxlZENsYXNzKTtcbiAgICAgIHVpLnVuZGl0aGVyQnV0dG9uc0J5TmFtZShbJ3BsYXktc3RvcCcsICdzaGFyZSddKTtcbiAgICB9XG4gICAgY29uc29sZS5sb2coZ3JvdXBzLmxlbmd0aCwgJGJvZHkuaGFzQ2xhc3Moc291bmQucGxheUVuYWJsZWRDbGFzcykpO1xuICB9XG5cbiAgaWYgKGNvbmZpZy5ydW5BbmltYXRpb25zKSB7XG4gICAgY29uc3Qgc2NhbGVGYWN0b3IgPSAwLjk7XG4gICAgZ3JvdXAuYW5pbWF0ZShcbiAgICAgIFt7XG4gICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICBzY2FsZTogc2NhbGVGYWN0b3JcbiAgICAgICAgfSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBkdXJhdGlvbjogMTAwLFxuICAgICAgICAgIGVhc2luZzogXCJlYXNlT3V0XCIsXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICBzY2FsZTogMSAvIHNjYWxlRmFjdG9yXG4gICAgICAgIH0sXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgZHVyYXRpb246IDEwMCxcbiAgICAgICAgICBlYXNpbmc6IFwiZWFzZUluXCIsXG4gICAgICAgIH1cbiAgICAgIH1dXG4gICAgKTtcbiAgfVxuXG4gIGlmICghdHV0b3JpYWwuYWxsVHV0c0NvbXBsZXRlZCgpKSB7XG4gICAgY29uc3QgdHV0b3JpYWxDb21wbGV0aW9uID0gd2luZG93Lmthbi50dXRvcmlhbENvbXBsZXRpb247XG4gICAgbGV0IHR1dE5hbWUgPSBudWxsO1xuXG4gICAgaWYgKCF0dXRvcmlhbENvbXBsZXRpb25bJ2ZpbGwnXSAmJiB0cnVlZFNoYXBlLmNsb3NlZCkge1xuICAgICAgdHV0TmFtZSA9ICdmaWxsJztcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGdyb3VwcyA9IHBhcGVyLnByb2plY3QuZ2V0SXRlbXMoe1xuICAgICAgICBtYXRjaDogZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICByZXR1cm4gZWwuY2xhc3NOYW1lID09PSAnR3JvdXAnXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCF0dXRvcmlhbENvbXBsZXRpb25bJ3BpbmNoJ10gJiYgZ3JvdXBzLmxlbmd0aCA+PSAzKSB7XG4gICAgICAgIHR1dE5hbWUgPSAncGluY2gnO1xuICAgICAgfSBlbHNlIGlmICghdHV0b3JpYWxDb21wbGV0aW9uWydzd2lwZSddICYmIGdyb3Vwcy5sZW5ndGggPj0gNSkge1xuICAgICAgICB0dXROYW1lID0gJ3N3aXBlJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHV0TmFtZSAhPT0gbnVsbCkge1xuICAgICAgY29uc29sZS5sb2coYCR7dHV0TmFtZX0gdHV0b3JpYWxgKTtcbiAgICAgIHR1dG9yaWFsLmFkZENvbnRleHR1YWxUdXQodHV0TmFtZSk7XG4gICAgICB3aW5kb3cua2FuLnR1dG9yaWFsQ29tcGxldGlvblt0dXROYW1lXSA9IHRydWU7XG4gICAgICBncm91cC5kYXRhLnR1dCA9IHR1dE5hbWU7XG4gICAgfVxuICB9XG5cbiAgLy8gd2luZG93Lmthbi5zaWRlID0gc2lkZTtcbiAgLy8gd2luZG93Lmthbi5zaWRlcyA9IHNpZGVzO1xuICAvLyB3aW5kb3cua2FuLmNvcm5lcnMgPSBjb3JuZXJzO1xuICBpZiAod2luZG93Lmthbi5zY2hlZHVsZWRPdmVybGF5ICE9PSBudWxsKSB7XG4gICAgd2luZG93Lmthbi5zY2hlZHVsZWRPdmVybGF5ID0gbnVsbDtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgb3ZlcmxheXMub3Blbk92ZXJsYXkod2luZG93Lmthbi5zY2hlZHVsZWRPdmVybGF5KTtcbiAgICB9LCB0aW1pbmcub3ZlcmxheURlbGF5KTtcbiAgfVxuXG4gIGNvbnNvbGUubG9nKCdwYW4gZG9uZScpO1xuICBoYW1tZXJDYW52YXMuc2V0KHsgZW5hYmxlOiBmYWxzZSB9KTtcbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgaGFtbWVyQ2FudmFzLnNldCh7IGVuYWJsZTogdHJ1ZSB9KTtcbiAgICBjb25zb2xlLmxvZygndG91Y2ggZW5hYmxlZCcpO1xuICAgIGhhbW1lckNhbnZhcy5vbigncGFuc3RhcnQnLCBwYW5TdGFydCk7XG4gICAgZW5hYmxlUGFuQW5kUGluY2hFdmVudHMoKTtcbiAgICBlbmFibGVUYXBFdmVudHMoKTtcblxuICAgIHdpbmRvdy5rYW4ucGFubmluZyA9IGZhbHNlO1xuICB9LCB0aW1pbmcuaW5wdXREZWxheSk7XG59XG5cbmZ1bmN0aW9uIHBhbkNhbmNlbChldmVudCkge1xuICBjb25zb2xlLmxvZygncGFuY2FuY2VsJyk7XG4gIGV2ZW50LnNyY0V2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAvLyBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIGhhbW1lckNhbnZhcy5zZXQoeyBlbmFibGU6IHRydWUgfSk7XG4gIGhhbW1lckNhbnZhcy5vbigncGFuc3RhcnQnLCBwYW5TdGFydCk7XG4gIGVuYWJsZVBhbkFuZFBpbmNoRXZlbnRzKCk7XG4gIGVuYWJsZVRhcEV2ZW50cygpO1xuICB3aW5kb3cua2FuLnBhbm5pbmcgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gcGluY2hTdGFydChldmVudCkge1xuICBjb25zb2xlLmxvZygncGluY2hzdGFydCcpO1xuICB0dXRvcmlhbC5oaWRlQ29udGV4dHVhbFR1dHMoKTtcbiAgd2luZG93Lmthbi5pbnRlcmFjdGluZyA9IHRydWU7XG4gIHdpbmRvdy5rYW4ucGluY2hpbmcgPSB0cnVlO1xuICAvLyBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIC8vIGhhbW1lckNhbnZhcy5nZXQoJ3BpbmNoc3RhcnQnKS5zZXQoe2VuYWJsZTogZmFsc2V9KTtcbiAgaGFtbWVyQ2FudmFzLm9mZigncGluY2hzdGFydCcpO1xuICBkaXNhYmxlUGFuRXZlbnRzKCk7XG4gIGRpc2FibGVUYXBFdmVudHMoKTtcblxuICBpZiAoIWV2ZW50VGFyZ2V0SXNPbkNhbnZhcyhldmVudCkpIHJldHVybjtcblxuICBjb25zb2xlLmxvZygncGluY2hTdGFydCcsIGV2ZW50LmNlbnRlcik7XG4gIHNvdW5kLnN0b3BQbGF5aW5nKCk7XG5cbiAgY29uc3QgcG9pbnRlciA9IGV2ZW50LmNlbnRlcixcbiAgICAgIHBvaW50ID0gbmV3IFBvaW50KHBvaW50ZXIueCwgcG9pbnRlci55KSxcbiAgICAgIGhpdFJlc3VsdCA9IHNoYXBlLmhpdFRlc3RHcm91cEJvdW5kcyhwb2ludCk7XG5cbiAgaWYgKGhpdFJlc3VsdCkge1xuICAgIHdpbmRvdy5rYW4ucGluY2hpbmcgPSB0cnVlO1xuICAgIHdpbmRvdy5rYW4ucGluY2hlZEdyb3VwID0gaGl0UmVzdWx0O1xuICAgIHdpbmRvdy5rYW4ubGFzdFNjYWxlID0gMTtcbiAgICB3aW5kb3cua2FuLmxhc3RSb3RhdGlvbiA9IGV2ZW50LnJvdGF0aW9uO1xuXG4gICAgd2luZG93Lmthbi5vcmlnaW5hbFBvc2l0aW9uID0gaGl0UmVzdWx0LnBvc2l0aW9uO1xuICAgIHdpbmRvdy5rYW4ub3JpZ2luYWxSb3RhdGlvbiA9IGhpdFJlc3VsdC5kYXRhLnJvdGF0aW9uO1xuICAgIHdpbmRvdy5rYW4ub3JpZ2luYWxTY2FsZSA9IGhpdFJlc3VsdC5kYXRhLnNjYWxlO1xuXG4gICAgaGl0UmVzdWx0LmJyaW5nVG9Gcm9udCgpO1xuXG4gICAgaWYgKGhpdFJlc3VsdC5kYXRhLnR1dCAmJiBoaXRSZXN1bHQuZGF0YS50dXQubGVuZ3RoID4gMCkge1xuICAgICAgbGV0ICR0dXQgPSAkKGAudHV0W2RhdGEtdHV0LXR5cGU9JyR7aGl0UmVzdWx0LmRhdGEudHV0fSddYCk7XG4gICAgICBpZiAoJHR1dCkge1xuICAgICAgICB3aW5kb3cua2FuLnBpbmNoZWRUdXQgPSAkdHV0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93Lmthbi5waW5jaGVkVHV0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgd2luZG93Lmthbi5waW5jaGVkVHV0ID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBpZiAoY29uZmlnLnJ1bkFuaW1hdGlvbnMpIHtcbiAgICAvLyAgIGhpdFJlc3VsdC5hbmltYXRlKHtcbiAgICAvLyAgICAgcHJvcGVydGllczoge1xuICAgIC8vICAgICAgIHNjYWxlOiAxLjI1XG4gICAgLy8gICAgIH0sXG4gICAgLy8gICAgIHNldHRpbmdzOiB7XG4gICAgLy8gICAgICAgZHVyYXRpb246IDEwMCxcbiAgICAvLyAgICAgICBlYXNpbmc6IFwiZWFzZU91dFwiLFxuICAgIC8vICAgICB9XG4gICAgLy8gICB9KTtcbiAgICAvLyB9XG4gIH0gZWxzZSB7XG4gICAgd2luZG93Lmthbi5waW5jaGVkR3JvdXAgPSBudWxsO1xuICAgIHdpbmRvdy5rYW4ucGluY2hlZFR1dCA9IG51bGw7XG4gICAgY29uc29sZS5sb2coJ2hpdCBubyBpdGVtJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcGluY2hNb3ZlKGV2ZW50KSB7XG4gIGNvbnNvbGUubG9nKCdwaW5jaE1vdmUnKTtcbiAgLy8gZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICBjb25zdCB2aWV3V2lkdGggPSBwYXBlci52aWV3LnZpZXdTaXplLndpZHRoO1xuICBjb25zdCB2aWV3SGVpZ2h0ID0gcGFwZXIudmlldy52aWV3U2l6ZS5oZWlnaHQ7XG4gIGxldCBwaW5jaGVkR3JvdXAgPSB3aW5kb3cua2FuLnBpbmNoZWRHcm91cDtcbiAgbGV0ICRwaW5jaGVkVHV0ID0gd2luZG93Lmthbi5waW5jaGVkVHV0O1xuXG4gIGlmICghIXBpbmNoZWRHcm91cCkge1xuICAgIGxldCBjdXJyZW50U2NhbGUgPSBldmVudC5zY2FsZTtcbiAgICBsZXQgc2NhbGVEZWx0YTtcblxuICAgIHR1dG9yaWFsLmhpZGVDb250ZXh0dWFsVHV0QnlOYW1lKCdwaW5jaCcpO1xuXG4gICAgaWYgKHBpbmNoZWRHcm91cC5ib3VuZHMud2lkdGggPCBtaW5TaGFwZVNpemUgfHwgcGluY2hlZEdyb3VwLmJvdW5kcy5oZWlnaHQgPCBtaW5TaGFwZVNpemUpIHtcbiAgICAgIC8vIG9ubHkgYWxsb3cgYSBzaGFwZSB0byBzY2FsZSBkb3duIGlmIGl0IGlzIGxhcmdlciB0aGFuIHRoZSBtaW5pbXVtIHNpemVcbiAgICAgIHNjYWxlRGVsdGEgPSAxLjE7XG4gICAgfSBlbHNlIGlmIChwaW5jaGVkR3JvdXAuYm91bmRzLndpZHRoID49IHBhcGVyLnZpZXcudmlld1NpemUud2lkdGggfHxcbiAgICAgICAgcGluY2hlZEdyb3VwLmJvdW5kcy5oZWlnaHQgPj0gcGFwZXIudmlldy52aWV3U2l6ZS5oZWlnaHQpIHtcbiAgICAgIC8vIG9ubHkgYWxsb3cgc2hhcGUgdG8gc2NhbGUgdXAgaWYgaXQgZml0cyBpbiB0aGUgdmlld3BvcnRcbiAgICAgIHNjYWxlRGVsdGEgPSAwLjk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjYWxlRGVsdGEgPSBjdXJyZW50U2NhbGUgLyB3aW5kb3cua2FuLmxhc3RTY2FsZTtcbiAgICB9XG5cbiAgICB3aW5kb3cua2FuLmxhc3RTY2FsZSA9IGN1cnJlbnRTY2FsZTtcblxuICAgIGxldCBjdXJyZW50Um90YXRpb24gPSBldmVudC5yb3RhdGlvbjtcbiAgICBsZXQgcm90YXRpb25EZWx0YSA9IGN1cnJlbnRSb3RhdGlvbiAtIHdpbmRvdy5rYW4ubGFzdFJvdGF0aW9uO1xuICAgIHdpbmRvdy5rYW4ubGFzdFJvdGF0aW9uID0gY3VycmVudFJvdGF0aW9uO1xuXG4gICAgLy8gY29uc29sZS5sb2coYHNjYWxpbmcgYnkgJHtzY2FsZURlbHRhfWApO1xuICAgIC8vIGNvbnNvbGUubG9nKGByb3RhdGluZyBieSAke3JvdGF0aW9uRGVsdGF9YCk7XG5cbiAgICBjb25zdCBjZW50ZXJQb2ludCA9IGV2ZW50LmNlbnRlcjtcbiAgICBwaW5jaGVkR3JvdXAucG9zaXRpb24gPSBjZW50ZXJQb2ludDtcbiAgICBpZiAoISEkcGluY2hlZFR1dCkge1xuICAgICAgdHV0b3JpYWwubW92ZUNvbnRleHR1YWxUdXQoJHBpbmNoZWRUdXQsIGNlbnRlclBvaW50KTtcbiAgICB9XG5cbiAgICBpZiAoc2NhbGVEZWx0YSAhPT0gMSkge1xuICAgICAgcGluY2hlZEdyb3VwLnNjYWxlKHNjYWxlRGVsdGEpO1xuXG4gICAgICAvLyBjaGVjayBpZiBzY2FsaW5nIHdlbnQgYXdyeSwgY2Fubm90IGJlIHRvbyBiaWcgb3IgdG9vIHNtYWxsXG4gICAgICBpZiAocGluY2hlZEdyb3VwLmJvdW5kcy53aWR0aCA+PSBwYXBlci52aWV3LnZpZXdTaXplLndpZHRoICogbWF4U2NhbGVGYWN0b3IgfHxcbiAgICAgICAgcGluY2hlZEdyb3VwLmJvdW5kcy5oZWlnaHQgPj0gcGFwZXIudmlldy52aWV3U2l6ZS5oZWlnaHQgKiBtYXhTY2FsZUZhY3Rvcikge1xuICAgICAgICAvLyBzaGFwZSBpcyB0b28gYmlnLCBicmluZyBpdCBiYWNrIGRvd24gdG8gc2l6ZVxuICAgICAgICBjb25zdCBib3VuZHMgPSBwaW5jaGVkR3JvdXAuYm91bmRzO1xuICAgICAgICBpZiAoYm91bmRzLndpZHRoID4gYm91bmRzLmhlaWdodCkge1xuICAgICAgICAgIHNjYWxlRGVsdGEgPSBwYXBlci52aWV3LnZpZXdTaXplLndpZHRoICogbWF4U2NhbGVGYWN0b3IgLyBib3VuZHMud2lkdGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2NhbGVEZWx0YSA9IHBhcGVyLnZpZXcudmlld1NpemUuaGVpZ2h0ICogbWF4U2NhbGVGYWN0b3IgLyBib3VuZHMuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIHBpbmNoZWRHcm91cC5zY2FsZShzY2FsZURlbHRhKTtcbiAgICAgIH0gZWxzZSBpZiAocGluY2hlZEdyb3VwLmJvdW5kcy53aWR0aCA8PSBtaW5TaGFwZVNpemUgfHwgcGluY2hlZEdyb3VwLmJvdW5kcy5oZWlnaHQgPD0gbWluU2hhcGVTaXplKSB7XG4gICAgICAgIGlmIChib3VuZHMud2lkdGggPCBib3VuZHMuaGVpZ2h0KSB7XG4gICAgICAgICAgc2NhbGVEZWx0YSA9IG1pblNoYXBlU2l6ZSAvIGJvdW5kcy53aWR0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzY2FsZURlbHRhID0gbWluU2hhcGVTaXplIC8gYm91bmRzLndpZHRoO1xuICAgICAgICB9XG4gICAgICAgIHBpbmNoZWRHcm91cC5zY2FsZShzY2FsZURlbHRhKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcGluY2hlZEdyb3VwLnJvdGF0ZShyb3RhdGlvbkRlbHRhKTtcblxuICAgIHBpbmNoZWRHcm91cC5kYXRhLnNjYWxlICo9IHNjYWxlRGVsdGE7XG4gICAgcGluY2hlZEdyb3VwLmRhdGEucm90YXRpb24gKz0gcm90YXRpb25EZWx0YTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwaW5jaEVuZChldmVudCkge1xuICBjb25zb2xlLmxvZygncGluY2hlbmQnKTtcbiAgLy8gZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICB3aW5kb3cua2FuLmxhc3RFdmVudCA9IGV2ZW50O1xuICBsZXQgcGluY2hlZEdyb3VwID0gd2luZG93Lmthbi5waW5jaGVkR3JvdXA7XG4gIGxldCAkcGluY2hlZFR1dCA9IHdpbmRvdy5rYW4ucGluY2hlZFR1dDtcbiAgbGV0IG9yaWdpbmFsUG9zaXRpb24gPSB3aW5kb3cua2FuLm9yaWdpbmFsUG9zaXRpb247XG4gIGxldCBvcmlnaW5hbFJvdGF0aW9uID0gd2luZG93Lmthbi5vcmlnaW5hbFJvdGF0aW9uO1xuICBsZXQgb3JpZ2luYWxTY2FsZSA9IHdpbmRvdy5rYW4ub3JpZ2luYWxTY2FsZTtcblxuICBpZiAoISFwaW5jaGVkR3JvdXApIHtcbiAgICBwaW5jaGVkR3JvdXAuZGF0YS51cGRhdGUgPSB0cnVlO1xuICAgIGxldCBtb3ZlID0ge1xuICAgICAgaWQ6IHBpbmNoZWRHcm91cC5pZCxcbiAgICAgIHR5cGU6ICd0cmFuc2Zvcm0nXG4gICAgfTtcbiAgICBpZiAocGluY2hlZEdyb3VwLnBvc2l0aW9uICE9IG9yaWdpbmFsUG9zaXRpb24pIHtcbiAgICAgIG1vdmUucG9zaXRpb24gPSBvcmlnaW5hbFBvc2l0aW9uO1xuICAgIH1cblxuICAgIGlmIChwaW5jaGVkR3JvdXAuZGF0YS5yb3RhdGlvbiAhPSBvcmlnaW5hbFJvdGF0aW9uKSB7XG4gICAgICBtb3ZlLnJvdGF0aW9uID0gb3JpZ2luYWxSb3RhdGlvbiAtIHBpbmNoZWRHcm91cC5kYXRhLnJvdGF0aW9uO1xuICAgIH1cblxuICAgIGlmIChwaW5jaGVkR3JvdXAuZGF0YS5zY2FsZSAhPSBvcmlnaW5hbFNjYWxlKSB7XG4gICAgICBtb3ZlLnNjYWxlID0gb3JpZ2luYWxTY2FsZSAvIHBpbmNoZWRHcm91cC5kYXRhLnNjYWxlO1xuICAgIH1cblxuICAgIGlmIChwaW5jaGVkR3JvdXAuY2hpbGRyZW4ubGVuZ3RoID4gMCAmJiBwaW5jaGVkR3JvdXAuX25hbWVkQ2hpbGRyZW4uc2hhcGVQYXRoICYmIHBpbmNoZWRHcm91cC5fbmFtZWRDaGlsZHJlbi5zaGFwZVBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgLy8gdXBkYXRlIHNoYXBlUGF0aCBzb3VuZCBvYmplY3QgaWYgcG9zc2libGVcbiAgICAgIHNvdW5kLnJlbW92ZVNoYXBlRnJvbUNvbXBvc2l0aW9uKHBpbmNoZWRHcm91cCk7IC8vIHNvdW5kIGlzIG5vdyB3cm9uZ1xuXG4gICAgICBsZXQgc2hhcGVQYXRoID0gcGluY2hlZEdyb3VwLl9uYW1lZENoaWxkcmVuLnNoYXBlUGF0aFswXTtcbiAgICAgIGxldCBzaGFwZVNvdW5kT2JqID0gc291bmQuZ2V0U2hhcGVTb3VuZE9iaihzaGFwZVBhdGgpO1xuICAgICAgd2luZG93Lmthbi5jb21wb3NpdGlvbi5wdXNoKHNoYXBlU291bmRPYmopO1xuICAgIH1cblxuICAgIHdpbmRvdy5rYW4ubW92ZXMucHVzaChtb3ZlKTtcblxuICAgIGlmIChNYXRoLmFicyhldmVudC52ZWxvY2l0eSkgPiAxKSB7XG4gICAgICB0dXRvcmlhbC5oaWRlQ29udGV4dHVhbFR1dEJ5TmFtZSgnc3dpcGUnKTtcblxuICAgICAgLy8gaGlkZSBhbnkgY29ubmVjdGVkIHR1dHNcbiAgICAgIGlmICghISRwaW5jaGVkVHV0KSB7XG4gICAgICAgIHR1dG9yaWFsLmhpZGVDb250ZXh0dWFsVHV0KCRwaW5jaGVkVHV0KTtcbiAgICAgIH1cbiAgICAgIC8vIGRpc3Bvc2Ugb2YgZ3JvdXAgb2Zmc2NyZWVuXG4gICAgICB0aHJvd1BpbmNoZWRHcm91cCgpO1xuICAgIH1cblxuICAgIC8vIGlmIChjb25maWcucnVuQW5pbWF0aW9ucykge1xuICAgIC8vICAgcGluY2hlZEdyb3VwLmFuaW1hdGUoe1xuICAgIC8vICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgLy8gICAgICAgc2NhbGU6IDAuOFxuICAgIC8vICAgICB9LFxuICAgIC8vICAgICBzZXR0aW5nczoge1xuICAgIC8vICAgICAgIGR1cmF0aW9uOiAxMDAsXG4gICAgLy8gICAgICAgZWFzaW5nOiBcImVhc2VPdXRcIixcbiAgICAvLyAgICAgfVxuICAgIC8vICAgfSk7XG4gICAgLy8gfVxuICB9IGVsc2Uge1xuICAgIHdpbmRvdy5rYW4ucGluY2hlZEdyb3VwID0gbnVsbDtcbiAgfVxuXG4gIC8vIGlmIGFuIG92ZXJsYXkgd2FzIGludGVycnVwdGVkLCBvcGVuIGl0IHVwIG5vd1xuICBpZiAod2luZG93Lmthbi5zY2hlZHVsZWRPdmVybGF5ICE9PSBudWxsKSB7XG4gICAgd2luZG93Lmthbi5zY2hlZHVsZWRPdmVybGF5ID0gbnVsbDtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgb3ZlcmxheXMub3Blbk92ZXJsYXkod2luZG93Lmthbi5zY2hlZHVsZWRPdmVybGF5KTtcbiAgICB9LCB0aW1pbmcub3ZlcmxheURlbGF5KTtcbiAgfVxuXG4gIHdpbmRvdy5rYW4ucGluY2hpbmcgPSBmYWxzZTtcblxuICBjb25zb2xlLmxvZygncGluY2ggZG9uZScpO1xuICAvLyBoYW1tZXJDYW52YXMuc2V0KHsgZW5hYmxlOiBmYWxzZSB9KTtcbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ3RvdWNoIGVuYWJsZWQnKTtcbiAgICBoYW1tZXJDYW52YXMub24oJ3BpbmNoc3RhcnQnLCBwaW5jaFN0YXJ0KTtcbiAgICBlbmFibGVQYW5BbmRQaW5jaEV2ZW50cygpO1xuICAgIGVuYWJsZVRhcEV2ZW50cygpO1xuICAgIC8vIGhhbW1lckNhbnZhcy5zZXQoeyBlbmFibGU6IHRydWUgfSk7XG4gICAgLy8gaGFtbWVyQ2FudmFzLm9uKCdwaW5jaHN0YXJ0JywgcGluY2hTdGFydCk7XG4gICAgLy8gZW5hYmxlUGFuQW5kUGluY2hFdmVudHMoKTtcbiAgICAvLyBlbmFibGVUYXBFdmVudHMoKTtcbiAgICAvLyB3aW5kb3cua2FuLnBpbmNoaW5nID0gZmFsc2U7XG4gICAgLy8gd2luZG93Lmthbi5waW5jaGVkR3JvdXAgPSBudWxsO1xuICB9LCB0aW1pbmcuaW5wdXREZWxheSk7XG59XG5cbmZ1bmN0aW9uIHBpbmNoQ2FuY2VsKGV2ZW50KSB7XG4gIGNvbnNvbGUubG9nKGV2ZW50KTtcbiAgZXZlbnQuc3JjRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIGNvbnNvbGUubG9nKCdwaW5jaGNhbmNlbCcpO1xuICAvLyBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIGhhbW1lckNhbnZhcy5zZXQoeyBlbmFibGU6IHRydWUgfSk7XG4gIGhhbW1lckNhbnZhcy5vbigncGluY2hzdGFydCcsIHBpbmNoU3RhcnQpO1xuICBlbmFibGVQYW5BbmRQaW5jaEV2ZW50cygpO1xuICBlbmFibGVUYXBFdmVudHMoKTtcblxuICB3aW5kb3cua2FuLnBpbmNoaW5nID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHRocm93UGluY2hlZEdyb3VwKCkge1xuICBjb25zdCB2ZWxvY2l0eU11bHRpcGxpZXIgPSAyNTtcbiAgY29uc3QgbGFzdEV2ZW50ID0gd2luZG93Lmthbi5sYXN0RXZlbnQ7XG4gIGNvbnN0IHZpZXdXaWR0aCA9IHBhcGVyLnZpZXcudmlld1NpemUud2lkdGg7XG4gIGNvbnN0IHZpZXdIZWlnaHQgPSBwYXBlci52aWV3LnZpZXdTaXplLmhlaWdodDtcbiAgbGV0IHBpbmNoZWRHcm91cCA9IHdpbmRvdy5rYW4ucGluY2hlZEdyb3VwO1xuXG4gIGlmIChwaW5jaGVkR3JvdXAgPT09IG51bGwpIHJldHVybjtcblxuICBpZiAocGluY2hlZEdyb3VwLnBvc2l0aW9uLnggPD0gMCAtIHBpbmNoZWRHcm91cC5ib3VuZHMud2lkdGggfHxcbiAgICAgIHBpbmNoZWRHcm91cC5wb3NpdGlvbi54ID49IHZpZXdXaWR0aCArIHBpbmNoZWRHcm91cC5ib3VuZHMud2lkdGggfHxcbiAgICAgIHBpbmNoZWRHcm91cC5wb3NpdGlvbi55IDw9IDAgLSBwaW5jaGVkR3JvdXAuYm91bmRzLmhlaWdodCB8fFxuICAgICAgcGluY2hlZEdyb3VwLnBvc2l0aW9uLnkgPj0gdmlld0hlaWdodCArIHBpbmNoZWRHcm91cC5ib3VuZHMuaGVpZ2h0KSB7XG4gICAgICAgIHBpbmNoZWRHcm91cC5kYXRhLm9mZlNjcmVlbiA9IHRydWU7XG4gICAgICAgIHBpbmNoZWRHcm91cC52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHNvdW5kLnJlbW92ZVNoYXBlRnJvbUNvbXBvc2l0aW9uKHBpbmNoZWRHcm91cCk7XG4gICAgICAgIHdpbmRvdy5rYW4ucGluY2hlZEdyb3VwID0gbnVsbDtcbiAgICByZXR1cm47XG4gIH1cbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRocm93UGluY2hlZEdyb3VwKTtcbiAgY29uc3QgbmV3WCA9IHBpbmNoZWRHcm91cC5wb3NpdGlvbi54ICsgbGFzdEV2ZW50LnZlbG9jaXR5WCAqIHZlbG9jaXR5TXVsdGlwbGllcjtcbiAgY29uc3QgbmV3WSA9IHBpbmNoZWRHcm91cC5wb3NpdGlvbi55ICsgbGFzdEV2ZW50LnZlbG9jaXR5WSAqIHZlbG9jaXR5TXVsdGlwbGllcjtcbiAgY29uc3QgbmV3UG9zID0gbmV3IFBvaW50KG5ld1gsIG5ld1kpO1xuICBwaW5jaGVkR3JvdXAucG9zaXRpb24gPSBuZXdQb3M7XG59XG5cbmZ1bmN0aW9uIGV2ZW50VGFyZ2V0SXNPbkNhbnZhcyhldmVudCkge1xuICBpZiAoIWV2ZW50KSByZXR1cm4gZmFsc2U7XG4gIGlmIChldmVudC50YXJnZXQgIT0gdWkuY2FudmFzKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiB0cnVlO1xuXG59XG4iLCJjb25zdCBjb25maWcgPSByZXF1aXJlKCcuLy4uLy4uL2NvbmZpZycpO1xuXG5jb25zdCBjb250ZXh0dWFsVHV0cyA9IGNvbmZpZy5jb250ZXh0dWFsVHV0cztcbmNvbnN0IHR1dEFycm93SGVpZ2h0ID0gMTY7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUdXRCeU5hbWUodHV0TmFtZSkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRleHR1YWxUdXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IHR1dE9iaiA9IGNvbnRleHR1YWxUdXRzW2ldO1xuXG4gICAgaWYgKHR1dE9iai50eXBlID09PSB0dXROYW1lKSB7XG4gICAgICByZXR1cm4gdHV0T2JqLmNvcHk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhbGxUdXRzQ29tcGxldGVkKCkge1xuICBjb25zdCB0dXRvcmlhbENvbXBsZXRpb25PYmogPSB3aW5kb3cua2FuLnR1dG9yaWFsQ29tcGxldGlvbjtcbiAgbGV0IGNvbXBsZXRpb24gPSB0cnVlO1xuXG4gIE9iamVjdC5rZXlzKHR1dG9yaWFsQ29tcGxldGlvbk9iaikuZm9yRWFjaCgoa2V5LCB2YWwpID0+IHtcbiAgICBjb21wbGV0aW9uID0gY29tcGxldGlvbiAmJiB0dXRvcmlhbENvbXBsZXRpb25PYmpba2V5XTtcbiAgfSk7XG5cbiAgcmV0dXJuIGNvbXBsZXRpb24gPT09IHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRDb250ZXh0dWFsVHV0KHR1dE5hbWUpIHtcbiAgaWYgKCEhd2luZG93Lmthbi5zaGFwZVBhdGggJiYgd2luZG93Lmthbi5zaGFwZVBhdGgubGVuZ3RoID4gMCkge1xuICAgIGhpZGVDb250ZXh0dWFsVHV0cygpO1xuICAgIHdpbmRvdy5rYW4uc2hhcGVzU2luY2VUdXQgPSAwO1xuXG4gICAgbGV0IHNoYXBlUGF0aCA9IHdpbmRvdy5rYW4uc2hhcGVQYXRoO1xuICAgIGxldCBzaGFwZUNlbnRlciA9IHNoYXBlUGF0aC5ib3VuZHMuY2VudGVyO1xuXG4gICAgbGV0IHR1dENvcHkgPSBnZXRUdXRCeU5hbWUodHV0TmFtZSk7XG5cbiAgICBpZiAodHV0Q29weSAhPT0gbnVsbCkge1xuICAgICAgY29uc3QgJHR1dCA9ICQoYC50dXRbZGF0YS10dXQtdHlwZT0nJHt0dXROYW1lfSddYCk7XG4gICAgICBpZiAoJHR1dC5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IHR1dFBvcyA9IGdldFR1dFBvc2l0aW9uRnJvbUNlbnRlcigkdHV0LCBzaGFwZUNlbnRlcik7XG4gICAgICAgICR0dXQuY3NzKHt0b3A6IGAke3R1dFBvcy55fXB4YCwgbGVmdDogYCR7dHV0UG9zLnh9cHhgLCB2aXNpYmlsaXR5OiAndmlzaWJsZSd9KTtcbiAgICAgICAgJHR1dC5hZGRDbGFzcygnYW5pbWF0ZWQgYm91bmNlSW4nKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhpZGVDb250ZXh0dWFsVHV0KCR0dXQpIHtcbiAgJHR1dC5jc3Moe3Zpc2liaWxpdHk6ICdoaWRkZW4nfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoaWRlQ29udGV4dHVhbFR1dEJ5TmFtZSh0dXROYW1lKSB7XG4gIGNvbnN0ICR0dXQgPSAkKGAudHV0W2RhdGEtdHV0LXR5cGU9JyR7dHV0TmFtZX0nXWApO1xuICBoaWRlQ29udGV4dHVhbFR1dCgkdHV0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhpZGVDb250ZXh0dWFsVHV0cygpIHtcbiAgY29uc3QgJHR1dHMgPSAkKCcuY29udGV4dHVhbC10dXRzIC50dXQnKTtcbiAgJHR1dHMuY3NzKHt2aXNpYmlsaXR5OiAnaGlkZGVuJ30pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRDb250ZXh0dWFsVHV0cygpIHtcbiAgaGlkZUNvbnRleHR1YWxUdXRzKCk7XG4gIHdpbmRvdy5rYW4udHV0b3JpYWxDb21wbGV0aW9uID0ge1xuICAgIFwiZmlsbFwiOiBmYWxzZSxcbiAgICBcInBpbmNoXCI6IGZhbHNlLFxuICAgIFwic3dpcGVcIjogZmFsc2VcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1vdmVDb250ZXh0dWFsVHV0KCR0dXQsIGNlbnRlclBvaW50KSB7XG4gIGxldCB0dXRQb3MgPSBnZXRUdXRQb3NpdGlvbkZyb21DZW50ZXIoJHR1dCwgY2VudGVyUG9pbnQpO1xuICAkdHV0LmNzcyh7dG9wOiBgJHt0dXRQb3MueX1weGAsIGxlZnQ6IGAke3R1dFBvcy54fXB4YH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHV0UG9zaXRpb25Gcm9tQ2VudGVyKCR0dXQsIGNlbnRlclBvaW50KSB7XG4gIGNvbnN0IHR1dFdpZHRoID0gJHR1dC5vdXRlcldpZHRoKCk7XG4gIGNvbnN0IHR1dEhlaWdodCA9ICR0dXQub3V0ZXJIZWlnaHQoKTtcbiAgY29uc3QgbGVmdFBvcyA9IGNlbnRlclBvaW50LnggLSAodHV0V2lkdGggLyAyKTtcbiAgY29uc3QgdG9wUG9zID0gY2VudGVyUG9pbnQueSAtIHR1dEhlaWdodCAtIHR1dEFycm93SGVpZ2h0O1xuICByZXR1cm4gbmV3IFBvaW50KGxlZnRQb3MsIHRvcFBvcyk7XG59XG4iLCJjb25zdCBzb3VuZCA9IHJlcXVpcmUoJy4vc291bmQnKTtcbmNvbnN0IHR1dG9yaWFsID0gcmVxdWlyZSgnLi90dXRvcmlhbCcpO1xuY29uc3Qgb3ZlcmxheXMgPSByZXF1aXJlKCcuL292ZXJsYXlzJyk7XG5jb25zdCB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5jb25zdCBjb2xvciA9IHJlcXVpcmUoJy4vY29sb3InKTtcblxuY29uc3QgJGJvZHkgPSAkKCdib2R5Jyk7XG5jb25zdCB0YXBFdmVudCA9ICdjbGljayB0YXAgdG91Y2gnO1xuXG5jb25zdCBwbGF5aW5nQ2xhc3MgPSBzb3VuZC5wbGF5aW5nQ2xhc3M7XG5jb25zdCBwbGF5RW5hYmxlZENsYXNzID0gc291bmQucGxheUVuYWJsZWRDbGFzcztcblxuY29uc3QgJG5ld0J1dHRvbiA9ICQoJy5jb250cm9scyAubmV3Jyk7XG5jb25zdCAkdW5kb0J1dHRvbiA9ICQoJy5jb250cm9scyAudW5kbycpO1xuY29uc3QgJHBsYXlCdXR0b24gPSAkKCcuY29udHJvbHMgLnBsYXktc3RvcCcpO1xuY29uc3QgJHNoYXJlQnV0dG9uID0gJCgnLmNvbnRyb2xzIC5zaGFyZScpO1xuY29uc3QgJHRpcHNCdXR0b24gPSAkKCcuY29udHJvbHMgLnRpcHMnKTtcblxuZXhwb3J0IGNvbnN0IGNhbnZhcyA9ICQoJyNjYW52YXMnKVswXTtcbmV4cG9ydCBjb25zdCB0aXBzT3ZlcmxheSA9ICQoJy5vdmVybGF5LnRpcHMnKVswXTtcblxuY29uc3QgZGl0aGVyZWRDbGFzcyA9ICdkaXRoZXJlZCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xuICBpbml0TG9nb1JlZnJlc2goKTtcbiAgaW5pdENvbG9yUGFsZXR0ZSgpO1xuICBpbml0TmV3QnV0dG9uKCk7XG4gIGluaXRVbmRvQnV0dG9uKCk7XG4gIGluaXRQbGF5QnV0dG9uKCk7XG4gIGluaXRUaXBzQnV0dG9uKCk7XG4gIGluaXRTaGFyZUJ1dHRvbigpO1xuICBpbml0Q29udGV4dHVhbFR1dHMoKTtcbiAgcmVzZXRDYW52YXMoKTtcbn1cblxuZnVuY3Rpb24gdW5kaXRoZXJBbGxCdXR0b25zKCkge1xuICAkKGAuY29udHJvbHMgLiR7ZGl0aGVyZWRDbGFzc31gKS5yZW1vdmVDbGFzcyhkaXRoZXJlZENsYXNzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRpdGhlckJ1dHRvbnNCeU5hbWUoYnV0dG9uTmFtZXMsIHVuZGl0aGVyID0gZmFsc2UpIHtcbiAgaWYgKGJ1dHRvbk5hbWVzLmxlbmd0aCA+IDApIHtcbiAgICBpZiAoJC5pc0FycmF5KGJ1dHRvbk5hbWVzKSkge1xuICAgICAgYnV0dG9uTmFtZXMuZm9yRWFjaCgobmFtZSkgPT4gZGl0aGVyQnV0dG9uQnlOYW1lKG5hbWUsIHVuZGl0aGVyKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRpdGhlckJ1dHRvbkJ5TmFtZShidXR0b25OYW1lcywgdW5kaXRoZXIpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5kaXRoZXJCdXR0b25zQnlOYW1lKGJ1dHRvbk5hbWVzKSB7XG4gIGRpdGhlckJ1dHRvbnNCeU5hbWUoYnV0dG9uTmFtZXMsIHRydWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGl0aGVyQnV0dG9uQnlOYW1lKGJ1dHRvbk5hbWUsIHVuZGl0aGVyID0gZmFsc2UpIHtcbiAgbGV0ICRidXR0b24gPSAkKGAuY29udHJvbHMgLiR7YnV0dG9uTmFtZX1gKTtcbiAgY29uc29sZS5sb2coJGJ1dHRvbik7XG4gIGlmICgkYnV0dG9uLmxlbmd0aCA+IDApIHtcbiAgICBpZiAodW5kaXRoZXIgIT09IHRydWUpIHtcbiAgICAgICRidXR0b24uYWRkQ2xhc3MoZGl0aGVyZWRDbGFzcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRidXR0b24ucmVtb3ZlQ2xhc3MoZGl0aGVyZWRDbGFzcyk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bmRpdGhlckJ1dHRvbkJ5TmFtZShidXR0b25OYW1lKSB7XG4gIGRpdGhlckJ1dHRvbkJ5TmFtZShidXR0b25OYW1lLCB0cnVlKTtcbn1cblxuZnVuY3Rpb24gdW5kaXRoZXJCdXR0b25zQnlOYW1lKGJ1dHRvbk5hbWVzKSB7XG4gIGRpdGhlckJ1dHRvbnNCeU5hbWUoYnV0dG9uTmFtZXMsIHRydWUpO1xufVxuXG5mdW5jdGlvbiBuZXdQcmVzc2VkKCkge1xuICBjb25zb2xlLmxvZygnbmV3IHByZXNzZWQnKTtcbiAgd2luZG93Lmthbi5jb21wb3NpdGlvbiA9IFtdO1xuICBwYXBlci5wcm9qZWN0LmFjdGl2ZUxheWVyLnJlbW92ZUNoaWxkcmVuKCk7XG4gIHR1dG9yaWFsLmhpZGVDb250ZXh0dWFsVHV0cygpO1xuICBkaXRoZXJCdXR0b25zQnlOYW1lKFsndW5kbycsICduZXcnLCAncGxheS1zdG9wJywgJ3NoYXJlJ10pO1xuICBzb3VuZC5zdG9wUGxheWluZygpO1xuICAvLyB3aW5kb3cua2FuLnVzZXJIYXNEcmF3bkZpcnN0U2hhcGUgPSBmYWxzZTtcbiAgLy8gdHV0b3JpYWwucmVzZXRDb250ZXh0dWFsVHV0cygpO1xufVxuXG5mdW5jdGlvbiB1bmRvUHJlc3NlZCgpIHtcbiAgc291bmQuc3RvcFBsYXlpbmcoKTtcbiAgdHV0b3JpYWwuaGlkZUNvbnRleHR1YWxUdXRzKCk7XG5cbiAgY29uc3QgdHJhbnNwYXJlbnQgPSBuZXcgQ29sb3IoMCwgMCk7XG4gIGNvbnNvbGUubG9nKCd1bmRvIHByZXNzZWQnKTtcbiAgaWYgKCEod2luZG93Lmthbi5tb3Zlcy5sZW5ndGggPiAwKSkge1xuICAgIGNvbnNvbGUubG9nKCdubyBtb3ZlcyB5ZXQnKTtcbiAgICB3aW5kb3cua2FuLnVzZXJIYXNEcmF3bkZpcnN0U2hhcGUgPSBmYWxzZTtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgbGFzdE1vdmUgPSB3aW5kb3cua2FuLm1vdmVzLnBvcCgpO1xuICBsZXQgaXRlbSA9IHByb2plY3QuZ2V0SXRlbSh7XG4gICAgaWQ6IGxhc3RNb3ZlLmlkXG4gIH0pO1xuXG4gIGlmIChpdGVtKSB7XG4gICAgaXRlbS52aXNpYmxlID0gdHJ1ZTsgLy8gbWFrZSBzdXJlXG4gICAgc3dpdGNoKGxhc3RNb3ZlLnR5cGUpIHtcbiAgICAgIGNhc2UgJ25ld0dyb3VwJzpcbiAgICAgICAgY29uc29sZS5sb2coJ3JlbW92aW5nIGdyb3VwJyk7XG4gICAgICAgIHNvdW5kLnJlbW92ZVNoYXBlRnJvbUNvbXBvc2l0aW9uKGl0ZW0pO1xuICAgICAgICBpdGVtLnJlbW92ZSgpO1xuXG4gICAgICAgIGNvbnN0IG51bUdyb3VwcyA9IHV0aWwuZ2V0TnVtR3JvdXBzKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdudW1Hcm91cHMnLCBudW1Hcm91cHMpO1xuXG4gICAgICAgIGlmIChudW1Hcm91cHMgPD0gMCkge1xuICAgICAgICAgIGRpdGhlckJ1dHRvbnNCeU5hbWUoWyd1bmRvJywgJ25ldyddKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChudW1Hcm91cHMgPCAzKSB7XG4gICAgICAgICAgZGl0aGVyQnV0dG9uc0J5TmFtZShbJ3BsYXktc3RvcCcsICdzaGFyZSddKTtcbiAgICAgICAgICAkYm9keS5yZW1vdmVDbGFzcyhzb3VuZC5wbGF5RW5hYmxlZENsYXNzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1bmRpdGhlckJ1dHRvbnNCeU5hbWUoWydwbGF5LXN0b3AnLCAnc2hhcmUnXSk7XG4gICAgICAgICAgJGJvZHkuYWRkQ2xhc3Moc291bmQucGxheUVuYWJsZWRDbGFzcyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdmaWxsQ2hhbmdlJzpcbiAgICAgICAgaWYgKGxhc3RNb3ZlLnRyYW5zcGFyZW50KSB7XG4gICAgICAgICAgaXRlbS5maWxsQ29sb3IgPSBsYXN0TW92ZS5maWxsO1xuICAgICAgICAgIGl0ZW0uc3Ryb2tlQ29sb3IgPSBsYXN0TW92ZS5maWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW0uZmlsbENvbG9yID0gdHJhbnNwYXJlbnQ7XG4gICAgICAgICAgaXRlbS5zdHJva2VDb2xvciA9IHRyYW5zcGFyZW50O1xuICAgICAgICB9XG4gICAgICBjYXNlICd0cmFuc2Zvcm0nOlxuICAgICAgICBpZiAoISFsYXN0TW92ZS5wb3NpdGlvbikge1xuICAgICAgICAgIGl0ZW0ucG9zaXRpb24gPSBsYXN0TW92ZS5wb3NpdGlvblxuICAgICAgICAgIGlmIChpdGVtLmRhdGEgJiYgaXRlbS5kYXRhLnR1dCAmJiBpdGVtLmRhdGEudHV0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIGl0ZW0gaGFzIGNvbm5lY3RlZCBjb250ZXh0dWFsIHR1dCwgbW92ZSBpdCB0byB0aGUgcmlnaHQgcGxhY2VcbiAgICAgICAgICAgIGNvbnN0ICR0dXQgPSAkKGAudHV0W2RhdGEtdHV0LXR5cGU9JyR7dHV0TmFtZX0nXWApO1xuICAgICAgICAgICAgdHV0b3JpYWwubW92ZUNvbnRleHR1YWxUdXQoJHR1dCwgbGFzdE1vdmUucG9zaXRpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoISFsYXN0TW92ZS5yb3RhdGlvbikge1xuICAgICAgICAgIGl0ZW0ucm90YXRpb24gPSBsYXN0TW92ZS5yb3RhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISFsYXN0TW92ZS5zY2FsZSkge1xuICAgICAgICAgIGl0ZW0uc2NhbGUobGFzdE1vdmUuc2NhbGUpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uc29sZS5sb2coJ3Vua25vd24gY2FzZScpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmxvZygnY291bGQgbm90IGZpbmQgbWF0Y2hpbmcgaXRlbScpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBsYXlQcmVzc2VkKCkge1xuICBjb25zb2xlLmxvZygncGxheSBwcmVzc2VkJyk7XG4gIC8vIHNvdW5kLnN0b3BDb21wb3NpdGlvbigpO1xuICAvLyBvdmVybGF5cy5jbG9zZUFuZFJlc2V0T3ZlcmxheXMoKTtcbiAgLy8gdHV0b3JpYWwuaGlkZUNvbnRleHR1YWxUdXRzKCk7XG4gIGxldCBwbGF5aW5nID0gd2luZG93Lmthbi5wbGF5aW5nO1xuICBjb25zb2xlLmxvZyhwbGF5aW5nLCB1dGlsLmdldE51bUdyb3VwcygpID4gMiwgIXBsYXlpbmcgJiYgdXRpbC5nZXROdW1Hcm91cHMoKSA+IDIsICRib2R5KTtcblxuICBjbGVhclRpbWVvdXQod2luZG93Lmthbi5wbGF5UHJvbXB0VGltZW91dCk7XG4gIGlmICghcGxheWluZyAmJiB1dGlsLmdldE51bUdyb3VwcygpID4gMikge1xuICAgIGNvbnNvbGUubG9nKCdzdGFydGluZyBwbGF5aW5nJyk7XG4gICAgc291bmQuc3RhcnRQbGF5aW5nKCk7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5sb2coJ3N0b3BwaW5nIHBsYXlpbmcnKTtcbiAgICBzb3VuZC5zdG9wUGxheWluZyh0cnVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB0aXBzUHJlc3NlZCgpIHtcbiAgc291bmQuc3RvcFBsYXlpbmcoKTtcbiAgb3ZlcmxheXMub3Blbk92ZXJsYXkoJ3RpcHMnKTtcbiAgY29uc29sZS5sb2coJ3RpcHMgcHJlc3NlZCcpO1xufVxuXG5mdW5jdGlvbiBzaGFyZVByZXNzZWQoKSB7XG4gIGNvbnNvbGUubG9nKCdzaGFyZSBwcmVzc2VkJyk7XG4gIHNvdW5kLnN0b3BQbGF5aW5nKCk7XG4gIGlmICgkYm9keS5oYXNDbGFzcyhzb3VuZC5wbGF5RW5hYmxlZENsYXNzKSkge1xuICAgIG92ZXJsYXlzLm9wZW5PdmVybGF5KCdzaGFyZScpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGluaXRMb2dvUmVmcmVzaCgpIHtcbiAgJCgnLm1haW4tbG9nbycpLm9uKHRhcEV2ZW50LCBmdW5jdGlvbigpIHtcbiAgICBsb2NhdGlvbi5yZWxvYWQoKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGluaXRDb2xvclBhbGV0dGUoKSB7XG4gIGNvbnN0ICRwYWxldHRlV3JhcCA9ICQoJ3VsLnBhbGV0dGUtY29sb3JzJyk7XG4gIGNvbnN0ICRwYWxldHRlQ29sb3JzID0gJHBhbGV0dGVXcmFwLmZpbmQoJ2xpJyk7XG4gIGNvbnN0IHBhbGV0dGVDb2xvclNpemUgPSAyMDtcbiAgY29uc3QgcGFsZXR0ZVNlbGVjdGVkQ29sb3JTaXplID0gMzA7XG4gIGNvbnN0IHBhbGV0dGVTZWxlY3RlZENsYXNzID0gJ3BhbGV0dGUtc2VsZWN0ZWQnO1xuXG4gIC8vIGhvb2sgdXAgY2xpY2tcbiAgJHBhbGV0dGVDb2xvcnMub24oJ2NsaWNrIHRhcCB0b3VjaCcsIGZ1bmN0aW9uKCkge1xuICAgIGlmICghJGJvZHkuaGFzQ2xhc3MocGxheWluZ0NsYXNzKSkge1xuICAgICAgbGV0ICRzdmcgPSAkKHRoaXMpLmZpbmQoJ3N2Zy5wYWxldHRlLWNvbG9yJyk7XG5cbiAgICAgIGlmICghJHN2Zy5oYXNDbGFzcyhwYWxldHRlU2VsZWN0ZWRDbGFzcykpIHtcbiAgICAgICAgJCgnLicgKyBwYWxldHRlU2VsZWN0ZWRDbGFzcylcbiAgICAgICAgICAucmVtb3ZlQ2xhc3MocGFsZXR0ZVNlbGVjdGVkQ2xhc3MpXG4gICAgICAgICAgLmF0dHIoJ3dpZHRoJywgcGFsZXR0ZUNvbG9yU2l6ZSlcbiAgICAgICAgICAuYXR0cignaGVpZ2h0JywgcGFsZXR0ZUNvbG9yU2l6ZSlcbiAgICAgICAgICAuZmluZCgncmVjdCcpXG4gICAgICAgICAgLmF0dHIoJ3J4JywgMClcbiAgICAgICAgICAuYXR0cigncnknLCAwKTtcblxuICAgICAgICAkc3ZnLmFkZENsYXNzKHBhbGV0dGVTZWxlY3RlZENsYXNzKVxuICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIHBhbGV0dGVTZWxlY3RlZENvbG9yU2l6ZSlcbiAgICAgICAgICAuYXR0cignaGVpZ2h0JywgcGFsZXR0ZVNlbGVjdGVkQ29sb3JTaXplKVxuICAgICAgICAgIC5maW5kKCdyZWN0JylcbiAgICAgICAgICAuYXR0cigncngnLCBwYWxldHRlU2VsZWN0ZWRDb2xvclNpemUgLyAyKVxuICAgICAgICAgIC5hdHRyKCdyeScsIHBhbGV0dGVTZWxlY3RlZENvbG9yU2l6ZSAvIDIpXG5cbiAgICAgICAgd2luZG93Lmthbi5jdXJyZW50Q29sb3IgPSAkc3ZnLmZpbmQoJ3JlY3QnKS5hdHRyKCdmaWxsJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCclY2NvbG9yJywgJ2NvbG9yOnJlZCcsIGNvbG9yLmdldENvbG9yTmFtZSh3aW5kb3cua2FuLmN1cnJlbnRDb2xvcikpO1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBpbml0TmV3QnV0dG9uKCkge1xuICAkKCcubWFpbi1jb250cm9scyAubmV3Jykub24odGFwRXZlbnQsIGZ1bmN0aW9uKCkge1xuICAgIGlmICghJGJvZHkuaGFzQ2xhc3MocGxheWluZ0NsYXNzKSkge1xuICAgICAgbmV3UHJlc3NlZCgpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGluaXRVbmRvQnV0dG9uKCkge1xuICAkKCcubWFpbi1jb250cm9scyAudW5kbycpLm9uKHRhcEV2ZW50LCBmdW5jdGlvbigpIHtcbiAgICBpZiAoISRib2R5Lmhhc0NsYXNzKHBsYXlpbmdDbGFzcykpIHtcbiAgICAgIHVuZG9QcmVzc2VkKCk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gaW5pdFBsYXlCdXR0b24oKSB7XG4gICQoJy5tYWluLWNvbnRyb2xzIC5wbGF5LXN0b3AgLnBsYXknKS5vbih0YXBFdmVudCwgc291bmQuc3RhcnRQbGF5aW5nKTtcbiAgJCgnLm1haW4tY29udHJvbHMgLnBsYXktc3RvcCAuc3RvcCcpLm9uKHRhcEV2ZW50LCBzb3VuZC5zdG9wUGxheWluZyk7XG59XG5cbmZ1bmN0aW9uIGluaXRUaXBzQnV0dG9uKCkge1xuICAkKCcuY29udHJvbHMgLnRpcHMnKS5vbih0YXBFdmVudCwgZnVuY3Rpb24oKSB7XG4gICAgaWYgKCEkYm9keS5oYXNDbGFzcyhwbGF5aW5nQ2xhc3MpKSB7XG4gICAgICB0aXBzUHJlc3NlZCgpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGluaXRTaGFyZUJ1dHRvbigpIHtcbiAgJCgnLmNvbnRyb2xzIC5zaGFyZScpLm9uKHRhcEV2ZW50LCBmdW5jdGlvbigpIHtcbiAgICBpZiAoISRib2R5Lmhhc0NsYXNzKHBsYXlpbmdDbGFzcykpIHtcbiAgICAgIHNoYXJlUHJlc3NlZCgpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGluaXRDb250ZXh0dWFsVHV0cygpIHtcbiAgY29uc3QgJHR1dHMgPSAkKCcuY29udGV4dHVhbC10dXRzIC50dXQnKTtcbiAgJHR1dHMub24odGFwRXZlbnQsIGZ1bmN0aW9uKCkge1xuICAgICQodGhpcykuY3NzKHt2aXNpYmlsaXR5OiAnaGlkZGVuJ30pO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0Q2FudmFzKCkge1xuICBwYXBlci5wcm9qZWN0LmNsZWFyKCk7XG5cbiAgLy8gYWRkIHJhbmRvbSBiYWNrZ3JvdW5kXG4gIHBhcGVyLnByb2plY3QuYWN0aXZlTGF5ZXIubmFtZSA9ICdiYWNrZ3JvdW5kJztcbiAgY29uc3QgbnVtQ2FudmFzc2VzID0gMTA7XG4gIGNvbnN0IHJhbmRvbUNhbnZhc0luZGV4ID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogKG51bUNhbnZhc3NlcyAtIDEpKSArIDE7IC8vIFsxLCBudW1DYW52YXNzZXNdXG4gIGNvbnN0IGNhbnZhc0JnID0gbmV3IFJhc3RlcihgY2FudmFzLSR7cmFuZG9tQ2FudmFzSW5kZXh9YCk7XG4gIGNhbnZhc0JnLm5hbWUgPSAnY2FudmFzQmcnO1xuICBjYW52YXNCZy5wb3NpdGlvbiA9IHBhcGVyLnZpZXcuY2VudGVyO1xuXG4gIC8vIGFkZCBjYW52YXMgbGF5ZXJcbiAgY29uc3Qgc2NhbGVGYWN0b3JIb3Jpem9udGFsID0gcGFwZXIudmlldy52aWV3U2l6ZS53aWR0aCAvIGNhbnZhc0JnLnNpemUud2lkdGg7XG4gIGNvbnN0IHNjYWxlRmFjdG9yVmVydGljYWwgPSBwYXBlci52aWV3LnZpZXdTaXplLmhlaWdodCAvIGNhbnZhc0JnLnNpemUuaGVpZ2h0O1xuICBjYW52YXNCZy5zY2FsZShNYXRoLm1heChzY2FsZUZhY3Rvckhvcml6b250YWwsIHNjYWxlRmFjdG9yVmVydGljYWwpKTtcbiAgbGV0IGxheWVyID0gbmV3IExheWVyKCk7IC8vIGluaXQgbmV3IGxheWVyIHRoYXQgYWxsIG90aGVyIHNoYXBlcyB3aWxsIGJlIGRyYXduIHVwb25cbiAgcGFwZXIucHJvamVjdC5hY3RpdmVMYXllci5uYW1lID0gJ2NhbnZhcyc7XG59XG4iLCJjb25zdCBjb25maWcgPSByZXF1aXJlKCcuLy4uLy4uL2NvbmZpZycpO1xuXG4vLyBDb252ZXJ0cyBmcm9tIGRlZ3JlZXMgdG8gcmFkaWFucy5cbmV4cG9ydCBmdW5jdGlvbiByYWQoZGVncmVlcykge1xuICByZXR1cm4gZGVncmVlcyAqIE1hdGguUEkgLyAxODA7XG59O1xuXG4vLyBDb252ZXJ0cyBmcm9tIHJhZGlhbnMgdG8gZGVncmVlcy5cbmV4cG9ydCBmdW5jdGlvbiBkZWcocmFkaWFucykge1xuICByZXR1cm4gcmFkaWFucyAqIDE4MCAvIE1hdGguUEk7XG59O1xuXG4vLyByZXR1cm5zIGFic29sdXRlIHZhbHVlIG9mIHRoZSBkZWx0YSBvZiB0d28gYW5nbGVzIGluIHJhZGlhbnNcbmV4cG9ydCBmdW5jdGlvbiBhbmdsZURlbHRhKHgsIHkpIHtcbiAgcmV0dXJuIE1hdGguYWJzKE1hdGguYXRhbjIoTWF0aC5zaW4oeSAtIHgpLCBNYXRoLmNvcyh5IC0geCkpKTs7XG59XG5cbi8vIGRpc3RhbmNlIGJldHdlZW4gdHdvIHBvaW50c1xuZXhwb3J0IGZ1bmN0aW9uIGRlbHRhKHAxLCBwMikge1xuICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KHAxLnggLSBwMi54LCAyKSArIE1hdGgucG93KHAxLnkgLSBwMi55LCAyKSk7IC8vIHB5dGhhZ29yZWFuIVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGltZSgpIHtcbiAgcmV0dXJuIG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBbGxHcm91cHMoKSB7XG4gIHJldHVybiBwYXBlci5wcm9qZWN0LmdldEl0ZW1zKHtcbiAgICBtYXRjaDogKGVsKSA9PiBlbC5jbGFzc05hbWUgPT09ICdHcm91cCdcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhbnlTaGFwZXNPbkNhbnZhcygpIHtcbiAgY29uc3QgZ3JvdXBzID0gZ2V0QWxsR3JvdXBzKCk7XG4gIHJldHVybiBncm91cHMubGVuZ3RoID4gMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE51bUdyb3VwcygpIHtcbiAgY29uc3QgZ3JvdXBzID0gZ2V0QWxsR3JvdXBzKCk7XG4gIGNvbnNvbGUubG9nKCdudW1ncm91cHMnLCBncm91cHMubGVuZ3RoKTtcbiAgcmV0dXJuIGdyb3Vwcy5sZW5ndGg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRTaGEoKSB7XG4gICQuZ2V0KCcvaGFzaCcpXG4gICAgLmRvbmUoZnVuY3Rpb24ocmVzKSB7XG4gICAgICBjb25zb2xlLmxvZygnY3VycmVudCBoYXNoOicsIHJlcyk7XG4gICAgICB3aW5kb3cua2FuLmhhc2ggPSByZXM7XG4gICAgfSlcbiAgICAuZmFpbChmdW5jdGlvbihlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdlcnJvciBnZXR0aW5nIGhhc2g6JywgZSk7XG4gICAgfSk7XG59XG4iLCJjb25zdCBjb25maWcgPSByZXF1aXJlKCcuLy4uLy4uL2NvbmZpZycpO1xuXG5jb25zdCBtYWluID0gcmVxdWlyZSgnLi9tYWluJyk7XG5jb25zdCBvdmVybGF5cyA9IHJlcXVpcmUoJy4vb3ZlcmxheXMnKTtcbmNvbnN0IHRpbWluZyA9IHJlcXVpcmUoJy4vdGltaW5nJyk7XG5jb25zdCB1aSA9IHJlcXVpcmUoJy4vdWknKTtcblxuY29uc3QgJGJvZHkgPSAkKCdib2R5Jyk7XG5jb25zdCB0YXBFdmVudCA9ICdjbGljayB0YXAgdG91Y2gnO1xuXG5leHBvcnQgY29uc3QgdmlkZW9QbGF5aW5nQ2xhc3MgPSAndmlkZW8tcGxheWluZyc7XG5cbmNvbnN0ICR2aWRlb1dyYXBwZXIgPSAkYm9keS5maW5kKCcjdmlkZW8td3JhcCcpO1xuY29uc3QgJHZpZGVvID0gJHZpZGVvV3JhcHBlci5maW5kKCd2aWRlbycpO1xuXG5leHBvcnQgZnVuY3Rpb24gZW50ZXJUdXRvcmlhbE1vZGUoKSB7XG4gIGNvbnNvbGUubG9nKCdlbnRlcmluZyB0dXRvcmlhbCBtb2RlJyk7XG4gIHBsYXlWaWRlbygpO1xuICAkYm9keS5hZGRDbGFzcyh2aWRlb1BsYXlpbmdDbGFzcyk7XG4gIGNsZWFyVGltZW91dCh3aW5kb3cua2FuLmluYWN0aXZpdHlUaW1lb3V0KTtcbiAgJGJvZHkub2ZmKHRhcEV2ZW50LCB0aW1pbmcucHJldmVudEluYWN0aXZpdHlUaW1lb3V0KTtcbiAgJGJvZHkub24odGFwRXZlbnQsIGV4aXRUdXRvcmlhbE1vZGUpO1xuICBtYWluLnJlc2V0V2luZG93KCk7XG4gIHVpLnJlc2V0Q2FudmFzKCk7XG4gIHdpbmRvdy5rYW4ucmVmcmVzaENoZWNrSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgJC5nZXQoJy9oYXNoJylcbiAgICAgIC5kb25lKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICBpZiAocmVzICE9PSB3aW5kb3cua2FuLmhhc2gpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnZGlmZmVyZW50IGhhc2gsIHJlbG9hZGluZycpO1xuICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmZhaWwoZnVuY3Rpb24oZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdlcnJvciBnZXR0aW5nIGhhc2g6JywgZSk7XG4gICAgICB9KTtcbiAgfSwgdGltaW5nLnJlZnJlc2hDaGVja0RlbGF5KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4aXRUdXRvcmlhbE1vZGUoKSB7XG4gIGNvbnNvbGUubG9nKCdleGl0aW5nIHR1dG9yaWFsIG1vZGUnKTtcbiAgY2xlYXJJbnRlcnZhbCh3aW5kb3cua2FuLnJlZnJlc2hDaGVja0ludGVydmFsKTtcblxuICBwYXVzZVZpZGVvKCk7XG4gICRib2R5Lm9mZih0YXBFdmVudCwgZXhpdFR1dG9yaWFsTW9kZSk7XG4gICRib2R5Lm9uKHRhcEV2ZW50LCB0aW1pbmcucHJldmVudEluYWN0aXZpdHlUaW1lb3V0KTtcbiAgJGJvZHkucmVtb3ZlQ2xhc3ModmlkZW9QbGF5aW5nQ2xhc3MpO1xuICBjbGVhclRpbWVvdXQod2luZG93Lmthbi5pbmFjdGl2aXR5VGltZW91dCk7XG5cbiAgb3ZlcmxheXMub3Blbk92ZXJsYXkoJ2ludHJvJyk7XG5cbiAgd2luZG93Lmthbi5pbmFjdGl2aXR5VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIG92ZXJsYXlzLm9wZW5PdmVybGF5KCdjb250aW51ZScpO1xuICB9LCB0aW1pbmcuY29udGludWVJbmFjdGl2aXR5RGVsYXkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF1c2VWaWRlbygpIHtcbiAgJHZpZGVvLmdldCgwKS5wYXVzZSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGxheVZpZGVvKCkge1xuICAkdmlkZW8uZ2V0KDApLnBsYXkoKTtcbn1cbiJdfQ==\n"]}